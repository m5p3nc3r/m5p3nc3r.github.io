"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};function t(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function n(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const r=new WeakMap,o=e=>(...t)=>{const i=e(...t);return r.set(i,!0),i},s=e=>"function"==typeof e&&r.has(e),a=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,l=(e,t,i=null)=>{for(;t!==i;){const i=t.nextSibling;e.removeChild(t),t=i}},d={},c={},p=`{{lit-${String(Math.random()).slice(2)}}}`,h=`\x3c!--${p}--\x3e`,u=new RegExp(`${p}|${h}`);class m{constructor(e,t){this.parts=[],this.element=t;const i=[],n=[],r=document.createTreeWalker(t.content,133,null,!1);let o=0,s=-1,a=0;const{strings:l,values:{length:d}}=e;for(;a<d;){const e=r.nextNode();if(null!==e){if(s++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:i}=t;let n=0;for(let e=0;e<i;e++)f(t[e].name,"$lit$")&&n++;for(;n-- >0;){const t=l[a],i=y.exec(t)[2],n=i.toLowerCase()+"$lit$",r=e.getAttribute(n);e.removeAttribute(n);const o=r.split(u);this.parts.push({type:"attribute",index:s,name:i,strings:o}),a+=o.length-1}}"TEMPLATE"===e.tagName&&(n.push(e),r.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(p)>=0){const n=e.parentNode,r=t.split(u),o=r.length-1;for(let t=0;t<o;t++){let i,o=r[t];if(""===o)i=g();else{const e=y.exec(o);null!==e&&f(e[2],"$lit$")&&(o=o.slice(0,e.index)+e[1]+e[2].slice(0,-"$lit$".length)+e[3]),i=document.createTextNode(o)}n.insertBefore(i,e),this.parts.push({type:"node",index:++s})}""===r[o]?(n.insertBefore(g(),e),i.push(e)):e.data=r[o],a+=o}}else if(8===e.nodeType)if(e.data===p){const t=e.parentNode;null!==e.previousSibling&&s!==o||(s++,t.insertBefore(g(),e)),o=s,this.parts.push({type:"node",index:s}),null===e.nextSibling?e.data="":(i.push(e),s--),a++}else{let t=-1;for(;-1!==(t=e.data.indexOf(p,t+1));)this.parts.push({type:"node",index:-1}),a++}}else r.currentNode=n.pop()}for(const e of i)e.parentNode.removeChild(e)}}const f=(e,t)=>{const i=e.length-t.length;return i>=0&&e.slice(i)===t},_=e=>-1!==e.index,g=()=>document.createComment(""),y=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class b{constructor(e,t,i){this.__parts=[],this.template=e,this.processor=t,this.options=i}update(e){let t=0;for(const i of this.__parts)void 0!==i&&i.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=a?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],i=this.template.parts,n=document.createTreeWalker(e,133,null,!1);let r,o=0,s=0,l=n.nextNode();for(;o<i.length;)if(r=i[o],_(r)){for(;s<r.index;)s++,"TEMPLATE"===l.nodeName&&(t.push(l),n.currentNode=l.content),null===(l=n.nextNode())&&(n.currentNode=t.pop(),l=n.nextNode());if("node"===r.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(l.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(l,r.name,r.strings,this.options));o++}else this.__parts.push(void 0),o++;return a&&(document.adoptNode(e),customElements.upgrade(e)),e}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const v=` ${p} `;class x{constructor(e,t,i,n){this.strings=e,this.values=t,this.type=i,this.processor=n}getHTML(){const e=this.strings.length-1;let t="",i=!1;for(let n=0;n<e;n++){const e=this.strings[n],r=e.lastIndexOf("\x3c!--");i=(r>-1||i)&&-1===e.indexOf("--\x3e",r+1);const o=y.exec(e);t+=null===o?e+(i?v:h):e.substr(0,o.index)+o[1]+o[2]+"$lit$"+o[3]+p}return t+=this.strings[e],t}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const w=e=>null===e||!("object"==typeof e||"function"==typeof e),S=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class E{constructor(e,t,i){this.dirty=!0,this.element=e,this.name=t,this.strings=i,this.parts=[];for(let e=0;e<i.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new C(this)}_getValue(){const e=this.strings,t=e.length-1;let i="";for(let n=0;n<t;n++){i+=e[n];const t=this.parts[n];if(void 0!==t){const e=t.value;if(w(e)||!S(e))i+="string"==typeof e?e:String(e);else for(const t of e)i+="string"==typeof t?t:String(t)}}return i+=e[t],i}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class C{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===d||w(e)&&e===this.value||(this.value=e,s(e)||(this.committer.dirty=!0))}commit(){for(;s(this.value);){const e=this.value;this.value=d,e(this)}this.value!==d&&this.committer.commit()}}class T{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(g()),this.endNode=e.appendChild(g())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=g()),e.__insert(this.endNode=g())}insertAfterPart(e){e.__insert(this.startNode=g()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){for(;s(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=d,e(this)}const e=this.__pendingValue;e!==d&&(w(e)?e!==this.value&&this.__commitText(e):e instanceof x?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):S(e)?this.__commitIterable(e):e===c?(this.value=c,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,i="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=i:this.__commitNode(document.createTextNode(i)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof b&&this.value.template===t)this.value.update(e.values);else{const i=new b(t,e.processor,this.options),n=i._clone();i.update(e.values),this.__commitNode(n),this.value=i}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let i,n=0;for(const r of e)i=t[n],void 0===i&&(i=new T(this.options),t.push(i),0===n?i.appendIntoPart(this):i.insertAfterPart(t[n-1])),i.setValue(r),i.commit(),n++;n<t.length&&(t.length=n,this.clear(i&&i.endNode))}clear(e=this.startNode){l(this.startNode.parentNode,e.nextSibling,this.endNode)}}class A{constructor(e,t,i){if(this.value=void 0,this.__pendingValue=void 0,2!==i.length||""!==i[0]||""!==i[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=i}setValue(e){this.__pendingValue=e}commit(){for(;s(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=d,e(this)}if(this.__pendingValue===d)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=d}}class I extends E{constructor(e,t,i){super(e,t,i),this.single=2===i.length&&""===i[0]&&""===i[1]}_createPart(){return new P(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class P extends C{}let O=!1;try{const e={get capture(){return O=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}class N{constructor(e,t,i){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=i,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;s(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=d,e(this)}if(this.__pendingValue===d)return;const e=this.__pendingValue,t=this.value,i=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),n=null!=e&&(null==t||i);i&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),n&&(this.__options=k(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=d}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const k=e=>e&&(O?{capture:e.capture,passive:e.passive,once:e.once}:e.capture)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */;const R=new class{handleAttributeExpressions(e,t,i,n){const r=t[0];if("."===r){return new I(e,t.slice(1),i).parts}return"@"===r?[new N(e,t.slice(1),n.eventContext)]:"?"===r?[new A(e,t.slice(1),i)]:new E(e,t,i).parts}handleTextExpression(e){return new T(e)}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function F(e){let t=M.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},M.set(e.type,t));let i=t.stringsArray.get(e.strings);if(void 0!==i)return i;const n=e.strings.join(p);return i=t.keyString.get(n),void 0===i&&(i=new m(e,e.getTemplateElement()),t.keyString.set(n,i)),t.stringsArray.set(e.strings,i),i}const M=new Map,D=new WeakMap;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.1.2");const L=(e,...t)=>new x(e,t,"html",R)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */;function z(e,t){const{element:{content:i},parts:n}=e,r=document.createTreeWalker(i,133,null,!1);let o=B(n),s=n[o],a=-1,l=0;const d=[];let c=null;for(;r.nextNode();){a++;const e=r.currentNode;for(e.previousSibling===c&&(c=null),t.has(e)&&(d.push(e),null===c&&(c=e)),null!==c&&l++;void 0!==s&&s.index===a;)s.index=null!==c?-1:s.index-l,o=B(n,o),s=n[o]}d.forEach(e=>e.parentNode.removeChild(e))}const H=e=>{let t=11===e.nodeType?0:1;const i=document.createTreeWalker(e,133,null,!1);for(;i.nextNode();)t++;return t},B=(e,t=-1)=>{for(let i=t+1;i<e.length;i++){const t=e[i];if(_(t))return i}return-1};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const j=(e,t)=>`${e}--${t}`;let V=!0;void 0===window.ShadyCSS?V=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),V=!1);const $=e=>t=>{const i=j(t.type,e);let n=M.get(i);void 0===n&&(n={stringsArray:new WeakMap,keyString:new Map},M.set(i,n));let r=n.stringsArray.get(t.strings);if(void 0!==r)return r;const o=t.strings.join(p);if(r=n.keyString.get(o),void 0===r){const i=t.getTemplateElement();V&&window.ShadyCSS.prepareTemplateDom(i,e),r=new m(t,i),n.keyString.set(o,r)}return n.stringsArray.set(t.strings,r),r},U=["html","svg"],q=new Set,G=(e,t,i)=>{q.add(e);const n=i?i.element:document.createElement("template"),r=t.querySelectorAll("style"),{length:o}=r;if(0===o)return void window.ShadyCSS.prepareTemplateStyles(n,e);const s=document.createElement("style");for(let e=0;e<o;e++){const t=r[e];t.parentNode.removeChild(t),s.textContent+=t.textContent}(e=>{U.forEach(t=>{const i=M.get(j(t,e));void 0!==i&&i.keyString.forEach(e=>{const{element:{content:t}}=e,i=new Set;Array.from(t.querySelectorAll("style")).forEach(e=>{i.add(e)}),z(e,i)})})})(e);const a=n.content;i?function(e,t,i=null){const{element:{content:n},parts:r}=e;if(null==i)return void n.appendChild(t);const o=document.createTreeWalker(n,133,null,!1);let s=B(r),a=0,l=-1;for(;o.nextNode();){for(l++,o.currentNode===i&&(a=H(t),i.parentNode.insertBefore(t,i));-1!==s&&r[s].index===l;){if(a>0){for(;-1!==s;)r[s].index+=a,s=B(r,s);return}s=B(r,s)}}}(i,s,a.firstChild):a.insertBefore(s,a.firstChild),window.ShadyCSS.prepareTemplateStyles(n,e);const l=a.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==l)t.insertBefore(l.cloneNode(!0),t.firstChild);else if(i){a.insertBefore(s,a.firstChild);const e=new Set;e.add(s),z(i,e)}};window.JSCompiler_renameProperty=(e,t)=>e;const X={toAttribute(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}},Y=(e,t)=>t!==e&&(t==t||e==e),J={attribute:!0,type:String,converter:X,reflect:!1,hasChanged:Y},W=Promise.resolve(!0);class K extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=W,this._hasConnectedResolver=void 0,this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();const e=[];return this._classProperties.forEach((t,i)=>{const n=this._attributeNameForProperty(i,t);void 0!==n&&(this._attributeToPropertyMap.set(n,i),e.push(n))}),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach((e,t)=>this._classProperties.set(t,e))}}static createProperty(e,t=J){if(this._ensureClassProperties(),this._classProperties.set(e,t),t.noAccessor||this.prototype.hasOwnProperty(e))return;const i="symbol"==typeof e?Symbol():`__${e}`;Object.defineProperty(this.prototype,e,{get(){return this[i]},set(t){const n=this[e];this[i]=t,this._requestUpdate(e,n)},configurable:!0,enumerable:!0})}static finalize(){const e=Object.getPrototypeOf(this);if(e.hasOwnProperty("finalized")||e.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const e=this.properties,t=[...Object.getOwnPropertyNames(e),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]];for(const i of t)this.createProperty(i,e[i])}}static _attributeNameForProperty(e,t){const i=t.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof e?e.toLowerCase():void 0}static _valueHasChanged(e,t,i=Y){return i(e,t)}static _propertyValueFromAttribute(e,t){const i=t.type,n=t.converter||X,r="function"==typeof n?n:n.fromAttribute;return r?r(e,i):e}static _propertyValueToAttribute(e,t){if(void 0===t.reflect)return;const i=t.type,n=t.converter;return(n&&n.toAttribute||X.toAttribute)(e,i)}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((e,t)=>{if(this.hasOwnProperty(t)){const e=this[t];delete this[t],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(t,e)}})}_applyInstanceProperties(){this._instanceProperties.forEach((e,t)=>this[t]=e),this._instanceProperties=void 0}connectedCallback(){this._updateState=32|this._updateState,this._hasConnectedResolver&&(this._hasConnectedResolver(),this._hasConnectedResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,t,i){t!==i&&this._attributeToProperty(e,i)}_propertyToAttribute(e,t,i=J){const n=this.constructor,r=n._attributeNameForProperty(e,i);if(void 0!==r){const e=n._propertyValueToAttribute(t,i);if(void 0===e)return;this._updateState=8|this._updateState,null==e?this.removeAttribute(r):this.setAttribute(r,e),this._updateState=-9&this._updateState}}_attributeToProperty(e,t){if(8&this._updateState)return;const i=this.constructor,n=i._attributeToPropertyMap.get(e);if(void 0!==n){const e=i._classProperties.get(n)||J;this._updateState=16|this._updateState,this[n]=i._propertyValueFromAttribute(t,e),this._updateState=-17&this._updateState}}_requestUpdate(e,t){let i=!0;if(void 0!==e){const n=this.constructor,r=n._classProperties.get(e)||J;n._valueHasChanged(this[e],t,r.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==r.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,r))):i=!1}!this._hasRequestedUpdate&&i&&this._enqueueUpdate()}requestUpdate(e,t){return this._requestUpdate(e,t),this.updateComplete}async _enqueueUpdate(){let e,t;this._updateState=4|this._updateState;const i=this._updatePromise;this._updatePromise=new Promise((i,n)=>{e=i,t=n});try{await i}catch(e){}this._hasConnected||await new Promise(e=>this._hasConnectedResolver=e);try{const e=this.performUpdate();null!=e&&await e}catch(e){t(e)}e(!this._hasRequestedUpdate)}get _hasConnected(){return 32&this._updateState}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();let e=!1;const t=this._changedProperties;try{e=this.shouldUpdate(t),e&&this.update(t)}catch(t){throw e=!1,t}finally{this._markUpdated()}e&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(t)),this.updated(t))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((e,t)=>this._propertyToAttribute(t,this[t],e)),this._reflectingProperties=void 0)}updated(e){}firstUpdated(e){}}K.finalized=!0;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const Z=e=>t=>"function"==typeof t?((e,t)=>(window.customElements.define(e,t),t))(e,t):((e,t)=>{const{kind:i,elements:n}=t;return{kind:i,elements:n,finisher(t){window.customElements.define(e,t)}}})(e,t),Q=(e,t)=>"method"!==t.kind||!t.descriptor||"value"in t.descriptor?{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(i){i.createProperty(t.key,e)}}:Object.assign({},t,{finisher(i){i.createProperty(t.key,e)}});function ee(e){return(t,i)=>void 0!==i?((e,t,i)=>{t.constructor.createProperty(i,e)})(e,t,i):Q(e,t)}function te(e){return(t,i)=>{const n={get(){return this.renderRoot.querySelector(e)},enumerable:!0,configurable:!0};return void 0!==i?ie(n,t,i):ne(n,t)}}const ie=(e,t,i)=>{Object.defineProperty(t,i,e)},ne=(e,t)=>({kind:"method",placement:"prototype",key:t.key,descriptor:e})
/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/,re="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,oe=Symbol();class se{constructor(e,t){if(t!==oe)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return void 0===this._styleSheet&&(re?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const ae=(e,...t)=>{const i=t.reduce((t,i,n)=>t+(e=>{if(e instanceof se)return e.cssText;if("number"==typeof e)return e;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${e}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(i)+e[n+1],e[0]);return new se(i,oe)};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litElementVersions||(window.litElementVersions=[])).push("2.2.1");const le=e=>e.flat?e.flat(1/0):function e(t,i=[]){for(let n=0,r=t.length;n<r;n++){const r=t[n];Array.isArray(r)?e(r,i):i.push(r)}return i}(e);class de extends K{static finalize(){super.finalize.call(this),this._styles=this.hasOwnProperty(JSCompiler_renameProperty("styles",this))?this._getUniqueStyles():this._styles||[]}static _getUniqueStyles(){const e=this.styles,t=[];if(Array.isArray(e)){le(e).reduceRight((e,t)=>(e.add(t),e),new Set).forEach(e=>t.unshift(e))}else e&&t.push(e);return t}initialize(){super.initialize(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?re?this.renderRoot.adoptedStyleSheets=e.map(e=>e.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(e=>e.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(e){super.update(e);const t=this.render();t instanceof x&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(e=>{const t=document.createElement("style");t.textContent=e.cssText,this.renderRoot.appendChild(t)}))}render(){}}de.finalized=!0,de.render=(e,t,i)=>{if(!i||"object"!=typeof i||!i.scopeName)throw new Error("The `scopeName` option is required.");const n=i.scopeName,r=D.has(t),o=V&&11===t.nodeType&&!!t.host,s=o&&!q.has(n),a=s?document.createDocumentFragment():t;if(((e,t,i)=>{let n=D.get(t);void 0===n&&(l(t,t.firstChild),D.set(t,n=new T(Object.assign({templateFactory:F},i))),n.appendInto(t)),n.setValue(e),n.commit()})(e,a,Object.assign({templateFactory:$(n)},i)),s){const e=D.get(a);D.delete(a);const i=e.value instanceof b?e.value.template:void 0;G(n,a,i),l(t,t.firstChild),t.appendChild(a),D.set(t,e)}!r&&o&&window.ShadyCSS.styleElement(t.host)};
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var ce={FIXED_CLASS:"mdc-top-app-bar--fixed",FIXED_SCROLLED_CLASS:"mdc-top-app-bar--fixed-scrolled",SHORT_CLASS:"mdc-top-app-bar--short",SHORT_COLLAPSED_CLASS:"mdc-top-app-bar--short-collapsed",SHORT_HAS_ACTION_ITEM_CLASS:"mdc-top-app-bar--short-has-action-item"},pe={DEBOUNCE_THROTTLE_RESIZE_TIME_MS:100,MAX_TOP_APP_BAR_HEIGHT:128},he={ACTION_ITEM_SELECTOR:".mdc-top-app-bar__action-item",NAVIGATION_EVENT:"MDCTopAppBar:nav",NAVIGATION_ICON_SELECTOR:".mdc-top-app-bar__navigation-icon",ROOT_SELECTOR:".mdc-top-app-bar",TITLE_SELECTOR:".mdc-top-app-bar__title"},ue=function(){function e(e){void 0===e&&(e={}),this.adapter_=e}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}(),me=function(e){function n(t){return e.call(this,i({},n.defaultAdapter,t))||this}return t(n,e),Object.defineProperty(n,"strings",{get:function(){return he},enumerable:!0,configurable:!0}),Object.defineProperty(n,"cssClasses",{get:function(){return ce},enumerable:!0,configurable:!0}),Object.defineProperty(n,"numbers",{get:function(){return pe},enumerable:!0,configurable:!0}),Object.defineProperty(n,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},getTopAppBarHeight:function(){return 0},notifyNavigationIconClicked:function(){},getViewportScrollY:function(){return 0},getTotalActionItems:function(){return 0}}},enumerable:!0,configurable:!0}),n.prototype.handleTargetScroll=function(){},n.prototype.handleWindowResize=function(){},n.prototype.handleNavigationClick=function(){this.adapter_.notifyNavigationIconClicked()},n}(ue),fe=function(e){function i(t){var i=e.call(this,t)||this;return i.wasDocked_=!0,i.isDockedShowing_=!0,i.currentAppBarOffsetTop_=0,i.isCurrentlyBeingResized_=!1,i.resizeThrottleId_=0,i.resizeDebounceId_=0,i.lastScrollPosition_=i.adapter_.getViewportScrollY(),i.topAppBarHeight_=i.adapter_.getTopAppBarHeight(),i}return t(i,e),i.prototype.destroy=function(){e.prototype.destroy.call(this),this.adapter_.setStyle("top","")},i.prototype.handleTargetScroll=function(){var e=Math.max(this.adapter_.getViewportScrollY(),0),t=e-this.lastScrollPosition_;this.lastScrollPosition_=e,this.isCurrentlyBeingResized_||(this.currentAppBarOffsetTop_-=t,this.currentAppBarOffsetTop_>0?this.currentAppBarOffsetTop_=0:Math.abs(this.currentAppBarOffsetTop_)>this.topAppBarHeight_&&(this.currentAppBarOffsetTop_=-this.topAppBarHeight_),this.moveTopAppBar_())},i.prototype.handleWindowResize=function(){var e=this;this.resizeThrottleId_||(this.resizeThrottleId_=setTimeout((function(){e.resizeThrottleId_=0,e.throttledResizeHandler_()}),pe.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)),this.isCurrentlyBeingResized_=!0,this.resizeDebounceId_&&clearTimeout(this.resizeDebounceId_),this.resizeDebounceId_=setTimeout((function(){e.handleTargetScroll(),e.isCurrentlyBeingResized_=!1,e.resizeDebounceId_=0}),pe.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)},i.prototype.checkForUpdate_=function(){var e=-this.topAppBarHeight_,t=this.currentAppBarOffsetTop_<0,i=this.currentAppBarOffsetTop_>e,n=t&&i;if(n)this.wasDocked_=!1;else{if(!this.wasDocked_)return this.wasDocked_=!0,!0;if(this.isDockedShowing_!==i)return this.isDockedShowing_=i,!0}return n},i.prototype.moveTopAppBar_=function(){if(this.checkForUpdate_()){var e=this.currentAppBarOffsetTop_;Math.abs(e)>=this.topAppBarHeight_&&(e=-pe.MAX_TOP_APP_BAR_HEIGHT),this.adapter_.setStyle("top",e+"px")}},i.prototype.throttledResizeHandler_=function(){var e=this.adapter_.getTopAppBarHeight();this.topAppBarHeight_!==e&&(this.wasDocked_=!1,this.currentAppBarOffsetTop_-=this.topAppBarHeight_-e,this.topAppBarHeight_=e),this.handleTargetScroll()},i}(me);const _e=e=>(t,i)=>{if(t.constructor._observers){if(!t.constructor.hasOwnProperty("_observers")){const e=t.constructor._observers;t.constructor._observers=new Map,e.forEach((e,i)=>t.constructor._observers.set(i,e))}}else{t.constructor._observers=new Map;const e=t.updated;t.updated=function(t){e.call(this,t),t.forEach((e,t)=>{const i=this.constructor._observers.get(t);void 0!==i&&i.call(this,this[t],e)})}}t.constructor._observers.set(i,e)}
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */;function ge(e,t){return(e.matches||e.webkitMatchesSelector||e.msMatchesSelector).call(e,t)}
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/const ye=e=>e.nodeType===Node.ELEMENT_NODE;function be(e){return{addClass:t=>{e.classList.add(t)},removeClass:t=>{e.classList.remove(t)},hasClass:t=>e.classList.contains(t)}}let ve=!1;const xe=()=>{},we={get passive(){return ve=!0,!1}};document.addEventListener("x",xe,we),document.removeEventListener("x",xe);const Se=ve,Ee=(e=window.document)=>{let t=e.activeElement;const i=[];if(!t)return i;for(;t&&(i.push(t),t.shadowRoot);)t=t.shadowRoot.activeElement;return i},Ce=e=>{const t=Ee();if(!t.length)return!1;const i=t[t.length-1],n=new Event("check-if-focused",{bubbles:!0,composed:!0});let r=[];const o=e=>{r=e.composedPath()};return document.body.addEventListener("check-if-focused",o),i.dispatchEvent(n),document.body.removeEventListener("check-if-focused",o),-1!==r.indexOf(e)};
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
class Te extends de{createFoundation(){void 0!==this.mdcFoundation&&this.mdcFoundation.destroy(),this.mdcFoundation=new this.mdcFoundationClass(this.createAdapter()),this.mdcFoundation.init()}firstUpdated(){this.createFoundation()}}
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Ae=new WeakMap,Ie=o(e=>t=>{if(!(t instanceof C)||t instanceof P||"class"!==t.committer.name||t.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");const{committer:i}=t,{element:n}=i;Ae.has(t)||(n.className=i.strings.join(" "));const{classList:r}=n,o=Ae.get(t);for(const t in o)t in e||r.remove(t);for(const t in e){const i=e[t];if(!o||i!==o[t]){r[i?"add":"remove"](t)}}Ae.set(t,e)}),Pe=Se?{passive:!0}:void 0;class Oe extends Te{constructor(){super(...arguments),this.mdcFoundationClass=me,this.centerTitle=!1,this.handleTargetScroll=()=>{this.mdcFoundation.handleTargetScroll()},this.handleNavigationClick=()=>{this.mdcFoundation.handleNavigationClick()}}get scrollTarget(){return this._scrollTarget||window}set scrollTarget(e){const t=this.scrollTarget;this._scrollTarget=e,this.updateRootPosition(),this.requestUpdate("scrollTarget",t)}updateRootPosition(){if(this.mdcRoot){const e=this.scrollTarget===window;this.mdcRoot.style.position=e?"":"absolute"}}render(){let e=L`<span class="mdc-top-app-bar__title"><slot name="title"></slot></span>`;return this.centerTitle&&(e=L`<section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-center">${e}</section>`),L`
      <header class="mdc-top-app-bar ${Ie(this.barClasses())}">
      <div class="mdc-top-app-bar__row">
        <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start" id="navigation">
          <slot name="navigationIcon"
            @click=${this.handleNavigationClick}></slot>
          ${this.centerTitle?null:e}
        </section>
        ${this.centerTitle?e:null}
        <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" id="actions" role="toolbar">
          <slot name="actionItems"></slot>
        </section>
      </div>
    </header>
    <div class="${Ie(this.contentClasses())}">
      <slot></slot>
    </div>
    `}createAdapter(){return Object.assign(Object.assign({},be(this.mdcRoot)),{setStyle:(e,t)=>this.mdcRoot.style.setProperty(e,t),getTopAppBarHeight:()=>this.mdcRoot.clientHeight,notifyNavigationIconClicked:()=>{this.dispatchEvent(new Event(he.NAVIGATION_EVENT,{bubbles:!0,cancelable:!0}))},getViewportScrollY:()=>this.scrollTarget instanceof Window?this.scrollTarget.pageYOffset:this.scrollTarget.scrollTop,getTotalActionItems:()=>this._actionItemsSlot.assignedNodes({flatten:!0}).length})}registerListeners(){this.scrollTarget.addEventListener("scroll",this.handleTargetScroll,Pe)}unregisterListeners(){this.scrollTarget.removeEventListener("scroll",this.handleTargetScroll)}firstUpdated(){super.firstUpdated(),this.updateRootPosition(),this.registerListeners()}disconnectedCallback(){super.disconnectedCallback(),this.unregisterListeners()}}n([te(".mdc-top-app-bar")],Oe.prototype,"mdcRoot",void 0),n([te('slot[name="actionItems"]')],Oe.prototype,"_actionItemsSlot",void 0),n([ee({type:Boolean})],Oe.prototype,"centerTitle",void 0),n([ee()],Oe.prototype,"scrollTarget",null);class Ne extends Oe{constructor(){super(...arguments),this.mdcFoundationClass=fe,this.prominent=!1,this.dense=!1,this.handleResize=()=>{this.mdcFoundation.handleWindowResize()}}barClasses(){return{"mdc-top-app-bar--dense":this.dense,"mdc-top-app-bar--prominent":this.prominent,"center-title":this.centerTitle}}contentClasses(){return{"mdc-top-app-bar--fixed-adjust":!this.dense&&!this.prominent,"mdc-top-app-bar--dense-fixed-adjust":this.dense&&!this.prominent,"mdc-top-app-bar--prominent-fixed-adjust":!this.dense&&this.prominent,"mdc-top-app-bar--dense-prominent-fixed-adjust":this.dense&&this.prominent}}registerListeners(){super.registerListeners(),window.addEventListener("resize",this.handleResize,Pe)}unregisterListeners(){super.unregisterListeners(),window.removeEventListener("resize",this.handleResize)}}n([ee({type:Boolean,reflect:!0})],Ne.prototype,"prominent",void 0),n([ee({type:Boolean,reflect:!0})],Ne.prototype,"dense",void 0);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const ke=ae`.mdc-top-app-bar{background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee);color:#fff;display:flex;position:fixed;flex-direction:column;justify-content:space-between;box-sizing:border-box;width:100%;z-index:4}.mdc-top-app-bar .mdc-top-app-bar__action-item,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon{color:#fff;color:var(--mdc-theme-on-primary, #fff)}.mdc-top-app-bar .mdc-top-app-bar__action-item::before,.mdc-top-app-bar .mdc-top-app-bar__action-item::after,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon::after{background-color:#fff;background-color:var(--mdc-theme-on-primary, #fff)}.mdc-top-app-bar .mdc-top-app-bar__action-item:hover::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:hover::before{opacity:.08}.mdc-top-app-bar .mdc-top-app-bar__action-item.mdc-ripple-upgraded--background-focused::before,.mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded):focus::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon.mdc-ripple-upgraded--background-focused::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:.24}.mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded)::after,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded):active::after,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:.24}.mdc-top-app-bar .mdc-top-app-bar__action-item.mdc-ripple-upgraded,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.24}.mdc-top-app-bar__row{display:flex;position:relative;box-sizing:border-box;width:100%;height:64px}.mdc-top-app-bar__section{display:inline-flex;flex:1 1 auto;align-items:center;min-width:0;padding:8px 12px;z-index:1}.mdc-top-app-bar__section--align-start{justify-content:flex-start;order:-1}.mdc-top-app-bar__section--align-end{justify-content:flex-end;order:1}.mdc-top-app-bar__title{font-family:Roboto, sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:1.25rem;line-height:2rem;font-weight:500;letter-spacing:.0125em;text-decoration:inherit;text-transform:inherit;padding-left:20px;padding-right:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;z-index:1}[dir=rtl] .mdc-top-app-bar__title,.mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:20px}.mdc-top-app-bar--short-collapsed{border-radius:0 0 24px 0}[dir=rtl] .mdc-top-app-bar--short-collapsed,.mdc-top-app-bar--short-collapsed[dir=rtl]{border-radius:0 0 0 24px}.mdc-top-app-bar--short{top:0;right:auto;left:0;width:100%;transition:width 250ms cubic-bezier(0.4, 0, 0.2, 1)}[dir=rtl] .mdc-top-app-bar--short,.mdc-top-app-bar--short[dir=rtl]{right:0;left:auto}.mdc-top-app-bar--short .mdc-top-app-bar__row{height:56px}.mdc-top-app-bar--short .mdc-top-app-bar__section{padding:4px}.mdc-top-app-bar--short .mdc-top-app-bar__title{transition:opacity 200ms cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.mdc-top-app-bar--short-collapsed{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0,0,0,.12);width:56px;transition:width 300ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__title{display:none}.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__action-item{transition:padding 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item{width:112px}.mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end{padding-left:0;padding-right:12px}[dir=rtl] .mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end,.mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end[dir=rtl]{padding-left:12px;padding-right:0}.mdc-top-app-bar--dense .mdc-top-app-bar__row{height:48px}.mdc-top-app-bar--dense .mdc-top-app-bar__section{padding:0 4px}.mdc-top-app-bar--dense .mdc-top-app-bar__title{padding-left:12px;padding-right:0}[dir=rtl] .mdc-top-app-bar--dense .mdc-top-app-bar__title,.mdc-top-app-bar--dense .mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:12px}.mdc-top-app-bar--prominent .mdc-top-app-bar__row{height:128px}.mdc-top-app-bar--prominent .mdc-top-app-bar__title{align-self:flex-end;padding-bottom:2px}.mdc-top-app-bar--prominent .mdc-top-app-bar__action-item,.mdc-top-app-bar--prominent .mdc-top-app-bar__navigation-icon{align-self:flex-start}.mdc-top-app-bar--fixed{transition:box-shadow 200ms linear}.mdc-top-app-bar--fixed-scrolled{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0,0,0,.12);transition:box-shadow 200ms linear}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__row{height:96px}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__section{padding:0 12px}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title{padding-left:20px;padding-right:0;padding-bottom:9px}[dir=rtl] .mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title,.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:20px}.mdc-top-app-bar--fixed-adjust{padding-top:64px}.mdc-top-app-bar--dense-fixed-adjust{padding-top:48px}.mdc-top-app-bar--short-fixed-adjust{padding-top:56px}.mdc-top-app-bar--prominent-fixed-adjust{padding-top:128px}.mdc-top-app-bar--dense-prominent-fixed-adjust{padding-top:96px}@media(max-width: 599px){.mdc-top-app-bar__row{height:56px}.mdc-top-app-bar__section{padding:4px}.mdc-top-app-bar--short{transition:width 200ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed{transition:width 250ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end{padding-left:0;padding-right:12px}[dir=rtl] .mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end,.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end[dir=rtl]{padding-left:12px;padding-right:0}.mdc-top-app-bar--prominent .mdc-top-app-bar__title{padding-bottom:6px}.mdc-top-app-bar--fixed-adjust{padding-top:56px}}:host{display:block}.mdc-top-app-bar{color:#fff;color:var(--mdc-theme-on-primary, #fff)}.mdc-top-app-bar--prominent #navigation ::slotted(*),.mdc-top-app-bar--prominent #actions ::slotted(*){align-self:flex-start}#navigation ::slotted(*),#actions ::slotted(*){--mdc-icon-button-ripple-opacity: 0.24}.mdc-top-app-bar--short-collapsed #actions ::slotted(*){transition:padding 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar__section--align-center{justify-content:center}.mdc-top-app-bar__section--align-center .mdc-top-app-bar__title{padding-left:0;padding-right:0}.center-title .mdc-top-app-bar__section--align-start,.center-title .mdc-top-app-bar__section--align-end{flex-basis:0}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__section--align-center .mdc-top-app-bar__title{padding-left:0;padding-right:0}.mdc-top-app-bar--fixed-scrolled{box-shadow:var(--mdc-top-app-bar-fixed-box-shadow, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}`;let Re=class extends Ne{};Re.styles=ke,Re=n([Z("mwc-top-app-bar")],Re);
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var Fe=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.wasScrolled_=!1,t}return t(i,e),i.prototype.handleTargetScroll=function(){this.adapter_.getViewportScrollY()<=0?this.wasScrolled_&&(this.adapter_.removeClass(ce.FIXED_SCROLLED_CLASS),this.wasScrolled_=!1):this.wasScrolled_||(this.adapter_.addClass(ce.FIXED_SCROLLED_CLASS),this.wasScrolled_=!0)},i}(fe);
/**
@license
Copyright 2019 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/class Me extends Ne{constructor(){super(...arguments),this.mdcFoundationClass=Fe}barClasses(){return Object.assign(Object.assign({},super.barClasses()),{"mdc-top-app-bar--fixed":!0})}registerListeners(){this.scrollTarget.addEventListener("scroll",this.handleTargetScroll,Pe)}unregisterListeners(){this.scrollTarget.removeEventListener("scroll",this.handleTargetScroll)}}let De=class extends Me{};
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
function Le(e){return void 0===e&&(e=window),!!function(e){void 0===e&&(e=window);var t=!1;try{var i={get passive(){return t=!0,!1}},n=function(){};e.document.addEventListener("test",n,i),e.document.removeEventListener("test",n,i)}catch(e){t=!1}return t}
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(e)&&{passive:!0}}De.styles=ke,De=n([Z("mwc-top-app-bar-fixed")],De);var ze,He={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},Be={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},je={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300};
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var Ve=["touchstart","pointerdown","mousedown","keydown"],$e=["touchend","pointerup","mouseup","contextmenu"],Ue=[],qe=function(e){function n(t){var r=e.call(this,i({},n.defaultAdapter,t))||this;return r.activationAnimationHasEnded_=!1,r.activationTimer_=0,r.fgDeactivationRemovalTimer_=0,r.fgScale_="0",r.frame_={width:0,height:0},r.initialSize_=0,r.layoutFrame_=0,r.maxRadius_=0,r.unboundedCoords_={left:0,top:0},r.activationState_=r.defaultActivationState_(),r.activationTimerCallback_=function(){r.activationAnimationHasEnded_=!0,r.runDeactivationUXLogicIfReady_()},r.activateHandler_=function(e){return r.activate_(e)},r.deactivateHandler_=function(){return r.deactivate_()},r.focusHandler_=function(){return r.handleFocus()},r.blurHandler_=function(){return r.handleBlur()},r.resizeHandler_=function(){return r.layout()},r}return t(n,e),Object.defineProperty(n,"cssClasses",{get:function(){return He},enumerable:!0,configurable:!0}),Object.defineProperty(n,"strings",{get:function(){return Be},enumerable:!0,configurable:!0}),Object.defineProperty(n,"numbers",{get:function(){return je},enumerable:!0,configurable:!0}),Object.defineProperty(n,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!0,configurable:!0}),n.prototype.init=function(){var e=this,t=this.supportsPressRipple_();if(this.registerRootHandlers_(t),t){var i=n.cssClasses,r=i.ROOT,o=i.UNBOUNDED;requestAnimationFrame((function(){e.adapter_.addClass(r),e.adapter_.isUnbounded()&&(e.adapter_.addClass(o),e.layoutInternal_())}))}},n.prototype.destroy=function(){var e=this;if(this.supportsPressRipple_()){this.activationTimer_&&(clearTimeout(this.activationTimer_),this.activationTimer_=0,this.adapter_.removeClass(n.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer_&&(clearTimeout(this.fgDeactivationRemovalTimer_),this.fgDeactivationRemovalTimer_=0,this.adapter_.removeClass(n.cssClasses.FG_DEACTIVATION));var t=n.cssClasses,i=t.ROOT,r=t.UNBOUNDED;requestAnimationFrame((function(){e.adapter_.removeClass(i),e.adapter_.removeClass(r),e.removeCssVars_()}))}this.deregisterRootHandlers_(),this.deregisterDeactivationHandlers_()},n.prototype.activate=function(e){this.activate_(e)},n.prototype.deactivate=function(){this.deactivate_()},n.prototype.layout=function(){var e=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame((function(){e.layoutInternal_(),e.layoutFrame_=0}))},n.prototype.setUnbounded=function(e){var t=n.cssClasses.UNBOUNDED;e?this.adapter_.addClass(t):this.adapter_.removeClass(t)},n.prototype.handleFocus=function(){var e=this;requestAnimationFrame((function(){return e.adapter_.addClass(n.cssClasses.BG_FOCUSED)}))},n.prototype.handleBlur=function(){var e=this;requestAnimationFrame((function(){return e.adapter_.removeClass(n.cssClasses.BG_FOCUSED)}))},n.prototype.supportsPressRipple_=function(){return this.adapter_.browserSupportsCssVars()},n.prototype.defaultActivationState_=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},n.prototype.registerRootHandlers_=function(e){var t=this;e&&(Ve.forEach((function(e){t.adapter_.registerInteractionHandler(e,t.activateHandler_)})),this.adapter_.isUnbounded()&&this.adapter_.registerResizeHandler(this.resizeHandler_)),this.adapter_.registerInteractionHandler("focus",this.focusHandler_),this.adapter_.registerInteractionHandler("blur",this.blurHandler_)},n.prototype.registerDeactivationHandlers_=function(e){var t=this;"keydown"===e.type?this.adapter_.registerInteractionHandler("keyup",this.deactivateHandler_):$e.forEach((function(e){t.adapter_.registerDocumentInteractionHandler(e,t.deactivateHandler_)}))},n.prototype.deregisterRootHandlers_=function(){var e=this;Ve.forEach((function(t){e.adapter_.deregisterInteractionHandler(t,e.activateHandler_)})),this.adapter_.deregisterInteractionHandler("focus",this.focusHandler_),this.adapter_.deregisterInteractionHandler("blur",this.blurHandler_),this.adapter_.isUnbounded()&&this.adapter_.deregisterResizeHandler(this.resizeHandler_)},n.prototype.deregisterDeactivationHandlers_=function(){var e=this;this.adapter_.deregisterInteractionHandler("keyup",this.deactivateHandler_),$e.forEach((function(t){e.adapter_.deregisterDocumentInteractionHandler(t,e.deactivateHandler_)}))},n.prototype.removeCssVars_=function(){var e=this,t=n.strings;Object.keys(t).forEach((function(i){0===i.indexOf("VAR_")&&e.adapter_.updateCssVariable(t[i],null)}))},n.prototype.activate_=function(e){var t=this;if(!this.adapter_.isSurfaceDisabled()){var i=this.activationState_;if(!i.isActivated){var n=this.previousActivationEvent_;if(!(n&&void 0!==e&&n.type!==e.type))i.isActivated=!0,i.isProgrammatic=void 0===e,i.activationEvent=e,i.wasActivatedByPointer=!i.isProgrammatic&&(void 0!==e&&("mousedown"===e.type||"touchstart"===e.type||"pointerdown"===e.type)),void 0!==e&&Ue.length>0&&Ue.some((function(e){return t.adapter_.containsEventTarget(e)}))?this.resetActivationState_():(void 0!==e&&(Ue.push(e.target),this.registerDeactivationHandlers_(e)),i.wasElementMadeActive=this.checkElementMadeActive_(e),i.wasElementMadeActive&&this.animateActivation_(),requestAnimationFrame((function(){Ue=[],i.wasElementMadeActive||void 0===e||" "!==e.key&&32!==e.keyCode||(i.wasElementMadeActive=t.checkElementMadeActive_(e),i.wasElementMadeActive&&t.animateActivation_()),i.wasElementMadeActive||(t.activationState_=t.defaultActivationState_())})))}}},n.prototype.checkElementMadeActive_=function(e){return void 0===e||"keydown"!==e.type||this.adapter_.isSurfaceActive()},n.prototype.animateActivation_=function(){var e=this,t=n.strings,i=t.VAR_FG_TRANSLATE_START,r=t.VAR_FG_TRANSLATE_END,o=n.cssClasses,s=o.FG_DEACTIVATION,a=o.FG_ACTIVATION,l=n.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal_();var d="",c="";if(!this.adapter_.isUnbounded()){var p=this.getFgTranslationCoordinates_(),h=p.startPoint,u=p.endPoint;d=h.x+"px, "+h.y+"px",c=u.x+"px, "+u.y+"px"}this.adapter_.updateCssVariable(i,d),this.adapter_.updateCssVariable(r,c),clearTimeout(this.activationTimer_),clearTimeout(this.fgDeactivationRemovalTimer_),this.rmBoundedActivationClasses_(),this.adapter_.removeClass(s),this.adapter_.computeBoundingRect(),this.adapter_.addClass(a),this.activationTimer_=setTimeout((function(){return e.activationTimerCallback_()}),l)},n.prototype.getFgTranslationCoordinates_=function(){var e,t=this.activationState_,i=t.activationEvent;return{startPoint:e={x:(e=t.wasActivatedByPointer?function(e,t,i){if(!e)return{x:0,y:0};var n,r,o=t.x,s=t.y,a=o+i.left,l=s+i.top;if("touchstart"===e.type){var d=e;n=d.changedTouches[0].pageX-a,r=d.changedTouches[0].pageY-l}else{var c=e;n=c.pageX-a,r=c.pageY-l}return{x:n,y:r}}(i,this.adapter_.getWindowPageOffset(),this.adapter_.computeBoundingRect()):{x:this.frame_.width/2,y:this.frame_.height/2}).x-this.initialSize_/2,y:e.y-this.initialSize_/2},endPoint:{x:this.frame_.width/2-this.initialSize_/2,y:this.frame_.height/2-this.initialSize_/2}}},n.prototype.runDeactivationUXLogicIfReady_=function(){var e=this,t=n.cssClasses.FG_DEACTIVATION,i=this.activationState_,r=i.hasDeactivationUXRun,o=i.isActivated;(r||!o)&&this.activationAnimationHasEnded_&&(this.rmBoundedActivationClasses_(),this.adapter_.addClass(t),this.fgDeactivationRemovalTimer_=setTimeout((function(){e.adapter_.removeClass(t)}),je.FG_DEACTIVATION_MS))},n.prototype.rmBoundedActivationClasses_=function(){var e=n.cssClasses.FG_ACTIVATION;this.adapter_.removeClass(e),this.activationAnimationHasEnded_=!1,this.adapter_.computeBoundingRect()},n.prototype.resetActivationState_=function(){var e=this;this.previousActivationEvent_=this.activationState_.activationEvent,this.activationState_=this.defaultActivationState_(),setTimeout((function(){return e.previousActivationEvent_=void 0}),n.numbers.TAP_DELAY_MS)},n.prototype.deactivate_=function(){var e=this,t=this.activationState_;if(t.isActivated){var n=i({},t);t.isProgrammatic?(requestAnimationFrame((function(){return e.animateDeactivation_(n)})),this.resetActivationState_()):(this.deregisterDeactivationHandlers_(),requestAnimationFrame((function(){e.activationState_.hasDeactivationUXRun=!0,e.animateDeactivation_(n),e.resetActivationState_()})))}},n.prototype.animateDeactivation_=function(e){var t=e.wasActivatedByPointer,i=e.wasElementMadeActive;(t||i)&&this.runDeactivationUXLogicIfReady_()},n.prototype.layoutInternal_=function(){var e=this;this.frame_=this.adapter_.computeBoundingRect();var t=Math.max(this.frame_.height,this.frame_.width);this.maxRadius_=this.adapter_.isUnbounded()?t:Math.sqrt(Math.pow(e.frame_.width,2)+Math.pow(e.frame_.height,2))+n.numbers.PADDING;var i=Math.floor(t*n.numbers.INITIAL_ORIGIN_SCALE);this.adapter_.isUnbounded()&&i%2!=0?this.initialSize_=i-1:this.initialSize_=i,this.fgScale_=""+this.maxRadius_/this.initialSize_,this.updateLayoutCssVars_()},n.prototype.updateLayoutCssVars_=function(){var e=n.strings,t=e.VAR_FG_SIZE,i=e.VAR_LEFT,r=e.VAR_TOP,o=e.VAR_FG_SCALE;this.adapter_.updateCssVariable(t,this.initialSize_+"px"),this.adapter_.updateCssVariable(o,this.fgScale_),this.adapter_.isUnbounded()&&(this.unboundedCoords_={left:Math.round(this.frame_.width/2-this.initialSize_/2),top:Math.round(this.frame_.height/2-this.initialSize_/2)},this.adapter_.updateCssVariable(i,this.unboundedCoords_.left+"px"),this.adapter_.updateCssVariable(r,this.unboundedCoords_.top+"px"))},n}(ue);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const Ge=ae`@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}`
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/,Xe=function(e,t){void 0===t&&(t=!1);var i,n=e.CSS;if("boolean"==typeof ze&&!t)return ze;if(!(n&&"function"==typeof n.supports))return!1;var r=n.supports("--css-vars","yes"),o=n.supports("(--css-vars: yes)")&&n.supports("color","#00000000");return i=r||o,t||(ze=i),i}(window),Ye=navigator.userAgent.match(/Safari/);let Je=!1;const We=e=>{Ye&&!Je&&(()=>{Je=!0;const e=document.createElement("style"),t=new T({templateFactory:F});t.appendInto(e),t.setValue(Ge),t.commit(),document.head.appendChild(e)})();const t=e.surfaceNode,i=e.interactionNode||t;i.getRootNode()!==t.getRootNode()&&""===i.style.position&&(i.style.position="relative");const n=new qe({browserSupportsCssVars:()=>Xe,isUnbounded:()=>void 0===e.unbounded||e.unbounded,isSurfaceActive:()=>ge(i,":active"),isSurfaceDisabled:()=>Boolean(i.hasAttribute("disabled")),addClass:e=>t.classList.add(e),removeClass:e=>t.classList.remove(e),containsEventTarget:e=>i.contains(e),registerInteractionHandler:(e,t)=>i.addEventListener(e,t,Le()),deregisterInteractionHandler:(e,t)=>i.removeEventListener(e,t,Le()),registerDocumentInteractionHandler:(e,t)=>document.documentElement.addEventListener(e,t,Le()),deregisterDocumentInteractionHandler:(e,t)=>document.documentElement.removeEventListener(e,t,Le()),registerResizeHandler:e=>window.addEventListener("resize",e),deregisterResizeHandler:e=>window.removeEventListener("resize",e),updateCssVariable:(e,i)=>t.style.setProperty(e,i),computeBoundingRect:()=>t.getBoundingClientRect(),getWindowPageOffset:()=>({x:window.pageXOffset,y:window.pageYOffset})});return n.init(),n},Ke=new WeakMap,Ze=o((e={})=>t=>{const i=t.committer.element,n=e.interactionNode||i;let r=t.value;const o=Ke.get(r);void 0!==o&&o!==n&&(r.destroy(),r=d),r===d?(r=We(Object.assign({},e,{surfaceNode:i})),Ke.set(r,n),t.setValue(r)):(void 0!==e.unbounded&&r.setUnbounded(e.unbounded),void 0!==e.disabled&&r.setUnbounded(e.disabled)),!0===e.active?r.activate():!1===e.active&&r.deactivate()});class Qe extends de{constructor(){super(...arguments),this.disabled=!1,this.icon="",this.label=""}render(){return L`<button
    .ripple="${Ze()}"
    class="mdc-icon-button"
    aria-label="${this.label||this.icon}"
    ?disabled="${this.disabled}">
    <i class="material-icons">${this.icon}</i>
    <slot></slot>
  </button>`}}n([ee({type:Boolean,reflect:!0})],Qe.prototype,"disabled",void 0),n([ee({type:String})],Qe.prototype,"icon",void 0),n([ee({type:String})],Qe.prototype,"label",void 0);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const et=ae`.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:transparent;fill:currentColor;color:inherit;font-size:24px;text-decoration:none;cursor:pointer;user-select:none;width:48px;height:48px;padding:12px}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button:disabled{color:rgba(0,0,0,.38);color:var(--mdc-theme-text-disabled-on-light, rgba(0, 0, 0, 0.38))}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}.mdc-icon-button{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-icon-button::before,.mdc-icon-button::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-icon-button::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1}.mdc-icon-button.mdc-ripple-upgraded::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-icon-button.mdc-ripple-upgraded::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-icon-button.mdc-ripple-upgraded--unbounded::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-icon-button.mdc-ripple-upgraded--foreground-activation::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-icon-button.mdc-ripple-upgraded--foreground-deactivation::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-icon-button::before,.mdc-icon-button::after{top:calc(50% - 50%);left:calc(50% - 50%);width:100%;height:100%}.mdc-icon-button.mdc-ripple-upgraded::before,.mdc-icon-button.mdc-ripple-upgraded::after{top:var(--mdc-ripple-top, calc(50% - 50%));left:var(--mdc-ripple-left, calc(50% - 50%));width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-icon-button.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-icon-button::before,.mdc-icon-button::after{background-color:#000}.mdc-icon-button:hover::before{opacity:.04}.mdc-icon-button.mdc-ripple-upgraded--background-focused::before,.mdc-icon-button:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:.12}.mdc-icon-button:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-icon-button:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:.12}.mdc-icon-button.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.12}.material-icons{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}:host{display:inline-block;outline:none}:host,.mdc-icon-button{vertical-align:top}.mdc-icon-button{width:var(--mdc-icon-button-size, 48px);height:var(--mdc-icon-button-size, 48px);padding:calc((var(--mdc-icon-button-size, 48px) - var(--mdc-icon-size, 24px)) / 2)}.mdc-icon-button>i{position:absolute;top:0;padding-top:inherit}.mdc-icon-button i,.mdc-icon-button svg,.mdc-icon-button img,.mdc-icon-button ::slotted(*){display:block;width:var(--mdc-icon-size, 24px);height:var(--mdc-icon-size, 24px)}.mdc-ripple-upgraded:focus::before,.mdc-ripple-upgraded:focus::after{background-color:currentColor;background-color:var(--mdc-theme-on-primary, currentColor);opacity:.12;opacity:var(--mdc-icon-button-ripple-opacity, 0.12)}`
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/;let tt=class extends Qe{};tt.styles=et,tt=n([Z("mwc-icon-button")],tt),
/**
 * @license
 * Copyright 2016 Google Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(()=>{var e,t,i;const n=Symbol(),r=Symbol(),o=Symbol(),s=Symbol(),a=Symbol(),l=Symbol(),d=Symbol(),c=Symbol(),p=Symbol(),h=Symbol(),u=Symbol(),m=Symbol(),f=Symbol();document.$blockingElements=new class{constructor(){this[e]=[],this[t]=[],this[i]=new Set}destructor(){this[p](this[o]);this[n]=null,this[o]=null,this[r]=null}get top(){const e=this[n];return e[e.length-1]||null}push(e){e&&e!==this.top&&(this.remove(e),this[l](e),this[n].push(e))}remove(e){const t=this[n].indexOf(e);return-1!==t&&(this[n].splice(t,1),t===this[n].length&&this[l](this.top),!0)}pop(){const e=this.top;return e&&this.remove(e),e}has(e){return-1!==this[n].indexOf(e)}[(e=n,t=o,i=r,l)](e){const t=this[r],i=this[o];if(!e)return this[p](i),t.clear(),void(this[o]=[]);const n=this[h](e);if(n[n.length-1].parentNode!==document.body)throw Error("Non-connected element cannot be a blocking element");this[o]=n;const s=this[u](e);if(!i.length)return void this[c](n,s,t);let a=i.length-1,l=n.length-1;for(;a>0&&l>0&&i[a]===n[l];)a--,l--;i[a]!==n[l]&&this[d](i[a],n[l]),a>0&&this[p](i.slice(0,a)),l>0&&this[c](n.slice(0,l),s,null)}[d](e,t){const i=e[s];this[m](e)&&!e.inert&&(e.inert=!0,i.add(e)),i.has(t)&&(t.inert=!1,i.delete(t)),t[a]=e[a],t[s]=i,e[a]=void 0,e[s]=void 0}[p](e){for(const t of e){t[a].disconnect(),t[a]=void 0;const e=t[s];for(const t of e)t.inert=!1;t[s]=void 0}}[c](e,t,i){for(const n of e){const e=n.parentNode,r=e.children,o=new Set;for(let e=0;e<r.length;e++){const s=r[e];s===n||!this[m](s)||t&&t.has(s)||(i&&s.inert?i.add(s):(s.inert=!0,o.add(s)))}n[s]=o;const l=new MutationObserver(this[f].bind(this));n[a]=l;let d=e;const c=d;c.__shady&&c.host&&(d=c.host),l.observe(d,{childList:!0})}}[f](e){const t=this[o],i=this[r];for(const n of e){const e=n.target.host||n.target,r=e===document.body?t.length:t.indexOf(e),o=t[r-1],a=o[s];for(let e=0;e<n.removedNodes.length;e++){const t=n.removedNodes[e];if(t===o)return console.info("Detected removal of the top Blocking Element."),void this.pop();a.has(t)&&(t.inert=!1,a.delete(t))}for(let e=0;e<n.addedNodes.length;e++){const t=n.addedNodes[e];this[m](t)&&(i&&t.inert?i.add(t):(t.inert=!0,a.add(t)))}}}[m](e){return!1===/^(style|template|script)$/.test(e.localName)}[h](e){const t=[];let i=e;for(;i&&i!==document.body;)if(i.nodeType===Node.ELEMENT_NODE&&t.push(i),i.assignedSlot){for(;i=i.assignedSlot;)t.push(i);i=t.pop()}else i=i.parentNode||i.host;return t}[u](e){const t=e.shadowRoot;if(!t)return null;const i=new Set;let n,r,o;const s=t.querySelectorAll("slot");if(s.length&&s[0].assignedNodes)for(n=0;n<s.length;n++)for(o=s[n].assignedNodes({flatten:!0}),r=0;r<o.length;r++)o[r].nodeType===Node.ELEMENT_NODE&&i.add(o[r]);return i}}})();const it=Array.prototype.slice,nt=Element.prototype.matches||Element.prototype.msMatchesSelector,rt=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","details","summary","iframe","object","embed","[contenteditable]"].join(",");class ot{constructor(e,t){this._inertManager=t,this._rootElement=e,this._managedNodes=new Set,this._rootElement.hasAttribute("aria-hidden")?this._savedAriaHidden=this._rootElement.getAttribute("aria-hidden"):this._savedAriaHidden=null,this._rootElement.setAttribute("aria-hidden","true"),this._makeSubtreeUnfocusable(this._rootElement),this._observer=new MutationObserver(this._onMutation.bind(this)),this._observer.observe(this._rootElement,{attributes:!0,childList:!0,subtree:!0})}destructor(){this._observer.disconnect(),this._rootElement&&(null!==this._savedAriaHidden?this._rootElement.setAttribute("aria-hidden",this._savedAriaHidden):this._rootElement.removeAttribute("aria-hidden")),this._managedNodes.forEach((function(e){this._unmanageNode(e.node)}),this),this._observer=null,this._rootElement=null,this._managedNodes=null,this._inertManager=null}get managedNodes(){return new Set(this._managedNodes)}get hasSavedAriaHidden(){return null!==this._savedAriaHidden}set savedAriaHidden(e){this._savedAriaHidden=e}get savedAriaHidden(){return this._savedAriaHidden}_makeSubtreeUnfocusable(e){at(e,e=>this._visitNode(e));let t=document.activeElement;if(!document.body.contains(e)){let i=e,n=void 0;for(;i;){if(i.nodeType===Node.DOCUMENT_FRAGMENT_NODE){n=i;break}i=i.parentNode}n&&(t=n.activeElement)}e.contains(t)&&(t.blur(),t===document.activeElement&&document.body.focus())}_visitNode(e){if(e.nodeType!==Node.ELEMENT_NODE)return;const t=e;t!==this._rootElement&&t.hasAttribute("inert")&&this._adoptInertRoot(t),(nt.call(t,rt)||t.hasAttribute("tabindex"))&&this._manageNode(t)}_manageNode(e){const t=this._inertManager.register(e,this);this._managedNodes.add(t)}_unmanageNode(e){const t=this._inertManager.deregister(e,this);t&&this._managedNodes.delete(t)}_unmanageSubtree(e){at(e,e=>this._unmanageNode(e))}_adoptInertRoot(e){let t=this._inertManager.getInertRoot(e);t||(this._inertManager.setInert(e,!0),t=this._inertManager.getInertRoot(e)),t.managedNodes.forEach((function(e){this._manageNode(e.node)}),this)}_onMutation(e,t){e.forEach((function(e){const t=e.target;if("childList"===e.type)it.call(e.addedNodes).forEach((function(e){this._makeSubtreeUnfocusable(e)}),this),it.call(e.removedNodes).forEach((function(e){this._unmanageSubtree(e)}),this);else if("attributes"===e.type)if("tabindex"===e.attributeName)this._manageNode(t);else if(t!==this._rootElement&&"inert"===e.attributeName&&t.hasAttribute("inert")){this._adoptInertRoot(t);const e=this._inertManager.getInertRoot(t);this._managedNodes.forEach((function(i){t.contains(i.node)&&e._manageNode(i.node)}))}}),this)}}class st{constructor(e,t){this._node=e,this._overrodeFocusMethod=!1,this._inertRoots=new Set([t]),this._savedTabIndex=null,this._destroyed=!1,this.ensureUntabbable()}destructor(){if(this._throwIfDestroyed(),this._node&&this._node.nodeType===Node.ELEMENT_NODE){const e=this._node;null!==this._savedTabIndex?e.setAttribute("tabindex",this._savedTabIndex):e.removeAttribute("tabindex"),this._overrodeFocusMethod&&delete e.focus}this._node=null,this._inertRoots=null,this._destroyed=!0}get destroyed(){return this._destroyed}_throwIfDestroyed(){if(this.destroyed)throw new Error("Trying to access destroyed InertNode")}get hasSavedTabIndex(){return null!==this._savedTabIndex}get node(){return this._throwIfDestroyed(),this._node}set savedTabIndex(e){this._throwIfDestroyed(),this._savedTabIndex=e}get savedTabIndex(){return this._throwIfDestroyed(),this._savedTabIndex}ensureUntabbable(){if(this.node.nodeType!==Node.ELEMENT_NODE)return;const e=this.node;if(nt.call(e,rt)){if(-1===e.tabIndex&&this.hasSavedTabIndex)return;e.hasAttribute("tabindex")&&(this._savedTabIndex=e.tabIndex),e.setAttribute("tabindex","-1"),e.nodeType===Node.ELEMENT_NODE&&(e.focus=function(){},this._overrodeFocusMethod=!0)}else e.hasAttribute("tabindex")&&(this._savedTabIndex=e.tabIndex,e.removeAttribute("tabindex"))}addInertRoot(e){this._throwIfDestroyed(),this._inertRoots.add(e)}removeInertRoot(e){this._throwIfDestroyed(),this._inertRoots.delete(e),0===this._inertRoots.size&&this.destructor()}}function at(e,t,i){if(e.nodeType==Node.ELEMENT_NODE){const i=e;t&&t(i);const n=i.shadowRoot;if(n)return void at(n,t);if("content"==i.localName){const e=i,n=e.getDistributedNodes?e.getDistributedNodes():[];for(let e=0;e<n.length;e++)at(n[e],t);return}if("slot"==i.localName){const e=i,n=e.assignedNodes?e.assignedNodes({flatten:!0}):[];for(let e=0;e<n.length;e++)at(n[e],t);return}}let n=e.firstChild;for(;null!=n;)at(n,t),n=n.nextSibling}function lt(e){if(e.querySelector("style#inert-style"))return;const t=document.createElement("style");t.setAttribute("id","inert-style"),t.textContent="\n[inert] {\n  pointer-events: none;\n  cursor: default;\n}\n\n[inert], [inert] * {\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n}\n",e.appendChild(t)}const dt=new class{constructor(e){if(!e)throw new Error("Missing required argument; InertManager needs to wrap a document.");this._document=e,this._managedNodes=new Map,this._inertRoots=new Map,this._observer=new MutationObserver(this._watchForInert.bind(this)),lt(e.head||e.body||e.documentElement),"loading"===e.readyState?e.addEventListener("DOMContentLoaded",this._onDocumentLoaded.bind(this)):this._onDocumentLoaded()}setInert(e,t){if(t){if(this._inertRoots.has(e))return;const t=new ot(e,this);if(e.setAttribute("inert",""),this._inertRoots.set(e,t),!this._document.body.contains(e)){let t=e.parentNode;for(;t;)11===t.nodeType&&lt(t),t=t.parentNode}}else{if(!this._inertRoots.has(e))return;this._inertRoots.get(e).destructor(),this._inertRoots.delete(e),e.removeAttribute("inert")}}getInertRoot(e){return this._inertRoots.get(e)}register(e,t){let i=this._managedNodes.get(e);return void 0!==i?i.addInertRoot(t):i=new st(e,t),this._managedNodes.set(e,i),i}deregister(e,t){const i=this._managedNodes.get(e);return i?(i.removeInertRoot(t),i.destroyed&&this._managedNodes.delete(e),i):null}_onDocumentLoaded(){it.call(this._document.querySelectorAll("[inert]")).forEach((function(e){this.setInert(e,!0)}),this),this._observer.observe(this._document.body||this._document.documentElement,{attributes:!0,subtree:!0,childList:!0})}_watchForInert(e,t){const i=this;e.forEach((function(e){switch(e.type){case"childList":it.call(e.addedNodes).forEach((function(e){if(e.nodeType!==Node.ELEMENT_NODE)return;const t=it.call(e.querySelectorAll("[inert]"));nt.call(e,"[inert]")&&t.unshift(e),t.forEach((function(e){this.setInert(e,!0)}),i)}),i);break;case"attributes":if("inert"!==e.attributeName)return;const t=e.target,n=t.hasAttribute("inert");i.setInert(t,n)}}),this)}}(document);Element.prototype.hasOwnProperty("inert")||Object.defineProperty(Element.prototype,"inert",{enumerable:!0,get:function(){return this.hasAttribute("inert")},set:function(e){dt.setInert(this,e)}})
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */;var ct={ANIMATE:"mdc-drawer--animate",CLOSING:"mdc-drawer--closing",DISMISSIBLE:"mdc-drawer--dismissible",MODAL:"mdc-drawer--modal",OPEN:"mdc-drawer--open",OPENING:"mdc-drawer--opening",ROOT:"mdc-drawer"},pt={APP_CONTENT_SELECTOR:".mdc-drawer-app-content",CLOSE_EVENT:"MDCDrawer:closed",OPEN_EVENT:"MDCDrawer:opened",SCRIM_SELECTOR:".mdc-drawer-scrim"},ht=function(e){function n(t){var r=e.call(this,i({},n.defaultAdapter,t))||this;return r.animationFrame_=0,r.animationTimer_=0,r}return t(n,e),Object.defineProperty(n,"strings",{get:function(){return pt},enumerable:!0,configurable:!0}),Object.defineProperty(n,"cssClasses",{get:function(){return ct},enumerable:!0,configurable:!0}),Object.defineProperty(n,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},elementHasClass:function(){return!1},notifyClose:function(){},notifyOpen:function(){},saveFocus:function(){},restoreFocus:function(){},focusActiveNavigationItem:function(){},trapFocus:function(){},releaseFocus:function(){}}},enumerable:!0,configurable:!0}),n.prototype.destroy=function(){this.animationFrame_&&cancelAnimationFrame(this.animationFrame_),this.animationTimer_&&clearTimeout(this.animationTimer_)},n.prototype.open=function(){var e=this;this.isOpen()||this.isOpening()||this.isClosing()||(this.adapter_.addClass(ct.OPEN),this.adapter_.addClass(ct.ANIMATE),this.runNextAnimationFrame_((function(){e.adapter_.addClass(ct.OPENING)})),this.adapter_.saveFocus())},n.prototype.close=function(){!this.isOpen()||this.isOpening()||this.isClosing()||this.adapter_.addClass(ct.CLOSING)},n.prototype.isOpen=function(){return this.adapter_.hasClass(ct.OPEN)},n.prototype.isOpening=function(){return this.adapter_.hasClass(ct.OPENING)||this.adapter_.hasClass(ct.ANIMATE)},n.prototype.isClosing=function(){return this.adapter_.hasClass(ct.CLOSING)},n.prototype.handleKeydown=function(e){var t=e.keyCode;("Escape"===e.key||27===t)&&this.close()},n.prototype.handleTransitionEnd=function(e){var t=ct.OPENING,i=ct.CLOSING,n=ct.OPEN,r=ct.ANIMATE,o=ct.ROOT;this.isElement_(e.target)&&this.adapter_.elementHasClass(e.target,o)&&(this.isClosing()?(this.adapter_.removeClass(n),this.closed_(),this.adapter_.restoreFocus(),this.adapter_.notifyClose()):(this.adapter_.focusActiveNavigationItem(),this.opened_(),this.adapter_.notifyOpen()),this.adapter_.removeClass(r),this.adapter_.removeClass(t),this.adapter_.removeClass(i))},n.prototype.opened_=function(){},n.prototype.closed_=function(){},n.prototype.runNextAnimationFrame_=function(e){var t=this;cancelAnimationFrame(this.animationFrame_),this.animationFrame_=requestAnimationFrame((function(){t.animationFrame_=0,clearTimeout(t.animationTimer_),t.animationTimer_=setTimeout(e,0)}))},n.prototype.isElement_=function(e){return Boolean(e.classList)},n}(ue),ut=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return t(i,e),i.prototype.handleScrimClick=function(){this.close()},i.prototype.opened_=function(){this.adapter_.trapFocus()},i.prototype.closed_=function(){this.adapter_.releaseFocus()},i}(ht);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const mt=document.$blockingElements;class ft extends Te{constructor(){super(...arguments),this._previousFocus=null,this.open=!1,this.hasHeader=!1,this.type=""}get mdcFoundationClass(){return"modal"===this.type?ut:ht}createAdapter(){return Object.assign(Object.assign({},be(this.mdcRoot)),{elementHasClass:(e,t)=>e.classList.contains(t),saveFocus:()=>{this._previousFocus=this.getRootNode().activeElement},restoreFocus:()=>{this._previousFocus&&this._previousFocus.focus&&this._previousFocus.focus()},notifyClose:()=>{this.open=!1,this.dispatchEvent(new Event(pt.CLOSE_EVENT,{bubbles:!0,cancelable:!0}))},notifyOpen:()=>{this.open=!0,this.dispatchEvent(new Event(pt.OPEN_EVENT,{bubbles:!0,cancelable:!0}))},focusActiveNavigationItem:()=>{},trapFocus:()=>{mt.push(this),this.appContent.inert=!0},releaseFocus:()=>{mt.remove(this),this.appContent.inert=!1}})}_handleScrimClick(){this.mdcFoundation instanceof ut&&this.mdcFoundation.handleScrimClick()}render(){const e="dismissible"===this.type||"modal"===this.type,t="modal"===this.type,i=this.hasHeader?L`
      <div class="mdc-drawer__header">
        <h3 class="mdc-drawer__title"><slot name="title"></slot></h3>
        <h6 class="mdc-drawer__subtitle"><slot name="subtitle"></slot></h6>
        <slot name="header"></slot>
      </div>
      `:"";return L`
      <aside class="mdc-drawer
          ${Ie({"mdc-drawer--dismissible":e,"mdc-drawer--modal":t})}">
        ${i}
        <div class="mdc-drawer__content"><slot></slot></div>
      </aside>
      ${t?L`<div class="mdc-drawer-scrim"
                          @click="${this._handleScrimClick}"></div>`:""}
      <div class="mdc-drawer-app-content">
        <slot name="appContent"></slot>
      </div>
      `}firstUpdated(){this.mdcRoot.addEventListener("keydown",e=>this.mdcFoundation.handleKeydown(e)),this.mdcRoot.addEventListener("transitionend",e=>this.mdcFoundation.handleTransitionEnd(e))}updated(e){e.has("type")&&this.createFoundation()}}n([te(".mdc-drawer")],ft.prototype,"mdcRoot",void 0),n([te(".mdc-drawer-app-content")],ft.prototype,"appContent",void 0),n([_e((function(e){""!==this.type&&(e?this.mdcFoundation.open():this.mdcFoundation.close())})),ee({type:Boolean,reflect:!0})],ft.prototype,"open",void 0),n([ee({type:Boolean})],ft.prototype,"hasHeader",void 0),n([ee({reflect:!0})],ft.prototype,"type",void 0);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const _t=ae`.mdc-drawer{border-color:rgba(0,0,0,.12);background-color:#fff;border-radius:0 0 0 0;z-index:6;width:256px;display:flex;flex-direction:column;flex-shrink:0;box-sizing:border-box;height:100%;border-right-width:1px;border-right-style:solid;overflow:hidden;transition-property:transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.mdc-drawer .mdc-drawer__title{color:rgba(0,0,0,.87)}.mdc-drawer .mdc-list-group__subheader{color:rgba(0,0,0,.6)}.mdc-drawer .mdc-drawer__subtitle{color:rgba(0,0,0,.6)}.mdc-drawer .mdc-list-item__graphic{color:rgba(0,0,0,.6)}.mdc-drawer .mdc-list-item{color:rgba(0,0,0,.87)}.mdc-drawer .mdc-list-item--activated .mdc-list-item__graphic{color:#6200ee}.mdc-drawer .mdc-list-item--activated{color:rgba(98,0,238,.87)}[dir=rtl] .mdc-drawer,.mdc-drawer[dir=rtl]{border-radius:0 0 0 0}.mdc-drawer .mdc-list-item{border-radius:4px}.mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content{margin-left:256px;margin-right:0}[dir=rtl] .mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content,.mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content[dir=rtl]{margin-left:0;margin-right:256px}[dir=rtl] .mdc-drawer,.mdc-drawer[dir=rtl]{border-right-width:0;border-left-width:1px;border-right-style:none;border-left-style:solid}.mdc-drawer .mdc-list-item{font-family:Roboto, sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:1.375rem;font-weight:500;letter-spacing:.0071428571em;text-decoration:inherit;text-transform:inherit;height:calc(48px - 2 * 4px);margin:8px 8px;padding:0 8px}.mdc-drawer .mdc-list-item:nth-child(1){margin-top:2px}.mdc-drawer .mdc-list-item:nth-last-child(1){margin-bottom:0}.mdc-drawer .mdc-list-group__subheader{font-family:Roboto, sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:1.25rem;font-weight:400;letter-spacing:.0178571429em;text-decoration:inherit;text-transform:inherit;display:block;margin-top:0;line-height:normal;margin:0;padding:0 16px}.mdc-drawer .mdc-list-group__subheader::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-drawer .mdc-list-divider{margin:3px 0 4px}.mdc-drawer .mdc-list-item__text,.mdc-drawer .mdc-list-item__graphic{pointer-events:none}.mdc-drawer--animate{transform:translateX(-100%)}[dir=rtl] .mdc-drawer--animate,.mdc-drawer--animate[dir=rtl]{transform:translateX(100%)}.mdc-drawer--opening{transform:translateX(0);transition-duration:250ms}[dir=rtl] .mdc-drawer--opening,.mdc-drawer--opening[dir=rtl]{transform:translateX(0)}.mdc-drawer--closing{transform:translateX(-100%);transition-duration:200ms}[dir=rtl] .mdc-drawer--closing,.mdc-drawer--closing[dir=rtl]{transform:translateX(100%)}.mdc-drawer__header{flex-shrink:0;box-sizing:border-box;min-height:64px;padding:0 16px 4px}.mdc-drawer__title{font-family:Roboto, sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:1.25rem;line-height:2rem;font-weight:500;letter-spacing:.0125em;text-decoration:inherit;text-transform:inherit;display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-drawer__title::before{display:inline-block;width:0;height:36px;content:"";vertical-align:0}.mdc-drawer__title::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-drawer__subtitle{font-family:Roboto, sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:1.25rem;font-weight:400;letter-spacing:.0178571429em;text-decoration:inherit;text-transform:inherit;display:block;margin-top:0;line-height:normal;margin-bottom:0}.mdc-drawer__subtitle::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-drawer__content{height:100%;overflow-y:auto;-webkit-overflow-scrolling:touch}.mdc-drawer--dismissible{left:0;right:initial;display:none;position:absolute}[dir=rtl] .mdc-drawer--dismissible,.mdc-drawer--dismissible[dir=rtl]{left:initial;right:0}.mdc-drawer--dismissible.mdc-drawer--open{display:flex}.mdc-drawer-app-content{margin-left:0;margin-right:0;position:relative}[dir=rtl] .mdc-drawer-app-content,.mdc-drawer-app-content[dir=rtl]{margin-left:0;margin-right:0}.mdc-drawer--modal{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2),0px 16px 24px 2px rgba(0, 0, 0, 0.14),0px 6px 30px 5px rgba(0,0,0,.12);left:0;right:initial;display:none;position:fixed}.mdc-drawer--modal+.mdc-drawer-scrim{background-color:rgba(0,0,0,.32)}[dir=rtl] .mdc-drawer--modal,.mdc-drawer--modal[dir=rtl]{left:initial;right:0}.mdc-drawer--modal.mdc-drawer--open{display:flex}.mdc-drawer-scrim{display:none;position:fixed;top:0;left:0;width:100%;height:100%;z-index:5;transition-property:opacity;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.mdc-drawer--open+.mdc-drawer-scrim{display:block}.mdc-drawer--animate+.mdc-drawer-scrim{opacity:0}.mdc-drawer--opening+.mdc-drawer-scrim{transition-duration:250ms;opacity:1}.mdc-drawer--closing+.mdc-drawer-scrim{transition-duration:200ms;opacity:0}.mdc-drawer-app-content{overflow:auto;flex:1}:host{display:flex;height:100%}`;let gt=class extends ft{};gt.styles=_t,gt=n([Z("mwc-drawer")],gt);
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const yt=o(e=>t=>{if(void 0===e&&t instanceof C){if(e!==t.value){const e=t.committer.name;t.committer.element.removeAttribute(e)}}else t.setValue(e)});
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var bt="mdc-list-item",vt="mdc-list-item--disabled",xt={ACTION_EVENT:"MDCList:action",ARIA_CHECKED:"aria-checked",ARIA_CHECKED_CHECKBOX_SELECTOR:'[role="checkbox"][aria-checked="true"]',ARIA_CHECKED_RADIO_SELECTOR:'[role="radio"][aria-checked="true"]',ARIA_CURRENT:"aria-current",ARIA_DISABLED:"aria-disabled",ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_ROLE_CHECKBOX_SELECTOR:'[role="checkbox"]',ARIA_SELECTED:"aria-selected",CHECKBOX_RADIO_SELECTOR:'input[type="checkbox"], input[type="radio"]',CHECKBOX_SELECTOR:'input[type="checkbox"]',CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:"\n    ."+bt+" button:not(:disabled),\n    ."+bt+" a\n  ",FOCUSABLE_CHILD_ELEMENTS:"\n    ."+bt+" button:not(:disabled),\n    ."+bt+" a,\n    ."+bt+' input[type="radio"]:not(:disabled),\n    .'+bt+' input[type="checkbox"]:not(:disabled)\n  ',RADIO_SELECTOR:'input[type="radio"]'},wt={UNSET_INDEX:-1};
/**
 @license
 Copyright 2020 Google Inc. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 */
const St=["input","button","textarea","select"];function Et(e){return e instanceof Set}const Ct=e=>{const t=e===wt.UNSET_INDEX?new Set:e;return Et(t)?new Set(t):new Set([t])};class Tt extends ue{constructor(e){super(Object.assign(Object.assign({},Tt.defaultAdapter),e)),this.isMulti_=!1,this.wrapFocus_=!1,this.isVertical_=!0,this.selectedIndex_=wt.UNSET_INDEX,this.focusedItemIndex_=wt.UNSET_INDEX,this.useActivatedClass_=!1,this.ariaCurrentAttrValue_=null}static get strings(){return xt}static get numbers(){return wt}static get defaultAdapter(){return{focusItemAtIndex:()=>{},getFocusedElementIndex:()=>0,getListItemCount:()=>0,isFocusInsideList:()=>!1,isRootFocused:()=>!1,notifyAction:()=>{},notifySelected:()=>{},getSelectedStateForElementIndex:()=>!1,setDisabledStateForElementIndex:()=>{},getDisabledStateForElementIndex:()=>!1,setSelectedStateForElementIndex:()=>{},setActivatedStateForElementIndex:()=>{},setTabIndexForElementIndex:()=>{},setAttributeForElementIndex:()=>{},getAttributeForElementIndex:()=>null}}setWrapFocus(e){this.wrapFocus_=e}setMulti(e){this.isMulti_=e}setVerticalOrientation(e){this.isVertical_=e}setUseActivatedClass(e){this.useActivatedClass_=e}getSelectedIndex(){return this.selectedIndex_}setSelectedIndex(e){this.isIndexValid_(e)&&(this.isMulti_?this.setMultiSelectionAtIndex_(Ct(e)):this.setSingleSelectionAtIndex_(e))}handleFocusIn(e,t){t>=0&&this.adapter_.setTabIndexForElementIndex(t,0)}handleFocusOut(e,t){t>=0&&this.adapter_.setTabIndexForElementIndex(t,-1),setTimeout(()=>{this.adapter_.isFocusInsideList()||this.setTabindexToFirstSelectedItem_()},0)}handleKeydown(e,t,i){const n="ArrowLeft"===e.key||37===e.keyCode,r="ArrowUp"===e.key||38===e.keyCode,o="ArrowRight"===e.key||39===e.keyCode,s="ArrowDown"===e.key||40===e.keyCode,a="Home"===e.key||36===e.keyCode,l="End"===e.key||35===e.keyCode,d="Enter"===e.key||13===e.keyCode,c="Space"===e.key||32===e.keyCode;if(this.adapter_.isRootFocused())return void(r||l?(e.preventDefault(),this.focusLastElement()):(s||a)&&(e.preventDefault(),this.focusFirstElement()));let p,h=this.adapter_.getFocusedElementIndex();if(!(-1===h&&(h=i,h<0))){if(this.isVertical_&&s||!this.isVertical_&&o)this.preventDefaultEvent_(e),p=this.focusNextElement(h);else if(this.isVertical_&&r||!this.isVertical_&&n)this.preventDefaultEvent_(e),p=this.focusPrevElement(h);else if(a)this.preventDefaultEvent_(e),p=this.focusFirstElement();else if(l)this.preventDefaultEvent_(e),p=this.focusLastElement();else if((d||c)&&t){const t=e.target;if(t&&"A"===t.tagName&&d)return;this.preventDefaultEvent_(e),this.setSelectedIndexOnAction_(h)}this.focusedItemIndex_=h,void 0!==p&&(this.setTabindexAtIndex_(p),this.focusedItemIndex_=p)}}handleSingleSelection(e,t){e!==wt.UNSET_INDEX&&(this.setSelectedIndexOnAction_(e,t),this.setTabindexAtIndex_(e),this.focusedItemIndex_=e)}focusNextElement(e){let t=e+1;if(t>=this.adapter_.getListItemCount()){if(!this.wrapFocus_)return e;t=0}return this.adapter_.focusItemAtIndex(t),t}focusPrevElement(e){let t=e-1;if(t<0){if(!this.wrapFocus_)return e;t=this.adapter_.getListItemCount()-1}return this.adapter_.focusItemAtIndex(t),t}focusFirstElement(){return this.adapter_.focusItemAtIndex(0),0}focusLastElement(){const e=this.adapter_.getListItemCount()-1;return this.adapter_.focusItemAtIndex(e),e}setEnabled(e,t){this.isIndexValid_(e)&&this.adapter_.setDisabledStateForElementIndex(e,!t)}preventDefaultEvent_(e){const t=`${e.target.tagName}`.toLowerCase();-1===St.indexOf(t)&&e.preventDefault()}setSingleSelectionAtIndex_(e){this.selectedIndex_!==e&&(this.selectedIndex_!==wt.UNSET_INDEX&&(this.adapter_.setSelectedStateForElementIndex(this.selectedIndex_,!1),this.useActivatedClass_&&this.adapter_.setActivatedStateForElementIndex(this.selectedIndex_,!1)),this.adapter_.setSelectedStateForElementIndex(e,!0),this.useActivatedClass_&&this.adapter_.setActivatedStateForElementIndex(e,!0),this.setAriaForSingleSelectionAtIndex_(e),this.selectedIndex_=e,this.adapter_.notifySelected(e))}setMultiSelectionAtIndex_(e){const t=((e,t)=>{const i=Array.from(e),n=Array.from(t),r={added:[],removed:[]},o=i.sort(),s=n.sort();let a=0,l=0;for(;a<o.length||l<s.length;){const e=o[a],t=s[l];e!==t?void 0!==e&&(void 0===t||e<t)?(r.removed.push(e),a++):void 0!==t&&(void 0===e||t<e)&&(r.added.push(t),l++):(a++,l++)}return r})(Ct(this.selectedIndex_),e);if(t.removed.length||t.added.length){for(const e of t.removed)this.adapter_.setSelectedStateForElementIndex(e,!1),this.useActivatedClass_&&this.adapter_.setActivatedStateForElementIndex(e,!1);for(const e of t.added)this.adapter_.setSelectedStateForElementIndex(e,!0),this.useActivatedClass_&&this.adapter_.setActivatedStateForElementIndex(e,!0);this.selectedIndex_=e,this.adapter_.notifySelected(e,t)}}setAriaForSingleSelectionAtIndex_(e){this.selectedIndex_===wt.UNSET_INDEX&&(this.ariaCurrentAttrValue_=this.adapter_.getAttributeForElementIndex(e,xt.ARIA_CURRENT));const t=null!==this.ariaCurrentAttrValue_,i=t?xt.ARIA_CURRENT:xt.ARIA_SELECTED;this.selectedIndex_!==wt.UNSET_INDEX&&this.adapter_.setAttributeForElementIndex(this.selectedIndex_,i,"false");const n=t?this.ariaCurrentAttrValue_:"true";this.adapter_.setAttributeForElementIndex(e,i,n)}setTabindexAtIndex_(e){this.focusedItemIndex_===wt.UNSET_INDEX&&0!==e?this.adapter_.setTabIndexForElementIndex(0,-1):this.focusedItemIndex_>=0&&this.focusedItemIndex_!==e&&this.adapter_.setTabIndexForElementIndex(this.focusedItemIndex_,-1),this.adapter_.setTabIndexForElementIndex(e,0)}setTabindexToFirstSelectedItem_(){let e=0;"number"==typeof this.selectedIndex_&&this.selectedIndex_!==wt.UNSET_INDEX?e=this.selectedIndex_:Et(this.selectedIndex_)&&this.selectedIndex_.size>0&&(e=Math.min(...this.selectedIndex_)),this.setTabindexAtIndex_(e)}isIndexValid_(e){if(e instanceof Set){if(!this.isMulti_)throw new Error("MDCListFoundation: Array of index is only supported for checkbox based list");if(0===e.size)return!0;{let t=!1;for(const i of e)if(t=this.isIndexInRange_(i),t)break;return t}}if("number"==typeof e){if(this.isMulti_)throw new Error("MDCListFoundation: Expected array of index for checkbox based list but got number: "+e);return this.isIndexInRange_(e)}return!1}isIndexInRange_(e){const t=this.adapter_.getListItemCount();return e>=0&&e<t}setSelectedIndexOnAction_(e,t){if(this.adapter_.getDisabledStateForElementIndex(e))return;let i=e;this.isMulti_&&(i=new Set([e])),this.isIndexValid_(i)&&(this.isMulti_?this.toggleMultiAtIndex(e,t):this.setSingleSelectionAtIndex_(e),this.adapter_.notifyAction(e))}toggleMultiAtIndex(e,t){let i=!1;i=void 0===t?!this.adapter_.getSelectedStateForElementIndex(e):t;const n=Ct(this.selectedIndex_);i?n.add(e):n.delete(e),this.setMultiSelectionAtIndex_(n)}}
/**
@license
Copyright 2020 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/const At=e=>e.hasAttribute("mwc-list-item");class It extends Te{constructor(){super(...arguments),this.mdcAdapter=null,this.mdcFoundationClass=Tt,this.activatable=!1,this.multi=!1,this.wrapFocus=!1,this.itemRoles=null,this.innerRole=null,this.rootTabbable=!1,this.previousTabindex=null,this.noninteractive=!1,this.items_=[]}get assignedElements(){const e=this.slotElement;return e?e.assignedNodes({flatten:!0}).filter(ye):[]}get items(){return this.items_}updateItems(){const e=this.assignedElements,t=[];for(const i of e)At(i)&&t.push(i),i.hasAttribute("divider")&&!i.hasAttribute("role")&&i.setAttribute("role","separator");this.items_=t;const i=new Set;if(this.items_.forEach((e,t)=>{this.itemRoles?e.setAttribute("role",this.itemRoles):e.removeAttribute("role"),e.selected&&i.add(t)}),this.multi)this.select(i);else{const e=i.size?i.entries().next().value[1]:-1;this.select(e)}}get selected(){const e=this.index;if(!Et(e))return-1===e?null:this.items[e];const t=[];for(const i of e)t.push(this.items[i]);return t}get index(){return this.mdcFoundation?this.mdcFoundation.getSelectedIndex():-1}render(){const e=null===this.innerRole?void 0:this.innerRole,t=this.rootTabbable?"0":"-1";return L`
      <!-- @ts-ignore -->
      <ul
          tabindex=${t}
          role="${yt(e)}"
          class="mdc-list"
          @keydown=${this.onKeydown}
          @focusin=${this.onFocusIn}
          @focusout=${this.onFocusOut}
          @request-selected=${this.onRequestSelected}>
        <slot
            @slotchange=${this.onSlotChange}
            @list-item-rendered=${this.onListItemConnected}>
        </slot>
      </ul>
    `}onFocusIn(e){if(this.mdcFoundation&&this.mdcRoot){const t=this.getIndexOfTarget(e);this.mdcFoundation.handleFocusIn(e,t)}}onFocusOut(e){if(this.mdcFoundation&&this.mdcRoot){const t=this.getIndexOfTarget(e);this.mdcFoundation.handleFocusOut(e,t)}}onKeydown(e){if(this.mdcFoundation&&this.mdcRoot){const t=this.getIndexOfTarget(e),i=e.target,n=At(i);this.mdcFoundation.handleKeydown(e,n,t)}}onRequestSelected(e){if(this.mdcFoundation){const t=this.getIndexOfTarget(e);if(-1===t)return;if(this.items[t].disabled)return;const i=e.detail.selected;this.mdcFoundation.handleSingleSelection(t,i),e.stopPropagation()}}getIndexOfTarget(e){const t=this.items,i=e.composedPath();for(const e of i){let i=-1;if(ye(e)&&At(e)&&(i=t.indexOf(e)),-1!==i)return i}return-1}createAdapter(){return this.mdcAdapter={getListItemCount:()=>this.mdcRoot?this.items.length:0,getFocusedElementIndex:()=>{if(!this.mdcRoot)return-1;if(!this.items.length)return-1;const e=Ee();if(!e.length)return-1;for(let t=e.length-1;t>=0;t--){const i=e[t];if(At(i))return this.items.indexOf(i)}return-1},getAttributeForElementIndex:(e,t)=>{if(!this.mdcRoot)return"";const i=this.items[e];return i?i.getAttribute(t):""},setAttributeForElementIndex:(e,t,i)=>{if(!this.mdcRoot)return;const n=this.items[e];n&&n.setAttribute(t,i)},focusItemAtIndex:e=>{const t=this.items[e];t&&t.focus()},setTabIndexForElementIndex:(e,t)=>{const i=this.items[e];i&&(i.tabindex=t)},notifyAction:e=>{const t={bubbles:!0,composed:!0};t.detail={index:e};const i=new CustomEvent("action",t);this.dispatchEvent(i)},notifySelected:(e,t)=>{const i={bubbles:!0,composed:!0};i.detail={index:e,diff:t};const n=new CustomEvent("selected",i);this.dispatchEvent(n)},isFocusInsideList:()=>Ce(this),isRootFocused:()=>{const e=this.mdcRoot;return e.getRootNode().activeElement===e},setDisabledStateForElementIndex:(e,t)=>{const i=this.items[e];i&&(i.disabled=t)},getDisabledStateForElementIndex:e=>{const t=this.items[e];return!!t&&t.disabled},setSelectedStateForElementIndex:(e,t)=>{const i=this.items[e];i&&(i.selected=t)},getSelectedStateForElementIndex:e=>{const t=this.items[e];return!!t&&t.selected},setActivatedStateForElementIndex:(e,t)=>{const i=this.items[e];i&&(i.activated=t)}},this.mdcAdapter}selectUi(e,t=!1){const i=this.items[e];i&&(i.selected=!0,i.activated=t)}deselectUi(e){const t=this.items[e];t&&(t.selected=!1,t.activated=!1)}select(e){this.mdcFoundation&&this.mdcFoundation.setSelectedIndex(e)}toggle(e,t){this.mdcFoundation.toggleMultiAtIndex(e,t)}onSlotChange(){this.layout()}onListItemConnected(e){const t=e.target;this.layout(-1===this.items.indexOf(t))}layout(e=!0){if(e&&this.updateItems(),!this.noninteractive){let e=null;for(const t of this.items)e||t.noninteractive||(e=t),t.tabindex=-1;e&&(e.tabindex=0)}}focus(){const e=this.mdcRoot;e&&e.focus()}blur(){const e=this.mdcRoot;e&&e.blur()}}n([te(".mdc-list")],It.prototype,"mdcRoot",void 0),n([te("slot")],It.prototype,"slotElement",void 0),n([ee({type:Boolean}),_e((function(e){this.mdcFoundation&&this.mdcFoundation.setUseActivatedClass(e)}))],It.prototype,"activatable",void 0),n([ee({type:Boolean}),_e((function(e,t){this.mdcFoundation&&this.mdcFoundation.setMulti(e),void 0!==t&&this.layout()}))],It.prototype,"multi",void 0),n([ee({type:Boolean}),_e((function(e){this.mdcFoundation&&this.mdcFoundation.setWrapFocus(e)}))],It.prototype,"wrapFocus",void 0),n([ee({type:String}),_e((function(e,t){void 0!==t&&this.updateItems()}))],It.prototype,"itemRoles",void 0),n([ee({type:String})],It.prototype,"innerRole",void 0),n([ee({type:Boolean})],It.prototype,"rootTabbable",void 0),n([ee({type:Boolean,reflect:!0}),_e((function(e){const t=this.slotElement;if(e&&t){const e=function(e,t){for(const i of e.assignedNodes({flatten:!0}))if(ye(i)){const e=i;if(ge(e,t))return e}return null}(t,'[tabindex="0"]');this.previousTabindex=e,e&&e.setAttribute("tabindex","-1")}else!e&&this.previousTabindex&&(this.previousTabindex.setAttribute("tabindex","0"),this.previousTabindex=null)}))],It.prototype,"noninteractive",void 0);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const Pt=ae`@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}:host{display:block}.mdc-list{font-family:Roboto, sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:1rem;line-height:1.75rem;font-weight:400;letter-spacing:.009375em;text-decoration:inherit;text-transform:inherit;line-height:1.5rem;margin:0;padding:8px 0;list-style-type:none;color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87));padding:var(--mdc-list-vertical-padding, 8px) 0}.mdc-list:focus{outline:none}.mdc-list-item{height:48px}.mdc-list--dense{padding-top:4px;padding-bottom:4px;font-size:.812rem}.mdc-list ::slotted([divider]){height:0;margin:0;border:none;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgba(0,0,0,.12)}.mdc-list ::slotted([divider][padded]){margin:0 var(--mdc-list-side-padding, 16px)}.mdc-list ::slotted([divider][inset]){margin-left:var(--mdc-list-inset-margin, 72px);margin-right:0;width:calc(100% - var(--mdc-list-inset-margin, 72px))}.mdc-list-group[dir=rtl] .mdc-list ::slotted([divider][inset]),[dir=rtl] .mdc-list-group .mdc-list ::slotted([divider][inset]){margin-left:0;margin-right:var(--mdc-list-inset-margin, 72px)}.mdc-list ::slotted([divider][inset][padded]){width:calc(100% - var(--mdc-list-inset-margin, 72px) - var(--mdc-list-side-padding, 16px))}.mdc-list--dense ::slotted([mwc-list-item]){height:40px}.mdc-list--dense ::slotted([mwc-list]){--mdc-list-item-graphic-size: 20px}.mdc-list--two-line.mdc-list--dense ::slotted([mwc-list-item]),.mdc-list--avatar-list.mdc-list--dense ::slotted([mwc-list-item]){height:60px}.mdc-list--avatar-list.mdc-list--dense ::slotted([mwc-list]){--mdc-list-item-graphic-size: 36px}:host([noninteractive]){pointer-events:none;cursor:default}.mdc-list--dense ::slotted(.mdc-list-item__primary-text){display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list--dense ::slotted(.mdc-list-item__primary-text)::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list--dense ::slotted(.mdc-list-item__primary-text)::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}`
/**
@license
Copyright 2020 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/;let Ot=class extends It{};Ot.styles=Pt,Ot=n([Z("mwc-list")],Ot);
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var Nt,kt,Rt={ANCHOR:"mdc-menu-surface--anchor",ANIMATING_CLOSED:"mdc-menu-surface--animating-closed",ANIMATING_OPEN:"mdc-menu-surface--animating-open",FIXED:"mdc-menu-surface--fixed",OPEN:"mdc-menu-surface--open",ROOT:"mdc-menu-surface"},Ft={CLOSED_EVENT:"MDCMenuSurface:closed",OPENED_EVENT:"MDCMenuSurface:opened",FOCUSABLE_ELEMENTS:["button:not(:disabled)",'[href]:not([aria-disabled="true"])',"input:not(:disabled)","select:not(:disabled)","textarea:not(:disabled)",'[tabindex]:not([tabindex="-1"]):not([aria-disabled="true"])'].join(", ")},Mt={TRANSITION_OPEN_DURATION:120,TRANSITION_CLOSE_DURATION:75,MARGIN_TO_EDGE:32,ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO:.67};!function(e){e[e.BOTTOM=1]="BOTTOM",e[e.CENTER=2]="CENTER",e[e.RIGHT=4]="RIGHT",e[e.FLIP_RTL=8]="FLIP_RTL"}(Nt||(Nt={})),function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=4]="TOP_RIGHT",e[e.BOTTOM_LEFT=1]="BOTTOM_LEFT",e[e.BOTTOM_RIGHT=5]="BOTTOM_RIGHT",e[e.TOP_START=8]="TOP_START",e[e.TOP_END=12]="TOP_END",e[e.BOTTOM_START=9]="BOTTOM_START",e[e.BOTTOM_END=13]="BOTTOM_END"}(kt||(kt={}));
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var Dt,Lt=function(e){function n(t){var r=e.call(this,i({},n.defaultAdapter,t))||this;return r.isOpen_=!1,r.isQuickOpen_=!1,r.isHoistedElement_=!1,r.isFixedPosition_=!1,r.openAnimationEndTimerId_=0,r.closeAnimationEndTimerId_=0,r.animationRequestId_=0,r.anchorCorner_=kt.TOP_START,r.anchorMargin_={top:0,right:0,bottom:0,left:0},r.position_={x:0,y:0},r}return t(n,e),Object.defineProperty(n,"cssClasses",{get:function(){return Rt},enumerable:!0,configurable:!0}),Object.defineProperty(n,"strings",{get:function(){return Ft},enumerable:!0,configurable:!0}),Object.defineProperty(n,"numbers",{get:function(){return Mt},enumerable:!0,configurable:!0}),Object.defineProperty(n,"Corner",{get:function(){return kt},enumerable:!0,configurable:!0}),Object.defineProperty(n,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},hasAnchor:function(){return!1},isElementInContainer:function(){return!1},isFocused:function(){return!1},isRtl:function(){return!1},getInnerDimensions:function(){return{height:0,width:0}},getAnchorDimensions:function(){return null},getWindowDimensions:function(){return{height:0,width:0}},getBodyDimensions:function(){return{height:0,width:0}},getWindowScroll:function(){return{x:0,y:0}},setPosition:function(){},setMaxHeight:function(){},setTransformOrigin:function(){},saveFocus:function(){},restoreFocus:function(){},notifyClose:function(){},notifyOpen:function(){}}},enumerable:!0,configurable:!0}),n.prototype.init=function(){var e=n.cssClasses,t=e.ROOT,i=e.OPEN;if(!this.adapter_.hasClass(t))throw new Error(t+" class required in root element.");this.adapter_.hasClass(i)&&(this.isOpen_=!0)},n.prototype.destroy=function(){clearTimeout(this.openAnimationEndTimerId_),clearTimeout(this.closeAnimationEndTimerId_),cancelAnimationFrame(this.animationRequestId_)},n.prototype.setAnchorCorner=function(e){this.anchorCorner_=e},n.prototype.setAnchorMargin=function(e){this.anchorMargin_.top=e.top||0,this.anchorMargin_.right=e.right||0,this.anchorMargin_.bottom=e.bottom||0,this.anchorMargin_.left=e.left||0},n.prototype.setIsHoisted=function(e){this.isHoistedElement_=e},n.prototype.setFixedPosition=function(e){this.isFixedPosition_=e},n.prototype.setAbsolutePosition=function(e,t){this.position_.x=this.isFinite_(e)?e:0,this.position_.y=this.isFinite_(t)?t:0},n.prototype.setQuickOpen=function(e){this.isQuickOpen_=e},n.prototype.isOpen=function(){return this.isOpen_},n.prototype.open=function(){var e=this;this.adapter_.saveFocus(),this.isQuickOpen_||this.adapter_.addClass(n.cssClasses.ANIMATING_OPEN),this.animationRequestId_=requestAnimationFrame((function(){e.adapter_.addClass(n.cssClasses.OPEN),e.dimensions_=e.adapter_.getInnerDimensions(),e.autoPosition_(),e.isQuickOpen_?e.adapter_.notifyOpen():e.openAnimationEndTimerId_=setTimeout((function(){e.openAnimationEndTimerId_=0,e.adapter_.removeClass(n.cssClasses.ANIMATING_OPEN),e.adapter_.notifyOpen()}),Mt.TRANSITION_OPEN_DURATION)})),this.isOpen_=!0},n.prototype.close=function(e){var t=this;void 0===e&&(e=!1),this.isQuickOpen_||this.adapter_.addClass(n.cssClasses.ANIMATING_CLOSED),requestAnimationFrame((function(){t.adapter_.removeClass(n.cssClasses.OPEN),t.isQuickOpen_?t.adapter_.notifyClose():t.closeAnimationEndTimerId_=setTimeout((function(){t.closeAnimationEndTimerId_=0,t.adapter_.removeClass(n.cssClasses.ANIMATING_CLOSED),t.adapter_.notifyClose()}),Mt.TRANSITION_CLOSE_DURATION)})),this.isOpen_=!1,e||this.maybeRestoreFocus_()},n.prototype.handleBodyClick=function(e){var t=e.target;this.adapter_.isElementInContainer(t)||this.close()},n.prototype.handleKeydown=function(e){var t=e.keyCode;("Escape"===e.key||27===t)&&this.close()},n.prototype.autoPosition_=function(){var e;this.measurements_=this.getAutoLayoutMeasurements_();var t=this.getOriginCorner_(),i=this.getMenuSurfaceMaxHeight_(t),n=this.hasBit_(t,Nt.BOTTOM)?"bottom":"top",r=this.hasBit_(t,Nt.RIGHT)?"right":"left",o=this.getHorizontalOriginOffset_(t),s=this.getVerticalOriginOffset_(t),a=this.measurements_,l=a.anchorSize,d=a.surfaceSize,c=((e={})[r]=o,e[n]=s,e);l.width/d.width>Mt.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO&&(r="center"),(this.isHoistedElement_||this.isFixedPosition_)&&this.adjustPositionForHoistedElement_(c),this.adapter_.setTransformOrigin(r+" "+n),this.adapter_.setPosition(c),this.adapter_.setMaxHeight(i?i+"px":"")},n.prototype.getAutoLayoutMeasurements_=function(){var e=this.adapter_.getAnchorDimensions(),t=this.adapter_.getBodyDimensions(),i=this.adapter_.getWindowDimensions(),n=this.adapter_.getWindowScroll();return e||(e={top:this.position_.y,right:this.position_.x,bottom:this.position_.y,left:this.position_.x,width:0,height:0}),{anchorSize:e,bodySize:t,surfaceSize:this.dimensions_,viewportDistance:{top:e.top,right:i.width-e.right,bottom:i.height-e.bottom,left:e.left},viewportSize:i,windowScroll:n}},n.prototype.getOriginCorner_=function(){var e=kt.TOP_LEFT,t=this.measurements_,i=t.viewportDistance,n=t.anchorSize,r=t.surfaceSize,o=this.hasBit_(this.anchorCorner_,Nt.BOTTOM),s=o?i.top+n.height+this.anchorMargin_.bottom:i.top+this.anchorMargin_.top,a=o?i.bottom-this.anchorMargin_.bottom:i.bottom+n.height-this.anchorMargin_.top,l=r.height-s,d=r.height-a;d>0&&l<d&&(e=this.setBit_(e,Nt.BOTTOM));var c=this.adapter_.isRtl(),p=this.hasBit_(this.anchorCorner_,Nt.FLIP_RTL),h=this.hasBit_(this.anchorCorner_,Nt.RIGHT),u=h&&!c||!h&&p&&c,m=u?i.left+n.width+this.anchorMargin_.right:i.left+this.anchorMargin_.left,f=u?i.right-this.anchorMargin_.right:i.right+n.width-this.anchorMargin_.left,_=r.width-m,g=r.width-f;return(_<0&&u&&c||h&&!u&&_<0||g>0&&_<g)&&(e=this.setBit_(e,Nt.RIGHT)),e},n.prototype.getMenuSurfaceMaxHeight_=function(e){var t=this.measurements_.viewportDistance,i=0,r=this.hasBit_(e,Nt.BOTTOM),o=this.hasBit_(this.anchorCorner_,Nt.BOTTOM),s=n.numbers.MARGIN_TO_EDGE;return r?(i=t.top+this.anchorMargin_.top-s,o||(i+=this.measurements_.anchorSize.height)):(i=t.bottom-this.anchorMargin_.bottom+this.measurements_.anchorSize.height-s,o&&(i-=this.measurements_.anchorSize.height)),i},n.prototype.getHorizontalOriginOffset_=function(e){var t=this.measurements_.anchorSize,i=this.hasBit_(e,Nt.RIGHT),n=this.hasBit_(this.anchorCorner_,Nt.RIGHT);if(i){var r=n?t.width-this.anchorMargin_.left:this.anchorMargin_.right;return this.isHoistedElement_||this.isFixedPosition_?r-(this.measurements_.viewportSize.width-this.measurements_.bodySize.width):r}return n?t.width-this.anchorMargin_.right:this.anchorMargin_.left},n.prototype.getVerticalOriginOffset_=function(e){var t=this.measurements_.anchorSize,i=this.hasBit_(e,Nt.BOTTOM),n=this.hasBit_(this.anchorCorner_,Nt.BOTTOM);return i?n?t.height-this.anchorMargin_.top:-this.anchorMargin_.bottom:n?t.height+this.anchorMargin_.bottom:this.anchorMargin_.top},n.prototype.adjustPositionForHoistedElement_=function(e){var t,i,n=this.measurements_,r=n.windowScroll,o=n.viewportDistance,s=Object.keys(e);try{for(var a=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],i=0;return t?t.call(e):{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}}}(s),l=a.next();!l.done;l=a.next()){var d=l.value,c=e[d]||0;c+=o[d],this.isFixedPosition_||("top"===d?c+=r.y:"bottom"===d?c-=r.y:"left"===d?c+=r.x:c-=r.x),e[d]=c}}catch(e){t={error:e}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(t)throw t.error}}},n.prototype.maybeRestoreFocus_=function(){var e=this.adapter_.isFocused(),t=document.activeElement&&this.adapter_.isElementInContainer(document.activeElement);(e||t)&&this.adapter_.restoreFocus()},n.prototype.hasBit_=function(e,t){return Boolean(e&t)},n.prototype.setBit_=function(e,t){return e|t},n.prototype.isFinite_=function(e){return"number"==typeof e&&isFinite(e)},n}(ue);
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */class zt extends Te{constructor(){super(...arguments),this.mdcFoundationClass=Lt,this.absolute=!1,this.fullwidth=!1,this.anchor=null,this.fixed=!1,this.x=null,this.y=null,this.quick=!1,this.open=!1,this.corner="TOP_START",this.previouslyFocused=null,this.previousAnchor=null,this.onBodyClickBound=()=>{}}render(){const e={"mdc-menu-surface--fixed":this.fixed,fullwidth:this.fullwidth};return L`
      <div
          class="mdc-menu-surface ${Ie(e)}"
          @keydown=${this.onKeydown}
          @opened=${this.registerBodyClick}
          @closed=${this.deregisterBodyClick}>
        <slot></slot>
      </div>`}createAdapter(){return Object.assign(Object.assign({},be(this.mdcRoot)),{hasAnchor:()=>!!this.anchor,notifyClose:()=>{const e=new CustomEvent("closed",{bubbles:!0,composed:!0});this.open=!1,this.mdcRoot.dispatchEvent(e)},notifyOpen:()=>{const e=new CustomEvent("opened",{bubbles:!0,composed:!0});this.open=!0,this.mdcRoot.dispatchEvent(e)},isElementInContainer:()=>!1,isRtl:()=>!!this.mdcRoot&&"rtl"===getComputedStyle(this.mdcRoot).direction,setTransformOrigin:e=>{const t=this.mdcRoot;if(!t)return;const i=`${function(e,t){if(void 0===t&&(t=!1),void 0===Dt||t){var i=e.document.createElement("div");Dt="transform"in i.style?"transform":"webkitTransform"}return Dt}(window)}-origin`;t.style.setProperty(i,e)},isFocused:()=>Ce(this),saveFocus:()=>{const e=Ee(),t=e.length;t||(this.previouslyFocused=null),this.previouslyFocused=e[t-1]},restoreFocus:()=>{this.previouslyFocused&&"focus"in this.previouslyFocused&&this.previouslyFocused.focus()},getInnerDimensions:()=>{const e=this.mdcRoot;return e?{width:e.offsetWidth,height:e.offsetHeight}:{width:0,height:0}},getAnchorDimensions:()=>{const e=this.anchor;return e?e.getBoundingClientRect():null},getBodyDimensions:()=>({width:document.body.clientWidth,height:document.body.clientHeight}),getWindowDimensions:()=>({width:window.innerWidth,height:window.innerHeight}),getWindowScroll:()=>({x:window.pageXOffset,y:window.pageYOffset}),setPosition:e=>{const t=this.mdcRoot;t&&(t.style.left="left"in e?`${e.left}px`:"",t.style.right="right"in e?`${e.right}px`:"",t.style.top="top"in e?`${e.top}px`:"",t.style.bottom="bottom"in e?`${e.bottom}px`:"")},setMaxHeight:e=>{const t=this.mdcRoot;t&&(t.style.maxHeight=e)}})}onKeydown(e){this.mdcFoundation&&this.mdcFoundation.handleKeydown(e)}onBodyClick(e){-1===e.composedPath().indexOf(this)&&this.close()}registerBodyClick(){this.onBodyClickBound=this.onBodyClick.bind(this),document.body.addEventListener("click",this.onBodyClickBound)}deregisterBodyClick(){document.body.removeEventListener("click",this.onBodyClickBound)}saveOrRestoreAnchor(e){e&&(this.previousAnchor=this.anchor,this.anchor=null),e||this.anchor||!this.previousAnchor||(this.anchor=this.previousAnchor)}close(){this.open=!1}show(){this.open=!0}}n([te(".mdc-menu-surface")],zt.prototype,"mdcRoot",void 0),n([te("slot")],zt.prototype,"slotElement",void 0),n([ee({type:Boolean}),_e((function(e){this.mdcFoundation&&!this.fixed&&(this.mdcFoundation.setIsHoisted(e),this.saveOrRestoreAnchor(e))}))],zt.prototype,"absolute",void 0),n([ee({type:Boolean})],zt.prototype,"fullwidth",void 0),n([ee({type:Object}),_e((function(e,t){t&&(t.style.position=""),e&&(e.style.position="relative")}))],zt.prototype,"anchor",void 0),n([ee({type:Boolean}),_e((function(e){this.mdcFoundation&&!this.absolute&&(this.mdcFoundation.setIsHoisted(e),this.saveOrRestoreAnchor(e))}))],zt.prototype,"fixed",void 0),n([ee({type:Number}),_e((function(e){this.mdcFoundation&&null!==this.y&&null!==e&&(this.mdcFoundation.setAbsolutePosition(e,this.y),this.mdcFoundation.setAnchorMargin({left:e,top:this.y}))}))],zt.prototype,"x",void 0),n([ee({type:Number}),_e((function(e){this.mdcFoundation&&null!==this.x&&null!==e&&(this.mdcFoundation.setAbsolutePosition(this.x,e),this.mdcFoundation.setAnchorMargin({left:this.x,top:e}))}))],zt.prototype,"y",void 0),n([ee({type:Boolean}),_e((function(e){this.mdcFoundation&&this.mdcFoundation.setQuickOpen(e)}))],zt.prototype,"quick",void 0),n([ee({type:Boolean,reflect:!0}),_e((function(e){this.mdcFoundation&&(e?this.mdcFoundation.open():this.mdcFoundation.close())}))],zt.prototype,"open",void 0),n([ee({type:String}),_e((function(e){this.mdcFoundation&&(e?this.mdcFoundation.setAnchorCorner(kt[e]):this.mdcFoundation.setAnchorCorner(kt.TOP_START))}))],zt.prototype,"corner",void 0);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const Ht=ae`.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-height:calc(100vh - 32px);margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;transition:opacity .03s linear,transform .12s cubic-bezier(0, 0, 0.2, 1);box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0,0,0,.12);background-color:#fff;background-color:var(--mdc-theme-surface, #fff);color:#000;color:var(--mdc-theme-on-surface, #000);border-radius:4px;transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0;transition:opacity .075s linear}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}:host(:not([open])){display:none}.fullwidth{width:100%}`
/**
@license
Copyright 2020 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/;let Bt=class extends zt{};Bt.styles=Ht,Bt=n([Z("mwc-menu-surface")],Bt);
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var jt,Vt={MENU_SELECTED_LIST_ITEM:"mdc-menu-item--selected",MENU_SELECTION_GROUP:"mdc-menu__selection-group",ROOT:"mdc-menu"},$t={ARIA_CHECKED_ATTR:"aria-checked",ARIA_DISABLED_ATTR:"aria-disabled",CHECKBOX_SELECTOR:'input[type="checkbox"]',LIST_SELECTOR:".mdc-list",SELECTED_EVENT:"MDCMenu:selected"},Ut={FOCUS_ROOT_INDEX:-1};!function(e){e[e.NONE=0]="NONE",e[e.LIST_ROOT=1]="LIST_ROOT",e[e.FIRST_ITEM=2]="FIRST_ITEM",e[e.LAST_ITEM=3]="LAST_ITEM"}(jt||(jt={}));
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var qt=function(e){function n(t){var r=e.call(this,i({},n.defaultAdapter,t))||this;return r.closeAnimationEndTimerId_=0,r.defaultFocusState_=jt.LIST_ROOT,r}return t(n,e),Object.defineProperty(n,"cssClasses",{get:function(){return Vt},enumerable:!0,configurable:!0}),Object.defineProperty(n,"strings",{get:function(){return $t},enumerable:!0,configurable:!0}),Object.defineProperty(n,"numbers",{get:function(){return Ut},enumerable:!0,configurable:!0}),Object.defineProperty(n,"defaultAdapter",{get:function(){return{addClassToElementAtIndex:function(){},removeClassFromElementAtIndex:function(){},addAttributeToElementAtIndex:function(){},removeAttributeFromElementAtIndex:function(){},elementContainsClass:function(){return!1},closeSurface:function(){},getElementIndex:function(){return-1},notifySelected:function(){},getMenuItemCount:function(){return 0},focusItemAtIndex:function(){},focusListRoot:function(){},getSelectedSiblingOfItemAtIndex:function(){return-1},isSelectableItemAtIndex:function(){return!1}}},enumerable:!0,configurable:!0}),n.prototype.destroy=function(){this.closeAnimationEndTimerId_&&clearTimeout(this.closeAnimationEndTimerId_),this.adapter_.closeSurface()},n.prototype.handleKeydown=function(e){var t=e.key,i=e.keyCode;("Tab"===t||9===i)&&this.adapter_.closeSurface(!0)},n.prototype.handleItemAction=function(e){var t=this,i=this.adapter_.getElementIndex(e);i<0||(this.adapter_.notifySelected({index:i}),this.adapter_.closeSurface(),this.closeAnimationEndTimerId_=setTimeout((function(){var i=t.adapter_.getElementIndex(e);t.adapter_.isSelectableItemAtIndex(i)&&t.setSelectedIndex(i)}),Lt.numbers.TRANSITION_CLOSE_DURATION))},n.prototype.handleMenuSurfaceOpened=function(){switch(this.defaultFocusState_){case jt.FIRST_ITEM:this.adapter_.focusItemAtIndex(0);break;case jt.LAST_ITEM:this.adapter_.focusItemAtIndex(this.adapter_.getMenuItemCount()-1);break;case jt.NONE:break;default:this.adapter_.focusListRoot()}},n.prototype.setDefaultFocusState=function(e){this.defaultFocusState_=e},n.prototype.setSelectedIndex=function(e){if(this.validatedIndex_(e),!this.adapter_.isSelectableItemAtIndex(e))throw new Error("MDCMenuFoundation: No selection group at specified index.");var t=this.adapter_.getSelectedSiblingOfItemAtIndex(e);t>=0&&(this.adapter_.removeAttributeFromElementAtIndex(t,$t.ARIA_CHECKED_ATTR),this.adapter_.removeClassFromElementAtIndex(t,Vt.MENU_SELECTED_LIST_ITEM)),this.adapter_.addClassToElementAtIndex(e,Vt.MENU_SELECTED_LIST_ITEM),this.adapter_.addAttributeToElementAtIndex(e,$t.ARIA_CHECKED_ATTR,"true")},n.prototype.setEnabled=function(e,t){this.validatedIndex_(e),t?(this.adapter_.removeClassFromElementAtIndex(e,vt),this.adapter_.addAttributeToElementAtIndex(e,$t.ARIA_DISABLED_ATTR,"false")):(this.adapter_.addClassToElementAtIndex(e,vt),this.adapter_.addAttributeToElementAtIndex(e,$t.ARIA_DISABLED_ATTR,"true"))},n.prototype.validatedIndex_=function(e){var t=this.adapter_.getMenuItemCount();if(!(e>=0&&e<t))throw new Error("MDCMenuFoundation: No list item at specified index.")},n}(ue);class Gt extends Te{constructor(){super(...arguments),this.mdcFoundationClass=qt,this.listElement_=null,this.anchor=null,this.open=!1,this.quick=!1,this.wrapFocus=!1,this.innerRole="menu",this.corner="TOP_START",this.x=null,this.y=null,this.absolute=!1,this.multi=!1,this.activatable=!1,this.fixed=!1,this.forceGroupSelection=!1,this.fullwidth=!1,this.defaultFocus="LIST_ROOT"}get listElement(){return this.listElement_?this.listElement_:(this.listElement_=this.renderRoot.querySelector("mwc-list"),this.listElement_)}get items(){const e=this.listElement;return e?e.items:[]}get index(){const e=this.listElement;return e?e.index:-1}get selected(){const e=this.listElement;return e?e.selected:null}render(){const e="menu"===this.innerRole?"menuitem":"option";return L`
      <mwc-menu-surface
          ?hidden=${!this.open}
          .anchor=${this.anchor}
          .open=${this.open}
          .quick=${this.quick}
          .corner=${this.corner}
          .x=${this.x}
          .y=${this.y}
          .absolute=${this.absolute}
          .fixed=${this.fixed}
          .fullwidth=${this.fullwidth}
          class="mdc-menu mdc-menu-surface"
          @closed=${this.onClosed}
          @opened=${this.onOpened}
          @keydown=${this.onKeydown}>
          <mwc-list
            rootTabbable
            .innerRole=${this.innerRole}
            .multi=${this.multi}
            class="mdc-list"
            .itemRoles=${e}
            .wrapFocus=${this.wrapFocus}
            .activatable=${this.activatable}
            @action=${this.onAction}>
          <slot></slot>
        </mwc-list>
      </mwc-menu-surface>`}createAdapter(){return{addClassToElementAtIndex:(e,t)=>{const i=this.listElement;if(!i)return;const n=i.items[e];n&&("mdc-menu-item--selected"===t?this.forceGroupSelection&&!n.selected&&i.toggle(e,!0):n.classList.add(t))},removeClassFromElementAtIndex:(e,t)=>{const i=this.listElement;if(!i)return;const n=i.items[e];n&&("mdc-menu-item--selected"===t?n.selected&&i.toggle(e,!1):n.classList.remove(t))},addAttributeToElementAtIndex:(e,t,i)=>{const n=this.listElement;if(!n)return;const r=n.items[e];r&&r.setAttribute(t,i)},removeAttributeFromElementAtIndex:(e,t)=>{const i=this.listElement;if(!i)return;const n=i.items[e];n&&n.removeAttribute(t)},elementContainsClass:(e,t)=>e.classList.contains(t),closeSurface:()=>{this.open=!1},getElementIndex:e=>{const t=this.listElement;return t?t.items.indexOf(e):-1},notifySelected:()=>{},getMenuItemCount:()=>{const e=this.listElement;return e?e.items.length:0},focusItemAtIndex:e=>{const t=this.listElement;if(!t)return;const i=t.items[e];i&&i.focus()},focusListRoot:()=>{this.listElement&&this.listElement.focus()},getSelectedSiblingOfItemAtIndex:e=>{const t=this.listElement;if(!t)return-1;const i=t.items[e];if(!i||!i.group)return-1;for(let n=0;n<t.items.length;n++){if(n===e)continue;const r=t.items[n];if(r.selected&&r.group===i.group)return n}return-1},isSelectableItemAtIndex:e=>{const t=this.listElement;if(!t)return!1;const i=t.items[e];return!!i&&i.hasAttribute("group")}}}onKeydown(e){this.mdcFoundation&&this.mdcFoundation.handleKeydown(e)}onAction(e){const t=this.listElement;if(this.mdcFoundation&&t){const i=e.detail.index,n=t.items[i];n&&this.mdcFoundation.handleItemAction(n)}}onOpened(){this.open=!0,this.mdcFoundation&&this.mdcFoundation.handleMenuSurfaceOpened()}onClosed(){this.open=!1}select(e){const t=this.listElement;t&&t.select(e)}close(){this.open=!1}show(){this.open=!0}layout(e=!0){const t=this.listElement;t&&t.layout(e)}}n([te(".mdc-menu")],Gt.prototype,"mdcRoot",void 0),n([te("slot")],Gt.prototype,"slotElement",void 0),n([ee({type:Object})],Gt.prototype,"anchor",void 0),n([ee({type:Boolean,reflect:!0})],Gt.prototype,"open",void 0),n([ee({type:Boolean})],Gt.prototype,"quick",void 0),n([ee({type:Boolean})],Gt.prototype,"wrapFocus",void 0),n([ee({type:String})],Gt.prototype,"innerRole",void 0),n([ee({type:String})],Gt.prototype,"corner",void 0),n([ee({type:Number})],Gt.prototype,"x",void 0),n([ee({type:Number})],Gt.prototype,"y",void 0),n([ee({type:Boolean})],Gt.prototype,"absolute",void 0),n([ee({type:Boolean})],Gt.prototype,"multi",void 0),n([ee({type:Boolean})],Gt.prototype,"activatable",void 0),n([ee({type:Boolean})],Gt.prototype,"fixed",void 0),n([ee({type:Boolean})],Gt.prototype,"forceGroupSelection",void 0),n([ee({type:Boolean})],Gt.prototype,"fullwidth",void 0),n([ee({type:String}),_e((function(e){this.mdcFoundation&&this.mdcFoundation.setDefaultFocusState(jt[e])}))],Gt.prototype,"defaultFocus",void 0);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const Xt=ae`mwc-list ::slotted([mwc-list-item]:not([twoline])){height:var(--mdc-menu-item-height, 48px)}mwc-list{max-width:var(--mdc-menu-max-width, auto);min-width:var(--mdc-menu-min-width, auto)}`
/**
@license
Copyright 2020 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/;let Yt=class extends Gt{};Yt.styles=Xt,Yt=n([Z("mwc-menu")],Yt);
/**
 @license
 Copyright 2020 Google Inc. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 */
class Jt extends de{constructor(){super(...arguments),this.value="",this.group=null,this.tabindex=-1,this.disabled=!1,this.twoline=!1,this.activated=!1,this.graphic=null,this.hasMeta=!1,this.noninteractive=!1,this.selected=!1,this.boundOnClick=this.onClick.bind(this)}get text(){const e=this.textContent;return e?e.trim():""}render(){const e=this.renderText(),t=this.graphic?this.renderGraphic():L``,i=this.hasMeta?this.renderMeta():L``;return L`
      ${t}
      ${e}
      ${i}`}renderGraphic(){return L`
      <span class="mdc-list-item__graphic material-icons">
        <slot name="graphic"></slot>
      </span>`}renderMeta(){return L`
      <span class="mdc-list-item__meta material-icons">
        <slot name="meta"></slot>
      </span>`}renderText(){const e=this.twoline?this.renderTwoline():this.renderSingleLine();return L`
      <span class="mdc-list-item__text">
        ${e}
      </span>`}renderSingleLine(){return L`<slot></slot>`}renderTwoline(){return L`
      <span class="mdc-list-item__primary-text">
        <slot></slot>
      </span>
      <span class="mdc-list-item__secondary-text">
        <slot name="secondary"></slot>
      </span>
    `}onClick(){this.fireRequestDetail(!1,!this.selected)}fireRequestDetail(e,t){const i=new CustomEvent("request-selected",{bubbles:!0,composed:!0,detail:{isClick:e,selected:t}});this.dispatchEvent(i)}connectedCallback(){super.connectedCallback(),this.noninteractive||this.toggleAttribute("mwc-list-item",!0),this.addEventListener("click",this.boundOnClick)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this.boundOnClick)}firstUpdated(){this.dispatchEvent(new Event("list-item-rendered",{bubbles:!0,composed:!0})),We({surfaceNode:this,unbounded:!1})}}n([te("slot")],Jt.prototype,"slotElement",void 0),n([ee({type:String})],Jt.prototype,"value",void 0),n([ee({type:String,reflect:!0})],Jt.prototype,"group",void 0),n([ee({type:Number,reflect:!0})],Jt.prototype,"tabindex",void 0),n([ee({type:Boolean,reflect:!0}),_e((function(e){e?this.setAttribute("aria-disabled","true"):this.setAttribute("aria-disabled","false")}))],Jt.prototype,"disabled",void 0),n([ee({type:Boolean,reflect:!0})],Jt.prototype,"twoline",void 0),n([ee({type:Boolean,reflect:!0})],Jt.prototype,"activated",void 0),n([ee({type:String,reflect:!0})],Jt.prototype,"graphic",void 0),n([ee({type:Boolean})],Jt.prototype,"hasMeta",void 0),n([ee({type:Boolean,reflect:!0}),_e((function(e){e?(this.removeAttribute("aria-checked"),this.removeAttribute("mwc-list-item"),this.selected=!1,this.activated=!1,this.tabIndex=-1):this.toggleAttribute("mwc-list-item",!0)}))],Jt.prototype,"noninteractive",void 0),n([ee({type:Boolean,reflect:!0}),_e((function(e){e?this.setAttribute("aria-selected","true"):this.setAttribute("aria-selected","false")}))],Jt.prototype,"selected",void 0);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const Wt=ae`:host{cursor:pointer;user-select:none;height:48px;display:flex;position:relative;align-items:center;justify-content:flex-start;padding:0 16px;overflow:hidden;padding-left:var(--mdc-list-side-padding, 16px);padding-right:var(--mdc-list-side-padding, 16px);outline:none;height:48px;color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87))}:host:focus{outline:none}:host([activated]){color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}:host([activated]) .mdc-list-item__graphic{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-list-item__graphic{flex-shrink:0;align-items:center;justify-content:center;fill:currentColor;display:inline-flex}.mdc-list-item__graphic ::slotted(*){flex-shrink:0;align-items:center;justify-content:center;fill:currentColor;width:100%;height:100%;text-align:center}.mdc-list-item__meta{width:var(--mdc-list-item-meta-size, 24px);height:var(--mdc-list-item-meta-size, 24px);margin-left:auto;margin-right:0;color:rgba(0,0,0,.38);color:var(--mdc-theme-text-hint-on-background, rgba(0, 0, 0, 0.38))}.mdc-list-item__meta ::slotted(*){line-height:var(--mdc-list-item-meta-size, 24px)}.mdc-list-item__meta ::slotted(.material-icons),.mdc-list-item__meta ::slotted(mwc-icon){line-height:var(--mdc-list-item-meta-size, 24px) !important}.mdc-list-item__meta ::slotted(:not(.material-icons):not(mwc-icon)){font-family:Roboto, sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.75rem;line-height:1.25rem;font-weight:400;letter-spacing:.0333333333em;text-decoration:inherit;text-transform:inherit}:host[dir=rtl] .mdc-list-item__meta,[dir=rtl] :host .mdc-list-item__meta{margin-left:0;margin-right:auto}.mdc-list-item__meta ::slotted(*){width:100%;height:100%}.mdc-list-item__text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item__text ::slotted([for]),.mdc-list-item__text[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal;margin-bottom:-20px;display:block}.mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{font-family:Roboto, sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:1.25rem;font-weight:400;letter-spacing:.0178571429em;text-decoration:inherit;text-transform:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal;display:block}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list--dense .mdc-list-item__secondary-text{display:block;margin-top:0;line-height:normal;font-size:inherit}.mdc-list--dense .mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}* ::slotted(a),a{color:inherit;text-decoration:none}:host([twoline]){height:72px}:host([twoline]) .mdc-list-item__text{align-self:flex-start}:host(:not([disabled])){--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0)}:host(:not([disabled]))::before,:host(:not([disabled]))::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:"";top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}:host(:not([disabled]))::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1}:host(:not([disabled]))::before,:host(:not([disabled]))::after{background-color:#000}:host(.mdc-ripple-upgraded:not([disabled]))::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}:host(.mdc-ripple-upgraded:not([disabled]))::after{top:0;left:0;transform:scale(0);transform-origin:center center;width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}:host(.mdc-ripple-upgraded--unbounded:not([disabled]))::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}:host(.mdc-ripple-upgraded--foreground-activation:not([disabled]))::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}:host(.mdc-ripple-upgraded--foreground-deactivation:not([disabled]))::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}:host([disabled],[noninteractive]){cursor:default;pointer-events:none}:host([disabled]) .mdc-list-item__text ::slotted(*){opacity:.38}:host([disabled]) .mdc-list-item__text ::slotted(*),:host([disabled]) .mdc-list-item__primary-text ::slotted(*),:host([disabled]) .mdc-list-item__secondary-text ::slotted(*){color:#000;color:var(--mdc-theme-on-surface, #000)}:host(:not([disabled]):hover)::before{opacity:.04}:host(:not([disabled]).mdc-ripple-upgraded--background-focused)::before,:host(:not([disabled]):not(.mdc-ripple-upgraded):focus)::before{transition-duration:75ms;opacity:.12}:host(:not([disabled]):not(.mdc-ripple-upgraded))::after{transition:opacity 150ms linear}:host(:not([disabled]):not(.mdc-ripple-upgraded):active)::after{transition-duration:75ms;opacity:.12}:host(:not([disabled]).mdc-ripple-upgraded){--mdc-ripple-fg-opacity: 0.12}:host([activated]:not([disabled]).mdc-ripple-upgraded--background-focused)::before,:host([activated]:not([disabled]):not(.mdc-ripple-upgraded):focus)::before{transition-duration:75ms;opacity:.2}:host([activated]:not([disabled]):not(.mdc-ripple-upgraded):active)::after{opacity:.2}:host([activated]:not([disabled]).mdc-ripple-upgraded){--mdc-ripple-fg-opacity: 0.2}:host([activated]:not([disabled]))::before{opacity:.12}:host([activated]:not([disabled]))::before,:host([activated]:not([disabled]))::after{background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee)}:host([activated]:not([disabled]):hover)::before{opacity:.16}:host([activated]:not([disabled]).mdc-ripple-upgraded--background-focused)::before,:host([activated]:not([disabled]):not(.mdc-ripple-upgraded):focus)::before{transition-duration:75ms;opacity:.24}:host([activated]:not([disabled]):not(.mdc-ripple-upgraded):active)::after{opacity:.24}:host([activated]:not([disabled]).mdc-ripple-upgraded){--mdc-ripple-fg-opacity: 0.24}.mdc-list-item__secondary-text ::slotted(*){color:rgba(0,0,0,.54);color:var(--mdc-theme-text-secondary-on-background, rgba(0, 0, 0, 0.54))}.mdc-list-item__graphic ::slotted(*){background-color:transparent;color:rgba(0,0,0,.38);color:var(--mdc-theme-text-icon-on-background, rgba(0, 0, 0, 0.38))}.mdc-list-group__subheader ::slotted(*){color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87))}:host([graphic=avatar]) .mdc-list-item__graphic{width:var(--mdc-list-item-graphic-size, 40px);height:var(--mdc-list-item-graphic-size, 40px)}:host([graphic=avatar]) .mdc-list-item__graphic ::slotted(*){line-height:var(--mdc-list-item-graphic-size, 40px)}:host([graphic=avatar]) .mdc-list-item__graphic ::slotted(.material-icons),:host([graphic=avatar]) .mdc-list-item__graphic ::slotted(mwc-icon){line-height:var(--mdc-list-item-graphic-size, 40px) !important}:host([graphic=avatar]) .mdc-list-item__graphic ::slotted(*){border-radius:50%}:host([graphic=avatar],[graphic=medium],[graphic=large],[graphic=control]) .mdc-list-item__graphic{margin-left:0;margin-right:var(--mdc-list-item-graphic-margin, 16px)}:host[dir=rtl] :host([graphic=avatar],[graphic=medium],[graphic=large],[graphic=control]) .mdc-list-item__graphic,[dir=rtl] :host :host([graphic=avatar],[graphic=medium],[graphic=large],[graphic=control]) .mdc-list-item__graphic{margin-left:var(--mdc-list-item-graphic-margin, 16px);margin-right:0}:host([graphic=icon]) .mdc-list-item__graphic{width:var(--mdc-list-item-graphic-size, 24px);height:var(--mdc-list-item-graphic-size, 24px);margin-left:0;margin-right:var(--mdc-list-item-graphic-margin, 32px)}:host([graphic=icon]) .mdc-list-item__graphic ::slotted(*){line-height:var(--mdc-list-item-graphic-size, 24px)}:host([graphic=icon]) .mdc-list-item__graphic ::slotted(.material-icons),:host([graphic=icon]) .mdc-list-item__graphic ::slotted(mwc-icon){line-height:var(--mdc-list-item-graphic-size, 24px) !important}:host[dir=rtl] :host([graphic=icon]) .mdc-list-item__graphic,[dir=rtl] :host :host([graphic=icon]) .mdc-list-item__graphic{margin-left:var(--mdc-list-item-graphic-margin, 32px);margin-right:0}:host([graphic=avatar]:not([twoLine])),:host([graphic=icon]:not([twoLine])){height:56px}:host([graphic=medium]:not([twoLine])),:host([graphic=large]:not([twoLine])){height:72px}:host([graphic=medium]) .mdc-list-item__graphic,:host([graphic=large]) .mdc-list-item__graphic{width:var(--mdc-list-item-graphic-size, 56px);height:var(--mdc-list-item-graphic-size, 56px)}:host([graphic=medium]) .mdc-list-item__graphic ::slotted(*),:host([graphic=large]) .mdc-list-item__graphic ::slotted(*){line-height:var(--mdc-list-item-graphic-size, 56px)}:host([graphic=medium]) .mdc-list-item__graphic ::slotted(.material-icons),:host([graphic=medium]) .mdc-list-item__graphic ::slotted(mwc-icon),:host([graphic=large]) .mdc-list-item__graphic ::slotted(.material-icons),:host([graphic=large]) .mdc-list-item__graphic ::slotted(mwc-icon){line-height:var(--mdc-list-item-graphic-size, 56px) !important}:host([graphic=large]){padding-left:0px}`
/**
@license
Copyright 2020 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/;let Kt=class extends Jt{};Kt.styles=Wt,Kt=n([Z("mwc-list-item")],Kt);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const Zt=ae`:host{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}`;let Qt=class extends de{render(){return L`<slot></slot>`}};Qt.styles=Zt,Qt=n([Z("mwc-icon")],Qt);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const ei=!(window.ShadyDOM&&window.ShadyDOM.inUse);let ti,ii;function ni(e){ti=(!e||!e.shimcssproperties)&&(ei||Boolean(!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(ii=window.ShadyCSS.cssBuild);const ri=Boolean(window.ShadyCSS&&window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?ti=window.ShadyCSS.nativeCss:window.ShadyCSS?(ni(window.ShadyCSS),window.ShadyCSS=void 0):ni(window.WebComponents&&window.WebComponents.flags);const oi=ti;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/class si{constructor(){this.start=0,this.end=0,this.previous=null,this.parent=null,this.rules=null,this.parsedCssText="",this.cssText="",this.atRule=!1,this.type=0,this.keyframesName="",this.selector="",this.parsedSelector=""}}function ai(e){return function e(t,i){let n=i.substring(t.start,t.end-1);if(t.parsedCssText=t.cssText=n.trim(),t.parent){let e=t.previous?t.previous.end:t.parent.start;n=i.substring(e,t.start-1),n=function(e){return e.replace(/\\([0-9a-f]{1,6})\s/gi,(function(){let e=arguments[1],t=6-e.length;for(;t--;)e="0"+e;return"\\"+e}))}(n),n=n.replace(hi.multipleSpaces," "),n=n.substring(n.lastIndexOf(";")+1);let r=t.parsedSelector=t.selector=n.trim();t.atRule=0===r.indexOf(fi),t.atRule?0===r.indexOf(mi)?t.type=di.MEDIA_RULE:r.match(hi.keyframesRule)&&(t.type=di.KEYFRAMES_RULE,t.keyframesName=t.selector.split(hi.multipleSpaces).pop()):0===r.indexOf(ui)?t.type=di.MIXIN_RULE:t.type=di.STYLE_RULE}let r=t.rules;if(r)for(let t,n=0,o=r.length;n<o&&(t=r[n]);n++)e(t,i);return t}(function(e){let t=new si;t.start=0,t.end=e.length;let i=t;for(let n=0,r=e.length;n<r;n++)if(e[n]===ci){i.rules||(i.rules=[]);let e=i,t=e.rules[e.rules.length-1]||null;i=new si,i.start=n+1,i.parent=e,i.previous=t,e.rules.push(i)}else e[n]===pi&&(i.end=n+1,i=i.parent||t);return t}(e=e.replace(hi.comments,"").replace(hi.port,"")),e)}function li(e,t,i=""){let n="";if(e.cssText||e.rules){let i=e.rules;if(i&&!function(e){let t=e[0];return Boolean(t)&&Boolean(t.selector)&&0===t.selector.indexOf(ui)}(i))for(let e,r=0,o=i.length;r<o&&(e=i[r]);r++)n=li(e,t,n);else n=t?e.cssText:function(e){return function(e){return e.replace(hi.mixinApply,"").replace(hi.varApply,"")}(e=function(e){return e.replace(hi.customProp,"").replace(hi.mixinProp,"")}(e))}(e.cssText),n=n.trim(),n&&(n="  "+n+"\n")}return n&&(e.selector&&(i+=e.selector+" "+ci+"\n"),i+=n,e.selector&&(i+=pi+"\n\n")),i}const di={STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1e3},ci="{",pi="}",hi={comments:/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},ui="--",mi="@media",fi="@",_i=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,gi=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,yi=/@media\s(.*)/,bi=new Set;function vi(e){const t=e.textContent;if(!bi.has(t)){bi.add(t);const e=document.createElement("style");e.setAttribute("shady-unscoped",""),e.textContent=t,document.head.appendChild(e)}}function xi(e){return e.hasAttribute("shady-unscoped")}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function wi(e,t){return e?("string"==typeof e&&(e=ai(e)),t&&Ei(e,t),li(e,oi)):""}function Si(e){return!e.__cssRules&&e.textContent&&(e.__cssRules=ai(e.textContent)),e.__cssRules||null}function Ei(e,t,i,n){if(!e)return;let r=!1,o=e.type;if(n&&o===di.MEDIA_RULE){let t=e.selector.match(yi);t&&(window.matchMedia(t[1]).matches||(r=!0))}o===di.STYLE_RULE?t(e):i&&o===di.KEYFRAMES_RULE?i(e):o===di.MIXIN_RULE&&(r=!0);let s=e.rules;if(s&&!r)for(let e,r=0,o=s.length;r<o&&(e=s[r]);r++)Ei(e,t,i,n)}window.ShadyDOM&&window.ShadyDOM.wrap;function Ci(e){if(void 0!==ii)return ii;if(void 0===e.__cssBuild){const t=e.getAttribute("css-build");if(t)e.__cssBuild=t;else{const t=function(e){const t="template"===e.localName?e.content.firstChild:e.firstChild;if(t instanceof Comment){const e=t.textContent.trim().split(":");if("css-build"===e[0])return e[1]}return""}(e);""!==t&&function(e){const t="template"===e.localName?e.content.firstChild:e.firstChild;t.parentNode.removeChild(t)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/(e),e.__cssBuild=t}}return e.__cssBuild||""}function Ti(e){return""!==Ci(e)}function Ai(e,t){for(let i in t)null===i?e.style.removeProperty(i):e.style.setProperty(i,t[i])}function Ii(e,t){const i=window.getComputedStyle(e).getPropertyValue(t);return i?i.trim():""}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const Pi=/;\s*/m,Oi=/^\s*(initial)|(inherit)\s*$/,Ni=/\s*!important/;class ki{constructor(){this._map={}}set(e,t){e=e.trim(),this._map[e]={properties:t,dependants:{}}}get(e){return e=e.trim(),this._map[e]||null}}let Ri=null;class Fi{constructor(){this._currentElement=null,this._measureElement=null,this._map=new ki}detectMixin(e){return function(e){const t=gi.test(e)||_i.test(e);return gi.lastIndex=0,_i.lastIndex=0,t}(e)}gatherStyles(e){const t=function(e){const t=[],i=e.querySelectorAll("style");for(let e=0;e<i.length;e++){const n=i[e];xi(n)?ei||(vi(n),n.parentNode.removeChild(n)):(t.push(n.textContent),n.parentNode.removeChild(n))}return t.join("").trim()}(e.content);if(t){const i=document.createElement("style");return i.textContent=t,e.content.insertBefore(i,e.content.firstChild),i}return null}transformTemplate(e,t){void 0===e._gatheredStyle&&(e._gatheredStyle=this.gatherStyles(e));const i=e._gatheredStyle;return i?this.transformStyle(i,t):null}transformStyle(e,t=""){let i=Si(e);return this.transformRules(i,t),e.textContent=wi(i),i}transformCustomStyle(e){let t=Si(e);return Ei(t,e=>{":root"===e.selector&&(e.selector="html"),this.transformRule(e)}),e.textContent=wi(t),t}transformRules(e,t){this._currentElement=t,Ei(e,e=>{this.transformRule(e)}),this._currentElement=null}transformRule(e){e.cssText=this.transformCssText(e.parsedCssText,e),":root"===e.selector&&(e.selector=":host > *")}transformCssText(e,t){return e=e.replace(_i,(e,i,n,r)=>this._produceCssProperties(e,i,n,r,t)),this._consumeCssProperties(e,t)}_getInitialValueForProperty(e){return this._measureElement||(this._measureElement=document.createElement("meta"),this._measureElement.setAttribute("apply-shim-measure",""),this._measureElement.style.all="initial",document.head.appendChild(this._measureElement)),window.getComputedStyle(this._measureElement).getPropertyValue(e)}_fallbacksFromPreviousRules(e){let t=e;for(;t.parent;)t=t.parent;const i={};let n=!1;return Ei(t,t=>{n=n||t===e,n||t.selector===e.selector&&Object.assign(i,this._cssTextToMap(t.parsedCssText))}),i}_consumeCssProperties(e,t){let i=null;for(;i=gi.exec(e);){let n=i[0],r=i[1],o=i.index,s=o+n.indexOf("@apply"),a=o+n.length,l=e.slice(0,s),d=e.slice(a),c=t?this._fallbacksFromPreviousRules(t):{};Object.assign(c,this._cssTextToMap(l));let p=this._atApplyToCssProperties(r,c);e=`${l}${p}${d}`,gi.lastIndex=o+p.length}return e}_atApplyToCssProperties(e,t){e=e.replace(Pi,"");let i=[],n=this._map.get(e);if(n||(this._map.set(e,{}),n=this._map.get(e)),n){let r,o,s;this._currentElement&&(n.dependants[this._currentElement]=!0);const a=n.properties;for(r in a)s=t&&t[r],o=[r,": var(",e,"_-_",r],s&&o.push(",",s.replace(Ni,"")),o.push(")"),Ni.test(a[r])&&o.push(" !important"),i.push(o.join(""))}return i.join("; ")}_replaceInitialOrInherit(e,t){let i=Oi.exec(t);return i&&(t=i[1]?this._getInitialValueForProperty(e):"apply-shim-inherit"),t}_cssTextToMap(e,t=!1){let i,n,r=e.split(";"),o={};for(let e,s,a=0;a<r.length;a++)e=r[a],e&&(s=e.split(":"),s.length>1&&(i=s[0].trim(),n=s.slice(1).join(":"),t&&(n=this._replaceInitialOrInherit(i,n)),o[i]=n));return o}_invalidateMixinEntry(e){if(Ri)for(let t in e.dependants)t!==this._currentElement&&Ri(t)}_produceCssProperties(e,t,i,n,r){if(i&&function e(t,i){let n=t.indexOf("var(");if(-1===n)return i(t,"","","");let r=function(e,t){let i=0;for(let n=t,r=e.length;n<r;n++)if("("===e[n])i++;else if(")"===e[n]&&0==--i)return n;return-1}(t,n+3),o=t.substring(n+4,r),s=t.substring(0,n),a=e(t.substring(r+1),i),l=o.indexOf(",");return-1===l?i(s,o.trim(),"",a):i(s,o.substring(0,l).trim(),o.substring(l+1).trim(),a)}(i,(e,t)=>{t&&this._map.get(t)&&(n=`@apply ${t};`)}),!n)return e;let o=this._consumeCssProperties(""+n,r),s=e.slice(0,e.indexOf("--")),a=this._cssTextToMap(o,!0),l=a,d=this._map.get(t),c=d&&d.properties;c?l=Object.assign(Object.create(c),a):this._map.set(t,l);let p,h,u=[],m=!1;for(p in l)h=a[p],void 0===h&&(h="initial"),!c||p in c||(m=!0),u.push(`${t}_-_${p}: ${h}`);return m&&this._invalidateMixinEntry(d),d&&(d.properties=l),i&&(s=`${e};${s}`),`${s}${u.join("; ")};`}}Fi.prototype.detectMixin=Fi.prototype.detectMixin,Fi.prototype.transformStyle=Fi.prototype.transformStyle,Fi.prototype.transformCustomStyle=Fi.prototype.transformCustomStyle,Fi.prototype.transformRules=Fi.prototype.transformRules,Fi.prototype.transformRule=Fi.prototype.transformRule,Fi.prototype.transformTemplate=Fi.prototype.transformTemplate,Fi.prototype._separator="_-_",Object.defineProperty(Fi.prototype,"invalidCallback",{get:()=>Ri,set(e){Ri=e}});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const Mi={},Di="_applyShimCurrentVersion",Li="_applyShimNextVersion",zi=Promise.resolve();
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function Hi(e){let t=Mi[e];t&&function(e){e[Di]=e[Di]||0,e._applyShimValidatingVersion=e._applyShimValidatingVersion||0,e[Li]=(e[Li]||0)+1}(t)}function Bi(e){return e[Di]===e[Li]}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let ji,Vi=null,$i=window.HTMLImports&&window.HTMLImports.whenReady||null;function Ui(e){requestAnimationFrame((function(){$i?$i(e):(Vi||(Vi=new Promise(e=>{ji=e}),"complete"===document.readyState?ji():document.addEventListener("readystatechange",()=>{"complete"===document.readyState&&ji()})),Vi.then((function(){e&&e()})))}))}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const qi="__shadyCSSCachedStyle";let Gi=null,Xi=null;class Yi{constructor(){this.customStyles=[],this.enqueued=!1,Ui(()=>{window.ShadyCSS.flushCustomStyles&&window.ShadyCSS.flushCustomStyles()})}enqueueDocumentValidation(){!this.enqueued&&Xi&&(this.enqueued=!0,Ui(Xi))}addCustomStyle(e){e.__seenByShadyCSS||(e.__seenByShadyCSS=!0,this.customStyles.push(e),this.enqueueDocumentValidation())}getStyleForCustomStyle(e){if(e[qi])return e[qi];let t;return t=e.getStyle?e.getStyle():e,t}processStyles(){const e=this.customStyles;for(let t=0;t<e.length;t++){const i=e[t];if(i[qi])continue;const n=this.getStyleForCustomStyle(i);if(n){const e=n.__appliedElement||n;Gi&&Gi(e),i[qi]=e}}return e}}Yi.prototype.addCustomStyle=Yi.prototype.addCustomStyle,Yi.prototype.getStyleForCustomStyle=Yi.prototype.getStyleForCustomStyle,Yi.prototype.processStyles=Yi.prototype.processStyles,Object.defineProperties(Yi.prototype,{transformCallback:{get:()=>Gi,set(e){Gi=e}},validateCallback:{get:()=>Xi,set(e){let t=!1;Xi||(t=!0),Xi=e,t&&this.enqueueDocumentValidation()}}});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const Ji=new Fi;class Wi{constructor(){this.customStyleInterface=null,Ji.invalidCallback=Hi}ensure(){this.customStyleInterface||window.ShadyCSS.CustomStyleInterface&&(this.customStyleInterface=window.ShadyCSS.CustomStyleInterface,this.customStyleInterface.transformCallback=e=>{Ji.transformCustomStyle(e)},this.customStyleInterface.validateCallback=()=>{requestAnimationFrame(()=>{this.customStyleInterface.enqueued&&this.flushCustomStyles()})})}prepareTemplate(e,t){if(this.ensure(),Ti(e))return;Mi[t]=e;let i=Ji.transformTemplate(e,t);e._styleAst=i}flushCustomStyles(){if(this.ensure(),!this.customStyleInterface)return;let e=this.customStyleInterface.processStyles();if(this.customStyleInterface.enqueued){for(let t=0;t<e.length;t++){let i=e[t],n=this.customStyleInterface.getStyleForCustomStyle(i);n&&Ji.transformCustomStyle(n)}this.customStyleInterface.enqueued=!1}}styleSubtree(e,t){if(this.ensure(),t&&Ai(e,t),e.shadowRoot){this.styleElement(e);let t=e.shadowRoot.children||e.shadowRoot.childNodes;for(let e=0;e<t.length;e++)this.styleSubtree(t[e])}else{let t=e.children||e.childNodes;for(let e=0;e<t.length;e++)this.styleSubtree(t[e])}}styleElement(e){this.ensure();let{is:t}=function(e){let t=e.localName,i="",n="";return t?t.indexOf("-")>-1?i=t:(n=t,i=e.getAttribute&&e.getAttribute("is")||""):(i=e.is,n=e.extends),{is:i,typeExtension:n}}(e),i=Mi[t];if((!i||!Ti(i))&&i&&!Bi(i)){(function(e){return!Bi(e)&&e._applyShimValidatingVersion===e[Li]})(i)||(this.prepareTemplate(i,t),function(e){e._applyShimValidatingVersion=e[Li],e._validating||(e._validating=!0,zi.then((function(){e[Di]=e[Li],e._validating=!1})))}(i));let n=e.shadowRoot;if(n){let e=n.querySelector("style");e&&(e.__cssRules=i._styleAst,e.textContent=wi(i._styleAst))}}}styleDocument(e){this.ensure(),this.styleSubtree(document.body,e)}}if(!window.ShadyCSS||!window.ShadyCSS.ScopingShim){const e=new Wi;let t=window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface;window.ShadyCSS={prepareTemplate(t,i,n){e.flushCustomStyles(),e.prepareTemplate(t,i)},prepareTemplateStyles(e,t,i){window.ShadyCSS.prepareTemplate(e,t,i)},prepareTemplateDom(e,t){},styleSubtree(t,i){e.flushCustomStyles(),e.styleSubtree(t,i)},styleElement(t){e.flushCustomStyles(),e.styleElement(t)},styleDocument(t){e.flushCustomStyles(),e.styleDocument(t)},getComputedStyleValue:(e,t)=>Ii(e,t),flushCustomStyles(){e.flushCustomStyles()},nativeCss:oi,nativeShadow:ei,cssBuild:ii,disableRuntime:ri},t&&(window.ShadyCSS.CustomStyleInterface=t)}window.ShadyCSS.ApplyShim=Ji,
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
window.JSCompiler_renameProperty=function(e,t){return e};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let Ki,Zi,Qi=/(url\()([^)]*)(\))/g,en=/(^\/[^\/])|(^#)|(^[\w-\d]*:)/;function tn(e,t){if(e&&en.test(e))return e;if("//"===e)return e;if(void 0===Ki){Ki=!1;try{const e=new URL("b","http://a");e.pathname="c%20d",Ki="http://a/c%20d"===e.href}catch(e){}}if(t||(t=document.baseURI||window.location.href),Ki)try{return new URL(e,t).href}catch(t){return e}return Zi||(Zi=document.implementation.createHTMLDocument("temp"),Zi.base=Zi.createElement("base"),Zi.head.appendChild(Zi.base),Zi.anchor=Zi.createElement("a"),Zi.body.appendChild(Zi.anchor)),Zi.base.href=t,Zi.anchor.href=e,Zi.anchor.href||e}function nn(e,t){return e.replace(Qi,(function(e,i,n,r){return i+"'"+tn(n.replace(/["']/g,""),t)+"'"+r}))}function rn(e){return e.substring(0,e.lastIndexOf("/")+1)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/Boolean(!window.ShadyCSS||window.ShadyCSS.nativeCss);let on=rn(document.baseURI||window.location.href),sn=window.Polymer&&window.Polymer.sanitizeDOMValue||void 0,an=0;const ln=function(e){let t=e.__mixinApplications;t||(t=new WeakMap,e.__mixinApplications=t);let i=an++;return function(n){let r=n.__mixinSet;if(r&&r[i])return n;let o=t,s=o.get(n);s||(s=e(n),o.set(n,s));let a=Object.create(s.__mixinSet||r||null);return a[i]=!0,s.__mixinSet=a,s}};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let dn={},cn={};class pn extends HTMLElement{static get observedAttributes(){return["id"]}static import(e,t){if(e){let i=function(e){return dn[e]||cn[e.toLowerCase()]}(e);return i&&t?i.querySelector(t):i}return null}attributeChangedCallback(e,t,i,n){t!==i&&this.register()}get assetpath(){if(!this.__assetpath){const e=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,t=tn(this.getAttribute("assetpath")||"",e.baseURI);this.__assetpath=rn(t)}return this.__assetpath}register(e){var t;(e=e||this.id)&&(this.id=e,function(e,t){dn[e]=cn[e.toLowerCase()]=t}(e,this),(t=this).querySelector("style")&&console.warn("dom-module %s has style outside template",t.id))}}pn.prototype.modules=dn,customElements.define("dom-module",pn);function hn(e){return pn.import(e)}function un(e){const t=nn((e.body?e.body:e).textContent,e.baseURI),i=document.createElement("style");return i.textContent=t,i}function mn(e){const t=e.trim().split(/\s+/),i=[];for(let e=0;e<t.length;e++)i.push(...fn(t[e]));return i}function fn(e){const t=hn(e);if(!t)return console.warn("Could not find style data in module named",e),[];if(void 0===t._styles){const e=[];e.push(...gn(t));const i=t.querySelector("template");i&&e.push(..._n(i,t.assetpath)),t._styles=e}return t._styles}function _n(e,t){if(!e._styles){const i=[],n=e.content.querySelectorAll("style");for(let e=0;e<n.length;e++){let r=n[e],o=r.getAttribute("include");o&&i.push(...mn(o).filter((function(e,t,i){return i.indexOf(e)===t}))),t&&(r.textContent=nn(r.textContent,t)),i.push(r)}e._styles=i}return e._styles}function gn(e){const t=[],i=e.querySelectorAll("link[rel=import][type~=css]");for(let e=0;e<i.length;e++){let n=i[e];if(n.import){const e=n.import,i=n.hasAttribute("shady-unscoped");if(i&&!e._unscopedStyle){const t=un(e);t.setAttribute("shady-unscoped",""),e._unscopedStyle=t}else e._style||(e._style=un(e));t.push(i?e._unscopedStyle:e._style)}}return t}function yn(e){let t=hn(e);if(t&&void 0===t._cssText){let e=function(e){let t="",i=gn(e);for(let e=0;e<i.length;e++)t+=i[e].textContent;return t}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/(t),i=t.querySelector("template");i&&(e+=function(e,t){let i="";const n=_n(e,t);for(let e=0;e<n.length;e++){let t=n[e];t.parentNode&&t.parentNode.removeChild(t),i+=t.textContent}return i}(i,t.assetpath)),t._cssText=e||null}return t||console.warn("Could not find style data in module named",e),t&&t._cssText||""}const bn=window.ShadyDOM&&window.ShadyDOM.noPatch&&window.ShadyDOM.wrap?window.ShadyDOM.wrap:window.ShadyDOM?e=>ShadyDOM.patch(e):e=>e;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function vn(e){return e.indexOf(".")>=0}function xn(e){let t=e.indexOf(".");return-1===t?e:e.slice(0,t)}function wn(e,t){return 0===e.indexOf(t+".")}function Sn(e,t){return 0===t.indexOf(e+".")}function En(e,t,i){return t+i.slice(e.length)}function Cn(e){if(Array.isArray(e)){let t=[];for(let i=0;i<e.length;i++){let n=e[i].toString().split(".");for(let e=0;e<n.length;e++)t.push(n[e])}return t.join(".")}return e}function Tn(e){return Array.isArray(e)?Cn(e).split("."):e.toString().split(".")}function An(e,t,i){let n=e,r=Tn(t);for(let e=0;e<r.length;e++){if(!n)return;n=n[r[e]]}return i&&(i.path=r.join(".")),n}function In(e,t,i){let n=e,r=Tn(t),o=r[r.length-1];if(r.length>1){for(let e=0;e<r.length-1;e++){if(n=n[r[e]],!n)return}n[o]=i}else n[t]=i;return r.join(".")}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Pn={},On=/-[a-z]/g,Nn=/([A-Z])/g;function kn(e){return Pn[e]||(Pn[e]=e.indexOf("-")<0?e:e.replace(On,e=>e[1].toUpperCase()))}function Rn(e){return Pn[e]||(Pn[e]=e.replace(Nn,"-$1").toLowerCase())}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let Fn=0,Mn=0,Dn=[],Ln=0,zn=document.createTextNode("");new window.MutationObserver((function(){const e=Dn.length;for(let t=0;t<e;t++){let e=Dn[t];if(e)try{e()}catch(e){setTimeout(()=>{throw e})}}Dn.splice(0,e),Mn+=e})).observe(zn,{characterData:!0});const Hn={after:e=>({run:t=>window.setTimeout(t,e),cancel(e){window.clearTimeout(e)}}),run:(e,t)=>window.setTimeout(e,t),cancel(e){window.clearTimeout(e)}},Bn={run:e=>(zn.textContent=Ln++,Dn.push(e),Fn++),cancel(e){const t=e-Mn;if(t>=0){if(!Dn[t])throw new Error("invalid async handle: "+e);Dn[t]=null}}},jn=Bn,Vn=ln(e=>class extends e{static createProperties(e){const t=this.prototype;for(let i in e)i in t||t._createPropertyAccessor(i)}static attributeNameForProperty(e){return e.toLowerCase()}static typeForProperty(e){}_createPropertyAccessor(e,t){this._addPropertyToAttributeMap(e),this.hasOwnProperty(JSCompiler_renameProperty("__dataHasAccessor",this))||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[e]||(this.__dataHasAccessor[e]=!0,this._definePropertyAccessor(e,t))}_addPropertyToAttributeMap(e){if(this.hasOwnProperty(JSCompiler_renameProperty("__dataAttributes",this))||(this.__dataAttributes=Object.assign({},this.__dataAttributes)),!this.__dataAttributes[e]){const t=this.constructor.attributeNameForProperty(e);this.__dataAttributes[t]=e}}_definePropertyAccessor(e,t){Object.defineProperty(this,e,{get(){return this._getProperty(e)},set:t?function(){}:function(t){this._setProperty(e,t)}})}constructor(){super(),this.__dataEnabled=!1,this.__dataReady=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataInstanceProps=null,this.__serializing=!1,this._initializeProperties()}ready(){this.__dataReady=!0,this._flushProperties()}_initializeProperties(){for(let e in this.__dataHasAccessor)this.hasOwnProperty(e)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[e]=this[e],delete this[e])}_initializeInstanceProperties(e){Object.assign(this,e)}_setProperty(e,t){this._setPendingProperty(e,t)&&this._invalidateProperties()}_getProperty(e){return this.__data[e]}_setPendingProperty(e,t,i){let n=this.__data[e],r=this._shouldPropertyChange(e,t,n);return r&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),!this.__dataOld||e in this.__dataOld||(this.__dataOld[e]=n),this.__data[e]=t,this.__dataPending[e]=t),r}_invalidateProperties(){!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,jn.run(()=>{this.__dataInvalid&&(this.__dataInvalid=!1,this._flushProperties())}))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}_flushProperties(){const e=this.__data,t=this.__dataPending,i=this.__dataOld;this._shouldPropertiesChange(e,t,i)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(e,t,i))}_shouldPropertiesChange(e,t,i){return Boolean(t)}_propertiesChanged(e,t,i){}_shouldPropertyChange(e,t,i){return i!==t&&(i==i||t==t)}attributeChangedCallback(e,t,i,n){t!==i&&this._attributeToProperty(e,i),super.attributeChangedCallback&&super.attributeChangedCallback(e,t,i,n)}_attributeToProperty(e,t,i){if(!this.__serializing){const n=this.__dataAttributes,r=n&&n[e]||e;this[r]=this._deserializeValue(t,i||this.constructor.typeForProperty(r))}}_propertyToAttribute(e,t,i){this.__serializing=!0,i=arguments.length<3?this[e]:i,this._valueToNodeAttribute(this,i,t||this.constructor.attributeNameForProperty(e)),this.__serializing=!1}_valueToNodeAttribute(e,t,i){const n=this._serializeValue(t);"class"!==i&&"name"!==i&&"slot"!==i||(e=bn(e)),void 0===n?e.removeAttribute(i):e.setAttribute(i,n)}_serializeValue(e){switch(typeof e){case"boolean":return e?"":void 0;default:return null!=e?e.toString():void 0}}_deserializeValue(e,t){switch(t){case Boolean:return null!==e;case Number:return Number(e);default:return e}}}),$n={};let Un=HTMLElement.prototype;for(;Un;){let e=Object.getOwnPropertyNames(Un);for(let t=0;t<e.length;t++)$n[e[t]]=!0;Un=Object.getPrototypeOf(Un)}const qn=ln(e=>{const t=Vn(e);return class extends t{static createPropertiesForAttributes(){let e=this.observedAttributes;for(let t=0;t<e.length;t++)this.prototype._createPropertyAccessor(kn(e[t]))}static attributeNameForProperty(e){return Rn(e)}_initializeProperties(){this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),super._initializeProperties()}_initializeProtoProperties(e){for(let t in e)this._setProperty(t,e[t])}_ensureAttribute(e,t){const i=this;i.hasAttribute(e)||this._valueToNodeAttribute(i,t,e)}_serializeValue(e){switch(typeof e){case"object":if(e instanceof Date)return e.toString();if(e)try{return JSON.stringify(e)}catch(e){return""}default:return super._serializeValue(e)}}_deserializeValue(e,t){let i;switch(t){case Object:try{i=JSON.parse(e)}catch(t){i=e}break;case Array:try{i=JSON.parse(e)}catch(t){i=null,console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${e}`)}break;case Date:i=isNaN(e)?String(e):Number(e),i=new Date(i);break;default:i=super._deserializeValue(e,t)}return i}_definePropertyAccessor(e,t){!function(e,t){if(!$n[t]){let i=e[t];void 0!==i&&(e.__data?e._setPendingProperty(t,i):(e.__dataProto?e.hasOwnProperty(JSCompiler_renameProperty("__dataProto",e))||(e.__dataProto=Object.create(e.__dataProto)):e.__dataProto={},e.__dataProto[t]=i))}}(this,e),super._definePropertyAccessor(e,t)}_hasAccessor(e){return this.__dataHasAccessor&&this.__dataHasAccessor[e]}_isPropertyPending(e){return Boolean(this.__dataPending&&e in this.__dataPending)}}}),Gn={"dom-if":!0,"dom-repeat":!0};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let Xn=!1,Yn=!1;function Jn(e){(function(){if(!Xn){Xn=!0;const e=document.createElement("textarea");e.placeholder="a",Yn=e.placeholder===e.textContent}return Yn})()&&"textarea"===e.localName&&e.placeholder&&e.placeholder===e.textContent&&(e.textContent=null)}function Wn(e){let t=e.getAttribute("is");if(t&&Gn[t]){let i=e;for(i.removeAttribute("is"),e=i.ownerDocument.createElement(t),i.parentNode.replaceChild(e,i),e.appendChild(i);i.attributes.length;)e.setAttribute(i.attributes[0].name,i.attributes[0].value),i.removeAttribute(i.attributes[0].name)}return e}function Kn(e,t){let i=t.parentInfo&&Kn(e,t.parentInfo);if(!i)return e;for(let e=i.firstChild,n=0;e;e=e.nextSibling)if(t.parentIndex===n++)return e}function Zn(e,t,i,n){n.id&&(t[n.id]=i)}function Qn(e,t,i){if(i.events&&i.events.length)for(let n,r=0,o=i.events;r<o.length&&(n=o[r]);r++)e._addMethodEventListenerToNode(t,n.name,n.value,e)}function er(e,t,i){i.templateInfo&&(t._templateInfo=i.templateInfo)}const tr=ln(e=>class extends e{static _parseTemplate(e,t){if(!e._templateInfo){let i=e._templateInfo={};i.nodeInfoList=[],i.stripWhiteSpace=t&&t.stripWhiteSpace||e.hasAttribute("strip-whitespace"),this._parseTemplateContent(e,i,{parent:null})}return e._templateInfo}static _parseTemplateContent(e,t,i){return this._parseTemplateNode(e.content,t,i)}static _parseTemplateNode(e,t,i){let n=!1,r=e;return"template"!=r.localName||r.hasAttribute("preserve-content")?"slot"===r.localName&&(t.hasInsertionPoint=!0):n=this._parseTemplateNestedTemplate(r,t,i)||n,Jn(r),r.firstChild&&this._parseTemplateChildNodes(r,t,i),r.hasAttributes&&r.hasAttributes()&&(n=this._parseTemplateNodeAttributes(r,t,i)||n),n}static _parseTemplateChildNodes(e,t,i){if("script"!==e.localName&&"style"!==e.localName)for(let n,r=e.firstChild,o=0;r;r=n){if("template"==r.localName&&(r=Wn(r)),n=r.nextSibling,r.nodeType===Node.TEXT_NODE){let i=n;for(;i&&i.nodeType===Node.TEXT_NODE;)r.textContent+=i.textContent,n=i.nextSibling,e.removeChild(i),i=n;if(t.stripWhiteSpace&&!r.textContent.trim()){e.removeChild(r);continue}}let s={parentIndex:o,parentInfo:i};this._parseTemplateNode(r,t,s)&&(s.infoIndex=t.nodeInfoList.push(s)-1),r.parentNode&&o++}}static _parseTemplateNestedTemplate(e,t,i){let n=e,r=this._parseTemplate(n,t);return(r.content=n.content.ownerDocument.createDocumentFragment()).appendChild(n.content),i.templateInfo=r,!0}static _parseTemplateNodeAttributes(e,t,i){let n=!1,r=Array.from(e.attributes);for(let o,s=r.length-1;o=r[s];s--)n=this._parseTemplateNodeAttribute(e,t,i,o.name,o.value)||n;return n}static _parseTemplateNodeAttribute(e,t,i,n,r){return"on-"===n.slice(0,3)?(e.removeAttribute(n),i.events=i.events||[],i.events.push({name:n.slice(3),value:r}),!0):"id"===n&&(i.id=r,!0)}static _contentForTemplate(e){let t=e._templateInfo;return t&&t.content||e.content}_stampTemplate(e){e&&!e.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(e);let t=this.constructor._parseTemplate(e),i=t.nodeInfoList,n=t.content||e.content,r=document.importNode(n,!0);r.__noInsertionPoint=!t.hasInsertionPoint;let o=r.nodeList=new Array(i.length);r.$={};for(let e,t=0,n=i.length;t<n&&(e=i[t]);t++){let i=o[t]=Kn(r,e);Zn(0,r.$,i,e),er(0,i,e),Qn(this,i,e)}return r=r,r}_addMethodEventListenerToNode(e,t,i,n){let r=function(e,t,i){return e=e._methodHost||e,function(t){e[i]?e[i](t,t.detail):console.warn("listener method `"+i+"` not defined")}}(n=n||e,0,i);return this._addEventListenerToNode(e,t,r),r}_addEventListenerToNode(e,t,i){e.addEventListener(t,i)}_removeEventListenerFromNode(e,t,i){e.removeEventListener(t,i)}});
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */let ir=0;const nr={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},rr=/[A-Z]/;function or(e,t){let i=e[t];if(i){if(!e.hasOwnProperty(t)){i=e[t]=Object.create(e[t]);for(let e in i){let t=i[e],n=i[e]=Array(t.length);for(let e=0;e<t.length;e++)n[e]=t[e]}}}else i=e[t]={};return i}function sr(e,t,i,n,r,o){if(t){let s=!1,a=ir++;for(let l in i)ar(e,t,a,l,i,n,r,o)&&(s=!0);return s}return!1}function ar(e,t,i,n,r,o,s,a){let l=!1,d=t[s?xn(n):n];if(d)for(let t,c=0,p=d.length;c<p&&(t=d[c]);c++)t.info&&t.info.lastRun===i||s&&!lr(n,t.trigger)||(t.info&&(t.info.lastRun=i),t.fn(e,n,r,o,t.info,s,a),l=!0);return l}function lr(e,t){if(t){let i=t.name;return i==e||!(!t.structured||!wn(i,e))||!(!t.wildcard||!Sn(i,e))}return!0}function dr(e,t,i,n,r){let o="string"==typeof r.method?e[r.method]:r.method,s=r.property;o?o.call(e,e.__data[s],n[s]):r.dynamicFn||console.warn("observer method `"+r.method+"` not defined")}function cr(e,t,i){let n=xn(t);if(n!==t){return pr(e,Rn(n)+"-changed",i[t],t),!0}return!1}function pr(e,t,i,n){let r={value:i,queueProperty:!0};n&&(r.path=n),bn(e).dispatchEvent(new CustomEvent(t,{detail:r}))}function hr(e,t,i,n,r,o){let s=(o?xn(t):t)!=t?t:null,a=s?An(e,s):e.__data[t];s&&void 0===a&&(a=i[t]),pr(e,r.eventName,a,s)}function ur(e,t,i,n,r){let o=e.__data[t];sn&&(o=sn(o,r.attrName,"attribute",e)),e._propertyToAttribute(t,r.attrName,o)}function mr(e,t,i,n,r){let o=xr(e,t,i,n,r),s=r.methodInfo;e.__dataHasAccessor&&e.__dataHasAccessor[s]?e._setPendingProperty(s,o,!0):e[s]=o}function fr(e,t,i,n,r,o,s){i.bindings=i.bindings||[];let a={kind:n,target:r,parts:o,literal:s,isCompound:1!==o.length};if(i.bindings.push(a),function(e){return Boolean(e.target)&&"attribute"!=e.kind&&"text"!=e.kind&&!e.isCompound&&"{"===e.parts[0].mode}(a)){let{event:e,negate:t}=a.parts[0];a.listenerEvent=e||Rn(r)+"-changed",a.listenerNegate=t}let l=t.nodeInfoList.length;for(let i=0;i<a.parts.length;i++){let n=a.parts[i];n.compoundIndex=i,_r(e,t,a,n,l)}}function _r(e,t,i,n,r){if(!n.literal)if("attribute"===i.kind&&"-"===i.target[0])console.warn("Cannot set attribute "+i.target+' because "-" is not a valid attribute starting character');else{let o=n.dependencies,s={index:r,binding:i,part:n,evaluator:e};for(let i=0;i<o.length;i++){let n=o[i];"string"==typeof n&&(n=Tr(n),n.wildcard=!0),e._addTemplatePropertyEffect(t,n.rootProperty,{fn:gr,info:s,trigger:n})}}}function gr(e,t,i,n,r,o,s){let a=s[r.index],l=r.binding,d=r.part;if(o&&d.source&&t.length>d.source.length&&"property"==l.kind&&!l.isCompound&&a.__isPropertyEffectsClient&&a.__dataHasAccessor&&a.__dataHasAccessor[l.target]){let n=i[t];t=En(d.source,l.target,t),a._setPendingPropertyOrPath(t,n,!1,!0)&&e._enqueueClient(a)}else{!function(e,t,i,n,r){r=function(e,t,i,n){if(i.isCompound){let r=e.__dataCompoundStorage[i.target];r[n.compoundIndex]=t,t=r.join("")}"attribute"!==i.kind&&("textContent"!==i.target&&("value"!==i.target||"input"!==e.localName&&"textarea"!==e.localName)||(t=null==t?"":t));return t}(t,r,i,n),sn&&(r=sn(r,i.target,i.kind,t));if("attribute"==i.kind)e._valueToNodeAttribute(t,r,i.target);else{let n=i.target;t.__isPropertyEffectsClient&&t.__dataHasAccessor&&t.__dataHasAccessor[n]?t[nr.READ_ONLY]&&t[nr.READ_ONLY][n]||t._setPendingProperty(n,r)&&e._enqueueClient(t):e._setUnmanagedPropertyToNode(t,n,r)}}(e,a,l,d,r.evaluator._evaluateBinding(e,d,t,i,n,o))}}function yr(e,t){if(t.isCompound){let i=e.__dataCompoundStorage||(e.__dataCompoundStorage={}),n=t.parts,r=new Array(n.length);for(let e=0;e<n.length;e++)r[e]=n[e].literal;let o=t.target;i[o]=r,t.literal&&"property"==t.kind&&("className"===o&&(e=bn(e)),e[o]=t.literal)}}function br(e,t,i){if(i.listenerEvent){let n=i.parts[0];e.addEventListener(i.listenerEvent,(function(e){!function(e,t,i,n,r){let o,s=e.detail,a=s&&s.path;a?(n=En(i,n,a),o=s&&s.value):o=e.currentTarget[i],o=r?!o:o,t[nr.READ_ONLY]&&t[nr.READ_ONLY][n]||!t._setPendingPropertyOrPath(n,o,!0,Boolean(a))||s&&s.queueProperty||t._invalidateProperties()}(e,t,i.target,n.source,n.negate)}))}}function vr(e,t,i,n,r,o){o=t.static||o&&("object"!=typeof o||o[t.methodName]);let s={methodName:t.methodName,args:t.args,methodInfo:r,dynamicFn:o};for(let r,o=0;o<t.args.length&&(r=t.args[o]);o++)r.literal||e._addPropertyEffect(r.rootProperty,i,{fn:n,info:s,trigger:r});o&&e._addPropertyEffect(t.methodName,i,{fn:n,info:s})}function xr(e,t,i,n,r){let o=e._methodHost||e,s=o[r.methodName];if(s){let n=e._marshalArgs(r.args,t,i);return s.apply(o,n)}r.dynamicFn||console.warn("method `"+r.methodName+"` not defined")}const wr=[],Sr=new RegExp("(\\[\\[|{{)\\s*(?:(!)\\s*)?((?:[a-zA-Z_$][\\w.:$\\-*]*)\\s*(?:\\(\\s*(?:(?:(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*)(?:,\\s*(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*))*)?)\\)\\s*)?)(?:]]|}})","g");function Er(e){let t="";for(let i=0;i<e.length;i++){t+=e[i].literal||""}return t}function Cr(e){let t=e.match(/([^\s]+?)\(([\s\S]*)\)/);if(t){let e={methodName:t[1],static:!0,args:wr};if(t[2].trim()){return function(e,t){return t.args=e.map((function(e){let i=Tr(e);return i.literal||(t.static=!1),i}),this),t}(t[2].replace(/\\,/g,"&comma;").split(","),e)}return e}return null}function Tr(e){let t=e.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),i={name:t,value:"",literal:!1},n=t[0];switch("-"===n&&(n=t[1]),n>="0"&&n<="9"&&(n="#"),n){case"'":case'"':i.value=t.slice(1,-1),i.literal=!0;break;case"#":i.value=Number(t),i.literal=!0}return i.literal||(i.rootProperty=xn(t),i.structured=vn(t),i.structured&&(i.wildcard=".*"==t.slice(-2),i.wildcard&&(i.name=t.slice(0,-2)))),i}function Ar(e,t,i){let n=An(e,i);return void 0===n&&(n=t[i]),n}function Ir(e,t,i,n){e.notifyPath(i+".splices",{indexSplices:n}),e.notifyPath(i+".length",t.length)}function Pr(e,t,i,n,r,o){Ir(e,t,i,[{index:n,addedCount:r,removed:o,object:t,type:"splice"}])}const Or=ln(e=>{const t=tr(qn(e));return class extends t{constructor(){super(),this.__isPropertyEffectsClient=!0,this.__dataCounter=0,this.__dataClientsReady,this.__dataPendingClients,this.__dataToNotify,this.__dataLinkedPaths,this.__dataHasPaths,this.__dataCompoundStorage,this.__dataHost,this.__dataTemp,this.__dataClientsInitialized,this.__data,this.__dataPending,this.__dataOld,this.__computeEffects,this.__reflectEffects,this.__notifyEffects,this.__propagateEffects,this.__observeEffects,this.__readOnly,this.__templateInfo}get PROPERTY_EFFECT_TYPES(){return nr}_initializeProperties(){super._initializeProperties(),Nr.registerHost(this),this.__dataClientsReady=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={},this.__dataClientsInitialized=!1}_initializeProtoProperties(e){this.__data=Object.create(e),this.__dataPending=Object.create(e),this.__dataOld={}}_initializeInstanceProperties(e){let t=this[nr.READ_ONLY];for(let i in e)t&&t[i]||(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[i]=this.__dataPending[i]=e[i])}_addPropertyEffect(e,t,i){this._createPropertyAccessor(e,t==nr.READ_ONLY);let n=or(this,t)[e];n||(n=this[t][e]=[]),n.push(i)}_removePropertyEffect(e,t,i){let n=or(this,t)[e],r=n.indexOf(i);r>=0&&n.splice(r,1)}_hasPropertyEffect(e,t){let i=this[t];return Boolean(i&&i[e])}_hasReadOnlyEffect(e){return this._hasPropertyEffect(e,nr.READ_ONLY)}_hasNotifyEffect(e){return this._hasPropertyEffect(e,nr.NOTIFY)}_hasReflectEffect(e){return this._hasPropertyEffect(e,nr.REFLECT)}_hasComputedEffect(e){return this._hasPropertyEffect(e,nr.COMPUTE)}_setPendingPropertyOrPath(e,t,i,n){if(n||xn(Array.isArray(e)?e[0]:e)!==e){if(!n){let i=An(this,e);if(!(e=In(this,e,t))||!super._shouldPropertyChange(e,t,i))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(e,t,i))return function(e,t,i){let n=e.__dataLinkedPaths;if(n){let r;for(let o in n){let s=n[o];Sn(o,t)?(r=En(o,s,t),e._setPendingPropertyOrPath(r,i,!0,!0)):Sn(s,t)&&(r=En(s,o,t),e._setPendingPropertyOrPath(r,i,!0,!0))}}}(this,e,t),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[e])return this._setPendingProperty(e,t,i);this[e]=t}return!1}_setUnmanagedPropertyToNode(e,t,i){i===e[t]&&"object"!=typeof i||("className"===t&&(e=bn(e)),e[t]=i)}_setPendingProperty(e,t,i){let n=this.__dataHasPaths&&vn(e),r=n?this.__dataTemp:this.__data;return!!this._shouldPropertyChange(e,t,r[e])&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),e in this.__dataOld||(this.__dataOld[e]=this.__data[e]),n?this.__dataTemp[e]=t:this.__data[e]=t,this.__dataPending[e]=t,(n||this[nr.NOTIFY]&&this[nr.NOTIFY][e])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[e]=i),!0)}_setProperty(e,t){this._setPendingProperty(e,t,!0)&&this._invalidateProperties()}_invalidateProperties(){this.__dataReady&&this._flushProperties()}_enqueueClient(e){this.__dataPendingClients=this.__dataPendingClients||[],e!==this&&this.__dataPendingClients.push(e)}_flushProperties(){this.__dataCounter++,super._flushProperties(),this.__dataCounter--}_flushClients(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.__dataReady=!0)}__enableOrFlushClients(){let e=this.__dataPendingClients;if(e){this.__dataPendingClients=null;for(let t=0;t<e.length;t++){let i=e[t];i.__dataEnabled?i.__dataPending&&i._flushProperties():i._enableProperties()}}}_readyClients(){this.__enableOrFlushClients()}setProperties(e,t){for(let i in e)!t&&this[nr.READ_ONLY]&&this[nr.READ_ONLY][i]||this._setPendingPropertyOrPath(i,e[i],!0);this._invalidateProperties()}ready(){this._flushProperties(),this.__dataClientsReady||this._flushClients(),this.__dataPending&&this._flushProperties()}_propertiesChanged(e,t,i){let n=this.__dataHasPaths;this.__dataHasPaths=!1,function(e,t,i,n){let r=e[nr.COMPUTE];if(r){let o=t;for(;sr(e,r,o,i,n);)Object.assign(i,e.__dataOld),Object.assign(t,e.__dataPending),o=e.__dataPending,e.__dataPending=null}}(this,t,i,n);let r=this.__dataToNotify;this.__dataToNotify=null,this._propagatePropertyChanges(t,i,n),this._flushClients(),sr(this,this[nr.REFLECT],t,i,n),sr(this,this[nr.OBSERVE],t,i,n),r&&function(e,t,i,n,r){let o,s,a=e[nr.NOTIFY],l=ir++;for(let s in t)t[s]&&(a&&ar(e,a,l,s,i,n,r)?o=!0:r&&cr(e,s,i)&&(o=!0));o&&(s=e.__dataHost)&&s._invalidateProperties&&s._invalidateProperties()}(this,r,t,i,n),1==this.__dataCounter&&(this.__dataTemp={})}_propagatePropertyChanges(e,t,i){this[nr.PROPAGATE]&&sr(this,this[nr.PROPAGATE],e,t,i);let n=this.__templateInfo;for(;n;)sr(this,n.propertyEffects,e,t,i,n.nodeList),n=n.nextTemplateInfo}linkPaths(e,t){e=Cn(e),t=Cn(t),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[e]=t}unlinkPaths(e){e=Cn(e),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[e]}notifySplices(e,t){let i={path:""};Ir(this,An(this,e,i),i.path,t)}get(e,t){return An(t||this,e)}set(e,t,i){i?In(i,e,t):this[nr.READ_ONLY]&&this[nr.READ_ONLY][e]||this._setPendingPropertyOrPath(e,t,!0)&&this._invalidateProperties()}push(e,...t){let i={path:""},n=An(this,e,i),r=n.length,o=n.push(...t);return t.length&&Pr(this,n,i.path,r,t.length,[]),o}pop(e){let t={path:""},i=An(this,e,t),n=Boolean(i.length),r=i.pop();return n&&Pr(this,i,t.path,i.length,0,[r]),r}splice(e,t,i,...n){let r,o={path:""},s=An(this,e,o);return t<0?t=s.length-Math.floor(-t):t&&(t=Math.floor(t)),r=2===arguments.length?s.splice(t):s.splice(t,i,...n),(n.length||r.length)&&Pr(this,s,o.path,t,n.length,r),r}shift(e){let t={path:""},i=An(this,e,t),n=Boolean(i.length),r=i.shift();return n&&Pr(this,i,t.path,0,0,[r]),r}unshift(e,...t){let i={path:""},n=An(this,e,i),r=n.unshift(...t);return t.length&&Pr(this,n,i.path,0,t.length,[]),r}notifyPath(e,t){let i;if(1==arguments.length){let n={path:""};t=An(this,e,n),i=n.path}else i=Array.isArray(e)?Cn(e):e;this._setPendingPropertyOrPath(i,t,!0,!0)&&this._invalidateProperties()}_createReadOnlyProperty(e,t){var i;this._addPropertyEffect(e,nr.READ_ONLY),t&&(this["_set"+(i=e,i[0].toUpperCase()+i.substring(1))]=function(t){this._setProperty(e,t)})}_createPropertyObserver(e,t,i){let n={property:e,method:t,dynamicFn:Boolean(i)};this._addPropertyEffect(e,nr.OBSERVE,{fn:dr,info:n,trigger:{name:e}}),i&&this._addPropertyEffect(t,nr.OBSERVE,{fn:dr,info:n,trigger:{name:t}})}_createMethodObserver(e,t){let i=Cr(e);if(!i)throw new Error("Malformed observer expression '"+e+"'");vr(this,i,nr.OBSERVE,xr,null,t)}_createNotifyingProperty(e){this._addPropertyEffect(e,nr.NOTIFY,{fn:hr,info:{eventName:Rn(e)+"-changed",property:e}})}_createReflectedProperty(e){let t=this.constructor.attributeNameForProperty(e);"-"===t[0]?console.warn("Property "+e+" cannot be reflected to attribute "+t+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'):this._addPropertyEffect(e,nr.REFLECT,{fn:ur,info:{attrName:t}})}_createComputedProperty(e,t,i){let n=Cr(t);if(!n)throw new Error("Malformed computed expression '"+t+"'");vr(this,n,nr.COMPUTE,mr,e,i)}_marshalArgs(e,t,i){const n=this.__data,r=[];for(let o=0,s=e.length;o<s;o++){let{name:s,structured:a,wildcard:l,value:d,literal:c}=e[o];if(!c)if(l){const e=Sn(s,t),r=Ar(n,i,e?t:s);d={path:e?t:s,value:r,base:e?An(n,s):r}}else d=a?Ar(n,i,s):n[s];r[o]=d}return r}static addPropertyEffect(e,t,i){this.prototype._addPropertyEffect(e,t,i)}static createPropertyObserver(e,t,i){this.prototype._createPropertyObserver(e,t,i)}static createMethodObserver(e,t){this.prototype._createMethodObserver(e,t)}static createNotifyingProperty(e){this.prototype._createNotifyingProperty(e)}static createReadOnlyProperty(e,t){this.prototype._createReadOnlyProperty(e,t)}static createReflectedProperty(e){this.prototype._createReflectedProperty(e)}static createComputedProperty(e,t,i){this.prototype._createComputedProperty(e,t,i)}static bindTemplate(e){return this.prototype._bindTemplate(e)}_bindTemplate(e,t){let i=this.constructor._parseTemplate(e),n=this.__templateInfo==i;if(!n)for(let e in i.propertyEffects)this._createPropertyAccessor(e);if(t&&(i=Object.create(i),i.wasPreBound=n,!n&&this.__templateInfo)){let e=this.__templateInfoLast||this.__templateInfo;return this.__templateInfoLast=e.nextTemplateInfo=i,i.previousTemplateInfo=e,i}return this.__templateInfo=i}static _addTemplatePropertyEffect(e,t,i){(e.hostProps=e.hostProps||{})[t]=!0;let n=e.propertyEffects=e.propertyEffects||{};(n[t]=n[t]||[]).push(i)}_stampTemplate(e){Nr.beginHosting(this);let t=super._stampTemplate(e);Nr.endHosting(this);let i=this._bindTemplate(e,!0);if(i.nodeList=t.nodeList,!i.wasPreBound){let e=i.childNodes=[];for(let i=t.firstChild;i;i=i.nextSibling)e.push(i)}return t.templateInfo=i,function(e,t){let{nodeList:i,nodeInfoList:n}=t;if(n.length)for(let t=0;t<n.length;t++){let r=n[t],o=i[t],s=r.bindings;if(s)for(let t=0;t<s.length;t++){let i=s[t];yr(o,i),br(o,e,i)}o.__dataHost=e}}(this,i),this.__dataReady&&sr(this,i.propertyEffects,this.__data,null,!1,i.nodeList),t}_removeBoundDom(e){let t=e.templateInfo;t.previousTemplateInfo&&(t.previousTemplateInfo.nextTemplateInfo=t.nextTemplateInfo),t.nextTemplateInfo&&(t.nextTemplateInfo.previousTemplateInfo=t.previousTemplateInfo),this.__templateInfoLast==t&&(this.__templateInfoLast=t.previousTemplateInfo),t.previousTemplateInfo=t.nextTemplateInfo=null;let i=t.childNodes;for(let e=0;e<i.length;e++){let t=i[e];t.parentNode.removeChild(t)}}static _parseTemplateNode(e,i,n){let r=t._parseTemplateNode.call(this,e,i,n);if(e.nodeType===Node.TEXT_NODE){let t=this._parseBindings(e.textContent,i);t&&(e.textContent=Er(t)||" ",fr(this,i,n,"text","textContent",t),r=!0)}return r}static _parseTemplateNodeAttribute(e,i,n,r,o){let s=this._parseBindings(o,i);if(s){let t=r,o="property";rr.test(r)?o="attribute":"$"==r[r.length-1]&&(r=r.slice(0,-1),o="attribute");let a=Er(s);return a&&"attribute"==o&&("class"==r&&e.hasAttribute("class")&&(a+=" "+e.getAttribute(r)),e.setAttribute(r,a)),"input"===e.localName&&"value"===t&&e.setAttribute(t,""),e.removeAttribute(t),"property"===o&&(r=kn(r)),fr(this,i,n,o,r,s,a),!0}return t._parseTemplateNodeAttribute.call(this,e,i,n,r,o)}static _parseTemplateNestedTemplate(e,i,n){let r=t._parseTemplateNestedTemplate.call(this,e,i,n),o=n.templateInfo.hostProps;for(let e in o){fr(this,i,n,"property","_host_"+e,[{mode:"{",source:e,dependencies:[e]}])}return r}static _parseBindings(e,t){let i,n=[],r=0;for(;null!==(i=Sr.exec(e));){i.index>r&&n.push({literal:e.slice(r,i.index)});let o=i[1][0],s=Boolean(i[2]),a=i[3].trim(),l=!1,d="",c=-1;"{"==o&&(c=a.indexOf("::"))>0&&(d=a.substring(c+2),a=a.substring(0,c),l=!0);let p=Cr(a),h=[];if(p){let{args:e,methodName:i}=p;for(let t=0;t<e.length;t++){let i=e[t];i.literal||h.push(i)}let n=t.dynamicFns;(n&&n[i]||p.static)&&(h.push(i),p.dynamicFn=!0)}else h.push(a);n.push({source:a,mode:o,negate:s,customEvent:l,signature:p,dependencies:h,event:d}),r=Sr.lastIndex}if(r&&r<e.length){let t=e.substring(r);t&&n.push({literal:t})}return n.length?n:null}static _evaluateBinding(e,t,i,n,r,o){let s;return s=t.signature?xr(e,i,n,0,t.signature):i!=t.source?An(e,t.source):o&&vn(i)?An(e,i):e.__data[i],t.negate&&(s=!s),s}}});const Nr=new class{constructor(){this.stack=[]}registerHost(e){if(this.stack.length){this.stack[this.stack.length-1]._enqueueClient(e)}}beginHosting(e){this.stack.push(e)}endHosting(e){let t=this.stack.length;t&&this.stack[t-1]==e&&this.stack.pop()}};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const kr=ln(e=>{const t=Vn(e);function i(e){const t=Object.getPrototypeOf(e);return t.prototype instanceof r?t:null}function n(e){if(!e.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",e))){let t=null;if(e.hasOwnProperty(JSCompiler_renameProperty("properties",e))){const i=e.properties;i&&(t=
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function(e){const t={};for(let i in e){const n=e[i];t[i]="function"==typeof n?{type:n}:n}return t}(i))}e.__ownProperties=t}return e.__ownProperties}class r extends t{static get observedAttributes(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))){this.prototype;const e=this._properties;this.__observedAttributes=e?Object.keys(e).map(e=>this.attributeNameForProperty(e)):[]}return this.__observedAttributes}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){const e=i(this);e&&e.finalize(),this.__finalized=!0,this._finalizeClass()}}static _finalizeClass(){const e=n(this);e&&this.createProperties(e)}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){const e=i(this);this.__properties=Object.assign({},e&&e._properties,n(this))}return this.__properties}static typeForProperty(e){const t=this._properties[e];return t&&t.type}_initializeProperties(){this.constructor.finalize(),super._initializeProperties()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._enableProperties()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback()}}return r}),Rr=window.ShadyCSS&&window.ShadyCSS.cssBuild,Fr=ln(e=>{const t=kr(Or(e));function i(e,t,i,n){i.computed&&(i.readOnly=!0),i.computed&&(e._hasReadOnlyEffect(t)?console.warn(`Cannot redefine computed property '${t}'.`):e._createComputedProperty(t,i.computed,n)),i.readOnly&&!e._hasReadOnlyEffect(t)?e._createReadOnlyProperty(t,!i.computed):!1===i.readOnly&&e._hasReadOnlyEffect(t)&&console.warn(`Cannot make readOnly property '${t}' non-readOnly.`),i.reflectToAttribute&&!e._hasReflectEffect(t)?e._createReflectedProperty(t):!1===i.reflectToAttribute&&e._hasReflectEffect(t)&&console.warn(`Cannot make reflected property '${t}' non-reflected.`),i.notify&&!e._hasNotifyEffect(t)?e._createNotifyingProperty(t):!1===i.notify&&e._hasNotifyEffect(t)&&console.warn(`Cannot make notify property '${t}' non-notify.`),i.observer&&e._createPropertyObserver(t,i.observer,n[i.observer]),e._addPropertyToAttributeMap(t)}function n(e,t,i,n){if(!Rr){const r=t.content.querySelectorAll("style"),o=_n(t),s=function(e){let t=hn(e);return t?gn(t):[]}(i),a=t.content.firstElementChild;for(let i=0;i<s.length;i++){let r=s[i];r.textContent=e._processStyleText(r.textContent,n),t.content.insertBefore(r,a)}let l=0;for(let t=0;t<o.length;t++){let i=o[t],s=r[l];s!==i?(i=i.cloneNode(!0),s.parentNode.insertBefore(i,s)):l++,i.textContent=e._processStyleText(i.textContent,n)}}window.ShadyCSS&&window.ShadyCSS.prepareTemplate(t,i)}return class extends t{static get polymerElementVersion(){return"3.3.1"}static _finalizeClass(){t._finalizeClass.call(this);const e=((i=this).hasOwnProperty(JSCompiler_renameProperty("__ownObservers",i))||(i.__ownObservers=i.hasOwnProperty(JSCompiler_renameProperty("observers",i))?i.observers:null),i.__ownObservers);var i;e&&this.createObservers(e,this._properties),this._prepareTemplate()}static _prepareTemplate(){let e=this.template;e&&("string"==typeof e?(console.error("template getter must return HTMLTemplateElement"),e=null):e=e.cloneNode(!0)),this.prototype._template=e}static createProperties(e){for(let t in e)i(this.prototype,t,e[t],e)}static createObservers(e,t){const i=this.prototype;for(let n=0;n<e.length;n++)i._createMethodObserver(e[n],t)}static get template(){return this.hasOwnProperty(JSCompiler_renameProperty("_template",this))||(this._template=this.prototype.hasOwnProperty(JSCompiler_renameProperty("_template",this.prototype))?this.prototype._template:function(e){let t=null;return e&&(t=pn.import(e,"template")),t}(this.is)||Object.getPrototypeOf(this.prototype).constructor.template),this._template}static set template(e){this._template=e}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){const e=this.importMeta;if(e)this._importPath=rn(e.url);else{const e=pn.import(this.is);this._importPath=e&&e.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}constructor(){super(),this._template,this._importPath,this.rootPath,this.importPath,this.root,this.$}_initializeProperties(){this.constructor.finalize(),this.constructor._finalizeTemplate(this.localName),super._initializeProperties(),this.rootPath=on,this.importPath=this.constructor.importPath;let e=function(e){if(!e.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",e))){e.__propertyDefaults=null;let t=e._properties;for(let i in t){let n=t[i];"value"in n&&(e.__propertyDefaults=e.__propertyDefaults||{},e.__propertyDefaults[i]=n)}}return e.__propertyDefaults}(this.constructor);if(e)for(let t in e){let i=e[t];if(!this.hasOwnProperty(t)){let e="function"==typeof i.value?i.value.call(this):i.value;this._hasAccessor(t)?this._setPendingProperty(t,e,!0):this[t]=e}}}static _processStyleText(e,t){return nn(e,t)}static _finalizeTemplate(e){const t=this.prototype._template;if(t&&!t.__polymerFinalized){t.__polymerFinalized=!0;const i=this.importPath;n(this,t,e,i?tn(i):""),this.prototype._bindTemplate(t)}}connectedCallback(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),super.connectedCallback()}ready(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),super.ready()}_readyClients(){this._template&&(this.root=this._attachDom(this.root)),super._readyClients()}_attachDom(e){const t=bn(this);if(t.attachShadow)return e?(t.shadowRoot||(t.attachShadow({mode:"open",shadyUpgradeFragment:e}),t.shadowRoot.appendChild(e)),t.shadowRoot):null;throw new Error("ShadowDOM not available. PolymerElement can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.")}updateStyles(e){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,e)}resolveUrl(e,t){return!t&&this.importPath&&(t=tn(this.importPath)),tn(e,t)}static _parseTemplateContent(e,i,n){return i.dynamicFns=i.dynamicFns||this._properties,t._parseTemplateContent.call(this,e,i,n)}static _addTemplatePropertyEffect(e,i,n){return t._addTemplatePropertyEffect.call(this,e,i,n)}}});
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class Mr{constructor(){this._asyncModule=null,this._callback=null,this._timer=null}setConfig(e,t){this._asyncModule=e,this._callback=t,this._timer=this._asyncModule.run(()=>{this._timer=null,Dr.delete(this),this._callback()})}cancel(){this.isActive()&&(this._cancelAsync(),Dr.delete(this))}_cancelAsync(){this.isActive()&&(this._asyncModule.cancel(this._timer),this._timer=null)}flush(){this.isActive()&&(this.cancel(),this._callback())}isActive(){return null!=this._timer}static debounce(e,t,i){return e instanceof Mr?e._cancelAsync():e=new Mr,e.setConfig(t,i),e}}let Dr=new Set;const Lr=function(e){Dr.add(e)},zr=function(){const e=Boolean(Dr.size);return Dr.forEach(e=>{try{e.flush()}catch(e){setTimeout(()=>{throw e})}}),e};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let Hr="string"==typeof document.head.style.touchAction,Br="__polymerGesturesHandled",jr="__polymerGesturesTouchAction",Vr=["mousedown","mousemove","mouseup","click"],$r=[0,1,4,2],Ur=function(){try{return 1===new MouseEvent("test",{buttons:1}).buttons}catch(e){return!1}}();function qr(e){return Vr.indexOf(e)>-1}let Gr=!1;function Xr(e){qr(e)}!function(){try{let e=Object.defineProperty({},"passive",{get(){Gr=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}}();let Yr=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/);const Jr=[],Wr={button:!0,input:!0,keygen:!0,meter:!0,output:!0,textarea:!0,progress:!0,select:!0},Kr={button:!0,command:!0,fieldset:!0,input:!0,keygen:!0,optgroup:!0,option:!0,select:!0,textarea:!0};function Zr(e){let t=Array.prototype.slice.call(e.labels||[]);if(!t.length){t=[];let i=e.getRootNode();if(e.id){let n=i.querySelectorAll(`label[for = ${e.id}]`);for(let e=0;e<n.length;e++)t.push(n[e])}}return t}let Qr=function(e){let t=e.sourceCapabilities;var i;if((!t||t.firesTouchEvents)&&(e[Br]={skip:!0},"click"===e.type)){let t=!1,n=oo(e);for(let e=0;e<n.length;e++){if(n[e].nodeType===Node.ELEMENT_NODE)if("label"===n[e].localName)Jr.push(n[e]);else if(i=n[e],Wr[i.localName]){let i=Zr(n[e]);for(let e=0;e<i.length;e++)t=t||Jr.indexOf(i[e])>-1}if(n[e]===io.mouse.target)return}if(t)return;e.preventDefault(),e.stopPropagation()}};function eo(e){let t=Yr?["click"]:Vr;for(let i,n=0;n<t.length;n++)i=t[n],e?(Jr.length=0,document.addEventListener(i,Qr,!0)):document.removeEventListener(i,Qr,!0)}function to(e){let t=e.type;if(!qr(t))return!1;if("mousemove"===t){let t=void 0===e.buttons?1:e.buttons;return e instanceof window.MouseEvent&&!Ur&&(t=$r[e.which]||0),Boolean(1&t)}return 0===(void 0===e.button?0:e.button)}let io={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};function no(e,t,i){e.movefn=t,e.upfn=i,document.addEventListener("mousemove",t),document.addEventListener("mouseup",i)}function ro(e){document.removeEventListener("mousemove",e.movefn),document.removeEventListener("mouseup",e.upfn),e.movefn=null,e.upfn=null}document.addEventListener("touchend",(function(e){io.mouse.mouseIgnoreJob||eo(!0),io.mouse.target=oo(e)[0],io.mouse.mouseIgnoreJob=Mr.debounce(io.mouse.mouseIgnoreJob,Hn.after(2500),(function(){eo(),io.mouse.target=null,io.mouse.mouseIgnoreJob=null}))}),!!Gr&&{passive:!0});const oo=window.ShadyDOM&&window.ShadyDOM.noPatch?window.ShadyDOM.composedPath:e=>e.composedPath&&e.composedPath()||[],so={},ao=[];function lo(e){const t=oo(e);return t.length>0?t[0]:e.target}function co(e){let t,i=e.type,n=e.currentTarget.__polymerGestures;if(!n)return;let r=n[i];if(r){if(!e[Br]&&(e[Br]={},"touch"===i.slice(0,5))){let t=(e=e).changedTouches[0];if("touchstart"===i&&1===e.touches.length&&(io.touch.id=t.identifier),io.touch.id!==t.identifier)return;Hr||"touchstart"!==i&&"touchmove"!==i||function(e){let t=e.changedTouches[0],i=e.type;if("touchstart"===i)io.touch.x=t.clientX,io.touch.y=t.clientY,io.touch.scrollDecided=!1;else if("touchmove"===i){if(io.touch.scrollDecided)return;io.touch.scrollDecided=!0;let i=function(e){let t="auto",i=oo(e);for(let e,n=0;n<i.length;n++)if(e=i[n],e[jr]){t=e[jr];break}return t}(e),n=!1,r=Math.abs(io.touch.x-t.clientX),o=Math.abs(io.touch.y-t.clientY);e.cancelable&&("none"===i?n=!0:"pan-x"===i?n=o>r:"pan-y"===i&&(n=r>o)),n?e.preventDefault():_o("track")}}(e)}if(t=e[Br],!t.skip){for(let i,n=0;n<ao.length;n++)i=ao[n],r[i.name]&&!t[i.name]&&i.flow&&i.flow.start.indexOf(e.type)>-1&&i.reset&&i.reset();for(let n,o=0;o<ao.length;o++)n=ao[o],r[n.name]&&!t[n.name]&&(t[n.name]=!0,n[i](e))}}}function po(e,t,i){return!!so[t]&&(function(e,t,i){let n=so[t],r=n.deps,o=n.name,s=e.__polymerGestures;s||(e.__polymerGestures=s={});for(let t,i,n=0;n<r.length;n++)t=r[n],Yr&&qr(t)&&"click"!==t||(i=s[t],i||(s[t]=i={_count:0}),0===i._count&&e.addEventListener(t,co,Xr(t)),i[o]=(i[o]||0)+1,i._count=(i._count||0)+1);e.addEventListener(t,i),n.touchAction&&mo(e,n.touchAction)}(e,t,i),!0)}function ho(e,t,i){return!!so[t]&&(function(e,t,i){let n=so[t],r=n.deps,o=n.name,s=e.__polymerGestures;if(s)for(let t,i,n=0;n<r.length;n++)t=r[n],i=s[t],i&&i[o]&&(i[o]=(i[o]||1)-1,i._count=(i._count||1)-1,0===i._count&&e.removeEventListener(t,co,Xr(t)));e.removeEventListener(t,i)}(e,t,i),!0)}function uo(e){ao.push(e);for(let t=0;t<e.emits.length;t++)so[e.emits[t]]=e}function mo(e,t){Hr&&e instanceof HTMLElement&&Bn.run(()=>{e.style.touchAction=t}),e[jr]=t}function fo(e,t,i){let n=new Event(t,{bubbles:!0,cancelable:!0,composed:!0});if(n.detail=i,bn(e).dispatchEvent(n),n.defaultPrevented){let e=i.preventer||i.sourceEvent;e&&e.preventDefault&&e.preventDefault()}}function _o(e){let t=function(e){for(let t,i=0;i<ao.length;i++){t=ao[i];for(let i,n=0;n<t.emits.length;n++)if(i=t.emits[n],i===e)return t}return null}(e);t.info&&(t.info.prevent=!0)}function go(e,t,i,n){t&&fo(t,e,{x:i.clientX,y:i.clientY,sourceEvent:i,preventer:n,prevent:function(e){return _o(e)}})}function yo(e,t,i){if(e.prevent)return!1;if(e.started)return!0;let n=Math.abs(e.x-t),r=Math.abs(e.y-i);return n>=5||r>=5}function bo(e,t,i){if(!t)return;let n,r=e.moves[e.moves.length-2],o=e.moves[e.moves.length-1],s=o.x-e.x,a=o.y-e.y,l=0;r&&(n=o.x-r.x,l=o.y-r.y),fo(t,"track",{state:e.state,x:i.clientX,y:i.clientY,dx:s,dy:a,ddx:n,ddy:l,sourceEvent:i,hover:function(){return function(e,t){let i=document.elementFromPoint(e,t),n=i;for(;n&&n.shadowRoot&&!window.ShadyDOM;){let r=n;if(n=n.shadowRoot.elementFromPoint(e,t),r===n)break;n&&(i=n)}return i}(i.clientX,i.clientY)}})}function vo(e,t,i){let n=Math.abs(t.clientX-e.x),r=Math.abs(t.clientY-e.y),o=lo(i||t);!o||Kr[o.localName]&&o.hasAttribute("disabled")||(isNaN(n)||isNaN(r)||n<=25&&r<=25||function(e){if("click"===e.type){if(0===e.detail)return!0;let t=lo(e);if(!t.nodeType||t.nodeType!==Node.ELEMENT_NODE)return!0;let i=t.getBoundingClientRect(),n=e.pageX,r=e.pageY;return!(n>=i.left&&n<=i.right&&r>=i.top&&r<=i.bottom)}return!1}(t))&&(e.prevent||fo(o,"tap",{x:t.clientX,y:t.clientY,sourceEvent:t,preventer:i}))}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/uo({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){ro(this.info)},mousedown:function(e){if(!to(e))return;let t=lo(e),i=this;no(this.info,(function(e){to(e)||(go("up",t,e),ro(i.info))}),(function(e){to(e)&&go("up",t,e),ro(i.info)})),go("down",t,e)},touchstart:function(e){go("down",lo(e),e.changedTouches[0],e)},touchend:function(e){go("up",lo(e),e.changedTouches[0],e)}}),uo({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(e){this.moves.length>2&&this.moves.shift(),this.moves.push(e)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state="start",this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0,this.info.prevent=!1,ro(this.info)},mousedown:function(e){if(!to(e))return;let t=lo(e),i=this,n=function(e){let n=e.clientX,r=e.clientY;yo(i.info,n,r)&&(i.info.state=i.info.started?"mouseup"===e.type?"end":"track":"start","start"===i.info.state&&_o("tap"),i.info.addMove({x:n,y:r}),to(e)||(i.info.state="end",ro(i.info)),t&&bo(i.info,t,e),i.info.started=!0)};no(this.info,n,(function(e){i.info.started&&n(e),ro(i.info)})),this.info.x=e.clientX,this.info.y=e.clientY},touchstart:function(e){let t=e.changedTouches[0];this.info.x=t.clientX,this.info.y=t.clientY},touchmove:function(e){let t=lo(e),i=e.changedTouches[0],n=i.clientX,r=i.clientY;yo(this.info,n,r)&&("start"===this.info.state&&_o("tap"),this.info.addMove({x:n,y:r}),bo(this.info,t,i),this.info.state="track",this.info.started=!0)},touchend:function(e){let t=lo(e),i=e.changedTouches[0];this.info.started&&(this.info.state="end",this.info.addMove({x:i.clientX,y:i.clientY}),bo(this.info,t,i))}}),uo({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN,this.info.y=NaN,this.info.prevent=!1},mousedown:function(e){to(e)&&(this.info.x=e.clientX,this.info.y=e.clientY)},click:function(e){to(e)&&vo(this.info,e)},touchstart:function(e){const t=e.changedTouches[0];this.info.x=t.clientX,this.info.y=t.clientY},touchend:function(e){vo(this.info,e.changedTouches[0],e)}});const xo=ln(e=>class extends e{_addEventListenerToNode(e,t,i){po(e,t,i)||super._addEventListenerToNode(e,t,i)}_removeEventListenerFromNode(e,t,i){ho(e,t,i)||super._removeEventListenerFromNode(e,t,i)}}),wo=/:host\(:dir\((ltr|rtl)\)\)/g,So=/([\s\w-#\.\[\]\*]*):dir\((ltr|rtl)\)/g,Eo=/:dir\((?:ltr|rtl)\)/,Co=Boolean(window.ShadyDOM&&window.ShadyDOM.inUse),To=[];
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */let Ao=null,Io="";function Po(){Io=document.documentElement.getAttribute("dir")}function Oo(e){if(!e.__autoDirOptOut){e.setAttribute("dir",Io)}}function No(){Po(),Io=document.documentElement.getAttribute("dir");for(let e=0;e<To.length;e++)Oo(To[e])}const ko=ln(e=>{Co||Ao||(Po(),Ao=new MutationObserver(No),Ao.observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]}));const t=qn(e);class i extends t{static _processStyleText(e,i){return e=t._processStyleText.call(this,e,i),!Co&&Eo.test(e)&&(e=this._replaceDirInCssText(e),this.__activateDir=!0),e}static _replaceDirInCssText(e){let t=e;return t=t.replace(wo,':host([dir="$1"])'),t=t.replace(So,':host([dir="$2"]) $1'),t}constructor(){super(),this.__autoDirOptOut=!1}ready(){super.ready(),this.__autoDirOptOut=this.hasAttribute("dir")}connectedCallback(){t.prototype.connectedCallback&&super.connectedCallback(),this.constructor.__activateDir&&(Ao&&Ao.takeRecords().length&&No(),To.push(this),Oo(this))}disconnectedCallback(){if(t.prototype.disconnectedCallback&&super.disconnectedCallback(),this.constructor.__activateDir){const e=To.indexOf(this);e>-1&&To.splice(e,1)}}}return i.__activateDir=!1,i});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function Ro(){document.body.removeAttribute("unresolved")}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function Fo(e,t,i){return{index:e,removed:t,addedCount:i}}"interactive"===document.readyState||"complete"===document.readyState?Ro():window.addEventListener("DOMContentLoaded",Ro);function Mo(e,t,i,n,r,o){let s,a=0,l=0,d=Math.min(i-t,o-r);if(0==t&&0==r&&(a=function(e,t,i){for(let n=0;n<i;n++)if(!Lo(e[n],t[n]))return n;return i}(e,n,d)),i==e.length&&o==n.length&&(l=function(e,t,i){let n=e.length,r=t.length,o=0;for(;o<i&&Lo(e[--n],t[--r]);)o++;return o}(e,n,d-a)),r+=a,o-=l,(i-=l)-(t+=a)==0&&o-r==0)return[];if(t==i){for(s=Fo(t,[],0);r<o;)s.removed.push(n[r++]);return[s]}if(r==o)return[Fo(t,[],i-t)];let c=function(e){let t=e.length-1,i=e[0].length-1,n=e[t][i],r=[];for(;t>0||i>0;){if(0==t){r.push(2),i--;continue}if(0==i){r.push(3),t--;continue}let o,s=e[t-1][i-1],a=e[t-1][i],l=e[t][i-1];o=a<l?a<s?a:s:l<s?l:s,o==s?(s==n?r.push(0):(r.push(1),n=s),t--,i--):o==a?(r.push(3),t--,n=a):(r.push(2),i--,n=l)}return r.reverse(),r}(function(e,t,i,n,r,o){let s=o-r+1,a=i-t+1,l=new Array(s);for(let e=0;e<s;e++)l[e]=new Array(a),l[e][0]=e;for(let e=0;e<a;e++)l[0][e]=e;for(let i=1;i<s;i++)for(let o=1;o<a;o++)if(Lo(e[t+o-1],n[r+i-1]))l[i][o]=l[i-1][o-1];else{let e=l[i-1][o]+1,t=l[i][o-1]+1;l[i][o]=e<t?e:t}return l}(e,t,i,n,r,o));s=void 0;let p=[],h=t,u=r;for(let e=0;e<c.length;e++)switch(c[e]){case 0:s&&(p.push(s),s=void 0),h++,u++;break;case 1:s||(s=Fo(h,[],0)),s.addedCount++,h++,s.removed.push(n[u]),u++;break;case 2:s||(s=Fo(h,[],0)),s.addedCount++,h++;break;case 3:s||(s=Fo(h,[],0)),s.removed.push(n[u]),u++}return s&&p.push(s),p}function Do(e,t){return Mo(e,0,e.length,t,0,t.length)}function Lo(e,t){return e===t}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function zo(e){return"slot"===e.localName}let Ho=class{static getFlattenedNodes(e){const t=bn(e);return zo(e)?(e=e,t.assignedNodes({flatten:!0})):Array.from(t.childNodes).map(e=>zo(e)?bn(e=e).assignedNodes({flatten:!0}):[e]).reduce((e,t)=>e.concat(t),[])}constructor(e,t){this._shadyChildrenObserver=null,this._nativeChildrenObserver=null,this._connected=!1,this._target=e,this.callback=t,this._effectiveNodes=[],this._observer=null,this._scheduled=!1,this._boundSchedule=()=>{this._schedule()},this.connect(),this._schedule()}connect(){zo(this._target)?this._listenSlots([this._target]):bn(this._target).children&&(this._listenSlots(bn(this._target).children),window.ShadyDOM?this._shadyChildrenObserver=window.ShadyDOM.observeChildren(this._target,e=>{this._processMutations(e)}):(this._nativeChildrenObserver=new MutationObserver(e=>{this._processMutations(e)}),this._nativeChildrenObserver.observe(this._target,{childList:!0}))),this._connected=!0}disconnect(){zo(this._target)?this._unlistenSlots([this._target]):bn(this._target).children&&(this._unlistenSlots(bn(this._target).children),window.ShadyDOM&&this._shadyChildrenObserver?(window.ShadyDOM.unobserveChildren(this._shadyChildrenObserver),this._shadyChildrenObserver=null):this._nativeChildrenObserver&&(this._nativeChildrenObserver.disconnect(),this._nativeChildrenObserver=null)),this._connected=!1}_schedule(){this._scheduled||(this._scheduled=!0,Bn.run(()=>this.flush()))}_processMutations(e){this._processSlotMutations(e),this.flush()}_processSlotMutations(e){if(e)for(let t=0;t<e.length;t++){let i=e[t];i.addedNodes&&this._listenSlots(i.addedNodes),i.removedNodes&&this._unlistenSlots(i.removedNodes)}}flush(){if(!this._connected)return!1;window.ShadyDOM&&ShadyDOM.flush(),this._nativeChildrenObserver?this._processSlotMutations(this._nativeChildrenObserver.takeRecords()):this._shadyChildrenObserver&&this._processSlotMutations(this._shadyChildrenObserver.takeRecords()),this._scheduled=!1;let e={target:this._target,addedNodes:[],removedNodes:[]},t=this.constructor.getFlattenedNodes(this._target),i=Do(t,this._effectiveNodes);for(let t,n=0;n<i.length&&(t=i[n]);n++)for(let i,n=0;n<t.removed.length&&(i=t.removed[n]);n++)e.removedNodes.push(i);for(let n,r=0;r<i.length&&(n=i[r]);r++)for(let i=n.index;i<n.index+n.addedCount;i++)e.addedNodes.push(t[i]);this._effectiveNodes=t;let n=!1;return(e.addedNodes.length||e.removedNodes.length)&&(n=!0,this.callback.call(this._target,e)),n}_listenSlots(e){for(let t=0;t<e.length;t++){let i=e[t];zo(i)&&i.addEventListener("slotchange",this._boundSchedule)}}_unlistenSlots(e){for(let t=0;t<e.length;t++){let i=e[t];zo(i)&&i.removeEventListener("slotchange",this._boundSchedule)}}};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Bo=function(){let e,t;do{e=window.ShadyDOM&&ShadyDOM.flush(),window.ShadyCSS&&window.ShadyCSS.ScopingShim&&window.ShadyCSS.ScopingShim.flush(),t=zr()}while(e||t)},jo=Element.prototype,Vo=jo.matches||jo.matchesSelector||jo.mozMatchesSelector||jo.msMatchesSelector||jo.oMatchesSelector||jo.webkitMatchesSelector,$o=function(e,t){return Vo.call(e,t)};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/class Uo{constructor(e){window.ShadyDOM&&window.ShadyDOM.inUse&&window.ShadyDOM.patch(e),this.node=e}observeNodes(e){return new Ho(this.node,e)}unobserveNodes(e){e.disconnect()}notifyObserver(){}deepContains(e){if(bn(this.node).contains(e))return!0;let t=e,i=e.ownerDocument;for(;t&&t!==i&&t!==this.node;)t=bn(t).parentNode||bn(t).host;return t===this.node}getOwnerRoot(){return bn(this.node).getRootNode()}getDistributedNodes(){return"slot"===this.node.localName?bn(this.node).assignedNodes({flatten:!0}):[]}getDestinationInsertionPoints(){let e=[],t=bn(this.node).assignedSlot;for(;t;)e.push(t),t=bn(t).assignedSlot;return e}importNode(e,t){let i=this.node instanceof Document?this.node:this.node.ownerDocument;return bn(i).importNode(e,t)}getEffectiveChildNodes(){return Ho.getFlattenedNodes(this.node)}queryDistributedElements(e){let t=this.getEffectiveChildNodes(),i=[];for(let n,r=0,o=t.length;r<o&&(n=t[r]);r++)n.nodeType===Node.ELEMENT_NODE&&$o(n,e)&&i.push(n);return i}get activeElement(){let e=this.node;return void 0!==e._activeElement?e._activeElement:e.activeElement}}function qo(e,t){for(let i=0;i<t.length;i++){let n=t[i];Object.defineProperty(e,n,{get:function(){return this.node[n]},configurable:!0})}}class Go{constructor(e){this.event=e}get rootTarget(){return this.path[0]}get localTarget(){return this.event.target}get path(){return this.event.composedPath()}}Uo.prototype.cloneNode,Uo.prototype.appendChild,Uo.prototype.insertBefore,Uo.prototype.removeChild,Uo.prototype.replaceChild,Uo.prototype.setAttribute,Uo.prototype.removeAttribute,Uo.prototype.querySelector,Uo.prototype.querySelectorAll,Uo.prototype.parentNode,Uo.prototype.firstChild,Uo.prototype.lastChild,Uo.prototype.nextSibling,Uo.prototype.previousSibling,Uo.prototype.firstElementChild,Uo.prototype.lastElementChild,Uo.prototype.nextElementSibling,Uo.prototype.previousElementSibling,Uo.prototype.childNodes,Uo.prototype.children,Uo.prototype.classList,Uo.prototype.textContent,Uo.prototype.innerHTML;let Xo=Uo;if(window.ShadyDOM&&window.ShadyDOM.inUse&&window.ShadyDOM.noPatch&&window.ShadyDOM.Wrapper){class e extends window.ShadyDOM.Wrapper{}Object.getOwnPropertyNames(Uo.prototype).forEach(t=>{"activeElement"!=t&&(e.prototype[t]=Uo.prototype[t])}),qo(e.prototype,["classList"]),Xo=e,Object.defineProperties(Go.prototype,{localTarget:{get(){const e=this.event.currentTarget,t=e&&Yo(e).getOwnerRoot(),i=this.path;for(let e=0;e<i.length;e++){const n=i[e];if(Yo(n).getOwnerRoot()===t)return n}},configurable:!0},path:{get(){return window.ShadyDOM.composedPath(this.event)},configurable:!0}})}else!function(e,t){for(let i=0;i<t.length;i++){let n=t[i];e[n]=function(){return this.node[n].apply(this.node,arguments)}}}(Uo.prototype,["cloneNode","appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute","querySelector","querySelectorAll"]),qo(Uo.prototype,["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling","childNodes","children","classList"]),function(e,t){for(let i=0;i<t.length;i++){let n=t[i];Object.defineProperty(e,n,{get:function(){return this.node[n]},set:function(e){this.node[n]=e},configurable:!0})}}(Uo.prototype,["textContent","innerHTML","className"]);const Yo=function(e){if((e=e||document)instanceof Xo)return e;if(e instanceof Go)return e;let t=e.__domApi;return t||(t=e instanceof Event?new Go(e):new Xo(e),e.__domApi=t),t},Jo=window.ShadyDOM,Wo=window.ShadyCSS;
/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function Ko(e,t){return bn(e).getRootNode()===t}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let Zo=window.ShadyCSS;const Qo=ln(e=>{const t=ko(xo(Fr(e))),i={x:"pan-x",y:"pan-y",none:"none",all:"auto"};class n extends t{constructor(){super(),this.isAttached,this.__boundListeners,this._debouncers}static get importMeta(){return this.prototype.importMeta}created(){}connectedCallback(){super.connectedCallback(),this.isAttached=!0,this.attached()}attached(){}disconnectedCallback(){super.disconnectedCallback(),this.isAttached=!1,this.detached()}detached(){}attributeChangedCallback(e,t,i,n){t!==i&&(super.attributeChangedCallback(e,t,i,n),this.attributeChanged(e,t,i))}attributeChanged(e,t,i){}_initializeProperties(){let e=Object.getPrototypeOf(this);e.hasOwnProperty(JSCompiler_renameProperty("__hasRegisterFinished",e))||(this._registered(),e.__hasRegisterFinished=!0),super._initializeProperties(),this.root=this,this.created(),this._applyListeners()}_registered(){}ready(){this._ensureAttributes(),super.ready()}_ensureAttributes(){}_applyListeners(){}serialize(e){return this._serializeValue(e)}deserialize(e,t){return this._deserializeValue(e,t)}reflectPropertyToAttribute(e,t,i){this._propertyToAttribute(e,t,i)}serializeValueToAttribute(e,t,i){this._valueToNodeAttribute(i||this,e,t)}extend(e,t){if(!e||!t)return e||t;let i=Object.getOwnPropertyNames(t);for(let n,r=0;r<i.length&&(n=i[r]);r++){let i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}return e}mixin(e,t){for(let i in t)e[i]=t[i];return e}chainObject(e,t){return e&&t&&e!==t&&(e.__proto__=t),e}instanceTemplate(e){let t=this.constructor._contentForTemplate(e);return document.importNode(t,!0)}fire(e,t,i){i=i||{},t=null==t?{}:t;let n=new Event(e,{bubbles:void 0===i.bubbles||i.bubbles,cancelable:Boolean(i.cancelable),composed:void 0===i.composed||i.composed});n.detail=t;let r=i.node||this;return bn(r).dispatchEvent(n),n}listen(e,t,i){e=e||this;let n=this.__boundListeners||(this.__boundListeners=new WeakMap),r=n.get(e);r||(r={},n.set(e,r));let o=t+i;r[o]||(r[o]=this._addMethodEventListenerToNode(e,t,i,this))}unlisten(e,t,i){e=e||this;let n=this.__boundListeners&&this.__boundListeners.get(e),r=t+i,o=n&&n[r];o&&(this._removeEventListenerFromNode(e,t,o),n[r]=null)}setScrollDirection(e,t){mo(t||this,i[e]||"auto")}$$(e){return this.root.querySelector(e)}get domHost(){let e=bn(this).getRootNode();return e instanceof DocumentFragment?e.host:e}distributeContent(){const e=Yo(this);window.ShadyDOM&&e.shadowRoot&&ShadyDOM.flush()}getEffectiveChildNodes(){return Yo(this).getEffectiveChildNodes()}queryDistributedElements(e){return Yo(this).queryDistributedElements(e)}getEffectiveChildren(){return this.getEffectiveChildNodes().filter((function(e){return e.nodeType===Node.ELEMENT_NODE}))}getEffectiveTextContent(){let e=this.getEffectiveChildNodes(),t=[];for(let i,n=0;i=e[n];n++)i.nodeType!==Node.COMMENT_NODE&&t.push(i.textContent);return t.join("")}queryEffectiveChildren(e){let t=this.queryDistributedElements(e);return t&&t[0]}queryAllEffectiveChildren(e){return this.queryDistributedElements(e)}getContentChildNodes(e){let t=this.root.querySelector(e||"slot");return t?Yo(t).getDistributedNodes():[]}getContentChildren(e){return this.getContentChildNodes(e).filter((function(e){return e.nodeType===Node.ELEMENT_NODE}))}isLightDescendant(e){return this!==e&&bn(this).contains(e)&&bn(this).getRootNode()===bn(e).getRootNode()}isLocalDescendant(e){return this.root===bn(e).getRootNode()}scopeSubtree(e,t=!1){return function(e,t=!1){if(!Jo||!Wo)return null;if(!Jo.handlesDynamicScoping)return null;const i=Wo.ScopingShim;if(!i)return null;const n=i.scopeForNode(e),r=bn(e).getRootNode(),o=e=>{if(!Ko(e,r))return;const t=Array.from(Jo.nativeMethods.querySelectorAll.call(e,"*"));t.push(e);for(let e=0;e<t.length;e++){const o=t[e];if(!Ko(o,r))continue;const s=i.currentScopeForNode(o);s!==n&&(""!==s&&i.unscopeNode(o,s),i.scopeNode(o,n))}};if(o(e),t){const t=new MutationObserver(e=>{for(let t=0;t<e.length;t++){const i=e[t];for(let e=0;e<i.addedNodes.length;e++){const t=i.addedNodes[e];t.nodeType===Node.ELEMENT_NODE&&o(t)}}});return t.observe(e,{childList:!0,subtree:!0}),t}return null}(e,t)}getComputedStyleValue(e){return Zo.getComputedStyleValue(this,e)}debounce(e,t,i){return this._debouncers=this._debouncers||{},this._debouncers[e]=Mr.debounce(this._debouncers[e],i>0?Hn.after(i):Bn,t.bind(this))}isDebouncerActive(e){this._debouncers=this._debouncers||{};let t=this._debouncers[e];return!(!t||!t.isActive())}flushDebouncer(e){this._debouncers=this._debouncers||{};let t=this._debouncers[e];t&&t.flush()}cancelDebouncer(e){this._debouncers=this._debouncers||{};let t=this._debouncers[e];t&&t.cancel()}async(e,t){return t>0?Hn.run(e.bind(this),t):~Bn.run(e.bind(this))}cancelAsync(e){e<0?Bn.cancel(~e):Hn.cancel(e)}create(e,t){let i=document.createElement(e);if(t)if(i.setProperties)i.setProperties(t);else for(let e in t)i[e]=t[e];return i}elementMatches(e,t){return $o(t||this,e)}toggleAttribute(e,t){let i=this;return 3===arguments.length&&(i=arguments[2]),1==arguments.length&&(t=!i.hasAttribute(e)),t?(bn(i).setAttribute(e,""),!0):(bn(i).removeAttribute(e),!1)}toggleClass(e,t,i){i=i||this,1==arguments.length&&(t=!i.classList.contains(e)),t?i.classList.add(e):i.classList.remove(e)}transform(e,t){(t=t||this).style.webkitTransform=e,t.style.transform=e}translate3d(e,t,i,n){n=n||this,this.transform("translate3d("+e+","+t+","+i+")",n)}arrayDelete(e,t){let i;if(Array.isArray(e)){if(i=e.indexOf(t),i>=0)return e.splice(i,1)}else{if(i=An(this,e).indexOf(t),i>=0)return this.splice(e,i,1)}return null}_logger(e,t){switch(Array.isArray(t)&&1===t.length&&Array.isArray(t[0])&&(t=t[0]),e){case"log":case"warn":case"error":console[e](...t)}}_log(...e){this._logger("log",e)}_warn(...e){this._logger("warn",e)}_error(...e){this._logger("error",e)}_logf(e,...t){return["[%s::%s]",this.is,e,...t]}}return n.prototype.is="",n}),es={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,listeners:!0,hostAttributes:!0},ts={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,behaviors:!0,_noAccessors:!0},is=Object.assign({listeners:!0,hostAttributes:!0,properties:!0,observers:!0},ts);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function ns(e,t,i,n){!function(e,t,i){const n=e._noAccessors,r=Object.getOwnPropertyNames(e);for(let o=0;o<r.length;o++){let s=r[o];if(!(s in i))if(n)t[s]=e[s];else{let i=Object.getOwnPropertyDescriptor(e,s);i&&(i.configurable=!0,Object.defineProperty(t,s,i))}}}(t,e,n);for(let e in es)t[e]&&(i[e]=i[e]||[],i[e].push(t[e]))}function rs(e,t){for(const i in t){const n=e[i],r=t[i];e[i]=!("value"in r)&&n&&"value"in n?Object.assign({value:n.value},r):r}}function os(e,t,i){let n;const r={};class o extends t{static _finalizeClass(){if(this.hasOwnProperty(JSCompiler_renameProperty("generatedFrom",this))){if(n)for(let e,t=0;t<n.length;t++)e=n[t],e.properties&&this.createProperties(e.properties),e.observers&&this.createObservers(e.observers,e.properties);e.properties&&this.createProperties(e.properties),e.observers&&this.createObservers(e.observers,e.properties),this._prepareTemplate()}else t._finalizeClass.call(this)}static get properties(){const t={};if(n)for(let e=0;e<n.length;e++)rs(t,n[e].properties);return rs(t,e.properties),t}static get observers(){let t=[];if(n)for(let e,i=0;i<n.length;i++)e=n[i],e.observers&&(t=t.concat(e.observers));return e.observers&&(t=t.concat(e.observers)),t}created(){super.created();const e=r.created;if(e)for(let t=0;t<e.length;t++)e[t].call(this)}_registered(){const e=o.prototype;if(!e.hasOwnProperty(JSCompiler_renameProperty("__hasRegisterFinished",e))){e.__hasRegisterFinished=!0,super._registered();const t=Object.getPrototypeOf(this);let i=r.beforeRegister;if(i)for(let e=0;e<i.length;e++)i[e].call(t);if(i=r.registered,i)for(let e=0;e<i.length;e++)i[e].call(t)}}_applyListeners(){super._applyListeners();const e=r.listeners;if(e)for(let t=0;t<e.length;t++){const i=e[t];if(i)for(let e in i)this._addMethodEventListenerToNode(this,e,i[e])}}_ensureAttributes(){const e=r.hostAttributes;if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];for(let e in i)this._ensureAttribute(e,i[e])}super._ensureAttributes()}ready(){super.ready();let e=r.ready;if(e)for(let t=0;t<e.length;t++)e[t].call(this)}attached(){super.attached();let e=r.attached;if(e)for(let t=0;t<e.length;t++)e[t].call(this)}detached(){super.detached();let e=r.detached;if(e)for(let t=0;t<e.length;t++)e[t].call(this)}attributeChanged(e,t,i){super.attributeChanged();let n=r.attributeChanged;if(n)for(let r=0;r<n.length;r++)n[r].call(this,e,t,i)}}if(i){Array.isArray(i)||(i=[i]);let e=t.prototype.behaviors;n=function e(t,i,n){i=i||[];for(let r=t.length-1;r>=0;r--){let o=t[r];o?Array.isArray(o)?e(o,i):i.indexOf(o)<0&&(!n||n.indexOf(o)<0)&&i.unshift(o):console.warn("behavior is null, check for missing or 404 import")}return i}(i,null,e),o.prototype.behaviors=e?e.concat(i):n}return(t=>{n&&function(e,t,i){for(let n=0;n<t.length;n++)ns(e,t[n],i,is)}(t,n,r),ns(t,e,r,ts)})(o.prototype),o.generatedFrom=e,o}const ss=function(e){let t;return t="function"==typeof e?e:ss.Class(e),customElements.define(t.is,t),t};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function as(e,t,i,n,r){let o;r&&(o="object"==typeof i&&null!==i,o&&(n=e.__dataTemp[t]));let s=n!==i&&(n==n||i==i);return o&&s&&(e.__dataTemp[t]=i),s}ss.Class=function(e,t){e||console.warn("Polymer.Class requires `info` argument");let i=t?t(Qo(HTMLElement)):Qo(HTMLElement);return i=os(e,i,e.behaviors),i.is=i.prototype.is=e.is,i};const ls=ln(e=>class extends e{_shouldPropertyChange(e,t,i){return as(this,e,t,i,!0)}}),ds=ln(e=>class extends e{static get properties(){return{mutableData:Boolean}}_shouldPropertyChange(e,t,i){return as(this,e,t,i,this.mutableData)}});ls._mutablePropertyChange=as;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let cs=null;function ps(){return cs}ps.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:ps,writable:!0}});const hs=Or(ps),us=ls(hs);const ms=Or(class{});class fs extends ms{constructor(e){super(),this._configureProperties(e),this.root=this._stampTemplate(this.__dataHost);let t=[];this.children=t;for(let e=this.root.firstChild;e;e=e.nextSibling)t.push(e),e.__templatizeInstance=this;this.__templatizeOwner&&this.__templatizeOwner.__hideTemplateChildren__&&this._showHideChildren(!0);let i=this.__templatizeOptions;(e&&i.instanceProps||!i.instanceProps)&&this._enableProperties()}_configureProperties(e){if(this.__templatizeOptions.forwardHostProp)for(let e in this.__hostProps)this._setPendingProperty(e,this.__dataHost["_host_"+e]);for(let t in e)this._setPendingProperty(t,e[t])}forwardHostProp(e,t){this._setPendingPropertyOrPath(e,t,!1,!0)&&this.__dataHost._enqueueClient(this)}_addEventListenerToNode(e,t,i){if(this._methodHost&&this.__templatizeOptions.parentModel)this._methodHost._addEventListenerToNode(e,t,e=>{e.model=this,i(e)});else{let n=this.__dataHost.__dataHost;n&&n._addEventListenerToNode(e,t,i)}}_showHideChildren(e){let t=this.children;for(let i=0;i<t.length;i++){let n=t[i];if(Boolean(e)!=Boolean(n.__hideTemplateChildren__))if(n.nodeType===Node.TEXT_NODE)e?(n.__polymerTextContent__=n.textContent,n.textContent=""):n.textContent=n.__polymerTextContent__;else if("slot"===n.localName)if(e)n.__polymerReplaced__=document.createComment("hidden-slot"),bn(bn(n).parentNode).replaceChild(n.__polymerReplaced__,n);else{const e=n.__polymerReplaced__;e&&bn(bn(e).parentNode).replaceChild(n,e)}else n.style&&(e?(n.__polymerDisplay__=n.style.display,n.style.display="none"):n.style.display=n.__polymerDisplay__);n.__hideTemplateChildren__=e,n._showHideChildren&&n._showHideChildren(e)}}_setUnmanagedPropertyToNode(e,t,i){e.__hideTemplateChildren__&&e.nodeType==Node.TEXT_NODE&&"textContent"==t?e.__polymerTextContent__=i:super._setUnmanagedPropertyToNode(e,t,i)}get parentModel(){let e=this.__parentModel;if(!e){let t;e=this;do{e=e.__dataHost.__dataHost}while((t=e.__templatizeOptions)&&!t.parentModel);this.__parentModel=e}return e}dispatchEvent(e){return!0}}fs.prototype.__dataHost,fs.prototype.__templatizeOptions,fs.prototype._methodHost,fs.prototype.__templatizeOwner,fs.prototype.__hostProps;const _s=ls(fs);function gs(e,t,i){let n=i.mutableData?_s:fs;xs.mixin&&(n=xs.mixin(n));let r=class extends n{};return r.prototype.__templatizeOptions=i,r.prototype._bindTemplate(e),function(e,t,i,n){let r=i.hostProps||{};for(let t in n.instanceProps){delete r[t];let i=n.notifyInstanceProp;i&&e.prototype._addPropertyEffect(t,e.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:vs(t,i)})}if(n.forwardHostProp&&t.__dataHost)for(let t in r)i.hasHostProps||(i.hasHostProps=!0),e.prototype._addPropertyEffect(t,e.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:function(e,t,i){e.__dataHost._setPendingPropertyOrPath("_host_"+t,i[t],!0,!0)}})}(r,e,t,i),r}function ys(e,t,i){let n=i.forwardHostProp;if(n&&t.hasHostProps){let r=t.templatizeTemplateClass;if(!r){let e=i.mutableData?us:hs;r=t.templatizeTemplateClass=class extends e{};let o=t.hostProps;for(let e in o)r.prototype._addPropertyEffect("_host_"+e,r.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:bs(e,n)}),r.prototype._createNotifyingProperty("_host_"+e)}!function(e,t){cs=e,Object.setPrototypeOf(e,t.prototype),new t,cs=null}(e,r),e.__dataProto&&Object.assign(e.__data,e.__dataProto),e.__dataTemp={},e.__dataPending=null,e.__dataOld=null,e._enableProperties()}}function bs(e,t){return function(e,i,n){t.call(e.__templatizeOwner,i.substring("_host_".length),n[i])}}function vs(e,t){return function(e,i,n){t.call(e.__templatizeOwner,e,i,n[i])}}function xs(e,t,i){if(i=i||{},e.__templatizeOwner)throw new Error("A <template> can only be templatized once");e.__templatizeOwner=t;let n=(t?t.constructor:fs)._parseTemplate(e),r=n.templatizeInstanceClass;r||(r=gs(e,n,i),n.templatizeInstanceClass=r),ys(e,n,i);let o=class extends r{};return o.prototype._methodHost=function(e){let t=e.__dataHost;return t&&t._methodHost||t}(e),o.prototype.__dataHost=e,o.prototype.__templatizeOwner=t,o.prototype.__hostProps=n.hostProps,o=o,o}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const ws=xo(ds(Or(HTMLElement)));customElements.define("dom-bind",class extends ws{static get observedAttributes(){return["mutable-data"]}constructor(){super(),this.root=null,this.$=null,this.__children=null}attributeChangedCallback(e,t,i,n){this.mutableData=!0}connectedCallback(){this.style.display="none",this.render()}disconnectedCallback(){this.__removeChildren()}__insertChildren(){bn(bn(this).parentNode).insertBefore(this.root,this)}__removeChildren(){if(this.__children)for(let e=0;e<this.__children.length;e++)this.root.appendChild(this.__children[e])}render(){let e;if(!this.__children){if(e=e||this.querySelector("template"),!e){let t=new MutationObserver(()=>{if(e=this.querySelector("template"),!e)throw new Error("dom-bind requires a <template> child");t.disconnect(),this.render()});return void t.observe(this,{childList:!0})}this.root=this._stampTemplate(e),this.$=this.root.$,this.__children=[];for(let e=this.root.firstChild;e;e=e.nextSibling)this.__children[this.__children.length]=e;this._enableProperties()}this.__insertChildren(),this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class Ss{constructor(e){this.value=e.toString()}toString(){return this.value}}function Es(e){if(e instanceof HTMLTemplateElement)return e.innerHTML;if(e instanceof Ss)return function(e){if(e instanceof Ss)return e.value;throw new Error(`non-literal value passed to Polymer's htmlLiteral function: ${e}`)}(e);throw new Error(`non-template value passed to Polymer's html function: ${e}`)}const Cs=function(e,...t){const i=document.createElement("template");return i.innerHTML=t.reduce((t,i,n)=>t+Es(i)+e[n+1],e[0]),i},Ts=Fr(HTMLElement),As=ds(Ts);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/class Is extends As{static get is(){return"dom-repeat"}static get template(){return null}static get properties(){return{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},itemsIndexAs:{type:String,value:"itemsIndex"},sort:{type:Function,observer:"__sortChanged"},filter:{type:Function,observer:"__filterChanged"},observe:{type:String,observer:"__observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!0,readOnly:!0},initialCount:{type:Number,observer:"__initializeChunking"},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"__computeFrameTime(targetFramerate)"}}}static get observers(){return["__itemsChanged(items.*)"]}constructor(){super(),this.__instances=[],this.__limit=1/0,this.__pool=[],this.__renderDebouncer=null,this.__itemsIdxToInstIdx={},this.__chunkCount=null,this.__lastChunkTime=null,this.__sortFn=null,this.__filterFn=null,this.__observePaths=null,this.__ctor=null,this.__isDetached=!0,this.template=null}disconnectedCallback(){super.disconnectedCallback(),this.__isDetached=!0;for(let e=0;e<this.__instances.length;e++)this.__detachInstance(e)}connectedCallback(){if(super.connectedCallback(),this.style.display="none",this.__isDetached){this.__isDetached=!1;let e=bn(bn(this).parentNode);for(let t=0;t<this.__instances.length;t++)this.__attachInstance(t,e)}}__ensureTemplatized(){if(!this.__ctor){let e=this.template=this.querySelector("template");if(!e){let e=new MutationObserver(()=>{if(!this.querySelector("template"))throw new Error("dom-repeat requires a <template> child");e.disconnect(),this.__render()});return e.observe(this,{childList:!0}),!1}let t={};t[this.as]=!0,t[this.indexAs]=!0,t[this.itemsIndexAs]=!0,this.__ctor=xs(e,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:t,forwardHostProp:function(e,t){let i=this.__instances;for(let n,r=0;r<i.length&&(n=i[r]);r++)n.forwardHostProp(e,t)},notifyInstanceProp:function(e,t,i){if((n=this.as)===(r=t)||wn(n,r)||Sn(n,r)){let n=e[this.itemsIndexAs];t==this.as&&(this.items[n]=i);let r=En(this.as,`${JSCompiler_renameProperty("items",this)}.${n}`,t);this.notifyPath(r,i)}var n,r}})}return!0}__getMethodHost(){return this.__dataHost._methodHost||this.__dataHost}__functionFromPropertyValue(e){if("string"==typeof e){let t=e,i=this.__getMethodHost();return function(){return i[t].apply(i,arguments)}}return e}__sortChanged(e){this.__sortFn=this.__functionFromPropertyValue(e),this.items&&this.__debounceRender(this.__render)}__filterChanged(e){this.__filterFn=this.__functionFromPropertyValue(e),this.items&&this.__debounceRender(this.__render)}__computeFrameTime(e){return Math.ceil(1e3/e)}__initializeChunking(){this.initialCount&&(this.__limit=this.initialCount,this.__chunkCount=this.initialCount,this.__lastChunkTime=performance.now())}__tryRenderChunk(){this.items&&this.__limit<this.items.length&&this.__debounceRender(this.__requestRenderChunk)}__requestRenderChunk(){requestAnimationFrame(()=>this.__renderChunk())}__renderChunk(){let e=performance.now(),t=this._targetFrameTime/(e-this.__lastChunkTime);this.__chunkCount=Math.round(this.__chunkCount*t)||1,this.__limit+=this.__chunkCount,this.__lastChunkTime=e,this.__debounceRender(this.__render)}__observeChanged(){this.__observePaths=this.observe&&this.observe.replace(".*",".").split(" ")}__itemsChanged(e){this.items&&!Array.isArray(this.items)&&console.warn("dom-repeat expected array for `items`, found",this.items),this.__handleItemPath(e.path,e.value)||(this.__initializeChunking(),this.__debounceRender(this.__render))}__handleObservedPaths(e){if(this.__sortFn||this.__filterFn)if(e){if(this.__observePaths){let t=this.__observePaths;for(let i=0;i<t.length;i++)0===e.indexOf(t[i])&&this.__debounceRender(this.__render,this.delay)}}else this.__debounceRender(this.__render,this.delay)}__debounceRender(e,t=0){this.__renderDebouncer=Mr.debounce(this.__renderDebouncer,t>0?Hn.after(t):Bn,e.bind(this)),Lr(this.__renderDebouncer)}render(){this.__debounceRender(this.__render),Bo()}__render(){this.__ensureTemplatized()&&(this.__applyFullRefresh(),this.__pool.length=0,this._setRenderedItemCount(this.__instances.length),this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0})),this.__tryRenderChunk())}__applyFullRefresh(){let e=this.items||[],t=new Array(e.length);for(let i=0;i<e.length;i++)t[i]=i;this.__filterFn&&(t=t.filter((t,i,n)=>this.__filterFn(e[t],i,n))),this.__sortFn&&t.sort((t,i)=>this.__sortFn(e[t],e[i]));const i=this.__itemsIdxToInstIdx={};let n=0;const r=Math.min(t.length,this.__limit);for(;n<r;n++){let r=this.__instances[n],o=t[n],s=e[o];i[o]=n,r?(r._setPendingProperty(this.as,s),r._setPendingProperty(this.indexAs,n),r._setPendingProperty(this.itemsIndexAs,o),r._flushProperties()):this.__insertInstance(s,n,o)}for(let e=this.__instances.length-1;e>=n;e--)this.__detachAndRemoveInstance(e)}__detachInstance(e){let t=this.__instances[e];const i=bn(t.root);for(let e=0;e<t.children.length;e++){let n=t.children[e];i.appendChild(n)}return t}__attachInstance(e,t){let i=this.__instances[e];t.insertBefore(i.root,this)}__detachAndRemoveInstance(e){let t=this.__detachInstance(e);t&&this.__pool.push(t),this.__instances.splice(e,1)}__stampInstance(e,t,i){let n={};return n[this.as]=e,n[this.indexAs]=t,n[this.itemsIndexAs]=i,new this.__ctor(n)}__insertInstance(e,t,i){let n=this.__pool.pop();n?(n._setPendingProperty(this.as,e),n._setPendingProperty(this.indexAs,t),n._setPendingProperty(this.itemsIndexAs,i),n._flushProperties()):n=this.__stampInstance(e,t,i);let r=this.__instances[t+1],o=r?r.children[0]:this;return bn(bn(this).parentNode).insertBefore(n.root,o),this.__instances[t]=n,n}_showHideChildren(e){for(let t=0;t<this.__instances.length;t++)this.__instances[t]._showHideChildren(e)}__handleItemPath(e,t){let i=e.slice(6),n=i.indexOf("."),r=n<0?i:i.substring(0,n);if(r==parseInt(r,10)){let e=n<0?"":i.substring(n+1);this.__handleObservedPaths(e);let o=this.__itemsIdxToInstIdx[r],s=this.__instances[o];if(s){let i=this.as+(e?"."+e:"");s._setPendingPropertyOrPath(i,t,!1,!0),s._flushProperties()}return!0}}itemForElement(e){let t=this.modelForElement(e);return t&&t[this.as]}indexForElement(e){let t=this.modelForElement(e);return t&&t[this.indexAs]}modelForElement(e){return function(e,t){let i;for(;t;)if(i=t.__templatizeInstance){if(i.__dataHost==e)return i;t=i.__dataHost}else t=bn(t).parentNode;return null}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/(this.template,e)}}customElements.define(Is.is,Is);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class Ps extends Ts{static get is(){return"dom-if"}static get template(){return null}static get properties(){return{if:{type:Boolean,observer:"__debounceRender"},restamp:{type:Boolean,observer:"__debounceRender"}}}constructor(){super(),this.__renderDebouncer=null,this.__invalidProps=null,this.__instance=null,this._lastIf=!1,this.__ctor=null,this.__hideTemplateChildren__=!1}__debounceRender(){this.__renderDebouncer=Mr.debounce(this.__renderDebouncer,Bn,()=>this.__render()),Lr(this.__renderDebouncer)}disconnectedCallback(){super.disconnectedCallback();const e=bn(this).parentNode;e&&(e.nodeType!=Node.DOCUMENT_FRAGMENT_NODE||bn(e).host)||this.__teardownInstance()}connectedCallback(){super.connectedCallback(),this.style.display="none",this.if&&this.__debounceRender()}render(){Bo()}__render(){if(this.if){if(!this.__ensureInstance())return;this._showHideChildren()}else this.restamp&&this.__teardownInstance();!this.restamp&&this.__instance&&this._showHideChildren(),this.if!=this._lastIf&&(this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0})),this._lastIf=this.if)}__ensureInstance(){let e=bn(this).parentNode;if(e){if(!this.__ctor){let e=bn(this).querySelector("template");if(!e){let e=new MutationObserver(()=>{if(!bn(this).querySelector("template"))throw new Error("dom-if requires a <template> child");e.disconnect(),this.__render()});return e.observe(this,{childList:!0}),!1}this.__ctor=xs(e,this,{mutableData:!0,forwardHostProp:function(e,t){this.__instance&&(this.if?this.__instance.forwardHostProp(e,t):(this.__invalidProps=this.__invalidProps||Object.create(null),this.__invalidProps[xn(e)]=!0))}})}if(this.__instance){this.__syncHostProperties();let t=this.__instance.children;if(t&&t.length){if(bn(this).previousSibling!==t[t.length-1])for(let i,n=0;n<t.length&&(i=t[n]);n++)bn(e).insertBefore(i,this)}}else this.__instance=new this.__ctor,bn(e).insertBefore(this.__instance.root,this)}return!0}__syncHostProperties(){let e=this.__invalidProps;if(e){for(let t in e)this.__instance._setPendingProperty(t,this.__dataHost[t]);this.__invalidProps=null,this.__instance._flushProperties()}}__teardownInstance(){if(this.__instance){let e=this.__instance.children;if(e&&e.length){let t=bn(e[0]).parentNode;if(t){t=bn(t);for(let i,n=0;n<e.length&&(i=e[n]);n++)t.removeChild(i)}}this.__instance=null,this.__invalidProps=null}}_showHideChildren(){let e=this.__hideTemplateChildren__||!this.if;this.__instance&&this.__instance._showHideChildren(e)}}customElements.define(Ps.is,Ps);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let Os=ln(e=>{let t=Fr(e);return class extends t{static get properties(){return{items:{type:Array},multi:{type:Boolean,value:!1},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}}}static get observers(){return["__updateSelection(multi, items.*)"]}constructor(){super(),this.__lastItems=null,this.__lastMulti=null,this.__selectedMap=null}__updateSelection(e,t){let i=t.path;if(i==JSCompiler_renameProperty("items",this)){let i=t.base||[],n=this.__lastItems;if(e!==this.__lastMulti&&this.clearSelection(),n){let e=Do(i,n);this.__applySplices(e)}this.__lastItems=i,this.__lastMulti=e}else if(t.path==`${JSCompiler_renameProperty("items",this)}.splices`)this.__applySplices(t.value.indexSplices);else{let e=i.slice(`${JSCompiler_renameProperty("items",this)}.`.length),t=parseInt(e,10);e.indexOf(".")<0&&e==t&&this.__deselectChangedIdx(t)}}__applySplices(e){let t=this.__selectedMap;for(let i=0;i<e.length;i++){let n=e[i];t.forEach((e,i)=>{e<n.index||(e>=n.index+n.removed.length?t.set(i,e+n.addedCount-n.removed.length):t.set(i,-1))});for(let e=0;e<n.addedCount;e++){let i=n.index+e;t.has(this.items[i])&&t.set(this.items[i],i)}}this.__updateLinks();let i=0;t.forEach((e,n)=>{e<0?(this.multi?this.splice(JSCompiler_renameProperty("selected",this),i,1):this.selected=this.selectedItem=null,t.delete(n)):i++})}__updateLinks(){if(this.__dataLinkedPaths={},this.multi){let e=0;this.__selectedMap.forEach(t=>{t>=0&&this.linkPaths(`${JSCompiler_renameProperty("items",this)}.${t}`,`${JSCompiler_renameProperty("selected",this)}.${e++}`)})}else this.__selectedMap.forEach(e=>{this.linkPaths(JSCompiler_renameProperty("selected",this),`${JSCompiler_renameProperty("items",this)}.${e}`),this.linkPaths(JSCompiler_renameProperty("selectedItem",this),`${JSCompiler_renameProperty("items",this)}.${e}`)})}clearSelection(){this.__dataLinkedPaths={},this.__selectedMap=new Map,this.selected=this.multi?[]:null,this.selectedItem=null}isSelected(e){return this.__selectedMap.has(e)}isIndexSelected(e){return this.isSelected(this.items[e])}__deselectChangedIdx(e){let t=this.__selectedIndexForItemIndex(e);if(t>=0){let e=0;this.__selectedMap.forEach((i,n)=>{t==e++&&this.deselect(n)})}}__selectedIndexForItemIndex(e){let t=this.__dataLinkedPaths[`${JSCompiler_renameProperty("items",this)}.${e}`];if(t)return parseInt(t.slice(`${JSCompiler_renameProperty("selected",this)}.`.length),10)}deselect(e){let t=this.__selectedMap.get(e);if(t>=0){let i;this.__selectedMap.delete(e),this.multi&&(i=this.__selectedIndexForItemIndex(t)),this.__updateLinks(),this.multi?this.splice(JSCompiler_renameProperty("selected",this),i,1):this.selected=this.selectedItem=null}}deselectIndex(e){this.deselect(this.items[e])}select(e){this.selectIndex(this.items.indexOf(e))}selectIndex(e){let t=this.items[e];this.isSelected(t)?this.toggle&&this.deselectIndex(e):(this.multi||this.__selectedMap.clear(),this.__selectedMap.set(t,e),this.__updateLinks(),this.multi?this.push(JSCompiler_renameProperty("selected",this),t):this.selected=this.selectedItem=t)}}})(Ts);class Ns extends Os{static get is(){return"array-selector"}static get template(){return null}}customElements.define(Ns.is,Ns);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const ks=new Yi;window.ShadyCSS||(window.ShadyCSS={prepareTemplate(e,t,i){},prepareTemplateDom(e,t){},prepareTemplateStyles(e,t,i){},styleSubtree(e,t){ks.processStyles(),Ai(e,t)},styleElement(e){ks.processStyles()},styleDocument(e){ks.processStyles(),Ai(document.body,e)},getComputedStyleValue:(e,t)=>Ii(e,t),flushCustomStyles(){},nativeCss:oi,nativeShadow:ei,cssBuild:ii,disableRuntime:ri}),window.ShadyCSS.CustomStyleInterface=ks;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const Rs=window.ShadyCSS.CustomStyleInterface;class Fs extends HTMLElement{constructor(){super(),this._style=null,Rs.addCustomStyle(this)}getStyle(){if(this._style)return this._style;const e=this.querySelector("style");if(!e)return null;this._style=e;const t=e.getAttribute("include");return t&&(e.removeAttribute("include"),e.textContent=function(e){let t=e.trim().split(/\s+/),i="";for(let e=0;e<t.length;e++)i+=yn(t[e]);return i}(t)+e.textContent),this.ownerDocument!==window.document&&window.document.head.appendChild(this),this._style}}window.customElements.define("custom-style",Fs);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
Qo(HTMLElement).prototype;
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/const Ms=Cs`
<custom-style>
  <style is="custom-style">
    [hidden] {
      display: none !important;
    }
  </style>
</custom-style>
<custom-style>
  <style is="custom-style">
    html {

      --layout: {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
      };

      --layout-inline: {
        display: -ms-inline-flexbox;
        display: -webkit-inline-flex;
        display: inline-flex;
      };

      --layout-horizontal: {
        @apply --layout;

        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;
      };

      --layout-horizontal-reverse: {
        @apply --layout;

        -ms-flex-direction: row-reverse;
        -webkit-flex-direction: row-reverse;
        flex-direction: row-reverse;
      };

      --layout-vertical: {
        @apply --layout;

        -ms-flex-direction: column;
        -webkit-flex-direction: column;
        flex-direction: column;
      };

      --layout-vertical-reverse: {
        @apply --layout;

        -ms-flex-direction: column-reverse;
        -webkit-flex-direction: column-reverse;
        flex-direction: column-reverse;
      };

      --layout-wrap: {
        -ms-flex-wrap: wrap;
        -webkit-flex-wrap: wrap;
        flex-wrap: wrap;
      };

      --layout-wrap-reverse: {
        -ms-flex-wrap: wrap-reverse;
        -webkit-flex-wrap: wrap-reverse;
        flex-wrap: wrap-reverse;
      };

      --layout-flex-auto: {
        -ms-flex: 1 1 auto;
        -webkit-flex: 1 1 auto;
        flex: 1 1 auto;
      };

      --layout-flex-none: {
        -ms-flex: none;
        -webkit-flex: none;
        flex: none;
      };

      --layout-flex: {
        -ms-flex: 1 1 0.000000001px;
        -webkit-flex: 1;
        flex: 1;
        -webkit-flex-basis: 0.000000001px;
        flex-basis: 0.000000001px;
      };

      --layout-flex-2: {
        -ms-flex: 2;
        -webkit-flex: 2;
        flex: 2;
      };

      --layout-flex-3: {
        -ms-flex: 3;
        -webkit-flex: 3;
        flex: 3;
      };

      --layout-flex-4: {
        -ms-flex: 4;
        -webkit-flex: 4;
        flex: 4;
      };

      --layout-flex-5: {
        -ms-flex: 5;
        -webkit-flex: 5;
        flex: 5;
      };

      --layout-flex-6: {
        -ms-flex: 6;
        -webkit-flex: 6;
        flex: 6;
      };

      --layout-flex-7: {
        -ms-flex: 7;
        -webkit-flex: 7;
        flex: 7;
      };

      --layout-flex-8: {
        -ms-flex: 8;
        -webkit-flex: 8;
        flex: 8;
      };

      --layout-flex-9: {
        -ms-flex: 9;
        -webkit-flex: 9;
        flex: 9;
      };

      --layout-flex-10: {
        -ms-flex: 10;
        -webkit-flex: 10;
        flex: 10;
      };

      --layout-flex-11: {
        -ms-flex: 11;
        -webkit-flex: 11;
        flex: 11;
      };

      --layout-flex-12: {
        -ms-flex: 12;
        -webkit-flex: 12;
        flex: 12;
      };

      /* alignment in cross axis */

      --layout-start: {
        -ms-flex-align: start;
        -webkit-align-items: flex-start;
        align-items: flex-start;
      };

      --layout-center: {
        -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
      };

      --layout-end: {
        -ms-flex-align: end;
        -webkit-align-items: flex-end;
        align-items: flex-end;
      };

      --layout-baseline: {
        -ms-flex-align: baseline;
        -webkit-align-items: baseline;
        align-items: baseline;
      };

      /* alignment in main axis */

      --layout-start-justified: {
        -ms-flex-pack: start;
        -webkit-justify-content: flex-start;
        justify-content: flex-start;
      };

      --layout-center-justified: {
        -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;
      };

      --layout-end-justified: {
        -ms-flex-pack: end;
        -webkit-justify-content: flex-end;
        justify-content: flex-end;
      };

      --layout-around-justified: {
        -ms-flex-pack: distribute;
        -webkit-justify-content: space-around;
        justify-content: space-around;
      };

      --layout-justified: {
        -ms-flex-pack: justify;
        -webkit-justify-content: space-between;
        justify-content: space-between;
      };

      --layout-center-center: {
        @apply --layout-center;
        @apply --layout-center-justified;
      };

      /* self alignment */

      --layout-self-start: {
        -ms-align-self: flex-start;
        -webkit-align-self: flex-start;
        align-self: flex-start;
      };

      --layout-self-center: {
        -ms-align-self: center;
        -webkit-align-self: center;
        align-self: center;
      };

      --layout-self-end: {
        -ms-align-self: flex-end;
        -webkit-align-self: flex-end;
        align-self: flex-end;
      };

      --layout-self-stretch: {
        -ms-align-self: stretch;
        -webkit-align-self: stretch;
        align-self: stretch;
      };

      --layout-self-baseline: {
        -ms-align-self: baseline;
        -webkit-align-self: baseline;
        align-self: baseline;
      };

      /* multi-line alignment in main axis */

      --layout-start-aligned: {
        -ms-flex-line-pack: start;  /* IE10 */
        -ms-align-content: flex-start;
        -webkit-align-content: flex-start;
        align-content: flex-start;
      };

      --layout-end-aligned: {
        -ms-flex-line-pack: end;  /* IE10 */
        -ms-align-content: flex-end;
        -webkit-align-content: flex-end;
        align-content: flex-end;
      };

      --layout-center-aligned: {
        -ms-flex-line-pack: center;  /* IE10 */
        -ms-align-content: center;
        -webkit-align-content: center;
        align-content: center;
      };

      --layout-between-aligned: {
        -ms-flex-line-pack: justify;  /* IE10 */
        -ms-align-content: space-between;
        -webkit-align-content: space-between;
        align-content: space-between;
      };

      --layout-around-aligned: {
        -ms-flex-line-pack: distribute;  /* IE10 */
        -ms-align-content: space-around;
        -webkit-align-content: space-around;
        align-content: space-around;
      };

      /*******************************
                Other Layout
      *******************************/

      --layout-block: {
        display: block;
      };

      --layout-invisible: {
        visibility: hidden !important;
      };

      --layout-relative: {
        position: relative;
      };

      --layout-fit: {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
      };

      --layout-scroll: {
        -webkit-overflow-scrolling: touch;
        overflow: auto;
      };

      --layout-fullbleed: {
        margin: 0;
        height: 100vh;
      };

      /* fixed position */

      --layout-fixed-top: {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
      };

      --layout-fixed-right: {
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
      };

      --layout-fixed-bottom: {
        position: fixed;
        right: 0;
        bottom: 0;
        left: 0;
      };

      --layout-fixed-left: {
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
      };

    }
  </style>
</custom-style>`;Ms.setAttribute("style","display: none;"),document.head.appendChild(Ms.content);var Ds=document.createElement("style");Ds.textContent="[hidden] { display: none !important; }",document.head.appendChild(Ds),
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
ss({_template:Cs`
    <style>
      :host {
        display: inline-block;
        overflow: hidden;
        position: relative;
      }

      #baseURIAnchor {
        display: none;
      }

      #sizedImgDiv {
        position: absolute;
        top: 0px;
        right: 0px;
        bottom: 0px;
        left: 0px;

        display: none;
      }

      #img {
        display: block;
        width: var(--iron-image-width, auto);
        height: var(--iron-image-height, auto);
      }

      :host([sizing]) #sizedImgDiv {
        display: block;
      }

      :host([sizing]) #img {
        display: none;
      }

      #placeholder {
        position: absolute;
        top: 0px;
        right: 0px;
        bottom: 0px;
        left: 0px;

        background-color: inherit;
        opacity: 1;

        @apply --iron-image-placeholder;
      }

      #placeholder.faded-out {
        transition: opacity 0.5s linear;
        opacity: 0;
      }
    </style>

    <a id="baseURIAnchor" href="#"></a>
    <div id="sizedImgDiv" role="img" hidden$="[[_computeImgDivHidden(sizing)]]" aria-hidden$="[[_computeImgDivARIAHidden(alt)]]" aria-label$="[[_computeImgDivARIALabel(alt, src)]]"></div>
    <img id="img" alt$="[[alt]]" hidden$="[[_computeImgHidden(sizing)]]" crossorigin$="[[crossorigin]]" on-load="_imgOnLoad" on-error="_imgOnError">
    <div id="placeholder" hidden$="[[_computePlaceholderHidden(preload, fade, loading, loaded)]]" class$="[[_computePlaceholderClassName(preload, fade, loading, loaded)]]"></div>
`,is:"iron-image",properties:{src:{type:String,value:""},alt:{type:String,value:null},crossorigin:{type:String,value:null},preventLoad:{type:Boolean,value:!1},sizing:{type:String,value:null,reflectToAttribute:!0},position:{type:String,value:"center"},preload:{type:Boolean,value:!1},placeholder:{type:String,value:null,observer:"_placeholderChanged"},fade:{type:Boolean,value:!1},loaded:{notify:!0,readOnly:!0,type:Boolean,value:!1},loading:{notify:!0,readOnly:!0,type:Boolean,value:!1},error:{notify:!0,readOnly:!0,type:Boolean,value:!1},width:{observer:"_widthChanged",type:Number,value:null},height:{observer:"_heightChanged",type:Number,value:null}},observers:["_transformChanged(sizing, position)","_loadStateObserver(src, preventLoad)"],created:function(){this._resolvedSrc=""},_imgOnLoad:function(){this.$.img.src===this._resolveSrc(this.src)&&(this._setLoading(!1),this._setLoaded(!0),this._setError(!1))},_imgOnError:function(){this.$.img.src===this._resolveSrc(this.src)&&(this.$.img.removeAttribute("src"),this.$.sizedImgDiv.style.backgroundImage="",this._setLoading(!1),this._setLoaded(!1),this._setError(!0))},_computePlaceholderHidden:function(){return!this.preload||!this.fade&&!this.loading&&this.loaded},_computePlaceholderClassName:function(){return this.preload&&this.fade&&!this.loading&&this.loaded?"faded-out":""},_computeImgDivHidden:function(){return!this.sizing},_computeImgDivARIAHidden:function(){return""===this.alt?"true":void 0},_computeImgDivARIALabel:function(){return null!==this.alt?this.alt:""===this.src?"":this._resolveSrc(this.src).replace(/[?|#].*/g,"").split("/").pop()},_computeImgHidden:function(){return!!this.sizing},_widthChanged:function(){this.style.width=isNaN(this.width)?this.width:this.width+"px"},_heightChanged:function(){this.style.height=isNaN(this.height)?this.height:this.height+"px"},_loadStateObserver:function(e,t){var i=this._resolveSrc(e);i!==this._resolvedSrc&&(this._resolvedSrc="",this.$.img.removeAttribute("src"),this.$.sizedImgDiv.style.backgroundImage="",""===e||t?(this._setLoading(!1),this._setLoaded(!1),this._setError(!1)):(this._resolvedSrc=i,this.$.img.src=this._resolvedSrc,this.$.sizedImgDiv.style.backgroundImage='url("'+this._resolvedSrc+'")',this._setLoading(!0),this._setLoaded(!1),this._setError(!1)))},_placeholderChanged:function(){this.$.placeholder.style.backgroundImage=this.placeholder?'url("'+this.placeholder+'")':""},_transformChanged:function(){var e=this.$.sizedImgDiv.style,t=this.$.placeholder.style;e.backgroundSize=t.backgroundSize=this.sizing,e.backgroundPosition=t.backgroundPosition=this.sizing?this.position:"",e.backgroundRepeat=t.backgroundRepeat=this.sizing?"no-repeat":""},_resolveSrc:function(e){var t=tn(e,this.$.baseURIAnchor.href);return t.length>=2&&"/"===t[0]&&"/"!==t[1]&&(t=(location.origin||location.protocol+"//"+location.host)+t),t}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const Ls=Cs`
<custom-style>
  <style is="custom-style">
    html {

      --shadow-transition: {
        transition: box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1);
      };

      --shadow-none: {
        box-shadow: none;
      };

      /* from http://codepen.io/shyndman/pen/c5394ddf2e8b2a5c9185904b57421cdb */

      --shadow-elevation-2dp: {
        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),
                    0 1px 5px 0 rgba(0, 0, 0, 0.12),
                    0 3px 1px -2px rgba(0, 0, 0, 0.2);
      };

      --shadow-elevation-3dp: {
        box-shadow: 0 3px 4px 0 rgba(0, 0, 0, 0.14),
                    0 1px 8px 0 rgba(0, 0, 0, 0.12),
                    0 3px 3px -2px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-4dp: {
        box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14),
                    0 1px 10px 0 rgba(0, 0, 0, 0.12),
                    0 2px 4px -1px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-6dp: {
        box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14),
                    0 1px 18px 0 rgba(0, 0, 0, 0.12),
                    0 3px 5px -1px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-8dp: {
        box-shadow: 0 8px 10px 1px rgba(0, 0, 0, 0.14),
                    0 3px 14px 2px rgba(0, 0, 0, 0.12),
                    0 5px 5px -3px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-12dp: {
        box-shadow: 0 12px 16px 1px rgba(0, 0, 0, 0.14),
                    0 4px 22px 3px rgba(0, 0, 0, 0.12),
                    0 6px 7px -4px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-16dp: {
        box-shadow: 0 16px 24px 2px rgba(0, 0, 0, 0.14),
                    0  6px 30px 5px rgba(0, 0, 0, 0.12),
                    0  8px 10px -5px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-24dp: {
        box-shadow: 0 24px 38px 3px rgba(0, 0, 0, 0.14),
                    0 9px 46px 8px rgba(0, 0, 0, 0.12),
                    0 11px 15px -7px rgba(0, 0, 0, 0.4);
      };
    }
  </style>
</custom-style>`;Ls.setAttribute("style","display: none;"),document.head.appendChild(Ls.content);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const zs=Cs`
<dom-module id="paper-material-styles">
  <template>
    <style>
      html {
        --paper-material: {
          display: block;
          position: relative;
        };
        --paper-material-elevation-1: {
          @apply --shadow-elevation-2dp;
        };
        --paper-material-elevation-2: {
          @apply --shadow-elevation-4dp;
        };
        --paper-material-elevation-3: {
          @apply --shadow-elevation-6dp;
        };
        --paper-material-elevation-4: {
          @apply --shadow-elevation-8dp;
        };
        --paper-material-elevation-5: {
          @apply --shadow-elevation-16dp;
        };
      }
      .paper-material {
        @apply --paper-material;
      }
      .paper-material[elevation="1"] {
        @apply --paper-material-elevation-1;
      }
      .paper-material[elevation="2"] {
        @apply --paper-material-elevation-2;
      }
      .paper-material[elevation="3"] {
        @apply --paper-material-elevation-3;
      }
      .paper-material[elevation="4"] {
        @apply --paper-material-elevation-4;
      }
      .paper-material[elevation="5"] {
        @apply --paper-material-elevation-5;
      }

      /* Duplicate the styles because of https://github.com/webcomponents/shadycss/issues/193 */
      :host {
        --paper-material: {
          display: block;
          position: relative;
        };
        --paper-material-elevation-1: {
          @apply --shadow-elevation-2dp;
        };
        --paper-material-elevation-2: {
          @apply --shadow-elevation-4dp;
        };
        --paper-material-elevation-3: {
          @apply --shadow-elevation-6dp;
        };
        --paper-material-elevation-4: {
          @apply --shadow-elevation-8dp;
        };
        --paper-material-elevation-5: {
          @apply --shadow-elevation-16dp;
        };
      }
      :host(.paper-material) {
        @apply --paper-material;
      }
      :host(.paper-material[elevation="1"]) {
        @apply --paper-material-elevation-1;
      }
      :host(.paper-material[elevation="2"]) {
        @apply --paper-material-elevation-2;
      }
      :host(.paper-material[elevation="3"]) {
        @apply --paper-material-elevation-3;
      }
      :host(.paper-material[elevation="4"]) {
        @apply --paper-material-elevation-4;
      }
      :host(.paper-material[elevation="5"]) {
        @apply --paper-material-elevation-5;
      }
    </style>
  </template>
</dom-module>`;zs.setAttribute("style","display: none;"),document.head.appendChild(zs.content);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const Hs=Cs`
<custom-style>
  <style is="custom-style">
    html {

      /* Material Design color palette for Google products */

      --google-red-100: #f4c7c3;
      --google-red-300: #e67c73;
      --google-red-500: #db4437;
      --google-red-700: #c53929;

      --google-blue-100: #c6dafc;
      --google-blue-300: #7baaf7;
      --google-blue-500: #4285f4;
      --google-blue-700: #3367d6;

      --google-green-100: #b7e1cd;
      --google-green-300: #57bb8a;
      --google-green-500: #0f9d58;
      --google-green-700: #0b8043;

      --google-yellow-100: #fce8b2;
      --google-yellow-300: #f7cb4d;
      --google-yellow-500: #f4b400;
      --google-yellow-700: #f09300;

      --google-grey-100: #f5f5f5;
      --google-grey-300: #e0e0e0;
      --google-grey-500: #9e9e9e;
      --google-grey-700: #616161;

      /* Material Design color palette from online spec document */

      --paper-red-50: #ffebee;
      --paper-red-100: #ffcdd2;
      --paper-red-200: #ef9a9a;
      --paper-red-300: #e57373;
      --paper-red-400: #ef5350;
      --paper-red-500: #f44336;
      --paper-red-600: #e53935;
      --paper-red-700: #d32f2f;
      --paper-red-800: #c62828;
      --paper-red-900: #b71c1c;
      --paper-red-a100: #ff8a80;
      --paper-red-a200: #ff5252;
      --paper-red-a400: #ff1744;
      --paper-red-a700: #d50000;

      --paper-pink-50: #fce4ec;
      --paper-pink-100: #f8bbd0;
      --paper-pink-200: #f48fb1;
      --paper-pink-300: #f06292;
      --paper-pink-400: #ec407a;
      --paper-pink-500: #e91e63;
      --paper-pink-600: #d81b60;
      --paper-pink-700: #c2185b;
      --paper-pink-800: #ad1457;
      --paper-pink-900: #880e4f;
      --paper-pink-a100: #ff80ab;
      --paper-pink-a200: #ff4081;
      --paper-pink-a400: #f50057;
      --paper-pink-a700: #c51162;

      --paper-purple-50: #f3e5f5;
      --paper-purple-100: #e1bee7;
      --paper-purple-200: #ce93d8;
      --paper-purple-300: #ba68c8;
      --paper-purple-400: #ab47bc;
      --paper-purple-500: #9c27b0;
      --paper-purple-600: #8e24aa;
      --paper-purple-700: #7b1fa2;
      --paper-purple-800: #6a1b9a;
      --paper-purple-900: #4a148c;
      --paper-purple-a100: #ea80fc;
      --paper-purple-a200: #e040fb;
      --paper-purple-a400: #d500f9;
      --paper-purple-a700: #aa00ff;

      --paper-deep-purple-50: #ede7f6;
      --paper-deep-purple-100: #d1c4e9;
      --paper-deep-purple-200: #b39ddb;
      --paper-deep-purple-300: #9575cd;
      --paper-deep-purple-400: #7e57c2;
      --paper-deep-purple-500: #673ab7;
      --paper-deep-purple-600: #5e35b1;
      --paper-deep-purple-700: #512da8;
      --paper-deep-purple-800: #4527a0;
      --paper-deep-purple-900: #311b92;
      --paper-deep-purple-a100: #b388ff;
      --paper-deep-purple-a200: #7c4dff;
      --paper-deep-purple-a400: #651fff;
      --paper-deep-purple-a700: #6200ea;

      --paper-indigo-50: #e8eaf6;
      --paper-indigo-100: #c5cae9;
      --paper-indigo-200: #9fa8da;
      --paper-indigo-300: #7986cb;
      --paper-indigo-400: #5c6bc0;
      --paper-indigo-500: #3f51b5;
      --paper-indigo-600: #3949ab;
      --paper-indigo-700: #303f9f;
      --paper-indigo-800: #283593;
      --paper-indigo-900: #1a237e;
      --paper-indigo-a100: #8c9eff;
      --paper-indigo-a200: #536dfe;
      --paper-indigo-a400: #3d5afe;
      --paper-indigo-a700: #304ffe;

      --paper-blue-50: #e3f2fd;
      --paper-blue-100: #bbdefb;
      --paper-blue-200: #90caf9;
      --paper-blue-300: #64b5f6;
      --paper-blue-400: #42a5f5;
      --paper-blue-500: #2196f3;
      --paper-blue-600: #1e88e5;
      --paper-blue-700: #1976d2;
      --paper-blue-800: #1565c0;
      --paper-blue-900: #0d47a1;
      --paper-blue-a100: #82b1ff;
      --paper-blue-a200: #448aff;
      --paper-blue-a400: #2979ff;
      --paper-blue-a700: #2962ff;

      --paper-light-blue-50: #e1f5fe;
      --paper-light-blue-100: #b3e5fc;
      --paper-light-blue-200: #81d4fa;
      --paper-light-blue-300: #4fc3f7;
      --paper-light-blue-400: #29b6f6;
      --paper-light-blue-500: #03a9f4;
      --paper-light-blue-600: #039be5;
      --paper-light-blue-700: #0288d1;
      --paper-light-blue-800: #0277bd;
      --paper-light-blue-900: #01579b;
      --paper-light-blue-a100: #80d8ff;
      --paper-light-blue-a200: #40c4ff;
      --paper-light-blue-a400: #00b0ff;
      --paper-light-blue-a700: #0091ea;

      --paper-cyan-50: #e0f7fa;
      --paper-cyan-100: #b2ebf2;
      --paper-cyan-200: #80deea;
      --paper-cyan-300: #4dd0e1;
      --paper-cyan-400: #26c6da;
      --paper-cyan-500: #00bcd4;
      --paper-cyan-600: #00acc1;
      --paper-cyan-700: #0097a7;
      --paper-cyan-800: #00838f;
      --paper-cyan-900: #006064;
      --paper-cyan-a100: #84ffff;
      --paper-cyan-a200: #18ffff;
      --paper-cyan-a400: #00e5ff;
      --paper-cyan-a700: #00b8d4;

      --paper-teal-50: #e0f2f1;
      --paper-teal-100: #b2dfdb;
      --paper-teal-200: #80cbc4;
      --paper-teal-300: #4db6ac;
      --paper-teal-400: #26a69a;
      --paper-teal-500: #009688;
      --paper-teal-600: #00897b;
      --paper-teal-700: #00796b;
      --paper-teal-800: #00695c;
      --paper-teal-900: #004d40;
      --paper-teal-a100: #a7ffeb;
      --paper-teal-a200: #64ffda;
      --paper-teal-a400: #1de9b6;
      --paper-teal-a700: #00bfa5;

      --paper-green-50: #e8f5e9;
      --paper-green-100: #c8e6c9;
      --paper-green-200: #a5d6a7;
      --paper-green-300: #81c784;
      --paper-green-400: #66bb6a;
      --paper-green-500: #4caf50;
      --paper-green-600: #43a047;
      --paper-green-700: #388e3c;
      --paper-green-800: #2e7d32;
      --paper-green-900: #1b5e20;
      --paper-green-a100: #b9f6ca;
      --paper-green-a200: #69f0ae;
      --paper-green-a400: #00e676;
      --paper-green-a700: #00c853;

      --paper-light-green-50: #f1f8e9;
      --paper-light-green-100: #dcedc8;
      --paper-light-green-200: #c5e1a5;
      --paper-light-green-300: #aed581;
      --paper-light-green-400: #9ccc65;
      --paper-light-green-500: #8bc34a;
      --paper-light-green-600: #7cb342;
      --paper-light-green-700: #689f38;
      --paper-light-green-800: #558b2f;
      --paper-light-green-900: #33691e;
      --paper-light-green-a100: #ccff90;
      --paper-light-green-a200: #b2ff59;
      --paper-light-green-a400: #76ff03;
      --paper-light-green-a700: #64dd17;

      --paper-lime-50: #f9fbe7;
      --paper-lime-100: #f0f4c3;
      --paper-lime-200: #e6ee9c;
      --paper-lime-300: #dce775;
      --paper-lime-400: #d4e157;
      --paper-lime-500: #cddc39;
      --paper-lime-600: #c0ca33;
      --paper-lime-700: #afb42b;
      --paper-lime-800: #9e9d24;
      --paper-lime-900: #827717;
      --paper-lime-a100: #f4ff81;
      --paper-lime-a200: #eeff41;
      --paper-lime-a400: #c6ff00;
      --paper-lime-a700: #aeea00;

      --paper-yellow-50: #fffde7;
      --paper-yellow-100: #fff9c4;
      --paper-yellow-200: #fff59d;
      --paper-yellow-300: #fff176;
      --paper-yellow-400: #ffee58;
      --paper-yellow-500: #ffeb3b;
      --paper-yellow-600: #fdd835;
      --paper-yellow-700: #fbc02d;
      --paper-yellow-800: #f9a825;
      --paper-yellow-900: #f57f17;
      --paper-yellow-a100: #ffff8d;
      --paper-yellow-a200: #ffff00;
      --paper-yellow-a400: #ffea00;
      --paper-yellow-a700: #ffd600;

      --paper-amber-50: #fff8e1;
      --paper-amber-100: #ffecb3;
      --paper-amber-200: #ffe082;
      --paper-amber-300: #ffd54f;
      --paper-amber-400: #ffca28;
      --paper-amber-500: #ffc107;
      --paper-amber-600: #ffb300;
      --paper-amber-700: #ffa000;
      --paper-amber-800: #ff8f00;
      --paper-amber-900: #ff6f00;
      --paper-amber-a100: #ffe57f;
      --paper-amber-a200: #ffd740;
      --paper-amber-a400: #ffc400;
      --paper-amber-a700: #ffab00;

      --paper-orange-50: #fff3e0;
      --paper-orange-100: #ffe0b2;
      --paper-orange-200: #ffcc80;
      --paper-orange-300: #ffb74d;
      --paper-orange-400: #ffa726;
      --paper-orange-500: #ff9800;
      --paper-orange-600: #fb8c00;
      --paper-orange-700: #f57c00;
      --paper-orange-800: #ef6c00;
      --paper-orange-900: #e65100;
      --paper-orange-a100: #ffd180;
      --paper-orange-a200: #ffab40;
      --paper-orange-a400: #ff9100;
      --paper-orange-a700: #ff6500;

      --paper-deep-orange-50: #fbe9e7;
      --paper-deep-orange-100: #ffccbc;
      --paper-deep-orange-200: #ffab91;
      --paper-deep-orange-300: #ff8a65;
      --paper-deep-orange-400: #ff7043;
      --paper-deep-orange-500: #ff5722;
      --paper-deep-orange-600: #f4511e;
      --paper-deep-orange-700: #e64a19;
      --paper-deep-orange-800: #d84315;
      --paper-deep-orange-900: #bf360c;
      --paper-deep-orange-a100: #ff9e80;
      --paper-deep-orange-a200: #ff6e40;
      --paper-deep-orange-a400: #ff3d00;
      --paper-deep-orange-a700: #dd2c00;

      --paper-brown-50: #efebe9;
      --paper-brown-100: #d7ccc8;
      --paper-brown-200: #bcaaa4;
      --paper-brown-300: #a1887f;
      --paper-brown-400: #8d6e63;
      --paper-brown-500: #795548;
      --paper-brown-600: #6d4c41;
      --paper-brown-700: #5d4037;
      --paper-brown-800: #4e342e;
      --paper-brown-900: #3e2723;

      --paper-grey-50: #fafafa;
      --paper-grey-100: #f5f5f5;
      --paper-grey-200: #eeeeee;
      --paper-grey-300: #e0e0e0;
      --paper-grey-400: #bdbdbd;
      --paper-grey-500: #9e9e9e;
      --paper-grey-600: #757575;
      --paper-grey-700: #616161;
      --paper-grey-800: #424242;
      --paper-grey-900: #212121;

      --paper-blue-grey-50: #eceff1;
      --paper-blue-grey-100: #cfd8dc;
      --paper-blue-grey-200: #b0bec5;
      --paper-blue-grey-300: #90a4ae;
      --paper-blue-grey-400: #78909c;
      --paper-blue-grey-500: #607d8b;
      --paper-blue-grey-600: #546e7a;
      --paper-blue-grey-700: #455a64;
      --paper-blue-grey-800: #37474f;
      --paper-blue-grey-900: #263238;

      /* opacity for dark text on a light background */
      --dark-divider-opacity: 0.12;
      --dark-disabled-opacity: 0.38; /* or hint text or icon */
      --dark-secondary-opacity: 0.54;
      --dark-primary-opacity: 0.87;

      /* opacity for light text on a dark background */
      --light-divider-opacity: 0.12;
      --light-disabled-opacity: 0.3; /* or hint text or icon */
      --light-secondary-opacity: 0.7;
      --light-primary-opacity: 1.0;

    }

  </style>
</custom-style>
`;Hs.setAttribute("style","display: none;"),document.head.appendChild(Hs.content);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const Bs=Cs`
<custom-style>
  <style is="custom-style">
    html {
      /*
       * You can use these generic variables in your elements for easy theming.
       * For example, if all your elements use \`--primary-text-color\` as its main
       * color, then switching from a light to a dark theme is just a matter of
       * changing the value of \`--primary-text-color\` in your application.
       */
      --primary-text-color: var(--light-theme-text-color);
      --primary-background-color: var(--light-theme-background-color);
      --secondary-text-color: var(--light-theme-secondary-color);
      --disabled-text-color: var(--light-theme-disabled-color);
      --divider-color: var(--light-theme-divider-color);
      --error-color: var(--paper-deep-orange-a700);

      /*
       * Primary and accent colors. Also see color.js for more colors.
       */
      --primary-color: var(--paper-indigo-500);
      --light-primary-color: var(--paper-indigo-100);
      --dark-primary-color: var(--paper-indigo-700);

      --accent-color: var(--paper-pink-a200);
      --light-accent-color: var(--paper-pink-a100);
      --dark-accent-color: var(--paper-pink-a400);


      /*
       * Material Design Light background theme
       */
      --light-theme-background-color: #ffffff;
      --light-theme-base-color: #000000;
      --light-theme-text-color: var(--paper-grey-900);
      --light-theme-secondary-color: #737373;  /* for secondary text and icons */
      --light-theme-disabled-color: #9b9b9b;  /* disabled/hint text */
      --light-theme-divider-color: #dbdbdb;

      /*
       * Material Design Dark background theme
       */
      --dark-theme-background-color: var(--paper-grey-900);
      --dark-theme-base-color: #ffffff;
      --dark-theme-text-color: #ffffff;
      --dark-theme-secondary-color: #bcbcbc;  /* for secondary text and icons */
      --dark-theme-disabled-color: #646464;  /* disabled/hint text */
      --dark-theme-divider-color: #3c3c3c;

      /*
       * Deprecated values because of their confusing names.
       */
      --text-primary-color: var(--dark-theme-text-color);
      --default-primary-color: var(--primary-color);
    }
  </style>
</custom-style>`;Bs.setAttribute("style","display: none;"),document.head.appendChild(Bs.content),
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
ss({_template:Cs`
    <style include="paper-material-styles">
      :host {
        display: inline-block;
        position: relative;
        box-sizing: border-box;
        background-color: var(--paper-card-background-color, var(--primary-background-color));
        border-radius: 2px;

        @apply --paper-font-common-base;
        @apply --paper-card;
      }

      /* IE 10 support for HTML5 hidden attr */
      :host([hidden]), [hidden] {
        display: none !important;
      }

      .header {
        position: relative;
        border-top-left-radius: inherit;
        border-top-right-radius: inherit;
        overflow: hidden;

        @apply --paper-card-header;
      }

      .header iron-image {
        display: block;
        width: 100%;
        --iron-image-width: 100%;
        pointer-events: none;

        @apply --paper-card-header-image;
      }

      .header .title-text {
        padding: 16px;
        font-size: 24px;
        font-weight: 400;
        color: var(--paper-card-header-color, #000);

        @apply --paper-card-header-text;
      }

      .header .title-text.over-image {
        position: absolute;
        bottom: 0px;

        @apply --paper-card-header-image-text;
      }

      :host ::slotted(.card-content) {
        padding: 16px;
        position:relative;

        @apply --paper-card-content;
      }

      :host ::slotted(.card-actions) {
        border-top: 1px solid #e8e8e8;
        padding: 5px 16px;
        position:relative;

        @apply --paper-card-actions;
      }

      :host([elevation="1"]) {
        @apply --paper-material-elevation-1;
      }

      :host([elevation="2"]) {
        @apply --paper-material-elevation-2;
      }

      :host([elevation="3"]) {
        @apply --paper-material-elevation-3;
      }

      :host([elevation="4"]) {
        @apply --paper-material-elevation-4;
      }

      :host([elevation="5"]) {
        @apply --paper-material-elevation-5;
      }
    </style>

    <div class="header">
      <iron-image hidden\$="[[!image]]" aria-hidden\$="[[_isHidden(image)]]" src="[[image]]" alt="[[alt]]" placeholder="[[placeholderImage]]" preload="[[preloadImage]]" fade="[[fadeImage]]"></iron-image>
      <div hidden\$="[[!heading]]" class\$="title-text [[_computeHeadingClass(image)]]">[[heading]]</div>
    </div>

    <slot></slot>
`,is:"paper-card",properties:{heading:{type:String,value:"",observer:"_headingChanged"},image:{type:String,value:""},alt:{type:String},preloadImage:{type:Boolean,value:!1},fadeImage:{type:Boolean,value:!1},placeholderImage:{type:String,value:null},elevation:{type:Number,value:1,reflectToAttribute:!0},animatedShadow:{type:Boolean,value:!1},animated:{type:Boolean,reflectToAttribute:!0,readOnly:!0,computed:"_computeAnimated(animatedShadow)"}},_isHidden:function(e){return e?"false":"true"},_headingChanged:function(e){var t=this.getAttribute("heading"),i=this.getAttribute("aria-label");"string"==typeof i&&i!==t||this.setAttribute("aria-label",e)},_computeHeadingClass:function(e){return e?" over-image":""},_computeAnimated:function(e){return e}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic291cmNlc19td2MuanMiLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL2RpcmVjdGl2ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvZG9tLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi9wYXJ0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi90ZW1wbGF0ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvdGVtcGxhdGUtaW5zdGFuY2UuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL3RlbXBsYXRlLXJlc3VsdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvcGFydHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL2RlZmF1bHQtdGVtcGxhdGUtcHJvY2Vzc29yLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi90ZW1wbGF0ZS1mYWN0b3J5LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi9yZW5kZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGl0LWh0bWwuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL21vZGlmeS10ZW1wbGF0ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvc2hhZHktcmVuZGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2xpdC1lbGVtZW50L2xpYi91cGRhdGluZy1lbGVtZW50LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2xpdC1lbGVtZW50L2xpYi9kZWNvcmF0b3JzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2xpdC1lbGVtZW50L2xpYi9jc3MtdGFnLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2xpdC1lbGVtZW50L2xpdC1lbGVtZW50LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC90b3AtYXBwLWJhci9jb25zdGFudHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL2Jhc2UvZm91bmRhdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvdG9wLWFwcC1iYXIvZm91bmRhdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvdG9wLWFwcC1iYXIvc3RhbmRhcmQvZm91bmRhdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvbXdjLWJhc2Uvb2JzZXJ2ZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL2RvbS9wb255ZmlsbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvbXdjLWJhc2UvdXRpbHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL213Yy1iYXNlL2Jhc2UtZWxlbWVudC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9kaXJlY3RpdmVzL2NsYXNzLW1hcC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvbXdjLXRvcC1hcHAtYmFyL213Yy10b3AtYXBwLWJhci1iYXNlLWJhc2UuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL213Yy10b3AtYXBwLWJhci9td2MtdG9wLWFwcC1iYXItYmFzZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvbXdjLXRvcC1hcHAtYmFyL213Yy10b3AtYXBwLWJhci1jc3MuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL213Yy10b3AtYXBwLWJhci9td2MtdG9wLWFwcC1iYXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3RvcC1hcHAtYmFyL2ZpeGVkL2ZvdW5kYXRpb24uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL213Yy10b3AtYXBwLWJhci1maXhlZC9td2MtdG9wLWFwcC1iYXItZml4ZWQtYmFzZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvbXdjLXRvcC1hcHAtYmFyLWZpeGVkL213Yy10b3AtYXBwLWJhci1maXhlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvZG9tL2V2ZW50cy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvcmlwcGxlL2NvbnN0YW50cy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvcmlwcGxlL3V0aWwuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3JpcHBsZS9mb3VuZGF0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9td2MtcmlwcGxlL213Yy1yaXBwbGUtZ2xvYmFsLWNzcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvbXdjLXJpcHBsZS9yaXBwbGUtZGlyZWN0aXZlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9td2MtaWNvbi1idXR0b24vbXdjLWljb24tYnV0dG9uLWJhc2UuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL213Yy1pY29uLWJ1dHRvbi9td2MtaWNvbi1idXR0b24tY3NzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9td2MtaWNvbi1idXR0b24vbXdjLWljb24tYnV0dG9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2Jsb2NraW5nLWVsZW1lbnRzL2Rpc3QvYmxvY2tpbmctZWxlbWVudHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvd2ljZy1pbmVydC9zcmMvaW5lcnQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL2RyYXdlci9jb25zdGFudHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL2RyYXdlci9kaXNtaXNzaWJsZS9mb3VuZGF0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9kcmF3ZXIvbW9kYWwvZm91bmRhdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvbXdjLWRyYXdlci9td2MtZHJhd2VyLWJhc2UuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL213Yy1kcmF3ZXIvbXdjLWRyYXdlci1jc3MuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL213Yy1kcmF3ZXIvbXdjLWRyYXdlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9kaXJlY3RpdmVzL2lmLWRlZmluZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL2xpc3QvY29uc3RhbnRzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9td2MtbGlzdC9td2MtbGlzdC1mb3VuZGF0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9td2MtbGlzdC9td2MtbGlzdC1iYXNlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9td2MtbGlzdC9td2MtbGlzdC1jc3MuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL213Yy1saXN0L213Yy1saXN0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9tZW51LXN1cmZhY2UvY29uc3RhbnRzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9tZW51LXN1cmZhY2UvZm91bmRhdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvbWVudS1zdXJmYWNlL3V0aWwuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL213Yy1tZW51L213Yy1tZW51LXN1cmZhY2UtYmFzZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvbXdjLW1lbnUvbXdjLW1lbnUtc3VyZmFjZS1jc3MuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL213Yy1tZW51L213Yy1tZW51LXN1cmZhY2UuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL21lbnUvY29uc3RhbnRzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9tZW51L2ZvdW5kYXRpb24uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL213Yy1tZW51L213Yy1tZW51LWJhc2UuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL213Yy1tZW51L213Yy1tZW51LWNzcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvbXdjLW1lbnUvbXdjLW1lbnUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL213Yy1saXN0L213Yy1saXN0LWl0ZW0tYmFzZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvbXdjLWxpc3QvbXdjLWxpc3QtaXRlbS1jc3MuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL213Yy1saXN0L213Yy1saXN0LWl0ZW0uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL213Yy1pY29uL213Yy1pY29uLWhvc3QtY3NzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9td2MtaWNvbi9td2MtaWNvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9Ad2ViY29tcG9uZW50cy9zaGFkeWNzcy9zcmMvc3R5bGUtc2V0dGluZ3MuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHdlYmNvbXBvbmVudHMvc2hhZHljc3Mvc3JjL2Nzcy1wYXJzZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9Ad2ViY29tcG9uZW50cy9zaGFkeWNzcy9zcmMvY29tbW9uLXJlZ2V4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B3ZWJjb21wb25lbnRzL3NoYWR5Y3NzL3NyYy91bnNjb3BlZC1zdHlsZS1oYW5kbGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B3ZWJjb21wb25lbnRzL3NoYWR5Y3NzL3NyYy9zdHlsZS11dGlsLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B3ZWJjb21wb25lbnRzL3NoYWR5Y3NzL3NyYy9jb21tb24tdXRpbHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHdlYmNvbXBvbmVudHMvc2hhZHljc3Mvc3JjL2FwcGx5LXNoaW0uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHdlYmNvbXBvbmVudHMvc2hhZHljc3Mvc3JjL3RlbXBsYXRlLW1hcC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9Ad2ViY29tcG9uZW50cy9zaGFkeWNzcy9zcmMvYXBwbHktc2hpbS11dGlscy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9Ad2ViY29tcG9uZW50cy9zaGFkeWNzcy9zcmMvZG9jdW1lbnQtd2FpdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9Ad2ViY29tcG9uZW50cy9zaGFkeWNzcy9zcmMvY3VzdG9tLXN0eWxlLWludGVyZmFjZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9Ad2ViY29tcG9uZW50cy9zaGFkeWNzcy9lbnRyeXBvaW50cy9hcHBseS1zaGltLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2Jvb3QuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvcmVzb2x2ZS11cmwuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvc2V0dGluZ3MuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvbWl4aW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvZWxlbWVudHMvZG9tLW1vZHVsZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9zdHlsZS1nYXRoZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvd3JhcC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9wYXRoLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2Nhc2UtbWFwLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2FzeW5jLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL21peGlucy9wcm9wZXJ0aWVzLWNoYW5nZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvbWl4aW5zL3Byb3BlcnR5LWFjY2Vzc29ycy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9taXhpbnMvdGVtcGxhdGUtc3RhbXAuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvbWl4aW5zL3Byb3BlcnR5LWVmZmVjdHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvbWl4aW5zL3Byb3BlcnRpZXMtbWl4aW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvbWl4aW5zL2VsZW1lbnQtbWl4aW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvZGVib3VuY2UuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvZ2VzdHVyZXMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvbWl4aW5zL2dlc3R1cmUtZXZlbnQtbGlzdGVuZXJzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL21peGlucy9kaXItbWl4aW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvdW5yZXNvbHZlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9hcnJheS1zcGxpY2UuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvZmxhdHRlbmVkLW5vZGVzLW9ic2VydmVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2ZsdXNoLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL2xlZ2FjeS9wb2x5bWVyLmRvbS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9zY29wZS1zdWJ0cmVlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL2xlZ2FjeS9sZWdhY3ktZWxlbWVudC1taXhpbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9sZWdhY3kvY2xhc3MuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvbGVnYWN5L3BvbHltZXItZm4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvbWl4aW5zL211dGFibGUtZGF0YS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy90ZW1wbGF0aXplLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL2VsZW1lbnRzL2RvbS1iaW5kLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2h0bWwtdGFnLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvcG9seW1lci1lbGVtZW50LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL2VsZW1lbnRzL2RvbS1yZXBlYXQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvZWxlbWVudHMvZG9tLWlmLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL2VsZW1lbnRzL2FycmF5LXNlbGVjdG9yLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B3ZWJjb21wb25lbnRzL3NoYWR5Y3NzL2VudHJ5cG9pbnRzL2N1c3RvbS1zdHlsZS1pbnRlcmZhY2UuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvZWxlbWVudHMvY3VzdG9tLXN0eWxlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvcG9seW1lci1sZWdhY3kuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvaXJvbi1mbGV4LWxheW91dC9pcm9uLWZsZXgtbGF5b3V0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL2lyb24taW1hZ2UvaXJvbi1pbWFnZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wYXBlci1zdHlsZXMvc2hhZG93LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BhcGVyLXN0eWxlcy9lbGVtZW50LXN0eWxlcy9wYXBlci1tYXRlcmlhbC1zdHlsZXMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcGFwZXItc3R5bGVzL2NvbG9yLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BhcGVyLXN0eWxlcy9kZWZhdWx0LXRoZW1lLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BhcGVyLWNhcmQvcGFwZXItY2FyZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5jb25zdCBkaXJlY3RpdmVzID0gbmV3IFdlYWtNYXAoKTtcbi8qKlxuICogQnJhbmRzIGEgZnVuY3Rpb24gYXMgYSBkaXJlY3RpdmUgZmFjdG9yeSBmdW5jdGlvbiBzbyB0aGF0IGxpdC1odG1sIHdpbGwgY2FsbFxuICogdGhlIGZ1bmN0aW9uIGR1cmluZyB0ZW1wbGF0ZSByZW5kZXJpbmcsIHJhdGhlciB0aGFuIHBhc3NpbmcgYXMgYSB2YWx1ZS5cbiAqXG4gKiBBIF9kaXJlY3RpdmVfIGlzIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIFBhcnQgYXMgYW4gYXJndW1lbnQuIEl0IGhhcyB0aGVcbiAqIHNpZ25hdHVyZTogYChwYXJ0OiBQYXJ0KSA9PiB2b2lkYC5cbiAqXG4gKiBBIGRpcmVjdGl2ZSBfZmFjdG9yeV8gaXMgYSBmdW5jdGlvbiB0aGF0IHRha2VzIGFyZ3VtZW50cyBmb3IgZGF0YSBhbmRcbiAqIGNvbmZpZ3VyYXRpb24gYW5kIHJldHVybnMgYSBkaXJlY3RpdmUuIFVzZXJzIG9mIGRpcmVjdGl2ZSB1c3VhbGx5IHJlZmVyIHRvXG4gKiB0aGUgZGlyZWN0aXZlIGZhY3RvcnkgYXMgdGhlIGRpcmVjdGl2ZS4gRm9yIGV4YW1wbGUsIFwiVGhlIHJlcGVhdCBkaXJlY3RpdmVcIi5cbiAqXG4gKiBVc3VhbGx5IGEgdGVtcGxhdGUgYXV0aG9yIHdpbGwgaW52b2tlIGEgZGlyZWN0aXZlIGZhY3RvcnkgaW4gdGhlaXIgdGVtcGxhdGVcbiAqIHdpdGggcmVsZXZhbnQgYXJndW1lbnRzLCB3aGljaCB3aWxsIHRoZW4gcmV0dXJuIGEgZGlyZWN0aXZlIGZ1bmN0aW9uLlxuICpcbiAqIEhlcmUncyBhbiBleGFtcGxlIG9mIHVzaW5nIHRoZSBgcmVwZWF0KClgIGRpcmVjdGl2ZSBmYWN0b3J5IHRoYXQgdGFrZXMgYW5cbiAqIGFycmF5IGFuZCBhIGZ1bmN0aW9uIHRvIHJlbmRlciBhbiBpdGVtOlxuICpcbiAqIGBgYGpzXG4gKiBodG1sYDx1bD48JHtyZXBlYXQoaXRlbXMsIChpdGVtKSA9PiBodG1sYDxsaT4ke2l0ZW19PC9saT5gKX08L3VsPmBcbiAqIGBgYFxuICpcbiAqIFdoZW4gYHJlcGVhdGAgaXMgaW52b2tlZCwgaXQgcmV0dXJucyBhIGRpcmVjdGl2ZSBmdW5jdGlvbiB0aGF0IGNsb3NlcyBvdmVyXG4gKiBgaXRlbXNgIGFuZCB0aGUgdGVtcGxhdGUgZnVuY3Rpb24uIFdoZW4gdGhlIG91dGVyIHRlbXBsYXRlIGlzIHJlbmRlcmVkLCB0aGVcbiAqIHJldHVybiBkaXJlY3RpdmUgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggdGhlIFBhcnQgZm9yIHRoZSBleHByZXNzaW9uLlxuICogYHJlcGVhdGAgdGhlbiBwZXJmb3JtcyBpdCdzIGN1c3RvbSBsb2dpYyB0byByZW5kZXIgbXVsdGlwbGUgaXRlbXMuXG4gKlxuICogQHBhcmFtIGYgVGhlIGRpcmVjdGl2ZSBmYWN0b3J5IGZ1bmN0aW9uLiBNdXN0IGJlIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFcbiAqIGZ1bmN0aW9uIG9mIHRoZSBzaWduYXR1cmUgYChwYXJ0OiBQYXJ0KSA9PiB2b2lkYC4gVGhlIHJldHVybmVkIGZ1bmN0aW9uIHdpbGxcbiAqIGJlIGNhbGxlZCB3aXRoIHRoZSBwYXJ0IG9iamVjdC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGltcG9ydCB7ZGlyZWN0aXZlLCBodG1sfSBmcm9tICdsaXQtaHRtbCc7XG4gKlxuICogY29uc3QgaW1tdXRhYmxlID0gZGlyZWN0aXZlKCh2KSA9PiAocGFydCkgPT4ge1xuICogICBpZiAocGFydC52YWx1ZSAhPT0gdikge1xuICogICAgIHBhcnQuc2V0VmFsdWUodilcbiAqICAgfVxuICogfSk7XG4gKi9cbmV4cG9ydCBjb25zdCBkaXJlY3RpdmUgPSAoZikgPT4gKCguLi5hcmdzKSA9PiB7XG4gICAgY29uc3QgZCA9IGYoLi4uYXJncyk7XG4gICAgZGlyZWN0aXZlcy5zZXQoZCwgdHJ1ZSk7XG4gICAgcmV0dXJuIGQ7XG59KTtcbmV4cG9ydCBjb25zdCBpc0RpcmVjdGl2ZSA9IChvKSA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiBvID09PSAnZnVuY3Rpb24nICYmIGRpcmVjdGl2ZXMuaGFzKG8pO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpcmVjdGl2ZS5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqIFRydWUgaWYgdGhlIGN1c3RvbSBlbGVtZW50cyBwb2x5ZmlsbCBpcyBpbiB1c2UuXG4gKi9cbmV4cG9ydCBjb25zdCBpc0NFUG9seWZpbGwgPSB3aW5kb3cuY3VzdG9tRWxlbWVudHMgIT09IHVuZGVmaW5lZCAmJlxuICAgIHdpbmRvdy5jdXN0b21FbGVtZW50cy5wb2x5ZmlsbFdyYXBGbHVzaENhbGxiYWNrICE9PVxuICAgICAgICB1bmRlZmluZWQ7XG4vKipcbiAqIFJlcGFyZW50cyBub2Rlcywgc3RhcnRpbmcgZnJvbSBgc3RhcnRgIChpbmNsdXNpdmUpIHRvIGBlbmRgIChleGNsdXNpdmUpLFxuICogaW50byBhbm90aGVyIGNvbnRhaW5lciAoY291bGQgYmUgdGhlIHNhbWUgY29udGFpbmVyKSwgYmVmb3JlIGBiZWZvcmVgLiBJZlxuICogYGJlZm9yZWAgaXMgbnVsbCwgaXQgYXBwZW5kcyB0aGUgbm9kZXMgdG8gdGhlIGNvbnRhaW5lci5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlcGFyZW50Tm9kZXMgPSAoY29udGFpbmVyLCBzdGFydCwgZW5kID0gbnVsbCwgYmVmb3JlID0gbnVsbCkgPT4ge1xuICAgIHdoaWxlIChzdGFydCAhPT0gZW5kKSB7XG4gICAgICAgIGNvbnN0IG4gPSBzdGFydC5uZXh0U2libGluZztcbiAgICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShzdGFydCwgYmVmb3JlKTtcbiAgICAgICAgc3RhcnQgPSBuO1xuICAgIH1cbn07XG4vKipcbiAqIFJlbW92ZXMgbm9kZXMsIHN0YXJ0aW5nIGZyb20gYHN0YXJ0YCAoaW5jbHVzaXZlKSB0byBgZW5kYCAoZXhjbHVzaXZlKSwgZnJvbVxuICogYGNvbnRhaW5lcmAuXG4gKi9cbmV4cG9ydCBjb25zdCByZW1vdmVOb2RlcyA9IChjb250YWluZXIsIHN0YXJ0LCBlbmQgPSBudWxsKSA9PiB7XG4gICAgd2hpbGUgKHN0YXJ0ICE9PSBlbmQpIHtcbiAgICAgICAgY29uc3QgbiA9IHN0YXJ0Lm5leHRTaWJsaW5nO1xuICAgICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoc3RhcnQpO1xuICAgICAgICBzdGFydCA9IG47XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRvbS5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTggVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqIEEgc2VudGluZWwgdmFsdWUgdGhhdCBzaWduYWxzIHRoYXQgYSB2YWx1ZSB3YXMgaGFuZGxlZCBieSBhIGRpcmVjdGl2ZSBhbmRcbiAqIHNob3VsZCBub3QgYmUgd3JpdHRlbiB0byB0aGUgRE9NLlxuICovXG5leHBvcnQgY29uc3Qgbm9DaGFuZ2UgPSB7fTtcbi8qKlxuICogQSBzZW50aW5lbCB2YWx1ZSB0aGF0IHNpZ25hbHMgYSBOb2RlUGFydCB0byBmdWxseSBjbGVhciBpdHMgY29udGVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vdGhpbmcgPSB7fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnQuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBBbiBleHByZXNzaW9uIG1hcmtlciB3aXRoIGVtYmVkZGVkIHVuaXF1ZSBrZXkgdG8gYXZvaWQgY29sbGlzaW9uIHdpdGhcbiAqIHBvc3NpYmxlIHRleHQgaW4gdGVtcGxhdGVzLlxuICovXG5leHBvcnQgY29uc3QgbWFya2VyID0gYHt7bGl0LSR7U3RyaW5nKE1hdGgucmFuZG9tKCkpLnNsaWNlKDIpfX19YDtcbi8qKlxuICogQW4gZXhwcmVzc2lvbiBtYXJrZXIgdXNlZCB0ZXh0LXBvc2l0aW9ucywgbXVsdGktYmluZGluZyBhdHRyaWJ1dGVzLCBhbmRcbiAqIGF0dHJpYnV0ZXMgd2l0aCBtYXJrdXAtbGlrZSB0ZXh0IHZhbHVlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vZGVNYXJrZXIgPSBgPCEtLSR7bWFya2VyfS0tPmA7XG5leHBvcnQgY29uc3QgbWFya2VyUmVnZXggPSBuZXcgUmVnRXhwKGAke21hcmtlcn18JHtub2RlTWFya2VyfWApO1xuLyoqXG4gKiBTdWZmaXggYXBwZW5kZWQgdG8gYWxsIGJvdW5kIGF0dHJpYnV0ZSBuYW1lcy5cbiAqL1xuZXhwb3J0IGNvbnN0IGJvdW5kQXR0cmlidXRlU3VmZml4ID0gJyRsaXQkJztcbi8qKlxuICogQW4gdXBkYXRlYWJsZSBUZW1wbGF0ZSB0aGF0IHRyYWNrcyB0aGUgbG9jYXRpb24gb2YgZHluYW1pYyBwYXJ0cy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRlbXBsYXRlIHtcbiAgICBjb25zdHJ1Y3RvcihyZXN1bHQsIGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5wYXJ0cyA9IFtdO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICBjb25zdCBub2Rlc1RvUmVtb3ZlID0gW107XG4gICAgICAgIGNvbnN0IHN0YWNrID0gW107XG4gICAgICAgIC8vIEVkZ2UgbmVlZHMgYWxsIDQgcGFyYW1ldGVycyBwcmVzZW50OyBJRTExIG5lZWRzIDNyZCBwYXJhbWV0ZXIgdG8gYmUgbnVsbFxuICAgICAgICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGVsZW1lbnQuY29udGVudCwgMTMzIC8qIE5vZGVGaWx0ZXIuU0hPV197RUxFTUVOVHxDT01NRU5UfFRFWFR9ICovLCBudWxsLCBmYWxzZSk7XG4gICAgICAgIC8vIEtlZXBzIHRyYWNrIG9mIHRoZSBsYXN0IGluZGV4IGFzc29jaWF0ZWQgd2l0aCBhIHBhcnQuIFdlIHRyeSB0byBkZWxldGVcbiAgICAgICAgLy8gdW5uZWNlc3Nhcnkgbm9kZXMsIGJ1dCB3ZSBuZXZlciB3YW50IHRvIGFzc29jaWF0ZSB0d28gZGlmZmVyZW50IHBhcnRzXG4gICAgICAgIC8vIHRvIHRoZSBzYW1lIGluZGV4LiBUaGV5IG11c3QgaGF2ZSBhIGNvbnN0YW50IG5vZGUgYmV0d2Vlbi5cbiAgICAgICAgbGV0IGxhc3RQYXJ0SW5kZXggPSAwO1xuICAgICAgICBsZXQgaW5kZXggPSAtMTtcbiAgICAgICAgbGV0IHBhcnRJbmRleCA9IDA7XG4gICAgICAgIGNvbnN0IHsgc3RyaW5ncywgdmFsdWVzOiB7IGxlbmd0aCB9IH0gPSByZXN1bHQ7XG4gICAgICAgIHdoaWxlIChwYXJ0SW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgICAgIGlmIChub2RlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UndmUgZXhoYXVzdGVkIHRoZSBjb250ZW50IGluc2lkZSBhIG5lc3RlZCB0ZW1wbGF0ZSBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIEJlY2F1c2Ugd2Ugc3RpbGwgaGF2ZSBwYXJ0cyAodGhlIG91dGVyIGZvci1sb29wKSwgd2Uga25vdzpcbiAgICAgICAgICAgICAgICAvLyAtIFRoZXJlIGlzIGEgdGVtcGxhdGUgaW4gdGhlIHN0YWNrXG4gICAgICAgICAgICAgICAgLy8gLSBUaGUgd2Fsa2VyIHdpbGwgZmluZCBhIG5leHROb2RlIG91dHNpZGUgdGhlIHRlbXBsYXRlXG4gICAgICAgICAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEgLyogTm9kZS5FTEVNRU5UX05PREUgKi8pIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5oYXNBdHRyaWJ1dGVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IG5vZGUuYXR0cmlidXRlcztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBsZW5ndGggfSA9IGF0dHJpYnV0ZXM7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBlclxuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTmFtZWROb2RlTWFwLFxuICAgICAgICAgICAgICAgICAgICAvLyBhdHRyaWJ1dGVzIGFyZSBub3QgZ3VhcmFudGVlZCB0byBiZSByZXR1cm5lZCBpbiBkb2N1bWVudCBvcmRlci5cbiAgICAgICAgICAgICAgICAgICAgLy8gSW4gcGFydGljdWxhciwgRWRnZS9JRSBjYW4gcmV0dXJuIHRoZW0gb3V0IG9mIG9yZGVyLCBzbyB3ZSBjYW5ub3RcbiAgICAgICAgICAgICAgICAgICAgLy8gYXNzdW1lIGEgY29ycmVzcG9uZGVuY2UgYmV0d2VlbiBwYXJ0IGluZGV4IGFuZCBhdHRyaWJ1dGUgaW5kZXguXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbmRzV2l0aChhdHRyaWJ1dGVzW2ldLm5hbWUsIGJvdW5kQXR0cmlidXRlU3VmZml4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGNvdW50LS0gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIHRlbXBsYXRlIGxpdGVyYWwgc2VjdGlvbiBsZWFkaW5nIHVwIHRvIHRoZSBmaXJzdFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhwcmVzc2lvbiBpbiB0aGlzIGF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RyaW5nRm9yUGFydCA9IHN0cmluZ3NbcGFydEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpbmQgdGhlIGF0dHJpYnV0ZSBuYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gbGFzdEF0dHJpYnV0ZU5hbWVSZWdleC5leGVjKHN0cmluZ0ZvclBhcnQpWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgY29ycmVzcG9uZGluZyBhdHRyaWJ1dGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsbCBib3VuZCBhdHRyaWJ1dGVzIGhhdmUgaGFkIGEgc3VmZml4IGFkZGVkIGluXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUZW1wbGF0ZVJlc3VsdCNnZXRIVE1MIHRvIG9wdCBvdXQgb2Ygc3BlY2lhbCBhdHRyaWJ1dGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsaW5nLiBUbyBsb29rIHVwIHRoZSBhdHRyaWJ1dGUgdmFsdWUgd2UgYWxzbyBuZWVkIHRvIGFkZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHN1ZmZpeC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZUxvb2t1cE5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCkgKyBib3VuZEF0dHJpYnV0ZVN1ZmZpeDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZVZhbHVlID0gbm9kZS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTG9va3VwTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGVMb29rdXBOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRpY3MgPSBhdHRyaWJ1dGVWYWx1ZS5zcGxpdChtYXJrZXJSZWdleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goeyB0eXBlOiAnYXR0cmlidXRlJywgaW5kZXgsIG5hbWUsIHN0cmluZ3M6IHN0YXRpY3MgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0SW5kZXggKz0gc3RhdGljcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub2RlLnRhZ05hbWUgPT09ICdURU1QTEFURScpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gbm9kZS5jb250ZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT09IDMgLyogTm9kZS5URVhUX05PREUgKi8pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gbm9kZS5kYXRhO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmluZGV4T2YobWFya2VyKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RyaW5ncyA9IGRhdGEuc3BsaXQobWFya2VyUmVnZXgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0SW5kZXggPSBzdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIGEgbmV3IHRleHQgbm9kZSBmb3IgZWFjaCBsaXRlcmFsIHNlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlc2Ugbm9kZXMgYXJlIGFsc28gdXNlZCBhcyB0aGUgbWFya2VycyBmb3Igbm9kZSBwYXJ0c1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxhc3RJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5zZXJ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHMgPSBzdHJpbmdzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0ID0gY3JlYXRlTWFya2VyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXguZXhlYyhzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2ggIT09IG51bGwgJiYgZW5kc1dpdGgobWF0Y2hbMl0sIGJvdW5kQXR0cmlidXRlU3VmZml4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzID0gcy5zbGljZSgwLCBtYXRjaC5pbmRleCkgKyBtYXRjaFsxXSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXS5zbGljZSgwLCAtYm91bmRBdHRyaWJ1dGVTdWZmaXgubGVuZ3RoKSArIG1hdGNoWzNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoaW5zZXJ0LCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFydHMucHVzaCh7IHR5cGU6ICdub2RlJywgaW5kZXg6ICsraW5kZXggfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBubyB0ZXh0LCB3ZSBtdXN0IGluc2VydCBhIGNvbW1lbnQgdG8gbWFyayBvdXIgcGxhY2UuXG4gICAgICAgICAgICAgICAgICAgIC8vIEVsc2UsIHdlIGNhbiB0cnVzdCBpdCB3aWxsIHN0aWNrIGFyb3VuZCBhZnRlciBjbG9uaW5nLlxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RyaW5nc1tsYXN0SW5kZXhdID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShjcmVhdGVNYXJrZXIoKSwgbm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2Rlc1RvUmVtb3ZlLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRhdGEgPSBzdHJpbmdzW2xhc3RJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSBhIHBhcnQgZm9yIGVhY2ggbWF0Y2ggZm91bmRcbiAgICAgICAgICAgICAgICAgICAgcGFydEluZGV4ICs9IGxhc3RJbmRleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChub2RlLm5vZGVUeXBlID09PSA4IC8qIE5vZGUuQ09NTUVOVF9OT0RFICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuZGF0YSA9PT0gbWFya2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGEgbmV3IG1hcmtlciBub2RlIHRvIGJlIHRoZSBzdGFydE5vZGUgb2YgdGhlIFBhcnQgaWYgYW55IG9mXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBmb2xsb3dpbmcgYXJlIHRydWU6XG4gICAgICAgICAgICAgICAgICAgIC8vICAqIFdlIGRvbid0IGhhdmUgYSBwcmV2aW91c1NpYmxpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gICogVGhlIHByZXZpb3VzU2libGluZyBpcyBhbHJlYWR5IHRoZSBzdGFydCBvZiBhIHByZXZpb3VzIHBhcnRcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUucHJldmlvdXNTaWJsaW5nID09PSBudWxsIHx8IGluZGV4ID09PSBsYXN0UGFydEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShjcmVhdGVNYXJrZXIoKSwgbm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGFzdFBhcnRJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goeyB0eXBlOiAnbm9kZScsIGluZGV4IH0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgbmV4dFNpYmxpbmcsIGtlZXAgdGhpcyBub2RlIHNvIHdlIGhhdmUgYW4gZW5kLlxuICAgICAgICAgICAgICAgICAgICAvLyBFbHNlLCB3ZSBjYW4gcmVtb3ZlIGl0IHRvIHNhdmUgZnV0dXJlIGNvc3RzLlxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5uZXh0U2libGluZyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5kYXRhID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2Rlc1RvUmVtb3ZlLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleC0tO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBhcnRJbmRleCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChpID0gbm9kZS5kYXRhLmluZGV4T2YobWFya2VyLCBpICsgMSkpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29tbWVudCBub2RlIGhhcyBhIGJpbmRpbmcgbWFya2VyIGluc2lkZSwgbWFrZSBhbiBpbmFjdGl2ZSBwYXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgYmluZGluZyB3b24ndCB3b3JrLCBidXQgc3Vic2VxdWVudCBiaW5kaW5ncyB3aWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIChqdXN0aW5mYWduYW5pKTogY29uc2lkZXIgd2hldGhlciBpdCdzIGV2ZW4gd29ydGggaXQgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1ha2UgYmluZGluZ3MgaW4gY29tbWVudHMgd29ya1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHsgdHlwZTogJ25vZGUnLCBpbmRleDogLTEgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBSZW1vdmUgdGV4dCBiaW5kaW5nIG5vZGVzIGFmdGVyIHRoZSB3YWxrIHRvIG5vdCBkaXN0dXJiIHRoZSBUcmVlV2Fsa2VyXG4gICAgICAgIGZvciAoY29uc3QgbiBvZiBub2Rlc1RvUmVtb3ZlKSB7XG4gICAgICAgICAgICBuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobik7XG4gICAgICAgIH1cbiAgICB9XG59XG5jb25zdCBlbmRzV2l0aCA9IChzdHIsIHN1ZmZpeCkgPT4ge1xuICAgIGNvbnN0IGluZGV4ID0gc3RyLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGg7XG4gICAgcmV0dXJuIGluZGV4ID49IDAgJiYgc3RyLnNsaWNlKGluZGV4KSA9PT0gc3VmZml4O1xufTtcbmV4cG9ydCBjb25zdCBpc1RlbXBsYXRlUGFydEFjdGl2ZSA9IChwYXJ0KSA9PiBwYXJ0LmluZGV4ICE9PSAtMTtcbi8vIEFsbG93cyBgZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnJylgIHRvIGJlIHJlbmFtZWQgZm9yIGFcbi8vIHNtYWxsIG1hbnVhbCBzaXplLXNhdmluZ3MuXG5leHBvcnQgY29uc3QgY3JlYXRlTWFya2VyID0gKCkgPT4gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnJyk7XG4vKipcbiAqIFRoaXMgcmVnZXggZXh0cmFjdHMgdGhlIGF0dHJpYnV0ZSBuYW1lIHByZWNlZGluZyBhbiBhdHRyaWJ1dGUtcG9zaXRpb25cbiAqIGV4cHJlc3Npb24uIEl0IGRvZXMgdGhpcyBieSBtYXRjaGluZyB0aGUgc3ludGF4IGFsbG93ZWQgZm9yIGF0dHJpYnV0ZXNcbiAqIGFnYWluc3QgdGhlIHN0cmluZyBsaXRlcmFsIGRpcmVjdGx5IHByZWNlZGluZyB0aGUgZXhwcmVzc2lvbiwgYXNzdW1pbmcgdGhhdFxuICogdGhlIGV4cHJlc3Npb24gaXMgaW4gYW4gYXR0cmlidXRlLXZhbHVlIHBvc2l0aW9uLlxuICpcbiAqIFNlZSBhdHRyaWJ1dGVzIGluIHRoZSBIVE1MIHNwZWM6XG4gKiBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvc3ludGF4Lmh0bWwjZWxlbWVudHMtYXR0cmlidXRlc1xuICpcbiAqIFwiIFxceDA5XFx4MGFcXHgwY1xceDBkXCIgYXJlIEhUTUwgc3BhY2UgY2hhcmFjdGVyczpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9pbmZyYXN0cnVjdHVyZS5odG1sI3NwYWNlLWNoYXJhY3RlcnNcbiAqXG4gKiBcIlxcMC1cXHgxRlxceDdGLVxceDlGXCIgYXJlIFVuaWNvZGUgY29udHJvbCBjaGFyYWN0ZXJzLCB3aGljaCBpbmNsdWRlcyBldmVyeVxuICogc3BhY2UgY2hhcmFjdGVyIGV4Y2VwdCBcIiBcIi5cbiAqXG4gKiBTbyBhbiBhdHRyaWJ1dGUgaXM6XG4gKiAgKiBUaGUgbmFtZTogYW55IGNoYXJhY3RlciBleGNlcHQgYSBjb250cm9sIGNoYXJhY3Rlciwgc3BhY2UgY2hhcmFjdGVyLCAoJyksXG4gKiAgICAoXCIpLCBcIj5cIiwgXCI9XCIsIG9yIFwiL1wiXG4gKiAgKiBGb2xsb3dlZCBieSB6ZXJvIG9yIG1vcmUgc3BhY2UgY2hhcmFjdGVyc1xuICogICogRm9sbG93ZWQgYnkgXCI9XCJcbiAqICAqIEZvbGxvd2VkIGJ5IHplcm8gb3IgbW9yZSBzcGFjZSBjaGFyYWN0ZXJzXG4gKiAgKiBGb2xsb3dlZCBieTpcbiAqICAgICogQW55IGNoYXJhY3RlciBleGNlcHQgc3BhY2UsICgnKSwgKFwiKSwgXCI8XCIsIFwiPlwiLCBcIj1cIiwgKGApLCBvclxuICogICAgKiAoXCIpIHRoZW4gYW55IG5vbi0oXCIpLCBvclxuICogICAgKiAoJykgdGhlbiBhbnkgbm9uLSgnKVxuICovXG5leHBvcnQgY29uc3QgbGFzdEF0dHJpYnV0ZU5hbWVSZWdleCA9IC8oWyBcXHgwOVxceDBhXFx4MGNcXHgwZF0pKFteXFwwLVxceDFGXFx4N0YtXFx4OUYgXCInPj0vXSspKFsgXFx4MDlcXHgwYVxceDBjXFx4MGRdKj1bIFxceDA5XFx4MGFcXHgwY1xceDBkXSooPzpbXiBcXHgwOVxceDBhXFx4MGNcXHgwZFwiJ2A8Pj1dKnxcIlteXCJdKnwnW14nXSopKSQvO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVtcGxhdGUuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cbmltcG9ydCB7IGlzQ0VQb2x5ZmlsbCB9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IGlzVGVtcGxhdGVQYXJ0QWN0aXZlIH0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG4vKipcbiAqIEFuIGluc3RhbmNlIG9mIGEgYFRlbXBsYXRlYCB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byB0aGUgRE9NIGFuZCB1cGRhdGVkXG4gKiB3aXRoIG5ldyB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBUZW1wbGF0ZUluc3RhbmNlIHtcbiAgICBjb25zdHJ1Y3Rvcih0ZW1wbGF0ZSwgcHJvY2Vzc29yLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX19wYXJ0cyA9IFtdO1xuICAgICAgICB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgICAgIHRoaXMucHJvY2Vzc29yID0gcHJvY2Vzc29yO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICB1cGRhdGUodmFsdWVzKSB7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHRoaXMuX19wYXJ0cykge1xuICAgICAgICAgICAgaWYgKHBhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBhcnQuc2V0VmFsdWUodmFsdWVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgdGhpcy5fX3BhcnRzKSB7XG4gICAgICAgICAgICBpZiAocGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcGFydC5jb21taXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBfY2xvbmUoKSB7XG4gICAgICAgIC8vIFRoZXJlIGFyZSBhIG51bWJlciBvZiBzdGVwcyBpbiB0aGUgbGlmZWN5Y2xlIG9mIGEgdGVtcGxhdGUgaW5zdGFuY2Unc1xuICAgICAgICAvLyBET00gZnJhZ21lbnQ6XG4gICAgICAgIC8vICAxLiBDbG9uZSAtIGNyZWF0ZSB0aGUgaW5zdGFuY2UgZnJhZ21lbnRcbiAgICAgICAgLy8gIDIuIEFkb3B0IC0gYWRvcHQgaW50byB0aGUgbWFpbiBkb2N1bWVudFxuICAgICAgICAvLyAgMy4gUHJvY2VzcyAtIGZpbmQgcGFydCBtYXJrZXJzIGFuZCBjcmVhdGUgcGFydHNcbiAgICAgICAgLy8gIDQuIFVwZ3JhZGUgLSB1cGdyYWRlIGN1c3RvbSBlbGVtZW50c1xuICAgICAgICAvLyAgNS4gVXBkYXRlIC0gc2V0IG5vZGUsIGF0dHJpYnV0ZSwgcHJvcGVydHksIGV0Yy4sIHZhbHVlc1xuICAgICAgICAvLyAgNi4gQ29ubmVjdCAtIGNvbm5lY3QgdG8gdGhlIGRvY3VtZW50LiBPcHRpb25hbCBhbmQgb3V0c2lkZSBvZiB0aGlzXG4gICAgICAgIC8vICAgICBtZXRob2QuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFdlIGhhdmUgYSBmZXcgY29uc3RyYWludHMgb24gdGhlIG9yZGVyaW5nIG9mIHRoZXNlIHN0ZXBzOlxuICAgICAgICAvLyAgKiBXZSBuZWVkIHRvIHVwZ3JhZGUgYmVmb3JlIHVwZGF0aW5nLCBzbyB0aGF0IHByb3BlcnR5IHZhbHVlcyB3aWxsIHBhc3NcbiAgICAgICAgLy8gICAgdGhyb3VnaCBhbnkgcHJvcGVydHkgc2V0dGVycy5cbiAgICAgICAgLy8gICogV2Ugd291bGQgbGlrZSB0byBwcm9jZXNzIGJlZm9yZSB1cGdyYWRpbmcgc28gdGhhdCB3ZSdyZSBzdXJlIHRoYXQgdGhlXG4gICAgICAgIC8vICAgIGNsb25lZCBmcmFnbWVudCBpcyBpbmVydCBhbmQgbm90IGRpc3R1cmJlZCBieSBzZWxmLW1vZGlmeWluZyBET00uXG4gICAgICAgIC8vICAqIFdlIHdhbnQgY3VzdG9tIGVsZW1lbnRzIHRvIHVwZ3JhZGUgZXZlbiBpbiBkaXNjb25uZWN0ZWQgZnJhZ21lbnRzLlxuICAgICAgICAvL1xuICAgICAgICAvLyBHaXZlbiB0aGVzZSBjb25zdHJhaW50cywgd2l0aCBmdWxsIGN1c3RvbSBlbGVtZW50cyBzdXBwb3J0IHdlIHdvdWxkXG4gICAgICAgIC8vIHByZWZlciB0aGUgb3JkZXI6IENsb25lLCBQcm9jZXNzLCBBZG9wdCwgVXBncmFkZSwgVXBkYXRlLCBDb25uZWN0XG4gICAgICAgIC8vXG4gICAgICAgIC8vIEJ1dCBTYWZhcmkgZG9vZXMgbm90IGltcGxlbWVudCBDdXN0b21FbGVtZW50UmVnaXN0cnkjdXBncmFkZSwgc28gd2VcbiAgICAgICAgLy8gY2FuIG5vdCBpbXBsZW1lbnQgdGhhdCBvcmRlciBhbmQgc3RpbGwgaGF2ZSB1cGdyYWRlLWJlZm9yZS11cGRhdGUgYW5kXG4gICAgICAgIC8vIHVwZ3JhZGUgZGlzY29ubmVjdGVkIGZyYWdtZW50cy4gU28gd2UgaW5zdGVhZCBzYWNyaWZpY2UgdGhlXG4gICAgICAgIC8vIHByb2Nlc3MtYmVmb3JlLXVwZ3JhZGUgY29uc3RyYWludCwgc2luY2UgaW4gQ3VzdG9tIEVsZW1lbnRzIHYxIGVsZW1lbnRzXG4gICAgICAgIC8vIG11c3Qgbm90IG1vZGlmeSB0aGVpciBsaWdodCBET00gaW4gdGhlIGNvbnN0cnVjdG9yLiBXZSBzdGlsbCBoYXZlIGlzc3Vlc1xuICAgICAgICAvLyB3aGVuIGNvLWV4aXN0aW5nIHdpdGggQ0V2MCBlbGVtZW50cyBsaWtlIFBvbHltZXIgMSwgYW5kIHdpdGggcG9seWZpbGxzXG4gICAgICAgIC8vIHRoYXQgZG9uJ3Qgc3RyaWN0bHkgYWRoZXJlIHRvIHRoZSBuby1tb2RpZmljYXRpb24gcnVsZSBiZWNhdXNlIHNoYWRvd1xuICAgICAgICAvLyBET00sIHdoaWNoIG1heSBiZSBjcmVhdGVkIGluIHRoZSBjb25zdHJ1Y3RvciwgaXMgZW11bGF0ZWQgYnkgYmVpbmcgcGxhY2VkXG4gICAgICAgIC8vIGluIHRoZSBsaWdodCBET00uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSByZXN1bHRpbmcgb3JkZXIgaXMgb24gbmF0aXZlIGlzOiBDbG9uZSwgQWRvcHQsIFVwZ3JhZGUsIFByb2Nlc3MsXG4gICAgICAgIC8vIFVwZGF0ZSwgQ29ubmVjdC4gZG9jdW1lbnQuaW1wb3J0Tm9kZSgpIHBlcmZvcm1zIENsb25lLCBBZG9wdCwgYW5kIFVwZ3JhZGVcbiAgICAgICAgLy8gaW4gb25lIHN0ZXAuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSBDdXN0b20gRWxlbWVudHMgdjEgcG9seWZpbGwgc3VwcG9ydHMgdXBncmFkZSgpLCBzbyB0aGUgb3JkZXIgd2hlblxuICAgICAgICAvLyBwb2x5ZmlsbGVkIGlzIHRoZSBtb3JlIGlkZWFsOiBDbG9uZSwgUHJvY2VzcywgQWRvcHQsIFVwZ3JhZGUsIFVwZGF0ZSxcbiAgICAgICAgLy8gQ29ubmVjdC5cbiAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBpc0NFUG9seWZpbGwgP1xuICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZS5lbGVtZW50LmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpIDpcbiAgICAgICAgICAgIGRvY3VtZW50LmltcG9ydE5vZGUodGhpcy50ZW1wbGF0ZS5lbGVtZW50LmNvbnRlbnQsIHRydWUpO1xuICAgICAgICBjb25zdCBzdGFjayA9IFtdO1xuICAgICAgICBjb25zdCBwYXJ0cyA9IHRoaXMudGVtcGxhdGUucGFydHM7XG4gICAgICAgIC8vIEVkZ2UgbmVlZHMgYWxsIDQgcGFyYW1ldGVycyBwcmVzZW50OyBJRTExIG5lZWRzIDNyZCBwYXJhbWV0ZXIgdG8gYmUgbnVsbFxuICAgICAgICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGZyYWdtZW50LCAxMzMgLyogTm9kZUZpbHRlci5TSE9XX3tFTEVNRU5UfENPTU1FTlR8VEVYVH0gKi8sIG51bGwsIGZhbHNlKTtcbiAgICAgICAgbGV0IHBhcnRJbmRleCA9IDA7XG4gICAgICAgIGxldCBub2RlSW5kZXggPSAwO1xuICAgICAgICBsZXQgcGFydDtcbiAgICAgICAgbGV0IG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgbm9kZXMgYW5kIHBhcnRzIG9mIGEgdGVtcGxhdGVcbiAgICAgICAgd2hpbGUgKHBhcnRJbmRleCA8IHBhcnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgcGFydCA9IHBhcnRzW3BhcnRJbmRleF07XG4gICAgICAgICAgICBpZiAoIWlzVGVtcGxhdGVQYXJ0QWN0aXZlKHBhcnQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX3BhcnRzLnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFByb2dyZXNzIHRoZSB0cmVlIHdhbGtlciB1bnRpbCB3ZSBmaW5kIG91ciBuZXh0IHBhcnQncyBub2RlLlxuICAgICAgICAgICAgLy8gTm90ZSB0aGF0IG11bHRpcGxlIHBhcnRzIG1heSBzaGFyZSB0aGUgc2FtZSBub2RlIChhdHRyaWJ1dGUgcGFydHNcbiAgICAgICAgICAgIC8vIG9uIGEgc2luZ2xlIGVsZW1lbnQpLCBzbyB0aGlzIGxvb3AgbWF5IG5vdCBydW4gYXQgYWxsLlxuICAgICAgICAgICAgd2hpbGUgKG5vZGVJbmRleCA8IHBhcnQuaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBub2RlSW5kZXgrKztcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5ub2RlTmFtZSA9PT0gJ1RFTVBMQVRFJykge1xuICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB3YWxrZXIuY3VycmVudE5vZGUgPSBub2RlLmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgobm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpKSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSd2ZSBleGhhdXN0ZWQgdGhlIGNvbnRlbnQgaW5zaWRlIGEgbmVzdGVkIHRlbXBsYXRlIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgICAgIC8vIEJlY2F1c2Ugd2Ugc3RpbGwgaGF2ZSBwYXJ0cyAodGhlIG91dGVyIGZvci1sb29wKSwgd2Uga25vdzpcbiAgICAgICAgICAgICAgICAgICAgLy8gLSBUaGVyZSBpcyBhIHRlbXBsYXRlIGluIHRoZSBzdGFja1xuICAgICAgICAgICAgICAgICAgICAvLyAtIFRoZSB3YWxrZXIgd2lsbCBmaW5kIGEgbmV4dE5vZGUgb3V0c2lkZSB0aGUgdGVtcGxhdGVcbiAgICAgICAgICAgICAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBXZSd2ZSBhcnJpdmVkIGF0IG91ciBwYXJ0J3Mgbm9kZS5cbiAgICAgICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICdub2RlJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnQgPSB0aGlzLnByb2Nlc3Nvci5oYW5kbGVUZXh0RXhwcmVzc2lvbih0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHBhcnQuaW5zZXJ0QWZ0ZXJOb2RlKG5vZGUucHJldmlvdXNTaWJsaW5nKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9fcGFydHMucHVzaChwYXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX19wYXJ0cy5wdXNoKC4uLnRoaXMucHJvY2Vzc29yLmhhbmRsZUF0dHJpYnV0ZUV4cHJlc3Npb25zKG5vZGUsIHBhcnQubmFtZSwgcGFydC5zdHJpbmdzLCB0aGlzLm9wdGlvbnMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnRJbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0NFUG9seWZpbGwpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkb3B0Tm9kZShmcmFnbWVudCk7XG4gICAgICAgICAgICBjdXN0b21FbGVtZW50cy51cGdyYWRlKGZyYWdtZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnJhZ21lbnQ7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVtcGxhdGUtaW5zdGFuY2UuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cbmltcG9ydCB7IHJlcGFyZW50Tm9kZXMgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBib3VuZEF0dHJpYnV0ZVN1ZmZpeCwgbGFzdEF0dHJpYnV0ZU5hbWVSZWdleCwgbWFya2VyLCBub2RlTWFya2VyIH0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG5jb25zdCBjb21tZW50TWFya2VyID0gYCAke21hcmtlcn0gYDtcbi8qKlxuICogVGhlIHJldHVybiB0eXBlIG9mIGBodG1sYCwgd2hpY2ggaG9sZHMgYSBUZW1wbGF0ZSBhbmQgdGhlIHZhbHVlcyBmcm9tXG4gKiBpbnRlcnBvbGF0ZWQgZXhwcmVzc2lvbnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgY29uc3RydWN0b3Ioc3RyaW5ncywgdmFsdWVzLCB0eXBlLCBwcm9jZXNzb3IpIHtcbiAgICAgICAgdGhpcy5zdHJpbmdzID0gc3RyaW5ncztcbiAgICAgICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMucHJvY2Vzc29yID0gcHJvY2Vzc29yO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgc3RyaW5nIG9mIEhUTUwgdXNlZCB0byBjcmVhdGUgYSBgPHRlbXBsYXRlPmAgZWxlbWVudC5cbiAgICAgKi9cbiAgICBnZXRIVE1MKCkge1xuICAgICAgICBjb25zdCBsID0gdGhpcy5zdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgICAgIGxldCBodG1sID0gJyc7XG4gICAgICAgIGxldCBpc0NvbW1lbnRCaW5kaW5nID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzID0gdGhpcy5zdHJpbmdzW2ldO1xuICAgICAgICAgICAgLy8gRm9yIGVhY2ggYmluZGluZyB3ZSB3YW50IHRvIGRldGVybWluZSB0aGUga2luZCBvZiBtYXJrZXIgdG8gaW5zZXJ0XG4gICAgICAgICAgICAvLyBpbnRvIHRoZSB0ZW1wbGF0ZSBzb3VyY2UgYmVmb3JlIGl0J3MgcGFyc2VkIGJ5IHRoZSBicm93c2VyJ3MgSFRNTFxuICAgICAgICAgICAgLy8gcGFyc2VyLiBUaGUgbWFya2VyIHR5cGUgaXMgYmFzZWQgb24gd2hldGhlciB0aGUgZXhwcmVzc2lvbiBpcyBpbiBhblxuICAgICAgICAgICAgLy8gYXR0cmlidXRlLCB0ZXh0LCBvciBjb21tZW50IHBvaXNpdGlvbi5cbiAgICAgICAgICAgIC8vICAgKiBGb3Igbm9kZS1wb3NpdGlvbiBiaW5kaW5ncyB3ZSBpbnNlcnQgYSBjb21tZW50IHdpdGggdGhlIG1hcmtlclxuICAgICAgICAgICAgLy8gICAgIHNlbnRpbmVsIGFzIGl0cyB0ZXh0IGNvbnRlbnQsIGxpa2UgPCEtLXt7bGl0LWd1aWR9fS0tPi5cbiAgICAgICAgICAgIC8vICAgKiBGb3IgYXR0cmlidXRlIGJpbmRpbmdzIHdlIGluc2VydCBqdXN0IHRoZSBtYXJrZXIgc2VudGluZWwgZm9yIHRoZVxuICAgICAgICAgICAgLy8gICAgIGZpcnN0IGJpbmRpbmcsIHNvIHRoYXQgd2Ugc3VwcG9ydCB1bnF1b3RlZCBhdHRyaWJ1dGUgYmluZGluZ3MuXG4gICAgICAgICAgICAvLyAgICAgU3Vic2VxdWVudCBiaW5kaW5ncyBjYW4gdXNlIGEgY29tbWVudCBtYXJrZXIgYmVjYXVzZSBtdWx0aS1iaW5kaW5nXG4gICAgICAgICAgICAvLyAgICAgYXR0cmlidXRlcyBtdXN0IGJlIHF1b3RlZC5cbiAgICAgICAgICAgIC8vICAgKiBGb3IgY29tbWVudCBiaW5kaW5ncyB3ZSBpbnNlcnQganVzdCB0aGUgbWFya2VyIHNlbnRpbmVsIHNvIHdlIGRvbid0XG4gICAgICAgICAgICAvLyAgICAgY2xvc2UgdGhlIGNvbW1lbnQuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBjb2RlIHNjYW5zIHRoZSB0ZW1wbGF0ZSBzb3VyY2UsIGJ1dCBpcyAqbm90KiBhbiBIVE1MXG4gICAgICAgICAgICAvLyBwYXJzZXIuIFdlIGRvbid0IG5lZWQgdG8gdHJhY2sgdGhlIHRyZWUgc3RydWN0dXJlIG9mIHRoZSBIVE1MLCBvbmx5XG4gICAgICAgICAgICAvLyB3aGV0aGVyIGEgYmluZGluZyBpcyBpbnNpZGUgYSBjb21tZW50LCBhbmQgaWYgbm90LCBpZiBpdCBhcHBlYXJzIHRvIGJlXG4gICAgICAgICAgICAvLyB0aGUgZmlyc3QgYmluZGluZyBpbiBhbiBhdHRyaWJ1dGUuXG4gICAgICAgICAgICBjb25zdCBjb21tZW50T3BlbiA9IHMubGFzdEluZGV4T2YoJzwhLS0nKTtcbiAgICAgICAgICAgIC8vIFdlJ3JlIGluIGNvbW1lbnQgcG9zaXRpb24gaWYgd2UgaGF2ZSBhIGNvbW1lbnQgb3BlbiB3aXRoIG5vIGZvbGxvd2luZ1xuICAgICAgICAgICAgLy8gY29tbWVudCBjbG9zZS4gQmVjYXVzZSA8LS0gY2FuIGFwcGVhciBpbiBhbiBhdHRyaWJ1dGUgdmFsdWUgdGhlcmUgY2FuXG4gICAgICAgICAgICAvLyBiZSBmYWxzZSBwb3NpdGl2ZXMuXG4gICAgICAgICAgICBpc0NvbW1lbnRCaW5kaW5nID0gKGNvbW1lbnRPcGVuID4gLTEgfHwgaXNDb21tZW50QmluZGluZykgJiZcbiAgICAgICAgICAgICAgICBzLmluZGV4T2YoJy0tPicsIGNvbW1lbnRPcGVuICsgMSkgPT09IC0xO1xuICAgICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHdlIGhhdmUgYW4gYXR0cmlidXRlLWxpa2Ugc2VxdWVuY2UgcHJlY2VlZGluZyB0aGVcbiAgICAgICAgICAgIC8vIGV4cHJlc3Npb24uIFRoaXMgY2FuIG1hdGNoIFwibmFtZT12YWx1ZVwiIGxpa2Ugc3RydWN0dXJlcyBpbiB0ZXh0LFxuICAgICAgICAgICAgLy8gY29tbWVudHMsIGFuZCBhdHRyaWJ1dGUgdmFsdWVzLCBzbyB0aGVyZSBjYW4gYmUgZmFsc2UtcG9zaXRpdmVzLlxuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlTWF0Y2ggPSBsYXN0QXR0cmlidXRlTmFtZVJlZ2V4LmV4ZWMocyk7XG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlTWF0Y2ggPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSdyZSBvbmx5IGluIHRoaXMgYnJhbmNoIGlmIHdlIGRvbid0IGhhdmUgYSBhdHRyaWJ1dGUtbGlrZVxuICAgICAgICAgICAgICAgIC8vIHByZWNlZWRpbmcgc2VxdWVuY2UuIEZvciBjb21tZW50cywgdGhpcyBndWFyZHMgYWdhaW5zdCB1bnVzdWFsXG4gICAgICAgICAgICAgICAgLy8gYXR0cmlidXRlIHZhbHVlcyBsaWtlIDxkaXYgZm9vPVwiPCEtLSR7J2Jhcid9XCI+LiBDYXNlcyBsaWtlXG4gICAgICAgICAgICAgICAgLy8gPCEtLSBmb289JHsnYmFyJ30tLT4gYXJlIGhhbmRsZWQgY29ycmVjdGx5IGluIHRoZSBhdHRyaWJ1dGUgYnJhbmNoXG4gICAgICAgICAgICAgICAgLy8gYmVsb3cuXG4gICAgICAgICAgICAgICAgaHRtbCArPSBzICsgKGlzQ29tbWVudEJpbmRpbmcgPyBjb21tZW50TWFya2VyIDogbm9kZU1hcmtlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBGb3IgYXR0cmlidXRlcyB3ZSB1c2UganVzdCBhIG1hcmtlciBzZW50aW5lbCwgYW5kIGFsc28gYXBwZW5kIGFcbiAgICAgICAgICAgICAgICAvLyAkbGl0JCBzdWZmaXggdG8gdGhlIG5hbWUgdG8gb3B0LW91dCBvZiBhdHRyaWJ1dGUtc3BlY2lmaWMgcGFyc2luZ1xuICAgICAgICAgICAgICAgIC8vIHRoYXQgSUUgYW5kIEVkZ2UgZG8gZm9yIHN0eWxlIGFuZCBjZXJ0YWluIFNWRyBhdHRyaWJ1dGVzLlxuICAgICAgICAgICAgICAgIGh0bWwgKz0gcy5zdWJzdHIoMCwgYXR0cmlidXRlTWF0Y2guaW5kZXgpICsgYXR0cmlidXRlTWF0Y2hbMV0gK1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVNYXRjaFsyXSArIGJvdW5kQXR0cmlidXRlU3VmZml4ICsgYXR0cmlidXRlTWF0Y2hbM10gK1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaHRtbCArPSB0aGlzLnN0cmluZ3NbbF07XG4gICAgICAgIHJldHVybiBodG1sO1xuICAgIH1cbiAgICBnZXRUZW1wbGF0ZUVsZW1lbnQoKSB7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgICAgICAgdGVtcGxhdGUuaW5uZXJIVE1MID0gdGhpcy5nZXRIVE1MKCk7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgICB9XG59XG4vKipcbiAqIEEgVGVtcGxhdGVSZXN1bHQgZm9yIFNWRyBmcmFnbWVudHMuXG4gKlxuICogVGhpcyBjbGFzcyB3cmFwcyBIVE1MIGluIGFuIGA8c3ZnPmAgdGFnIGluIG9yZGVyIHRvIHBhcnNlIGl0cyBjb250ZW50cyBpbiB0aGVcbiAqIFNWRyBuYW1lc3BhY2UsIHRoZW4gbW9kaWZpZXMgdGhlIHRlbXBsYXRlIHRvIHJlbW92ZSB0aGUgYDxzdmc+YCB0YWcgc28gdGhhdFxuICogY2xvbmVzIG9ubHkgY29udGFpbmVyIHRoZSBvcmlnaW5hbCBmcmFnbWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIFNWR1RlbXBsYXRlUmVzdWx0IGV4dGVuZHMgVGVtcGxhdGVSZXN1bHQge1xuICAgIGdldEhUTUwoKSB7XG4gICAgICAgIHJldHVybiBgPHN2Zz4ke3N1cGVyLmdldEhUTUwoKX08L3N2Zz5gO1xuICAgIH1cbiAgICBnZXRUZW1wbGF0ZUVsZW1lbnQoKSB7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gc3VwZXIuZ2V0VGVtcGxhdGVFbGVtZW50KCk7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0ZW1wbGF0ZS5jb250ZW50O1xuICAgICAgICBjb25zdCBzdmdFbGVtZW50ID0gY29udGVudC5maXJzdENoaWxkO1xuICAgICAgICBjb250ZW50LnJlbW92ZUNoaWxkKHN2Z0VsZW1lbnQpO1xuICAgICAgICByZXBhcmVudE5vZGVzKGNvbnRlbnQsIHN2Z0VsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZW1wbGF0ZS1yZXN1bHQuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cbmltcG9ydCB7IGlzRGlyZWN0aXZlIH0gZnJvbSAnLi9kaXJlY3RpdmUuanMnO1xuaW1wb3J0IHsgcmVtb3ZlTm9kZXMgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBub0NoYW5nZSwgbm90aGluZyB9IGZyb20gJy4vcGFydC5qcyc7XG5pbXBvcnQgeyBUZW1wbGF0ZUluc3RhbmNlIH0gZnJvbSAnLi90ZW1wbGF0ZS1pbnN0YW5jZS5qcyc7XG5pbXBvcnQgeyBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gJy4vdGVtcGxhdGUtcmVzdWx0LmpzJztcbmltcG9ydCB7IGNyZWF0ZU1hcmtlciB9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuZXhwb3J0IGNvbnN0IGlzUHJpbWl0aXZlID0gKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuICh2YWx1ZSA9PT0gbnVsbCB8fFxuICAgICAgICAhKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSk7XG59O1xuZXhwb3J0IGNvbnN0IGlzSXRlcmFibGUgPSAodmFsdWUpID0+IHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgfHxcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuICAgICAgICAhISh2YWx1ZSAmJiB2YWx1ZVtTeW1ib2wuaXRlcmF0b3JdKTtcbn07XG4vKipcbiAqIFdyaXRlcyBhdHRyaWJ1dGUgdmFsdWVzIHRvIHRoZSBET00gZm9yIGEgZ3JvdXAgb2YgQXR0cmlidXRlUGFydHMgYm91bmQgdG8gYVxuICogc2luZ2xlIGF0dGlidXRlLiBUaGUgdmFsdWUgaXMgb25seSBzZXQgb25jZSBldmVuIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBwYXJ0c1xuICogZm9yIGFuIGF0dHJpYnV0ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEF0dHJpYnV0ZUNvbW1pdHRlciB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgbmFtZSwgc3RyaW5ncykge1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5zdHJpbmdzID0gc3RyaW5ncztcbiAgICAgICAgdGhpcy5wYXJ0cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmluZ3MubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnBhcnRzW2ldID0gdGhpcy5fY3JlYXRlUGFydCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzaW5nbGUgcGFydC4gT3ZlcnJpZGUgdGhpcyB0byBjcmVhdGUgYSBkaWZmZXJudCB0eXBlIG9mIHBhcnQuXG4gICAgICovXG4gICAgX2NyZWF0ZVBhcnQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXR0cmlidXRlUGFydCh0aGlzKTtcbiAgICB9XG4gICAgX2dldFZhbHVlKCkge1xuICAgICAgICBjb25zdCBzdHJpbmdzID0gdGhpcy5zdHJpbmdzO1xuICAgICAgICBjb25zdCBsID0gc3RyaW5ncy5sZW5ndGggLSAxO1xuICAgICAgICBsZXQgdGV4dCA9ICcnO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdGV4dCArPSBzdHJpbmdzW2ldO1xuICAgICAgICAgICAgY29uc3QgcGFydCA9IHRoaXMucGFydHNbaV07XG4gICAgICAgICAgICBpZiAocGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdiA9IHBhcnQudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGlzUHJpbWl0aXZlKHYpIHx8ICFpc0l0ZXJhYmxlKHYpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQgKz0gdHlwZW9mIHYgPT09ICdzdHJpbmcnID8gdiA6IFN0cmluZyh2KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiB2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9IHR5cGVvZiB0ID09PSAnc3RyaW5nJyA/IHQgOiBTdHJpbmcodCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGV4dCArPSBzdHJpbmdzW2xdO1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG4gICAgY29tbWl0KCkge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSh0aGlzLm5hbWUsIHRoaXMuX2dldFZhbHVlKCkpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBBIFBhcnQgdGhhdCBjb250cm9scyBhbGwgb3IgcGFydCBvZiBhbiBhdHRyaWJ1dGUgdmFsdWUuXG4gKi9cbmV4cG9ydCBjbGFzcyBBdHRyaWJ1dGVQYXJ0IHtcbiAgICBjb25zdHJ1Y3Rvcihjb21taXR0ZXIpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jb21taXR0ZXIgPSBjb21taXR0ZXI7XG4gICAgfVxuICAgIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gbm9DaGFuZ2UgJiYgKCFpc1ByaW1pdGl2ZSh2YWx1ZSkgfHwgdmFsdWUgIT09IHRoaXMudmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAvLyBJZiB0aGUgdmFsdWUgaXMgYSBub3QgYSBkaXJlY3RpdmUsIGRpcnR5IHRoZSBjb21taXR0ZXIgc28gdGhhdCBpdCdsbFxuICAgICAgICAgICAgLy8gY2FsbCBzZXRBdHRyaWJ1dGUuIElmIHRoZSB2YWx1ZSBpcyBhIGRpcmVjdGl2ZSwgaXQnbGwgZGlydHkgdGhlXG4gICAgICAgICAgICAvLyBjb21taXR0ZXIgaWYgaXQgY2FsbHMgc2V0VmFsdWUoKS5cbiAgICAgICAgICAgIGlmICghaXNEaXJlY3RpdmUodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21taXR0ZXIuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbW1pdCgpIHtcbiAgICAgICAgd2hpbGUgKGlzRGlyZWN0aXZlKHRoaXMudmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCBkaXJlY3RpdmUgPSB0aGlzLnZhbHVlO1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IG5vQ2hhbmdlO1xuICAgICAgICAgICAgZGlyZWN0aXZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29tbWl0dGVyLmNvbW1pdCgpO1xuICAgIH1cbn1cbi8qKlxuICogQSBQYXJ0IHRoYXQgY29udHJvbHMgYSBsb2NhdGlvbiB3aXRoaW4gYSBOb2RlIHRyZWUuIExpa2UgYSBSYW5nZSwgTm9kZVBhcnRcbiAqIGhhcyBzdGFydCBhbmQgZW5kIGxvY2F0aW9ucyBhbmQgY2FuIHNldCBhbmQgdXBkYXRlIHRoZSBOb2RlcyBiZXR3ZWVuIHRob3NlXG4gKiBsb2NhdGlvbnMuXG4gKlxuICogTm9kZVBhcnRzIHN1cHBvcnQgc2V2ZXJhbCB2YWx1ZSB0eXBlczogcHJpbWl0aXZlcywgTm9kZXMsIFRlbXBsYXRlUmVzdWx0cyxcbiAqIGFzIHdlbGwgYXMgYXJyYXlzIGFuZCBpdGVyYWJsZXMgb2YgdGhvc2UgdHlwZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBOb2RlUGFydCB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIHRoaXMgcGFydCBpbnRvIGEgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogVGhpcyBwYXJ0IG11c3QgYmUgZW1wdHksIGFzIGl0cyBjb250ZW50cyBhcmUgbm90IGF1dG9tYXRpY2FsbHkgbW92ZWQuXG4gICAgICovXG4gICAgYXBwZW5kSW50byhjb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5zdGFydE5vZGUgPSBjb250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlTWFya2VyKCkpO1xuICAgICAgICB0aGlzLmVuZE5vZGUgPSBjb250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlTWFya2VyKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIHRoaXMgcGFydCBhZnRlciB0aGUgYHJlZmAgbm9kZSAoYmV0d2VlbiBgcmVmYCBhbmQgYHJlZmAncyBuZXh0XG4gICAgICogc2libGluZykuIEJvdGggYHJlZmAgYW5kIGl0cyBuZXh0IHNpYmxpbmcgbXVzdCBiZSBzdGF0aWMsIHVuY2hhbmdpbmcgbm9kZXNcbiAgICAgKiBzdWNoIGFzIHRob3NlIHRoYXQgYXBwZWFyIGluIGEgbGl0ZXJhbCBzZWN0aW9uIG9mIGEgdGVtcGxhdGUuXG4gICAgICpcbiAgICAgKiBUaGlzIHBhcnQgbXVzdCBiZSBlbXB0eSwgYXMgaXRzIGNvbnRlbnRzIGFyZSBub3QgYXV0b21hdGljYWxseSBtb3ZlZC5cbiAgICAgKi9cbiAgICBpbnNlcnRBZnRlck5vZGUocmVmKSB7XG4gICAgICAgIHRoaXMuc3RhcnROb2RlID0gcmVmO1xuICAgICAgICB0aGlzLmVuZE5vZGUgPSByZWYubmV4dFNpYmxpbmc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgdGhpcyBwYXJ0IGludG8gYSBwYXJlbnQgcGFydC5cbiAgICAgKlxuICAgICAqIFRoaXMgcGFydCBtdXN0IGJlIGVtcHR5LCBhcyBpdHMgY29udGVudHMgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IG1vdmVkLlxuICAgICAqL1xuICAgIGFwcGVuZEludG9QYXJ0KHBhcnQpIHtcbiAgICAgICAgcGFydC5fX2luc2VydCh0aGlzLnN0YXJ0Tm9kZSA9IGNyZWF0ZU1hcmtlcigpKTtcbiAgICAgICAgcGFydC5fX2luc2VydCh0aGlzLmVuZE5vZGUgPSBjcmVhdGVNYXJrZXIoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc2VydHMgdGhpcyBwYXJ0IGFmdGVyIHRoZSBgcmVmYCBwYXJ0LlxuICAgICAqXG4gICAgICogVGhpcyBwYXJ0IG11c3QgYmUgZW1wdHksIGFzIGl0cyBjb250ZW50cyBhcmUgbm90IGF1dG9tYXRpY2FsbHkgbW92ZWQuXG4gICAgICovXG4gICAgaW5zZXJ0QWZ0ZXJQYXJ0KHJlZikge1xuICAgICAgICByZWYuX19pbnNlcnQodGhpcy5zdGFydE5vZGUgPSBjcmVhdGVNYXJrZXIoKSk7XG4gICAgICAgIHRoaXMuZW5kTm9kZSA9IHJlZi5lbmROb2RlO1xuICAgICAgICByZWYuZW5kTm9kZSA9IHRoaXMuc3RhcnROb2RlO1xuICAgIH1cbiAgICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIGNvbW1pdCgpIHtcbiAgICAgICAgd2hpbGUgKGlzRGlyZWN0aXZlKHRoaXMuX19wZW5kaW5nVmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCBkaXJlY3RpdmUgPSB0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlO1xuICAgICAgICAgICAgZGlyZWN0aXZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1ByaW1pdGl2ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX19jb21taXRUZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFRlbXBsYXRlUmVzdWx0KSB7XG4gICAgICAgICAgICB0aGlzLl9fY29tbWl0VGVtcGxhdGVSZXN1bHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgTm9kZSkge1xuICAgICAgICAgICAgdGhpcy5fX2NvbW1pdE5vZGUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzSXRlcmFibGUodmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLl9fY29tbWl0SXRlcmFibGUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlID09PSBub3RoaW5nKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gbm90aGluZztcbiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrLCB3aWxsIHJlbmRlciB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAgICAgICAgICB0aGlzLl9fY29tbWl0VGV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX19pbnNlcnQobm9kZSkge1xuICAgICAgICB0aGlzLmVuZE5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgdGhpcy5lbmROb2RlKTtcbiAgICB9XG4gICAgX19jb21taXROb2RlKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fX2luc2VydCh2YWx1ZSk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgX19jb21taXRUZXh0KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLnN0YXJ0Tm9kZS5uZXh0U2libGluZztcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbiAgICAgICAgLy8gSWYgYHZhbHVlYCBpc24ndCBhbHJlYWR5IGEgc3RyaW5nLCB3ZSBleHBsaWNpdGx5IGNvbnZlcnQgaXQgaGVyZSBpbiBjYXNlXG4gICAgICAgIC8vIGl0IGNhbid0IGJlIGltcGxpY2l0bHkgY29udmVydGVkIC0gaS5lLiBpdCdzIGEgc3ltYm9sLlxuICAgICAgICBjb25zdCB2YWx1ZUFzU3RyaW5nID0gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHZhbHVlIDogU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgaWYgKG5vZGUgPT09IHRoaXMuZW5kTm9kZS5wcmV2aW91c1NpYmxpbmcgJiZcbiAgICAgICAgICAgIG5vZGUubm9kZVR5cGUgPT09IDMgLyogTm9kZS5URVhUX05PREUgKi8pIHtcbiAgICAgICAgICAgIC8vIElmIHdlIG9ubHkgaGF2ZSBhIHNpbmdsZSB0ZXh0IG5vZGUgYmV0d2VlbiB0aGUgbWFya2Vycywgd2UgY2FuIGp1c3RcbiAgICAgICAgICAgIC8vIHNldCBpdHMgdmFsdWUsIHJhdGhlciB0aGFuIHJlcGxhY2luZyBpdC5cbiAgICAgICAgICAgIC8vIFRPRE8oanVzdGluZmFnbmFuaSk6IENhbiB3ZSBqdXN0IGNoZWNrIGlmIHRoaXMudmFsdWUgaXMgcHJpbWl0aXZlP1xuICAgICAgICAgICAgbm9kZS5kYXRhID0gdmFsdWVBc1N0cmluZztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX19jb21taXROb2RlKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHZhbHVlQXNTdHJpbmcpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIF9fY29tbWl0VGVtcGxhdGVSZXN1bHQodmFsdWUpIHtcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSB0aGlzLm9wdGlvbnMudGVtcGxhdGVGYWN0b3J5KHZhbHVlKTtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgaW5zdGFuY2VvZiBUZW1wbGF0ZUluc3RhbmNlICYmXG4gICAgICAgICAgICB0aGlzLnZhbHVlLnRlbXBsYXRlID09PSB0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZS51cGRhdGUodmFsdWUudmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBwcm9wYWdhdGUgdGhlIHRlbXBsYXRlIHByb2Nlc3NvciBmcm9tIHRoZSBUZW1wbGF0ZVJlc3VsdFxuICAgICAgICAgICAgLy8gc28gdGhhdCB3ZSB1c2UgaXRzIHN5bnRheCBleHRlbnNpb24sIGV0Yy4gVGhlIHRlbXBsYXRlIGZhY3RvcnkgY29tZXNcbiAgICAgICAgICAgIC8vIGZyb20gdGhlIHJlbmRlciBmdW5jdGlvbiBvcHRpb25zIHNvIHRoYXQgaXQgY2FuIGNvbnRyb2wgdGVtcGxhdGVcbiAgICAgICAgICAgIC8vIGNhY2hpbmcgYW5kIHByZXByb2Nlc3NpbmcuXG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyBUZW1wbGF0ZUluc3RhbmNlKHRlbXBsYXRlLCB2YWx1ZS5wcm9jZXNzb3IsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBmcmFnbWVudCA9IGluc3RhbmNlLl9jbG9uZSgpO1xuICAgICAgICAgICAgaW5zdGFuY2UudXBkYXRlKHZhbHVlLnZhbHVlcyk7XG4gICAgICAgICAgICB0aGlzLl9fY29tbWl0Tm9kZShmcmFnbWVudCk7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gaW5zdGFuY2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX19jb21taXRJdGVyYWJsZSh2YWx1ZSkge1xuICAgICAgICAvLyBGb3IgYW4gSXRlcmFibGUsIHdlIGNyZWF0ZSBhIG5ldyBJbnN0YW5jZVBhcnQgcGVyIGl0ZW0sIHRoZW4gc2V0IGl0c1xuICAgICAgICAvLyB2YWx1ZSB0byB0aGUgaXRlbS4gVGhpcyBpcyBhIGxpdHRsZSBiaXQgb2Ygb3ZlcmhlYWQgZm9yIGV2ZXJ5IGl0ZW0gaW5cbiAgICAgICAgLy8gYW4gSXRlcmFibGUsIGJ1dCBpdCBsZXRzIHVzIHJlY3Vyc2UgZWFzaWx5IGFuZCBlZmZpY2llbnRseSB1cGRhdGUgQXJyYXlzXG4gICAgICAgIC8vIG9mIFRlbXBsYXRlUmVzdWx0cyB0aGF0IHdpbGwgYmUgY29tbW9ubHkgcmV0dXJuZWQgZnJvbSBleHByZXNzaW9ucyBsaWtlOlxuICAgICAgICAvLyBhcnJheS5tYXAoKGkpID0+IGh0bWxgJHtpfWApLCBieSByZXVzaW5nIGV4aXN0aW5nIFRlbXBsYXRlSW5zdGFuY2VzLlxuICAgICAgICAvLyBJZiBfdmFsdWUgaXMgYW4gYXJyYXksIHRoZW4gdGhlIHByZXZpb3VzIHJlbmRlciB3YXMgb2YgYW5cbiAgICAgICAgLy8gaXRlcmFibGUgYW5kIF92YWx1ZSB3aWxsIGNvbnRhaW4gdGhlIE5vZGVQYXJ0cyBmcm9tIHRoZSBwcmV2aW91c1xuICAgICAgICAvLyByZW5kZXIuIElmIF92YWx1ZSBpcyBub3QgYW4gYXJyYXksIGNsZWFyIHRoaXMgcGFydCBhbmQgbWFrZSBhIG5ld1xuICAgICAgICAvLyBhcnJheSBmb3IgTm9kZVBhcnRzLlxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy52YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBMZXRzIHVzIGtlZXAgdHJhY2sgb2YgaG93IG1hbnkgaXRlbXMgd2Ugc3RhbXBlZCBzbyB3ZSBjYW4gY2xlYXIgbGVmdG92ZXJcbiAgICAgICAgLy8gaXRlbXMgZnJvbSBhIHByZXZpb3VzIHJlbmRlclxuICAgICAgICBjb25zdCBpdGVtUGFydHMgPSB0aGlzLnZhbHVlO1xuICAgICAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICAgICAgbGV0IGl0ZW1QYXJ0O1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdmFsdWUpIHtcbiAgICAgICAgICAgIC8vIFRyeSB0byByZXVzZSBhbiBleGlzdGluZyBwYXJ0XG4gICAgICAgICAgICBpdGVtUGFydCA9IGl0ZW1QYXJ0c1twYXJ0SW5kZXhdO1xuICAgICAgICAgICAgLy8gSWYgbm8gZXhpc3RpbmcgcGFydCwgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICAgICAgaWYgKGl0ZW1QYXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpdGVtUGFydCA9IG5ldyBOb2RlUGFydCh0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGl0ZW1QYXJ0cy5wdXNoKGl0ZW1QYXJ0KTtcbiAgICAgICAgICAgICAgICBpZiAocGFydEluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1QYXJ0LmFwcGVuZEludG9QYXJ0KHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbVBhcnQuaW5zZXJ0QWZ0ZXJQYXJ0KGl0ZW1QYXJ0c1twYXJ0SW5kZXggLSAxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXRlbVBhcnQuc2V0VmFsdWUoaXRlbSk7XG4gICAgICAgICAgICBpdGVtUGFydC5jb21taXQoKTtcbiAgICAgICAgICAgIHBhcnRJbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0SW5kZXggPCBpdGVtUGFydHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBUcnVuY2F0ZSB0aGUgcGFydHMgYXJyYXkgc28gX3ZhbHVlIHJlZmxlY3RzIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICAgICAgICBpdGVtUGFydHMubGVuZ3RoID0gcGFydEluZGV4O1xuICAgICAgICAgICAgdGhpcy5jbGVhcihpdGVtUGFydCAmJiBpdGVtUGFydC5lbmROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGVhcihzdGFydE5vZGUgPSB0aGlzLnN0YXJ0Tm9kZSkge1xuICAgICAgICByZW1vdmVOb2Rlcyh0aGlzLnN0YXJ0Tm9kZS5wYXJlbnROb2RlLCBzdGFydE5vZGUubmV4dFNpYmxpbmcsIHRoaXMuZW5kTm9kZSk7XG4gICAgfVxufVxuLyoqXG4gKiBJbXBsZW1lbnRzIGEgYm9vbGVhbiBhdHRyaWJ1dGUsIHJvdWdobHkgYXMgZGVmaW5lZCBpbiB0aGUgSFRNTFxuICogc3BlY2lmaWNhdGlvbi5cbiAqXG4gKiBJZiB0aGUgdmFsdWUgaXMgdHJ1dGh5LCB0aGVuIHRoZSBhdHRyaWJ1dGUgaXMgcHJlc2VudCB3aXRoIGEgdmFsdWUgb2ZcbiAqICcnLiBJZiB0aGUgdmFsdWUgaXMgZmFsc2V5LCB0aGUgYXR0cmlidXRlIGlzIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBCb29sZWFuQXR0cmlidXRlUGFydCB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgbmFtZSwgc3RyaW5ncykge1xuICAgICAgICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoc3RyaW5ncy5sZW5ndGggIT09IDIgfHwgc3RyaW5nc1swXSAhPT0gJycgfHwgc3RyaW5nc1sxXSAhPT0gJycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQm9vbGVhbiBhdHRyaWJ1dGVzIGNhbiBvbmx5IGNvbnRhaW4gYSBzaW5nbGUgZXhwcmVzc2lvbicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuc3RyaW5ncyA9IHN0cmluZ3M7XG4gICAgfVxuICAgIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgY29tbWl0KCkge1xuICAgICAgICB3aGlsZSAoaXNEaXJlY3RpdmUodGhpcy5fX3BlbmRpbmdWYWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2U7XG4gICAgICAgICAgICBkaXJlY3RpdmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX19wZW5kaW5nVmFsdWUgPT09IG5vQ2hhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSAhIXRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSh0aGlzLm5hbWUsICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUodGhpcy5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2U7XG4gICAgfVxufVxuLyoqXG4gKiBTZXRzIGF0dHJpYnV0ZSB2YWx1ZXMgZm9yIFByb3BlcnR5UGFydHMsIHNvIHRoYXQgdGhlIHZhbHVlIGlzIG9ubHkgc2V0IG9uY2VcbiAqIGV2ZW4gaWYgdGhlcmUgYXJlIG11bHRpcGxlIHBhcnRzIGZvciBhIHByb3BlcnR5LlxuICpcbiAqIElmIGFuIGV4cHJlc3Npb24gY29udHJvbHMgdGhlIHdob2xlIHByb3BlcnR5IHZhbHVlLCB0aGVuIHRoZSB2YWx1ZSBpcyBzaW1wbHlcbiAqIGFzc2lnbmVkIHRvIHRoZSBwcm9wZXJ0eSB1bmRlciBjb250cm9sLiBJZiB0aGVyZSBhcmUgc3RyaW5nIGxpdGVyYWxzIG9yXG4gKiBtdWx0aXBsZSBleHByZXNzaW9ucywgdGhlbiB0aGUgc3RyaW5ncyBhcmUgZXhwcmVzc2lvbnMgYXJlIGludGVycG9sYXRlZCBpbnRvXG4gKiBhIHN0cmluZyBmaXJzdC5cbiAqL1xuZXhwb3J0IGNsYXNzIFByb3BlcnR5Q29tbWl0dGVyIGV4dGVuZHMgQXR0cmlidXRlQ29tbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBuYW1lLCBzdHJpbmdzKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MpO1xuICAgICAgICB0aGlzLnNpbmdsZSA9XG4gICAgICAgICAgICAoc3RyaW5ncy5sZW5ndGggPT09IDIgJiYgc3RyaW5nc1swXSA9PT0gJycgJiYgc3RyaW5nc1sxXSA9PT0gJycpO1xuICAgIH1cbiAgICBfY3JlYXRlUGFydCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wZXJ0eVBhcnQodGhpcyk7XG4gICAgfVxuICAgIF9nZXRWYWx1ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2luZ2xlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJ0c1swXS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VwZXIuX2dldFZhbHVlKCk7XG4gICAgfVxuICAgIGNvbW1pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudFt0aGlzLm5hbWVdID0gdGhpcy5fZ2V0VmFsdWUoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eVBhcnQgZXh0ZW5kcyBBdHRyaWJ1dGVQYXJ0IHtcbn1cbi8vIERldGVjdCBldmVudCBsaXN0ZW5lciBvcHRpb25zIHN1cHBvcnQuIElmIHRoZSBgY2FwdHVyZWAgcHJvcGVydHkgaXMgcmVhZFxuLy8gZnJvbSB0aGUgb3B0aW9ucyBvYmplY3QsIHRoZW4gb3B0aW9ucyBhcmUgc3VwcG9ydGVkLiBJZiBub3QsIHRoZW4gdGhlIHRocmlkXG4vLyBhcmd1bWVudCB0byBhZGQvcmVtb3ZlRXZlbnRMaXN0ZW5lciBpcyBpbnRlcnByZXRlZCBhcyB0aGUgYm9vbGVhbiBjYXB0dXJlXG4vLyB2YWx1ZSBzbyB3ZSBzaG91bGQgb25seSBwYXNzIHRoZSBgY2FwdHVyZWAgcHJvcGVydHkuXG5sZXQgZXZlbnRPcHRpb25zU3VwcG9ydGVkID0gZmFsc2U7XG50cnkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIGdldCBjYXB0dXJlKCkge1xuICAgICAgICAgICAgZXZlbnRPcHRpb25zU3VwcG9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0Jywgb3B0aW9ucywgb3B0aW9ucyk7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0ZXN0Jywgb3B0aW9ucywgb3B0aW9ucyk7XG59XG5jYXRjaCAoX2UpIHtcbn1cbmV4cG9ydCBjbGFzcyBFdmVudFBhcnQge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGV2ZW50TmFtZSwgZXZlbnRDb250ZXh0KSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuZXZlbnROYW1lID0gZXZlbnROYW1lO1xuICAgICAgICB0aGlzLmV2ZW50Q29udGV4dCA9IGV2ZW50Q29udGV4dDtcbiAgICAgICAgdGhpcy5fX2JvdW5kSGFuZGxlRXZlbnQgPSAoZSkgPT4gdGhpcy5oYW5kbGVFdmVudChlKTtcbiAgICB9XG4gICAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBjb21taXQoKSB7XG4gICAgICAgIHdoaWxlIChpc0RpcmVjdGl2ZSh0aGlzLl9fcGVuZGluZ1ZhbHVlKSkge1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aXZlID0gdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSBub0NoYW5nZTtcbiAgICAgICAgICAgIGRpcmVjdGl2ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fX3BlbmRpbmdWYWx1ZSA9PT0gbm9DaGFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdMaXN0ZW5lciA9IHRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICAgIGNvbnN0IG9sZExpc3RlbmVyID0gdGhpcy52YWx1ZTtcbiAgICAgICAgY29uc3Qgc2hvdWxkUmVtb3ZlTGlzdGVuZXIgPSBuZXdMaXN0ZW5lciA9PSBudWxsIHx8XG4gICAgICAgICAgICBvbGRMaXN0ZW5lciAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgKG5ld0xpc3RlbmVyLmNhcHR1cmUgIT09IG9sZExpc3RlbmVyLmNhcHR1cmUgfHxcbiAgICAgICAgICAgICAgICAgICAgbmV3TGlzdGVuZXIub25jZSAhPT0gb2xkTGlzdGVuZXIub25jZSB8fFxuICAgICAgICAgICAgICAgICAgICBuZXdMaXN0ZW5lci5wYXNzaXZlICE9PSBvbGRMaXN0ZW5lci5wYXNzaXZlKTtcbiAgICAgICAgY29uc3Qgc2hvdWxkQWRkTGlzdGVuZXIgPSBuZXdMaXN0ZW5lciAhPSBudWxsICYmIChvbGRMaXN0ZW5lciA9PSBudWxsIHx8IHNob3VsZFJlbW92ZUxpc3RlbmVyKTtcbiAgICAgICAgaWYgKHNob3VsZFJlbW92ZUxpc3RlbmVyKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLmV2ZW50TmFtZSwgdGhpcy5fX2JvdW5kSGFuZGxlRXZlbnQsIHRoaXMuX19vcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hvdWxkQWRkTGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX19vcHRpb25zID0gZ2V0T3B0aW9ucyhuZXdMaXN0ZW5lcik7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmV2ZW50TmFtZSwgdGhpcy5fX2JvdW5kSGFuZGxlRXZlbnQsIHRoaXMuX19vcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZhbHVlID0gbmV3TGlzdGVuZXI7XG4gICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSBub0NoYW5nZTtcbiAgICB9XG4gICAgaGFuZGxlRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlLmNhbGwodGhpcy5ldmVudENvbnRleHQgfHwgdGhpcy5lbGVtZW50LCBldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlLmhhbmRsZUV2ZW50KGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIFdlIGNvcHkgb3B0aW9ucyBiZWNhdXNlIG9mIHRoZSBpbmNvbnNpc3RlbnQgYmVoYXZpb3Igb2YgYnJvd3NlcnMgd2hlbiByZWFkaW5nXG4vLyB0aGUgdGhpcmQgYXJndW1lbnQgb2YgYWRkL3JlbW92ZUV2ZW50TGlzdGVuZXIuIElFMTEgZG9lc24ndCBzdXBwb3J0IG9wdGlvbnNcbi8vIGF0IGFsbC4gQ2hyb21lIDQxIG9ubHkgcmVhZHMgYGNhcHR1cmVgIGlmIHRoZSBhcmd1bWVudCBpcyBhbiBvYmplY3QuXG5jb25zdCBnZXRPcHRpb25zID0gKG8pID0+IG8gJiZcbiAgICAoZXZlbnRPcHRpb25zU3VwcG9ydGVkID9cbiAgICAgICAgeyBjYXB0dXJlOiBvLmNhcHR1cmUsIHBhc3NpdmU6IG8ucGFzc2l2ZSwgb25jZTogby5vbmNlIH0gOlxuICAgICAgICBvLmNhcHR1cmUpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFydHMuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuaW1wb3J0IHsgQXR0cmlidXRlQ29tbWl0dGVyLCBCb29sZWFuQXR0cmlidXRlUGFydCwgRXZlbnRQYXJ0LCBOb2RlUGFydCwgUHJvcGVydHlDb21taXR0ZXIgfSBmcm9tICcuL3BhcnRzLmpzJztcbi8qKlxuICogQ3JlYXRlcyBQYXJ0cyB3aGVuIGEgdGVtcGxhdGUgaXMgaW5zdGFudGlhdGVkLlxuICovXG5leHBvcnQgY2xhc3MgRGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgcGFydHMgZm9yIGFuIGF0dHJpYnV0ZS1wb3NpdGlvbiBiaW5kaW5nLCBnaXZlbiB0aGUgZXZlbnQsIGF0dHJpYnV0ZVxuICAgICAqIG5hbWUsIGFuZCBzdHJpbmcgbGl0ZXJhbHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCBjb250YWluaW5nIHRoZSBiaW5kaW5nXG4gICAgICogQHBhcmFtIG5hbWUgIFRoZSBhdHRyaWJ1dGUgbmFtZVxuICAgICAqIEBwYXJhbSBzdHJpbmdzIFRoZSBzdHJpbmcgbGl0ZXJhbHMuIFRoZXJlIGFyZSBhbHdheXMgYXQgbGVhc3QgdHdvIHN0cmluZ3MsXG4gICAgICogICBldmVudCBmb3IgZnVsbHktY29udHJvbGxlZCBiaW5kaW5ncyB3aXRoIGEgc2luZ2xlIGV4cHJlc3Npb24uXG4gICAgICovXG4gICAgaGFuZGxlQXR0cmlidXRlRXhwcmVzc2lvbnMoZWxlbWVudCwgbmFtZSwgc3RyaW5ncywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBwcmVmaXggPSBuYW1lWzBdO1xuICAgICAgICBpZiAocHJlZml4ID09PSAnLicpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbW1pdHRlciA9IG5ldyBQcm9wZXJ0eUNvbW1pdHRlcihlbGVtZW50LCBuYW1lLnNsaWNlKDEpLCBzdHJpbmdzKTtcbiAgICAgICAgICAgIHJldHVybiBjb21taXR0ZXIucGFydHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZWZpeCA9PT0gJ0AnKSB7XG4gICAgICAgICAgICByZXR1cm4gW25ldyBFdmVudFBhcnQoZWxlbWVudCwgbmFtZS5zbGljZSgxKSwgb3B0aW9ucy5ldmVudENvbnRleHQpXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJlZml4ID09PSAnPycpIHtcbiAgICAgICAgICAgIHJldHVybiBbbmV3IEJvb2xlYW5BdHRyaWJ1dGVQYXJ0KGVsZW1lbnQsIG5hbWUuc2xpY2UoMSksIHN0cmluZ3MpXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb21taXR0ZXIgPSBuZXcgQXR0cmlidXRlQ29tbWl0dGVyKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MpO1xuICAgICAgICByZXR1cm4gY29tbWl0dGVyLnBhcnRzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgcGFydHMgZm9yIGEgdGV4dC1wb3NpdGlvbiBiaW5kaW5nLlxuICAgICAqIEBwYXJhbSB0ZW1wbGF0ZUZhY3RvcnlcbiAgICAgKi9cbiAgICBoYW5kbGVUZXh0RXhwcmVzc2lvbihvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgTm9kZVBhcnQob3B0aW9ucyk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciA9IG5ldyBEZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHQtdGVtcGxhdGUtcHJvY2Vzc29yLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbmltcG9ydCB7IG1hcmtlciwgVGVtcGxhdGUgfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcbi8qKlxuICogVGhlIGRlZmF1bHQgVGVtcGxhdGVGYWN0b3J5IHdoaWNoIGNhY2hlcyBUZW1wbGF0ZXMga2V5ZWQgb25cbiAqIHJlc3VsdC50eXBlIGFuZCByZXN1bHQuc3RyaW5ncy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRlRmFjdG9yeShyZXN1bHQpIHtcbiAgICBsZXQgdGVtcGxhdGVDYWNoZSA9IHRlbXBsYXRlQ2FjaGVzLmdldChyZXN1bHQudHlwZSk7XG4gICAgaWYgKHRlbXBsYXRlQ2FjaGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0ZW1wbGF0ZUNhY2hlID0ge1xuICAgICAgICAgICAgc3RyaW5nc0FycmF5OiBuZXcgV2Vha01hcCgpLFxuICAgICAgICAgICAga2V5U3RyaW5nOiBuZXcgTWFwKClcbiAgICAgICAgfTtcbiAgICAgICAgdGVtcGxhdGVDYWNoZXMuc2V0KHJlc3VsdC50eXBlLCB0ZW1wbGF0ZUNhY2hlKTtcbiAgICB9XG4gICAgbGV0IHRlbXBsYXRlID0gdGVtcGxhdGVDYWNoZS5zdHJpbmdzQXJyYXkuZ2V0KHJlc3VsdC5zdHJpbmdzKTtcbiAgICBpZiAodGVtcGxhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgfVxuICAgIC8vIElmIHRoZSBUZW1wbGF0ZVN0cmluZ3NBcnJheSBpcyBuZXcsIGdlbmVyYXRlIGEga2V5IGZyb20gdGhlIHN0cmluZ3NcbiAgICAvLyBUaGlzIGtleSBpcyBzaGFyZWQgYmV0d2VlbiBhbGwgdGVtcGxhdGVzIHdpdGggaWRlbnRpY2FsIGNvbnRlbnRcbiAgICBjb25zdCBrZXkgPSByZXN1bHQuc3RyaW5ncy5qb2luKG1hcmtlcik7XG4gICAgLy8gQ2hlY2sgaWYgd2UgYWxyZWFkeSBoYXZlIGEgVGVtcGxhdGUgZm9yIHRoaXMga2V5XG4gICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZUNhY2hlLmtleVN0cmluZy5nZXQoa2V5KTtcbiAgICBpZiAodGVtcGxhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIG5vdCBzZWVuIHRoaXMga2V5IGJlZm9yZSwgY3JlYXRlIGEgbmV3IFRlbXBsYXRlXG4gICAgICAgIHRlbXBsYXRlID0gbmV3IFRlbXBsYXRlKHJlc3VsdCwgcmVzdWx0LmdldFRlbXBsYXRlRWxlbWVudCgpKTtcbiAgICAgICAgLy8gQ2FjaGUgdGhlIFRlbXBsYXRlIGZvciB0aGlzIGtleVxuICAgICAgICB0ZW1wbGF0ZUNhY2hlLmtleVN0cmluZy5zZXQoa2V5LCB0ZW1wbGF0ZSk7XG4gICAgfVxuICAgIC8vIENhY2hlIGFsbCBmdXR1cmUgcXVlcmllcyBmb3IgdGhpcyBUZW1wbGF0ZVN0cmluZ3NBcnJheVxuICAgIHRlbXBsYXRlQ2FjaGUuc3RyaW5nc0FycmF5LnNldChyZXN1bHQuc3RyaW5ncywgdGVtcGxhdGUpO1xuICAgIHJldHVybiB0ZW1wbGF0ZTtcbn1cbmV4cG9ydCBjb25zdCB0ZW1wbGF0ZUNhY2hlcyA9IG5ldyBNYXAoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlbXBsYXRlLWZhY3RvcnkuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cbmltcG9ydCB7IHJlbW92ZU5vZGVzIH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgTm9kZVBhcnQgfSBmcm9tICcuL3BhcnRzLmpzJztcbmltcG9ydCB7IHRlbXBsYXRlRmFjdG9yeSB9IGZyb20gJy4vdGVtcGxhdGUtZmFjdG9yeS5qcyc7XG5leHBvcnQgY29uc3QgcGFydHMgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKiBSZW5kZXJzIGEgdGVtcGxhdGUgcmVzdWx0IG9yIG90aGVyIHZhbHVlIHRvIGEgY29udGFpbmVyLlxuICpcbiAqIFRvIHVwZGF0ZSBhIGNvbnRhaW5lciB3aXRoIG5ldyB2YWx1ZXMsIHJlZXZhbHVhdGUgdGhlIHRlbXBsYXRlIGxpdGVyYWwgYW5kXG4gKiBjYWxsIGByZW5kZXJgIHdpdGggdGhlIG5ldyByZXN1bHQuXG4gKlxuICogQHBhcmFtIHJlc3VsdCBBbnkgdmFsdWUgcmVuZGVyYWJsZSBieSBOb2RlUGFydCAtIHR5cGljYWxseSBhIFRlbXBsYXRlUmVzdWx0XG4gKiAgICAgY3JlYXRlZCBieSBldmFsdWF0aW5nIGEgdGVtcGxhdGUgdGFnIGxpa2UgYGh0bWxgIG9yIGBzdmdgLlxuICogQHBhcmFtIGNvbnRhaW5lciBBIERPTSBwYXJlbnQgdG8gcmVuZGVyIHRvLiBUaGUgZW50aXJlIGNvbnRlbnRzIGFyZSBlaXRoZXJcbiAqICAgICByZXBsYWNlZCwgb3IgZWZmaWNpZW50bHkgdXBkYXRlZCBpZiB0aGUgc2FtZSByZXN1bHQgdHlwZSB3YXMgcHJldmlvdXNcbiAqICAgICByZW5kZXJlZCB0aGVyZS5cbiAqIEBwYXJhbSBvcHRpb25zIFJlbmRlck9wdGlvbnMgZm9yIHRoZSBlbnRpcmUgcmVuZGVyIHRyZWUgcmVuZGVyZWQgdG8gdGhpc1xuICogICAgIGNvbnRhaW5lci4gUmVuZGVyIG9wdGlvbnMgbXVzdCAqbm90KiBjaGFuZ2UgYmV0d2VlbiByZW5kZXJzIHRvIHRoZSBzYW1lXG4gKiAgICAgY29udGFpbmVyLCBhcyB0aG9zZSBjaGFuZ2VzIHdpbGwgbm90IGVmZmVjdCBwcmV2aW91c2x5IHJlbmRlcmVkIERPTS5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlbmRlciA9IChyZXN1bHQsIGNvbnRhaW5lciwgb3B0aW9ucykgPT4ge1xuICAgIGxldCBwYXJ0ID0gcGFydHMuZ2V0KGNvbnRhaW5lcik7XG4gICAgaWYgKHBhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZW1vdmVOb2Rlcyhjb250YWluZXIsIGNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgICAgcGFydHMuc2V0KGNvbnRhaW5lciwgcGFydCA9IG5ldyBOb2RlUGFydChPYmplY3QuYXNzaWduKHsgdGVtcGxhdGVGYWN0b3J5IH0sIG9wdGlvbnMpKSk7XG4gICAgICAgIHBhcnQuYXBwZW5kSW50byhjb250YWluZXIpO1xuICAgIH1cbiAgICBwYXJ0LnNldFZhbHVlKHJlc3VsdCk7XG4gICAgcGFydC5jb21taXQoKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZW5kZXIuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKlxuICogTWFpbiBsaXQtaHRtbCBtb2R1bGUuXG4gKlxuICogTWFpbiBleHBvcnRzOlxuICpcbiAqIC0gIFtbaHRtbF1dXG4gKiAtICBbW3N2Z11dXG4gKiAtICBbW3JlbmRlcl1dXG4gKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICogQHByZWZlcnJlZFxuICovXG4vKipcbiAqIERvIG5vdCByZW1vdmUgdGhpcyBjb21tZW50OyBpdCBrZWVwcyB0eXBlZG9jIGZyb20gbWlzcGxhY2luZyB0aGUgbW9kdWxlXG4gKiBkb2NzLlxuICovXG5pbXBvcnQgeyBkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IgfSBmcm9tICcuL2xpYi9kZWZhdWx0LXRlbXBsYXRlLXByb2Nlc3Nvci5qcyc7XG5pbXBvcnQgeyBTVkdUZW1wbGF0ZVJlc3VsdCwgVGVtcGxhdGVSZXN1bHQgfSBmcm9tICcuL2xpYi90ZW1wbGF0ZS1yZXN1bHQuanMnO1xuZXhwb3J0IHsgRGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yLCBkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IgfSBmcm9tICcuL2xpYi9kZWZhdWx0LXRlbXBsYXRlLXByb2Nlc3Nvci5qcyc7XG5leHBvcnQgeyBkaXJlY3RpdmUsIGlzRGlyZWN0aXZlIH0gZnJvbSAnLi9saWIvZGlyZWN0aXZlLmpzJztcbi8vIFRPRE8oanVzdGluZmFnbmFuaSk6IHJlbW92ZSBsaW5lIHdoZW4gd2UgZ2V0IE5vZGVQYXJ0IG1vdmluZyBtZXRob2RzXG5leHBvcnQgeyByZW1vdmVOb2RlcywgcmVwYXJlbnROb2RlcyB9IGZyb20gJy4vbGliL2RvbS5qcyc7XG5leHBvcnQgeyBub0NoYW5nZSwgbm90aGluZyB9IGZyb20gJy4vbGliL3BhcnQuanMnO1xuZXhwb3J0IHsgQXR0cmlidXRlQ29tbWl0dGVyLCBBdHRyaWJ1dGVQYXJ0LCBCb29sZWFuQXR0cmlidXRlUGFydCwgRXZlbnRQYXJ0LCBpc0l0ZXJhYmxlLCBpc1ByaW1pdGl2ZSwgTm9kZVBhcnQsIFByb3BlcnR5Q29tbWl0dGVyLCBQcm9wZXJ0eVBhcnQgfSBmcm9tICcuL2xpYi9wYXJ0cy5qcyc7XG5leHBvcnQgeyBwYXJ0cywgcmVuZGVyIH0gZnJvbSAnLi9saWIvcmVuZGVyLmpzJztcbmV4cG9ydCB7IHRlbXBsYXRlQ2FjaGVzLCB0ZW1wbGF0ZUZhY3RvcnkgfSBmcm9tICcuL2xpYi90ZW1wbGF0ZS1mYWN0b3J5LmpzJztcbmV4cG9ydCB7IFRlbXBsYXRlSW5zdGFuY2UgfSBmcm9tICcuL2xpYi90ZW1wbGF0ZS1pbnN0YW5jZS5qcyc7XG5leHBvcnQgeyBTVkdUZW1wbGF0ZVJlc3VsdCwgVGVtcGxhdGVSZXN1bHQgfSBmcm9tICcuL2xpYi90ZW1wbGF0ZS1yZXN1bHQuanMnO1xuZXhwb3J0IHsgY3JlYXRlTWFya2VyLCBpc1RlbXBsYXRlUGFydEFjdGl2ZSwgVGVtcGxhdGUgfSBmcm9tICcuL2xpYi90ZW1wbGF0ZS5qcyc7XG4vLyBJTVBPUlRBTlQ6IGRvIG5vdCBjaGFuZ2UgdGhlIHByb3BlcnR5IG5hbWUgb3IgdGhlIGFzc2lnbm1lbnQgZXhwcmVzc2lvbi5cbi8vIFRoaXMgbGluZSB3aWxsIGJlIHVzZWQgaW4gcmVnZXhlcyB0byBzZWFyY2ggZm9yIGxpdC1odG1sIHVzYWdlLlxuLy8gVE9ETyhqdXN0aW5mYWduYW5pKTogaW5qZWN0IHZlcnNpb24gbnVtYmVyIGF0IGJ1aWxkIHRpbWVcbih3aW5kb3dbJ2xpdEh0bWxWZXJzaW9ucyddIHx8ICh3aW5kb3dbJ2xpdEh0bWxWZXJzaW9ucyddID0gW10pKS5wdXNoKCcxLjEuMicpO1xuLyoqXG4gKiBJbnRlcnByZXRzIGEgdGVtcGxhdGUgbGl0ZXJhbCBhcyBhbiBIVE1MIHRlbXBsYXRlIHRoYXQgY2FuIGVmZmljaWVudGx5XG4gKiByZW5kZXIgdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqL1xuZXhwb3J0IGNvbnN0IGh0bWwgPSAoc3RyaW5ncywgLi4udmFsdWVzKSA9PiBuZXcgVGVtcGxhdGVSZXN1bHQoc3RyaW5ncywgdmFsdWVzLCAnaHRtbCcsIGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3Nvcik7XG4vKipcbiAqIEludGVycHJldHMgYSB0ZW1wbGF0ZSBsaXRlcmFsIGFzIGFuIFNWRyB0ZW1wbGF0ZSB0aGF0IGNhbiBlZmZpY2llbnRseVxuICogcmVuZGVyIHRvIGFuZCB1cGRhdGUgYSBjb250YWluZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBzdmcgPSAoc3RyaW5ncywgLi4udmFsdWVzKSA9PiBuZXcgU1ZHVGVtcGxhdGVSZXN1bHQoc3RyaW5ncywgdmFsdWVzLCAnc3ZnJywgZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpdC1odG1sLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogQG1vZHVsZSBzaGFkeS1yZW5kZXJcbiAqL1xuaW1wb3J0IHsgaXNUZW1wbGF0ZVBhcnRBY3RpdmUgfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcbmNvbnN0IHdhbGtlck5vZGVGaWx0ZXIgPSAxMzMgLyogTm9kZUZpbHRlci5TSE9XX3tFTEVNRU5UfENPTU1FTlR8VEVYVH0gKi87XG4vKipcbiAqIFJlbW92ZXMgdGhlIGxpc3Qgb2Ygbm9kZXMgZnJvbSBhIFRlbXBsYXRlIHNhZmVseS4gSW4gYWRkaXRpb24gdG8gcmVtb3ZpbmdcbiAqIG5vZGVzIGZyb20gdGhlIFRlbXBsYXRlLCB0aGUgVGVtcGxhdGUgcGFydCBpbmRpY2VzIGFyZSB1cGRhdGVkIHRvIG1hdGNoXG4gKiB0aGUgbXV0YXRlZCBUZW1wbGF0ZSBET00uXG4gKlxuICogQXMgdGhlIHRlbXBsYXRlIGlzIHdhbGtlZCB0aGUgcmVtb3ZhbCBzdGF0ZSBpcyB0cmFja2VkIGFuZFxuICogcGFydCBpbmRpY2VzIGFyZSBhZGp1c3RlZCBhcyBuZWVkZWQuXG4gKlxuICogZGl2XG4gKiAgIGRpdiMxIChyZW1vdmUpIDwtLSBzdGFydCByZW1vdmluZyAocmVtb3Zpbmcgbm9kZSBpcyBkaXYjMSlcbiAqICAgICBkaXZcbiAqICAgICAgIGRpdiMyIChyZW1vdmUpICA8LS0gY29udGludWUgcmVtb3ZpbmcgKHJlbW92aW5nIG5vZGUgaXMgc3RpbGwgZGl2IzEpXG4gKiAgICAgICAgIGRpdlxuICogZGl2IDwtLSBzdG9wIHJlbW92aW5nIHNpbmNlIHByZXZpb3VzIHNpYmxpbmcgaXMgdGhlIHJlbW92aW5nIG5vZGUgKGRpdiMxLFxuICogcmVtb3ZlZCA0IG5vZGVzKVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTm9kZXNGcm9tVGVtcGxhdGUodGVtcGxhdGUsIG5vZGVzVG9SZW1vdmUpIHtcbiAgICBjb25zdCB7IGVsZW1lbnQ6IHsgY29udGVudCB9LCBwYXJ0cyB9ID0gdGVtcGxhdGU7XG4gICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihjb250ZW50LCB3YWxrZXJOb2RlRmlsdGVyLCBudWxsLCBmYWxzZSk7XG4gICAgbGV0IHBhcnRJbmRleCA9IG5leHRBY3RpdmVJbmRleEluVGVtcGxhdGVQYXJ0cyhwYXJ0cyk7XG4gICAgbGV0IHBhcnQgPSBwYXJ0c1twYXJ0SW5kZXhdO1xuICAgIGxldCBub2RlSW5kZXggPSAtMTtcbiAgICBsZXQgcmVtb3ZlQ291bnQgPSAwO1xuICAgIGNvbnN0IG5vZGVzVG9SZW1vdmVJblRlbXBsYXRlID0gW107XG4gICAgbGV0IGN1cnJlbnRSZW1vdmluZ05vZGUgPSBudWxsO1xuICAgIHdoaWxlICh3YWxrZXIubmV4dE5vZGUoKSkge1xuICAgICAgICBub2RlSW5kZXgrKztcbiAgICAgICAgY29uc3Qgbm9kZSA9IHdhbGtlci5jdXJyZW50Tm9kZTtcbiAgICAgICAgLy8gRW5kIHJlbW92YWwgaWYgc3RlcHBlZCBwYXN0IHRoZSByZW1vdmluZyBub2RlXG4gICAgICAgIGlmIChub2RlLnByZXZpb3VzU2libGluZyA9PT0gY3VycmVudFJlbW92aW5nTm9kZSkge1xuICAgICAgICAgICAgY3VycmVudFJlbW92aW5nTm9kZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQSBub2RlIHRvIHJlbW92ZSB3YXMgZm91bmQgaW4gdGhlIHRlbXBsYXRlXG4gICAgICAgIGlmIChub2Rlc1RvUmVtb3ZlLmhhcyhub2RlKSkge1xuICAgICAgICAgICAgbm9kZXNUb1JlbW92ZUluVGVtcGxhdGUucHVzaChub2RlKTtcbiAgICAgICAgICAgIC8vIFRyYWNrIG5vZGUgd2UncmUgcmVtb3ZpbmdcbiAgICAgICAgICAgIGlmIChjdXJyZW50UmVtb3ZpbmdOb2RlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFJlbW92aW5nTm9kZSA9IG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2hlbiByZW1vdmluZywgaW5jcmVtZW50IGNvdW50IGJ5IHdoaWNoIHRvIGFkanVzdCBzdWJzZXF1ZW50IHBhcnQgaW5kaWNlc1xuICAgICAgICBpZiAoY3VycmVudFJlbW92aW5nTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmVtb3ZlQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAocGFydCAhPT0gdW5kZWZpbmVkICYmIHBhcnQuaW5kZXggPT09IG5vZGVJbmRleCkge1xuICAgICAgICAgICAgLy8gSWYgcGFydCBpcyBpbiBhIHJlbW92ZWQgbm9kZSBkZWFjdGl2YXRlIGl0IGJ5IHNldHRpbmcgaW5kZXggdG8gLTEgb3JcbiAgICAgICAgICAgIC8vIGFkanVzdCB0aGUgaW5kZXggYXMgbmVlZGVkLlxuICAgICAgICAgICAgcGFydC5pbmRleCA9IGN1cnJlbnRSZW1vdmluZ05vZGUgIT09IG51bGwgPyAtMSA6IHBhcnQuaW5kZXggLSByZW1vdmVDb3VudDtcbiAgICAgICAgICAgIC8vIGdvIHRvIHRoZSBuZXh0IGFjdGl2ZSBwYXJ0LlxuICAgICAgICAgICAgcGFydEluZGV4ID0gbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzKHBhcnRzLCBwYXJ0SW5kZXgpO1xuICAgICAgICAgICAgcGFydCA9IHBhcnRzW3BhcnRJbmRleF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgbm9kZXNUb1JlbW92ZUluVGVtcGxhdGUuZm9yRWFjaCgobikgPT4gbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pKTtcbn1cbmNvbnN0IGNvdW50Tm9kZXMgPSAobm9kZSkgPT4ge1xuICAgIGxldCBjb3VudCA9IChub2RlLm5vZGVUeXBlID09PSAxMSAvKiBOb2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUgKi8pID8gMCA6IDE7XG4gICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihub2RlLCB3YWxrZXJOb2RlRmlsdGVyLCBudWxsLCBmYWxzZSk7XG4gICAgd2hpbGUgKHdhbGtlci5uZXh0Tm9kZSgpKSB7XG4gICAgICAgIGNvdW50Kys7XG4gICAgfVxuICAgIHJldHVybiBjb3VudDtcbn07XG5jb25zdCBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMgPSAocGFydHMsIHN0YXJ0SW5kZXggPSAtMSkgPT4ge1xuICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4ICsgMTsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBhcnQgPSBwYXJ0c1tpXTtcbiAgICAgICAgaWYgKGlzVGVtcGxhdGVQYXJ0QWN0aXZlKHBhcnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59O1xuLyoqXG4gKiBJbnNlcnRzIHRoZSBnaXZlbiBub2RlIGludG8gdGhlIFRlbXBsYXRlLCBvcHRpb25hbGx5IGJlZm9yZSB0aGUgZ2l2ZW5cbiAqIHJlZk5vZGUuIEluIGFkZGl0aW9uIHRvIGluc2VydGluZyB0aGUgbm9kZSBpbnRvIHRoZSBUZW1wbGF0ZSwgdGhlIFRlbXBsYXRlXG4gKiBwYXJ0IGluZGljZXMgYXJlIHVwZGF0ZWQgdG8gbWF0Y2ggdGhlIG11dGF0ZWQgVGVtcGxhdGUgRE9NLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0Tm9kZUludG9UZW1wbGF0ZSh0ZW1wbGF0ZSwgbm9kZSwgcmVmTm9kZSA9IG51bGwpIHtcbiAgICBjb25zdCB7IGVsZW1lbnQ6IHsgY29udGVudCB9LCBwYXJ0cyB9ID0gdGVtcGxhdGU7XG4gICAgLy8gSWYgdGhlcmUncyBubyByZWZOb2RlLCB0aGVuIHB1dCBub2RlIGF0IGVuZCBvZiB0ZW1wbGF0ZS5cbiAgICAvLyBObyBwYXJ0IGluZGljZXMgbmVlZCB0byBiZSBzaGlmdGVkIGluIHRoaXMgY2FzZS5cbiAgICBpZiAocmVmTm9kZSA9PT0gbnVsbCB8fCByZWZOb2RlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGNvbnRlbnQsIHdhbGtlck5vZGVGaWx0ZXIsIG51bGwsIGZhbHNlKTtcbiAgICBsZXQgcGFydEluZGV4ID0gbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzKHBhcnRzKTtcbiAgICBsZXQgaW5zZXJ0Q291bnQgPSAwO1xuICAgIGxldCB3YWxrZXJJbmRleCA9IC0xO1xuICAgIHdoaWxlICh3YWxrZXIubmV4dE5vZGUoKSkge1xuICAgICAgICB3YWxrZXJJbmRleCsrO1xuICAgICAgICBjb25zdCB3YWxrZXJOb2RlID0gd2Fsa2VyLmN1cnJlbnROb2RlO1xuICAgICAgICBpZiAod2Fsa2VyTm9kZSA9PT0gcmVmTm9kZSkge1xuICAgICAgICAgICAgaW5zZXJ0Q291bnQgPSBjb3VudE5vZGVzKG5vZGUpO1xuICAgICAgICAgICAgcmVmTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCByZWZOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAocGFydEluZGV4ICE9PSAtMSAmJiBwYXJ0c1twYXJ0SW5kZXhdLmluZGV4ID09PSB3YWxrZXJJbmRleCkge1xuICAgICAgICAgICAgLy8gSWYgd2UndmUgaW5zZXJ0ZWQgdGhlIG5vZGUsIHNpbXBseSBhZGp1c3QgYWxsIHN1YnNlcXVlbnQgcGFydHNcbiAgICAgICAgICAgIGlmIChpbnNlcnRDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAocGFydEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0c1twYXJ0SW5kZXhdLmluZGV4ICs9IGluc2VydENvdW50O1xuICAgICAgICAgICAgICAgICAgICBwYXJ0SW5kZXggPSBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMocGFydHMsIHBhcnRJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnRJbmRleCA9IG5leHRBY3RpdmVJbmRleEluVGVtcGxhdGVQYXJ0cyhwYXJ0cywgcGFydEluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vZGlmeS10ZW1wbGF0ZS5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqIE1vZHVsZSB0byBhZGQgc2hhZHkgRE9NL3NoYWR5IENTUyBwb2x5ZmlsbCBzdXBwb3J0IHRvIGxpdC1odG1sIHRlbXBsYXRlXG4gKiByZW5kZXJpbmcuIFNlZSB0aGUgW1tyZW5kZXJdXSBtZXRob2QgZm9yIGRldGFpbHMuXG4gKlxuICogQG1vZHVsZSBzaGFkeS1yZW5kZXJcbiAqIEBwcmVmZXJyZWRcbiAqL1xuLyoqXG4gKiBEbyBub3QgcmVtb3ZlIHRoaXMgY29tbWVudDsgaXQga2VlcHMgdHlwZWRvYyBmcm9tIG1pc3BsYWNpbmcgdGhlIG1vZHVsZVxuICogZG9jcy5cbiAqL1xuaW1wb3J0IHsgcmVtb3ZlTm9kZXMgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBpbnNlcnROb2RlSW50b1RlbXBsYXRlLCByZW1vdmVOb2Rlc0Zyb21UZW1wbGF0ZSB9IGZyb20gJy4vbW9kaWZ5LXRlbXBsYXRlLmpzJztcbmltcG9ydCB7IHBhcnRzLCByZW5kZXIgYXMgbGl0UmVuZGVyIH0gZnJvbSAnLi9yZW5kZXIuanMnO1xuaW1wb3J0IHsgdGVtcGxhdGVDYWNoZXMgfSBmcm9tICcuL3RlbXBsYXRlLWZhY3RvcnkuanMnO1xuaW1wb3J0IHsgVGVtcGxhdGVJbnN0YW5jZSB9IGZyb20gJy4vdGVtcGxhdGUtaW5zdGFuY2UuanMnO1xuaW1wb3J0IHsgbWFya2VyLCBUZW1wbGF0ZSB9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuZXhwb3J0IHsgaHRtbCwgc3ZnLCBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gJy4uL2xpdC1odG1sLmpzJztcbi8vIEdldCBhIGtleSB0byBsb29rdXAgaW4gYHRlbXBsYXRlQ2FjaGVzYC5cbmNvbnN0IGdldFRlbXBsYXRlQ2FjaGVLZXkgPSAodHlwZSwgc2NvcGVOYW1lKSA9PiBgJHt0eXBlfS0tJHtzY29wZU5hbWV9YDtcbmxldCBjb21wYXRpYmxlU2hhZHlDU1NWZXJzaW9uID0gdHJ1ZTtcbmlmICh0eXBlb2Ygd2luZG93LlNoYWR5Q1NTID09PSAndW5kZWZpbmVkJykge1xuICAgIGNvbXBhdGlibGVTaGFkeUNTU1ZlcnNpb24gPSBmYWxzZTtcbn1cbmVsc2UgaWYgKHR5cGVvZiB3aW5kb3cuU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlRG9tID09PSAndW5kZWZpbmVkJykge1xuICAgIGNvbnNvbGUud2FybihgSW5jb21wYXRpYmxlIFNoYWR5Q1NTIHZlcnNpb24gZGV0ZWN0ZWQuIGAgK1xuICAgICAgICBgUGxlYXNlIHVwZGF0ZSB0byBhdCBsZWFzdCBAd2ViY29tcG9uZW50cy93ZWJjb21wb25lbnRzanNAMi4wLjIgYW5kIGAgK1xuICAgICAgICBgQHdlYmNvbXBvbmVudHMvc2hhZHljc3NAMS4zLjEuYCk7XG4gICAgY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbiA9IGZhbHNlO1xufVxuLyoqXG4gKiBUZW1wbGF0ZSBmYWN0b3J5IHdoaWNoIHNjb3BlcyB0ZW1wbGF0ZSBET00gdXNpbmcgU2hhZHlDU1MuXG4gKiBAcGFyYW0gc2NvcGVOYW1lIHtzdHJpbmd9XG4gKi9cbmNvbnN0IHNoYWR5VGVtcGxhdGVGYWN0b3J5ID0gKHNjb3BlTmFtZSkgPT4gKHJlc3VsdCkgPT4ge1xuICAgIGNvbnN0IGNhY2hlS2V5ID0gZ2V0VGVtcGxhdGVDYWNoZUtleShyZXN1bHQudHlwZSwgc2NvcGVOYW1lKTtcbiAgICBsZXQgdGVtcGxhdGVDYWNoZSA9IHRlbXBsYXRlQ2FjaGVzLmdldChjYWNoZUtleSk7XG4gICAgaWYgKHRlbXBsYXRlQ2FjaGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0ZW1wbGF0ZUNhY2hlID0ge1xuICAgICAgICAgICAgc3RyaW5nc0FycmF5OiBuZXcgV2Vha01hcCgpLFxuICAgICAgICAgICAga2V5U3RyaW5nOiBuZXcgTWFwKClcbiAgICAgICAgfTtcbiAgICAgICAgdGVtcGxhdGVDYWNoZXMuc2V0KGNhY2hlS2V5LCB0ZW1wbGF0ZUNhY2hlKTtcbiAgICB9XG4gICAgbGV0IHRlbXBsYXRlID0gdGVtcGxhdGVDYWNoZS5zdHJpbmdzQXJyYXkuZ2V0KHJlc3VsdC5zdHJpbmdzKTtcbiAgICBpZiAodGVtcGxhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgfVxuICAgIGNvbnN0IGtleSA9IHJlc3VsdC5zdHJpbmdzLmpvaW4obWFya2VyKTtcbiAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUua2V5U3RyaW5nLmdldChrZXkpO1xuICAgIGlmICh0ZW1wbGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSByZXN1bHQuZ2V0VGVtcGxhdGVFbGVtZW50KCk7XG4gICAgICAgIGlmIChjb21wYXRpYmxlU2hhZHlDU1NWZXJzaW9uKSB7XG4gICAgICAgICAgICB3aW5kb3cuU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlRG9tKGVsZW1lbnQsIHNjb3BlTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGVtcGxhdGUgPSBuZXcgVGVtcGxhdGUocmVzdWx0LCBlbGVtZW50KTtcbiAgICAgICAgdGVtcGxhdGVDYWNoZS5rZXlTdHJpbmcuc2V0KGtleSwgdGVtcGxhdGUpO1xuICAgIH1cbiAgICB0ZW1wbGF0ZUNhY2hlLnN0cmluZ3NBcnJheS5zZXQocmVzdWx0LnN0cmluZ3MsIHRlbXBsYXRlKTtcbiAgICByZXR1cm4gdGVtcGxhdGU7XG59O1xuY29uc3QgVEVNUExBVEVfVFlQRVMgPSBbJ2h0bWwnLCAnc3ZnJ107XG4vKipcbiAqIFJlbW92ZXMgYWxsIHN0eWxlIGVsZW1lbnRzIGZyb20gVGVtcGxhdGVzIGZvciB0aGUgZ2l2ZW4gc2NvcGVOYW1lLlxuICovXG5jb25zdCByZW1vdmVTdHlsZXNGcm9tTGl0VGVtcGxhdGVzID0gKHNjb3BlTmFtZSkgPT4ge1xuICAgIFRFTVBMQVRFX1RZUEVTLmZvckVhY2goKHR5cGUpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcGxhdGVzID0gdGVtcGxhdGVDYWNoZXMuZ2V0KGdldFRlbXBsYXRlQ2FjaGVLZXkodHlwZSwgc2NvcGVOYW1lKSk7XG4gICAgICAgIGlmICh0ZW1wbGF0ZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGVtcGxhdGVzLmtleVN0cmluZy5mb3JFYWNoKCh0ZW1wbGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZWxlbWVudDogeyBjb250ZW50IH0gfSA9IHRlbXBsYXRlO1xuICAgICAgICAgICAgICAgIC8vIElFIDExIGRvZXNuJ3Qgc3VwcG9ydCB0aGUgaXRlcmFibGUgcGFyYW0gU2V0IGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGVzID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgICAgIEFycmF5LmZyb20oY29udGVudC5xdWVyeVNlbGVjdG9yQWxsKCdzdHlsZScpKS5mb3JFYWNoKChzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlcy5hZGQocyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlTm9kZXNGcm9tVGVtcGxhdGUodGVtcGxhdGUsIHN0eWxlcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcbmNvbnN0IHNoYWR5UmVuZGVyU2V0ID0gbmV3IFNldCgpO1xuLyoqXG4gKiBGb3IgdGhlIGdpdmVuIHNjb3BlIG5hbWUsIGVuc3VyZXMgdGhhdCBTaGFkeUNTUyBzdHlsZSBzY29waW5nIGlzIHBlcmZvcm1lZC5cbiAqIFRoaXMgaXMgZG9uZSBqdXN0IG9uY2UgcGVyIHNjb3BlIG5hbWUgc28gdGhlIGZyYWdtZW50IGFuZCB0ZW1wbGF0ZSBjYW5ub3RcbiAqIGJlIG1vZGlmaWVkLlxuICogKDEpIGV4dHJhY3RzIHN0eWxlcyBmcm9tIHRoZSByZW5kZXJlZCBmcmFnbWVudCBhbmQgaGFuZHMgdGhlbSB0byBTaGFkeUNTU1xuICogdG8gYmUgc2NvcGVkIGFuZCBhcHBlbmRlZCB0byB0aGUgZG9jdW1lbnRcbiAqICgyKSByZW1vdmVzIHN0eWxlIGVsZW1lbnRzIGZyb20gYWxsIGxpdC1odG1sIFRlbXBsYXRlcyBmb3IgdGhpcyBzY29wZSBuYW1lLlxuICpcbiAqIE5vdGUsIDxzdHlsZT4gZWxlbWVudHMgY2FuIG9ubHkgYmUgcGxhY2VkIGludG8gdGVtcGxhdGVzIGZvciB0aGVcbiAqIGluaXRpYWwgcmVuZGVyaW5nIG9mIHRoZSBzY29wZS4gSWYgPHN0eWxlPiBlbGVtZW50cyBhcmUgaW5jbHVkZWQgaW4gdGVtcGxhdGVzXG4gKiBkeW5hbWljYWxseSByZW5kZXJlZCB0byB0aGUgc2NvcGUgKGFmdGVyIHRoZSBmaXJzdCBzY29wZSByZW5kZXIpLCB0aGV5IHdpbGxcbiAqIG5vdCBiZSBzY29wZWQgYW5kIHRoZSA8c3R5bGU+IHdpbGwgYmUgbGVmdCBpbiB0aGUgdGVtcGxhdGUgYW5kIHJlbmRlcmVkXG4gKiBvdXRwdXQuXG4gKi9cbmNvbnN0IHByZXBhcmVUZW1wbGF0ZVN0eWxlcyA9IChzY29wZU5hbWUsIHJlbmRlcmVkRE9NLCB0ZW1wbGF0ZSkgPT4ge1xuICAgIHNoYWR5UmVuZGVyU2V0LmFkZChzY29wZU5hbWUpO1xuICAgIC8vIElmIGByZW5kZXJlZERPTWAgaXMgc3RhbXBlZCBmcm9tIGEgVGVtcGxhdGUsIHRoZW4gd2UgbmVlZCB0byBlZGl0IHRoYXRcbiAgICAvLyBUZW1wbGF0ZSdzIHVuZGVybHlpbmcgdGVtcGxhdGUgZWxlbWVudC4gT3RoZXJ3aXNlLCB3ZSBjcmVhdGUgb25lIGhlcmVcbiAgICAvLyB0byBnaXZlIHRvIFNoYWR5Q1NTLCB3aGljaCBzdGlsbCByZXF1aXJlcyBvbmUgd2hpbGUgc2NvcGluZy5cbiAgICBjb25zdCB0ZW1wbGF0ZUVsZW1lbnQgPSAhIXRlbXBsYXRlID8gdGVtcGxhdGUuZWxlbWVudCA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgLy8gTW92ZSBzdHlsZXMgb3V0IG9mIHJlbmRlcmVkIERPTSBhbmQgc3RvcmUuXG4gICAgY29uc3Qgc3R5bGVzID0gcmVuZGVyZWRET00ucXVlcnlTZWxlY3RvckFsbCgnc3R5bGUnKTtcbiAgICBjb25zdCB7IGxlbmd0aCB9ID0gc3R5bGVzO1xuICAgIC8vIElmIHRoZXJlIGFyZSBubyBzdHlsZXMsIHNraXAgdW5uZWNlc3Nhcnkgd29ya1xuICAgIGlmIChsZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gRW5zdXJlIHByZXBhcmVUZW1wbGF0ZVN0eWxlcyBpcyBjYWxsZWQgdG8gc3VwcG9ydCBhZGRpbmdcbiAgICAgICAgLy8gc3R5bGVzIHZpYSBgcHJlcGFyZUFkb3B0ZWRDc3NUZXh0YCBzaW5jZSB0aGF0IHJlcXVpcmVzIHRoYXRcbiAgICAgICAgLy8gYHByZXBhcmVUZW1wbGF0ZVN0eWxlc2AgaXMgY2FsbGVkLlxuICAgICAgICAvL1xuICAgICAgICAvLyBTaGFkeUNTUyB3aWxsIG9ubHkgdXBkYXRlIHN0eWxlcyBjb250YWluaW5nIEBhcHBseSBpbiB0aGUgdGVtcGxhdGVcbiAgICAgICAgLy8gZ2l2ZW4gdG8gYHByZXBhcmVUZW1wbGF0ZVN0eWxlc2AuIElmIG5vIGxpdCBUZW1wbGF0ZSB3YXMgZ2l2ZW4sXG4gICAgICAgIC8vIFNoYWR5Q1NTIHdpbGwgbm90IGJlIGFibGUgdG8gdXBkYXRlIHVzZXMgb2YgQGFwcGx5IGluIGFueSByZWxldmFudFxuICAgICAgICAvLyB0ZW1wbGF0ZS4gSG93ZXZlciwgdGhpcyBpcyBub3QgYSBwcm9ibGVtIGJlY2F1c2Ugd2Ugb25seSBjcmVhdGUgdGhlXG4gICAgICAgIC8vIHRlbXBsYXRlIGZvciB0aGUgcHVycG9zZSBvZiBzdXBwb3J0aW5nIGBwcmVwYXJlQWRvcHRlZENzc1RleHRgLFxuICAgICAgICAvLyB3aGljaCBkb2Vzbid0IHN1cHBvcnQgQGFwcGx5IGF0IGFsbC5cbiAgICAgICAgd2luZG93LlNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZVN0eWxlcyh0ZW1wbGF0ZUVsZW1lbnQsIHNjb3BlTmFtZSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY29uZGVuc2VkU3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIC8vIENvbGxlY3Qgc3R5bGVzIGludG8gYSBzaW5nbGUgc3R5bGUuIFRoaXMgaGVscHMgdXMgbWFrZSBzdXJlIFNoYWR5Q1NTXG4gICAgLy8gbWFuaXB1bGF0aW9ucyB3aWxsIG5vdCBwcmV2ZW50IHVzIGZyb20gYmVpbmcgYWJsZSB0byBmaXggdXAgdGVtcGxhdGVcbiAgICAvLyBwYXJ0IGluZGljZXMuXG4gICAgLy8gTk9URTogY29sbGVjdGluZyBzdHlsZXMgaXMgaW5lZmZpY2llbnQgZm9yIGJyb3dzZXJzIGJ1dCBTaGFkeUNTU1xuICAgIC8vIGN1cnJlbnRseSBkb2VzIHRoaXMgYW55d2F5LiBXaGVuIGl0IGRvZXMgbm90LCB0aGlzIHNob3VsZCBiZSBjaGFuZ2VkLlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBzdHlsZXNbaV07XG4gICAgICAgIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuICAgICAgICBjb25kZW5zZWRTdHlsZS50ZXh0Q29udGVudCArPSBzdHlsZS50ZXh0Q29udGVudDtcbiAgICB9XG4gICAgLy8gUmVtb3ZlIHN0eWxlcyBmcm9tIG5lc3RlZCB0ZW1wbGF0ZXMgaW4gdGhpcyBzY29wZS5cbiAgICByZW1vdmVTdHlsZXNGcm9tTGl0VGVtcGxhdGVzKHNjb3BlTmFtZSk7XG4gICAgLy8gQW5kIHRoZW4gcHV0IHRoZSBjb25kZW5zZWQgc3R5bGUgaW50byB0aGUgXCJyb290XCIgdGVtcGxhdGUgcGFzc2VkIGluIGFzXG4gICAgLy8gYHRlbXBsYXRlYC5cbiAgICBjb25zdCBjb250ZW50ID0gdGVtcGxhdGVFbGVtZW50LmNvbnRlbnQ7XG4gICAgaWYgKCEhdGVtcGxhdGUpIHtcbiAgICAgICAgaW5zZXJ0Tm9kZUludG9UZW1wbGF0ZSh0ZW1wbGF0ZSwgY29uZGVuc2VkU3R5bGUsIGNvbnRlbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb250ZW50Lmluc2VydEJlZm9yZShjb25kZW5zZWRTdHlsZSwgY29udGVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgLy8gTm90ZSwgaXQncyBpbXBvcnRhbnQgdGhhdCBTaGFkeUNTUyBnZXRzIHRoZSB0ZW1wbGF0ZSB0aGF0IGBsaXQtaHRtbGBcbiAgICAvLyB3aWxsIGFjdHVhbGx5IHJlbmRlciBzbyB0aGF0IGl0IGNhbiB1cGRhdGUgdGhlIHN0eWxlIGluc2lkZSB3aGVuXG4gICAgLy8gbmVlZGVkIChlLmcuIEBhcHBseSBuYXRpdmUgU2hhZG93IERPTSBjYXNlKS5cbiAgICB3aW5kb3cuU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlU3R5bGVzKHRlbXBsYXRlRWxlbWVudCwgc2NvcGVOYW1lKTtcbiAgICBjb25zdCBzdHlsZSA9IGNvbnRlbnQucXVlcnlTZWxlY3Rvcignc3R5bGUnKTtcbiAgICBpZiAod2luZG93LlNoYWR5Q1NTLm5hdGl2ZVNoYWRvdyAmJiBzdHlsZSAhPT0gbnVsbCkge1xuICAgICAgICAvLyBXaGVuIGluIG5hdGl2ZSBTaGFkb3cgRE9NLCBlbnN1cmUgdGhlIHN0eWxlIGNyZWF0ZWQgYnkgU2hhZHlDU1MgaXNcbiAgICAgICAgLy8gaW5jbHVkZWQgaW4gaW5pdGlhbGx5IHJlbmRlcmVkIG91dHB1dCAoYHJlbmRlcmVkRE9NYCkuXG4gICAgICAgIHJlbmRlcmVkRE9NLmluc2VydEJlZm9yZShzdHlsZS5jbG9uZU5vZGUodHJ1ZSksIHJlbmRlcmVkRE9NLmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBlbHNlIGlmICghIXRlbXBsYXRlKSB7XG4gICAgICAgIC8vIFdoZW4gbm8gc3R5bGUgaXMgbGVmdCBpbiB0aGUgdGVtcGxhdGUsIHBhcnRzIHdpbGwgYmUgYnJva2VuIGFzIGFcbiAgICAgICAgLy8gcmVzdWx0LiBUbyBmaXggdGhpcywgd2UgcHV0IGJhY2sgdGhlIHN0eWxlIG5vZGUgU2hhZHlDU1MgcmVtb3ZlZFxuICAgICAgICAvLyBhbmQgdGhlbiB0ZWxsIGxpdCB0byByZW1vdmUgdGhhdCBub2RlIGZyb20gdGhlIHRlbXBsYXRlLlxuICAgICAgICAvLyBUaGVyZSBjYW4gYmUgbm8gc3R5bGUgaW4gdGhlIHRlbXBsYXRlIGluIDIgY2FzZXMgKDEpIHdoZW4gU2hhZHkgRE9NXG4gICAgICAgIC8vIGlzIGluIHVzZSwgU2hhZHlDU1MgcmVtb3ZlcyBhbGwgc3R5bGVzLCAoMikgd2hlbiBuYXRpdmUgU2hhZG93IERPTVxuICAgICAgICAvLyBpcyBpbiB1c2UgU2hhZHlDU1MgcmVtb3ZlcyB0aGUgc3R5bGUgaWYgaXQgY29udGFpbnMgbm8gY29udGVudC5cbiAgICAgICAgLy8gTk9URSwgU2hhZHlDU1MgY3JlYXRlcyBpdHMgb3duIHN0eWxlIHNvIHdlIGNhbiBzYWZlbHkgYWRkL3JlbW92ZVxuICAgICAgICAvLyBgY29uZGVuc2VkU3R5bGVgIGhlcmUuXG4gICAgICAgIGNvbnRlbnQuaW5zZXJ0QmVmb3JlKGNvbmRlbnNlZFN0eWxlLCBjb250ZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgICBjb25zdCByZW1vdmVzID0gbmV3IFNldCgpO1xuICAgICAgICByZW1vdmVzLmFkZChjb25kZW5zZWRTdHlsZSk7XG4gICAgICAgIHJlbW92ZU5vZGVzRnJvbVRlbXBsYXRlKHRlbXBsYXRlLCByZW1vdmVzKTtcbiAgICB9XG59O1xuLyoqXG4gKiBFeHRlbnNpb24gdG8gdGhlIHN0YW5kYXJkIGByZW5kZXJgIG1ldGhvZCB3aGljaCBzdXBwb3J0cyByZW5kZXJpbmdcbiAqIHRvIFNoYWRvd1Jvb3RzIHdoZW4gdGhlIFNoYWR5RE9NIChodHRwczovL2dpdGh1Yi5jb20vd2ViY29tcG9uZW50cy9zaGFkeWRvbSlcbiAqIGFuZCBTaGFkeUNTUyAoaHR0cHM6Ly9naXRodWIuY29tL3dlYmNvbXBvbmVudHMvc2hhZHljc3MpIHBvbHlmaWxscyBhcmUgdXNlZFxuICogb3Igd2hlbiB0aGUgd2ViY29tcG9uZW50c2pzXG4gKiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYmNvbXBvbmVudHMvd2ViY29tcG9uZW50c2pzKSBwb2x5ZmlsbCBpcyB1c2VkLlxuICpcbiAqIEFkZHMgYSBgc2NvcGVOYW1lYCBvcHRpb24gd2hpY2ggaXMgdXNlZCB0byBzY29wZSBlbGVtZW50IERPTSBhbmQgc3R5bGVzaGVldHNcbiAqIHdoZW4gbmF0aXZlIFNoYWRvd0RPTSBpcyB1bmF2YWlsYWJsZS4gVGhlIGBzY29wZU5hbWVgIHdpbGwgYmUgYWRkZWQgdG9cbiAqIHRoZSBjbGFzcyBhdHRyaWJ1dGUgb2YgYWxsIHJlbmRlcmVkIERPTS4gSW4gYWRkaXRpb24sIGFueSBzdHlsZSBlbGVtZW50cyB3aWxsXG4gKiBiZSBhdXRvbWF0aWNhbGx5IHJlLXdyaXR0ZW4gd2l0aCB0aGlzIGBzY29wZU5hbWVgIHNlbGVjdG9yIGFuZCBtb3ZlZCBvdXRcbiAqIG9mIHRoZSByZW5kZXJlZCBET00gYW5kIGludG8gdGhlIGRvY3VtZW50IGA8aGVhZD5gLlxuICpcbiAqIEl0IGlzIGNvbW1vbiB0byB1c2UgdGhpcyByZW5kZXIgbWV0aG9kIGluIGNvbmp1bmN0aW9uIHdpdGggYSBjdXN0b20gZWxlbWVudFxuICogd2hpY2ggcmVuZGVycyBhIHNoYWRvd1Jvb3QuIFdoZW4gdGhpcyBpcyBkb25lLCB0eXBpY2FsbHkgdGhlIGVsZW1lbnQnc1xuICogYGxvY2FsTmFtZWAgc2hvdWxkIGJlIHVzZWQgYXMgdGhlIGBzY29wZU5hbWVgLlxuICpcbiAqIEluIGFkZGl0aW9uIHRvIERPTSBzY29waW5nLCBTaGFkeUNTUyBhbHNvIHN1cHBvcnRzIGEgYmFzaWMgc2hpbSBmb3IgY3NzXG4gKiBjdXN0b20gcHJvcGVydGllcyAobmVlZGVkIG9ubHkgb24gb2xkZXIgYnJvd3NlcnMgbGlrZSBJRTExKSBhbmQgYSBzaGltIGZvclxuICogYSBkZXByZWNhdGVkIGZlYXR1cmUgY2FsbGVkIGBAYXBwbHlgIHRoYXQgc3VwcG9ydHMgYXBwbHlpbmcgYSBzZXQgb2YgY3NzXG4gKiBjdXN0b20gcHJvcGVydGllcyB0byBhIGdpdmVuIGxvY2F0aW9uLlxuICpcbiAqIFVzYWdlIGNvbnNpZGVyYXRpb25zOlxuICpcbiAqICogUGFydCB2YWx1ZXMgaW4gYDxzdHlsZT5gIGVsZW1lbnRzIGFyZSBvbmx5IGFwcGxpZWQgdGhlIGZpcnN0IHRpbWUgYSBnaXZlblxuICogYHNjb3BlTmFtZWAgcmVuZGVycy4gU3Vic2VxdWVudCBjaGFuZ2VzIHRvIHBhcnRzIGluIHN0eWxlIGVsZW1lbnRzIHdpbGwgaGF2ZVxuICogbm8gZWZmZWN0LiBCZWNhdXNlIG9mIHRoaXMsIHBhcnRzIGluIHN0eWxlIGVsZW1lbnRzIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yXG4gKiB2YWx1ZXMgdGhhdCB3aWxsIG5ldmVyIGNoYW5nZSwgZm9yIGV4YW1wbGUgcGFydHMgdGhhdCBzZXQgc2NvcGUtd2lkZSB0aGVtZVxuICogdmFsdWVzIG9yIHBhcnRzIHdoaWNoIHJlbmRlciBzaGFyZWQgc3R5bGUgZWxlbWVudHMuXG4gKlxuICogKiBOb3RlLCBkdWUgdG8gYSBsaW1pdGF0aW9uIG9mIHRoZSBTaGFkeURPTSBwb2x5ZmlsbCwgcmVuZGVyaW5nIGluIGFcbiAqIGN1c3RvbSBlbGVtZW50J3MgYGNvbnN0cnVjdG9yYCBpcyBub3Qgc3VwcG9ydGVkLiBJbnN0ZWFkIHJlbmRlcmluZyBzaG91bGRcbiAqIGVpdGhlciBkb25lIGFzeW5jaHJvbm91c2x5LCBmb3IgZXhhbXBsZSBhdCBtaWNyb3Rhc2sgdGltaW5nIChmb3IgZXhhbXBsZVxuICogYFByb21pc2UucmVzb2x2ZSgpYCksIG9yIGJlIGRlZmVycmVkIHVudGlsIHRoZSBmaXJzdCB0aW1lIHRoZSBlbGVtZW50J3NcbiAqIGBjb25uZWN0ZWRDYWxsYmFja2AgcnVucy5cbiAqXG4gKiBVc2FnZSBjb25zaWRlcmF0aW9ucyB3aGVuIHVzaW5nIHNoaW1tZWQgY3VzdG9tIHByb3BlcnRpZXMgb3IgYEBhcHBseWA6XG4gKlxuICogKiBXaGVuZXZlciBhbnkgZHluYW1pYyBjaGFuZ2VzIGFyZSBtYWRlIHdoaWNoIGFmZmVjdFxuICogY3NzIGN1c3RvbSBwcm9wZXJ0aWVzLCBgU2hhZHlDU1Muc3R5bGVFbGVtZW50KGVsZW1lbnQpYCBtdXN0IGJlIGNhbGxlZFxuICogdG8gdXBkYXRlIHRoZSBlbGVtZW50LiBUaGVyZSBhcmUgdHdvIGNhc2VzIHdoZW4gdGhpcyBpcyBuZWVkZWQ6XG4gKiAoMSkgdGhlIGVsZW1lbnQgaXMgY29ubmVjdGVkIHRvIGEgbmV3IHBhcmVudCwgKDIpIGEgY2xhc3MgaXMgYWRkZWQgdG8gdGhlXG4gKiBlbGVtZW50IHRoYXQgY2F1c2VzIGl0IHRvIG1hdGNoIGRpZmZlcmVudCBjdXN0b20gcHJvcGVydGllcy5cbiAqIFRvIGFkZHJlc3MgdGhlIGZpcnN0IGNhc2Ugd2hlbiByZW5kZXJpbmcgYSBjdXN0b20gZWxlbWVudCwgYHN0eWxlRWxlbWVudGBcbiAqIHNob3VsZCBiZSBjYWxsZWQgaW4gdGhlIGVsZW1lbnQncyBgY29ubmVjdGVkQ2FsbGJhY2tgLlxuICpcbiAqICogU2hpbW1lZCBjdXN0b20gcHJvcGVydGllcyBtYXkgb25seSBiZSBkZWZpbmVkIGVpdGhlciBmb3IgYW4gZW50aXJlXG4gKiBzaGFkb3dSb290IChmb3IgZXhhbXBsZSwgaW4gYSBgOmhvc3RgIHJ1bGUpIG9yIHZpYSBhIHJ1bGUgdGhhdCBkaXJlY3RseVxuICogbWF0Y2hlcyBhbiBlbGVtZW50IHdpdGggYSBzaGFkb3dSb290LiBJbiBvdGhlciB3b3JkcywgaW5zdGVhZCBvZiBmbG93aW5nIGZyb21cbiAqIHBhcmVudCB0byBjaGlsZCBhcyBkbyBuYXRpdmUgY3NzIGN1c3RvbSBwcm9wZXJ0aWVzLCBzaGltbWVkIGN1c3RvbSBwcm9wZXJ0aWVzXG4gKiBmbG93IG9ubHkgZnJvbSBzaGFkb3dSb290cyB0byBuZXN0ZWQgc2hhZG93Um9vdHMuXG4gKlxuICogKiBXaGVuIHVzaW5nIGBAYXBwbHlgIG1peGluZyBjc3Mgc2hvcnRoYW5kIHByb3BlcnR5IG5hbWVzIHdpdGhcbiAqIG5vbi1zaG9ydGhhbmQgbmFtZXMgKGZvciBleGFtcGxlIGBib3JkZXJgIGFuZCBgYm9yZGVyLXdpZHRoYCkgaXMgbm90XG4gKiBzdXBwb3J0ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCByZW5kZXIgPSAocmVzdWx0LCBjb250YWluZXIsIG9wdGlvbnMpID0+IHtcbiAgICBpZiAoIW9wdGlvbnMgfHwgdHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnIHx8ICFvcHRpb25zLnNjb3BlTmFtZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBgc2NvcGVOYW1lYCBvcHRpb24gaXMgcmVxdWlyZWQuJyk7XG4gICAgfVxuICAgIGNvbnN0IHNjb3BlTmFtZSA9IG9wdGlvbnMuc2NvcGVOYW1lO1xuICAgIGNvbnN0IGhhc1JlbmRlcmVkID0gcGFydHMuaGFzKGNvbnRhaW5lcik7XG4gICAgY29uc3QgbmVlZHNTY29waW5nID0gY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbiAmJlxuICAgICAgICBjb250YWluZXIubm9kZVR5cGUgPT09IDExIC8qIE5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERSAqLyAmJlxuICAgICAgICAhIWNvbnRhaW5lci5ob3N0O1xuICAgIC8vIEhhbmRsZSBmaXJzdCByZW5kZXIgdG8gYSBzY29wZSBzcGVjaWFsbHkuLi5cbiAgICBjb25zdCBmaXJzdFNjb3BlUmVuZGVyID0gbmVlZHNTY29waW5nICYmICFzaGFkeVJlbmRlclNldC5oYXMoc2NvcGVOYW1lKTtcbiAgICAvLyBPbiBmaXJzdCBzY29wZSByZW5kZXIsIHJlbmRlciBpbnRvIGEgZnJhZ21lbnQ7IHRoaXMgY2Fubm90IGJlIGEgc2luZ2xlXG4gICAgLy8gZnJhZ21lbnQgdGhhdCBpcyByZXVzZWQgc2luY2UgbmVzdGVkIHJlbmRlcnMgY2FuIG9jY3VyIHN5bmNocm9ub3VzbHkuXG4gICAgY29uc3QgcmVuZGVyQ29udGFpbmVyID0gZmlyc3RTY29wZVJlbmRlciA/IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSA6IGNvbnRhaW5lcjtcbiAgICBsaXRSZW5kZXIocmVzdWx0LCByZW5kZXJDb250YWluZXIsIE9iamVjdC5hc3NpZ24oeyB0ZW1wbGF0ZUZhY3Rvcnk6IHNoYWR5VGVtcGxhdGVGYWN0b3J5KHNjb3BlTmFtZSkgfSwgb3B0aW9ucykpO1xuICAgIC8vIFdoZW4gcGVyZm9ybWluZyBmaXJzdCBzY29wZSByZW5kZXIsXG4gICAgLy8gKDEpIFdlJ3ZlIHJlbmRlcmVkIGludG8gYSBmcmFnbWVudCBzbyB0aGF0IHRoZXJlJ3MgYSBjaGFuY2UgdG9cbiAgICAvLyBgcHJlcGFyZVRlbXBsYXRlU3R5bGVzYCBiZWZvcmUgc3ViLWVsZW1lbnRzIGhpdCB0aGUgRE9NXG4gICAgLy8gKHdoaWNoIG1pZ2h0IGNhdXNlIHRoZW0gdG8gcmVuZGVyIGJhc2VkIG9uIGEgY29tbW9uIHBhdHRlcm4gb2ZcbiAgICAvLyByZW5kZXJpbmcgaW4gYSBjdXN0b20gZWxlbWVudCdzIGBjb25uZWN0ZWRDYWxsYmFja2ApO1xuICAgIC8vICgyKSBTY29wZSB0aGUgdGVtcGxhdGUgd2l0aCBTaGFkeUNTUyBvbmUgdGltZSBvbmx5IGZvciB0aGlzIHNjb3BlLlxuICAgIC8vICgzKSBSZW5kZXIgdGhlIGZyYWdtZW50IGludG8gdGhlIGNvbnRhaW5lciBhbmQgbWFrZSBzdXJlIHRoZVxuICAgIC8vIGNvbnRhaW5lciBrbm93cyBpdHMgYHBhcnRgIGlzIHRoZSBvbmUgd2UganVzdCByZW5kZXJlZC4gVGhpcyBlbnN1cmVzXG4gICAgLy8gRE9NIHdpbGwgYmUgcmUtdXNlZCBvbiBzdWJzZXF1ZW50IHJlbmRlcnMuXG4gICAgaWYgKGZpcnN0U2NvcGVSZW5kZXIpIHtcbiAgICAgICAgY29uc3QgcGFydCA9IHBhcnRzLmdldChyZW5kZXJDb250YWluZXIpO1xuICAgICAgICBwYXJ0cy5kZWxldGUocmVuZGVyQ29udGFpbmVyKTtcbiAgICAgICAgLy8gU2hhZHlDU1MgbWlnaHQgaGF2ZSBzdHlsZSBzaGVldHMgKGUuZy4gZnJvbSBgcHJlcGFyZUFkb3B0ZWRDc3NUZXh0YClcbiAgICAgICAgLy8gdGhhdCBzaG91bGQgYXBwbHkgdG8gYHJlbmRlckNvbnRhaW5lcmAgZXZlbiBpZiB0aGUgcmVuZGVyZWQgdmFsdWUgaXNcbiAgICAgICAgLy8gbm90IGEgVGVtcGxhdGVJbnN0YW5jZS4gSG93ZXZlciwgaXQgd2lsbCBvbmx5IGluc2VydCBzY29wZWQgc3R5bGVzXG4gICAgICAgIC8vIGludG8gdGhlIGRvY3VtZW50IGlmIGBwcmVwYXJlVGVtcGxhdGVTdHlsZXNgIGhhcyBhbHJlYWR5IGJlZW4gY2FsbGVkXG4gICAgICAgIC8vIGZvciB0aGUgZ2l2ZW4gc2NvcGUgbmFtZS5cbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBwYXJ0LnZhbHVlIGluc3RhbmNlb2YgVGVtcGxhdGVJbnN0YW5jZSA/XG4gICAgICAgICAgICBwYXJ0LnZhbHVlLnRlbXBsYXRlIDpcbiAgICAgICAgICAgIHVuZGVmaW5lZDtcbiAgICAgICAgcHJlcGFyZVRlbXBsYXRlU3R5bGVzKHNjb3BlTmFtZSwgcmVuZGVyQ29udGFpbmVyLCB0ZW1wbGF0ZSk7XG4gICAgICAgIHJlbW92ZU5vZGVzKGNvbnRhaW5lciwgY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyQ29udGFpbmVyKTtcbiAgICAgICAgcGFydHMuc2V0KGNvbnRhaW5lciwgcGFydCk7XG4gICAgfVxuICAgIC8vIEFmdGVyIGVsZW1lbnRzIGhhdmUgaGl0IHRoZSBET00sIHVwZGF0ZSBzdHlsaW5nIGlmIHRoaXMgaXMgdGhlXG4gICAgLy8gaW5pdGlhbCByZW5kZXIgdG8gdGhpcyBjb250YWluZXIuXG4gICAgLy8gVGhpcyBpcyBuZWVkZWQgd2hlbmV2ZXIgZHluYW1pYyBjaGFuZ2VzIGFyZSBtYWRlIHNvIGl0IHdvdWxkIGJlXG4gICAgLy8gc2FmZXN0IHRvIGRvIGV2ZXJ5IHJlbmRlcjsgaG93ZXZlciwgdGhpcyB3b3VsZCByZWdyZXNzIHBlcmZvcm1hbmNlXG4gICAgLy8gc28gd2UgbGVhdmUgaXQgdXAgdG8gdGhlIHVzZXIgdG8gY2FsbCBgU2hhZHlDU1Muc3R5bGVFbGVtZW50YFxuICAgIC8vIGZvciBkeW5hbWljIGNoYW5nZXMuXG4gICAgaWYgKCFoYXNSZW5kZXJlZCAmJiBuZWVkc1Njb3BpbmcpIHtcbiAgICAgICAgd2luZG93LlNoYWR5Q1NTLnN0eWxlRWxlbWVudChjb250YWluZXIuaG9zdCk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoYWR5LXJlbmRlci5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG52YXIgX2E7XG4vKipcbiAqIFdoZW4gdXNpbmcgQ2xvc3VyZSBDb21waWxlciwgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eShwcm9wZXJ0eSwgb2JqZWN0KSBpc1xuICogcmVwbGFjZWQgYXQgY29tcGlsZSB0aW1lIGJ5IHRoZSBtdW5nZWQgbmFtZSBmb3Igb2JqZWN0W3Byb3BlcnR5XS4gV2UgY2Fubm90XG4gKiBhbGlhcyB0aGlzIGZ1bmN0aW9uLCBzbyB3ZSBoYXZlIHRvIHVzZSBhIHNtYWxsIHNoaW0gdGhhdCBoYXMgdGhlIHNhbWVcbiAqIGJlaGF2aW9yIHdoZW4gbm90IGNvbXBpbGluZy5cbiAqL1xud2luZG93LkpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkgPVxuICAgIChwcm9wLCBfb2JqKSA9PiBwcm9wO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb252ZXJ0ZXIgPSB7XG4gICAgdG9BdHRyaWJ1dGUodmFsdWUsIHR5cGUpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIEJvb2xlYW46XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID8gJycgOiBudWxsO1xuICAgICAgICAgICAgY2FzZSBPYmplY3Q6XG4gICAgICAgICAgICBjYXNlIEFycmF5OlxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSB2YWx1ZSBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAgcGFzcyB0aGlzIHRocm91Z2hcbiAgICAgICAgICAgICAgICAvLyB0byBhbGxvdyByZW1vdmluZy9ubyBjaGFuZ2UgYmVoYXZpb3IuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09IG51bGwgPyB2YWx1ZSA6IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbiAgICBmcm9tQXR0cmlidXRlKHZhbHVlLCB0eXBlKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBCb29sZWFuOlxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbDtcbiAgICAgICAgICAgIGNhc2UgTnVtYmVyOlxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCA/IG51bGwgOiBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgY2FzZSBPYmplY3Q6XG4gICAgICAgICAgICBjYXNlIEFycmF5OlxuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufTtcbi8qKlxuICogQ2hhbmdlIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgZGlmZmVyZW50IGZyb20gYG9sZFZhbHVlYC5cbiAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgYXMgdGhlIGRlZmF1bHQgZm9yIGEgcHJvcGVydHkncyBgaGFzQ2hhbmdlZGAgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBub3RFcXVhbCA9ICh2YWx1ZSwgb2xkKSA9PiB7XG4gICAgLy8gVGhpcyBlbnN1cmVzIChvbGQ9PU5hTiwgdmFsdWU9PU5hTikgYWx3YXlzIHJldHVybnMgZmFsc2VcbiAgICByZXR1cm4gb2xkICE9PSB2YWx1ZSAmJiAob2xkID09PSBvbGQgfHwgdmFsdWUgPT09IHZhbHVlKTtcbn07XG5jb25zdCBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbiA9IHtcbiAgICBhdHRyaWJ1dGU6IHRydWUsXG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGNvbnZlcnRlcjogZGVmYXVsdENvbnZlcnRlcixcbiAgICByZWZsZWN0OiBmYWxzZSxcbiAgICBoYXNDaGFuZ2VkOiBub3RFcXVhbFxufTtcbmNvbnN0IG1pY3JvdGFza1Byb21pc2UgPSBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG5jb25zdCBTVEFURV9IQVNfVVBEQVRFRCA9IDE7XG5jb25zdCBTVEFURV9VUERBVEVfUkVRVUVTVEVEID0gMSA8PCAyO1xuY29uc3QgU1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEUgPSAxIDw8IDM7XG5jb25zdCBTVEFURV9JU19SRUZMRUNUSU5HX1RPX1BST1BFUlRZID0gMSA8PCA0O1xuY29uc3QgU1RBVEVfSEFTX0NPTk5FQ1RFRCA9IDEgPDwgNTtcbi8qKlxuICogVGhlIENsb3N1cmUgSlMgQ29tcGlsZXIgZG9lc24ndCBjdXJyZW50bHkgaGF2ZSBnb29kIHN1cHBvcnQgZm9yIHN0YXRpY1xuICogcHJvcGVydHkgc2VtYW50aWNzIHdoZXJlIFwidGhpc1wiIGlzIGR5bmFtaWMgKGUuZy5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1jb21waWxlci9pc3N1ZXMvMzE3NyBhbmQgb3RoZXJzKSBzbyB3ZSB1c2VcbiAqIHRoaXMgaGFjayB0byBieXBhc3MgYW55IHJld3JpdGluZyBieSB0aGUgY29tcGlsZXIuXG4gKi9cbmNvbnN0IGZpbmFsaXplZCA9ICdmaW5hbGl6ZWQnO1xuLyoqXG4gKiBCYXNlIGVsZW1lbnQgY2xhc3Mgd2hpY2ggbWFuYWdlcyBlbGVtZW50IHByb3BlcnRpZXMgYW5kIGF0dHJpYnV0ZXMuIFdoZW5cbiAqIHByb3BlcnRpZXMgY2hhbmdlLCB0aGUgYHVwZGF0ZWAgbWV0aG9kIGlzIGFzeW5jaHJvbm91c2x5IGNhbGxlZC4gVGhpcyBtZXRob2RcbiAqIHNob3VsZCBiZSBzdXBwbGllZCBieSBzdWJjbGFzc2VycyB0byByZW5kZXIgdXBkYXRlcyBhcyBkZXNpcmVkLlxuICovXG5leHBvcnQgY2xhc3MgVXBkYXRpbmdFbGVtZW50IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IDA7XG4gICAgICAgIHRoaXMuX2luc3RhbmNlUHJvcGVydGllcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fdXBkYXRlUHJvbWlzZSA9IG1pY3JvdGFza1Byb21pc2U7XG4gICAgICAgIHRoaXMuX2hhc0Nvbm5lY3RlZFJlc29sdmVyID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFwIHdpdGgga2V5cyBmb3IgYW55IHByb3BlcnRpZXMgdGhhdCBoYXZlIGNoYW5nZWQgc2luY2UgdGhlIGxhc3RcbiAgICAgICAgICogdXBkYXRlIGN5Y2xlIHdpdGggcHJldmlvdXMgdmFsdWVzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY2hhbmdlZFByb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXAgd2l0aCBrZXlzIG9mIHByb3BlcnRpZXMgdGhhdCBzaG91bGQgYmUgcmVmbGVjdGVkIHdoZW4gdXBkYXRlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgYXR0cmlidXRlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSByZWdpc3RlcmVkIHByb3BlcnRpZXMuXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcbiAgICAgICAgLy8gbm90ZTogcGlnZ3kgYmFja2luZyBvbiB0aGlzIHRvIGVuc3VyZSB3ZSdyZSBmaW5hbGl6ZWQuXG4gICAgICAgIHRoaXMuZmluYWxpemUoKTtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IFtdO1xuICAgICAgICAvLyBVc2UgZm9yRWFjaCBzbyB0aGlzIHdvcmtzIGV2ZW4gaWYgZm9yL29mIGxvb3BzIGFyZSBjb21waWxlZCB0byBmb3IgbG9vcHNcbiAgICAgICAgLy8gZXhwZWN0aW5nIGFycmF5c1xuICAgICAgICB0aGlzLl9jbGFzc1Byb3BlcnRpZXMuZm9yRWFjaCgodiwgcCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYXR0ciA9IHRoaXMuX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShwLCB2KTtcbiAgICAgICAgICAgIGlmIChhdHRyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwLnNldChhdHRyLCBwKTtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2goYXR0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5zdXJlcyB0aGUgcHJpdmF0ZSBgX2NsYXNzUHJvcGVydGllc2AgcHJvcGVydHkgbWV0YWRhdGEgaXMgY3JlYXRlZC5cbiAgICAgKiBJbiBhZGRpdGlvbiB0byBgZmluYWxpemVgIHRoaXMgaXMgYWxzbyBjYWxsZWQgaW4gYGNyZWF0ZVByb3BlcnR5YCB0b1xuICAgICAqIGVuc3VyZSB0aGUgYEBwcm9wZXJ0eWAgZGVjb3JhdG9yIGNhbiBhZGQgcHJvcGVydHkgbWV0YWRhdGEuXG4gICAgICovXG4gICAgLyoqIEBub2NvbGxhcHNlICovXG4gICAgc3RhdGljIF9lbnN1cmVDbGFzc1Byb3BlcnRpZXMoKSB7XG4gICAgICAgIC8vIGVuc3VyZSBwcml2YXRlIHN0b3JhZ2UgZm9yIHByb3BlcnR5IGRlY2xhcmF0aW9ucy5cbiAgICAgICAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ19jbGFzc1Byb3BlcnRpZXMnLCB0aGlzKSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2NsYXNzUHJvcGVydGllcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIC8vIE5PVEU6IFdvcmthcm91bmQgSUUxMSBub3Qgc3VwcG9ydGluZyBNYXAgY29uc3RydWN0b3IgYXJndW1lbnQuXG4gICAgICAgICAgICBjb25zdCBzdXBlclByb3BlcnRpZXMgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2NsYXNzUHJvcGVydGllcztcbiAgICAgICAgICAgIGlmIChzdXBlclByb3BlcnRpZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHN1cGVyUHJvcGVydGllcy5mb3JFYWNoKCh2LCBrKSA9PiB0aGlzLl9jbGFzc1Byb3BlcnRpZXMuc2V0KGssIHYpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcHJvcGVydHkgYWNjZXNzb3Igb24gdGhlIGVsZW1lbnQgcHJvdG90eXBlIGlmIG9uZSBkb2VzIG5vdCBleGlzdC5cbiAgICAgKiBUaGUgcHJvcGVydHkgc2V0dGVyIGNhbGxzIHRoZSBwcm9wZXJ0eSdzIGBoYXNDaGFuZ2VkYCBwcm9wZXJ0eSBvcHRpb25cbiAgICAgKiBvciB1c2VzIGEgc3RyaWN0IGlkZW50aXR5IGNoZWNrIHRvIGRldGVybWluZSB3aGV0aGVyIG9yIG5vdCB0byByZXF1ZXN0XG4gICAgICogYW4gdXBkYXRlLlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZVByb3BlcnR5KG5hbWUsIG9wdGlvbnMgPSBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbikge1xuICAgICAgICAvLyBOb3RlLCBzaW5jZSB0aGlzIGNhbiBiZSBjYWxsZWQgYnkgdGhlIGBAcHJvcGVydHlgIGRlY29yYXRvciB3aGljaFxuICAgICAgICAvLyBpcyBjYWxsZWQgYmVmb3JlIGBmaW5hbGl6ZWAsIHdlIGVuc3VyZSBzdG9yYWdlIGV4aXN0cyBmb3IgcHJvcGVydHlcbiAgICAgICAgLy8gbWV0YWRhdGEuXG4gICAgICAgIHRoaXMuX2Vuc3VyZUNsYXNzUHJvcGVydGllcygpO1xuICAgICAgICB0aGlzLl9jbGFzc1Byb3BlcnRpZXMuc2V0KG5hbWUsIG9wdGlvbnMpO1xuICAgICAgICAvLyBEbyBub3QgZ2VuZXJhdGUgYW4gYWNjZXNzb3IgaWYgdGhlIHByb3RvdHlwZSBhbHJlYWR5IGhhcyBvbmUsIHNpbmNlXG4gICAgICAgIC8vIGl0IHdvdWxkIGJlIGxvc3Qgb3RoZXJ3aXNlIGFuZCB0aGF0IHdvdWxkIG5ldmVyIGJlIHRoZSB1c2VyJ3MgaW50ZW50aW9uO1xuICAgICAgICAvLyBJbnN0ZWFkLCB3ZSBleHBlY3QgdXNlcnMgdG8gY2FsbCBgcmVxdWVzdFVwZGF0ZWAgdGhlbXNlbHZlcyBmcm9tXG4gICAgICAgIC8vIHVzZXItZGVmaW5lZCBhY2Nlc3NvcnMuIE5vdGUgdGhhdCBpZiB0aGUgc3VwZXIgaGFzIGFuIGFjY2Vzc29yIHdlIHdpbGxcbiAgICAgICAgLy8gc3RpbGwgb3ZlcndyaXRlIGl0XG4gICAgICAgIGlmIChvcHRpb25zLm5vQWNjZXNzb3IgfHwgdGhpcy5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBrZXkgPSB0eXBlb2YgbmFtZSA9PT0gJ3N5bWJvbCcgPyBTeW1ib2woKSA6IGBfXyR7bmFtZX1gO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5wcm90b3R5cGUsIG5hbWUsIHtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgbm8gc3ltYm9sIGluIGluZGV4XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNba2V5XTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXNbbmFtZV07XG4gICAgICAgICAgICAgICAgdGhpc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdFVwZGF0ZShuYW1lLCBvbGRWYWx1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBwcm9wZXJ0eSBhY2Nlc3NvcnMgZm9yIHJlZ2lzdGVyZWQgcHJvcGVydGllcyBhbmQgZW5zdXJlc1xuICAgICAqIGFueSBzdXBlcmNsYXNzZXMgYXJlIGFsc28gZmluYWxpemVkLlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIGZpbmFsaXplKCkge1xuICAgICAgICAvLyBmaW5hbGl6ZSBhbnkgc3VwZXJjbGFzc2VzXG4gICAgICAgIGNvbnN0IHN1cGVyQ3RvciA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKTtcbiAgICAgICAgaWYgKCFzdXBlckN0b3IuaGFzT3duUHJvcGVydHkoZmluYWxpemVkKSkge1xuICAgICAgICAgICAgc3VwZXJDdG9yLmZpbmFsaXplKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpc1tmaW5hbGl6ZWRdID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZW5zdXJlQ2xhc3NQcm9wZXJ0aWVzKCk7XG4gICAgICAgIC8vIGluaXRpYWxpemUgTWFwIHBvcHVsYXRlZCBpbiBvYnNlcnZlZEF0dHJpYnV0ZXNcbiAgICAgICAgdGhpcy5fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gbWFrZSBhbnkgcHJvcGVydGllc1xuICAgICAgICAvLyBOb3RlLCBvbmx5IHByb2Nlc3MgXCJvd25cIiBwcm9wZXJ0aWVzIHNpbmNlIHRoaXMgZWxlbWVudCB3aWxsIGluaGVyaXRcbiAgICAgICAgLy8gYW55IHByb3BlcnRpZXMgZGVmaW5lZCBvbiB0aGUgc3VwZXJDbGFzcywgYW5kIGZpbmFsaXphdGlvbiBlbnN1cmVzXG4gICAgICAgIC8vIHRoZSBlbnRpcmUgcHJvdG90eXBlIGNoYWluIGlzIGZpbmFsaXplZC5cbiAgICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgncHJvcGVydGllcycsIHRoaXMpKSkge1xuICAgICAgICAgICAgY29uc3QgcHJvcHMgPSB0aGlzLnByb3BlcnRpZXM7XG4gICAgICAgICAgICAvLyBzdXBwb3J0IHN5bWJvbHMgaW4gcHJvcGVydGllcyAoSUUxMSBkb2VzIG5vdCBzdXBwb3J0IHRoaXMpXG4gICAgICAgICAgICBjb25zdCBwcm9wS2V5cyA9IFtcbiAgICAgICAgICAgICAgICAuLi5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwcm9wcyksXG4gICAgICAgICAgICAgICAgLi4uKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSA/XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocHJvcHMpIDpcbiAgICAgICAgICAgICAgICAgICAgW11cbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICAvLyBUaGlzIGZvci9vZiBpcyBvayBiZWNhdXNlIHByb3BLZXlzIGlzIGFuIGFycmF5XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHAgb2YgcHJvcEtleXMpIHtcbiAgICAgICAgICAgICAgICAvLyBub3RlLCB1c2Ugb2YgYGFueWAgaXMgZHVlIHRvIFR5cGVTcmlwdCBsYWNrIG9mIHN1cHBvcnQgZm9yIHN5bWJvbCBpblxuICAgICAgICAgICAgICAgIC8vIGluZGV4IHR5cGVzXG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBubyBzeW1ib2wgaW4gaW5kZXhcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVByb3BlcnR5KHAsIHByb3BzW3BdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBuYW1lIGZvciB0aGUgZ2l2ZW4gYXR0cmlidXRlIGBuYW1lYC5cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KG5hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlID0gb3B0aW9ucy5hdHRyaWJ1dGU7XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGUgPT09IGZhbHNlID9cbiAgICAgICAgICAgIHVuZGVmaW5lZCA6XG4gICAgICAgICAgICAodHlwZW9mIGF0dHJpYnV0ZSA9PT0gJ3N0cmluZycgP1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZSA6XG4gICAgICAgICAgICAgICAgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyA/IG5hbWUudG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgYSBwcm9wZXJ0eSBzaG91bGQgcmVxdWVzdCBhbiB1cGRhdGUuXG4gICAgICogQ2FsbGVkIHdoZW4gYSBwcm9wZXJ0eSB2YWx1ZSBpcyBzZXQgYW5kIHVzZXMgdGhlIGBoYXNDaGFuZ2VkYFxuICAgICAqIG9wdGlvbiBmb3IgdGhlIHByb3BlcnR5IGlmIHByZXNlbnQgb3IgYSBzdHJpY3QgaWRlbnRpdHkgY2hlY2suXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX3ZhbHVlSGFzQ2hhbmdlZCh2YWx1ZSwgb2xkLCBoYXNDaGFuZ2VkID0gbm90RXF1YWwpIHtcbiAgICAgICAgcmV0dXJuIGhhc0NoYW5nZWQodmFsdWUsIG9sZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlIGZvciB0aGUgZ2l2ZW4gYXR0cmlidXRlIHZhbHVlLlxuICAgICAqIENhbGxlZCB2aWEgdGhlIGBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tgIGFuZCB1c2VzIHRoZSBwcm9wZXJ0eSdzXG4gICAgICogYGNvbnZlcnRlcmAgb3IgYGNvbnZlcnRlci5mcm9tQXR0cmlidXRlYCBwcm9wZXJ0eSBvcHRpb24uXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX3Byb3BlcnR5VmFsdWVGcm9tQXR0cmlidXRlKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBvcHRpb25zLnR5cGU7XG4gICAgICAgIGNvbnN0IGNvbnZlcnRlciA9IG9wdGlvbnMuY29udmVydGVyIHx8IGRlZmF1bHRDb252ZXJ0ZXI7XG4gICAgICAgIGNvbnN0IGZyb21BdHRyaWJ1dGUgPSAodHlwZW9mIGNvbnZlcnRlciA9PT0gJ2Z1bmN0aW9uJyA/IGNvbnZlcnRlciA6IGNvbnZlcnRlci5mcm9tQXR0cmlidXRlKTtcbiAgICAgICAgcmV0dXJuIGZyb21BdHRyaWJ1dGUgPyBmcm9tQXR0cmlidXRlKHZhbHVlLCB0eXBlKSA6IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBhdHRyaWJ1dGUgdmFsdWUgZm9yIHRoZSBnaXZlbiBwcm9wZXJ0eSB2YWx1ZS4gSWYgdGhpc1xuICAgICAqIHJldHVybnMgdW5kZWZpbmVkLCB0aGUgcHJvcGVydHkgd2lsbCAqbm90KiBiZSByZWZsZWN0ZWQgdG8gYW4gYXR0cmlidXRlLlxuICAgICAqIElmIHRoaXMgcmV0dXJucyBudWxsLCB0aGUgYXR0cmlidXRlIHdpbGwgYmUgcmVtb3ZlZCwgb3RoZXJ3aXNlIHRoZVxuICAgICAqIGF0dHJpYnV0ZSB3aWxsIGJlIHNldCB0byB0aGUgdmFsdWUuXG4gICAgICogVGhpcyB1c2VzIHRoZSBwcm9wZXJ0eSdzIGByZWZsZWN0YCBhbmQgYHR5cGUudG9BdHRyaWJ1dGVgIHByb3BlcnR5IG9wdGlvbnMuXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX3Byb3BlcnR5VmFsdWVUb0F0dHJpYnV0ZSh2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucy5yZWZsZWN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0eXBlID0gb3B0aW9ucy50eXBlO1xuICAgICAgICBjb25zdCBjb252ZXJ0ZXIgPSBvcHRpb25zLmNvbnZlcnRlcjtcbiAgICAgICAgY29uc3QgdG9BdHRyaWJ1dGUgPSBjb252ZXJ0ZXIgJiYgY29udmVydGVyLnRvQXR0cmlidXRlIHx8XG4gICAgICAgICAgICBkZWZhdWx0Q29udmVydGVyLnRvQXR0cmlidXRlO1xuICAgICAgICByZXR1cm4gdG9BdHRyaWJ1dGUodmFsdWUsIHR5cGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBlbGVtZW50IGluaXRpYWxpemF0aW9uLiBCeSBkZWZhdWx0IGNhcHR1cmVzIGFueSBwcmUtc2V0IHZhbHVlcyBmb3JcbiAgICAgKiByZWdpc3RlcmVkIHByb3BlcnRpZXMuXG4gICAgICovXG4gICAgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgdGhpcy5fc2F2ZUluc3RhbmNlUHJvcGVydGllcygpO1xuICAgICAgICAvLyBlbnN1cmVzIGZpcnN0IHVwZGF0ZSB3aWxsIGJlIGNhdWdodCBieSBhbiBlYXJseSBhY2Nlc3Mgb2ZcbiAgICAgICAgLy8gYHVwZGF0ZUNvbXBsZXRlYFxuICAgICAgICB0aGlzLl9yZXF1ZXN0VXBkYXRlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpeGVzIGFueSBwcm9wZXJ0aWVzIHNldCBvbiB0aGUgaW5zdGFuY2UgYmVmb3JlIHVwZ3JhZGUgdGltZS5cbiAgICAgKiBPdGhlcndpc2UgdGhlc2Ugd291bGQgc2hhZG93IHRoZSBhY2Nlc3NvciBhbmQgYnJlYWsgdGhlc2UgcHJvcGVydGllcy5cbiAgICAgKiBUaGUgcHJvcGVydGllcyBhcmUgc3RvcmVkIGluIGEgTWFwIHdoaWNoIGlzIHBsYXllZCBiYWNrIGFmdGVyIHRoZVxuICAgICAqIGNvbnN0cnVjdG9yIHJ1bnMuIE5vdGUsIG9uIHZlcnkgb2xkIHZlcnNpb25zIG9mIFNhZmFyaSAoPD05KSBvciBDaHJvbWVcbiAgICAgKiAoPD00MSksIHByb3BlcnRpZXMgY3JlYXRlZCBmb3IgbmF0aXZlIHBsYXRmb3JtIHByb3BlcnRpZXMgbGlrZSAoYGlkYCBvclxuICAgICAqIGBuYW1lYCkgbWF5IG5vdCBoYXZlIGRlZmF1bHQgdmFsdWVzIHNldCBpbiB0aGUgZWxlbWVudCBjb25zdHJ1Y3Rvci4gT25cbiAgICAgKiB0aGVzZSBicm93c2VycyBuYXRpdmUgcHJvcGVydGllcyBhcHBlYXIgb24gaW5zdGFuY2VzIGFuZCB0aGVyZWZvcmUgdGhlaXJcbiAgICAgKiBkZWZhdWx0IHZhbHVlIHdpbGwgb3ZlcndyaXRlIGFueSBlbGVtZW50IGRlZmF1bHQgKGUuZy4gaWYgdGhlIGVsZW1lbnQgc2V0c1xuICAgICAqIHRoaXMuaWQgPSAnaWQnIGluIHRoZSBjb25zdHJ1Y3RvciwgdGhlICdpZCcgd2lsbCBiZWNvbWUgJycgc2luY2UgdGhpcyBpc1xuICAgICAqIHRoZSBuYXRpdmUgcGxhdGZvcm0gZGVmYXVsdCkuXG4gICAgICovXG4gICAgX3NhdmVJbnN0YW5jZVByb3BlcnRpZXMoKSB7XG4gICAgICAgIC8vIFVzZSBmb3JFYWNoIHNvIHRoaXMgd29ya3MgZXZlbiBpZiBmb3Ivb2YgbG9vcHMgYXJlIGNvbXBpbGVkIHRvIGZvciBsb29wc1xuICAgICAgICAvLyBleHBlY3RpbmcgYXJyYXlzXG4gICAgICAgIHRoaXMuY29uc3RydWN0b3JcbiAgICAgICAgICAgIC5fY2xhc3NQcm9wZXJ0aWVzLmZvckVhY2goKF92LCBwKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShwKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpc1twXTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpc1twXTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2luc3RhbmNlUHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnN0YW5jZVByb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlUHJvcGVydGllcy5zZXQocCwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyBwcmV2aW91c2x5IHNhdmVkIGluc3RhbmNlIHByb3BlcnRpZXMuXG4gICAgICovXG4gICAgX2FwcGx5SW5zdGFuY2VQcm9wZXJ0aWVzKCkge1xuICAgICAgICAvLyBVc2UgZm9yRWFjaCBzbyB0aGlzIHdvcmtzIGV2ZW4gaWYgZm9yL29mIGxvb3BzIGFyZSBjb21waWxlZCB0byBmb3IgbG9vcHNcbiAgICAgICAgLy8gZXhwZWN0aW5nIGFycmF5c1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgICAgIHRoaXMuX2luc3RhbmNlUHJvcGVydGllcy5mb3JFYWNoKCh2LCBwKSA9PiB0aGlzW3BdID0gdik7XG4gICAgICAgIHRoaXMuX2luc3RhbmNlUHJvcGVydGllcyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgfCBTVEFURV9IQVNfQ09OTkVDVEVEO1xuICAgICAgICAvLyBFbnN1cmUgZmlyc3QgY29ubmVjdGlvbiBjb21wbGV0ZXMgYW4gdXBkYXRlLiBVcGRhdGVzIGNhbm5vdCBjb21wbGV0ZVxuICAgICAgICAvLyBiZWZvcmUgY29ubmVjdGlvbiBhbmQgaWYgb25lIGlzIHBlbmRpbmcgY29ubmVjdGlvbiB0aGVcbiAgICAgICAgLy8gYF9oYXNDb25uZWN0aW9uUmVzb2x2ZXJgIHdpbGwgZXhpc3QuIElmIHNvLCByZXNvbHZlIGl0IHRvIGNvbXBsZXRlIHRoZVxuICAgICAgICAvLyB1cGRhdGUsIG90aGVyd2lzZSByZXF1ZXN0VXBkYXRlLlxuICAgICAgICBpZiAodGhpcy5faGFzQ29ubmVjdGVkUmVzb2x2ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhc0Nvbm5lY3RlZFJlc29sdmVyKCk7XG4gICAgICAgICAgICB0aGlzLl9oYXNDb25uZWN0ZWRSZXNvbHZlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgZm9yIGBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpYCBpbiBleHRlbnNpb25zIHdoaWxlXG4gICAgICogcmVzZXJ2aW5nIHRoZSBwb3NzaWJpbGl0eSBvZiBtYWtpbmcgbm9uLWJyZWFraW5nIGZlYXR1cmUgYWRkaXRpb25zXG4gICAgICogd2hlbiBkaXNjb25uZWN0aW5nIGF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZS5cbiAgICAgKi9cbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3luY2hyb25pemVzIHByb3BlcnR5IHZhbHVlcyB3aGVuIGF0dHJpYnV0ZXMgY2hhbmdlLlxuICAgICAqL1xuICAgIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGQsIHZhbHVlKSB7XG4gICAgICAgIGlmIChvbGQgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9hdHRyaWJ1dGVUb1Byb3BlcnR5KG5hbWUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcHJvcGVydHlUb0F0dHJpYnV0ZShuYW1lLCB2YWx1ZSwgb3B0aW9ucyA9IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uKSB7XG4gICAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICBjb25zdCBhdHRyID0gY3Rvci5fYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KG5hbWUsIG9wdGlvbnMpO1xuICAgICAgICBpZiAoYXR0ciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyVmFsdWUgPSBjdG9yLl9wcm9wZXJ0eVZhbHVlVG9BdHRyaWJ1dGUodmFsdWUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgLy8gYW4gdW5kZWZpbmVkIHZhbHVlIGRvZXMgbm90IGNoYW5nZSB0aGUgYXR0cmlidXRlLlxuICAgICAgICAgICAgaWYgKGF0dHJWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVHJhY2sgaWYgdGhlIHByb3BlcnR5IGlzIGJlaW5nIHJlZmxlY3RlZCB0byBhdm9pZFxuICAgICAgICAgICAgLy8gc2V0dGluZyB0aGUgcHJvcGVydHkgYWdhaW4gdmlhIGBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tgLiBOb3RlOlxuICAgICAgICAgICAgLy8gMS4gdGhpcyB0YWtlcyBhZHZhbnRhZ2Ugb2YgdGhlIGZhY3QgdGhhdCB0aGUgY2FsbGJhY2sgaXMgc3luY2hyb25vdXMuXG4gICAgICAgICAgICAvLyAyLiB3aWxsIGJlaGF2ZSBpbmNvcnJlY3RseSBpZiBtdWx0aXBsZSBhdHRyaWJ1dGVzIGFyZSBpbiB0aGUgcmVhY3Rpb25cbiAgICAgICAgICAgIC8vIHN0YWNrIGF0IHRpbWUgb2YgY2FsbGluZy4gSG93ZXZlciwgc2luY2Ugd2UgcHJvY2VzcyBhdHRyaWJ1dGVzXG4gICAgICAgICAgICAvLyBpbiBgdXBkYXRlYCB0aGlzIHNob3VsZCBub3QgYmUgcG9zc2libGUgKG9yIGFuIGV4dHJlbWUgY29ybmVyIGNhc2VcbiAgICAgICAgICAgIC8vIHRoYXQgd2UnZCBsaWtlIHRvIGRpc2NvdmVyKS5cbiAgICAgICAgICAgIC8vIG1hcmsgc3RhdGUgcmVmbGVjdGluZ1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSB8IFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fQVRUUklCVVRFO1xuICAgICAgICAgICAgaWYgKGF0dHJWYWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShhdHRyLCBhdHRyVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbWFyayBzdGF0ZSBub3QgcmVmbGVjdGluZ1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSAmIH5TVEFURV9JU19SRUZMRUNUSU5HX1RPX0FUVFJJQlVURTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfYXR0cmlidXRlVG9Qcm9wZXJ0eShuYW1lLCB2YWx1ZSkge1xuICAgICAgICAvLyBVc2UgdHJhY2tpbmcgaW5mbyB0byBhdm9pZCBkZXNlcmlhbGl6aW5nIGF0dHJpYnV0ZSB2YWx1ZSBpZiBpdCB3YXNcbiAgICAgICAgLy8ganVzdCBzZXQgZnJvbSBhIHByb3BlcnR5IHNldHRlci5cbiAgICAgICAgaWYgKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgY29uc3QgcHJvcE5hbWUgPSBjdG9yLl9hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwLmdldChuYW1lKTtcbiAgICAgICAgaWYgKHByb3BOYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBjdG9yLl9jbGFzc1Byb3BlcnRpZXMuZ2V0KHByb3BOYW1lKSB8fCBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbjtcbiAgICAgICAgICAgIC8vIG1hcmsgc3RhdGUgcmVmbGVjdGluZ1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSB8IFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFk7XG4gICAgICAgICAgICB0aGlzW3Byb3BOYW1lXSA9XG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuICAgICAgICAgICAgICAgIGN0b3IuX3Byb3BlcnR5VmFsdWVGcm9tQXR0cmlidXRlKHZhbHVlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIC8vIG1hcmsgc3RhdGUgbm90IHJlZmxlY3RpbmdcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgJiB+U1RBVEVfSVNfUkVGTEVDVElOR19UT19QUk9QRVJUWTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIHByaXZhdGUgdmVyc2lvbiBvZiBgcmVxdWVzdFVwZGF0ZWAgZG9lcyBub3QgYWNjZXNzIG9yIHJldHVybiB0aGVcbiAgICAgKiBgdXBkYXRlQ29tcGxldGVgIHByb21pc2UuIFRoaXMgcHJvbWlzZSBjYW4gYmUgb3ZlcnJpZGRlbiBhbmQgaXMgdGhlcmVmb3JlXG4gICAgICogbm90IGZyZWUgdG8gYWNjZXNzLlxuICAgICAqL1xuICAgIF9yZXF1ZXN0VXBkYXRlKG5hbWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIGxldCBzaG91bGRSZXF1ZXN0VXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHByb3BlcnR5IGtleSwgcGVyZm9ybSBwcm9wZXJ0eSB1cGRhdGUgc3RlcHMuXG4gICAgICAgIGlmIChuYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGN0b3IuX2NsYXNzUHJvcGVydGllcy5nZXQobmFtZSkgfHwgZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb247XG4gICAgICAgICAgICBpZiAoY3Rvci5fdmFsdWVIYXNDaGFuZ2VkKHRoaXNbbmFtZV0sIG9sZFZhbHVlLCBvcHRpb25zLmhhc0NoYW5nZWQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jaGFuZ2VkUHJvcGVydGllcy5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlZFByb3BlcnRpZXMuc2V0KG5hbWUsIG9sZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQWRkIHRvIHJlZmxlY3RpbmcgcHJvcGVydGllcyBzZXQuXG4gICAgICAgICAgICAgICAgLy8gTm90ZSwgaXQncyBpbXBvcnRhbnQgdGhhdCBldmVyeSBjaGFuZ2UgaGFzIGEgY2hhbmNlIHRvIGFkZCB0aGVcbiAgICAgICAgICAgICAgICAvLyBwcm9wZXJ0eSB0byBgX3JlZmxlY3RpbmdQcm9wZXJ0aWVzYC4gVGhpcyBlbnN1cmVzIHNldHRpbmdcbiAgICAgICAgICAgICAgICAvLyBhdHRyaWJ1dGUgKyBwcm9wZXJ0eSByZWZsZWN0cyBjb3JyZWN0bHkuXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucmVmbGVjdCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAhKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfSVNfUkVGTEVDVElOR19UT19QUk9QRVJUWSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzLnNldChuYW1lLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBBYm9ydCB0aGUgcmVxdWVzdCBpZiB0aGUgcHJvcGVydHkgc2hvdWxkIG5vdCBiZSBjb25zaWRlcmVkIGNoYW5nZWQuXG4gICAgICAgICAgICAgICAgc2hvdWxkUmVxdWVzdFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5faGFzUmVxdWVzdGVkVXBkYXRlICYmIHNob3VsZFJlcXVlc3RVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2VucXVldWVVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0cyBhbiB1cGRhdGUgd2hpY2ggaXMgcHJvY2Vzc2VkIGFzeW5jaHJvbm91c2x5LiBUaGlzIHNob3VsZFxuICAgICAqIGJlIGNhbGxlZCB3aGVuIGFuIGVsZW1lbnQgc2hvdWxkIHVwZGF0ZSBiYXNlZCBvbiBzb21lIHN0YXRlIG5vdCB0cmlnZ2VyZWRcbiAgICAgKiBieSBzZXR0aW5nIGEgcHJvcGVydHkuIEluIHRoaXMgY2FzZSwgcGFzcyBubyBhcmd1bWVudHMuIEl0IHNob3VsZCBhbHNvIGJlXG4gICAgICogY2FsbGVkIHdoZW4gbWFudWFsbHkgaW1wbGVtZW50aW5nIGEgcHJvcGVydHkgc2V0dGVyLiBJbiB0aGlzIGNhc2UsIHBhc3MgdGhlXG4gICAgICogcHJvcGVydHkgYG5hbWVgIGFuZCBgb2xkVmFsdWVgIHRvIGVuc3VyZSB0aGF0IGFueSBjb25maWd1cmVkIHByb3BlcnR5XG4gICAgICogb3B0aW9ucyBhcmUgaG9ub3JlZC4gUmV0dXJucyB0aGUgYHVwZGF0ZUNvbXBsZXRlYCBQcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkXG4gICAgICogd2hlbiB0aGUgdXBkYXRlIGNvbXBsZXRlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIHtQcm9wZXJ0eUtleX0gKG9wdGlvbmFsKSBuYW1lIG9mIHJlcXVlc3RpbmcgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0gb2xkVmFsdWUge2FueX0gKG9wdGlvbmFsKSBvbGQgdmFsdWUgb2YgcmVxdWVzdGluZyBwcm9wZXJ0eVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSBBIFByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSB1cGRhdGUgY29tcGxldGVzLlxuICAgICAqL1xuICAgIHJlcXVlc3RVcGRhdGUobmFtZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgdGhpcy5fcmVxdWVzdFVwZGF0ZShuYW1lLCBvbGRWYWx1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZUNvbXBsZXRlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSBlbGVtZW50IHRvIGFzeW5jaHJvbm91c2x5IHVwZGF0ZS5cbiAgICAgKi9cbiAgICBhc3luYyBfZW5xdWV1ZVVwZGF0ZSgpIHtcbiAgICAgICAgLy8gTWFyayBzdGF0ZSB1cGRhdGluZy4uLlxuICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfVVBEQVRFX1JFUVVFU1RFRDtcbiAgICAgICAgbGV0IHJlc29sdmU7XG4gICAgICAgIGxldCByZWplY3Q7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzVXBkYXRlUHJvbWlzZSA9IHRoaXMuX3VwZGF0ZVByb21pc2U7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUgPSByZXM7XG4gICAgICAgICAgICByZWplY3QgPSByZWo7XG4gICAgICAgIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIGFueSBwcmV2aW91cyB1cGRhdGUgaGFzIHJlc29sdmVkIGJlZm9yZSB1cGRhdGluZy5cbiAgICAgICAgICAgIC8vIFRoaXMgYGF3YWl0YCBhbHNvIGVuc3VyZXMgdGhhdCBwcm9wZXJ0eSBjaGFuZ2VzIGFyZSBiYXRjaGVkLlxuICAgICAgICAgICAgYXdhaXQgcHJldmlvdXNVcGRhdGVQcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgYW55IHByZXZpb3VzIGVycm9ycy4gV2Ugb25seSBjYXJlIHRoYXQgdGhlIHByZXZpb3VzIGN5Y2xlIGlzXG4gICAgICAgICAgICAvLyBkb25lLiBBbnkgZXJyb3Igc2hvdWxkIGhhdmUgYmVlbiBoYW5kbGVkIGluIHRoZSBwcmV2aW91cyB1cGRhdGUuXG4gICAgICAgIH1cbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBlbGVtZW50IGhhcyBjb25uZWN0ZWQgYmVmb3JlIHVwZGF0aW5nLlxuICAgICAgICBpZiAoIXRoaXMuX2hhc0Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlcykgPT4gdGhpcy5faGFzQ29ubmVjdGVkUmVzb2x2ZXIgPSByZXMpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnBlcmZvcm1VcGRhdGUoKTtcbiAgICAgICAgICAgIC8vIElmIGBwZXJmb3JtVXBkYXRlYCByZXR1cm5zIGEgUHJvbWlzZSwgd2UgYXdhaXQgaXQuIFRoaXMgaXMgZG9uZSB0b1xuICAgICAgICAgICAgLy8gZW5hYmxlIGNvb3JkaW5hdGluZyB1cGRhdGVzIHdpdGggYSBzY2hlZHVsZXIuIE5vdGUsIHRoZSByZXN1bHQgaXNcbiAgICAgICAgICAgIC8vIGNoZWNrZWQgdG8gYXZvaWQgZGVsYXlpbmcgYW4gYWRkaXRpb25hbCBtaWNyb3Rhc2sgdW5sZXNzIHdlIG5lZWQgdG8uXG4gICAgICAgICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKCF0aGlzLl9oYXNSZXF1ZXN0ZWRVcGRhdGUpO1xuICAgIH1cbiAgICBnZXQgX2hhc0Nvbm5lY3RlZCgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX0hBU19DT05ORUNURUQpO1xuICAgIH1cbiAgICBnZXQgX2hhc1JlcXVlc3RlZFVwZGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX1VQREFURV9SRVFVRVNURUQpO1xuICAgIH1cbiAgICBnZXQgaGFzVXBkYXRlZCgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX0hBU19VUERBVEVEKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYW4gZWxlbWVudCB1cGRhdGUuIE5vdGUsIGlmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZHVyaW5nIHRoZVxuICAgICAqIHVwZGF0ZSwgYGZpcnN0VXBkYXRlZGAgYW5kIGB1cGRhdGVkYCB3aWxsIG5vdCBiZSBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBZb3UgY2FuIG92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIGNoYW5nZSB0aGUgdGltaW5nIG9mIHVwZGF0ZXMuIElmIHRoaXNcbiAgICAgKiBtZXRob2QgaXMgb3ZlcnJpZGRlbiwgYHN1cGVyLnBlcmZvcm1VcGRhdGUoKWAgbXVzdCBiZSBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBGb3IgaW5zdGFuY2UsIHRvIHNjaGVkdWxlIHVwZGF0ZXMgdG8gb2NjdXIganVzdCBiZWZvcmUgdGhlIG5leHQgZnJhbWU6XG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBwcm90ZWN0ZWQgYXN5bmMgcGVyZm9ybVVwZGF0ZSgpOiBQcm9taXNlPHVua25vd24+IHtcbiAgICAgKiAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gcmVzb2x2ZSgpKSk7XG4gICAgICogICBzdXBlci5wZXJmb3JtVXBkYXRlKCk7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHBlcmZvcm1VcGRhdGUoKSB7XG4gICAgICAgIC8vIE1peGluIGluc3RhbmNlIHByb3BlcnRpZXMgb25jZSwgaWYgdGhleSBleGlzdC5cbiAgICAgICAgaWYgKHRoaXMuX2luc3RhbmNlUHJvcGVydGllcykge1xuICAgICAgICAgICAgdGhpcy5fYXBwbHlJbnN0YW5jZVByb3BlcnRpZXMoKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2hvdWxkVXBkYXRlID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGNoYW5nZWRQcm9wZXJ0aWVzID0gdGhpcy5fY2hhbmdlZFByb3BlcnRpZXM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzaG91bGRVcGRhdGUgPSB0aGlzLnNob3VsZFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgICAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBQcmV2ZW50IGBmaXJzdFVwZGF0ZWRgIGFuZCBgdXBkYXRlZGAgZnJvbSBydW5uaW5nIHdoZW4gdGhlcmUncyBhblxuICAgICAgICAgICAgLy8gdXBkYXRlIGV4Y2VwdGlvbi5cbiAgICAgICAgICAgIHNob3VsZFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIC8vIEVuc3VyZSBlbGVtZW50IGNhbiBhY2NlcHQgYWRkaXRpb25hbCB1cGRhdGVzIGFmdGVyIGFuIGV4Y2VwdGlvbi5cbiAgICAgICAgICAgIHRoaXMuX21hcmtVcGRhdGVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgICAgICAgaWYgKCEodGhpcy5fdXBkYXRlU3RhdGUgJiBTVEFURV9IQVNfVVBEQVRFRCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfSEFTX1VQREFURUQ7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfbWFya1VwZGF0ZWQoKSB7XG4gICAgICAgIHRoaXMuX2NoYW5nZWRQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlICYgflNUQVRFX1VQREFURV9SRVFVRVNURUQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgZWxlbWVudCBoYXMgY29tcGxldGVkIHVwZGF0aW5nLlxuICAgICAqIFRoZSBQcm9taXNlIHZhbHVlIGlzIGEgYm9vbGVhbiB0aGF0IGlzIGB0cnVlYCBpZiB0aGUgZWxlbWVudCBjb21wbGV0ZWQgdGhlXG4gICAgICogdXBkYXRlIHdpdGhvdXQgdHJpZ2dlcmluZyBhbm90aGVyIHVwZGF0ZS4gVGhlIFByb21pc2UgcmVzdWx0IGlzIGBmYWxzZWAgaWZcbiAgICAgKiBhIHByb3BlcnR5IHdhcyBzZXQgaW5zaWRlIGB1cGRhdGVkKClgLiBJZiB0aGUgUHJvbWlzZSBpcyByZWplY3RlZCwgYW5cbiAgICAgKiBleGNlcHRpb24gd2FzIHRocm93biBkdXJpbmcgdGhlIHVwZGF0ZS5cbiAgICAgKlxuICAgICAqIFRvIGF3YWl0IGFkZGl0aW9uYWwgYXN5bmNocm9ub3VzIHdvcmssIG92ZXJyaWRlIHRoZSBgX2dldFVwZGF0ZUNvbXBsZXRlYFxuICAgICAqIG1ldGhvZC4gRm9yIGV4YW1wbGUsIGl0IGlzIHNvbWV0aW1lcyB1c2VmdWwgdG8gYXdhaXQgYSByZW5kZXJlZCBlbGVtZW50XG4gICAgICogYmVmb3JlIGZ1bGZpbGxpbmcgdGhpcyBQcm9taXNlLiBUbyBkbyB0aGlzLCBmaXJzdCBhd2FpdFxuICAgICAqIGBzdXBlci5fZ2V0VXBkYXRlQ29tcGxldGUoKWAsIHRoZW4gYW55IHN1YnNlcXVlbnQgc3RhdGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgcmV0dXJucyBhIGJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgaWYgdGhlXG4gICAgICogdXBkYXRlIHJlc29sdmVkIHdpdGhvdXQgdHJpZ2dlcmluZyBhbm90aGVyIHVwZGF0ZS5cbiAgICAgKi9cbiAgICBnZXQgdXBkYXRlQ29tcGxldGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRVcGRhdGVDb21wbGV0ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSBwb2ludCBmb3IgdGhlIGB1cGRhdGVDb21wbGV0ZWAgcHJvbWlzZS5cbiAgICAgKlxuICAgICAqIEl0IGlzIG5vdCBzYWZlIHRvIG92ZXJyaWRlIHRoZSBgdXBkYXRlQ29tcGxldGVgIGdldHRlciBkaXJlY3RseSBkdWUgdG8gYVxuICAgICAqIGxpbWl0YXRpb24gaW4gVHlwZVNjcmlwdCB3aGljaCBtZWFucyBpdCBpcyBub3QgcG9zc2libGUgdG8gY2FsbCBhXG4gICAgICogc3VwZXJjbGFzcyBnZXR0ZXIgKGUuZy4gYHN1cGVyLnVwZGF0ZUNvbXBsZXRlLnRoZW4oLi4uKWApIHdoZW4gdGhlIHRhcmdldFxuICAgICAqIGxhbmd1YWdlIGlzIEVTNSAoaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8zMzgpLlxuICAgICAqIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBvdmVycmlkZGVuIGluc3RlYWQuIEZvciBleGFtcGxlOlxuICAgICAqXG4gICAgICogICBjbGFzcyBNeUVsZW1lbnQgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICAgKiAgICAgYXN5bmMgX2dldFVwZGF0ZUNvbXBsZXRlKCkge1xuICAgICAqICAgICAgIGF3YWl0IHN1cGVyLl9nZXRVcGRhdGVDb21wbGV0ZSgpO1xuICAgICAqICAgICAgIGF3YWl0IHRoaXMuX215Q2hpbGQudXBkYXRlQ29tcGxldGU7XG4gICAgICogICAgIH1cbiAgICAgKiAgIH1cbiAgICAgKi9cbiAgICBfZ2V0VXBkYXRlQ29tcGxldGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGVQcm9taXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb250cm9scyB3aGV0aGVyIG9yIG5vdCBgdXBkYXRlYCBzaG91bGQgYmUgY2FsbGVkIHdoZW4gdGhlIGVsZW1lbnQgcmVxdWVzdHNcbiAgICAgKiBhbiB1cGRhdGUuIEJ5IGRlZmF1bHQsIHRoaXMgbWV0aG9kIGFsd2F5cyByZXR1cm5zIGB0cnVlYCwgYnV0IHRoaXMgY2FuIGJlXG4gICAgICogY3VzdG9taXplZCB0byBjb250cm9sIHdoZW4gdG8gdXBkYXRlLlxuICAgICAqXG4gICAgICogKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICovXG4gICAgc2hvdWxkVXBkYXRlKF9jaGFuZ2VkUHJvcGVydGllcykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZWxlbWVudC4gVGhpcyBtZXRob2QgcmVmbGVjdHMgcHJvcGVydHkgdmFsdWVzIHRvIGF0dHJpYnV0ZXMuXG4gICAgICogSXQgY2FuIGJlIG92ZXJyaWRkZW4gdG8gcmVuZGVyIGFuZCBrZWVwIHVwZGF0ZWQgZWxlbWVudCBET00uXG4gICAgICogU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsICpub3QqIHRyaWdnZXJcbiAgICAgKiBhbm90aGVyIHVwZGF0ZS5cbiAgICAgKlxuICAgICAqICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgICAqL1xuICAgIHVwZGF0ZShfY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAvLyBVc2UgZm9yRWFjaCBzbyB0aGlzIHdvcmtzIGV2ZW4gaWYgZm9yL29mIGxvb3BzIGFyZSBjb21waWxlZCB0byBmb3JcbiAgICAgICAgICAgIC8vIGxvb3BzIGV4cGVjdGluZyBhcnJheXNcbiAgICAgICAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzLmZvckVhY2goKHYsIGspID0+IHRoaXMuX3Byb3BlcnR5VG9BdHRyaWJ1dGUoaywgdGhpc1trXSwgdikpO1xuICAgICAgICAgICAgdGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuZXZlciB0aGUgZWxlbWVudCBpcyB1cGRhdGVkLiBJbXBsZW1lbnQgdG8gcGVyZm9ybVxuICAgICAqIHBvc3QtdXBkYXRpbmcgdGFza3MgdmlhIERPTSBBUElzLCBmb3IgZXhhbXBsZSwgZm9jdXNpbmcgYW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGUgdGhpcyBtZXRob2Qgd2lsbCB0cmlnZ2VyIHRoZSBlbGVtZW50IHRvIHVwZGF0ZVxuICAgICAqIGFnYWluIGFmdGVyIHRoaXMgdXBkYXRlIGN5Y2xlIGNvbXBsZXRlcy5cbiAgICAgKlxuICAgICAqICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgICAqL1xuICAgIHVwZGF0ZWQoX2NoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgd2hlbiB0aGUgZWxlbWVudCBpcyBmaXJzdCB1cGRhdGVkLiBJbXBsZW1lbnQgdG8gcGVyZm9ybSBvbmUgdGltZVxuICAgICAqIHdvcmsgb24gdGhlIGVsZW1lbnQgYWZ0ZXIgdXBkYXRlLlxuICAgICAqXG4gICAgICogU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsIHRyaWdnZXIgdGhlIGVsZW1lbnQgdG8gdXBkYXRlXG4gICAgICogYWdhaW4gYWZ0ZXIgdGhpcyB1cGRhdGUgY3ljbGUgY29tcGxldGVzLlxuICAgICAqXG4gICAgICogKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICovXG4gICAgZmlyc3RVcGRhdGVkKF9jaGFuZ2VkUHJvcGVydGllcykge1xuICAgIH1cbn1cbl9hID0gZmluYWxpemVkO1xuLyoqXG4gKiBNYXJrcyBjbGFzcyBhcyBoYXZpbmcgZmluaXNoZWQgY3JlYXRpbmcgcHJvcGVydGllcy5cbiAqL1xuVXBkYXRpbmdFbGVtZW50W19hXSA9IHRydWU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cGRhdGluZy1lbGVtZW50LmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbmNvbnN0IGxlZ2FjeUN1c3RvbUVsZW1lbnQgPSAodGFnTmFtZSwgY2xhenopID0+IHtcbiAgICB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKHRhZ05hbWUsIGNsYXp6KTtcbiAgICAvLyBDYXN0IGFzIGFueSBiZWNhdXNlIFRTIGRvZXNuJ3QgcmVjb2duaXplIHRoZSByZXR1cm4gdHlwZSBhcyBiZWluZyBhXG4gICAgLy8gc3VidHlwZSBvZiB0aGUgZGVjb3JhdGVkIGNsYXNzIHdoZW4gY2xhenogaXMgdHlwZWQgYXNcbiAgICAvLyBgQ29uc3RydWN0b3I8SFRNTEVsZW1lbnQ+YCBmb3Igc29tZSByZWFzb24uXG4gICAgLy8gYENvbnN0cnVjdG9yPEhUTUxFbGVtZW50PmAgaXMgaGVscGZ1bCB0byBtYWtlIHN1cmUgdGhlIGRlY29yYXRvciBpc1xuICAgIC8vIGFwcGxpZWQgdG8gZWxlbWVudHMgaG93ZXZlci5cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgcmV0dXJuIGNsYXp6O1xufTtcbmNvbnN0IHN0YW5kYXJkQ3VzdG9tRWxlbWVudCA9ICh0YWdOYW1lLCBkZXNjcmlwdG9yKSA9PiB7XG4gICAgY29uc3QgeyBraW5kLCBlbGVtZW50cyB9ID0gZGVzY3JpcHRvcjtcbiAgICByZXR1cm4ge1xuICAgICAgICBraW5kLFxuICAgICAgICBlbGVtZW50cyxcbiAgICAgICAgLy8gVGhpcyBjYWxsYmFjayBpcyBjYWxsZWQgb25jZSB0aGUgY2xhc3MgaXMgb3RoZXJ3aXNlIGZ1bGx5IGRlZmluZWRcbiAgICAgICAgZmluaXNoZXIoY2xhenopIHtcbiAgICAgICAgICAgIHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUodGFnTmFtZSwgY2xhenopO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vKipcbiAqIENsYXNzIGRlY29yYXRvciBmYWN0b3J5IHRoYXQgZGVmaW5lcyB0aGUgZGVjb3JhdGVkIGNsYXNzIGFzIGEgY3VzdG9tIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHRhZ05hbWUgdGhlIG5hbWUgb2YgdGhlIGN1c3RvbSBlbGVtZW50IHRvIGRlZmluZVxuICovXG5leHBvcnQgY29uc3QgY3VzdG9tRWxlbWVudCA9ICh0YWdOYW1lKSA9PiAoY2xhc3NPckRlc2NyaXB0b3IpID0+ICh0eXBlb2YgY2xhc3NPckRlc2NyaXB0b3IgPT09ICdmdW5jdGlvbicpID9cbiAgICBsZWdhY3lDdXN0b21FbGVtZW50KHRhZ05hbWUsIGNsYXNzT3JEZXNjcmlwdG9yKSA6XG4gICAgc3RhbmRhcmRDdXN0b21FbGVtZW50KHRhZ05hbWUsIGNsYXNzT3JEZXNjcmlwdG9yKTtcbmNvbnN0IHN0YW5kYXJkUHJvcGVydHkgPSAob3B0aW9ucywgZWxlbWVudCkgPT4ge1xuICAgIC8vIFdoZW4gZGVjb3JhdGluZyBhbiBhY2Nlc3NvciwgcGFzcyBpdCB0aHJvdWdoIGFuZCBhZGQgcHJvcGVydHkgbWV0YWRhdGEuXG4gICAgLy8gTm90ZSwgdGhlIGBoYXNPd25Qcm9wZXJ0eWAgY2hlY2sgaW4gYGNyZWF0ZVByb3BlcnR5YCBlbnN1cmVzIHdlIGRvbid0XG4gICAgLy8gc3RvbXAgb3ZlciB0aGUgdXNlcidzIGFjY2Vzc29yLlxuICAgIGlmIChlbGVtZW50LmtpbmQgPT09ICdtZXRob2QnICYmIGVsZW1lbnQuZGVzY3JpcHRvciAmJlxuICAgICAgICAhKCd2YWx1ZScgaW4gZWxlbWVudC5kZXNjcmlwdG9yKSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZWxlbWVudCwgeyBmaW5pc2hlcihjbGF6eikge1xuICAgICAgICAgICAgICAgIGNsYXp6LmNyZWF0ZVByb3BlcnR5KGVsZW1lbnQua2V5LCBvcHRpb25zKTtcbiAgICAgICAgICAgIH0gfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBjcmVhdGVQcm9wZXJ0eSgpIHRha2VzIGNhcmUgb2YgZGVmaW5pbmcgdGhlIHByb3BlcnR5LCBidXQgd2Ugc3RpbGxcbiAgICAgICAgLy8gbXVzdCByZXR1cm4gc29tZSBraW5kIG9mIGRlc2NyaXB0b3IsIHNvIHJldHVybiBhIGRlc2NyaXB0b3IgZm9yIGFuXG4gICAgICAgIC8vIHVudXNlZCBwcm90b3R5cGUgZmllbGQuIFRoZSBmaW5pc2hlciBjYWxscyBjcmVhdGVQcm9wZXJ0eSgpLlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2luZDogJ2ZpZWxkJyxcbiAgICAgICAgICAgIGtleTogU3ltYm9sKCksXG4gICAgICAgICAgICBwbGFjZW1lbnQ6ICdvd24nLFxuICAgICAgICAgICAgZGVzY3JpcHRvcjoge30sXG4gICAgICAgICAgICAvLyBXaGVuIEBiYWJlbC9wbHVnaW4tcHJvcG9zYWwtZGVjb3JhdG9ycyBpbXBsZW1lbnRzIGluaXRpYWxpemVycyxcbiAgICAgICAgICAgIC8vIGRvIHRoaXMgaW5zdGVhZCBvZiB0aGUgaW5pdGlhbGl6ZXIgYmVsb3cuIFNlZTpcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iYWJlbC9iYWJlbC9pc3N1ZXMvOTI2MCBleHRyYXM6IFtcbiAgICAgICAgICAgIC8vICAge1xuICAgICAgICAgICAgLy8gICAgIGtpbmQ6ICdpbml0aWFsaXplcicsXG4gICAgICAgICAgICAvLyAgICAgcGxhY2VtZW50OiAnb3duJyxcbiAgICAgICAgICAgIC8vICAgICBpbml0aWFsaXplcjogZGVzY3JpcHRvci5pbml0aWFsaXplcixcbiAgICAgICAgICAgIC8vICAgfVxuICAgICAgICAgICAgLy8gXSxcbiAgICAgICAgICAgIGluaXRpYWxpemVyKCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5pbml0aWFsaXplciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzW2VsZW1lbnQua2V5XSA9IGVsZW1lbnQuaW5pdGlhbGl6ZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmluaXNoZXIoY2xhenopIHtcbiAgICAgICAgICAgICAgICBjbGF6ei5jcmVhdGVQcm9wZXJ0eShlbGVtZW50LmtleSwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufTtcbmNvbnN0IGxlZ2FjeVByb3BlcnR5ID0gKG9wdGlvbnMsIHByb3RvLCBuYW1lKSA9PiB7XG4gICAgcHJvdG8uY29uc3RydWN0b3JcbiAgICAgICAgLmNyZWF0ZVByb3BlcnR5KG5hbWUsIG9wdGlvbnMpO1xufTtcbi8qKlxuICogQSBwcm9wZXJ0eSBkZWNvcmF0b3Igd2hpY2ggY3JlYXRlcyBhIExpdEVsZW1lbnQgcHJvcGVydHkgd2hpY2ggcmVmbGVjdHMgYVxuICogY29ycmVzcG9uZGluZyBhdHRyaWJ1dGUgdmFsdWUuIEEgYFByb3BlcnR5RGVjbGFyYXRpb25gIG1heSBvcHRpb25hbGx5IGJlXG4gKiBzdXBwbGllZCB0byBjb25maWd1cmUgcHJvcGVydHkgZmVhdHVyZXMuXG4gKlxuICogQEV4cG9ydERlY29yYXRlZEl0ZW1zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9wZXJ0eShvcHRpb25zKSB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBkZWNvcmF0b3JcbiAgICByZXR1cm4gKHByb3RvT3JEZXNjcmlwdG9yLCBuYW1lKSA9PiAobmFtZSAhPT0gdW5kZWZpbmVkKSA/XG4gICAgICAgIGxlZ2FjeVByb3BlcnR5KG9wdGlvbnMsIHByb3RvT3JEZXNjcmlwdG9yLCBuYW1lKSA6XG4gICAgICAgIHN0YW5kYXJkUHJvcGVydHkob3B0aW9ucywgcHJvdG9PckRlc2NyaXB0b3IpO1xufVxuLyoqXG4gKiBBIHByb3BlcnR5IGRlY29yYXRvciB0aGF0IGNvbnZlcnRzIGEgY2xhc3MgcHJvcGVydHkgaW50byBhIGdldHRlciB0aGF0XG4gKiBleGVjdXRlcyBhIHF1ZXJ5U2VsZWN0b3Igb24gdGhlIGVsZW1lbnQncyByZW5kZXJSb290LlxuICpcbiAqIEBFeHBvcnREZWNvcmF0ZWRJdGVtc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcXVlcnkoc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gKHByb3RvT3JEZXNjcmlwdG9yLCBcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IGRlY29yYXRvclxuICAgIG5hbWUpID0+IHtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJSb290LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiAobmFtZSAhPT0gdW5kZWZpbmVkKSA/XG4gICAgICAgICAgICBsZWdhY3lRdWVyeShkZXNjcmlwdG9yLCBwcm90b09yRGVzY3JpcHRvciwgbmFtZSkgOlxuICAgICAgICAgICAgc3RhbmRhcmRRdWVyeShkZXNjcmlwdG9yLCBwcm90b09yRGVzY3JpcHRvcik7XG4gICAgfTtcbn1cbi8qKlxuICogQSBwcm9wZXJ0eSBkZWNvcmF0b3IgdGhhdCBjb252ZXJ0cyBhIGNsYXNzIHByb3BlcnR5IGludG8gYSBnZXR0ZXJcbiAqIHRoYXQgZXhlY3V0ZXMgYSBxdWVyeVNlbGVjdG9yQWxsIG9uIHRoZSBlbGVtZW50J3MgcmVuZGVyUm9vdC5cbiAqXG4gKiBARXhwb3J0RGVjb3JhdGVkSXRlbXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5QWxsKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIChwcm90b09yRGVzY3JpcHRvciwgXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBkZWNvcmF0b3JcbiAgICBuYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyUm9vdC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gKG5hbWUgIT09IHVuZGVmaW5lZCkgP1xuICAgICAgICAgICAgbGVnYWN5UXVlcnkoZGVzY3JpcHRvciwgcHJvdG9PckRlc2NyaXB0b3IsIG5hbWUpIDpcbiAgICAgICAgICAgIHN0YW5kYXJkUXVlcnkoZGVzY3JpcHRvciwgcHJvdG9PckRlc2NyaXB0b3IpO1xuICAgIH07XG59XG5jb25zdCBsZWdhY3lRdWVyeSA9IChkZXNjcmlwdG9yLCBwcm90bywgbmFtZSkgPT4ge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywgbmFtZSwgZGVzY3JpcHRvcik7XG59O1xuY29uc3Qgc3RhbmRhcmRRdWVyeSA9IChkZXNjcmlwdG9yLCBlbGVtZW50KSA9PiAoe1xuICAgIGtpbmQ6ICdtZXRob2QnLFxuICAgIHBsYWNlbWVudDogJ3Byb3RvdHlwZScsXG4gICAga2V5OiBlbGVtZW50LmtleSxcbiAgICBkZXNjcmlwdG9yLFxufSk7XG5jb25zdCBzdGFuZGFyZEV2ZW50T3B0aW9ucyA9IChvcHRpb25zLCBlbGVtZW50KSA9PiB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGVsZW1lbnQsIHsgZmluaXNoZXIoY2xhenopIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY2xhenoucHJvdG90eXBlW2VsZW1lbnQua2V5XSwgb3B0aW9ucyk7XG4gICAgICAgIH0gfSk7XG59O1xuY29uc3QgbGVnYWN5RXZlbnRPcHRpb25zID0gXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IGxlZ2FjeSBkZWNvcmF0b3JcbihvcHRpb25zLCBwcm90bywgbmFtZSkgPT4ge1xuICAgIE9iamVjdC5hc3NpZ24ocHJvdG9bbmFtZV0sIG9wdGlvbnMpO1xufTtcbi8qKlxuICogQWRkcyBldmVudCBsaXN0ZW5lciBvcHRpb25zIHRvIGEgbWV0aG9kIHVzZWQgYXMgYW4gZXZlbnQgbGlzdGVuZXIgaW4gYVxuICogbGl0LWh0bWwgdGVtcGxhdGUuXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgQW4gb2JqZWN0IHRoYXQgc3BlY2lmaXMgZXZlbnQgbGlzdGVuZXIgb3B0aW9ucyBhcyBhY2NlcHRlZCBieVxuICogYEV2ZW50VGFyZ2V0I2FkZEV2ZW50TGlzdGVuZXJgIGFuZCBgRXZlbnRUYXJnZXQjcmVtb3ZlRXZlbnRMaXN0ZW5lcmAuXG4gKlxuICogQ3VycmVudCBicm93c2VycyBzdXBwb3J0IHRoZSBgY2FwdHVyZWAsIGBwYXNzaXZlYCwgYW5kIGBvbmNlYCBvcHRpb25zLiBTZWU6XG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRXZlbnRUYXJnZXQvYWRkRXZlbnRMaXN0ZW5lciNQYXJhbWV0ZXJzXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiAgICAgY2xhc3MgTXlFbGVtZW50IHtcbiAqXG4gKiAgICAgICBjbGlja2VkID0gZmFsc2U7XG4gKlxuICogICAgICAgcmVuZGVyKCkge1xuICogICAgICAgICByZXR1cm4gaHRtbGA8ZGl2IEBjbGljaz0ke3RoaXMuX29uQ2xpY2t9YD48YnV0dG9uPjwvYnV0dG9uPjwvZGl2PmA7XG4gKiAgICAgICB9XG4gKlxuICogICAgICAgQGV2ZW50T3B0aW9ucyh7Y2FwdHVyZTogdHJ1ZX0pXG4gKiAgICAgICBfb25DbGljayhlKSB7XG4gKiAgICAgICAgIHRoaXMuY2xpY2tlZCA9IHRydWU7XG4gKiAgICAgICB9XG4gKiAgICAgfVxuICovXG5leHBvcnQgY29uc3QgZXZlbnRPcHRpb25zID0gKG9wdGlvbnMpID0+IFxuLy8gUmV0dXJuIHZhbHVlIHR5cGVkIGFzIGFueSB0byBwcmV2ZW50IFR5cGVTY3JpcHQgZnJvbSBjb21wbGFpbmluZyB0aGF0XG4vLyBzdGFuZGFyZCBkZWNvcmF0b3IgZnVuY3Rpb24gc2lnbmF0dXJlIGRvZXMgbm90IG1hdGNoIFR5cGVTY3JpcHQgZGVjb3JhdG9yXG4vLyBzaWduYXR1cmVcbi8vIFRPRE8oa3NjaGFhZik6IHVuY2xlYXIgd2h5IGl0IHdhcyBvbmx5IGZhaWxpbmcgb24gdGhpcyBkZWNvcmF0b3IgYW5kIG5vdFxuLy8gdGhlIG90aGVyc1xuKChwcm90b09yRGVzY3JpcHRvciwgbmFtZSkgPT4gKG5hbWUgIT09IHVuZGVmaW5lZCkgP1xuICAgIGxlZ2FjeUV2ZW50T3B0aW9ucyhvcHRpb25zLCBwcm90b09yRGVzY3JpcHRvciwgbmFtZSkgOlxuICAgIHN0YW5kYXJkRXZlbnRPcHRpb25zKG9wdGlvbnMsIHByb3RvT3JEZXNjcmlwdG9yKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWNvcmF0b3JzLmpzLm1hcCIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxOSBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlXG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dCBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhc1xucGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc28gc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudFxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuZXhwb3J0IGNvbnN0IHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cyA9ICgnYWRvcHRlZFN0eWxlU2hlZXRzJyBpbiBEb2N1bWVudC5wcm90b3R5cGUpICYmXG4gICAgKCdyZXBsYWNlJyBpbiBDU1NTdHlsZVNoZWV0LnByb3RvdHlwZSk7XG5jb25zdCBjb25zdHJ1Y3Rpb25Ub2tlbiA9IFN5bWJvbCgpO1xuZXhwb3J0IGNsYXNzIENTU1Jlc3VsdCB7XG4gICAgY29uc3RydWN0b3IoY3NzVGV4dCwgc2FmZVRva2VuKSB7XG4gICAgICAgIGlmIChzYWZlVG9rZW4gIT09IGNvbnN0cnVjdGlvblRva2VuKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NTU1Jlc3VsdCBpcyBub3QgY29uc3RydWN0YWJsZS4gVXNlIGB1bnNhZmVDU1NgIG9yIGBjc3NgIGluc3RlYWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jc3NUZXh0ID0gY3NzVGV4dDtcbiAgICB9XG4gICAgLy8gTm90ZSwgdGhpcyBpcyBhIGdldHRlciBzbyB0aGF0IGl0J3MgbGF6eS4gSW4gcHJhY3RpY2UsIHRoaXMgbWVhbnNcbiAgICAvLyBzdHlsZXNoZWV0cyBhcmUgbm90IGNyZWF0ZWQgdW50aWwgdGhlIGZpcnN0IGVsZW1lbnQgaW5zdGFuY2UgaXMgbWFkZS5cbiAgICBnZXQgc3R5bGVTaGVldCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0eWxlU2hlZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gTm90ZSwgaWYgYGFkb3B0ZWRTdHlsZVNoZWV0c2AgaXMgc3VwcG9ydGVkIHRoZW4gd2UgYXNzdW1lIENTU1N0eWxlU2hlZXRcbiAgICAgICAgICAgIC8vIGlzIGNvbnN0cnVjdGFibGUuXG4gICAgICAgICAgICBpZiAoc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3R5bGVTaGVldCA9IG5ldyBDU1NTdHlsZVNoZWV0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3R5bGVTaGVldC5yZXBsYWNlU3luYyh0aGlzLmNzc1RleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3R5bGVTaGVldCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0eWxlU2hlZXQ7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jc3NUZXh0O1xuICAgIH1cbn1cbi8qKlxuICogV3JhcCBhIHZhbHVlIGZvciBpbnRlcnBvbGF0aW9uIGluIGEgY3NzIHRhZ2dlZCB0ZW1wbGF0ZSBsaXRlcmFsLlxuICpcbiAqIFRoaXMgaXMgdW5zYWZlIGJlY2F1c2UgdW50cnVzdGVkIENTUyB0ZXh0IGNhbiBiZSB1c2VkIHRvIHBob25lIGhvbWVcbiAqIG9yIGV4ZmlsdHJhdGUgZGF0YSB0byBhbiBhdHRhY2tlciBjb250cm9sbGVkIHNpdGUuIFRha2UgY2FyZSB0byBvbmx5IHVzZVxuICogdGhpcyB3aXRoIHRydXN0ZWQgaW5wdXQuXG4gKi9cbmV4cG9ydCBjb25zdCB1bnNhZmVDU1MgPSAodmFsdWUpID0+IHtcbiAgICByZXR1cm4gbmV3IENTU1Jlc3VsdChTdHJpbmcodmFsdWUpLCBjb25zdHJ1Y3Rpb25Ub2tlbik7XG59O1xuY29uc3QgdGV4dEZyb21DU1NSZXN1bHQgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBDU1NSZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLmNzc1RleHQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBWYWx1ZSBwYXNzZWQgdG8gJ2NzcycgZnVuY3Rpb24gbXVzdCBiZSBhICdjc3MnIGZ1bmN0aW9uIHJlc3VsdDogJHt2YWx1ZX0uIFVzZSAndW5zYWZlQ1NTJyB0byBwYXNzIG5vbi1saXRlcmFsIHZhbHVlcywgYnV0XG4gICAgICAgICAgICB0YWtlIGNhcmUgdG8gZW5zdXJlIHBhZ2Ugc2VjdXJpdHkuYCk7XG4gICAgfVxufTtcbi8qKlxuICogVGVtcGxhdGUgdGFnIHdoaWNoIHdoaWNoIGNhbiBiZSB1c2VkIHdpdGggTGl0RWxlbWVudCdzIGBzdHlsZWAgcHJvcGVydHkgdG9cbiAqIHNldCBlbGVtZW50IHN0eWxlcy4gRm9yIHNlY3VyaXR5IHJlYXNvbnMsIG9ubHkgbGl0ZXJhbCBzdHJpbmcgdmFsdWVzIG1heSBiZVxuICogdXNlZC4gVG8gaW5jb3Jwb3JhdGUgbm9uLWxpdGVyYWwgdmFsdWVzIGB1bnNhZmVDU1NgIG1heSBiZSB1c2VkIGluc2lkZSBhXG4gKiB0ZW1wbGF0ZSBzdHJpbmcgcGFydC5cbiAqL1xuZXhwb3J0IGNvbnN0IGNzcyA9IChzdHJpbmdzLCAuLi52YWx1ZXMpID0+IHtcbiAgICBjb25zdCBjc3NUZXh0ID0gdmFsdWVzLnJlZHVjZSgoYWNjLCB2LCBpZHgpID0+IGFjYyArIHRleHRGcm9tQ1NTUmVzdWx0KHYpICsgc3RyaW5nc1tpZHggKyAxXSwgc3RyaW5nc1swXSk7XG4gICAgcmV0dXJuIG5ldyBDU1NSZXN1bHQoY3NzVGV4dCwgY29uc3RydWN0aW9uVG9rZW4pO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNzcy10YWcuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuaW1wb3J0IHsgVGVtcGxhdGVSZXN1bHQgfSBmcm9tICdsaXQtaHRtbCc7XG5pbXBvcnQgeyByZW5kZXIgfSBmcm9tICdsaXQtaHRtbC9saWIvc2hhZHktcmVuZGVyLmpzJztcbmltcG9ydCB7IFVwZGF0aW5nRWxlbWVudCB9IGZyb20gJy4vbGliL3VwZGF0aW5nLWVsZW1lbnQuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvdXBkYXRpbmctZWxlbWVudC5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9kZWNvcmF0b3JzLmpzJztcbmV4cG9ydCB7IGh0bWwsIHN2ZywgVGVtcGxhdGVSZXN1bHQsIFNWR1RlbXBsYXRlUmVzdWx0IH0gZnJvbSAnbGl0LWh0bWwvbGl0LWh0bWwuanMnO1xuaW1wb3J0IHsgc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzIH0gZnJvbSAnLi9saWIvY3NzLXRhZy5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9jc3MtdGFnLmpzJztcbi8vIElNUE9SVEFOVDogZG8gbm90IGNoYW5nZSB0aGUgcHJvcGVydHkgbmFtZSBvciB0aGUgYXNzaWdubWVudCBleHByZXNzaW9uLlxuLy8gVGhpcyBsaW5lIHdpbGwgYmUgdXNlZCBpbiByZWdleGVzIHRvIHNlYXJjaCBmb3IgTGl0RWxlbWVudCB1c2FnZS5cbi8vIFRPRE8oanVzdGluZmFnbmFuaSk6IGluamVjdCB2ZXJzaW9uIG51bWJlciBhdCBidWlsZCB0aW1lXG4od2luZG93WydsaXRFbGVtZW50VmVyc2lvbnMnXSB8fCAod2luZG93WydsaXRFbGVtZW50VmVyc2lvbnMnXSA9IFtdKSlcbiAgICAucHVzaCgnMi4yLjEnKTtcbi8qKlxuICogTWluaW1hbCBpbXBsZW1lbnRhdGlvbiBvZiBBcnJheS5wcm90b3R5cGUuZmxhdFxuICogQHBhcmFtIGFyciB0aGUgYXJyYXkgdG8gZmxhdHRlblxuICogQHBhcmFtIHJlc3VsdCB0aGUgYWNjdW1sYXRlZCByZXN1bHRcbiAqL1xuZnVuY3Rpb24gYXJyYXlGbGF0KHN0eWxlcywgcmVzdWx0ID0gW10pIHtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gc3R5bGVzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gc3R5bGVzW2ldO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGFycmF5RmxhdCh2YWx1ZSwgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqIERlZXBseSBmbGF0dGVucyBzdHlsZXMgYXJyYXkuIFVzZXMgbmF0aXZlIGZsYXQgaWYgYXZhaWxhYmxlLiAqL1xuY29uc3QgZmxhdHRlblN0eWxlcyA9IChzdHlsZXMpID0+IHN0eWxlcy5mbGF0ID8gc3R5bGVzLmZsYXQoSW5maW5pdHkpIDogYXJyYXlGbGF0KHN0eWxlcyk7XG5leHBvcnQgY2xhc3MgTGl0RWxlbWVudCBleHRlbmRzIFVwZGF0aW5nRWxlbWVudCB7XG4gICAgLyoqIEBub2NvbGxhcHNlICovXG4gICAgc3RhdGljIGZpbmFsaXplKCkge1xuICAgICAgICAvLyBUaGUgQ2xvc3VyZSBKUyBDb21waWxlciBkb2VzIG5vdCBhbHdheXMgcHJlc2VydmUgdGhlIGNvcnJlY3QgXCJ0aGlzXCJcbiAgICAgICAgLy8gd2hlbiBjYWxsaW5nIHN0YXRpYyBzdXBlciBtZXRob2RzIChiLzEzNzQ2MDI0MyksIHNvIGV4cGxpY2l0bHkgYmluZC5cbiAgICAgICAgc3VwZXIuZmluYWxpemUuY2FsbCh0aGlzKTtcbiAgICAgICAgLy8gUHJlcGFyZSBzdHlsaW5nIHRoYXQgaXMgc3RhbXBlZCBhdCBmaXJzdCByZW5kZXIgdGltZS4gU3R5bGluZ1xuICAgICAgICAvLyBpcyBidWlsdCBmcm9tIHVzZXIgcHJvdmlkZWQgYHN0eWxlc2Agb3IgaXMgaW5oZXJpdGVkIGZyb20gdGhlIHN1cGVyY2xhc3MuXG4gICAgICAgIHRoaXMuX3N0eWxlcyA9XG4gICAgICAgICAgICB0aGlzLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ3N0eWxlcycsIHRoaXMpKSA/XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2V0VW5pcXVlU3R5bGVzKCkgOlxuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlcyB8fCBbXTtcbiAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovXG4gICAgc3RhdGljIF9nZXRVbmlxdWVTdHlsZXMoKSB7XG4gICAgICAgIC8vIFRha2UgY2FyZSBub3QgdG8gY2FsbCBgdGhpcy5zdHlsZXNgIG11bHRpcGxlIHRpbWVzIHNpbmNlIHRoaXMgZ2VuZXJhdGVzXG4gICAgICAgIC8vIG5ldyBDU1NSZXN1bHRzIGVhY2ggdGltZS5cbiAgICAgICAgLy8gVE9ETyhzb3J2ZWxsKTogU2luY2Ugd2UgZG8gbm90IGNhY2hlIENTU1Jlc3VsdHMgYnkgaW5wdXQsIGFueVxuICAgICAgICAvLyBzaGFyZWQgc3R5bGVzIHdpbGwgZ2VuZXJhdGUgbmV3IHN0eWxlc2hlZXQgb2JqZWN0cywgd2hpY2ggaXMgd2FzdGVmdWwuXG4gICAgICAgIC8vIFRoaXMgc2hvdWxkIGJlIGFkZHJlc3NlZCB3aGVuIGEgYnJvd3NlciBzaGlwcyBjb25zdHJ1Y3RhYmxlXG4gICAgICAgIC8vIHN0eWxlc2hlZXRzLlxuICAgICAgICBjb25zdCB1c2VyU3R5bGVzID0gdGhpcy5zdHlsZXM7XG4gICAgICAgIGNvbnN0IHN0eWxlcyA9IFtdO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh1c2VyU3R5bGVzKSkge1xuICAgICAgICAgICAgY29uc3QgZmxhdFN0eWxlcyA9IGZsYXR0ZW5TdHlsZXModXNlclN0eWxlcyk7XG4gICAgICAgICAgICAvLyBBcyBhIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbiB0byBhdm9pZCBkdXBsaWNhdGVkIHN0eWxpbmcgdGhhdCBjYW5cbiAgICAgICAgICAgIC8vIG9jY3VyIGVzcGVjaWFsbHkgd2hlbiBjb21wb3NpbmcgdmlhIHN1YmNsYXNzaW5nLCBkZS1kdXBsaWNhdGUgc3R5bGVzXG4gICAgICAgICAgICAvLyBwcmVzZXJ2aW5nIHRoZSBsYXN0IGl0ZW0gaW4gdGhlIGxpc3QuIFRoZSBsYXN0IGl0ZW0gaXMga2VwdCB0b1xuICAgICAgICAgICAgLy8gdHJ5IHRvIHByZXNlcnZlIGNhc2NhZGUgb3JkZXIgd2l0aCB0aGUgYXNzdW1wdGlvbiB0aGF0IGl0J3MgbW9zdFxuICAgICAgICAgICAgLy8gaW1wb3J0YW50IHRoYXQgbGFzdCBhZGRlZCBzdHlsZXMgb3ZlcnJpZGUgcHJldmlvdXMgc3R5bGVzLlxuICAgICAgICAgICAgY29uc3Qgc3R5bGVTZXQgPSBmbGF0U3R5bGVzLnJlZHVjZVJpZ2h0KChzZXQsIHMpID0+IHtcbiAgICAgICAgICAgICAgICBzZXQuYWRkKHMpO1xuICAgICAgICAgICAgICAgIC8vIG9uIElFIHNldC5hZGQgZG9lcyBub3QgcmV0dXJuIHRoZSBzZXQuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldDtcbiAgICAgICAgICAgIH0sIG5ldyBTZXQoKSk7XG4gICAgICAgICAgICAvLyBBcnJheS5mcm9tIGRvZXMgbm90IHdvcmsgb24gU2V0IGluIElFXG4gICAgICAgICAgICBzdHlsZVNldC5mb3JFYWNoKCh2KSA9PiBzdHlsZXMudW5zaGlmdCh2KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodXNlclN0eWxlcykge1xuICAgICAgICAgICAgc3R5bGVzLnB1c2godXNlclN0eWxlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0eWxlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgZWxlbWVudCBpbml0aWFsaXphdGlvbi4gQnkgZGVmYXVsdCB0aGlzIGNhbGxzIGBjcmVhdGVSZW5kZXJSb290YFxuICAgICAqIHRvIGNyZWF0ZSB0aGUgZWxlbWVudCBgcmVuZGVyUm9vdGAgbm9kZSBhbmQgY2FwdHVyZXMgYW55IHByZS1zZXQgdmFsdWVzIGZvclxuICAgICAqIHJlZ2lzdGVyZWQgcHJvcGVydGllcy5cbiAgICAgKi9cbiAgICBpbml0aWFsaXplKCkge1xuICAgICAgICBzdXBlci5pbml0aWFsaXplKCk7XG4gICAgICAgIHRoaXMucmVuZGVyUm9vdCA9XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVJlbmRlclJvb3QoKTtcbiAgICAgICAgLy8gTm90ZSwgaWYgcmVuZGVyUm9vdCBpcyBub3QgYSBzaGFkb3dSb290LCBzdHlsZXMgd291bGQvY291bGQgYXBwbHkgdG8gdGhlXG4gICAgICAgIC8vIGVsZW1lbnQncyBnZXRSb290Tm9kZSgpLiBXaGlsZSB0aGlzIGNvdWxkIGJlIGRvbmUsIHdlJ3JlIGNob29zaW5nIG5vdCB0b1xuICAgICAgICAvLyBzdXBwb3J0IHRoaXMgbm93IHNpbmNlIGl0IHdvdWxkIHJlcXVpcmUgZGlmZmVyZW50IGxvZ2ljIGFyb3VuZCBkZS1kdXBpbmcuXG4gICAgICAgIGlmICh3aW5kb3cuU2hhZG93Um9vdCAmJiB0aGlzLnJlbmRlclJvb3QgaW5zdGFuY2VvZiB3aW5kb3cuU2hhZG93Um9vdCkge1xuICAgICAgICAgICAgdGhpcy5hZG9wdFN0eWxlcygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG5vZGUgaW50byB3aGljaCB0aGUgZWxlbWVudCBzaG91bGQgcmVuZGVyIGFuZCBieSBkZWZhdWx0XG4gICAgICogY3JlYXRlcyBhbmQgcmV0dXJucyBhbiBvcGVuIHNoYWRvd1Jvb3QuIEltcGxlbWVudCB0byBjdXN0b21pemUgd2hlcmUgdGhlXG4gICAgICogZWxlbWVudCdzIERPTSBpcyByZW5kZXJlZC4gRm9yIGV4YW1wbGUsIHRvIHJlbmRlciBpbnRvIHRoZSBlbGVtZW50J3NcbiAgICAgKiBjaGlsZE5vZGVzLCByZXR1cm4gYHRoaXNgLlxuICAgICAqIEByZXR1cm5zIHtFbGVtZW50fERvY3VtZW50RnJhZ21lbnR9IFJldHVybnMgYSBub2RlIGludG8gd2hpY2ggdG8gcmVuZGVyLlxuICAgICAqL1xuICAgIGNyZWF0ZVJlbmRlclJvb3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyBzdHlsaW5nIHRvIHRoZSBlbGVtZW50IHNoYWRvd1Jvb3QgdXNpbmcgdGhlIGBzdGF0aWMgZ2V0IHN0eWxlc2BcbiAgICAgKiBwcm9wZXJ0eS4gU3R5bGluZyB3aWxsIGFwcGx5IHVzaW5nIGBzaGFkb3dSb290LmFkb3B0ZWRTdHlsZVNoZWV0c2Agd2hlcmVcbiAgICAgKiBhdmFpbGFibGUgYW5kIHdpbGwgZmFsbGJhY2sgb3RoZXJ3aXNlLiBXaGVuIFNoYWRvdyBET00gaXMgcG9seWZpbGxlZCxcbiAgICAgKiBTaGFkeUNTUyBzY29wZXMgc3R5bGVzIGFuZCBhZGRzIHRoZW0gdG8gdGhlIGRvY3VtZW50LiBXaGVuIFNoYWRvdyBET01cbiAgICAgKiBpcyBhdmFpbGFibGUgYnV0IGBhZG9wdGVkU3R5bGVTaGVldHNgIGlzIG5vdCwgc3R5bGVzIGFyZSBhcHBlbmRlZCB0byB0aGVcbiAgICAgKiBlbmQgb2YgdGhlIGBzaGFkb3dSb290YCB0byBbbWltaWMgc3BlY1xuICAgICAqIGJlaGF2aW9yXShodHRwczovL3dpY2cuZ2l0aHViLmlvL2NvbnN0cnVjdC1zdHlsZXNoZWV0cy8jdXNpbmctY29uc3RydWN0ZWQtc3R5bGVzaGVldHMpLlxuICAgICAqL1xuICAgIGFkb3B0U3R5bGVzKCkge1xuICAgICAgICBjb25zdCBzdHlsZXMgPSB0aGlzLmNvbnN0cnVjdG9yLl9zdHlsZXM7XG4gICAgICAgIGlmIChzdHlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlcmUgYXJlIHRocmVlIHNlcGFyYXRlIGNhc2VzIGhlcmUgYmFzZWQgb24gU2hhZG93IERPTSBzdXBwb3J0LlxuICAgICAgICAvLyAoMSkgc2hhZG93Um9vdCBwb2x5ZmlsbGVkOiB1c2UgU2hhZHlDU1NcbiAgICAgICAgLy8gKDIpIHNoYWRvd1Jvb3QuYWRvcHRlZFN0eWxlU2hlZXRzIGF2YWlsYWJsZTogdXNlIGl0LlxuICAgICAgICAvLyAoMykgc2hhZG93Um9vdC5hZG9wdGVkU3R5bGVTaGVldHMgcG9seWZpbGxlZDogYXBwZW5kIHN0eWxlcyBhZnRlclxuICAgICAgICAvLyByZW5kZXJpbmdcbiAgICAgICAgaWYgKHdpbmRvdy5TaGFkeUNTUyAhPT0gdW5kZWZpbmVkICYmICF3aW5kb3cuU2hhZHlDU1MubmF0aXZlU2hhZG93KSB7XG4gICAgICAgICAgICB3aW5kb3cuU2hhZHlDU1MuU2NvcGluZ1NoaW0ucHJlcGFyZUFkb3B0ZWRDc3NUZXh0KHN0eWxlcy5tYXAoKHMpID0+IHMuY3NzVGV4dCksIHRoaXMubG9jYWxOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyUm9vdC5hZG9wdGVkU3R5bGVTaGVldHMgPVxuICAgICAgICAgICAgICAgIHN0eWxlcy5tYXAoKHMpID0+IHMuc3R5bGVTaGVldCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBUaGlzIG11c3QgYmUgZG9uZSBhZnRlciByZW5kZXJpbmcgc28gdGhlIGFjdHVhbCBzdHlsZSBpbnNlcnRpb24gaXMgZG9uZVxuICAgICAgICAgICAgLy8gaW4gYHVwZGF0ZWAuXG4gICAgICAgICAgICB0aGlzLl9uZWVkc1NoaW1BZG9wdGVkU3R5bGVTaGVldHMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICAvLyBOb3RlLCBmaXJzdCB1cGRhdGUvcmVuZGVyIGhhbmRsZXMgc3R5bGVFbGVtZW50IHNvIHdlIG9ubHkgY2FsbCB0aGlzIGlmXG4gICAgICAgIC8vIGNvbm5lY3RlZCBhZnRlciBmaXJzdCB1cGRhdGUuXG4gICAgICAgIGlmICh0aGlzLmhhc1VwZGF0ZWQgJiYgd2luZG93LlNoYWR5Q1NTICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdpbmRvdy5TaGFkeUNTUy5zdHlsZUVsZW1lbnQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZWxlbWVudC4gVGhpcyBtZXRob2QgcmVmbGVjdHMgcHJvcGVydHkgdmFsdWVzIHRvIGF0dHJpYnV0ZXNcbiAgICAgKiBhbmQgY2FsbHMgYHJlbmRlcmAgdG8gcmVuZGVyIERPTSB2aWEgbGl0LWh0bWwuIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGVcbiAgICAgKiB0aGlzIG1ldGhvZCB3aWxsICpub3QqIHRyaWdnZXIgYW5vdGhlciB1cGRhdGUuXG4gICAgICogKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICovXG4gICAgdXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgICAgIHN1cGVyLnVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlUmVzdWx0ID0gdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgaWYgKHRlbXBsYXRlUmVzdWx0IGluc3RhbmNlb2YgVGVtcGxhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAucmVuZGVyKHRlbXBsYXRlUmVzdWx0LCB0aGlzLnJlbmRlclJvb3QsIHsgc2NvcGVOYW1lOiB0aGlzLmxvY2FsTmFtZSwgZXZlbnRDb250ZXh0OiB0aGlzIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdoZW4gbmF0aXZlIFNoYWRvdyBET00gaXMgdXNlZCBidXQgYWRvcHRlZFN0eWxlcyBhcmUgbm90IHN1cHBvcnRlZCxcbiAgICAgICAgLy8gaW5zZXJ0IHN0eWxpbmcgYWZ0ZXIgcmVuZGVyaW5nIHRvIGVuc3VyZSBhZG9wdGVkU3R5bGVzIGhhdmUgaGlnaGVzdFxuICAgICAgICAvLyBwcmlvcml0eS5cbiAgICAgICAgaWYgKHRoaXMuX25lZWRzU2hpbUFkb3B0ZWRTdHlsZVNoZWV0cykge1xuICAgICAgICAgICAgdGhpcy5fbmVlZHNTaGltQWRvcHRlZFN0eWxlU2hlZXRzID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLl9zdHlsZXMuZm9yRWFjaCgocykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IHMuY3NzVGV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclJvb3QuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlZCBvbiBlYWNoIHVwZGF0ZSB0byBwZXJmb3JtIHJlbmRlcmluZyB0YXNrcy4gVGhpcyBtZXRob2QgbXVzdCByZXR1cm5cbiAgICAgKiBhIGxpdC1odG1sIFRlbXBsYXRlUmVzdWx0LiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCpcbiAgICAgKiB0cmlnZ2VyIHRoZSBlbGVtZW50IHRvIHVwZGF0ZS5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgfVxufVxuLyoqXG4gKiBFbnN1cmUgdGhpcyBjbGFzcyBpcyBtYXJrZWQgYXMgYGZpbmFsaXplZGAgYXMgYW4gb3B0aW1pemF0aW9uIGVuc3VyaW5nXG4gKiBpdCB3aWxsIG5vdCBuZWVkbGVzc2x5IHRyeSB0byBgZmluYWxpemVgLlxuICpcbiAqIE5vdGUgdGhpcyBwcm9wZXJ0eSBuYW1lIGlzIGEgc3RyaW5nIHRvIHByZXZlbnQgYnJlYWtpbmcgQ2xvc3VyZSBKUyBDb21waWxlclxuICogb3B0aW1pemF0aW9ucy4gU2VlIHVwZGF0aW5nLWVsZW1lbnQudHMgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKi9cbkxpdEVsZW1lbnRbJ2ZpbmFsaXplZCddID0gdHJ1ZTtcbi8qKlxuICogUmVuZGVyIG1ldGhvZCB1c2VkIHRvIHJlbmRlciB0aGUgbGl0LWh0bWwgVGVtcGxhdGVSZXN1bHQgdG8gdGhlIGVsZW1lbnQnc1xuICogRE9NLlxuICogQHBhcmFtIHtUZW1wbGF0ZVJlc3VsdH0gVGVtcGxhdGUgdG8gcmVuZGVyLlxuICogQHBhcmFtIHtFbGVtZW50fERvY3VtZW50RnJhZ21lbnR9IE5vZGUgaW50byB3aGljaCB0byByZW5kZXIuXG4gKiBAcGFyYW0ge1N0cmluZ30gRWxlbWVudCBuYW1lLlxuICogQG5vY29sbGFwc2VcbiAqL1xuTGl0RWxlbWVudC5yZW5kZXIgPSByZW5kZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saXQtZWxlbWVudC5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbnZhciBjc3NDbGFzc2VzID0ge1xuICAgIEZJWEVEX0NMQVNTOiAnbWRjLXRvcC1hcHAtYmFyLS1maXhlZCcsXG4gICAgRklYRURfU0NST0xMRURfQ0xBU1M6ICdtZGMtdG9wLWFwcC1iYXItLWZpeGVkLXNjcm9sbGVkJyxcbiAgICBTSE9SVF9DTEFTUzogJ21kYy10b3AtYXBwLWJhci0tc2hvcnQnLFxuICAgIFNIT1JUX0NPTExBUFNFRF9DTEFTUzogJ21kYy10b3AtYXBwLWJhci0tc2hvcnQtY29sbGFwc2VkJyxcbiAgICBTSE9SVF9IQVNfQUNUSU9OX0lURU1fQ0xBU1M6ICdtZGMtdG9wLWFwcC1iYXItLXNob3J0LWhhcy1hY3Rpb24taXRlbScsXG59O1xudmFyIG51bWJlcnMgPSB7XG4gICAgREVCT1VOQ0VfVEhST1RUTEVfUkVTSVpFX1RJTUVfTVM6IDEwMCxcbiAgICBNQVhfVE9QX0FQUF9CQVJfSEVJR0hUOiAxMjgsXG59O1xudmFyIHN0cmluZ3MgPSB7XG4gICAgQUNUSU9OX0lURU1fU0VMRUNUT1I6ICcubWRjLXRvcC1hcHAtYmFyX19hY3Rpb24taXRlbScsXG4gICAgTkFWSUdBVElPTl9FVkVOVDogJ01EQ1RvcEFwcEJhcjpuYXYnLFxuICAgIE5BVklHQVRJT05fSUNPTl9TRUxFQ1RPUjogJy5tZGMtdG9wLWFwcC1iYXJfX25hdmlnYXRpb24taWNvbicsXG4gICAgUk9PVF9TRUxFQ1RPUjogJy5tZGMtdG9wLWFwcC1iYXInLFxuICAgIFRJVExFX1NFTEVDVE9SOiAnLm1kYy10b3AtYXBwLWJhcl9fdGl0bGUnLFxufTtcbmV4cG9ydCB7IGNzc0NsYXNzZXMsIG51bWJlcnMsIHN0cmluZ3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbnZhciBNRENGb3VuZGF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1EQ0ZvdW5kYXRpb24oYWRhcHRlcikge1xuICAgICAgICBpZiAoYWRhcHRlciA9PT0gdm9pZCAwKSB7IGFkYXB0ZXIgPSB7fTsgfVxuICAgICAgICB0aGlzLmFkYXB0ZXJfID0gYWRhcHRlcjtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ0ZvdW5kYXRpb24sIFwiY3NzQ2xhc3Nlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gQ2xhc3NlcyBleHRlbmRpbmcgTURDRm91bmRhdGlvbiBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kIHRvIHJldHVybiBhbiBvYmplY3Qgd2hpY2ggZXhwb3J0cyBldmVyeVxuICAgICAgICAgICAgLy8gQ1NTIGNsYXNzIHRoZSBmb3VuZGF0aW9uIGNsYXNzIG5lZWRzIGFzIGEgcHJvcGVydHkuIGUuZy4ge0FDVElWRTogJ21kYy1jb21wb25lbnQtLWFjdGl2ZSd9XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENGb3VuZGF0aW9uLCBcInN0cmluZ3NcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIENsYXNzZXMgZXh0ZW5kaW5nIE1EQ0ZvdW5kYXRpb24gc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZCB0byByZXR1cm4gYW4gb2JqZWN0IHdoaWNoIGV4cG9ydHMgYWxsXG4gICAgICAgICAgICAvLyBzZW1hbnRpYyBzdHJpbmdzIGFzIGNvbnN0YW50cy4gZS5nLiB7QVJJQV9ST0xFOiAndGFibGlzdCd9XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENGb3VuZGF0aW9uLCBcIm51bWJlcnNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIENsYXNzZXMgZXh0ZW5kaW5nIE1EQ0ZvdW5kYXRpb24gc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZCB0byByZXR1cm4gYW4gb2JqZWN0IHdoaWNoIGV4cG9ydHMgYWxsXG4gICAgICAgICAgICAvLyBvZiBpdHMgc2VtYW50aWMgbnVtYmVycyBhcyBjb25zdGFudHMuIGUuZy4ge0FOSU1BVElPTl9ERUxBWV9NUzogMzUwfVxuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDRm91bmRhdGlvbiwgXCJkZWZhdWx0QWRhcHRlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gQ2xhc3NlcyBleHRlbmRpbmcgTURDRm91bmRhdGlvbiBtYXkgY2hvb3NlIHRvIGltcGxlbWVudCB0aGlzIGdldHRlciBpbiBvcmRlciB0byBwcm92aWRlIGEgY29udmVuaWVudFxuICAgICAgICAgICAgLy8gd2F5IG9mIHZpZXdpbmcgdGhlIG5lY2Vzc2FyeSBtZXRob2RzIG9mIGFuIGFkYXB0ZXIuIEluIHRoZSBmdXR1cmUsIHRoaXMgY291bGQgYWxzbyBiZSB1c2VkIGZvciBhZGFwdGVyXG4gICAgICAgICAgICAvLyB2YWxpZGF0aW9uLlxuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBNRENGb3VuZGF0aW9uLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBTdWJjbGFzc2VzIHNob3VsZCBvdmVycmlkZSB0aGlzIG1ldGhvZCB0byBwZXJmb3JtIGluaXRpYWxpemF0aW9uIHJvdXRpbmVzIChyZWdpc3RlcmluZyBldmVudHMsIGV0Yy4pXG4gICAgfTtcbiAgICBNRENGb3VuZGF0aW9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBTdWJjbGFzc2VzIHNob3VsZCBvdmVycmlkZSB0aGlzIG1ldGhvZCB0byBwZXJmb3JtIGRlLWluaXRpYWxpemF0aW9uIHJvdXRpbmVzIChkZS1yZWdpc3RlcmluZyBldmVudHMsIGV0Yy4pXG4gICAgfTtcbiAgICByZXR1cm4gTURDRm91bmRhdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBNRENGb3VuZGF0aW9uIH07XG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tZGVmYXVsdC1leHBvcnQgTmVlZGVkIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IHdpdGggTURDIFdlYiB2MC40NC4wIGFuZCBlYXJsaWVyLlxuZXhwb3J0IGRlZmF1bHQgTURDRm91bmRhdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZvdW5kYXRpb24uanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgTURDRm91bmRhdGlvbiB9IGZyb20gJ0BtYXRlcmlhbC9iYXNlL2ZvdW5kYXRpb24nO1xuaW1wb3J0IHsgY3NzQ2xhc3NlcywgbnVtYmVycywgc3RyaW5ncyB9IGZyb20gJy4vY29uc3RhbnRzJztcbnZhciBNRENUb3BBcHBCYXJCYXNlRm91bmRhdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhNRENUb3BBcHBCYXJCYXNlRm91bmRhdGlvbiwgX3N1cGVyKTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogb3B0aW9uYWwgYXJndW1lbnQgaXMgbm90IGEgYnJhbmNoIHN0YXRlbWVudCAqL1xuICAgIGZ1bmN0aW9uIE1EQ1RvcEFwcEJhckJhc2VGb3VuZGF0aW9uKGFkYXB0ZXIpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHRzbGliXzEuX19hc3NpZ24oe30sIE1EQ1RvcEFwcEJhckJhc2VGb3VuZGF0aW9uLmRlZmF1bHRBZGFwdGVyLCBhZGFwdGVyKSkgfHwgdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ1RvcEFwcEJhckJhc2VGb3VuZGF0aW9uLCBcInN0cmluZ3NcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmdzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDVG9wQXBwQmFyQmFzZUZvdW5kYXRpb24sIFwiY3NzQ2xhc3Nlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNzc0NsYXNzZXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENUb3BBcHBCYXJCYXNlRm91bmRhdGlvbiwgXCJudW1iZXJzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVtYmVycztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ1RvcEFwcEJhckJhc2VGb3VuZGF0aW9uLCBcImRlZmF1bHRBZGFwdGVyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlZSB7QGxpbmsgTURDVG9wQXBwQmFyQWRhcHRlcn0gZm9yIHR5cGluZyBpbmZvcm1hdGlvbiBvbiBwYXJhbWV0ZXJzIGFuZCByZXR1cm4gdHlwZXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5cyBNZXRob2RzIHNob3VsZCBiZSBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGUgYWRhcHRlciBpbnRlcmZhY2UuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBoYXNDbGFzczogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH0sXG4gICAgICAgICAgICAgICAgc2V0U3R5bGU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBnZXRUb3BBcHBCYXJIZWlnaHQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDA7IH0sXG4gICAgICAgICAgICAgICAgbm90aWZ5TmF2aWdhdGlvbkljb25DbGlja2VkOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgZ2V0Vmlld3BvcnRTY3JvbGxZOiBmdW5jdGlvbiAoKSB7IHJldHVybiAwOyB9LFxuICAgICAgICAgICAgICAgIGdldFRvdGFsQWN0aW9uSXRlbXM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDA7IH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gdHNsaW50OmVuYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXNcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqIE90aGVyIHZhcmlhbnRzIG9mIFRvcEFwcEJhciBmb3VuZGF0aW9uIG92ZXJyaWRlcyB0aGlzIG1ldGhvZCAqL1xuICAgIE1EQ1RvcEFwcEJhckJhc2VGb3VuZGF0aW9uLnByb3RvdHlwZS5oYW5kbGVUYXJnZXRTY3JvbGwgPSBmdW5jdGlvbiAoKSB7IH07IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tZW1wdHlcbiAgICAvKiogT3RoZXIgdmFyaWFudHMgb2YgVG9wQXBwQmFyIGZvdW5kYXRpb24gb3ZlcnJpZGVzIHRoaXMgbWV0aG9kICovXG4gICAgTURDVG9wQXBwQmFyQmFzZUZvdW5kYXRpb24ucHJvdG90eXBlLmhhbmRsZVdpbmRvd1Jlc2l6ZSA9IGZ1bmN0aW9uICgpIHsgfTsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1lbXB0eVxuICAgIE1EQ1RvcEFwcEJhckJhc2VGb3VuZGF0aW9uLnByb3RvdHlwZS5oYW5kbGVOYXZpZ2F0aW9uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8ubm90aWZ5TmF2aWdhdGlvbkljb25DbGlja2VkKCk7XG4gICAgfTtcbiAgICByZXR1cm4gTURDVG9wQXBwQmFyQmFzZUZvdW5kYXRpb247XG59KE1EQ0ZvdW5kYXRpb24pKTtcbmV4cG9ydCB7IE1EQ1RvcEFwcEJhckJhc2VGb3VuZGF0aW9uIH07XG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tZGVmYXVsdC1leHBvcnQgTmVlZGVkIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IHdpdGggTURDIFdlYiB2MC40NC4wIGFuZCBlYXJsaWVyLlxuZXhwb3J0IGRlZmF1bHQgTURDVG9wQXBwQmFyQmFzZUZvdW5kYXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb3VuZGF0aW9uLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IG51bWJlcnMgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgTURDVG9wQXBwQmFyQmFzZUZvdW5kYXRpb24gfSBmcm9tICcuLi9mb3VuZGF0aW9uJztcbnZhciBJTklUSUFMX1ZBTFVFID0gMDtcbnZhciBNRENUb3BBcHBCYXJGb3VuZGF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE1EQ1RvcEFwcEJhckZvdW5kYXRpb24sIF9zdXBlcik7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IG9wdGlvbmFsIGFyZ3VtZW50IGlzIG5vdCBhIGJyYW5jaCBzdGF0ZW1lbnQgKi9cbiAgICBmdW5jdGlvbiBNRENUb3BBcHBCYXJGb3VuZGF0aW9uKGFkYXB0ZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgYWRhcHRlcikgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgdG9wIGFwcCBiYXIgd2FzIGRvY2tlZCBpbiB0aGUgcHJldmlvdXMgc2Nyb2xsIGhhbmRsZXIgaXRlcmF0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMud2FzRG9ja2VkXyA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIHRvcCBhcHAgYmFyIGlzIGRvY2tlZCBpbiB0aGUgZnVsbHkgc2hvd24gcG9zaXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pc0RvY2tlZFNob3dpbmdfID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZhcmlhYmxlIGZvciBjdXJyZW50IHNjcm9sbCBwb3NpdGlvbiBvZiB0aGUgdG9wIGFwcCBiYXJcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnJlbnRBcHBCYXJPZmZzZXRUb3BfID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gcHJldmVudCB0aGUgdG9wIGFwcCBiYXIgZnJvbSBiZWluZyBzY3JvbGxlZCBvdXQgb2YgdmlldyBkdXJpbmcgcmVzaXplIGV2ZW50c1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaXNDdXJyZW50bHlCZWluZ1Jlc2l6ZWRfID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGltZW91dCB0aGF0J3MgdXNlZCB0byB0aHJvdHRsZSB0aGUgcmVzaXplIGV2ZW50c1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVzaXplVGhyb3R0bGVJZF8gPSBJTklUSUFMX1ZBTFVFO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbWVvdXQgdGhhdCdzIHVzZWQgdG8gZGVib3VuY2UgdG9nZ2xpbmcgdGhlIGlzQ3VycmVudGx5QmVpbmdSZXNpemVkXyB2YXJpYWJsZSBhZnRlciBhIHJlc2l6ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVzaXplRGVib3VuY2VJZF8gPSBJTklUSUFMX1ZBTFVFO1xuICAgICAgICBfdGhpcy5sYXN0U2Nyb2xsUG9zaXRpb25fID0gX3RoaXMuYWRhcHRlcl8uZ2V0Vmlld3BvcnRTY3JvbGxZKCk7XG4gICAgICAgIF90aGlzLnRvcEFwcEJhckhlaWdodF8gPSBfdGhpcy5hZGFwdGVyXy5nZXRUb3BBcHBCYXJIZWlnaHQoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBNRENUb3BBcHBCYXJGb3VuZGF0aW9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5hZGFwdGVyXy5zZXRTdHlsZSgndG9wJywgJycpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2Nyb2xsIGhhbmRsZXIgZm9yIHRoZSBkZWZhdWx0IHNjcm9sbCBiZWhhdmlvciBvZiB0aGUgdG9wIGFwcCBiYXIuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgTURDVG9wQXBwQmFyRm91bmRhdGlvbi5wcm90b3R5cGUuaGFuZGxlVGFyZ2V0U2Nyb2xsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY3VycmVudFNjcm9sbFBvc2l0aW9uID0gTWF0aC5tYXgodGhpcy5hZGFwdGVyXy5nZXRWaWV3cG9ydFNjcm9sbFkoKSwgMCk7XG4gICAgICAgIHZhciBkaWZmID0gY3VycmVudFNjcm9sbFBvc2l0aW9uIC0gdGhpcy5sYXN0U2Nyb2xsUG9zaXRpb25fO1xuICAgICAgICB0aGlzLmxhc3RTY3JvbGxQb3NpdGlvbl8gPSBjdXJyZW50U2Nyb2xsUG9zaXRpb247XG4gICAgICAgIC8vIElmIHRoZSB3aW5kb3cgaXMgYmVpbmcgcmVzaXplZCB0aGUgbGFzdFNjcm9sbFBvc2l0aW9uXyBuZWVkcyB0byBiZSB1cGRhdGVkIGJ1dCB0aGVcbiAgICAgICAgLy8gY3VycmVudCBzY3JvbGwgb2YgdGhlIHRvcCBhcHAgYmFyIHNob3VsZCBzdGF5IGluIHRoZSBzYW1lIHBvc2l0aW9uLlxuICAgICAgICBpZiAoIXRoaXMuaXNDdXJyZW50bHlCZWluZ1Jlc2l6ZWRfKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRBcHBCYXJPZmZzZXRUb3BfIC09IGRpZmY7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50QXBwQmFyT2Zmc2V0VG9wXyA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRBcHBCYXJPZmZzZXRUb3BfID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKE1hdGguYWJzKHRoaXMuY3VycmVudEFwcEJhck9mZnNldFRvcF8pID4gdGhpcy50b3BBcHBCYXJIZWlnaHRfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50QXBwQmFyT2Zmc2V0VG9wXyA9IC10aGlzLnRvcEFwcEJhckhlaWdodF87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1vdmVUb3BBcHBCYXJfKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRvcCBhcHAgYmFyIHJlc2l6ZSBoYW5kbGVyIHRoYXQgdGhyb3R0bGUvZGVib3VuY2UgZnVuY3Rpb25zIHRoYXQgZXhlY3V0ZSB1cGRhdGVzLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIE1EQ1RvcEFwcEJhckZvdW5kYXRpb24ucHJvdG90eXBlLmhhbmRsZVdpbmRvd1Jlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gVGhyb3R0bGUgcmVzaXplIGV2ZW50cyAxMCBwL3NcbiAgICAgICAgaWYgKCF0aGlzLnJlc2l6ZVRocm90dGxlSWRfKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZVRocm90dGxlSWRfID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVzaXplVGhyb3R0bGVJZF8gPSBJTklUSUFMX1ZBTFVFO1xuICAgICAgICAgICAgICAgIF90aGlzLnRocm90dGxlZFJlc2l6ZUhhbmRsZXJfKCk7XG4gICAgICAgICAgICB9LCBudW1iZXJzLkRFQk9VTkNFX1RIUk9UVExFX1JFU0laRV9USU1FX01TKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzQ3VycmVudGx5QmVpbmdSZXNpemVkXyA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLnJlc2l6ZURlYm91bmNlSWRfKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5yZXNpemVEZWJvdW5jZUlkXyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXNpemVEZWJvdW5jZUlkXyA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuaGFuZGxlVGFyZ2V0U2Nyb2xsKCk7XG4gICAgICAgICAgICBfdGhpcy5pc0N1cnJlbnRseUJlaW5nUmVzaXplZF8gPSBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLnJlc2l6ZURlYm91bmNlSWRfID0gSU5JVElBTF9WQUxVRTtcbiAgICAgICAgfSwgbnVtYmVycy5ERUJPVU5DRV9USFJPVFRMRV9SRVNJWkVfVElNRV9NUyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB0byBkZXRlcm1pbmUgaWYgdGhlIERPTSBuZWVkcyB0byB1cGRhdGUuXG4gICAgICovXG4gICAgTURDVG9wQXBwQmFyRm91bmRhdGlvbi5wcm90b3R5cGUuY2hlY2tGb3JVcGRhdGVfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb2Zmc2NyZWVuQm91bmRhcnlUb3AgPSAtdGhpcy50b3BBcHBCYXJIZWlnaHRfO1xuICAgICAgICB2YXIgaGFzQW55UGl4ZWxzT2Zmc2NyZWVuID0gdGhpcy5jdXJyZW50QXBwQmFyT2Zmc2V0VG9wXyA8IDA7XG4gICAgICAgIHZhciBoYXNBbnlQaXhlbHNPbnNjcmVlbiA9IHRoaXMuY3VycmVudEFwcEJhck9mZnNldFRvcF8gPiBvZmZzY3JlZW5Cb3VuZGFyeVRvcDtcbiAgICAgICAgdmFyIHBhcnRpYWxseVNob3dpbmcgPSBoYXNBbnlQaXhlbHNPZmZzY3JlZW4gJiYgaGFzQW55UGl4ZWxzT25zY3JlZW47XG4gICAgICAgIC8vIElmIGl0J3MgcGFydGlhbGx5IHNob3dpbmcsIGl0IGNhbid0IGJlIGRvY2tlZC5cbiAgICAgICAgaWYgKHBhcnRpYWxseVNob3dpbmcpIHtcbiAgICAgICAgICAgIHRoaXMud2FzRG9ja2VkXyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gTm90IHByZXZpb3VzbHkgZG9ja2VkIGFuZCBub3QgcGFydGlhbGx5IHNob3dpbmcsIGl0J3Mgbm93IGRvY2tlZC5cbiAgICAgICAgICAgIGlmICghdGhpcy53YXNEb2NrZWRfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53YXNEb2NrZWRfID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuaXNEb2NrZWRTaG93aW5nXyAhPT0gaGFzQW55UGl4ZWxzT25zY3JlZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzRG9ja2VkU2hvd2luZ18gPSBoYXNBbnlQaXhlbHNPbnNjcmVlbjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFydGlhbGx5U2hvd2luZztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHRvIG1vdmUgdGhlIHRvcCBhcHAgYmFyIGlmIG5lZWRlZC5cbiAgICAgKi9cbiAgICBNRENUb3BBcHBCYXJGb3VuZGF0aW9uLnByb3RvdHlwZS5tb3ZlVG9wQXBwQmFyXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tGb3JVcGRhdGVfKCkpIHtcbiAgICAgICAgICAgIC8vIE9uY2UgdGhlIHRvcCBhcHAgYmFyIGlzIGZ1bGx5IGhpZGRlbiB3ZSB1c2UgdGhlIG1heCBwb3RlbnRpYWwgdG9wIGFwcCBiYXIgaGVpZ2h0IGFzIG91ciBvZmZzZXRcbiAgICAgICAgICAgIC8vIHNvIHRoZSB0b3AgYXBwIGJhciBkb2Vzbid0IHNob3cgaWYgdGhlIHdpbmRvdyByZXNpemVzIGFuZCB0aGUgbmV3IGhlaWdodCA+IHRoZSBvbGQgaGVpZ2h0LlxuICAgICAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMuY3VycmVudEFwcEJhck9mZnNldFRvcF87XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMob2Zmc2V0KSA+PSB0aGlzLnRvcEFwcEJhckhlaWdodF8pIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSAtbnVtYmVycy5NQVhfVE9QX0FQUF9CQVJfSEVJR0hUO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hZGFwdGVyXy5zZXRTdHlsZSgndG9wJywgb2Zmc2V0ICsgJ3B4Jyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRocm90dGxlZCBmdW5jdGlvbiB0aGF0IHVwZGF0ZXMgdGhlIHRvcCBhcHAgYmFyIHNjcm9sbGVkIHZhbHVlcyBpZiB0aGVcbiAgICAgKiB0b3AgYXBwIGJhciBoZWlnaHQgY2hhbmdlcy5cbiAgICAgKi9cbiAgICBNRENUb3BBcHBCYXJGb3VuZGF0aW9uLnByb3RvdHlwZS50aHJvdHRsZWRSZXNpemVIYW5kbGVyXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRIZWlnaHQgPSB0aGlzLmFkYXB0ZXJfLmdldFRvcEFwcEJhckhlaWdodCgpO1xuICAgICAgICBpZiAodGhpcy50b3BBcHBCYXJIZWlnaHRfICE9PSBjdXJyZW50SGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLndhc0RvY2tlZF8gPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIFNpbmNlIHRoZSB0b3AgYXBwIGJhciBoYXMgYSBkaWZmZXJlbnQgaGVpZ2h0IGRlcGVuZGluZyBvbiB0aGUgc2NyZWVuIHdpZHRoLCB0aGlzXG4gICAgICAgICAgICAvLyB3aWxsIGVuc3VyZSB0aGF0IHRoZSB0b3AgYXBwIGJhciByZW1haW5zIGluIHRoZSBjb3JyZWN0IGxvY2F0aW9uIGlmXG4gICAgICAgICAgICAvLyBjb21wbGV0ZWx5IGhpZGRlbiBhbmQgYSByZXNpemUgbWFrZXMgdGhlIHRvcCBhcHAgYmFyIGEgZGlmZmVyZW50IGhlaWdodC5cbiAgICAgICAgICAgIHRoaXMuY3VycmVudEFwcEJhck9mZnNldFRvcF8gLT0gdGhpcy50b3BBcHBCYXJIZWlnaHRfIC0gY3VycmVudEhlaWdodDtcbiAgICAgICAgICAgIHRoaXMudG9wQXBwQmFySGVpZ2h0XyA9IGN1cnJlbnRIZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oYW5kbGVUYXJnZXRTY3JvbGwoKTtcbiAgICB9O1xuICAgIHJldHVybiBNRENUb3BBcHBCYXJGb3VuZGF0aW9uO1xufShNRENUb3BBcHBCYXJCYXNlRm91bmRhdGlvbikpO1xuZXhwb3J0IHsgTURDVG9wQXBwQmFyRm91bmRhdGlvbiB9O1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWRlZmF1bHQtZXhwb3J0IE5lZWRlZCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIE1EQyBXZWIgdjAuNDQuMCBhbmQgZWFybGllci5cbmV4cG9ydCBkZWZhdWx0IE1EQ1RvcEFwcEJhckZvdW5kYXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb3VuZGF0aW9uLmpzLm1hcCIsImV4cG9ydCBjb25zdCBvYnNlcnZlciA9IChvYnNlcnZlcikgPT4gXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuKHByb3RvLCBwcm9wTmFtZSkgPT4ge1xuICAgIC8vIGlmIHdlIGhhdmVuJ3Qgd3JhcHBlZCBgdXBkYXRlZGAgaW4gdGhpcyBjbGFzcywgZG8gc29cbiAgICBpZiAoIXByb3RvLmNvbnN0cnVjdG9yLl9vYnNlcnZlcnMpIHtcbiAgICAgICAgcHJvdG8uY29uc3RydWN0b3IuX29ic2VydmVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgY29uc3QgdXNlclVwZGF0ZWQgPSBwcm90by51cGRhdGVkO1xuICAgICAgICBwcm90by51cGRhdGVkID0gZnVuY3Rpb24gKGNoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICB1c2VyVXBkYXRlZC5jYWxsKHRoaXMsIGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIGNoYW5nZWRQcm9wZXJ0aWVzLmZvckVhY2goKHYsIGspID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IHRoaXMuY29uc3RydWN0b3IuX29ic2VydmVycy5nZXQoayk7XG4gICAgICAgICAgICAgICAgaWYgKG9ic2VydmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY2FsbCh0aGlzLCB0aGlzW2tdLCB2KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gY2xvbmUgYW55IGV4aXN0aW5nIG9ic2VydmVycyAoc3VwZXJjbGFzc2VzKVxuICAgIH1cbiAgICBlbHNlIGlmICghcHJvdG8uY29uc3RydWN0b3IuaGFzT3duUHJvcGVydHkoJ19vYnNlcnZlcnMnKSkge1xuICAgICAgICBjb25zdCBvYnNlcnZlcnMgPSBwcm90by5jb25zdHJ1Y3Rvci5fb2JzZXJ2ZXJzO1xuICAgICAgICBwcm90by5jb25zdHJ1Y3Rvci5fb2JzZXJ2ZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICBvYnNlcnZlcnMuZm9yRWFjaChcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgKHYsIGspID0+IHByb3RvLmNvbnN0cnVjdG9yLl9vYnNlcnZlcnMuc2V0KGssIHYpKTtcbiAgICB9XG4gICAgLy8gc2V0IHRoaXMgbWV0aG9kXG4gICAgcHJvdG8uY29uc3RydWN0b3IuX29ic2VydmVycy5zZXQocHJvcE5hbWUsIG9ic2VydmVyKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZlci5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbi8qKlxuICogQGZpbGVvdmVydmlldyBBIFwicG9ueWZpbGxcIiBpcyBhIHBvbHlmaWxsIHRoYXQgZG9lc24ndCBtb2RpZnkgdGhlIGdsb2JhbCBwcm90b3R5cGUgY2hhaW4uXG4gKiBUaGlzIG1ha2VzIHBvbnlmaWxscyBzYWZlciB0aGFuIHRyYWRpdGlvbmFsIHBvbHlmaWxscywgZXNwZWNpYWxseSBmb3IgbGlicmFyaWVzIGxpa2UgTURDLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VzdChlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgIGlmIChlbGVtZW50LmNsb3Nlc3QpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuY2xvc2VzdChzZWxlY3Rvcik7XG4gICAgfVxuICAgIHZhciBlbCA9IGVsZW1lbnQ7XG4gICAgd2hpbGUgKGVsKSB7XG4gICAgICAgIGlmIChtYXRjaGVzKGVsLCBzZWxlY3RvcikpIHtcbiAgICAgICAgICAgIHJldHVybiBlbDtcbiAgICAgICAgfVxuICAgICAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoZXMoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgICB2YXIgbmF0aXZlTWF0Y2hlcyA9IGVsZW1lbnQubWF0Y2hlc1xuICAgICAgICB8fCBlbGVtZW50LndlYmtpdE1hdGNoZXNTZWxlY3RvclxuICAgICAgICB8fCBlbGVtZW50Lm1zTWF0Y2hlc1NlbGVjdG9yO1xuICAgIHJldHVybiBuYXRpdmVNYXRjaGVzLmNhbGwoZWxlbWVudCwgc2VsZWN0b3IpO1xufVxuLyoqXG4gKiBVc2VkIHRvIGNvbXB1dGUgdGhlIGVzdGltYXRlZCBzY3JvbGwgd2lkdGggb2YgZWxlbWVudHMuIFdoZW4gYW4gZWxlbWVudCBpc1xuICogaGlkZGVuIGR1ZSB0byBkaXNwbGF5OiBub25lOyBiZWluZyBhcHBsaWVkIHRvIGEgcGFyZW50IGVsZW1lbnQsIHRoZSB3aWR0aCBpc1xuICogcmV0dXJuZWQgYXMgMC4gSG93ZXZlciwgdGhlIGVsZW1lbnQgd2lsbCBoYXZlIGEgdHJ1ZSB3aWR0aCBvbmNlIG5vIGxvbmdlclxuICogaW5zaWRlIGEgZGlzcGxheTogbm9uZSBjb250ZXh0LiBUaGlzIG1ldGhvZCBjb21wdXRlcyBhbiBlc3RpbWF0ZWQgd2lkdGggd2hlblxuICogdGhlIGVsZW1lbnQgaXMgaGlkZGVuIG9yIHJldHVybnMgdGhlIHRydWUgd2lkdGggd2hlbiB0aGUgZWxlbWVudCBpcyB2aXNibGUuXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hvc2Ugd2lkdGggdG8gZXN0aW1hdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVzdGltYXRlU2Nyb2xsV2lkdGgoZWxlbWVudCkge1xuICAgIC8vIENoZWNrIHRoZSBvZmZzZXRQYXJlbnQuIElmIHRoZSBlbGVtZW50IGluaGVyaXRzIGRpc3BsYXk6IG5vbmUgZnJvbSBhbnlcbiAgICAvLyBwYXJlbnQsIHRoZSBvZmZzZXRQYXJlbnQgcHJvcGVydHkgd2lsbCBiZSBudWxsIChzZWVcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTEVsZW1lbnQvb2Zmc2V0UGFyZW50KS5cbiAgICAvLyBUaGlzIGNoZWNrIGVuc3VyZXMgd2Ugb25seSBjbG9uZSB0aGUgbm9kZSB3aGVuIG5lY2Vzc2FyeS5cbiAgICB2YXIgaHRtbEVsID0gZWxlbWVudDtcbiAgICBpZiAoaHRtbEVsLm9mZnNldFBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gaHRtbEVsLnNjcm9sbFdpZHRoO1xuICAgIH1cbiAgICB2YXIgY2xvbmUgPSBodG1sRWwuY2xvbmVOb2RlKHRydWUpO1xuICAgIGNsb25lLnN0eWxlLnNldFByb3BlcnR5KCdwb3NpdGlvbicsICdhYnNvbHV0ZScpO1xuICAgIGNsb25lLnN0eWxlLnNldFByb3BlcnR5KCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKC05OTk5cHgsIC05OTk5cHgpJyk7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGNsb25lKTtcbiAgICB2YXIgc2Nyb2xsV2lkdGggPSBjbG9uZS5zY3JvbGxXaWR0aDtcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoY2xvbmUpO1xuICAgIHJldHVybiBzY3JvbGxXaWR0aDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBvbnlmaWxsLmpzLm1hcCIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAyMDE4IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG55b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG5Zb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblxuICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXG5Vbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG5kaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG5XSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cblNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbmxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKi9cbi8qKlxuICogUmV0dXJuIGFuIGVsZW1lbnQgYXNzaWduZWQgdG8gYSBnaXZlbiBzbG90IHRoYXQgbWF0Y2hlcyB0aGUgZ2l2ZW4gc2VsZWN0b3JcbiAqL1xuaW1wb3J0IHsgbWF0Y2hlcyB9IGZyb20gJ0BtYXRlcmlhbC9kb20vcG9ueWZpbGwnO1xuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBub2RlIGlzIGFuIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIG5vZGUgTm9kZSB0byBjaGVja1xuICovXG5leHBvcnQgY29uc3QgaXNOb2RlRWxlbWVudCA9IChub2RlKSA9PiB7XG4gICAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFO1xufTtcbmV4cG9ydCBmdW5jdGlvbiBmaW5kQXNzaWduZWRFbGVtZW50KHNsb3QsIHNlbGVjdG9yKSB7XG4gICAgZm9yIChjb25zdCBub2RlIG9mIHNsb3QuYXNzaWduZWROb2Rlcyh7IGZsYXR0ZW46IHRydWUgfSkpIHtcbiAgICAgICAgaWYgKGlzTm9kZUVsZW1lbnQobm9kZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsID0gbm9kZTtcbiAgICAgICAgICAgIGlmIChtYXRjaGVzKGVsLCBzZWxlY3RvcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkSGFzUmVtb3ZlQ2xhc3MoZWxlbWVudCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGFkZENsYXNzOiAoY2xhc3NOYW1lKSA9PiB7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlQ2xhc3M6IChjbGFzc05hbWUpID0+IHtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICAgICAgICB9LFxuICAgICAgICBoYXNDbGFzczogKGNsYXNzTmFtZSkgPT4gZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSxcbiAgICB9O1xufVxubGV0IHN1cHBvcnRzUGFzc2l2ZSA9IGZhbHNlO1xuY29uc3QgZm4gPSAoKSA9PiB7IH07XG5jb25zdCBvcHRpb25zQmxvY2sgPSB7XG4gICAgZ2V0IHBhc3NpdmUoKSB7XG4gICAgICAgIHN1cHBvcnRzUGFzc2l2ZSA9IHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59O1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigneCcsIGZuLCBvcHRpb25zQmxvY2spO1xuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigneCcsIGZuKTtcbi8qKlxuICogRG8gZXZlbnQgbGlzdGVuZXJzIHN1cG9ydCB0aGUgYHBhc3NpdmVgIG9wdGlvbj9cbiAqL1xuZXhwb3J0IGNvbnN0IHN1cHBvcnRzUGFzc2l2ZUV2ZW50TGlzdGVuZXIgPSBzdXBwb3J0c1Bhc3NpdmU7XG5leHBvcnQgY29uc3QgZGVlcEFjdGl2ZUVsZW1lbnRQYXRoID0gKGRvYyA9IHdpbmRvdy5kb2N1bWVudCkgPT4ge1xuICAgIGxldCBhY3RpdmVFbGVtZW50ID0gZG9jLmFjdGl2ZUVsZW1lbnQ7XG4gICAgY29uc3QgcGF0aCA9IFtdO1xuICAgIGlmICghYWN0aXZlRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICB9XG4gICAgd2hpbGUgKGFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgcGF0aC5wdXNoKGFjdGl2ZUVsZW1lbnQpO1xuICAgICAgICBpZiAoYWN0aXZlRWxlbWVudC5zaGFkb3dSb290KSB7XG4gICAgICAgICAgICBhY3RpdmVFbGVtZW50ID0gYWN0aXZlRWxlbWVudC5zaGFkb3dSb290LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGF0aDtcbn07XG5leHBvcnQgY29uc3QgZG9lc0VsZW1lbnRDb250YWluRm9jdXMgPSAoZWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IGFjdGl2ZVBhdGggPSBkZWVwQWN0aXZlRWxlbWVudFBhdGgoKTtcbiAgICBpZiAoIWFjdGl2ZVBhdGgubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgZGVlcEFjdGl2ZUVsZW1lbnQgPSBhY3RpdmVQYXRoW2FjdGl2ZVBhdGgubGVuZ3RoIC0gMV07XG4gICAgY29uc3QgZm9jdXNFdiA9IG5ldyBFdmVudCgnY2hlY2staWYtZm9jdXNlZCcsIHsgYnViYmxlczogdHJ1ZSwgY29tcG9zZWQ6IHRydWUgfSk7XG4gICAgbGV0IGNvbXBvc2VkUGF0aCA9IFtdO1xuICAgIGNvbnN0IGxpc3RlbmVyID0gKGV2KSA9PiB7XG4gICAgICAgIGNvbXBvc2VkUGF0aCA9IGV2LmNvbXBvc2VkUGF0aCgpO1xuICAgIH07XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjaGVjay1pZi1mb2N1c2VkJywgbGlzdGVuZXIpO1xuICAgIGRlZXBBY3RpdmVFbGVtZW50LmRpc3BhdGNoRXZlbnQoZm9jdXNFdik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGVjay1pZi1mb2N1c2VkJywgbGlzdGVuZXIpO1xuICAgIHJldHVybiBjb21wb3NlZFBhdGguaW5kZXhPZihlbGVtZW50KSAhPT0gLTE7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IDIwMTggR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbnlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbllvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuXG4gICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cblVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbmRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbldJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxubGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qL1xuaW1wb3J0IHsgTGl0RWxlbWVudCB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmV4cG9ydCB7IG9ic2VydmVyIH0gZnJvbSAnLi9vYnNlcnZlci5qcyc7XG5leHBvcnQgeyBhZGRIYXNSZW1vdmVDbGFzcyB9IGZyb20gJy4vdXRpbHMuanMnO1xuZXhwb3J0IGNsYXNzIEJhc2VFbGVtZW50IGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuZCBhdHRhY2ggdGhlIE1EQyBGb3VuZGF0aW9uIHRvIHRoZSBpbnN0YW5jZVxuICAgICAqL1xuICAgIGNyZWF0ZUZvdW5kYXRpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLm1kY0ZvdW5kYXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5tZGNGb3VuZGF0aW9uLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1kY0ZvdW5kYXRpb24gPSBuZXcgdGhpcy5tZGNGb3VuZGF0aW9uQ2xhc3ModGhpcy5jcmVhdGVBZGFwdGVyKCkpO1xuICAgICAgICB0aGlzLm1kY0ZvdW5kYXRpb24uaW5pdCgpO1xuICAgIH1cbiAgICBmaXJzdFVwZGF0ZWQoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlRm91bmRhdGlvbigpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2UtZWxlbWVudC5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTggVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5pbXBvcnQgeyBBdHRyaWJ1dGVQYXJ0LCBkaXJlY3RpdmUsIFByb3BlcnR5UGFydCB9IGZyb20gJy4uL2xpdC1odG1sLmpzJztcbi8qKlxuICogU3RvcmVzIHRoZSBDbGFzc0luZm8gb2JqZWN0IGFwcGxpZWQgdG8gYSBnaXZlbiBBdHRyaWJ1dGVQYXJ0LlxuICogVXNlZCB0byB1bnNldCBleGlzdGluZyB2YWx1ZXMgd2hlbiBhIG5ldyBDbGFzc0luZm8gb2JqZWN0IGlzIGFwcGxpZWQuXG4gKi9cbmNvbnN0IGNsYXNzTWFwQ2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKiBBIGRpcmVjdGl2ZSB0aGF0IGFwcGxpZXMgQ1NTIGNsYXNzZXMuIFRoaXMgbXVzdCBiZSB1c2VkIGluIHRoZSBgY2xhc3NgXG4gKiBhdHRyaWJ1dGUgYW5kIG11c3QgYmUgdGhlIG9ubHkgcGFydCB1c2VkIGluIHRoZSBhdHRyaWJ1dGUuIEl0IHRha2VzIGVhY2hcbiAqIHByb3BlcnR5IGluIHRoZSBgY2xhc3NJbmZvYCBhcmd1bWVudCBhbmQgYWRkcyB0aGUgcHJvcGVydHkgbmFtZSB0byB0aGVcbiAqIGVsZW1lbnQncyBgY2xhc3NMaXN0YCBpZiB0aGUgcHJvcGVydHkgdmFsdWUgaXMgdHJ1dGh5OyBpZiB0aGUgcHJvcGVydHkgdmFsdWVcbiAqIGlzIGZhbHNleSwgdGhlIHByb3BlcnR5IG5hbWUgaXMgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50J3MgYGNsYXNzTGlzdGAuIEZvclxuICogZXhhbXBsZVxuICogYHtmb286IGJhcn1gIGFwcGxpZXMgdGhlIGNsYXNzIGBmb29gIGlmIHRoZSB2YWx1ZSBvZiBgYmFyYCBpcyB0cnV0aHkuXG4gKiBAcGFyYW0gY2xhc3NJbmZvIHtDbGFzc0luZm99XG4gKi9cbmV4cG9ydCBjb25zdCBjbGFzc01hcCA9IGRpcmVjdGl2ZSgoY2xhc3NJbmZvKSA9PiAocGFydCkgPT4ge1xuICAgIGlmICghKHBhcnQgaW5zdGFuY2VvZiBBdHRyaWJ1dGVQYXJ0KSB8fCAocGFydCBpbnN0YW5jZW9mIFByb3BlcnR5UGFydCkgfHxcbiAgICAgICAgcGFydC5jb21taXR0ZXIubmFtZSAhPT0gJ2NsYXNzJyB8fCBwYXJ0LmNvbW1pdHRlci5wYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGBjbGFzc01hcGAgZGlyZWN0aXZlIG11c3QgYmUgdXNlZCBpbiB0aGUgYGNsYXNzYCBhdHRyaWJ1dGUgJyArXG4gICAgICAgICAgICAnYW5kIG11c3QgYmUgdGhlIG9ubHkgcGFydCBpbiB0aGUgYXR0cmlidXRlLicpO1xuICAgIH1cbiAgICBjb25zdCB7IGNvbW1pdHRlciB9ID0gcGFydDtcbiAgICBjb25zdCB7IGVsZW1lbnQgfSA9IGNvbW1pdHRlcjtcbiAgICAvLyBoYW5kbGUgc3RhdGljIGNsYXNzZXNcbiAgICBpZiAoIWNsYXNzTWFwQ2FjaGUuaGFzKHBhcnQpKSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gY29tbWl0dGVyLnN0cmluZ3Muam9pbignICcpO1xuICAgIH1cbiAgICBjb25zdCB7IGNsYXNzTGlzdCB9ID0gZWxlbWVudDtcbiAgICAvLyByZW1vdmUgb2xkIGNsYXNzZXMgdGhhdCBubyBsb25nZXIgYXBwbHlcbiAgICBjb25zdCBvbGRJbmZvID0gY2xhc3NNYXBDYWNoZS5nZXQocGFydCk7XG4gICAgZm9yIChjb25zdCBuYW1lIGluIG9sZEluZm8pIHtcbiAgICAgICAgaWYgKCEobmFtZSBpbiBjbGFzc0luZm8pKSB7XG4gICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKG5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGFkZCBuZXcgY2xhc3Nlc1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiBjbGFzc0luZm8pIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBjbGFzc0luZm9bbmFtZV07XG4gICAgICAgIGlmICghb2xkSW5mbyB8fCB2YWx1ZSAhPT0gb2xkSW5mb1tuYW1lXSkge1xuICAgICAgICAgICAgLy8gV2UgZXhwbGljaXRseSB3YW50IGEgbG9vc2UgdHJ1dGh5IGNoZWNrIGhlcmUgYmVjYXVzZVxuICAgICAgICAgICAgLy8gaXQgc2VlbXMgbW9yZSBjb252ZW5pZW50IHRoYXQgJycgYW5kIDAgYXJlIHNraXBwZWQuXG4gICAgICAgICAgICBjb25zdCBtZXRob2QgPSB2YWx1ZSA/ICdhZGQnIDogJ3JlbW92ZSc7XG4gICAgICAgICAgICBjbGFzc0xpc3RbbWV0aG9kXShuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGFzc01hcENhY2hlLnNldChwYXJ0LCBjbGFzc0luZm8pO1xufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGFzcy1tYXAuanMubWFwIiwiaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gXCJ0c2xpYlwiO1xuLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IDIwMTkgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbnlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbllvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuXG4gICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cblVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbmRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbldJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxubGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qL1xuaW1wb3J0IHsgYWRkSGFzUmVtb3ZlQ2xhc3MsIEJhc2VFbGVtZW50IH0gZnJvbSAnQG1hdGVyaWFsL213Yy1iYXNlL2Jhc2UtZWxlbWVudCc7XG5pbXBvcnQgeyBzdXBwb3J0c1Bhc3NpdmVFdmVudExpc3RlbmVyIH0gZnJvbSAnQG1hdGVyaWFsL213Yy1iYXNlL3V0aWxzJztcbmltcG9ydCB7IHN0cmluZ3MgfSBmcm9tICdAbWF0ZXJpYWwvdG9wLWFwcC1iYXIvY29uc3RhbnRzJztcbmltcG9ydCBNRENUb3BBcHBCYXJCYXNlRm91bmRhdGlvbiBmcm9tICdAbWF0ZXJpYWwvdG9wLWFwcC1iYXIvZm91bmRhdGlvbic7XG5pbXBvcnQgeyBodG1sLCBwcm9wZXJ0eSwgcXVlcnkgfSBmcm9tICdsaXQtZWxlbWVudCc7XG5pbXBvcnQgeyBjbGFzc01hcCB9IGZyb20gJ2xpdC1odG1sL2RpcmVjdGl2ZXMvY2xhc3MtbWFwJztcbmV4cG9ydCBjb25zdCBwYXNzaXZlRXZlbnRPcHRpb25zSWZTdXBwb3J0ZWQgPSBzdXBwb3J0c1Bhc3NpdmVFdmVudExpc3RlbmVyID8geyBwYXNzaXZlOiB0cnVlIH0gOiB1bmRlZmluZWQ7XG5leHBvcnQgY2xhc3MgVG9wQXBwQmFyQmFzZUJhc2UgZXh0ZW5kcyBCYXNlRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubWRjRm91bmRhdGlvbkNsYXNzID0gTURDVG9wQXBwQmFyQmFzZUZvdW5kYXRpb247XG4gICAgICAgIHRoaXMuY2VudGVyVGl0bGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYW5kbGVUYXJnZXRTY3JvbGwgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm1kY0ZvdW5kYXRpb24uaGFuZGxlVGFyZ2V0U2Nyb2xsKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlTmF2aWdhdGlvbkNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tZGNGb3VuZGF0aW9uLmhhbmRsZU5hdmlnYXRpb25DbGljaygpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXQgc2Nyb2xsVGFyZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsVGFyZ2V0IHx8IHdpbmRvdztcbiAgICB9XG4gICAgc2V0IHNjcm9sbFRhcmdldCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBvbGQgPSB0aGlzLnNjcm9sbFRhcmdldDtcbiAgICAgICAgdGhpcy5fc2Nyb2xsVGFyZ2V0ID0gdmFsdWU7XG4gICAgICAgIHRoaXMudXBkYXRlUm9vdFBvc2l0aW9uKCk7XG4gICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgnc2Nyb2xsVGFyZ2V0Jywgb2xkKTtcbiAgICB9XG4gICAgdXBkYXRlUm9vdFBvc2l0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5tZGNSb290KSB7XG4gICAgICAgICAgICBjb25zdCB3aW5kb3dTY3JvbGxlciA9IHRoaXMuc2Nyb2xsVGFyZ2V0ID09PSB3aW5kb3c7XG4gICAgICAgICAgICAvLyB3ZSBhZGQgc3VwcG9ydCBmb3IgdG9wLWFwcC1iYXIncyB0aWVkIHRvIGFuIGVsZW1lbnQgc2Nyb2xsZXIuXG4gICAgICAgICAgICB0aGlzLm1kY1Jvb3Quc3R5bGUucG9zaXRpb24gPSB3aW5kb3dTY3JvbGxlciA/ICcnIDogJ2Fic29sdXRlJztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIC8vIGNsYW5nLWZvcm1hdCBvZmZcbiAgICAgICAgbGV0IHRpdGxlID0gaHRtbCBgPHNwYW4gY2xhc3M9XCJtZGMtdG9wLWFwcC1iYXJfX3RpdGxlXCI+PHNsb3QgbmFtZT1cInRpdGxlXCI+PC9zbG90Pjwvc3Bhbj5gO1xuICAgICAgICBpZiAodGhpcy5jZW50ZXJUaXRsZSkge1xuICAgICAgICAgICAgdGl0bGUgPSBodG1sIGA8c2VjdGlvbiBjbGFzcz1cIm1kYy10b3AtYXBwLWJhcl9fc2VjdGlvbiBtZGMtdG9wLWFwcC1iYXJfX3NlY3Rpb24tLWFsaWduLWNlbnRlclwiPiR7dGl0bGV9PC9zZWN0aW9uPmA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2xhbmctZm9ybWF0IG9uXG4gICAgICAgIHJldHVybiBodG1sIGBcbiAgICAgIDxoZWFkZXIgY2xhc3M9XCJtZGMtdG9wLWFwcC1iYXIgJHtjbGFzc01hcCh0aGlzLmJhckNsYXNzZXMoKSl9XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwibWRjLXRvcC1hcHAtYmFyX19yb3dcIj5cbiAgICAgICAgPHNlY3Rpb24gY2xhc3M9XCJtZGMtdG9wLWFwcC1iYXJfX3NlY3Rpb24gbWRjLXRvcC1hcHAtYmFyX19zZWN0aW9uLS1hbGlnbi1zdGFydFwiIGlkPVwibmF2aWdhdGlvblwiPlxuICAgICAgICAgIDxzbG90IG5hbWU9XCJuYXZpZ2F0aW9uSWNvblwiXG4gICAgICAgICAgICBAY2xpY2s9JHt0aGlzLmhhbmRsZU5hdmlnYXRpb25DbGlja30+PC9zbG90PlxuICAgICAgICAgICR7dGhpcy5jZW50ZXJUaXRsZSA/IG51bGwgOiB0aXRsZX1cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgICAke3RoaXMuY2VudGVyVGl0bGUgPyB0aXRsZSA6IG51bGx9XG4gICAgICAgIDxzZWN0aW9uIGNsYXNzPVwibWRjLXRvcC1hcHAtYmFyX19zZWN0aW9uIG1kYy10b3AtYXBwLWJhcl9fc2VjdGlvbi0tYWxpZ24tZW5kXCIgaWQ9XCJhY3Rpb25zXCIgcm9sZT1cInRvb2xiYXJcIj5cbiAgICAgICAgICA8c2xvdCBuYW1lPVwiYWN0aW9uSXRlbXNcIj48L3Nsb3Q+XG4gICAgICAgIDwvc2VjdGlvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvaGVhZGVyPlxuICAgIDxkaXYgY2xhc3M9XCIke2NsYXNzTWFwKHRoaXMuY29udGVudENsYXNzZXMoKSl9XCI+XG4gICAgICA8c2xvdD48L3Nsb3Q+XG4gICAgPC9kaXY+XG4gICAgYDtcbiAgICB9XG4gICAgY3JlYXRlQWRhcHRlcigpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgYWRkSGFzUmVtb3ZlQ2xhc3ModGhpcy5tZGNSb290KSksIHsgc2V0U3R5bGU6IChwcm9wZXJ0eSwgdmFsdWUpID0+IHRoaXMubWRjUm9vdC5zdHlsZS5zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgdmFsdWUpLCBnZXRUb3BBcHBCYXJIZWlnaHQ6ICgpID0+IHRoaXMubWRjUm9vdC5jbGllbnRIZWlnaHQsIG5vdGlmeU5hdmlnYXRpb25JY29uQ2xpY2tlZDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoc3RyaW5ncy5OQVZJR0FUSU9OX0VWRU5ULCB7IGJ1YmJsZXM6IHRydWUsIGNhbmNlbGFibGU6IHRydWUgfSkpO1xuICAgICAgICAgICAgfSwgZ2V0Vmlld3BvcnRTY3JvbGxZOiAoKSA9PiB0aGlzLnNjcm9sbFRhcmdldCBpbnN0YW5jZW9mIFdpbmRvdyA/XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxUYXJnZXQucGFnZVlPZmZzZXQgOlxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsVGFyZ2V0LnNjcm9sbFRvcCwgZ2V0VG90YWxBY3Rpb25JdGVtczogKCkgPT4gdGhpcy5fYWN0aW9uSXRlbXNTbG90XG4gICAgICAgICAgICAgICAgLmFzc2lnbmVkTm9kZXMoeyBmbGF0dGVuOiB0cnVlIH0pXG4gICAgICAgICAgICAgICAgLmxlbmd0aCB9KTtcbiAgICB9XG4gICAgcmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuaGFuZGxlVGFyZ2V0U2Nyb2xsLCBwYXNzaXZlRXZlbnRPcHRpb25zSWZTdXBwb3J0ZWQpO1xuICAgIH1cbiAgICB1bnJlZ2lzdGVyTGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLnNjcm9sbFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmhhbmRsZVRhcmdldFNjcm9sbCk7XG4gICAgfVxuICAgIGZpcnN0VXBkYXRlZCgpIHtcbiAgICAgICAgc3VwZXIuZmlyc3RVcGRhdGVkKCk7XG4gICAgICAgIHRoaXMudXBkYXRlUm9vdFBvc2l0aW9uKCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJMaXN0ZW5lcnMoKTtcbiAgICB9XG4gICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgIHRoaXMudW5yZWdpc3Rlckxpc3RlbmVycygpO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIHF1ZXJ5KCcubWRjLXRvcC1hcHAtYmFyJylcbl0sIFRvcEFwcEJhckJhc2VCYXNlLnByb3RvdHlwZSwgXCJtZGNSb290XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBxdWVyeSgnc2xvdFtuYW1lPVwiYWN0aW9uSXRlbXNcIl0nKVxuXSwgVG9wQXBwQmFyQmFzZUJhc2UucHJvdG90eXBlLCBcIl9hY3Rpb25JdGVtc1Nsb3RcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuXSwgVG9wQXBwQmFyQmFzZUJhc2UucHJvdG90eXBlLCBcImNlbnRlclRpdGxlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSgpXG5dLCBUb3BBcHBCYXJCYXNlQmFzZS5wcm90b3R5cGUsIFwic2Nyb2xsVGFyZ2V0XCIsIG51bGwpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXdjLXRvcC1hcHAtYmFyLWJhc2UtYmFzZS5qcy5tYXAiLCJpbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSBcInRzbGliXCI7XG4vKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xueW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG5TZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG5saW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiovXG5pbXBvcnQgTURDVG9wQXBwQmFyRm91bmRhdGlvbiBmcm9tICdAbWF0ZXJpYWwvdG9wLWFwcC1iYXIvc3RhbmRhcmQvZm91bmRhdGlvbic7XG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmltcG9ydCB7IHBhc3NpdmVFdmVudE9wdGlvbnNJZlN1cHBvcnRlZCwgVG9wQXBwQmFyQmFzZUJhc2UgfSBmcm9tICcuL213Yy10b3AtYXBwLWJhci1iYXNlLWJhc2UnO1xuZXhwb3J0IGNsYXNzIFRvcEFwcEJhckJhc2UgZXh0ZW5kcyBUb3BBcHBCYXJCYXNlQmFzZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubWRjRm91bmRhdGlvbkNsYXNzID0gTURDVG9wQXBwQmFyRm91bmRhdGlvbjtcbiAgICAgICAgdGhpcy5wcm9taW5lbnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kZW5zZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhbmRsZVJlc2l6ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubWRjRm91bmRhdGlvbi5oYW5kbGVXaW5kb3dSZXNpemUoKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYmFyQ2xhc3NlcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICdtZGMtdG9wLWFwcC1iYXItLWRlbnNlJzogdGhpcy5kZW5zZSxcbiAgICAgICAgICAgICdtZGMtdG9wLWFwcC1iYXItLXByb21pbmVudCc6IHRoaXMucHJvbWluZW50LFxuICAgICAgICAgICAgJ2NlbnRlci10aXRsZSc6IHRoaXMuY2VudGVyVGl0bGUsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnRlbnRDbGFzc2VzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ21kYy10b3AtYXBwLWJhci0tZml4ZWQtYWRqdXN0JzogIXRoaXMuZGVuc2UgJiYgIXRoaXMucHJvbWluZW50LFxuICAgICAgICAgICAgJ21kYy10b3AtYXBwLWJhci0tZGVuc2UtZml4ZWQtYWRqdXN0JzogdGhpcy5kZW5zZSAmJiAhdGhpcy5wcm9taW5lbnQsXG4gICAgICAgICAgICAnbWRjLXRvcC1hcHAtYmFyLS1wcm9taW5lbnQtZml4ZWQtYWRqdXN0JzogIXRoaXMuZGVuc2UgJiYgdGhpcy5wcm9taW5lbnQsXG4gICAgICAgICAgICAnbWRjLXRvcC1hcHAtYmFyLS1kZW5zZS1wcm9taW5lbnQtZml4ZWQtYWRqdXN0JzogdGhpcy5kZW5zZSAmJiB0aGlzLnByb21pbmVudCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHN1cGVyLnJlZ2lzdGVyTGlzdGVuZXJzKCk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmhhbmRsZVJlc2l6ZSwgcGFzc2l2ZUV2ZW50T3B0aW9uc0lmU3VwcG9ydGVkKTtcbiAgICB9XG4gICAgdW5yZWdpc3Rlckxpc3RlbmVycygpIHtcbiAgICAgICAgc3VwZXIudW5yZWdpc3Rlckxpc3RlbmVycygpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5oYW5kbGVSZXNpemUpO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgcmVmbGVjdDogdHJ1ZSB9KVxuXSwgVG9wQXBwQmFyQmFzZS5wcm90b3R5cGUsIFwicHJvbWluZW50XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIHJlZmxlY3Q6IHRydWUgfSlcbl0sIFRvcEFwcEJhckJhc2UucHJvdG90eXBlLCBcImRlbnNlXCIsIHZvaWQgMCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1td2MtdG9wLWFwcC1iYXItYmFzZS5qcy5tYXAiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xueW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG5TZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG5saW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiovXG5pbXBvcnQgeyBjc3MgfSBmcm9tICdsaXQtZWxlbWVudCc7XG5leHBvcnQgY29uc3Qgc3R5bGUgPSBjc3MgYC5tZGMtdG9wLWFwcC1iYXJ7YmFja2dyb3VuZC1jb2xvcjojNjIwMGVlO2JhY2tncm91bmQtY29sb3I6dmFyKC0tbWRjLXRoZW1lLXByaW1hcnksICM2MjAwZWUpO2NvbG9yOiNmZmY7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOmZpeGVkO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2Vlbjtib3gtc2l6aW5nOmJvcmRlci1ib3g7d2lkdGg6MTAwJTt6LWluZGV4OjR9Lm1kYy10b3AtYXBwLWJhciAubWRjLXRvcC1hcHAtYmFyX19hY3Rpb24taXRlbSwubWRjLXRvcC1hcHAtYmFyIC5tZGMtdG9wLWFwcC1iYXJfX25hdmlnYXRpb24taWNvbntjb2xvcjojZmZmO2NvbG9yOnZhcigtLW1kYy10aGVtZS1vbi1wcmltYXJ5LCAjZmZmKX0ubWRjLXRvcC1hcHAtYmFyIC5tZGMtdG9wLWFwcC1iYXJfX2FjdGlvbi1pdGVtOjpiZWZvcmUsLm1kYy10b3AtYXBwLWJhciAubWRjLXRvcC1hcHAtYmFyX19hY3Rpb24taXRlbTo6YWZ0ZXIsLm1kYy10b3AtYXBwLWJhciAubWRjLXRvcC1hcHAtYmFyX19uYXZpZ2F0aW9uLWljb246OmJlZm9yZSwubWRjLXRvcC1hcHAtYmFyIC5tZGMtdG9wLWFwcC1iYXJfX25hdmlnYXRpb24taWNvbjo6YWZ0ZXJ7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6dmFyKC0tbWRjLXRoZW1lLW9uLXByaW1hcnksICNmZmYpfS5tZGMtdG9wLWFwcC1iYXIgLm1kYy10b3AtYXBwLWJhcl9fYWN0aW9uLWl0ZW06aG92ZXI6OmJlZm9yZSwubWRjLXRvcC1hcHAtYmFyIC5tZGMtdG9wLWFwcC1iYXJfX25hdmlnYXRpb24taWNvbjpob3Zlcjo6YmVmb3Jle29wYWNpdHk6LjA4fS5tZGMtdG9wLWFwcC1iYXIgLm1kYy10b3AtYXBwLWJhcl9fYWN0aW9uLWl0ZW0ubWRjLXJpcHBsZS11cGdyYWRlZC0tYmFja2dyb3VuZC1mb2N1c2VkOjpiZWZvcmUsLm1kYy10b3AtYXBwLWJhciAubWRjLXRvcC1hcHAtYmFyX19hY3Rpb24taXRlbTpub3QoLm1kYy1yaXBwbGUtdXBncmFkZWQpOmZvY3VzOjpiZWZvcmUsLm1kYy10b3AtYXBwLWJhciAubWRjLXRvcC1hcHAtYmFyX19uYXZpZ2F0aW9uLWljb24ubWRjLXJpcHBsZS11cGdyYWRlZC0tYmFja2dyb3VuZC1mb2N1c2VkOjpiZWZvcmUsLm1kYy10b3AtYXBwLWJhciAubWRjLXRvcC1hcHAtYmFyX19uYXZpZ2F0aW9uLWljb246bm90KC5tZGMtcmlwcGxlLXVwZ3JhZGVkKTpmb2N1czo6YmVmb3Jle3RyYW5zaXRpb24tZHVyYXRpb246NzVtcztvcGFjaXR5Oi4yNH0ubWRjLXRvcC1hcHAtYmFyIC5tZGMtdG9wLWFwcC1iYXJfX2FjdGlvbi1pdGVtOm5vdCgubWRjLXJpcHBsZS11cGdyYWRlZCk6OmFmdGVyLC5tZGMtdG9wLWFwcC1iYXIgLm1kYy10b3AtYXBwLWJhcl9fbmF2aWdhdGlvbi1pY29uOm5vdCgubWRjLXJpcHBsZS11cGdyYWRlZCk6OmFmdGVye3RyYW5zaXRpb246b3BhY2l0eSAxNTBtcyBsaW5lYXJ9Lm1kYy10b3AtYXBwLWJhciAubWRjLXRvcC1hcHAtYmFyX19hY3Rpb24taXRlbTpub3QoLm1kYy1yaXBwbGUtdXBncmFkZWQpOmFjdGl2ZTo6YWZ0ZXIsLm1kYy10b3AtYXBwLWJhciAubWRjLXRvcC1hcHAtYmFyX19uYXZpZ2F0aW9uLWljb246bm90KC5tZGMtcmlwcGxlLXVwZ3JhZGVkKTphY3RpdmU6OmFmdGVye3RyYW5zaXRpb24tZHVyYXRpb246NzVtcztvcGFjaXR5Oi4yNH0ubWRjLXRvcC1hcHAtYmFyIC5tZGMtdG9wLWFwcC1iYXJfX2FjdGlvbi1pdGVtLm1kYy1yaXBwbGUtdXBncmFkZWQsLm1kYy10b3AtYXBwLWJhciAubWRjLXRvcC1hcHAtYmFyX19uYXZpZ2F0aW9uLWljb24ubWRjLXJpcHBsZS11cGdyYWRlZHstLW1kYy1yaXBwbGUtZmctb3BhY2l0eTogMC4yNH0ubWRjLXRvcC1hcHAtYmFyX19yb3d7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOnJlbGF0aXZlO2JveC1zaXppbmc6Ym9yZGVyLWJveDt3aWR0aDoxMDAlO2hlaWdodDo2NHB4fS5tZGMtdG9wLWFwcC1iYXJfX3NlY3Rpb257ZGlzcGxheTppbmxpbmUtZmxleDtmbGV4OjEgMSBhdXRvO2FsaWduLWl0ZW1zOmNlbnRlcjttaW4td2lkdGg6MDtwYWRkaW5nOjhweCAxMnB4O3otaW5kZXg6MX0ubWRjLXRvcC1hcHAtYmFyX19zZWN0aW9uLS1hbGlnbi1zdGFydHtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1zdGFydDtvcmRlcjotMX0ubWRjLXRvcC1hcHAtYmFyX19zZWN0aW9uLS1hbGlnbi1lbmR7anVzdGlmeS1jb250ZW50OmZsZXgtZW5kO29yZGVyOjF9Lm1kYy10b3AtYXBwLWJhcl9fdGl0bGV7Zm9udC1mYW1pbHk6Um9ib3RvLCBzYW5zLXNlcmlmOy1tb3otb3N4LWZvbnQtc21vb3RoaW5nOmdyYXlzY2FsZTstd2Via2l0LWZvbnQtc21vb3RoaW5nOmFudGlhbGlhc2VkO2ZvbnQtc2l6ZToxLjI1cmVtO2xpbmUtaGVpZ2h0OjJyZW07Zm9udC13ZWlnaHQ6NTAwO2xldHRlci1zcGFjaW5nOi4wMTI1ZW07dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7dGV4dC10cmFuc2Zvcm06aW5oZXJpdDtwYWRkaW5nLWxlZnQ6MjBweDtwYWRkaW5nLXJpZ2h0OjA7dGV4dC1vdmVyZmxvdzplbGxpcHNpczt3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVuO3otaW5kZXg6MX1bZGlyPXJ0bF0gLm1kYy10b3AtYXBwLWJhcl9fdGl0bGUsLm1kYy10b3AtYXBwLWJhcl9fdGl0bGVbZGlyPXJ0bF17cGFkZGluZy1sZWZ0OjA7cGFkZGluZy1yaWdodDoyMHB4fS5tZGMtdG9wLWFwcC1iYXItLXNob3J0LWNvbGxhcHNlZHtib3JkZXItcmFkaXVzOjAgMCAyNHB4IDB9W2Rpcj1ydGxdIC5tZGMtdG9wLWFwcC1iYXItLXNob3J0LWNvbGxhcHNlZCwubWRjLXRvcC1hcHAtYmFyLS1zaG9ydC1jb2xsYXBzZWRbZGlyPXJ0bF17Ym9yZGVyLXJhZGl1czowIDAgMCAyNHB4fS5tZGMtdG9wLWFwcC1iYXItLXNob3J0e3RvcDowO3JpZ2h0OmF1dG87bGVmdDowO3dpZHRoOjEwMCU7dHJhbnNpdGlvbjp3aWR0aCAyNTBtcyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpfVtkaXI9cnRsXSAubWRjLXRvcC1hcHAtYmFyLS1zaG9ydCwubWRjLXRvcC1hcHAtYmFyLS1zaG9ydFtkaXI9cnRsXXtyaWdodDowO2xlZnQ6YXV0b30ubWRjLXRvcC1hcHAtYmFyLS1zaG9ydCAubWRjLXRvcC1hcHAtYmFyX19yb3d7aGVpZ2h0OjU2cHh9Lm1kYy10b3AtYXBwLWJhci0tc2hvcnQgLm1kYy10b3AtYXBwLWJhcl9fc2VjdGlvbntwYWRkaW5nOjRweH0ubWRjLXRvcC1hcHAtYmFyLS1zaG9ydCAubWRjLXRvcC1hcHAtYmFyX190aXRsZXt0cmFuc2l0aW9uOm9wYWNpdHkgMjAwbXMgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKTtvcGFjaXR5OjF9Lm1kYy10b3AtYXBwLWJhci0tc2hvcnQtY29sbGFwc2Vke2JveC1zaGFkb3c6MHB4IDJweCA0cHggLTFweCByZ2JhKDAsIDAsIDAsIDAuMiksMHB4IDRweCA1cHggMHB4IHJnYmEoMCwgMCwgMCwgMC4xNCksMHB4IDFweCAxMHB4IDBweCByZ2JhKDAsMCwwLC4xMik7d2lkdGg6NTZweDt0cmFuc2l0aW9uOndpZHRoIDMwMG1zIGN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSl9Lm1kYy10b3AtYXBwLWJhci0tc2hvcnQtY29sbGFwc2VkIC5tZGMtdG9wLWFwcC1iYXJfX3RpdGxle2Rpc3BsYXk6bm9uZX0ubWRjLXRvcC1hcHAtYmFyLS1zaG9ydC1jb2xsYXBzZWQgLm1kYy10b3AtYXBwLWJhcl9fYWN0aW9uLWl0ZW17dHJhbnNpdGlvbjpwYWRkaW5nIDE1MG1zIGN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSl9Lm1kYy10b3AtYXBwLWJhci0tc2hvcnQtY29sbGFwc2VkLm1kYy10b3AtYXBwLWJhci0tc2hvcnQtaGFzLWFjdGlvbi1pdGVte3dpZHRoOjExMnB4fS5tZGMtdG9wLWFwcC1iYXItLXNob3J0LWNvbGxhcHNlZC5tZGMtdG9wLWFwcC1iYXItLXNob3J0LWhhcy1hY3Rpb24taXRlbSAubWRjLXRvcC1hcHAtYmFyX19zZWN0aW9uLS1hbGlnbi1lbmR7cGFkZGluZy1sZWZ0OjA7cGFkZGluZy1yaWdodDoxMnB4fVtkaXI9cnRsXSAubWRjLXRvcC1hcHAtYmFyLS1zaG9ydC1jb2xsYXBzZWQubWRjLXRvcC1hcHAtYmFyLS1zaG9ydC1oYXMtYWN0aW9uLWl0ZW0gLm1kYy10b3AtYXBwLWJhcl9fc2VjdGlvbi0tYWxpZ24tZW5kLC5tZGMtdG9wLWFwcC1iYXItLXNob3J0LWNvbGxhcHNlZC5tZGMtdG9wLWFwcC1iYXItLXNob3J0LWhhcy1hY3Rpb24taXRlbSAubWRjLXRvcC1hcHAtYmFyX19zZWN0aW9uLS1hbGlnbi1lbmRbZGlyPXJ0bF17cGFkZGluZy1sZWZ0OjEycHg7cGFkZGluZy1yaWdodDowfS5tZGMtdG9wLWFwcC1iYXItLWRlbnNlIC5tZGMtdG9wLWFwcC1iYXJfX3Jvd3toZWlnaHQ6NDhweH0ubWRjLXRvcC1hcHAtYmFyLS1kZW5zZSAubWRjLXRvcC1hcHAtYmFyX19zZWN0aW9ue3BhZGRpbmc6MCA0cHh9Lm1kYy10b3AtYXBwLWJhci0tZGVuc2UgLm1kYy10b3AtYXBwLWJhcl9fdGl0bGV7cGFkZGluZy1sZWZ0OjEycHg7cGFkZGluZy1yaWdodDowfVtkaXI9cnRsXSAubWRjLXRvcC1hcHAtYmFyLS1kZW5zZSAubWRjLXRvcC1hcHAtYmFyX190aXRsZSwubWRjLXRvcC1hcHAtYmFyLS1kZW5zZSAubWRjLXRvcC1hcHAtYmFyX190aXRsZVtkaXI9cnRsXXtwYWRkaW5nLWxlZnQ6MDtwYWRkaW5nLXJpZ2h0OjEycHh9Lm1kYy10b3AtYXBwLWJhci0tcHJvbWluZW50IC5tZGMtdG9wLWFwcC1iYXJfX3Jvd3toZWlnaHQ6MTI4cHh9Lm1kYy10b3AtYXBwLWJhci0tcHJvbWluZW50IC5tZGMtdG9wLWFwcC1iYXJfX3RpdGxle2FsaWduLXNlbGY6ZmxleC1lbmQ7cGFkZGluZy1ib3R0b206MnB4fS5tZGMtdG9wLWFwcC1iYXItLXByb21pbmVudCAubWRjLXRvcC1hcHAtYmFyX19hY3Rpb24taXRlbSwubWRjLXRvcC1hcHAtYmFyLS1wcm9taW5lbnQgLm1kYy10b3AtYXBwLWJhcl9fbmF2aWdhdGlvbi1pY29ue2FsaWduLXNlbGY6ZmxleC1zdGFydH0ubWRjLXRvcC1hcHAtYmFyLS1maXhlZHt0cmFuc2l0aW9uOmJveC1zaGFkb3cgMjAwbXMgbGluZWFyfS5tZGMtdG9wLWFwcC1iYXItLWZpeGVkLXNjcm9sbGVke2JveC1zaGFkb3c6MHB4IDJweCA0cHggLTFweCByZ2JhKDAsIDAsIDAsIDAuMiksMHB4IDRweCA1cHggMHB4IHJnYmEoMCwgMCwgMCwgMC4xNCksMHB4IDFweCAxMHB4IDBweCByZ2JhKDAsMCwwLC4xMik7dHJhbnNpdGlvbjpib3gtc2hhZG93IDIwMG1zIGxpbmVhcn0ubWRjLXRvcC1hcHAtYmFyLS1kZW5zZS5tZGMtdG9wLWFwcC1iYXItLXByb21pbmVudCAubWRjLXRvcC1hcHAtYmFyX19yb3d7aGVpZ2h0Ojk2cHh9Lm1kYy10b3AtYXBwLWJhci0tZGVuc2UubWRjLXRvcC1hcHAtYmFyLS1wcm9taW5lbnQgLm1kYy10b3AtYXBwLWJhcl9fc2VjdGlvbntwYWRkaW5nOjAgMTJweH0ubWRjLXRvcC1hcHAtYmFyLS1kZW5zZS5tZGMtdG9wLWFwcC1iYXItLXByb21pbmVudCAubWRjLXRvcC1hcHAtYmFyX190aXRsZXtwYWRkaW5nLWxlZnQ6MjBweDtwYWRkaW5nLXJpZ2h0OjA7cGFkZGluZy1ib3R0b206OXB4fVtkaXI9cnRsXSAubWRjLXRvcC1hcHAtYmFyLS1kZW5zZS5tZGMtdG9wLWFwcC1iYXItLXByb21pbmVudCAubWRjLXRvcC1hcHAtYmFyX190aXRsZSwubWRjLXRvcC1hcHAtYmFyLS1kZW5zZS5tZGMtdG9wLWFwcC1iYXItLXByb21pbmVudCAubWRjLXRvcC1hcHAtYmFyX190aXRsZVtkaXI9cnRsXXtwYWRkaW5nLWxlZnQ6MDtwYWRkaW5nLXJpZ2h0OjIwcHh9Lm1kYy10b3AtYXBwLWJhci0tZml4ZWQtYWRqdXN0e3BhZGRpbmctdG9wOjY0cHh9Lm1kYy10b3AtYXBwLWJhci0tZGVuc2UtZml4ZWQtYWRqdXN0e3BhZGRpbmctdG9wOjQ4cHh9Lm1kYy10b3AtYXBwLWJhci0tc2hvcnQtZml4ZWQtYWRqdXN0e3BhZGRpbmctdG9wOjU2cHh9Lm1kYy10b3AtYXBwLWJhci0tcHJvbWluZW50LWZpeGVkLWFkanVzdHtwYWRkaW5nLXRvcDoxMjhweH0ubWRjLXRvcC1hcHAtYmFyLS1kZW5zZS1wcm9taW5lbnQtZml4ZWQtYWRqdXN0e3BhZGRpbmctdG9wOjk2cHh9QG1lZGlhKG1heC13aWR0aDogNTk5cHgpey5tZGMtdG9wLWFwcC1iYXJfX3Jvd3toZWlnaHQ6NTZweH0ubWRjLXRvcC1hcHAtYmFyX19zZWN0aW9ue3BhZGRpbmc6NHB4fS5tZGMtdG9wLWFwcC1iYXItLXNob3J0e3RyYW5zaXRpb246d2lkdGggMjAwbXMgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKX0ubWRjLXRvcC1hcHAtYmFyLS1zaG9ydC1jb2xsYXBzZWR7dHJhbnNpdGlvbjp3aWR0aCAyNTBtcyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpfS5tZGMtdG9wLWFwcC1iYXItLXNob3J0LWNvbGxhcHNlZCAubWRjLXRvcC1hcHAtYmFyX19zZWN0aW9uLS1hbGlnbi1lbmR7cGFkZGluZy1sZWZ0OjA7cGFkZGluZy1yaWdodDoxMnB4fVtkaXI9cnRsXSAubWRjLXRvcC1hcHAtYmFyLS1zaG9ydC1jb2xsYXBzZWQgLm1kYy10b3AtYXBwLWJhcl9fc2VjdGlvbi0tYWxpZ24tZW5kLC5tZGMtdG9wLWFwcC1iYXItLXNob3J0LWNvbGxhcHNlZCAubWRjLXRvcC1hcHAtYmFyX19zZWN0aW9uLS1hbGlnbi1lbmRbZGlyPXJ0bF17cGFkZGluZy1sZWZ0OjEycHg7cGFkZGluZy1yaWdodDowfS5tZGMtdG9wLWFwcC1iYXItLXByb21pbmVudCAubWRjLXRvcC1hcHAtYmFyX190aXRsZXtwYWRkaW5nLWJvdHRvbTo2cHh9Lm1kYy10b3AtYXBwLWJhci0tZml4ZWQtYWRqdXN0e3BhZGRpbmctdG9wOjU2cHh9fTpob3N0e2Rpc3BsYXk6YmxvY2t9Lm1kYy10b3AtYXBwLWJhcntjb2xvcjojZmZmO2NvbG9yOnZhcigtLW1kYy10aGVtZS1vbi1wcmltYXJ5LCAjZmZmKX0ubWRjLXRvcC1hcHAtYmFyLS1wcm9taW5lbnQgI25hdmlnYXRpb24gOjpzbG90dGVkKCopLC5tZGMtdG9wLWFwcC1iYXItLXByb21pbmVudCAjYWN0aW9ucyA6OnNsb3R0ZWQoKil7YWxpZ24tc2VsZjpmbGV4LXN0YXJ0fSNuYXZpZ2F0aW9uIDo6c2xvdHRlZCgqKSwjYWN0aW9ucyA6OnNsb3R0ZWQoKil7LS1tZGMtaWNvbi1idXR0b24tcmlwcGxlLW9wYWNpdHk6IDAuMjR9Lm1kYy10b3AtYXBwLWJhci0tc2hvcnQtY29sbGFwc2VkICNhY3Rpb25zIDo6c2xvdHRlZCgqKXt0cmFuc2l0aW9uOnBhZGRpbmcgMTUwbXMgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKX0ubWRjLXRvcC1hcHAtYmFyX19zZWN0aW9uLS1hbGlnbi1jZW50ZXJ7anVzdGlmeS1jb250ZW50OmNlbnRlcn0ubWRjLXRvcC1hcHAtYmFyX19zZWN0aW9uLS1hbGlnbi1jZW50ZXIgLm1kYy10b3AtYXBwLWJhcl9fdGl0bGV7cGFkZGluZy1sZWZ0OjA7cGFkZGluZy1yaWdodDowfS5jZW50ZXItdGl0bGUgLm1kYy10b3AtYXBwLWJhcl9fc2VjdGlvbi0tYWxpZ24tc3RhcnQsLmNlbnRlci10aXRsZSAubWRjLXRvcC1hcHAtYmFyX19zZWN0aW9uLS1hbGlnbi1lbmR7ZmxleC1iYXNpczowfS5tZGMtdG9wLWFwcC1iYXItLWRlbnNlLm1kYy10b3AtYXBwLWJhci0tcHJvbWluZW50IC5tZGMtdG9wLWFwcC1iYXJfX3NlY3Rpb24tLWFsaWduLWNlbnRlciAubWRjLXRvcC1hcHAtYmFyX190aXRsZXtwYWRkaW5nLWxlZnQ6MDtwYWRkaW5nLXJpZ2h0OjB9Lm1kYy10b3AtYXBwLWJhci0tZml4ZWQtc2Nyb2xsZWR7Ym94LXNoYWRvdzp2YXIoLS1tZGMtdG9wLWFwcC1iYXItZml4ZWQtYm94LXNoYWRvdywgMHB4IDJweCA0cHggLTFweCByZ2JhKDAsIDAsIDAsIDAuMiksIDBweCA0cHggNXB4IDBweCByZ2JhKDAsIDAsIDAsIDAuMTQpLCAwcHggMXB4IDEwcHggMHB4IHJnYmEoMCwgMCwgMCwgMC4xMikpfWA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1td2MtdG9wLWFwcC1iYXItY3NzLmpzLm1hcCIsImltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tIFwidHNsaWJcIjtcbi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAyMDE4IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG55b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG5Zb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblxuICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXG5Vbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG5kaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG5XSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cblNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbmxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKi9cbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQgfSBmcm9tICdsaXQtZWxlbWVudCc7XG5pbXBvcnQgeyBUb3BBcHBCYXJCYXNlIH0gZnJvbSAnLi9td2MtdG9wLWFwcC1iYXItYmFzZS5qcyc7XG5pbXBvcnQgeyBzdHlsZSB9IGZyb20gJy4vbXdjLXRvcC1hcHAtYmFyLWNzcy5qcyc7XG5sZXQgVG9wQXBwQmFyID0gY2xhc3MgVG9wQXBwQmFyIGV4dGVuZHMgVG9wQXBwQmFyQmFzZSB7XG59O1xuVG9wQXBwQmFyLnN0eWxlcyA9IHN0eWxlO1xuVG9wQXBwQmFyID0gX19kZWNvcmF0ZShbXG4gICAgY3VzdG9tRWxlbWVudCgnbXdjLXRvcC1hcHAtYmFyJylcbl0sIFRvcEFwcEJhcik7XG5leHBvcnQgeyBUb3BBcHBCYXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW13Yy10b3AtYXBwLWJhci5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBjc3NDbGFzc2VzIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB7IE1EQ1RvcEFwcEJhckZvdW5kYXRpb24gfSBmcm9tICcuLi9zdGFuZGFyZC9mb3VuZGF0aW9uJztcbnZhciBNRENGaXhlZFRvcEFwcEJhckZvdW5kYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoTURDRml4ZWRUb3BBcHBCYXJGb3VuZGF0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1EQ0ZpeGVkVG9wQXBwQmFyRm91bmRhdGlvbigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdGF0ZSB2YXJpYWJsZSBmb3IgdGhlIHByZXZpb3VzIHNjcm9sbCBpdGVyYXRpb24gdG9wIGFwcCBiYXIgc3RhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndhc1Njcm9sbGVkXyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNjcm9sbCBoYW5kbGVyIGZvciBhcHBseWluZy9yZW1vdmluZyB0aGUgbW9kaWZpZXIgY2xhc3Mgb24gdGhlIGZpeGVkIHRvcCBhcHAgYmFyLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIE1EQ0ZpeGVkVG9wQXBwQmFyRm91bmRhdGlvbi5wcm90b3R5cGUuaGFuZGxlVGFyZ2V0U2Nyb2xsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY3VycmVudFNjcm9sbCA9IHRoaXMuYWRhcHRlcl8uZ2V0Vmlld3BvcnRTY3JvbGxZKCk7XG4gICAgICAgIGlmIChjdXJyZW50U2Nyb2xsIDw9IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLndhc1Njcm9sbGVkXykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlcl8ucmVtb3ZlQ2xhc3MoY3NzQ2xhc3Nlcy5GSVhFRF9TQ1JPTExFRF9DTEFTUyk7XG4gICAgICAgICAgICAgICAgdGhpcy53YXNTY3JvbGxlZF8gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghdGhpcy53YXNTY3JvbGxlZF8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkYXB0ZXJfLmFkZENsYXNzKGNzc0NsYXNzZXMuRklYRURfU0NST0xMRURfQ0xBU1MpO1xuICAgICAgICAgICAgICAgIHRoaXMud2FzU2Nyb2xsZWRfID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE1EQ0ZpeGVkVG9wQXBwQmFyRm91bmRhdGlvbjtcbn0oTURDVG9wQXBwQmFyRm91bmRhdGlvbikpO1xuZXhwb3J0IHsgTURDRml4ZWRUb3BBcHBCYXJGb3VuZGF0aW9uIH07XG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tZGVmYXVsdC1leHBvcnQgTmVlZGVkIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IHdpdGggTURDIFdlYiB2MC40NC4wIGFuZCBlYXJsaWVyLlxuZXhwb3J0IGRlZmF1bHQgTURDRml4ZWRUb3BBcHBCYXJGb3VuZGF0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm91bmRhdGlvbi5qcy5tYXAiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgMjAxOSBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xueW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG5TZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG5saW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiovXG5pbXBvcnQgeyBUb3BBcHBCYXJCYXNlIH0gZnJvbSAnQG1hdGVyaWFsL213Yy10b3AtYXBwLWJhci9td2MtdG9wLWFwcC1iYXItYmFzZSc7XG5pbXBvcnQgeyBwYXNzaXZlRXZlbnRPcHRpb25zSWZTdXBwb3J0ZWQgfSBmcm9tICdAbWF0ZXJpYWwvbXdjLXRvcC1hcHAtYmFyL213Yy10b3AtYXBwLWJhci1iYXNlLWJhc2UnO1xuaW1wb3J0IE1EQ0ZpeGVkVG9wQXBwQmFyRm91bmRhdGlvbiBmcm9tICdAbWF0ZXJpYWwvdG9wLWFwcC1iYXIvZml4ZWQvZm91bmRhdGlvbic7XG5leHBvcnQgY2xhc3MgVG9wQXBwQmFyRml4ZWRCYXNlIGV4dGVuZHMgVG9wQXBwQmFyQmFzZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubWRjRm91bmRhdGlvbkNsYXNzID0gTURDRml4ZWRUb3BBcHBCYXJGb3VuZGF0aW9uO1xuICAgIH1cbiAgICBiYXJDbGFzc2VzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdXBlci5iYXJDbGFzc2VzKCkpLCB7ICdtZGMtdG9wLWFwcC1iYXItLWZpeGVkJzogdHJ1ZSB9KTtcbiAgICB9XG4gICAgcmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuaGFuZGxlVGFyZ2V0U2Nyb2xsLCBwYXNzaXZlRXZlbnRPcHRpb25zSWZTdXBwb3J0ZWQpO1xuICAgIH1cbiAgICB1bnJlZ2lzdGVyTGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLnNjcm9sbFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmhhbmRsZVRhcmdldFNjcm9sbCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXdjLXRvcC1hcHAtYmFyLWZpeGVkLWJhc2UuanMubWFwIiwiaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gXCJ0c2xpYlwiO1xuLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IDIwMTkgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbnlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbllvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuXG4gICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cblVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbmRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbldJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxubGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qL1xuaW1wb3J0IHsgc3R5bGUgfSBmcm9tICdAbWF0ZXJpYWwvbXdjLXRvcC1hcHAtYmFyL213Yy10b3AtYXBwLWJhci1jc3MnO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmltcG9ydCB7IFRvcEFwcEJhckZpeGVkQmFzZSB9IGZyb20gJy4vbXdjLXRvcC1hcHAtYmFyLWZpeGVkLWJhc2UnO1xubGV0IFRvcEFwcEJhckZpeGVkID0gY2xhc3MgVG9wQXBwQmFyRml4ZWQgZXh0ZW5kcyBUb3BBcHBCYXJGaXhlZEJhc2Uge1xufTtcblRvcEFwcEJhckZpeGVkLnN0eWxlcyA9IHN0eWxlO1xuVG9wQXBwQmFyRml4ZWQgPSBfX2RlY29yYXRlKFtcbiAgICBjdXN0b21FbGVtZW50KCdtd2MtdG9wLWFwcC1iYXItZml4ZWQnKVxuXSwgVG9wQXBwQmFyRml4ZWQpO1xuZXhwb3J0IHsgVG9wQXBwQmFyRml4ZWQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW13Yy10b3AtYXBwLWJhci1maXhlZC5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbi8qKlxuICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGN1cnJlbnQgYnJvd3NlciBzdXBwb3J0cyBwYXNzaXZlIGV2ZW50IGxpc3RlbmVycywgYW5kXG4gKiBpZiBzbywgdXNlIHRoZW0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseVBhc3NpdmUoZ2xvYmFsT2JqKSB7XG4gICAgaWYgKGdsb2JhbE9iaiA9PT0gdm9pZCAwKSB7IGdsb2JhbE9iaiA9IHdpbmRvdzsgfVxuICAgIHJldHVybiBzdXBwb3J0c1Bhc3NpdmVPcHRpb24oZ2xvYmFsT2JqKSA/XG4gICAgICAgIHsgcGFzc2l2ZTogdHJ1ZSB9IDpcbiAgICAgICAgZmFsc2U7XG59XG5mdW5jdGlvbiBzdXBwb3J0c1Bhc3NpdmVPcHRpb24oZ2xvYmFsT2JqKSB7XG4gICAgaWYgKGdsb2JhbE9iaiA9PT0gdm9pZCAwKSB7IGdsb2JhbE9iaiA9IHdpbmRvdzsgfVxuICAgIC8vIFNlZVxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FdmVudFRhcmdldC9hZGRFdmVudExpc3RlbmVyXG4gICAgdmFyIHBhc3NpdmVTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgYnJvd3NlclxuICAgICAgICAgICAgLy8gYXR0ZW1wdHMgdG8gYWNjZXNzIHRoZSBwYXNzaXZlIHByb3BlcnR5LlxuICAgICAgICAgICAgZ2V0IHBhc3NpdmUoKSB7XG4gICAgICAgICAgICAgICAgcGFzc2l2ZVN1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAgICAgZ2xvYmFsT2JqLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICAgICAgZ2xvYmFsT2JqLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBwYXNzaXZlU3VwcG9ydGVkID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBwYXNzaXZlU3VwcG9ydGVkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXZlbnRzLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuZXhwb3J0IHZhciBjc3NDbGFzc2VzID0ge1xuICAgIC8vIFJpcHBsZSBpcyBhIHNwZWNpYWwgY2FzZSB3aGVyZSB0aGUgXCJyb290XCIgY29tcG9uZW50IGlzIHJlYWxseSBhIFwibWl4aW5cIiBvZiBzb3J0cyxcbiAgICAvLyBnaXZlbiB0aGF0IGl0J3MgYW4gJ3VwZ3JhZGUnIHRvIGFuIGV4aXN0aW5nIGNvbXBvbmVudC4gVGhhdCBiZWluZyBzYWlkIGl0IGlzIHRoZSByb290XG4gICAgLy8gQ1NTIGNsYXNzIHRoYXQgYWxsIG90aGVyIENTUyBjbGFzc2VzIGRlcml2ZSBmcm9tLlxuICAgIEJHX0ZPQ1VTRUQ6ICdtZGMtcmlwcGxlLXVwZ3JhZGVkLS1iYWNrZ3JvdW5kLWZvY3VzZWQnLFxuICAgIEZHX0FDVElWQVRJT046ICdtZGMtcmlwcGxlLXVwZ3JhZGVkLS1mb3JlZ3JvdW5kLWFjdGl2YXRpb24nLFxuICAgIEZHX0RFQUNUSVZBVElPTjogJ21kYy1yaXBwbGUtdXBncmFkZWQtLWZvcmVncm91bmQtZGVhY3RpdmF0aW9uJyxcbiAgICBST09UOiAnbWRjLXJpcHBsZS11cGdyYWRlZCcsXG4gICAgVU5CT1VOREVEOiAnbWRjLXJpcHBsZS11cGdyYWRlZC0tdW5ib3VuZGVkJyxcbn07XG5leHBvcnQgdmFyIHN0cmluZ3MgPSB7XG4gICAgVkFSX0ZHX1NDQUxFOiAnLS1tZGMtcmlwcGxlLWZnLXNjYWxlJyxcbiAgICBWQVJfRkdfU0laRTogJy0tbWRjLXJpcHBsZS1mZy1zaXplJyxcbiAgICBWQVJfRkdfVFJBTlNMQVRFX0VORDogJy0tbWRjLXJpcHBsZS1mZy10cmFuc2xhdGUtZW5kJyxcbiAgICBWQVJfRkdfVFJBTlNMQVRFX1NUQVJUOiAnLS1tZGMtcmlwcGxlLWZnLXRyYW5zbGF0ZS1zdGFydCcsXG4gICAgVkFSX0xFRlQ6ICctLW1kYy1yaXBwbGUtbGVmdCcsXG4gICAgVkFSX1RPUDogJy0tbWRjLXJpcHBsZS10b3AnLFxufTtcbmV4cG9ydCB2YXIgbnVtYmVycyA9IHtcbiAgICBERUFDVElWQVRJT05fVElNRU9VVF9NUzogMjI1LFxuICAgIEZHX0RFQUNUSVZBVElPTl9NUzogMTUwLFxuICAgIElOSVRJQUxfT1JJR0lOX1NDQUxFOiAwLjYsXG4gICAgUEFERElORzogMTAsXG4gICAgVEFQX0RFTEFZX01TOiAzMDAsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCIsIi8qKlxuICogU3RvcmVzIHJlc3VsdCBmcm9tIHN1cHBvcnRzQ3NzVmFyaWFibGVzIHRvIGF2b2lkIHJlZHVuZGFudCBwcm9jZXNzaW5nIHRvXG4gKiBkZXRlY3QgQ1NTIGN1c3RvbSB2YXJpYWJsZSBzdXBwb3J0LlxuICovXG52YXIgc3VwcG9ydHNDc3NWYXJpYWJsZXNfO1xuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRzQ3NzVmFyaWFibGVzKHdpbmRvd09iaiwgZm9yY2VSZWZyZXNoKSB7XG4gICAgaWYgKGZvcmNlUmVmcmVzaCA9PT0gdm9pZCAwKSB7IGZvcmNlUmVmcmVzaCA9IGZhbHNlOyB9XG4gICAgdmFyIENTUyA9IHdpbmRvd09iai5DU1M7XG4gICAgdmFyIHN1cHBvcnRzQ3NzVmFycyA9IHN1cHBvcnRzQ3NzVmFyaWFibGVzXztcbiAgICBpZiAodHlwZW9mIHN1cHBvcnRzQ3NzVmFyaWFibGVzXyA9PT0gJ2Jvb2xlYW4nICYmICFmb3JjZVJlZnJlc2gpIHtcbiAgICAgICAgcmV0dXJuIHN1cHBvcnRzQ3NzVmFyaWFibGVzXztcbiAgICB9XG4gICAgdmFyIHN1cHBvcnRzRnVuY3Rpb25QcmVzZW50ID0gQ1NTICYmIHR5cGVvZiBDU1Muc3VwcG9ydHMgPT09ICdmdW5jdGlvbic7XG4gICAgaWYgKCFzdXBwb3J0c0Z1bmN0aW9uUHJlc2VudCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBleHBsaWNpdGx5U3VwcG9ydHNDc3NWYXJzID0gQ1NTLnN1cHBvcnRzKCctLWNzcy12YXJzJywgJ3llcycpO1xuICAgIC8vIFNlZTogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE1NDY2OVxuICAgIC8vIFNlZTogUkVBRE1FIHNlY3Rpb24gb24gU2FmYXJpXG4gICAgdmFyIHdlQXJlRmVhdHVyZURldGVjdGluZ1NhZmFyaTEwcGx1cyA9IChDU1Muc3VwcG9ydHMoJygtLWNzcy12YXJzOiB5ZXMpJykgJiZcbiAgICAgICAgQ1NTLnN1cHBvcnRzKCdjb2xvcicsICcjMDAwMDAwMDAnKSk7XG4gICAgc3VwcG9ydHNDc3NWYXJzID1cbiAgICAgICAgZXhwbGljaXRseVN1cHBvcnRzQ3NzVmFycyB8fCB3ZUFyZUZlYXR1cmVEZXRlY3RpbmdTYWZhcmkxMHBsdXM7XG4gICAgaWYgKCFmb3JjZVJlZnJlc2gpIHtcbiAgICAgICAgc3VwcG9ydHNDc3NWYXJpYWJsZXNfID0gc3VwcG9ydHNDc3NWYXJzO1xuICAgIH1cbiAgICByZXR1cm4gc3VwcG9ydHNDc3NWYXJzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldE5vcm1hbGl6ZWRFdmVudENvb3JkcyhldnQsIHBhZ2VPZmZzZXQsIGNsaWVudFJlY3QpIHtcbiAgICBpZiAoIWV2dCkge1xuICAgICAgICByZXR1cm4geyB4OiAwLCB5OiAwIH07XG4gICAgfVxuICAgIHZhciB4ID0gcGFnZU9mZnNldC54LCB5ID0gcGFnZU9mZnNldC55O1xuICAgIHZhciBkb2N1bWVudFggPSB4ICsgY2xpZW50UmVjdC5sZWZ0O1xuICAgIHZhciBkb2N1bWVudFkgPSB5ICsgY2xpZW50UmVjdC50b3A7XG4gICAgdmFyIG5vcm1hbGl6ZWRYO1xuICAgIHZhciBub3JtYWxpemVkWTtcbiAgICAvLyBEZXRlcm1pbmUgdG91Y2ggcG9pbnQgcmVsYXRpdmUgdG8gdGhlIHJpcHBsZSBjb250YWluZXIuXG4gICAgaWYgKGV2dC50eXBlID09PSAndG91Y2hzdGFydCcpIHtcbiAgICAgICAgdmFyIHRvdWNoRXZlbnQgPSBldnQ7XG4gICAgICAgIG5vcm1hbGl6ZWRYID0gdG91Y2hFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCAtIGRvY3VtZW50WDtcbiAgICAgICAgbm9ybWFsaXplZFkgPSB0b3VjaEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZIC0gZG9jdW1lbnRZO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIG1vdXNlRXZlbnQgPSBldnQ7XG4gICAgICAgIG5vcm1hbGl6ZWRYID0gbW91c2VFdmVudC5wYWdlWCAtIGRvY3VtZW50WDtcbiAgICAgICAgbm9ybWFsaXplZFkgPSBtb3VzZUV2ZW50LnBhZ2VZIC0gZG9jdW1lbnRZO1xuICAgIH1cbiAgICByZXR1cm4geyB4OiBub3JtYWxpemVkWCwgeTogbm9ybWFsaXplZFkgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWwuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgTURDRm91bmRhdGlvbiB9IGZyb20gJ0BtYXRlcmlhbC9iYXNlL2ZvdW5kYXRpb24nO1xuaW1wb3J0IHsgY3NzQ2xhc3NlcywgbnVtYmVycywgc3RyaW5ncyB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IGdldE5vcm1hbGl6ZWRFdmVudENvb3JkcyB9IGZyb20gJy4vdXRpbCc7XG4vLyBBY3RpdmF0aW9uIGV2ZW50cyByZWdpc3RlcmVkIG9uIHRoZSByb290IGVsZW1lbnQgb2YgZWFjaCBpbnN0YW5jZSBmb3IgYWN0aXZhdGlvblxudmFyIEFDVElWQVRJT05fRVZFTlRfVFlQRVMgPSBbXG4gICAgJ3RvdWNoc3RhcnQnLCAncG9pbnRlcmRvd24nLCAnbW91c2Vkb3duJywgJ2tleWRvd24nLFxuXTtcbi8vIERlYWN0aXZhdGlvbiBldmVudHMgcmVnaXN0ZXJlZCBvbiBkb2N1bWVudEVsZW1lbnQgd2hlbiBhIHBvaW50ZXItcmVsYXRlZCBkb3duIGV2ZW50IG9jY3Vyc1xudmFyIFBPSU5URVJfREVBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTID0gW1xuICAgICd0b3VjaGVuZCcsICdwb2ludGVydXAnLCAnbW91c2V1cCcsICdjb250ZXh0bWVudScsXG5dO1xuLy8gc2ltdWx0YW5lb3VzIG5lc3RlZCBhY3RpdmF0aW9uc1xudmFyIGFjdGl2YXRlZFRhcmdldHMgPSBbXTtcbnZhciBNRENSaXBwbGVGb3VuZGF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE1EQ1JpcHBsZUZvdW5kYXRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTURDUmlwcGxlRm91bmRhdGlvbihhZGFwdGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRzbGliXzEuX19hc3NpZ24oe30sIE1EQ1JpcHBsZUZvdW5kYXRpb24uZGVmYXVsdEFkYXB0ZXIsIGFkYXB0ZXIpKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hY3RpdmF0aW9uQW5pbWF0aW9uSGFzRW5kZWRfID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmFjdGl2YXRpb25UaW1lcl8gPSAwO1xuICAgICAgICBfdGhpcy5mZ0RlYWN0aXZhdGlvblJlbW92YWxUaW1lcl8gPSAwO1xuICAgICAgICBfdGhpcy5mZ1NjYWxlXyA9ICcwJztcbiAgICAgICAgX3RoaXMuZnJhbWVfID0geyB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG4gICAgICAgIF90aGlzLmluaXRpYWxTaXplXyA9IDA7XG4gICAgICAgIF90aGlzLmxheW91dEZyYW1lXyA9IDA7XG4gICAgICAgIF90aGlzLm1heFJhZGl1c18gPSAwO1xuICAgICAgICBfdGhpcy51bmJvdW5kZWRDb29yZHNfID0geyBsZWZ0OiAwLCB0b3A6IDAgfTtcbiAgICAgICAgX3RoaXMuYWN0aXZhdGlvblN0YXRlXyA9IF90aGlzLmRlZmF1bHRBY3RpdmF0aW9uU3RhdGVfKCk7XG4gICAgICAgIF90aGlzLmFjdGl2YXRpb25UaW1lckNhbGxiYWNrXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmFjdGl2YXRpb25BbmltYXRpb25IYXNFbmRlZF8gPSB0cnVlO1xuICAgICAgICAgICAgX3RoaXMucnVuRGVhY3RpdmF0aW9uVVhMb2dpY0lmUmVhZHlfKCk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmFjdGl2YXRlSGFuZGxlcl8gPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gX3RoaXMuYWN0aXZhdGVfKGUpOyB9O1xuICAgICAgICBfdGhpcy5kZWFjdGl2YXRlSGFuZGxlcl8gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5kZWFjdGl2YXRlXygpOyB9O1xuICAgICAgICBfdGhpcy5mb2N1c0hhbmRsZXJfID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuaGFuZGxlRm9jdXMoKTsgfTtcbiAgICAgICAgX3RoaXMuYmx1ckhhbmRsZXJfID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuaGFuZGxlQmx1cigpOyB9O1xuICAgICAgICBfdGhpcy5yZXNpemVIYW5kbGVyXyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmxheW91dCgpOyB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENSaXBwbGVGb3VuZGF0aW9uLCBcImNzc0NsYXNzZXNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjc3NDbGFzc2VzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDUmlwcGxlRm91bmRhdGlvbiwgXCJzdHJpbmdzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5ncztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ1JpcHBsZUZvdW5kYXRpb24sIFwibnVtYmVyc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bWJlcnM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENSaXBwbGVGb3VuZGF0aW9uLCBcImRlZmF1bHRBZGFwdGVyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgYnJvd3NlclN1cHBvcnRzQ3NzVmFyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfSxcbiAgICAgICAgICAgICAgICBjb21wdXRlQm91bmRpbmdSZWN0OiBmdW5jdGlvbiAoKSB7IHJldHVybiAoeyB0b3A6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAsIGxlZnQ6IDAsIHdpZHRoOiAwLCBoZWlnaHQ6IDAgfSk7IH0sXG4gICAgICAgICAgICAgICAgY29udGFpbnNFdmVudFRhcmdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfSxcbiAgICAgICAgICAgICAgICBkZXJlZ2lzdGVyRG9jdW1lbnRJbnRlcmFjdGlvbkhhbmRsZXI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBkZXJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgZGVyZWdpc3RlclJlc2l6ZUhhbmRsZXI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBnZXRXaW5kb3dQYWdlT2Zmc2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiAoeyB4OiAwLCB5OiAwIH0pOyB9LFxuICAgICAgICAgICAgICAgIGlzU3VyZmFjZUFjdGl2ZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfSxcbiAgICAgICAgICAgICAgICBpc1N1cmZhY2VEaXNhYmxlZDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfSxcbiAgICAgICAgICAgICAgICBpc1VuYm91bmRlZDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfSxcbiAgICAgICAgICAgICAgICByZWdpc3RlckRvY3VtZW50SW50ZXJhY3Rpb25IYW5kbGVyOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICByZWdpc3RlclJlc2l6ZUhhbmRsZXI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHVwZGF0ZUNzc1ZhcmlhYmxlOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc3VwcG9ydHNQcmVzc1JpcHBsZSA9IHRoaXMuc3VwcG9ydHNQcmVzc1JpcHBsZV8oKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclJvb3RIYW5kbGVyc18oc3VwcG9ydHNQcmVzc1JpcHBsZSk7XG4gICAgICAgIGlmIChzdXBwb3J0c1ByZXNzUmlwcGxlKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBNRENSaXBwbGVGb3VuZGF0aW9uLmNzc0NsYXNzZXMsIFJPT1RfMSA9IF9hLlJPT1QsIFVOQk9VTkRFRF8xID0gX2EuVU5CT1VOREVEO1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGFwdGVyXy5hZGRDbGFzcyhST09UXzEpO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5hZGFwdGVyXy5pc1VuYm91bmRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJfLmFkZENsYXNzKFVOQk9VTkRFRF8xKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVW5ib3VuZGVkIHJpcHBsZXMgbmVlZCBsYXlvdXQgbG9naWMgYXBwbGllZCBpbW1lZGlhdGVseSB0byBzZXQgY29vcmRpbmF0ZXMgZm9yIGJvdGggc2hhZGUgYW5kIHJpcHBsZVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5sYXlvdXRJbnRlcm5hbF8oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTURDUmlwcGxlRm91bmRhdGlvbi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNQcmVzc1JpcHBsZV8oKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZhdGlvblRpbWVyXykge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpb25UaW1lcl8pO1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGlvblRpbWVyXyA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGFwdGVyXy5yZW1vdmVDbGFzcyhNRENSaXBwbGVGb3VuZGF0aW9uLmNzc0NsYXNzZXMuRkdfQUNUSVZBVElPTik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5mZ0RlYWN0aXZhdGlvblJlbW92YWxUaW1lcl8pIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5mZ0RlYWN0aXZhdGlvblJlbW92YWxUaW1lcl8pO1xuICAgICAgICAgICAgICAgIHRoaXMuZmdEZWFjdGl2YXRpb25SZW1vdmFsVGltZXJfID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLmFkYXB0ZXJfLnJlbW92ZUNsYXNzKE1EQ1JpcHBsZUZvdW5kYXRpb24uY3NzQ2xhc3Nlcy5GR19ERUFDVElWQVRJT04pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIF9hID0gTURDUmlwcGxlRm91bmRhdGlvbi5jc3NDbGFzc2VzLCBST09UXzIgPSBfYS5ST09ULCBVTkJPVU5ERURfMiA9IF9hLlVOQk9VTkRFRDtcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWRhcHRlcl8ucmVtb3ZlQ2xhc3MoUk9PVF8yKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGFwdGVyXy5yZW1vdmVDbGFzcyhVTkJPVU5ERURfMik7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVtb3ZlQ3NzVmFyc18oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVyZWdpc3RlclJvb3RIYW5kbGVyc18oKTtcbiAgICAgICAgdGhpcy5kZXJlZ2lzdGVyRGVhY3RpdmF0aW9uSGFuZGxlcnNfKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gZXZ0IE9wdGlvbmFsIGV2ZW50IGNvbnRhaW5pbmcgcG9zaXRpb24gaW5mb3JtYXRpb24uXG4gICAgICovXG4gICAgTURDUmlwcGxlRm91bmRhdGlvbi5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVfKGV2dCk7XG4gICAgfTtcbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5kZWFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGVfKCk7XG4gICAgfTtcbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5sYXlvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmxheW91dEZyYW1lXykge1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5sYXlvdXRGcmFtZV8pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGF5b3V0RnJhbWVfID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmxheW91dEludGVybmFsXygpO1xuICAgICAgICAgICAgX3RoaXMubGF5b3V0RnJhbWVfID0gMDtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5zZXRVbmJvdW5kZWQgPSBmdW5jdGlvbiAodW5ib3VuZGVkKSB7XG4gICAgICAgIHZhciBVTkJPVU5ERUQgPSBNRENSaXBwbGVGb3VuZGF0aW9uLmNzc0NsYXNzZXMuVU5CT1VOREVEO1xuICAgICAgICBpZiAodW5ib3VuZGVkKSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXJfLmFkZENsYXNzKFVOQk9VTkRFRCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXJfLnJlbW92ZUNsYXNzKFVOQk9VTkRFRCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLmhhbmRsZUZvY3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmFkYXB0ZXJfLmFkZENsYXNzKE1EQ1JpcHBsZUZvdW5kYXRpb24uY3NzQ2xhc3Nlcy5CR19GT0NVU0VEKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5oYW5kbGVCbHVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmFkYXB0ZXJfLnJlbW92ZUNsYXNzKE1EQ1JpcHBsZUZvdW5kYXRpb24uY3NzQ2xhc3Nlcy5CR19GT0NVU0VEKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXZSBjb21wdXRlIHRoaXMgcHJvcGVydHkgc28gdGhhdCB3ZSBhcmUgbm90IHF1ZXJ5aW5nIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjbGllbnRcbiAgICAgKiB1bnRpbCB0aGUgcG9pbnQgaW4gdGltZSB3aGVyZSB0aGUgZm91bmRhdGlvbiByZXF1ZXN0cyBpdC4gVGhpcyBwcmV2ZW50cyBzY2VuYXJpb3Mgd2hlcmVcbiAgICAgKiBjbGllbnQtc2lkZSBmZWF0dXJlLWRldGVjdGlvbiBtYXkgaGFwcGVuIHRvbyBlYXJseSwgc3VjaCBhcyB3aGVuIGNvbXBvbmVudHMgYXJlIHJlbmRlcmVkIG9uIHRoZSBzZXJ2ZXJcbiAgICAgKiBhbmQgdGhlbiBpbml0aWFsaXplZCBhdCBtb3VudCB0aW1lIG9uIHRoZSBjbGllbnQuXG4gICAgICovXG4gICAgTURDUmlwcGxlRm91bmRhdGlvbi5wcm90b3R5cGUuc3VwcG9ydHNQcmVzc1JpcHBsZV8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXJfLmJyb3dzZXJTdXBwb3J0c0Nzc1ZhcnMoKTtcbiAgICB9O1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLmRlZmF1bHRBY3RpdmF0aW9uU3RhdGVfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWN0aXZhdGlvbkV2ZW50OiB1bmRlZmluZWQsXG4gICAgICAgICAgICBoYXNEZWFjdGl2YXRpb25VWFJ1bjogZmFsc2UsXG4gICAgICAgICAgICBpc0FjdGl2YXRlZDogZmFsc2UsXG4gICAgICAgICAgICBpc1Byb2dyYW1tYXRpYzogZmFsc2UsXG4gICAgICAgICAgICB3YXNBY3RpdmF0ZWRCeVBvaW50ZXI6IGZhbHNlLFxuICAgICAgICAgICAgd2FzRWxlbWVudE1hZGVBY3RpdmU6IGZhbHNlLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogc3VwcG9ydHNQcmVzc1JpcHBsZSBQYXNzZWQgZnJvbSBpbml0IHRvIHNhdmUgYSByZWR1bmRhbnQgZnVuY3Rpb24gY2FsbFxuICAgICAqL1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLnJlZ2lzdGVyUm9vdEhhbmRsZXJzXyA9IGZ1bmN0aW9uIChzdXBwb3J0c1ByZXNzUmlwcGxlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChzdXBwb3J0c1ByZXNzUmlwcGxlKSB7XG4gICAgICAgICAgICBBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTLmZvckVhY2goZnVuY3Rpb24gKGV2dFR5cGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGFwdGVyXy5yZWdpc3RlckludGVyYWN0aW9uSGFuZGxlcihldnRUeXBlLCBfdGhpcy5hY3RpdmF0ZUhhbmRsZXJfKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMuYWRhcHRlcl8uaXNVbmJvdW5kZWQoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlcl8ucmVnaXN0ZXJSZXNpemVIYW5kbGVyKHRoaXMucmVzaXplSGFuZGxlcl8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRhcHRlcl8ucmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXIoJ2ZvY3VzJywgdGhpcy5mb2N1c0hhbmRsZXJfKTtcbiAgICAgICAgdGhpcy5hZGFwdGVyXy5yZWdpc3RlckludGVyYWN0aW9uSGFuZGxlcignYmx1cicsIHRoaXMuYmx1ckhhbmRsZXJfKTtcbiAgICB9O1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLnJlZ2lzdGVyRGVhY3RpdmF0aW9uSGFuZGxlcnNfID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoZXZ0LnR5cGUgPT09ICdrZXlkb3duJykge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyXy5yZWdpc3RlckludGVyYWN0aW9uSGFuZGxlcigna2V5dXAnLCB0aGlzLmRlYWN0aXZhdGVIYW5kbGVyXyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBQT0lOVEVSX0RFQUNUSVZBVElPTl9FVkVOVF9UWVBFUy5mb3JFYWNoKGZ1bmN0aW9uIChldnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWRhcHRlcl8ucmVnaXN0ZXJEb2N1bWVudEludGVyYWN0aW9uSGFuZGxlcihldnRUeXBlLCBfdGhpcy5kZWFjdGl2YXRlSGFuZGxlcl8pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLmRlcmVnaXN0ZXJSb290SGFuZGxlcnNfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTLmZvckVhY2goZnVuY3Rpb24gKGV2dFR5cGUpIHtcbiAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJfLmRlcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXIoZXZ0VHlwZSwgX3RoaXMuYWN0aXZhdGVIYW5kbGVyXyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFkYXB0ZXJfLmRlcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXIoJ2ZvY3VzJywgdGhpcy5mb2N1c0hhbmRsZXJfKTtcbiAgICAgICAgdGhpcy5hZGFwdGVyXy5kZXJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyKCdibHVyJywgdGhpcy5ibHVySGFuZGxlcl8pO1xuICAgICAgICBpZiAodGhpcy5hZGFwdGVyXy5pc1VuYm91bmRlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXJfLmRlcmVnaXN0ZXJSZXNpemVIYW5kbGVyKHRoaXMucmVzaXplSGFuZGxlcl8pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5kZXJlZ2lzdGVyRGVhY3RpdmF0aW9uSGFuZGxlcnNfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmFkYXB0ZXJfLmRlcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXIoJ2tleXVwJywgdGhpcy5kZWFjdGl2YXRlSGFuZGxlcl8pO1xuICAgICAgICBQT0lOVEVSX0RFQUNUSVZBVElPTl9FVkVOVF9UWVBFUy5mb3JFYWNoKGZ1bmN0aW9uIChldnRUeXBlKSB7XG4gICAgICAgICAgICBfdGhpcy5hZGFwdGVyXy5kZXJlZ2lzdGVyRG9jdW1lbnRJbnRlcmFjdGlvbkhhbmRsZXIoZXZ0VHlwZSwgX3RoaXMuZGVhY3RpdmF0ZUhhbmRsZXJfKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5yZW1vdmVDc3NWYXJzXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHJpcHBsZVN0cmluZ3MgPSBNRENSaXBwbGVGb3VuZGF0aW9uLnN0cmluZ3M7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmlwcGxlU3RyaW5ncyk7XG4gICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBpZiAoa2V5LmluZGV4T2YoJ1ZBUl8nKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJfLnVwZGF0ZUNzc1ZhcmlhYmxlKHJpcHBsZVN0cmluZ3Nba2V5XSwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTURDUmlwcGxlRm91bmRhdGlvbi5wcm90b3R5cGUuYWN0aXZhdGVfID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5hZGFwdGVyXy5pc1N1cmZhY2VEaXNhYmxlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFjdGl2YXRpb25TdGF0ZSA9IHRoaXMuYWN0aXZhdGlvblN0YXRlXztcbiAgICAgICAgaWYgKGFjdGl2YXRpb25TdGF0ZS5pc0FjdGl2YXRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEF2b2lkIHJlYWN0aW5nIHRvIGZvbGxvdy1vbiBldmVudHMgZmlyZWQgYnkgdG91Y2ggZGV2aWNlIGFmdGVyIGFuIGFscmVhZHktcHJvY2Vzc2VkIHVzZXIgaW50ZXJhY3Rpb25cbiAgICAgICAgdmFyIHByZXZpb3VzQWN0aXZhdGlvbkV2ZW50ID0gdGhpcy5wcmV2aW91c0FjdGl2YXRpb25FdmVudF87XG4gICAgICAgIHZhciBpc1NhbWVJbnRlcmFjdGlvbiA9IHByZXZpb3VzQWN0aXZhdGlvbkV2ZW50ICYmIGV2dCAhPT0gdW5kZWZpbmVkICYmIHByZXZpb3VzQWN0aXZhdGlvbkV2ZW50LnR5cGUgIT09IGV2dC50eXBlO1xuICAgICAgICBpZiAoaXNTYW1lSW50ZXJhY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhY3RpdmF0aW9uU3RhdGUuaXNBY3RpdmF0ZWQgPSB0cnVlO1xuICAgICAgICBhY3RpdmF0aW9uU3RhdGUuaXNQcm9ncmFtbWF0aWMgPSBldnQgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgYWN0aXZhdGlvblN0YXRlLmFjdGl2YXRpb25FdmVudCA9IGV2dDtcbiAgICAgICAgYWN0aXZhdGlvblN0YXRlLndhc0FjdGl2YXRlZEJ5UG9pbnRlciA9IGFjdGl2YXRpb25TdGF0ZS5pc1Byb2dyYW1tYXRpYyA/IGZhbHNlIDogZXZ0ICE9PSB1bmRlZmluZWQgJiYgKGV2dC50eXBlID09PSAnbW91c2Vkb3duJyB8fCBldnQudHlwZSA9PT0gJ3RvdWNoc3RhcnQnIHx8IGV2dC50eXBlID09PSAncG9pbnRlcmRvd24nKTtcbiAgICAgICAgdmFyIGhhc0FjdGl2YXRlZENoaWxkID0gZXZ0ICE9PSB1bmRlZmluZWQgJiYgYWN0aXZhdGVkVGFyZ2V0cy5sZW5ndGggPiAwICYmIGFjdGl2YXRlZFRhcmdldHMuc29tZShmdW5jdGlvbiAodGFyZ2V0KSB7IHJldHVybiBfdGhpcy5hZGFwdGVyXy5jb250YWluc0V2ZW50VGFyZ2V0KHRhcmdldCk7IH0pO1xuICAgICAgICBpZiAoaGFzQWN0aXZhdGVkQ2hpbGQpIHtcbiAgICAgICAgICAgIC8vIEltbWVkaWF0ZWx5IHJlc2V0IGFjdGl2YXRpb24gc3RhdGUsIHdoaWxlIHByZXNlcnZpbmcgbG9naWMgdGhhdCBwcmV2ZW50cyB0b3VjaCBmb2xsb3ctb24gZXZlbnRzXG4gICAgICAgICAgICB0aGlzLnJlc2V0QWN0aXZhdGlvblN0YXRlXygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYWN0aXZhdGVkVGFyZ2V0cy5wdXNoKGV2dC50YXJnZXQpO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlckRlYWN0aXZhdGlvbkhhbmRsZXJzXyhldnQpO1xuICAgICAgICB9XG4gICAgICAgIGFjdGl2YXRpb25TdGF0ZS53YXNFbGVtZW50TWFkZUFjdGl2ZSA9IHRoaXMuY2hlY2tFbGVtZW50TWFkZUFjdGl2ZV8oZXZ0KTtcbiAgICAgICAgaWYgKGFjdGl2YXRpb25TdGF0ZS53YXNFbGVtZW50TWFkZUFjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRlQWN0aXZhdGlvbl8oKTtcbiAgICAgICAgfVxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gUmVzZXQgYXJyYXkgb24gbmV4dCBmcmFtZSBhZnRlciB0aGUgY3VycmVudCBldmVudCBoYXMgaGFkIGEgY2hhbmNlIHRvIGJ1YmJsZSB0byBwcmV2ZW50IGFuY2VzdG9yIHJpcHBsZXNcbiAgICAgICAgICAgIGFjdGl2YXRlZFRhcmdldHMgPSBbXTtcbiAgICAgICAgICAgIGlmICghYWN0aXZhdGlvblN0YXRlLndhc0VsZW1lbnRNYWRlQWN0aXZlXG4gICAgICAgICAgICAgICAgJiYgZXZ0ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAmJiAoZXZ0LmtleSA9PT0gJyAnIHx8IGV2dC5rZXlDb2RlID09PSAzMikpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBzcGFjZSB3YXMgcHJlc3NlZCwgdHJ5IGFnYWluIHdpdGhpbiBhbiByQUYgY2FsbCB0byBkZXRlY3QgOmFjdGl2ZSwgYmVjYXVzZSBkaWZmZXJlbnQgVUFzIHJlcG9ydFxuICAgICAgICAgICAgICAgIC8vIGFjdGl2ZSBzdGF0ZXMgaW5jb25zaXN0ZW50bHkgd2hlbiB0aGV5J3JlIGNhbGxlZCB3aXRoaW4gZXZlbnQgaGFuZGxpbmcgY29kZTpcbiAgICAgICAgICAgICAgICAvLyAtIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTYzNTk3MVxuICAgICAgICAgICAgICAgIC8vIC0gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTI5Mzc0MVxuICAgICAgICAgICAgICAgIC8vIFdlIHRyeSBmaXJzdCBvdXRzaWRlIHJBRiB0byBzdXBwb3J0IEVkZ2UsIHdoaWNoIGRvZXMgbm90IGV4aGliaXQgdGhpcyBwcm9ibGVtLCBidXQgd2lsbCBjcmFzaCBpZiBhIENTU1xuICAgICAgICAgICAgICAgIC8vIHZhcmlhYmxlIGlzIHNldCB3aXRoaW4gYSByQUYgY2FsbGJhY2sgZm9yIGEgc3VibWl0IGJ1dHRvbiBpbnRlcmFjdGlvbiAoIzIyNDEpLlxuICAgICAgICAgICAgICAgIGFjdGl2YXRpb25TdGF0ZS53YXNFbGVtZW50TWFkZUFjdGl2ZSA9IF90aGlzLmNoZWNrRWxlbWVudE1hZGVBY3RpdmVfKGV2dCk7XG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2YXRpb25TdGF0ZS53YXNFbGVtZW50TWFkZUFjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hbmltYXRlQWN0aXZhdGlvbl8oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWFjdGl2YXRpb25TdGF0ZS53YXNFbGVtZW50TWFkZUFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIC8vIFJlc2V0IGFjdGl2YXRpb24gc3RhdGUgaW1tZWRpYXRlbHkgaWYgZWxlbWVudCB3YXMgbm90IG1hZGUgYWN0aXZlLlxuICAgICAgICAgICAgICAgIF90aGlzLmFjdGl2YXRpb25TdGF0ZV8gPSBfdGhpcy5kZWZhdWx0QWN0aXZhdGlvblN0YXRlXygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLmNoZWNrRWxlbWVudE1hZGVBY3RpdmVfID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICByZXR1cm4gKGV2dCAhPT0gdW5kZWZpbmVkICYmIGV2dC50eXBlID09PSAna2V5ZG93bicpID8gdGhpcy5hZGFwdGVyXy5pc1N1cmZhY2VBY3RpdmUoKSA6IHRydWU7XG4gICAgfTtcbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5hbmltYXRlQWN0aXZhdGlvbl8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IE1EQ1JpcHBsZUZvdW5kYXRpb24uc3RyaW5ncywgVkFSX0ZHX1RSQU5TTEFURV9TVEFSVCA9IF9hLlZBUl9GR19UUkFOU0xBVEVfU1RBUlQsIFZBUl9GR19UUkFOU0xBVEVfRU5EID0gX2EuVkFSX0ZHX1RSQU5TTEFURV9FTkQ7XG4gICAgICAgIHZhciBfYiA9IE1EQ1JpcHBsZUZvdW5kYXRpb24uY3NzQ2xhc3NlcywgRkdfREVBQ1RJVkFUSU9OID0gX2IuRkdfREVBQ1RJVkFUSU9OLCBGR19BQ1RJVkFUSU9OID0gX2IuRkdfQUNUSVZBVElPTjtcbiAgICAgICAgdmFyIERFQUNUSVZBVElPTl9USU1FT1VUX01TID0gTURDUmlwcGxlRm91bmRhdGlvbi5udW1iZXJzLkRFQUNUSVZBVElPTl9USU1FT1VUX01TO1xuICAgICAgICB0aGlzLmxheW91dEludGVybmFsXygpO1xuICAgICAgICB2YXIgdHJhbnNsYXRlU3RhcnQgPSAnJztcbiAgICAgICAgdmFyIHRyYW5zbGF0ZUVuZCA9ICcnO1xuICAgICAgICBpZiAoIXRoaXMuYWRhcHRlcl8uaXNVbmJvdW5kZWQoKSkge1xuICAgICAgICAgICAgdmFyIF9jID0gdGhpcy5nZXRGZ1RyYW5zbGF0aW9uQ29vcmRpbmF0ZXNfKCksIHN0YXJ0UG9pbnQgPSBfYy5zdGFydFBvaW50LCBlbmRQb2ludCA9IF9jLmVuZFBvaW50O1xuICAgICAgICAgICAgdHJhbnNsYXRlU3RhcnQgPSBzdGFydFBvaW50LnggKyBcInB4LCBcIiArIHN0YXJ0UG9pbnQueSArIFwicHhcIjtcbiAgICAgICAgICAgIHRyYW5zbGF0ZUVuZCA9IGVuZFBvaW50LnggKyBcInB4LCBcIiArIGVuZFBvaW50LnkgKyBcInB4XCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGFwdGVyXy51cGRhdGVDc3NWYXJpYWJsZShWQVJfRkdfVFJBTlNMQVRFX1NUQVJULCB0cmFuc2xhdGVTdGFydCk7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8udXBkYXRlQ3NzVmFyaWFibGUoVkFSX0ZHX1RSQU5TTEFURV9FTkQsIHRyYW5zbGF0ZUVuZCk7XG4gICAgICAgIC8vIENhbmNlbCBhbnkgb25nb2luZyBhY3RpdmF0aW9uL2RlYWN0aXZhdGlvbiBhbmltYXRpb25zXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpb25UaW1lcl8pO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5mZ0RlYWN0aXZhdGlvblJlbW92YWxUaW1lcl8pO1xuICAgICAgICB0aGlzLnJtQm91bmRlZEFjdGl2YXRpb25DbGFzc2VzXygpO1xuICAgICAgICB0aGlzLmFkYXB0ZXJfLnJlbW92ZUNsYXNzKEZHX0RFQUNUSVZBVElPTik7XG4gICAgICAgIC8vIEZvcmNlIGxheW91dCBpbiBvcmRlciB0byByZS10cmlnZ2VyIHRoZSBhbmltYXRpb24uXG4gICAgICAgIHRoaXMuYWRhcHRlcl8uY29tcHV0ZUJvdW5kaW5nUmVjdCgpO1xuICAgICAgICB0aGlzLmFkYXB0ZXJfLmFkZENsYXNzKEZHX0FDVElWQVRJT04pO1xuICAgICAgICB0aGlzLmFjdGl2YXRpb25UaW1lcl8gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmFjdGl2YXRpb25UaW1lckNhbGxiYWNrXygpOyB9LCBERUFDVElWQVRJT05fVElNRU9VVF9NUyk7XG4gICAgfTtcbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5nZXRGZ1RyYW5zbGF0aW9uQ29vcmRpbmF0ZXNfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLmFjdGl2YXRpb25TdGF0ZV8sIGFjdGl2YXRpb25FdmVudCA9IF9hLmFjdGl2YXRpb25FdmVudCwgd2FzQWN0aXZhdGVkQnlQb2ludGVyID0gX2Eud2FzQWN0aXZhdGVkQnlQb2ludGVyO1xuICAgICAgICB2YXIgc3RhcnRQb2ludDtcbiAgICAgICAgaWYgKHdhc0FjdGl2YXRlZEJ5UG9pbnRlcikge1xuICAgICAgICAgICAgc3RhcnRQb2ludCA9IGdldE5vcm1hbGl6ZWRFdmVudENvb3JkcyhhY3RpdmF0aW9uRXZlbnQsIHRoaXMuYWRhcHRlcl8uZ2V0V2luZG93UGFnZU9mZnNldCgpLCB0aGlzLmFkYXB0ZXJfLmNvbXB1dGVCb3VuZGluZ1JlY3QoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdGFydFBvaW50ID0ge1xuICAgICAgICAgICAgICAgIHg6IHRoaXMuZnJhbWVfLndpZHRoIC8gMixcbiAgICAgICAgICAgICAgICB5OiB0aGlzLmZyYW1lXy5oZWlnaHQgLyAyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDZW50ZXIgdGhlIGVsZW1lbnQgYXJvdW5kIHRoZSBzdGFydCBwb2ludC5cbiAgICAgICAgc3RhcnRQb2ludCA9IHtcbiAgICAgICAgICAgIHg6IHN0YXJ0UG9pbnQueCAtICh0aGlzLmluaXRpYWxTaXplXyAvIDIpLFxuICAgICAgICAgICAgeTogc3RhcnRQb2ludC55IC0gKHRoaXMuaW5pdGlhbFNpemVfIC8gMiksXG4gICAgICAgIH07XG4gICAgICAgIHZhciBlbmRQb2ludCA9IHtcbiAgICAgICAgICAgIHg6ICh0aGlzLmZyYW1lXy53aWR0aCAvIDIpIC0gKHRoaXMuaW5pdGlhbFNpemVfIC8gMiksXG4gICAgICAgICAgICB5OiAodGhpcy5mcmFtZV8uaGVpZ2h0IC8gMikgLSAodGhpcy5pbml0aWFsU2l6ZV8gLyAyKSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHsgc3RhcnRQb2ludDogc3RhcnRQb2ludCwgZW5kUG9pbnQ6IGVuZFBvaW50IH07XG4gICAgfTtcbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5ydW5EZWFjdGl2YXRpb25VWExvZ2ljSWZSZWFkeV8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCBib3RoIHdoZW4gYSBwb2ludGluZyBkZXZpY2UgaXMgcmVsZWFzZWQsIGFuZCB3aGVuIHRoZSBhY3RpdmF0aW9uIGFuaW1hdGlvbiBlbmRzLlxuICAgICAgICAvLyBUaGUgZGVhY3RpdmF0aW9uIGFuaW1hdGlvbiBzaG91bGQgb25seSBydW4gYWZ0ZXIgYm90aCBvZiB0aG9zZSBvY2N1ci5cbiAgICAgICAgdmFyIEZHX0RFQUNUSVZBVElPTiA9IE1EQ1JpcHBsZUZvdW5kYXRpb24uY3NzQ2xhc3Nlcy5GR19ERUFDVElWQVRJT047XG4gICAgICAgIHZhciBfYSA9IHRoaXMuYWN0aXZhdGlvblN0YXRlXywgaGFzRGVhY3RpdmF0aW9uVVhSdW4gPSBfYS5oYXNEZWFjdGl2YXRpb25VWFJ1biwgaXNBY3RpdmF0ZWQgPSBfYS5pc0FjdGl2YXRlZDtcbiAgICAgICAgdmFyIGFjdGl2YXRpb25IYXNFbmRlZCA9IGhhc0RlYWN0aXZhdGlvblVYUnVuIHx8ICFpc0FjdGl2YXRlZDtcbiAgICAgICAgaWYgKGFjdGl2YXRpb25IYXNFbmRlZCAmJiB0aGlzLmFjdGl2YXRpb25BbmltYXRpb25IYXNFbmRlZF8pIHtcbiAgICAgICAgICAgIHRoaXMucm1Cb3VuZGVkQWN0aXZhdGlvbkNsYXNzZXNfKCk7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXJfLmFkZENsYXNzKEZHX0RFQUNUSVZBVElPTik7XG4gICAgICAgICAgICB0aGlzLmZnRGVhY3RpdmF0aW9uUmVtb3ZhbFRpbWVyXyA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJfLnJlbW92ZUNsYXNzKEZHX0RFQUNUSVZBVElPTik7XG4gICAgICAgICAgICB9LCBudW1iZXJzLkZHX0RFQUNUSVZBVElPTl9NUyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLnJtQm91bmRlZEFjdGl2YXRpb25DbGFzc2VzXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIEZHX0FDVElWQVRJT04gPSBNRENSaXBwbGVGb3VuZGF0aW9uLmNzc0NsYXNzZXMuRkdfQUNUSVZBVElPTjtcbiAgICAgICAgdGhpcy5hZGFwdGVyXy5yZW1vdmVDbGFzcyhGR19BQ1RJVkFUSU9OKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0aW9uQW5pbWF0aW9uSGFzRW5kZWRfID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8uY29tcHV0ZUJvdW5kaW5nUmVjdCgpO1xuICAgIH07XG4gICAgTURDUmlwcGxlRm91bmRhdGlvbi5wcm90b3R5cGUucmVzZXRBY3RpdmF0aW9uU3RhdGVfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnByZXZpb3VzQWN0aXZhdGlvbkV2ZW50XyA9IHRoaXMuYWN0aXZhdGlvblN0YXRlXy5hY3RpdmF0aW9uRXZlbnQ7XG4gICAgICAgIHRoaXMuYWN0aXZhdGlvblN0YXRlXyA9IHRoaXMuZGVmYXVsdEFjdGl2YXRpb25TdGF0ZV8oKTtcbiAgICAgICAgLy8gVG91Y2ggZGV2aWNlcyBtYXkgZmlyZSBhZGRpdGlvbmFsIGV2ZW50cyBmb3IgdGhlIHNhbWUgaW50ZXJhY3Rpb24gd2l0aGluIGEgc2hvcnQgdGltZS5cbiAgICAgICAgLy8gU3RvcmUgdGhlIHByZXZpb3VzIGV2ZW50IHVudGlsIGl0J3Mgc2FmZSB0byBhc3N1bWUgdGhhdCBzdWJzZXF1ZW50IGV2ZW50cyBhcmUgZm9yIG5ldyBpbnRlcmFjdGlvbnMuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucHJldmlvdXNBY3RpdmF0aW9uRXZlbnRfID0gdW5kZWZpbmVkOyB9LCBNRENSaXBwbGVGb3VuZGF0aW9uLm51bWJlcnMuVEFQX0RFTEFZX01TKTtcbiAgICB9O1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLmRlYWN0aXZhdGVfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgYWN0aXZhdGlvblN0YXRlID0gdGhpcy5hY3RpdmF0aW9uU3RhdGVfO1xuICAgICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaW4gc2NlbmFyaW9zIHN1Y2ggYXMgd2hlbiB5b3UgaGF2ZSBhIGtleXVwIGV2ZW50IHRoYXQgYmx1cnMgdGhlIGVsZW1lbnQuXG4gICAgICAgIGlmICghYWN0aXZhdGlvblN0YXRlLmlzQWN0aXZhdGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXRlID0gdHNsaWJfMS5fX2Fzc2lnbih7fSwgYWN0aXZhdGlvblN0YXRlKTtcbiAgICAgICAgaWYgKGFjdGl2YXRpb25TdGF0ZS5pc1Byb2dyYW1tYXRpYykge1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmFuaW1hdGVEZWFjdGl2YXRpb25fKHN0YXRlKTsgfSk7XG4gICAgICAgICAgICB0aGlzLnJlc2V0QWN0aXZhdGlvblN0YXRlXygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZXJlZ2lzdGVyRGVhY3RpdmF0aW9uSGFuZGxlcnNfKCk7XG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmFjdGl2YXRpb25TdGF0ZV8uaGFzRGVhY3RpdmF0aW9uVVhSdW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgIF90aGlzLmFuaW1hdGVEZWFjdGl2YXRpb25fKHN0YXRlKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZXNldEFjdGl2YXRpb25TdGF0ZV8oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5hbmltYXRlRGVhY3RpdmF0aW9uXyA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgd2FzQWN0aXZhdGVkQnlQb2ludGVyID0gX2Eud2FzQWN0aXZhdGVkQnlQb2ludGVyLCB3YXNFbGVtZW50TWFkZUFjdGl2ZSA9IF9hLndhc0VsZW1lbnRNYWRlQWN0aXZlO1xuICAgICAgICBpZiAod2FzQWN0aXZhdGVkQnlQb2ludGVyIHx8IHdhc0VsZW1lbnRNYWRlQWN0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLnJ1bkRlYWN0aXZhdGlvblVYTG9naWNJZlJlYWR5XygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5sYXlvdXRJbnRlcm5hbF8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuZnJhbWVfID0gdGhpcy5hZGFwdGVyXy5jb21wdXRlQm91bmRpbmdSZWN0KCk7XG4gICAgICAgIHZhciBtYXhEaW0gPSBNYXRoLm1heCh0aGlzLmZyYW1lXy5oZWlnaHQsIHRoaXMuZnJhbWVfLndpZHRoKTtcbiAgICAgICAgLy8gU3VyZmFjZSBkaWFtZXRlciBpcyB0cmVhdGVkIGRpZmZlcmVudGx5IGZvciB1bmJvdW5kZWQgdnMuIGJvdW5kZWQgcmlwcGxlcy5cbiAgICAgICAgLy8gVW5ib3VuZGVkIHJpcHBsZSBkaWFtZXRlciBpcyBjYWxjdWxhdGVkIHNtYWxsZXIgc2luY2UgdGhlIHN1cmZhY2UgaXMgZXhwZWN0ZWQgdG8gYWxyZWFkeSBiZSBwYWRkZWQgYXBwcm9wcmlhdGVseVxuICAgICAgICAvLyB0byBleHRlbmQgdGhlIGhpdGJveCwgYW5kIHRoZSByaXBwbGUgaXMgZXhwZWN0ZWQgdG8gbWVldCB0aGUgZWRnZXMgb2YgdGhlIHBhZGRlZCBoaXRib3ggKHdoaWNoIGlzIHR5cGljYWxseVxuICAgICAgICAvLyBzcXVhcmUpLiBCb3VuZGVkIHJpcHBsZXMsIG9uIHRoZSBvdGhlciBoYW5kLCBhcmUgZnVsbHkgZXhwZWN0ZWQgdG8gZXhwYW5kIGJleW9uZCB0aGUgc3VyZmFjZSdzIGxvbmdlc3QgZGlhbWV0ZXJcbiAgICAgICAgLy8gKGNhbGN1bGF0ZWQgYmFzZWQgb24gdGhlIGRpYWdvbmFsIHBsdXMgYSBjb25zdGFudCBwYWRkaW5nKSwgYW5kIGFyZSBjbGlwcGVkIGF0IHRoZSBzdXJmYWNlJ3MgYm9yZGVyIHZpYVxuICAgICAgICAvLyBgb3ZlcmZsb3c6IGhpZGRlbmAuXG4gICAgICAgIHZhciBnZXRCb3VuZGVkUmFkaXVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGh5cG90ZW51c2UgPSBNYXRoLnNxcnQoTWF0aC5wb3coX3RoaXMuZnJhbWVfLndpZHRoLCAyKSArIE1hdGgucG93KF90aGlzLmZyYW1lXy5oZWlnaHQsIDIpKTtcbiAgICAgICAgICAgIHJldHVybiBoeXBvdGVudXNlICsgTURDUmlwcGxlRm91bmRhdGlvbi5udW1iZXJzLlBBRERJTkc7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubWF4UmFkaXVzXyA9IHRoaXMuYWRhcHRlcl8uaXNVbmJvdW5kZWQoKSA/IG1heERpbSA6IGdldEJvdW5kZWRSYWRpdXMoKTtcbiAgICAgICAgLy8gUmlwcGxlIGlzIHNpemVkIGFzIGEgZnJhY3Rpb24gb2YgdGhlIGxhcmdlc3QgZGltZW5zaW9uIG9mIHRoZSBzdXJmYWNlLCB0aGVuIHNjYWxlcyB1cCB1c2luZyBhIENTUyBzY2FsZSB0cmFuc2Zvcm1cbiAgICAgICAgdmFyIGluaXRpYWxTaXplID0gTWF0aC5mbG9vcihtYXhEaW0gKiBNRENSaXBwbGVGb3VuZGF0aW9uLm51bWJlcnMuSU5JVElBTF9PUklHSU5fU0NBTEUpO1xuICAgICAgICAvLyBVbmJvdW5kZWQgcmlwcGxlIHNpemUgc2hvdWxkIGFsd2F5cyBiZSBldmVuIG51bWJlciB0byBlcXVhbGx5IGNlbnRlciBhbGlnbi5cbiAgICAgICAgaWYgKHRoaXMuYWRhcHRlcl8uaXNVbmJvdW5kZWQoKSAmJiBpbml0aWFsU2l6ZSAlIDIgIT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbFNpemVfID0gaW5pdGlhbFNpemUgLSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsU2l6ZV8gPSBpbml0aWFsU2l6ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZnU2NhbGVfID0gXCJcIiArIHRoaXMubWF4UmFkaXVzXyAvIHRoaXMuaW5pdGlhbFNpemVfO1xuICAgICAgICB0aGlzLnVwZGF0ZUxheW91dENzc1ZhcnNfKCk7XG4gICAgfTtcbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS51cGRhdGVMYXlvdXRDc3NWYXJzXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gTURDUmlwcGxlRm91bmRhdGlvbi5zdHJpbmdzLCBWQVJfRkdfU0laRSA9IF9hLlZBUl9GR19TSVpFLCBWQVJfTEVGVCA9IF9hLlZBUl9MRUZULCBWQVJfVE9QID0gX2EuVkFSX1RPUCwgVkFSX0ZHX1NDQUxFID0gX2EuVkFSX0ZHX1NDQUxFO1xuICAgICAgICB0aGlzLmFkYXB0ZXJfLnVwZGF0ZUNzc1ZhcmlhYmxlKFZBUl9GR19TSVpFLCB0aGlzLmluaXRpYWxTaXplXyArIFwicHhcIik7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8udXBkYXRlQ3NzVmFyaWFibGUoVkFSX0ZHX1NDQUxFLCB0aGlzLmZnU2NhbGVfKTtcbiAgICAgICAgaWYgKHRoaXMuYWRhcHRlcl8uaXNVbmJvdW5kZWQoKSkge1xuICAgICAgICAgICAgdGhpcy51bmJvdW5kZWRDb29yZHNfID0ge1xuICAgICAgICAgICAgICAgIGxlZnQ6IE1hdGgucm91bmQoKHRoaXMuZnJhbWVfLndpZHRoIC8gMikgLSAodGhpcy5pbml0aWFsU2l6ZV8gLyAyKSksXG4gICAgICAgICAgICAgICAgdG9wOiBNYXRoLnJvdW5kKCh0aGlzLmZyYW1lXy5oZWlnaHQgLyAyKSAtICh0aGlzLmluaXRpYWxTaXplXyAvIDIpKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXJfLnVwZGF0ZUNzc1ZhcmlhYmxlKFZBUl9MRUZULCB0aGlzLnVuYm91bmRlZENvb3Jkc18ubGVmdCArIFwicHhcIik7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXJfLnVwZGF0ZUNzc1ZhcmlhYmxlKFZBUl9UT1AsIHRoaXMudW5ib3VuZGVkQ29vcmRzXy50b3AgKyBcInB4XCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTURDUmlwcGxlRm91bmRhdGlvbjtcbn0oTURDRm91bmRhdGlvbikpO1xuZXhwb3J0IHsgTURDUmlwcGxlRm91bmRhdGlvbiB9O1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWRlZmF1bHQtZXhwb3J0IE5lZWRlZCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIE1EQyBXZWIgdjAuNDQuMCBhbmQgZWFybGllci5cbmV4cG9ydCBkZWZhdWx0IE1EQ1JpcHBsZUZvdW5kYXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb3VuZGF0aW9uLmpzLm1hcCIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAyMDE4IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG55b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG5Zb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblxuICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXG5Vbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG5kaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG5XSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cblNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbmxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKi9cbmltcG9ydCB7IGNzcyB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmV4cG9ydCBjb25zdCBzdHlsZSA9IGNzcyBgQGtleWZyYW1lcyBtZGMtcmlwcGxlLWZnLXJhZGl1cy1pbntmcm9te2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKTt0cmFuc2Zvcm06dHJhbnNsYXRlKHZhcigtLW1kYy1yaXBwbGUtZmctdHJhbnNsYXRlLXN0YXJ0LCAwKSkgc2NhbGUoMSl9dG97dHJhbnNmb3JtOnRyYW5zbGF0ZSh2YXIoLS1tZGMtcmlwcGxlLWZnLXRyYW5zbGF0ZS1lbmQsIDApKSBzY2FsZSh2YXIoLS1tZGMtcmlwcGxlLWZnLXNjYWxlLCAxKSl9fUBrZXlmcmFtZXMgbWRjLXJpcHBsZS1mZy1vcGFjaXR5LWlue2Zyb217YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpsaW5lYXI7b3BhY2l0eTowfXRve29wYWNpdHk6dmFyKC0tbWRjLXJpcHBsZS1mZy1vcGFjaXR5LCAwKX19QGtleWZyYW1lcyBtZGMtcmlwcGxlLWZnLW9wYWNpdHktb3V0e2Zyb217YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpsaW5lYXI7b3BhY2l0eTp2YXIoLS1tZGMtcmlwcGxlLWZnLW9wYWNpdHksIDApfXRve29wYWNpdHk6MH19YDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW13Yy1yaXBwbGUtZ2xvYmFsLWNzcy5qcy5tYXAiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xueW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG5TZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG5saW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiovXG5pbXBvcnQgeyBhcHBseVBhc3NpdmUgfSBmcm9tICdAbWF0ZXJpYWwvZG9tL2V2ZW50cyc7XG5pbXBvcnQgeyBtYXRjaGVzIH0gZnJvbSAnQG1hdGVyaWFsL2RvbS9wb255ZmlsbCc7XG5pbXBvcnQgTURDUmlwcGxlRm91bmRhdGlvbiBmcm9tICdAbWF0ZXJpYWwvcmlwcGxlL2ZvdW5kYXRpb24uanMnO1xuaW1wb3J0IHsgc3VwcG9ydHNDc3NWYXJpYWJsZXMgfSBmcm9tICdAbWF0ZXJpYWwvcmlwcGxlL3V0aWwuanMnO1xuaW1wb3J0IHsgZGlyZWN0aXZlLCBub0NoYW5nZSwgTm9kZVBhcnQsIHRlbXBsYXRlRmFjdG9yeSB9IGZyb20gJ2xpdC1odG1sJztcbmltcG9ydCB7IHN0eWxlIH0gZnJvbSAnLi9td2MtcmlwcGxlLWdsb2JhbC1jc3MuanMnO1xuY29uc3Qgc3VwcG9ydHNDc3NWYXJpYWJsZXNXaW4gPSBzdXBwb3J0c0Nzc1ZhcmlhYmxlcyh3aW5kb3cpO1xuLy8gTk9URTogVGhpcyBpcyBhIHdvcmthcm91bmQgZm9yXG4vLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTczMDI3LiBTaW5jZSBrZXlmcmFtZXMgb25cbi8vIHBzZXVkby1lbGVtZW50cyAoOmFmdGVyKSBhcmUgbm90IHN1cHBvcnRlZCBpbiBTaGFkb3cgRE9NLCB3ZSBwdXQgdGhlIGtleWZyYW1lXG4vLyBzdHlsZSBpbnRvIHRoZSA8aGVhZD4gZWxlbWVudC5cbmNvbnN0IGlzU2FmYXJpID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvU2FmYXJpLyk7XG5sZXQgZGlkQXBwbHlSaXBwbGVTdHlsZSA9IGZhbHNlO1xuY29uc3QgYXBwbHlSaXBwbGVTdHlsZSA9ICgpID0+IHtcbiAgICBkaWRBcHBseVJpcHBsZVN0eWxlID0gdHJ1ZTtcbiAgICBjb25zdCBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIGNvbnN0IHBhcnQgPSBuZXcgTm9kZVBhcnQoeyB0ZW1wbGF0ZUZhY3RvcnkgfSk7XG4gICAgcGFydC5hcHBlbmRJbnRvKHN0eWxlRWxlbWVudCk7XG4gICAgcGFydC5zZXRWYWx1ZShzdHlsZSk7XG4gICAgcGFydC5jb21taXQoKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn07XG4vKipcbiAqIEFwcGxpZWQgYSByaXBwbGUgdG8gdGhlIG5vZGUgc3BlY2lmaWVkIGJ5IHtzdXJmYWNlTm9kZX0uXG4gKiBAcGFyYW0gb3B0aW9ucyB7UmlwcGxlTm9kZU9wdGlvbnN9XG4gKi9cbmV4cG9ydCBjb25zdCByaXBwbGVOb2RlID0gKG9wdGlvbnMpID0+IHtcbiAgICBpZiAoaXNTYWZhcmkgJiYgIWRpZEFwcGx5UmlwcGxlU3R5bGUpIHtcbiAgICAgICAgYXBwbHlSaXBwbGVTdHlsZSgpO1xuICAgIH1cbiAgICAvLyBUT0RPKHNvcnZlbGwpOiBUaGlzIGRpcmVjdGl2ZSByZXF1aXJlcyBicmluZ2luZyBjc3MgeW91cnNlbGYuIFdlIHByb2JhYmx5XG4gICAgLy8gbmVlZCB0byBkbyB0aGlzIGJlY2F1c2Ugb2YgU2hhZHlDU1MsIGJ1dCBvbiBTYWZhcmksIHRoZSBrZXlmcmFtZXMgc3R5bGluZ1xuICAgIC8vIG11c3QgYmUgZ2xvYmFsLiBQZXJoYXBzIHRoaXMgZGlyZWN0aXZlIGNvdWxkIGZpeCB0aGF0LlxuICAgIGNvbnN0IHN1cmZhY2VOb2RlID0gb3B0aW9ucy5zdXJmYWNlTm9kZTtcbiAgICBjb25zdCBpbnRlcmFjdGlvbk5vZGUgPSBvcHRpb25zLmludGVyYWN0aW9uTm9kZSB8fCBzdXJmYWNlTm9kZTtcbiAgICAvLyBvbmx5IHN0eWxlIGludGVyYWN0aW9uIG5vZGUgaWYgbm90IGluIHRoZSBzYW1lIHJvb3RcbiAgICBpZiAoaW50ZXJhY3Rpb25Ob2RlLmdldFJvb3ROb2RlKCkgIT09IHN1cmZhY2VOb2RlLmdldFJvb3ROb2RlKCkpIHtcbiAgICAgICAgaWYgKGludGVyYWN0aW9uTm9kZS5zdHlsZS5wb3NpdGlvbiA9PT0gJycpIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uTm9kZS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYWRhcHRlciA9IHtcbiAgICAgICAgYnJvd3NlclN1cHBvcnRzQ3NzVmFyczogKCkgPT4gc3VwcG9ydHNDc3NWYXJpYWJsZXNXaW4sXG4gICAgICAgIGlzVW5ib3VuZGVkOiAoKSA9PiBvcHRpb25zLnVuYm91bmRlZCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IG9wdGlvbnMudW5ib3VuZGVkLFxuICAgICAgICBpc1N1cmZhY2VBY3RpdmU6ICgpID0+IG1hdGNoZXMoaW50ZXJhY3Rpb25Ob2RlLCAnOmFjdGl2ZScpLFxuICAgICAgICBpc1N1cmZhY2VEaXNhYmxlZDogKCkgPT4gQm9vbGVhbihpbnRlcmFjdGlvbk5vZGUuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSxcbiAgICAgICAgYWRkQ2xhc3M6IChjbGFzc05hbWUpID0+IHN1cmZhY2VOb2RlLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKSxcbiAgICAgICAgcmVtb3ZlQ2xhc3M6IChjbGFzc05hbWUpID0+IHN1cmZhY2VOb2RlLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKSxcbiAgICAgICAgY29udGFpbnNFdmVudFRhcmdldDogKHRhcmdldCkgPT4gaW50ZXJhY3Rpb25Ob2RlLmNvbnRhaW5zKHRhcmdldCksXG4gICAgICAgIHJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyOiAodHlwZSwgaGFuZGxlcikgPT4gaW50ZXJhY3Rpb25Ob2RlLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgYXBwbHlQYXNzaXZlKCkpLFxuICAgICAgICBkZXJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyOiAodHlwZSwgaGFuZGxlcikgPT4gaW50ZXJhY3Rpb25Ob2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgYXBwbHlQYXNzaXZlKCkpLFxuICAgICAgICByZWdpc3RlckRvY3VtZW50SW50ZXJhY3Rpb25IYW5kbGVyOiAoZXZ0VHlwZSwgaGFuZGxlcikgPT4gXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2dFR5cGUsIGhhbmRsZXIsIGFwcGx5UGFzc2l2ZSgpKSxcbiAgICAgICAgZGVyZWdpc3RlckRvY3VtZW50SW50ZXJhY3Rpb25IYW5kbGVyOiAoZXZ0VHlwZSwgaGFuZGxlcikgPT4gXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2dFR5cGUsIGhhbmRsZXIsIGFwcGx5UGFzc2l2ZSgpKSxcbiAgICAgICAgcmVnaXN0ZXJSZXNpemVIYW5kbGVyOiAoaGFuZGxlcikgPT4gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZXIpLFxuICAgICAgICBkZXJlZ2lzdGVyUmVzaXplSGFuZGxlcjogKGhhbmRsZXIpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVyKSxcbiAgICAgICAgdXBkYXRlQ3NzVmFyaWFibGU6ICh2YXJOYW1lLCB2YWx1ZSkgPT4gc3VyZmFjZU5vZGUuc3R5bGUuc2V0UHJvcGVydHkodmFyTmFtZSwgdmFsdWUpLFxuICAgICAgICBjb21wdXRlQm91bmRpbmdSZWN0OiAoKSA9PiBzdXJmYWNlTm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgZ2V0V2luZG93UGFnZU9mZnNldDogKCkgPT4gKHsgeDogd2luZG93LnBhZ2VYT2Zmc2V0LCB5OiB3aW5kb3cucGFnZVlPZmZzZXQgfSksXG4gICAgfTtcbiAgICBjb25zdCByaXBwbGVGb3VuZGF0aW9uID0gbmV3IE1EQ1JpcHBsZUZvdW5kYXRpb24oYWRhcHRlcik7XG4gICAgcmlwcGxlRm91bmRhdGlvbi5pbml0KCk7XG4gICAgcmV0dXJuIHJpcHBsZUZvdW5kYXRpb247XG59O1xuY29uc3QgcmlwcGxlSW50ZXJhY3Rpb25Ob2RlcyA9IG5ldyBXZWFrTWFwKCk7XG4vKipcbiAqIEEgZGlyZWN0aXZlIHRoYXQgYXBwbGllcyBhIE1hdGVyaWFsIHJpcHBsZSB0byBhIHBhcnQgbm9kZS4gVGhlIGRpcmVjdGl2ZVxuICogc2hvdWxkIGJlIGFwcGxpZWQgdG8gYSBQcm9wZXJ0eVBhcnQuXG4gKiBAcGFyYW0gb3B0aW9ucyB7UmlwcGxlT3B0aW9uc31cbiAqL1xuZXhwb3J0IGNvbnN0IHJpcHBsZSA9IGRpcmVjdGl2ZSgob3B0aW9ucyA9IHt9KSA9PiAocGFydCkgPT4ge1xuICAgIGNvbnN0IHN1cmZhY2VOb2RlID0gcGFydC5jb21taXR0ZXIuZWxlbWVudDtcbiAgICBjb25zdCBpbnRlcmFjdGlvbk5vZGUgPSBvcHRpb25zLmludGVyYWN0aW9uTm9kZSB8fCBzdXJmYWNlTm9kZTtcbiAgICBsZXQgcmlwcGxlRm91bmRhdGlvbiA9IHBhcnQudmFsdWU7XG4gICAgLy8gaWYgdGhlIGludGVyYWN0aW9uIG5vZGUgY2hhbmdlcywgZGVzdHJveSBhbmQgaW52YWxpZGF0ZSB0aGUgZm91bmRhdGlvbi5cbiAgICBjb25zdCBleGlzdGluZ0ludGVyYWN0aW9uTm9kZSA9IHJpcHBsZUludGVyYWN0aW9uTm9kZXMuZ2V0KHJpcHBsZUZvdW5kYXRpb24pO1xuICAgIGlmIChleGlzdGluZ0ludGVyYWN0aW9uTm9kZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIGV4aXN0aW5nSW50ZXJhY3Rpb25Ob2RlICE9PSBpbnRlcmFjdGlvbk5vZGUpIHtcbiAgICAgICAgcmlwcGxlRm91bmRhdGlvbi5kZXN0cm95KCk7XG4gICAgICAgIHJpcHBsZUZvdW5kYXRpb24gPSBub0NoYW5nZTtcbiAgICB9XG4gICAgLy8gbWFrZSB0aGUgcmlwcGxlLCBpZiBuZWVkZWRcbiAgICBpZiAocmlwcGxlRm91bmRhdGlvbiA9PT0gbm9DaGFuZ2UpIHtcbiAgICAgICAgcmlwcGxlRm91bmRhdGlvbiA9XG4gICAgICAgICAgICByaXBwbGVOb2RlKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHsgc3VyZmFjZU5vZGUgfSkpO1xuICAgICAgICByaXBwbGVJbnRlcmFjdGlvbk5vZGVzLnNldChyaXBwbGVGb3VuZGF0aW9uLCBpbnRlcmFjdGlvbk5vZGUpO1xuICAgICAgICBwYXJ0LnNldFZhbHVlKHJpcHBsZUZvdW5kYXRpb24pO1xuICAgICAgICAvLyBvdGhlcndpc2UgdXBkYXRlIHNldHRpbmdzIGFzIG5lZWRlZC5cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChvcHRpb25zLnVuYm91bmRlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByaXBwbGVGb3VuZGF0aW9uXG4gICAgICAgICAgICAgICAgLnNldFVuYm91bmRlZChvcHRpb25zLnVuYm91bmRlZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuZGlzYWJsZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmlwcGxlRm91bmRhdGlvblxuICAgICAgICAgICAgICAgIC5zZXRVbmJvdW5kZWQob3B0aW9ucy5kaXNhYmxlZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuYWN0aXZlID09PSB0cnVlKSB7XG4gICAgICAgIHJpcHBsZUZvdW5kYXRpb24uYWN0aXZhdGUoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3B0aW9ucy5hY3RpdmUgPT09IGZhbHNlKSB7XG4gICAgICAgIHJpcHBsZUZvdW5kYXRpb24uZGVhY3RpdmF0ZSgpO1xuICAgIH1cbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmlwcGxlLWRpcmVjdGl2ZS5qcy5tYXAiLCJpbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSBcInRzbGliXCI7XG4vKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xueW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG5TZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG5saW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiovXG5pbXBvcnQgeyByaXBwbGUgfSBmcm9tICdAbWF0ZXJpYWwvbXdjLXJpcHBsZS9yaXBwbGUtZGlyZWN0aXZlLmpzJztcbmltcG9ydCB7IGh0bWwsIExpdEVsZW1lbnQsIHByb3BlcnR5IH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuZXhwb3J0IGNsYXNzIEljb25CdXR0b25CYXNlIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pY29uID0gJyc7XG4gICAgICAgIHRoaXMubGFiZWwgPSAnJztcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gaHRtbCBgPGJ1dHRvblxuICAgIC5yaXBwbGU9XCIke3JpcHBsZSgpfVwiXG4gICAgY2xhc3M9XCJtZGMtaWNvbi1idXR0b25cIlxuICAgIGFyaWEtbGFiZWw9XCIke3RoaXMubGFiZWwgfHwgdGhpcy5pY29ufVwiXG4gICAgP2Rpc2FibGVkPVwiJHt0aGlzLmRpc2FibGVkfVwiPlxuICAgIDxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj4ke3RoaXMuaWNvbn08L2k+XG4gICAgPHNsb3Q+PC9zbG90PlxuICA8L2J1dHRvbj5gO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgcmVmbGVjdDogdHJ1ZSB9KVxuXSwgSWNvbkJ1dHRvbkJhc2UucHJvdG90eXBlLCBcImRpc2FibGVkXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IFN0cmluZyB9KVxuXSwgSWNvbkJ1dHRvbkJhc2UucHJvdG90eXBlLCBcImljb25cIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nIH0pXG5dLCBJY29uQnV0dG9uQmFzZS5wcm90b3R5cGUsIFwibGFiZWxcIiwgdm9pZCAwKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW13Yy1pY29uLWJ1dHRvbi1iYXNlLmpzLm1hcCIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAyMDE4IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG55b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG5Zb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblxuICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXG5Vbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG5kaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG5XSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cblNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbmxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKi9cbmltcG9ydCB7IGNzcyB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmV4cG9ydCBjb25zdCBzdHlsZSA9IGNzcyBgLm1kYy1pY29uLWJ1dHRvbntkaXNwbGF5OmlubGluZS1ibG9jaztwb3NpdGlvbjpyZWxhdGl2ZTtib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym9yZGVyOm5vbmU7b3V0bGluZTpub25lO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7ZmlsbDpjdXJyZW50Q29sb3I7Y29sb3I6aW5oZXJpdDtmb250LXNpemU6MjRweDt0ZXh0LWRlY29yYXRpb246bm9uZTtjdXJzb3I6cG9pbnRlcjt1c2VyLXNlbGVjdDpub25lO3dpZHRoOjQ4cHg7aGVpZ2h0OjQ4cHg7cGFkZGluZzoxMnB4fS5tZGMtaWNvbi1idXR0b24gc3ZnLC5tZGMtaWNvbi1idXR0b24gaW1ne3dpZHRoOjI0cHg7aGVpZ2h0OjI0cHh9Lm1kYy1pY29uLWJ1dHRvbjpkaXNhYmxlZHtjb2xvcjpyZ2JhKDAsMCwwLC4zOCk7Y29sb3I6dmFyKC0tbWRjLXRoZW1lLXRleHQtZGlzYWJsZWQtb24tbGlnaHQsIHJnYmEoMCwgMCwgMCwgMC4zOCkpfS5tZGMtaWNvbi1idXR0b246ZGlzYWJsZWR7Y3Vyc29yOmRlZmF1bHQ7cG9pbnRlci1ldmVudHM6bm9uZX0ubWRjLWljb24tYnV0dG9uX19pY29ue2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5tZGMtaWNvbi1idXR0b25fX2ljb24ubWRjLWljb24tYnV0dG9uX19pY29uLS1vbntkaXNwbGF5Om5vbmV9Lm1kYy1pY29uLWJ1dHRvbi0tb24gLm1kYy1pY29uLWJ1dHRvbl9faWNvbntkaXNwbGF5Om5vbmV9Lm1kYy1pY29uLWJ1dHRvbi0tb24gLm1kYy1pY29uLWJ1dHRvbl9faWNvbi5tZGMtaWNvbi1idXR0b25fX2ljb24tLW9ue2Rpc3BsYXk6aW5saW5lLWJsb2NrfUBrZXlmcmFtZXMgbWRjLXJpcHBsZS1mZy1yYWRpdXMtaW57ZnJvbXthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSk7dHJhbnNmb3JtOnRyYW5zbGF0ZSh2YXIoLS1tZGMtcmlwcGxlLWZnLXRyYW5zbGF0ZS1zdGFydCwgMCkpIHNjYWxlKDEpfXRve3RyYW5zZm9ybTp0cmFuc2xhdGUodmFyKC0tbWRjLXJpcHBsZS1mZy10cmFuc2xhdGUtZW5kLCAwKSkgc2NhbGUodmFyKC0tbWRjLXJpcHBsZS1mZy1zY2FsZSwgMSkpfX1Aa2V5ZnJhbWVzIG1kYy1yaXBwbGUtZmctb3BhY2l0eS1pbntmcm9te2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246bGluZWFyO29wYWNpdHk6MH10b3tvcGFjaXR5OnZhcigtLW1kYy1yaXBwbGUtZmctb3BhY2l0eSwgMCl9fUBrZXlmcmFtZXMgbWRjLXJpcHBsZS1mZy1vcGFjaXR5LW91dHtmcm9te2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246bGluZWFyO29wYWNpdHk6dmFyKC0tbWRjLXJpcHBsZS1mZy1vcGFjaXR5LCAwKX10b3tvcGFjaXR5OjB9fS5tZGMtaWNvbi1idXR0b257LS1tZGMtcmlwcGxlLWZnLXNpemU6IDA7LS1tZGMtcmlwcGxlLWxlZnQ6IDA7LS1tZGMtcmlwcGxlLXRvcDogMDstLW1kYy1yaXBwbGUtZmctc2NhbGU6IDE7LS1tZGMtcmlwcGxlLWZnLXRyYW5zbGF0ZS1lbmQ6IDA7LS1tZGMtcmlwcGxlLWZnLXRyYW5zbGF0ZS1zdGFydDogMDstd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6cmdiYSgwLDAsMCwwKX0ubWRjLWljb24tYnV0dG9uOjpiZWZvcmUsLm1kYy1pY29uLWJ1dHRvbjo6YWZ0ZXJ7cG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyLXJhZGl1czo1MCU7b3BhY2l0eTowO3BvaW50ZXItZXZlbnRzOm5vbmU7Y29udGVudDpcIlwifS5tZGMtaWNvbi1idXR0b246OmJlZm9yZXt0cmFuc2l0aW9uOm9wYWNpdHkgMTVtcyBsaW5lYXIsYmFja2dyb3VuZC1jb2xvciAxNW1zIGxpbmVhcjt6LWluZGV4OjF9Lm1kYy1pY29uLWJ1dHRvbi5tZGMtcmlwcGxlLXVwZ3JhZGVkOjpiZWZvcmV7dHJhbnNmb3JtOnNjYWxlKHZhcigtLW1kYy1yaXBwbGUtZmctc2NhbGUsIDEpKX0ubWRjLWljb24tYnV0dG9uLm1kYy1yaXBwbGUtdXBncmFkZWQ6OmFmdGVye3RvcDowO2xlZnQ6MDt0cmFuc2Zvcm06c2NhbGUoMCk7dHJhbnNmb3JtLW9yaWdpbjpjZW50ZXIgY2VudGVyfS5tZGMtaWNvbi1idXR0b24ubWRjLXJpcHBsZS11cGdyYWRlZC0tdW5ib3VuZGVkOjphZnRlcnt0b3A6dmFyKC0tbWRjLXJpcHBsZS10b3AsIDApO2xlZnQ6dmFyKC0tbWRjLXJpcHBsZS1sZWZ0LCAwKX0ubWRjLWljb24tYnV0dG9uLm1kYy1yaXBwbGUtdXBncmFkZWQtLWZvcmVncm91bmQtYWN0aXZhdGlvbjo6YWZ0ZXJ7YW5pbWF0aW9uOm1kYy1yaXBwbGUtZmctcmFkaXVzLWluIDIyNW1zIGZvcndhcmRzLG1kYy1yaXBwbGUtZmctb3BhY2l0eS1pbiA3NW1zIGZvcndhcmRzfS5tZGMtaWNvbi1idXR0b24ubWRjLXJpcHBsZS11cGdyYWRlZC0tZm9yZWdyb3VuZC1kZWFjdGl2YXRpb246OmFmdGVye2FuaW1hdGlvbjptZGMtcmlwcGxlLWZnLW9wYWNpdHktb3V0IDE1MG1zO3RyYW5zZm9ybTp0cmFuc2xhdGUodmFyKC0tbWRjLXJpcHBsZS1mZy10cmFuc2xhdGUtZW5kLCAwKSkgc2NhbGUodmFyKC0tbWRjLXJpcHBsZS1mZy1zY2FsZSwgMSkpfS5tZGMtaWNvbi1idXR0b246OmJlZm9yZSwubWRjLWljb24tYnV0dG9uOjphZnRlcnt0b3A6Y2FsYyg1MCUgLSA1MCUpO2xlZnQ6Y2FsYyg1MCUgLSA1MCUpO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9Lm1kYy1pY29uLWJ1dHRvbi5tZGMtcmlwcGxlLXVwZ3JhZGVkOjpiZWZvcmUsLm1kYy1pY29uLWJ1dHRvbi5tZGMtcmlwcGxlLXVwZ3JhZGVkOjphZnRlcnt0b3A6dmFyKC0tbWRjLXJpcHBsZS10b3AsIGNhbGMoNTAlIC0gNTAlKSk7bGVmdDp2YXIoLS1tZGMtcmlwcGxlLWxlZnQsIGNhbGMoNTAlIC0gNTAlKSk7d2lkdGg6dmFyKC0tbWRjLXJpcHBsZS1mZy1zaXplLCAxMDAlKTtoZWlnaHQ6dmFyKC0tbWRjLXJpcHBsZS1mZy1zaXplLCAxMDAlKX0ubWRjLWljb24tYnV0dG9uLm1kYy1yaXBwbGUtdXBncmFkZWQ6OmFmdGVye3dpZHRoOnZhcigtLW1kYy1yaXBwbGUtZmctc2l6ZSwgMTAwJSk7aGVpZ2h0OnZhcigtLW1kYy1yaXBwbGUtZmctc2l6ZSwgMTAwJSl9Lm1kYy1pY29uLWJ1dHRvbjo6YmVmb3JlLC5tZGMtaWNvbi1idXR0b246OmFmdGVye2JhY2tncm91bmQtY29sb3I6IzAwMH0ubWRjLWljb24tYnV0dG9uOmhvdmVyOjpiZWZvcmV7b3BhY2l0eTouMDR9Lm1kYy1pY29uLWJ1dHRvbi5tZGMtcmlwcGxlLXVwZ3JhZGVkLS1iYWNrZ3JvdW5kLWZvY3VzZWQ6OmJlZm9yZSwubWRjLWljb24tYnV0dG9uOm5vdCgubWRjLXJpcHBsZS11cGdyYWRlZCk6Zm9jdXM6OmJlZm9yZXt0cmFuc2l0aW9uLWR1cmF0aW9uOjc1bXM7b3BhY2l0eTouMTJ9Lm1kYy1pY29uLWJ1dHRvbjpub3QoLm1kYy1yaXBwbGUtdXBncmFkZWQpOjphZnRlcnt0cmFuc2l0aW9uOm9wYWNpdHkgMTUwbXMgbGluZWFyfS5tZGMtaWNvbi1idXR0b246bm90KC5tZGMtcmlwcGxlLXVwZ3JhZGVkKTphY3RpdmU6OmFmdGVye3RyYW5zaXRpb24tZHVyYXRpb246NzVtcztvcGFjaXR5Oi4xMn0ubWRjLWljb24tYnV0dG9uLm1kYy1yaXBwbGUtdXBncmFkZWR7LS1tZGMtcmlwcGxlLWZnLW9wYWNpdHk6IDAuMTJ9Lm1hdGVyaWFsLWljb25ze2ZvbnQtZmFtaWx5OnZhcigtLW1kYy1pY29uLWZvbnQsIFwiTWF0ZXJpYWwgSWNvbnNcIik7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtc2l6ZTp2YXIoLS1tZGMtaWNvbi1zaXplLCAyNHB4KTtsaW5lLWhlaWdodDoxO2xldHRlci1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3doaXRlLXNwYWNlOm5vd3JhcDt3b3JkLXdyYXA6bm9ybWFsO2RpcmVjdGlvbjpsdHI7LXdlYmtpdC1mb250LXNtb290aGluZzphbnRpYWxpYXNlZDt0ZXh0LXJlbmRlcmluZzpvcHRpbWl6ZUxlZ2liaWxpdHk7LW1vei1vc3gtZm9udC1zbW9vdGhpbmc6Z3JheXNjYWxlO2ZvbnQtZmVhdHVyZS1zZXR0aW5nczpcImxpZ2FcIn06aG9zdHtkaXNwbGF5OmlubGluZS1ibG9jaztvdXRsaW5lOm5vbmV9Omhvc3QsLm1kYy1pY29uLWJ1dHRvbnt2ZXJ0aWNhbC1hbGlnbjp0b3B9Lm1kYy1pY29uLWJ1dHRvbnt3aWR0aDp2YXIoLS1tZGMtaWNvbi1idXR0b24tc2l6ZSwgNDhweCk7aGVpZ2h0OnZhcigtLW1kYy1pY29uLWJ1dHRvbi1zaXplLCA0OHB4KTtwYWRkaW5nOmNhbGMoKHZhcigtLW1kYy1pY29uLWJ1dHRvbi1zaXplLCA0OHB4KSAtIHZhcigtLW1kYy1pY29uLXNpemUsIDI0cHgpKSAvIDIpfS5tZGMtaWNvbi1idXR0b24+aXtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtwYWRkaW5nLXRvcDppbmhlcml0fS5tZGMtaWNvbi1idXR0b24gaSwubWRjLWljb24tYnV0dG9uIHN2ZywubWRjLWljb24tYnV0dG9uIGltZywubWRjLWljb24tYnV0dG9uIDo6c2xvdHRlZCgqKXtkaXNwbGF5OmJsb2NrO3dpZHRoOnZhcigtLW1kYy1pY29uLXNpemUsIDI0cHgpO2hlaWdodDp2YXIoLS1tZGMtaWNvbi1zaXplLCAyNHB4KX0ubWRjLXJpcHBsZS11cGdyYWRlZDpmb2N1czo6YmVmb3JlLC5tZGMtcmlwcGxlLXVwZ3JhZGVkOmZvY3VzOjphZnRlcntiYWNrZ3JvdW5kLWNvbG9yOmN1cnJlbnRDb2xvcjtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLW1kYy10aGVtZS1vbi1wcmltYXJ5LCBjdXJyZW50Q29sb3IpO29wYWNpdHk6LjEyO29wYWNpdHk6dmFyKC0tbWRjLWljb24tYnV0dG9uLXJpcHBsZS1vcGFjaXR5LCAwLjEyKX1gO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXdjLWljb24tYnV0dG9uLWNzcy5qcy5tYXAiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xueW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG5TZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG5saW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiovXG5pbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50IH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuaW1wb3J0IHsgSWNvbkJ1dHRvbkJhc2UgfSBmcm9tICcuL213Yy1pY29uLWJ1dHRvbi1iYXNlLmpzJztcbmltcG9ydCB7IHN0eWxlIH0gZnJvbSAnLi9td2MtaWNvbi1idXR0b24tY3NzLmpzJztcbmxldCBJY29uQnV0dG9uID0gY2xhc3MgSWNvbkJ1dHRvbiBleHRlbmRzIEljb25CdXR0b25CYXNlIHtcbn07XG5JY29uQnV0dG9uLnN0eWxlcyA9IHN0eWxlO1xuSWNvbkJ1dHRvbiA9IF9fZGVjb3JhdGUoW1xuICAgIGN1c3RvbUVsZW1lbnQoJ213Yy1pY29uLWJ1dHRvbicpXG5dLCBJY29uQnV0dG9uKTtcbmV4cG9ydCB7IEljb25CdXR0b24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW13Yy1pY29uLWJ1dHRvbi5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuKCgpID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAvKiBTeW1ib2xzIGZvciBwcml2YXRlIHByb3BlcnRpZXMgKi9cbiAgICBjb25zdCBfYmxvY2tpbmdFbGVtZW50cyA9IFN5bWJvbCgpO1xuICAgIGNvbnN0IF9hbHJlYWR5SW5lcnRFbGVtZW50cyA9IFN5bWJvbCgpO1xuICAgIGNvbnN0IF90b3BFbFBhcmVudHMgPSBTeW1ib2woKTtcbiAgICBjb25zdCBfc2libGluZ3NUb1Jlc3RvcmUgPSBTeW1ib2woKTtcbiAgICBjb25zdCBfcGFyZW50TU8gPSBTeW1ib2woKTtcbiAgICAvKiBTeW1ib2xzIGZvciBwcml2YXRlIHN0YXRpYyBtZXRob2RzICovXG4gICAgY29uc3QgX3RvcENoYW5nZWQgPSBTeW1ib2woKTtcbiAgICBjb25zdCBfc3dhcEluZXJ0ZWRTaWJsaW5nID0gU3ltYm9sKCk7XG4gICAgY29uc3QgX2luZXJ0U2libGluZ3MgPSBTeW1ib2woKTtcbiAgICBjb25zdCBfcmVzdG9yZUluZXJ0ZWRTaWJsaW5ncyA9IFN5bWJvbCgpO1xuICAgIGNvbnN0IF9nZXRQYXJlbnRzID0gU3ltYm9sKCk7XG4gICAgY29uc3QgX2dldERpc3RyaWJ1dGVkQ2hpbGRyZW4gPSBTeW1ib2woKTtcbiAgICBjb25zdCBfaXNJbmVydGFibGUgPSBTeW1ib2woKTtcbiAgICBjb25zdCBfaGFuZGxlTXV0YXRpb25zID0gU3ltYm9sKCk7XG4gICAgY2xhc3MgQmxvY2tpbmdFbGVtZW50c0ltcGwge1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGhlIGJsb2NraW5nIGVsZW1lbnRzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzW19hXSA9IFtdO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBVc2VkIHRvIGtlZXAgdHJhY2sgb2YgdGhlIHBhcmVudHMgb2YgdGhlIHRvcCBlbGVtZW50LCBmcm9tIHRoZSBlbGVtZW50XG4gICAgICAgICAgICAgKiBpdHNlbGYgdXAgdG8gYm9keS4gV2hlbiB0b3AgY2hhbmdlcywgdGhlIG9sZCB0b3AgbWlnaHQgaGF2ZSBiZWVuIHJlbW92ZWRcbiAgICAgICAgICAgICAqIGZyb20gdGhlIGRvY3VtZW50LCBzbyB3ZSBuZWVkIHRvIG1lbW9pemUgdGhlIGluZXJ0ZWQgcGFyZW50cycgc2libGluZ3NcbiAgICAgICAgICAgICAqIGluIG9yZGVyIHRvIHJlc3RvcmUgdGhlaXIgaW5lcnRlbmVzcyB3aGVuIHRvcCBjaGFuZ2VzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzW19iXSA9IFtdO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBFbGVtZW50cyB0aGF0IGFyZSBhbHJlYWR5IGluZXJ0IGJlZm9yZSB0aGUgZmlyc3QgYmxvY2tpbmcgZWxlbWVudCBpc1xuICAgICAgICAgICAgICogcHVzaGVkLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzW19jXSA9IG5ldyBTZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBkZXN0cnVjdG9yKCkge1xuICAgICAgICAgICAgLy8gUmVzdG9yZSBvcmlnaW5hbCBpbmVydG5lc3MuXG4gICAgICAgICAgICB0aGlzW19yZXN0b3JlSW5lcnRlZFNpYmxpbmdzXSh0aGlzW190b3BFbFBhcmVudHNdKTtcbiAgICAgICAgICAgIC8vIE5vdGUgd2UgZG9uJ3Qgd2FudCB0byBtYWtlIHRoZXNlIHByb3BlcnRpZXMgbnVsbGFibGUgb24gdGhlIGNsYXNzLFxuICAgICAgICAgICAgLy8gc2luY2UgdGhlbiB3ZSdkIG5lZWQgbm9uLW51bGwgY2FzdHMgaW4gbWFueSBwbGFjZXMuIENhbGxpbmcgYSBtZXRob2Qgb25cbiAgICAgICAgICAgIC8vIGEgQmxvY2tpbmdFbGVtZW50cyBpbnN0YW5jZSBhZnRlciBjYWxsaW5nIGRlc3RydWN0b3Igd2lsbCByZXN1bHQgaW4gYW5cbiAgICAgICAgICAgIC8vIGV4Y2VwdGlvbi5cbiAgICAgICAgICAgIGNvbnN0IG51bGxhYmxlID0gdGhpcztcbiAgICAgICAgICAgIG51bGxhYmxlW19ibG9ja2luZ0VsZW1lbnRzXSA9IG51bGw7XG4gICAgICAgICAgICBudWxsYWJsZVtfdG9wRWxQYXJlbnRzXSA9IG51bGw7XG4gICAgICAgICAgICBudWxsYWJsZVtfYWxyZWFkeUluZXJ0RWxlbWVudHNdID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBnZXQgdG9wKCkge1xuICAgICAgICAgICAgY29uc3QgZWxlbXMgPSB0aGlzW19ibG9ja2luZ0VsZW1lbnRzXTtcbiAgICAgICAgICAgIHJldHVybiBlbGVtc1tlbGVtcy5sZW5ndGggLSAxXSB8fCBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHB1c2goZWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50IHx8IGVsZW1lbnQgPT09IHRoaXMudG9wKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVtb3ZlIGl0IGZyb20gdGhlIHN0YWNrLCB3ZSdsbCBicmluZyBpdCB0byB0aGUgdG9wLlxuICAgICAgICAgICAgdGhpcy5yZW1vdmUoZWxlbWVudCk7XG4gICAgICAgICAgICB0aGlzW190b3BDaGFuZ2VkXShlbGVtZW50KTtcbiAgICAgICAgICAgIHRoaXNbX2Jsb2NraW5nRWxlbWVudHNdLnB1c2goZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSB0aGlzW19ibG9ja2luZ0VsZW1lbnRzXS5pbmRleE9mKGVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKGkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpc1tfYmxvY2tpbmdFbGVtZW50c10uc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgLy8gVG9wIGNoYW5nZWQgb25seSBpZiB0aGUgcmVtb3ZlZCBlbGVtZW50IHdhcyB0aGUgdG9wIGVsZW1lbnQuXG4gICAgICAgICAgICBpZiAoaSA9PT0gdGhpc1tfYmxvY2tpbmdFbGVtZW50c10ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpc1tfdG9wQ2hhbmdlZF0odGhpcy50b3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcG9wKCkge1xuICAgICAgICAgICAgY29uc3QgdG9wID0gdGhpcy50b3A7XG4gICAgICAgICAgICB0b3AgJiYgdGhpcy5yZW1vdmUodG9wKTtcbiAgICAgICAgICAgIHJldHVybiB0b3A7XG4gICAgICAgIH1cbiAgICAgICAgaGFzKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzW19ibG9ja2luZ0VsZW1lbnRzXS5pbmRleE9mKGVsZW1lbnQpICE9PSAtMTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyBgaW5lcnRgIHRvIGFsbCBkb2N1bWVudCBlbGVtZW50cyBleGNlcHQgdGhlIG5ldyB0b3AgZWxlbWVudCwgaXRzXG4gICAgICAgICAqIHBhcmVudHMsIGFuZCBpdHMgZGlzdHJpYnV0ZWQgY29udGVudC5cbiAgICAgICAgICovXG4gICAgICAgIFsoX2EgPSBfYmxvY2tpbmdFbGVtZW50cywgX2IgPSBfdG9wRWxQYXJlbnRzLCBfYyA9IF9hbHJlYWR5SW5lcnRFbGVtZW50cywgX3RvcENoYW5nZWQpXShuZXdUb3ApIHtcbiAgICAgICAgICAgIGNvbnN0IHRvS2VlcEluZXJ0ID0gdGhpc1tfYWxyZWFkeUluZXJ0RWxlbWVudHNdO1xuICAgICAgICAgICAgY29uc3Qgb2xkUGFyZW50cyA9IHRoaXNbX3RvcEVsUGFyZW50c107XG4gICAgICAgICAgICAvLyBObyBuZXcgdG9wLCByZXNldCBvbGQgdG9wIGlmIGFueS5cbiAgICAgICAgICAgIGlmICghbmV3VG9wKSB7XG4gICAgICAgICAgICAgICAgdGhpc1tfcmVzdG9yZUluZXJ0ZWRTaWJsaW5nc10ob2xkUGFyZW50cyk7XG4gICAgICAgICAgICAgICAgdG9LZWVwSW5lcnQuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzW190b3BFbFBhcmVudHNdID0gW107XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbmV3UGFyZW50cyA9IHRoaXNbX2dldFBhcmVudHNdKG5ld1RvcCk7XG4gICAgICAgICAgICAvLyBOZXcgdG9wIGlzIG5vdCBjb250YWluZWQgaW4gdGhlIG1haW4gZG9jdW1lbnQhXG4gICAgICAgICAgICBpZiAobmV3UGFyZW50c1tuZXdQYXJlbnRzLmxlbmd0aCAtIDFdLnBhcmVudE5vZGUgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignTm9uLWNvbm5lY3RlZCBlbGVtZW50IGNhbm5vdCBiZSBhIGJsb2NraW5nIGVsZW1lbnQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENhc3QgaGVyZSBiZWNhdXNlIHdlIGtub3cgd2UnbGwgY2FsbCBfaW5lcnRTaWJsaW5ncyBvbiBuZXdQYXJlbnRzXG4gICAgICAgICAgICAvLyBiZWxvdy5cbiAgICAgICAgICAgIHRoaXNbX3RvcEVsUGFyZW50c10gPSBuZXdQYXJlbnRzO1xuICAgICAgICAgICAgY29uc3QgdG9Ta2lwID0gdGhpc1tfZ2V0RGlzdHJpYnV0ZWRDaGlsZHJlbl0obmV3VG9wKTtcbiAgICAgICAgICAgIC8vIE5vIHByZXZpb3VzIHRvcCBlbGVtZW50LlxuICAgICAgICAgICAgaWYgKCFvbGRQYXJlbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXNbX2luZXJ0U2libGluZ3NdKG5ld1BhcmVudHMsIHRvU2tpcCwgdG9LZWVwSW5lcnQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBpID0gb2xkUGFyZW50cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgbGV0IGogPSBuZXdQYXJlbnRzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAvLyBGaW5kIGNvbW1vbiBwYXJlbnQuIEluZGV4IDAgaXMgdGhlIGVsZW1lbnQgaXRzZWxmIChzbyBzdG9wIGJlZm9yZSBpdCkuXG4gICAgICAgICAgICB3aGlsZSAoaSA+IDAgJiYgaiA+IDAgJiYgb2xkUGFyZW50c1tpXSA9PT0gbmV3UGFyZW50c1tqXSkge1xuICAgICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgICAgICBqLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB1cCB0aGUgcGFyZW50cyB0cmVlIHRoZXJlIGFyZSAyIGVsZW1lbnRzIHRoYXQgYXJlIHNpYmxpbmdzLCBzd2FwXG4gICAgICAgICAgICAvLyB0aGUgaW5lcnRlZCBzaWJsaW5nLlxuICAgICAgICAgICAgaWYgKG9sZFBhcmVudHNbaV0gIT09IG5ld1BhcmVudHNbal0pIHtcbiAgICAgICAgICAgICAgICB0aGlzW19zd2FwSW5lcnRlZFNpYmxpbmddKG9sZFBhcmVudHNbaV0sIG5ld1BhcmVudHNbal0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVzdG9yZSBvbGQgcGFyZW50cyBzaWJsaW5ncyBpbmVydG5lc3MuXG4gICAgICAgICAgICBpID4gMCAmJiB0aGlzW19yZXN0b3JlSW5lcnRlZFNpYmxpbmdzXShvbGRQYXJlbnRzLnNsaWNlKDAsIGkpKTtcbiAgICAgICAgICAgIC8vIE1ha2UgbmV3IHBhcmVudHMgc2libGluZ3MgaW5lcnQuXG4gICAgICAgICAgICBqID4gMCAmJiB0aGlzW19pbmVydFNpYmxpbmdzXShuZXdQYXJlbnRzLnNsaWNlKDAsIGopLCB0b1NraXAsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTd2FwcyBpbmVydG5lc3MgYmV0d2VlbiB0d28gc2libGluZyBlbGVtZW50cy5cbiAgICAgICAgICogU2V0cyB0aGUgcHJvcGVydHkgYGluZXJ0YCBvdmVyIHRoZSBhdHRyaWJ1dGUgc2luY2UgdGhlIGluZXJ0IHNwZWNcbiAgICAgICAgICogZG9lc24ndCBzcGVjaWZ5IGlmIGl0IHNob3VsZCBiZSByZWZsZWN0ZWQuXG4gICAgICAgICAqIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2ludGVyYWN0aW9uLmh0bWwjaW5lcnRcbiAgICAgICAgICovXG4gICAgICAgIFtfc3dhcEluZXJ0ZWRTaWJsaW5nXShvbGRJbmVydCwgbmV3SW5lcnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHNpYmxpbmdzVG9SZXN0b3JlID0gb2xkSW5lcnRbX3NpYmxpbmdzVG9SZXN0b3JlXTtcbiAgICAgICAgICAgIC8vIG9sZEluZXJ0IGlzIG5vdCBjb250YWluZWQgaW4gc2libGluZ3MgdG8gcmVzdG9yZSwgc28gd2UgaGF2ZSB0byBjaGVja1xuICAgICAgICAgICAgLy8gaWYgaXQncyBpbmVydGFibGUgYW5kIGlmIGFscmVhZHkgaW5lcnQuXG4gICAgICAgICAgICBpZiAodGhpc1tfaXNJbmVydGFibGVdKG9sZEluZXJ0KSAmJiAhb2xkSW5lcnQuaW5lcnQpIHtcbiAgICAgICAgICAgICAgICBvbGRJbmVydC5pbmVydCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2libGluZ3NUb1Jlc3RvcmUuYWRkKG9sZEluZXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIG5ld0luZXJ0IHdhcyBhbHJlYWR5IGJldHdlZW4gdGhlIHNpYmxpbmdzIHRvIHJlc3RvcmUsIGl0IG1lYW5zIGl0IGlzXG4gICAgICAgICAgICAvLyBpbmVydGFibGUgYW5kIG11c3QgYmUgcmVzdG9yZWQuXG4gICAgICAgICAgICBpZiAoc2libGluZ3NUb1Jlc3RvcmUuaGFzKG5ld0luZXJ0KSkge1xuICAgICAgICAgICAgICAgIG5ld0luZXJ0LmluZXJ0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2libGluZ3NUb1Jlc3RvcmUuZGVsZXRlKG5ld0luZXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld0luZXJ0W19wYXJlbnRNT10gPSBvbGRJbmVydFtfcGFyZW50TU9dO1xuICAgICAgICAgICAgbmV3SW5lcnRbX3NpYmxpbmdzVG9SZXN0b3JlXSA9IHNpYmxpbmdzVG9SZXN0b3JlO1xuICAgICAgICAgICAgb2xkSW5lcnRbX3BhcmVudE1PXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIG9sZEluZXJ0W19zaWJsaW5nc1RvUmVzdG9yZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlc3RvcmVzIG9yaWdpbmFsIGluZXJ0bmVzcyB0byB0aGUgc2libGluZ3Mgb2YgdGhlIGVsZW1lbnRzLlxuICAgICAgICAgKiBTZXRzIHRoZSBwcm9wZXJ0eSBgaW5lcnRgIG92ZXIgdGhlIGF0dHJpYnV0ZSBzaW5jZSB0aGUgaW5lcnQgc3BlY1xuICAgICAgICAgKiBkb2Vzbid0IHNwZWNpZnkgaWYgaXQgc2hvdWxkIGJlIHJlZmxlY3RlZC5cbiAgICAgICAgICogaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvaW50ZXJhY3Rpb24uaHRtbCNpbmVydFxuICAgICAgICAgKi9cbiAgICAgICAgW19yZXN0b3JlSW5lcnRlZFNpYmxpbmdzXShlbGVtZW50cykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbW8gPSBlbGVtZW50W19wYXJlbnRNT107XG4gICAgICAgICAgICAgICAgbW8uZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnRbX3BhcmVudE1PXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBjb25zdCBzaWJsaW5ncyA9IGVsZW1lbnRbX3NpYmxpbmdzVG9SZXN0b3JlXTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNpYmxpbmcgb2Ygc2libGluZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgc2libGluZy5pbmVydCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbGVtZW50W19zaWJsaW5nc1RvUmVzdG9yZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZXJ0cyB0aGUgc2libGluZ3Mgb2YgdGhlIGVsZW1lbnRzIGV4Y2VwdCB0aGUgZWxlbWVudHMgdG8gc2tpcC4gU3RvcmVzXG4gICAgICAgICAqIHRoZSBpbmVydGVkIHNpYmxpbmdzIGludG8gdGhlIGVsZW1lbnQncyBzeW1ib2wgYF9zaWJsaW5nc1RvUmVzdG9yZWAuXG4gICAgICAgICAqIFBhc3MgYHRvS2VlcEluZXJ0YCB0byBjb2xsZWN0IHRoZSBhbHJlYWR5IGluZXJ0IGVsZW1lbnRzLlxuICAgICAgICAgKiBTZXRzIHRoZSBwcm9wZXJ0eSBgaW5lcnRgIG92ZXIgdGhlIGF0dHJpYnV0ZSBzaW5jZSB0aGUgaW5lcnQgc3BlY1xuICAgICAgICAgKiBkb2Vzbid0IHNwZWNpZnkgaWYgaXQgc2hvdWxkIGJlIHJlZmxlY3RlZC5cbiAgICAgICAgICogaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvaW50ZXJhY3Rpb24uaHRtbCNpbmVydFxuICAgICAgICAgKi9cbiAgICAgICAgW19pbmVydFNpYmxpbmdzXShlbGVtZW50cywgdG9Ta2lwLCB0b0tlZXBJbmVydCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgLy8gQXNzdW1lIGVsZW1lbnQgaXMgbm90IGEgRG9jdW1lbnQsIHNvIGl0IG11c3QgaGF2ZSBhIHBhcmVudE5vZGUuXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gcGFyZW50LmNoaWxkcmVuO1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZXJ0ZWRTaWJsaW5ncyA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpYmxpbmcgPSBjaGlsZHJlbltqXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCB0aGUgaW5wdXQgZWxlbWVudCwgaWYgbm90IGluZXJ0YWJsZSBvciB0byBiZSBza2lwcGVkLlxuICAgICAgICAgICAgICAgICAgICBpZiAoc2libGluZyA9PT0gZWxlbWVudCB8fCAhdGhpc1tfaXNJbmVydGFibGVdKHNpYmxpbmcpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAodG9Ta2lwICYmIHRvU2tpcC5oYXMoc2libGluZykpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBTaG91bGQgYmUgY29sbGVjdGVkIHNpbmNlIGFscmVhZHkgaW5lcnRlZC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvS2VlcEluZXJ0ICYmIHNpYmxpbmcuaW5lcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvS2VlcEluZXJ0LmFkZChzaWJsaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpYmxpbmcuaW5lcnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5lcnRlZFNpYmxpbmdzLmFkZChzaWJsaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTdG9yZSB0aGUgc2libGluZ3MgdGhhdCB3ZXJlIGluZXJ0ZWQuXG4gICAgICAgICAgICAgICAgZWxlbWVudFtfc2libGluZ3NUb1Jlc3RvcmVdID0gaW5lcnRlZFNpYmxpbmdzO1xuICAgICAgICAgICAgICAgIC8vIE9ic2VydmUgb25seSBpbW1lZGlhdGUgY2hpbGRyZW4gbXV0YXRpb25zIG9uIHRoZSBwYXJlbnQuXG4gICAgICAgICAgICAgICAgY29uc3QgbW8gPSBuZXcgTXV0YXRpb25PYnNlcnZlcih0aGlzW19oYW5kbGVNdXRhdGlvbnNdLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnRbX3BhcmVudE1PXSA9IG1vO1xuICAgICAgICAgICAgICAgIGxldCBwYXJlbnRUb09ic2VydmUgPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UncmUgdXNpbmcgdGhlIFNoYWR5RE9NIHBvbHlmaWxsLCB0aGVuIG91ciBwYXJlbnQgY291bGQgYmUgYVxuICAgICAgICAgICAgICAgIC8vIHNoYWR5IHJvb3QsIHdoaWNoIGlzIGFuIG9iamVjdCB0aGF0IGFjdHMgbGlrZSBhIFNoYWRvd1Jvb3QsIGJ1dCBpc24ndFxuICAgICAgICAgICAgICAgIC8vIGFjdHVhbGx5IGEgbm9kZSBpbiB0aGUgcmVhbCBET00uIE9ic2VydmUgdGhlIHJlYWwgRE9NIHBhcmVudCBpbnN0ZWFkLlxuICAgICAgICAgICAgICAgIGNvbnN0IG1heWJlU2hhZHlSb290ID0gcGFyZW50VG9PYnNlcnZlO1xuICAgICAgICAgICAgICAgIGlmIChtYXliZVNoYWR5Um9vdC5fX3NoYWR5ICYmIG1heWJlU2hhZHlSb290Lmhvc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50VG9PYnNlcnZlID0gbWF5YmVTaGFkeVJvb3QuaG9zdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbW8ub2JzZXJ2ZShwYXJlbnRUb09ic2VydmUsIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYW5kbGVzIG5ld2x5IGFkZGVkL3JlbW92ZWQgbm9kZXMgYnkgdG9nZ2xpbmcgdGhlaXIgaW5lcnRuZXNzLlxuICAgICAgICAgKiBJdCBhbHNvIGNoZWNrcyBpZiB0aGUgY3VycmVudCB0b3AgQmxvY2tpbmcgRWxlbWVudCBoYXMgYmVlbiByZW1vdmVkLFxuICAgICAgICAgKiBub3RpZnlpbmcgYW5kIHJlbW92aW5nIGl0LlxuICAgICAgICAgKi9cbiAgICAgICAgW19oYW5kbGVNdXRhdGlvbnNdKG11dGF0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50cyA9IHRoaXNbX3RvcEVsUGFyZW50c107XG4gICAgICAgICAgICBjb25zdCB0b0tlZXBJbmVydCA9IHRoaXNbX2FscmVhZHlJbmVydEVsZW1lbnRzXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHRhcmdldCBpcyBhIHNoYWRvd1Jvb3QsIGdldCBpdHMgaG9zdCBhcyB3ZSBza2lwIHNoYWRvd1Jvb3RzIHdoZW5cbiAgICAgICAgICAgICAgICAvLyBjb21wdXRpbmcgX3RvcEVsUGFyZW50cy5cbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBtdXRhdGlvbi50YXJnZXQuaG9zdCB8fCBtdXRhdGlvbi50YXJnZXQ7XG4gICAgICAgICAgICAgICAgY29uc3QgaWR4ID0gdGFyZ2V0ID09PSBkb2N1bWVudC5ib2R5ID9cbiAgICAgICAgICAgICAgICAgICAgcGFyZW50cy5sZW5ndGggOlxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRzLmluZGV4T2YodGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmVydGVkQ2hpbGQgPSBwYXJlbnRzW2lkeCAtIDFdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZXJ0ZWRTaWJsaW5ncyA9IGluZXJ0ZWRDaGlsZFtfc2libGluZ3NUb1Jlc3RvcmVdO1xuICAgICAgICAgICAgICAgIC8vIFRvIHJlc3RvcmUuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtdXRhdGlvbi5yZW1vdmVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2libGluZyA9IG11dGF0aW9uLnJlbW92ZWROb2Rlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpYmxpbmcgPT09IGluZXJ0ZWRDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKCdEZXRlY3RlZCByZW1vdmFsIG9mIHRoZSB0b3AgQmxvY2tpbmcgRWxlbWVudC4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZXJ0ZWRTaWJsaW5ncy5oYXMoc2libGluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpYmxpbmcuaW5lcnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZXJ0ZWRTaWJsaW5ncy5kZWxldGUoc2libGluZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVG8gaW5lcnQuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtdXRhdGlvbi5hZGRlZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpYmxpbmcgPSBtdXRhdGlvbi5hZGRlZE5vZGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXNbX2lzSW5lcnRhYmxlXShzaWJsaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvS2VlcEluZXJ0ICYmIHNpYmxpbmcuaW5lcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvS2VlcEluZXJ0LmFkZChzaWJsaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpYmxpbmcuaW5lcnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5lcnRlZFNpYmxpbmdzLmFkZChzaWJsaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyBpZiB0aGUgZWxlbWVudCBpcyBpbmVydGFibGUuXG4gICAgICAgICAqL1xuICAgICAgICBbX2lzSW5lcnRhYmxlXShlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2UgPT09IC9eKHN0eWxlfHRlbXBsYXRlfHNjcmlwdCkkLy50ZXN0KGVsZW1lbnQubG9jYWxOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgbGlzdCBvZiBuZXdQYXJlbnRzIG9mIGFuIGVsZW1lbnQsIHN0YXJ0aW5nIGZyb20gZWxlbWVudFxuICAgICAgICAgKiAoaW5jbHVkZWQpIHVwIHRvIGBkb2N1bWVudC5ib2R5YCAoZXhjbHVkZWQpLlxuICAgICAgICAgKi9cbiAgICAgICAgW19nZXRQYXJlbnRzXShlbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRzID0gW107XG4gICAgICAgICAgICBsZXQgY3VycmVudCA9IGVsZW1lbnQ7XG4gICAgICAgICAgICAvLyBTdG9wIHRvIGJvZHkuXG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50ICE9PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgICAgICAgICAgLy8gU2tpcCBzaGFkb3cgcm9vdHMuXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudHMucHVzaChjdXJyZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU2hhZG93RG9tIHYxXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQuYXNzaWduZWRTbG90KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENvbGxlY3Qgc2xvdHMgZnJvbSBkZWVwZXN0IHNsb3QgdG8gdG9wLlxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY3VycmVudCA9IGN1cnJlbnQuYXNzaWduZWRTbG90KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRzLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQ29udGludWUgdGhlIHNlYXJjaCBvbiB0aGUgdG9wIHNsb3QuXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBwYXJlbnRzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50Tm9kZSB8fFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50Lmhvc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50cztcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgZGlzdHJpYnV0ZWQgY2hpbGRyZW4gb2YgdGhlIGVsZW1lbnQncyBzaGFkb3cgcm9vdC5cbiAgICAgICAgICogUmV0dXJucyBudWxsIGlmIHRoZSBlbGVtZW50IGRvZXNuJ3QgaGF2ZSBhIHNoYWRvdyByb290LlxuICAgICAgICAgKi9cbiAgICAgICAgW19nZXREaXN0cmlidXRlZENoaWxkcmVuXShlbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBzaGFkb3dSb290ID0gZWxlbWVudC5zaGFkb3dSb290O1xuICAgICAgICAgICAgaWYgKCFzaGFkb3dSb290KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICBsZXQgaTtcbiAgICAgICAgICAgIGxldCBqO1xuICAgICAgICAgICAgbGV0IG5vZGVzO1xuICAgICAgICAgICAgY29uc3Qgc2xvdHMgPSBzaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3JBbGwoJ3Nsb3QnKTtcbiAgICAgICAgICAgIGlmIChzbG90cy5sZW5ndGggJiYgc2xvdHNbMF0uYXNzaWduZWROb2Rlcykge1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzbG90cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBub2RlcyA9IHNsb3RzW2ldLmFzc2lnbmVkTm9kZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZmxhdHRlbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBub2Rlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGVzW2pdLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hZGQobm9kZXNbal0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIE5vIG5lZWQgdG8gc2VhcmNoIGZvciA8Y29udGVudD4uXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGRvY3VtZW50LiRibG9ja2luZ0VsZW1lbnRzID1cbiAgICAgICAgbmV3IEJsb2NraW5nRWxlbWVudHNJbXBsKCk7XG59KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmxvY2tpbmctZWxlbWVudHMuanMubWFwIiwiLyoqXG4gKiBUaGlzIHdvcmsgaXMgbGljZW5zZWQgdW5kZXIgdGhlIFczQyBTb2Z0d2FyZSBhbmQgRG9jdW1lbnQgTGljZW5zZVxuICogKGh0dHA6Ly93d3cudzMub3JnL0NvbnNvcnRpdW0vTGVnYWwvMjAxNS9jb3B5cmlnaHQtc29mdHdhcmUtYW5kLWRvY3VtZW50KS5cbiAqL1xuXG4vLyBDb252ZW5pZW5jZSBmdW5jdGlvbiBmb3IgY29udmVydGluZyBOb2RlTGlzdHMuXG4vKiogQHR5cGUge3R5cGVvZiBBcnJheS5wcm90b3R5cGUuc2xpY2V9ICovXG5jb25zdCBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuLyoqXG4gKiBJRSBoYXMgYSBub24tc3RhbmRhcmQgbmFtZSBmb3IgXCJtYXRjaGVzXCIuXG4gKiBAdHlwZSB7dHlwZW9mIEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXN9XG4gKi9cbmNvbnN0IG1hdGNoZXMgPVxuICAgIEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMgfHwgRWxlbWVudC5wcm90b3R5cGUubXNNYXRjaGVzU2VsZWN0b3I7XG5cbi8qKiBAdHlwZSB7c3RyaW5nfSAqL1xuY29uc3QgX2ZvY3VzYWJsZUVsZW1lbnRzU3RyaW5nID0gWydhW2hyZWZdJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYXJlYVtocmVmXScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lucHV0Om5vdChbZGlzYWJsZWRdKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NlbGVjdDpub3QoW2Rpc2FibGVkXSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdidXR0b246bm90KFtkaXNhYmxlZF0pJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGV0YWlscycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N1bW1hcnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZnJhbWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvYmplY3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlbWJlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1tjb250ZW50ZWRpdGFibGVdJ10uam9pbignLCcpO1xuXG4vKipcbiAqIGBJbmVydFJvb3RgIG1hbmFnZXMgYSBzaW5nbGUgaW5lcnQgc3VidHJlZSwgaS5lLiBhIERPTSBzdWJ0cmVlIHdob3NlIHJvb3QgZWxlbWVudCBoYXMgYW4gYGluZXJ0YFxuICogYXR0cmlidXRlLlxuICpcbiAqIEl0cyBtYWluIGZ1bmN0aW9ucyBhcmU6XG4gKlxuICogLSB0byBjcmVhdGUgYW5kIG1haW50YWluIGEgc2V0IG9mIG1hbmFnZWQgYEluZXJ0Tm9kZWBzLCBpbmNsdWRpbmcgd2hlbiBtdXRhdGlvbnMgb2NjdXIgaW4gdGhlXG4gKiAgIHN1YnRyZWUuIFRoZSBgbWFrZVN1YnRyZWVVbmZvY3VzYWJsZSgpYCBtZXRob2QgaGFuZGxlcyBjb2xsZWN0aW5nIGBJbmVydE5vZGVgcyB2aWEgcmVnaXN0ZXJpbmdcbiAqICAgZWFjaCBmb2N1c2FibGUgbm9kZSBpbiB0aGUgc3VidHJlZSB3aXRoIHRoZSBzaW5nbGV0b24gYEluZXJ0TWFuYWdlcmAgd2hpY2ggbWFuYWdlcyBhbGwga25vd25cbiAqICAgZm9jdXNhYmxlIG5vZGVzIHdpdGhpbiBpbmVydCBzdWJ0cmVlcy4gYEluZXJ0TWFuYWdlcmAgZW5zdXJlcyB0aGF0IGEgc2luZ2xlIGBJbmVydE5vZGVgXG4gKiAgIGluc3RhbmNlIGV4aXN0cyBmb3IgZWFjaCBmb2N1c2FibGUgbm9kZSB3aGljaCBoYXMgYXQgbGVhc3Qgb25lIGluZXJ0IHJvb3QgYXMgYW4gYW5jZXN0b3IuXG4gKlxuICogLSB0byBub3RpZnkgYWxsIG1hbmFnZWQgYEluZXJ0Tm9kZWBzIHdoZW4gdGhpcyBzdWJ0cmVlIHN0b3BzIGJlaW5nIGluZXJ0IChpLmUuIHdoZW4gdGhlIGBpbmVydGBcbiAqICAgYXR0cmlidXRlIGlzIHJlbW92ZWQgZnJvbSB0aGUgcm9vdCBub2RlKS4gVGhpcyBpcyBoYW5kbGVkIGluIHRoZSBkZXN0cnVjdG9yLCB3aGljaCBjYWxscyB0aGVcbiAqICAgYGRlcmVnaXN0ZXJgIG1ldGhvZCBvbiBgSW5lcnRNYW5hZ2VyYCBmb3IgZWFjaCBtYW5hZ2VkIGluZXJ0IG5vZGUuXG4gKi9cbmNsYXNzIEluZXJ0Um9vdCB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSByb290RWxlbWVudCBUaGUgRWxlbWVudCBhdCB0aGUgcm9vdCBvZiB0aGUgaW5lcnQgc3VidHJlZS5cbiAgICogQHBhcmFtIHshSW5lcnRNYW5hZ2VyfSBpbmVydE1hbmFnZXIgVGhlIGdsb2JhbCBzaW5nbGV0b24gSW5lcnRNYW5hZ2VyIG9iamVjdC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHJvb3RFbGVtZW50LCBpbmVydE1hbmFnZXIpIHtcbiAgICAvKiogQHR5cGUgeyFJbmVydE1hbmFnZXJ9ICovXG4gICAgdGhpcy5faW5lcnRNYW5hZ2VyID0gaW5lcnRNYW5hZ2VyO1xuXG4gICAgLyoqIEB0eXBlIHshRWxlbWVudH0gKi9cbiAgICB0aGlzLl9yb290RWxlbWVudCA9IHJvb3RFbGVtZW50O1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgeyFTZXQ8IUluZXJ0Tm9kZT59XG4gICAgICogQWxsIG1hbmFnZWQgZm9jdXNhYmxlIG5vZGVzIGluIHRoaXMgSW5lcnRSb290J3Mgc3VidHJlZS5cbiAgICAgKi9cbiAgICB0aGlzLl9tYW5hZ2VkTm9kZXMgPSBuZXcgU2V0KCk7XG5cbiAgICAvLyBNYWtlIHRoZSBzdWJ0cmVlIGhpZGRlbiBmcm9tIGFzc2lzdGl2ZSB0ZWNobm9sb2d5XG4gICAgaWYgKHRoaXMuX3Jvb3RFbGVtZW50Lmhhc0F0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKSkge1xuICAgICAgLyoqIEB0eXBlIHs/c3RyaW5nfSAqL1xuICAgICAgdGhpcy5fc2F2ZWRBcmlhSGlkZGVuID0gdGhpcy5fcm9vdEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zYXZlZEFyaWFIaWRkZW4gPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLl9yb290RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcblxuICAgIC8vIE1ha2UgYWxsIGZvY3VzYWJsZSBlbGVtZW50cyBpbiB0aGUgc3VidHJlZSB1bmZvY3VzYWJsZSBhbmQgYWRkIHRoZW0gdG8gX21hbmFnZWROb2Rlc1xuICAgIHRoaXMuX21ha2VTdWJ0cmVlVW5mb2N1c2FibGUodGhpcy5fcm9vdEVsZW1lbnQpO1xuXG4gICAgLy8gV2F0Y2ggZm9yOlxuICAgIC8vIC0gYW55IGFkZGl0aW9ucyBpbiB0aGUgc3VidHJlZTogbWFrZSB0aGVtIHVuZm9jdXNhYmxlIHRvb1xuICAgIC8vIC0gYW55IHJlbW92YWxzIGZyb20gdGhlIHN1YnRyZWU6IHJlbW92ZSB0aGVtIGZyb20gdGhpcyBpbmVydCByb290J3MgbWFuYWdlZCBub2Rlc1xuICAgIC8vIC0gYXR0cmlidXRlIGNoYW5nZXM6IGlmIGB0YWJpbmRleGAgaXMgYWRkZWQsIG9yIHJlbW92ZWQgZnJvbSBhbiBpbnRyaW5zaWNhbGx5IGZvY3VzYWJsZVxuICAgIC8vICAgZWxlbWVudCwgbWFrZSB0aGF0IG5vZGUgYSBtYW5hZ2VkIG5vZGUuXG4gICAgdGhpcy5fb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcih0aGlzLl9vbk11dGF0aW9uLmJpbmQodGhpcykpO1xuICAgIHRoaXMuX29ic2VydmVyLm9ic2VydmUodGhpcy5fcm9vdEVsZW1lbnQsIHthdHRyaWJ1dGVzOiB0cnVlLCBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWV9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsIHRoaXMgd2hlbmV2ZXIgdGhpcyBvYmplY3QgaXMgYWJvdXQgdG8gYmVjb21lIG9ic29sZXRlLiAgVGhpcyB1bndpbmRzIGFsbCBvZiB0aGUgc3RhdGVcbiAgICogc3RvcmVkIGluIHRoaXMgb2JqZWN0IGFuZCB1cGRhdGVzIHRoZSBzdGF0ZSBvZiBhbGwgb2YgdGhlIG1hbmFnZWQgbm9kZXMuXG4gICAqL1xuICBkZXN0cnVjdG9yKCkge1xuICAgIHRoaXMuX29ic2VydmVyLmRpc2Nvbm5lY3QoKTtcblxuICAgIGlmICh0aGlzLl9yb290RWxlbWVudCkge1xuICAgICAgaWYgKHRoaXMuX3NhdmVkQXJpYUhpZGRlbiAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9yb290RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgdGhpcy5fc2F2ZWRBcmlhSGlkZGVuKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3Jvb3RFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9tYW5hZ2VkTm9kZXMuZm9yRWFjaChmdW5jdGlvbihpbmVydE5vZGUpIHtcbiAgICAgIHRoaXMuX3VubWFuYWdlTm9kZShpbmVydE5vZGUubm9kZSk7XG4gICAgfSwgdGhpcyk7XG5cbiAgICAvLyBOb3RlIHdlIGNhc3QgdGhlIG51bGxzIHRvIHRoZSBBTlkgdHlwZSBoZXJlIGJlY2F1c2U6XG4gICAgLy8gMSkgV2Ugd2FudCB0aGUgY2xhc3MgcHJvcGVydGllcyB0byBiZSBkZWNsYXJlZCBhcyBub24tbnVsbCwgb3IgZWxzZSB3ZVxuICAgIC8vICAgIG5lZWQgZXZlbiBtb3JlIGNhc3RzIHRocm91Z2hvdXQgdGhpcyBjb2RlLiBBbGwgYmV0cyBhcmUgb2ZmIGlmIGFuXG4gICAgLy8gICAgaW5zdGFuY2UgaGFzIGJlZW4gZGVzdHJveWVkIGFuZCBhIG1ldGhvZCBpcyBjYWxsZWQuXG4gICAgLy8gMikgV2UgZG9uJ3Qgd2FudCB0byBjYXN0IFwidGhpc1wiLCBiZWNhdXNlIHdlIHdhbnQgdHlwZS1hd2FyZSBvcHRpbWl6YXRpb25zXG4gICAgLy8gICAgdG8ga25vdyB3aGljaCBwcm9wZXJ0aWVzIHdlJ3JlIHNldHRpbmcuXG4gICAgdGhpcy5fb2JzZXJ2ZXIgPSAvKiogQHR5cGUgez99ICovIChudWxsKTtcbiAgICB0aGlzLl9yb290RWxlbWVudCA9IC8qKiBAdHlwZSB7P30gKi8gKG51bGwpO1xuICAgIHRoaXMuX21hbmFnZWROb2RlcyA9IC8qKiBAdHlwZSB7P30gKi8gKG51bGwpO1xuICAgIHRoaXMuX2luZXJ0TWFuYWdlciA9IC8qKiBAdHlwZSB7P30gKi8gKG51bGwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyFTZXQ8IUluZXJ0Tm9kZT59IEEgY29weSBvZiB0aGlzIEluZXJ0Um9vdCdzIG1hbmFnZWQgbm9kZXMgc2V0LlxuICAgKi9cbiAgZ2V0IG1hbmFnZWROb2RlcygpIHtcbiAgICByZXR1cm4gbmV3IFNldCh0aGlzLl9tYW5hZ2VkTm9kZXMpO1xuICB9XG5cbiAgLyoqIEByZXR1cm4ge2Jvb2xlYW59ICovXG4gIGdldCBoYXNTYXZlZEFyaWFIaWRkZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NhdmVkQXJpYUhpZGRlbiAhPT0gbnVsbDtcbiAgfVxuXG4gIC8qKiBAcGFyYW0gez9zdHJpbmd9IGFyaWFIaWRkZW4gKi9cbiAgc2V0IHNhdmVkQXJpYUhpZGRlbihhcmlhSGlkZGVuKSB7XG4gICAgdGhpcy5fc2F2ZWRBcmlhSGlkZGVuID0gYXJpYUhpZGRlbjtcbiAgfVxuXG4gIC8qKiBAcmV0dXJuIHs/c3RyaW5nfSAqL1xuICBnZXQgc2F2ZWRBcmlhSGlkZGVuKCkge1xuICAgIHJldHVybiB0aGlzLl9zYXZlZEFyaWFIaWRkZW47XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshTm9kZX0gc3RhcnROb2RlXG4gICAqL1xuICBfbWFrZVN1YnRyZWVVbmZvY3VzYWJsZShzdGFydE5vZGUpIHtcbiAgICBjb21wb3NlZFRyZWVXYWxrKHN0YXJ0Tm9kZSwgKG5vZGUpID0+IHRoaXMuX3Zpc2l0Tm9kZShub2RlKSk7XG5cbiAgICBsZXQgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cbiAgICBpZiAoIWRvY3VtZW50LmJvZHkuY29udGFpbnMoc3RhcnROb2RlKSkge1xuICAgICAgLy8gc3RhcnROb2RlIG1heSBiZSBpbiBzaGFkb3cgRE9NLCBzbyBmaW5kIGl0cyBuZWFyZXN0IHNoYWRvd1Jvb3QgdG8gZ2V0IHRoZSBhY3RpdmVFbGVtZW50LlxuICAgICAgbGV0IG5vZGUgPSBzdGFydE5vZGU7XG4gICAgICAvKiogQHR5cGUgeyFTaGFkb3dSb290fHVuZGVmaW5lZH0gKi9cbiAgICAgIGxldCByb290ID0gdW5kZWZpbmVkO1xuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERSkge1xuICAgICAgICAgIHJvb3QgPSAvKiogQHR5cGUgeyFTaGFkb3dSb290fSAqLyAobm9kZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgIH1cbiAgICAgIGlmIChyb290KSB7XG4gICAgICAgIGFjdGl2ZUVsZW1lbnQgPSByb290LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzdGFydE5vZGUuY29udGFpbnMoYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgIGFjdGl2ZUVsZW1lbnQuYmx1cigpO1xuICAgICAgLy8gSW4gSUUxMSwgaWYgYW4gZWxlbWVudCBpcyBhbHJlYWR5IGZvY3VzZWQsIGFuZCB0aGVuIHNldCB0byB0YWJpbmRleD0tMVxuICAgICAgLy8gY2FsbGluZyBibHVyKCkgd2lsbCBub3QgYWN0dWFsbHkgbW92ZSB0aGUgZm9jdXMuXG4gICAgICAvLyBUbyB3b3JrIGFyb3VuZCB0aGlzIHdlIGNhbGwgZm9jdXMoKSBvbiB0aGUgYm9keSBpbnN0ZWFkLlxuICAgICAgaWYgKGFjdGl2ZUVsZW1lbnQgPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5mb2N1cygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFOb2RlfSBub2RlXG4gICAqL1xuICBfdmlzaXROb2RlKG5vZGUpIHtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSAhPT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZWxlbWVudCA9IC8qKiBAdHlwZSB7IUVsZW1lbnR9ICovIChub2RlKTtcblxuICAgIC8vIElmIGEgZGVzY2VuZGFudCBpbmVydCByb290IGJlY29tZXMgdW4taW5lcnQsIGl0cyBkZXNjZW5kYW50cyB3aWxsIHN0aWxsIGJlIGluZXJ0IGJlY2F1c2Ugb2ZcbiAgICAvLyB0aGlzIGluZXJ0IHJvb3QsIHNvIGFsbCBvZiBpdHMgbWFuYWdlZCBub2RlcyBuZWVkIHRvIGJlIGFkb3B0ZWQgYnkgdGhpcyBJbmVydFJvb3QuXG4gICAgaWYgKGVsZW1lbnQgIT09IHRoaXMuX3Jvb3RFbGVtZW50ICYmIGVsZW1lbnQuaGFzQXR0cmlidXRlKCdpbmVydCcpKSB7XG4gICAgICB0aGlzLl9hZG9wdEluZXJ0Um9vdChlbGVtZW50KTtcbiAgICB9XG5cbiAgICBpZiAobWF0Y2hlcy5jYWxsKGVsZW1lbnQsIF9mb2N1c2FibGVFbGVtZW50c1N0cmluZykgfHwgZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ3RhYmluZGV4JykpIHtcbiAgICAgIHRoaXMuX21hbmFnZU5vZGUoZWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIHRoZSBnaXZlbiBub2RlIHdpdGggdGhpcyBJbmVydFJvb3QgYW5kIHdpdGggSW5lcnRNYW5hZ2VyLlxuICAgKiBAcGFyYW0geyFOb2RlfSBub2RlXG4gICAqL1xuICBfbWFuYWdlTm9kZShub2RlKSB7XG4gICAgY29uc3QgaW5lcnROb2RlID0gdGhpcy5faW5lcnRNYW5hZ2VyLnJlZ2lzdGVyKG5vZGUsIHRoaXMpO1xuICAgIHRoaXMuX21hbmFnZWROb2Rlcy5hZGQoaW5lcnROb2RlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbnJlZ2lzdGVyIHRoZSBnaXZlbiBub2RlIHdpdGggdGhpcyBJbmVydFJvb3QgYW5kIHdpdGggSW5lcnRNYW5hZ2VyLlxuICAgKiBAcGFyYW0geyFOb2RlfSBub2RlXG4gICAqL1xuICBfdW5tYW5hZ2VOb2RlKG5vZGUpIHtcbiAgICBjb25zdCBpbmVydE5vZGUgPSB0aGlzLl9pbmVydE1hbmFnZXIuZGVyZWdpc3Rlcihub2RlLCB0aGlzKTtcbiAgICBpZiAoaW5lcnROb2RlKSB7XG4gICAgICB0aGlzLl9tYW5hZ2VkTm9kZXMuZGVsZXRlKGluZXJ0Tm9kZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVucmVnaXN0ZXIgdGhlIGVudGlyZSBzdWJ0cmVlIHN0YXJ0aW5nIGF0IGBzdGFydE5vZGVgLlxuICAgKiBAcGFyYW0geyFOb2RlfSBzdGFydE5vZGVcbiAgICovXG4gIF91bm1hbmFnZVN1YnRyZWUoc3RhcnROb2RlKSB7XG4gICAgY29tcG9zZWRUcmVlV2FsayhzdGFydE5vZGUsIChub2RlKSA9PiB0aGlzLl91bm1hbmFnZU5vZGUobm9kZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIElmIGEgZGVzY2VuZGFudCBub2RlIGlzIGZvdW5kIHdpdGggYW4gYGluZXJ0YCBhdHRyaWJ1dGUsIGFkb3B0IGl0cyBtYW5hZ2VkIG5vZGVzLlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBub2RlXG4gICAqL1xuICBfYWRvcHRJbmVydFJvb3Qobm9kZSkge1xuICAgIGxldCBpbmVydFN1YnJvb3QgPSB0aGlzLl9pbmVydE1hbmFnZXIuZ2V0SW5lcnRSb290KG5vZGUpO1xuXG4gICAgLy8gRHVyaW5nIGluaXRpYWxpc2F0aW9uIHRoaXMgaW5lcnQgcm9vdCBtYXkgbm90IGhhdmUgYmVlbiByZWdpc3RlcmVkIHlldCxcbiAgICAvLyBzbyByZWdpc3RlciBpdCBub3cgaWYgbmVlZCBiZS5cbiAgICBpZiAoIWluZXJ0U3Vicm9vdCkge1xuICAgICAgdGhpcy5faW5lcnRNYW5hZ2VyLnNldEluZXJ0KG5vZGUsIHRydWUpO1xuICAgICAgaW5lcnRTdWJyb290ID0gdGhpcy5faW5lcnRNYW5hZ2VyLmdldEluZXJ0Um9vdChub2RlKTtcbiAgICB9XG5cbiAgICBpbmVydFN1YnJvb3QubWFuYWdlZE5vZGVzLmZvckVhY2goZnVuY3Rpb24oc2F2ZWRJbmVydE5vZGUpIHtcbiAgICAgIHRoaXMuX21hbmFnZU5vZGUoc2F2ZWRJbmVydE5vZGUubm9kZSk7XG4gICAgfSwgdGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGJhY2sgdXNlZCB3aGVuIG11dGF0aW9uIG9ic2VydmVyIGRldGVjdHMgc3VidHJlZSBhZGRpdGlvbnMsIHJlbW92YWxzLCBvciBhdHRyaWJ1dGUgY2hhbmdlcy5cbiAgICogQHBhcmFtIHshQXJyYXk8IU11dGF0aW9uUmVjb3JkPn0gcmVjb3Jkc1xuICAgKiBAcGFyYW0geyFNdXRhdGlvbk9ic2VydmVyfSBzZWxmXG4gICAqL1xuICBfb25NdXRhdGlvbihyZWNvcmRzLCBzZWxmKSB7XG4gICAgcmVjb3Jkcy5mb3JFYWNoKGZ1bmN0aW9uKHJlY29yZCkge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gLyoqIEB0eXBlIHshRWxlbWVudH0gKi8gKHJlY29yZC50YXJnZXQpO1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSAnY2hpbGRMaXN0Jykge1xuICAgICAgICAvLyBNYW5hZ2UgYWRkZWQgbm9kZXNcbiAgICAgICAgc2xpY2UuY2FsbChyZWNvcmQuYWRkZWROb2RlcykuZm9yRWFjaChmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgdGhpcy5fbWFrZVN1YnRyZWVVbmZvY3VzYWJsZShub2RlKTtcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgLy8gVW4tbWFuYWdlIHJlbW92ZWQgbm9kZXNcbiAgICAgICAgc2xpY2UuY2FsbChyZWNvcmQucmVtb3ZlZE5vZGVzKS5mb3JFYWNoKGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICB0aGlzLl91bm1hbmFnZVN1YnRyZWUobm9kZSk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gJ2F0dHJpYnV0ZXMnKSB7XG4gICAgICAgIGlmIChyZWNvcmQuYXR0cmlidXRlTmFtZSA9PT0gJ3RhYmluZGV4Jykge1xuICAgICAgICAgIC8vIFJlLWluaXRpYWxpc2UgaW5lcnQgbm9kZSBpZiB0YWJpbmRleCBjaGFuZ2VzXG4gICAgICAgICAgdGhpcy5fbWFuYWdlTm9kZSh0YXJnZXQpO1xuICAgICAgICB9IGVsc2UgaWYgKHRhcmdldCAhPT0gdGhpcy5fcm9vdEVsZW1lbnQgJiZcbiAgICAgICAgICAgICAgICAgICByZWNvcmQuYXR0cmlidXRlTmFtZSA9PT0gJ2luZXJ0JyAmJlxuICAgICAgICAgICAgICAgICAgIHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2luZXJ0JykpIHtcbiAgICAgICAgICAvLyBJZiBhIG5ldyBpbmVydCByb290IGlzIGFkZGVkLCBhZG9wdCBpdHMgbWFuYWdlZCBub2RlcyBhbmQgbWFrZSBzdXJlIGl0IGtub3dzIGFib3V0IHRoZVxuICAgICAgICAgIC8vIGFscmVhZHkgbWFuYWdlZCBub2RlcyBmcm9tIHRoaXMgaW5lcnQgc3Vicm9vdC5cbiAgICAgICAgICB0aGlzLl9hZG9wdEluZXJ0Um9vdCh0YXJnZXQpO1xuICAgICAgICAgIGNvbnN0IGluZXJ0U3Vicm9vdCA9IHRoaXMuX2luZXJ0TWFuYWdlci5nZXRJbmVydFJvb3QodGFyZ2V0KTtcbiAgICAgICAgICB0aGlzLl9tYW5hZ2VkTm9kZXMuZm9yRWFjaChmdW5jdGlvbihtYW5hZ2VkTm9kZSkge1xuICAgICAgICAgICAgaWYgKHRhcmdldC5jb250YWlucyhtYW5hZ2VkTm9kZS5ub2RlKSkge1xuICAgICAgICAgICAgICBpbmVydFN1YnJvb3QuX21hbmFnZU5vZGUobWFuYWdlZE5vZGUubm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB0aGlzKTtcbiAgfVxufVxuXG4vKipcbiAqIGBJbmVydE5vZGVgIGluaXRpYWxpc2VzIGFuZCBtYW5hZ2VzIGEgc2luZ2xlIGluZXJ0IG5vZGUuXG4gKiBBIG5vZGUgaXMgaW5lcnQgaWYgaXQgaXMgYSBkZXNjZW5kYW50IG9mIG9uZSBvciBtb3JlIGluZXJ0IHJvb3QgZWxlbWVudHMuXG4gKlxuICogT24gY29uc3RydWN0aW9uLCBgSW5lcnROb2RlYCBzYXZlcyB0aGUgZXhpc3RpbmcgYHRhYmluZGV4YCB2YWx1ZSBmb3IgdGhlIG5vZGUsIGlmIGFueSwgYW5kXG4gKiBlaXRoZXIgcmVtb3ZlcyB0aGUgYHRhYmluZGV4YCBhdHRyaWJ1dGUgb3Igc2V0cyBpdCB0byBgLTFgLCBkZXBlbmRpbmcgb24gd2hldGhlciB0aGUgZWxlbWVudFxuICogaXMgaW50cmluc2ljYWxseSBmb2N1c2FibGUgb3Igbm90LlxuICpcbiAqIGBJbmVydE5vZGVgIG1haW50YWlucyBhIHNldCBvZiBgSW5lcnRSb290YHMgd2hpY2ggYXJlIGRlc2NlbmRhbnRzIG9mIHRoaXMgYEluZXJ0Tm9kZWAuIFdoZW4gYW5cbiAqIGBJbmVydFJvb3RgIGlzIGRlc3Ryb3llZCwgYW5kIGNhbGxzIGBJbmVydE1hbmFnZXIuZGVyZWdpc3RlcigpYCwgdGhlIGBJbmVydE1hbmFnZXJgIG5vdGlmaWVzIHRoZVxuICogYEluZXJ0Tm9kZWAgdmlhIGByZW1vdmVJbmVydFJvb3QoKWAsIHdoaWNoIGluIHR1cm4gZGVzdHJveXMgdGhlIGBJbmVydE5vZGVgIGlmIG5vIGBJbmVydFJvb3Rgc1xuICogcmVtYWluIGluIHRoZSBzZXQuIE9uIGRlc3RydWN0aW9uLCBgSW5lcnROb2RlYCByZWluc3RhdGVzIHRoZSBzdG9yZWQgYHRhYmluZGV4YCBpZiBvbmUgZXhpc3RzLFxuICogb3IgcmVtb3ZlcyB0aGUgYHRhYmluZGV4YCBhdHRyaWJ1dGUgaWYgdGhlIGVsZW1lbnQgaXMgaW50cmluc2ljYWxseSBmb2N1c2FibGUuXG4gKi9cbmNsYXNzIEluZXJ0Tm9kZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFOb2RlfSBub2RlIEEgZm9jdXNhYmxlIGVsZW1lbnQgdG8gYmUgbWFkZSBpbmVydC5cbiAgICogQHBhcmFtIHshSW5lcnRSb290fSBpbmVydFJvb3QgVGhlIGluZXJ0IHJvb3QgZWxlbWVudCBhc3NvY2lhdGVkIHdpdGggdGhpcyBpbmVydCBub2RlLlxuICAgKi9cbiAgY29uc3RydWN0b3Iobm9kZSwgaW5lcnRSb290KSB7XG4gICAgLyoqIEB0eXBlIHshTm9kZX0gKi9cbiAgICB0aGlzLl9ub2RlID0gbm9kZTtcblxuICAgIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLl9vdmVycm9kZUZvY3VzTWV0aG9kID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7IVNldDwhSW5lcnRSb290Pn0gVGhlIHNldCBvZiBkZXNjZW5kYW50IGluZXJ0IHJvb3RzLlxuICAgICAqICAgIElmIGFuZCBvbmx5IGlmIHRoaXMgc2V0IGJlY29tZXMgZW1wdHksIHRoaXMgbm9kZSBpcyBubyBsb25nZXIgaW5lcnQuXG4gICAgICovXG4gICAgdGhpcy5faW5lcnRSb290cyA9IG5ldyBTZXQoW2luZXJ0Um9vdF0pO1xuXG4gICAgLyoqIEB0eXBlIHs/bnVtYmVyfSAqL1xuICAgIHRoaXMuX3NhdmVkVGFiSW5kZXggPSBudWxsO1xuXG4gICAgLyoqIEB0eXBlIHtib29sZWFufSAqL1xuICAgIHRoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlO1xuXG4gICAgLy8gU2F2ZSBhbnkgcHJpb3IgdGFiaW5kZXggaW5mbyBhbmQgbWFrZSB0aGlzIG5vZGUgdW50YWJiYWJsZVxuICAgIHRoaXMuZW5zdXJlVW50YWJiYWJsZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGwgdGhpcyB3aGVuZXZlciB0aGlzIG9iamVjdCBpcyBhYm91dCB0byBiZWNvbWUgb2Jzb2xldGUuXG4gICAqIFRoaXMgbWFrZXMgdGhlIG1hbmFnZWQgbm9kZSBmb2N1c2FibGUgYWdhaW4gYW5kIGRlbGV0ZXMgYWxsIG9mIHRoZSBwcmV2aW91c2x5IHN0b3JlZCBzdGF0ZS5cbiAgICovXG4gIGRlc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fdGhyb3dJZkRlc3Ryb3llZCgpO1xuXG4gICAgaWYgKHRoaXMuX25vZGUgJiYgdGhpcy5fbm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSAvKiogQHR5cGUgeyFFbGVtZW50fSAqLyAodGhpcy5fbm9kZSk7XG4gICAgICBpZiAodGhpcy5fc2F2ZWRUYWJJbmRleCAhPT0gbnVsbCkge1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCB0aGlzLl9zYXZlZFRhYkluZGV4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCd0YWJpbmRleCcpO1xuICAgICAgfVxuXG4gICAgICAvLyBVc2UgYGRlbGV0ZWAgdG8gcmVzdG9yZSBuYXRpdmUgZm9jdXMgbWV0aG9kLlxuICAgICAgaWYgKHRoaXMuX292ZXJyb2RlRm9jdXNNZXRob2QpIHtcbiAgICAgICAgZGVsZXRlIGVsZW1lbnQuZm9jdXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2VlIG5vdGUgaW4gSW5lcnRSb290LmRlc3RydWN0b3IgZm9yIHdoeSB3ZSBjYXN0IHRoZXNlIG51bGxzIHRvIEFOWS5cbiAgICB0aGlzLl9ub2RlID0gLyoqIEB0eXBlIHs/fSAqLyAobnVsbCk7XG4gICAgdGhpcy5faW5lcnRSb290cyA9IC8qKiBAdHlwZSB7P30gKi8gKG51bGwpO1xuICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQHR5cGUge2Jvb2xlYW59IFdoZXRoZXIgdGhpcyBvYmplY3QgaXMgb2Jzb2xldGUgYmVjYXVzZSB0aGUgbWFuYWdlZCBub2RlIGlzIG5vIGxvbmdlciBpbmVydC5cbiAgICogSWYgdGhlIG9iamVjdCBoYXMgYmVlbiBkZXN0cm95ZWQsIGFueSBhdHRlbXB0IHRvIGFjY2VzcyBpdCB3aWxsIGNhdXNlIGFuIGV4Y2VwdGlvbi5cbiAgICovXG4gIGdldCBkZXN0cm95ZWQoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IUluZXJ0Tm9kZX0gKi8gKHRoaXMpLl9kZXN0cm95ZWQ7XG4gIH1cblxuICAvKipcbiAgICogVGhyb3cgaWYgdXNlciB0cmllcyB0byBhY2Nlc3MgZGVzdHJveWVkIEluZXJ0Tm9kZS5cbiAgICovXG4gIF90aHJvd0lmRGVzdHJveWVkKCkge1xuICAgIGlmICh0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUcnlpbmcgdG8gYWNjZXNzIGRlc3Ryb3llZCBJbmVydE5vZGUnKTtcbiAgICB9XG4gIH1cblxuICAvKiogQHJldHVybiB7Ym9vbGVhbn0gKi9cbiAgZ2V0IGhhc1NhdmVkVGFiSW5kZXgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NhdmVkVGFiSW5kZXggIT09IG51bGw7XG4gIH1cblxuICAvKiogQHJldHVybiB7IU5vZGV9ICovXG4gIGdldCBub2RlKCkge1xuICAgIHRoaXMuX3Rocm93SWZEZXN0cm95ZWQoKTtcbiAgICByZXR1cm4gdGhpcy5fbm9kZTtcbiAgfVxuXG4gIC8qKiBAcGFyYW0gez9udW1iZXJ9IHRhYkluZGV4ICovXG4gIHNldCBzYXZlZFRhYkluZGV4KHRhYkluZGV4KSB7XG4gICAgdGhpcy5fdGhyb3dJZkRlc3Ryb3llZCgpO1xuICAgIHRoaXMuX3NhdmVkVGFiSW5kZXggPSB0YWJJbmRleDtcbiAgfVxuXG4gIC8qKiBAcmV0dXJuIHs/bnVtYmVyfSAqL1xuICBnZXQgc2F2ZWRUYWJJbmRleCgpIHtcbiAgICB0aGlzLl90aHJvd0lmRGVzdHJveWVkKCk7XG4gICAgcmV0dXJuIHRoaXMuX3NhdmVkVGFiSW5kZXg7XG4gIH1cblxuICAvKiogU2F2ZSB0aGUgZXhpc3RpbmcgdGFiaW5kZXggdmFsdWUgYW5kIG1ha2UgdGhlIG5vZGUgdW50YWJiYWJsZSBhbmQgdW5mb2N1c2FibGUgKi9cbiAgZW5zdXJlVW50YWJiYWJsZSgpIHtcbiAgICBpZiAodGhpcy5ub2RlLm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlbGVtZW50ID0gLyoqIEB0eXBlIHshRWxlbWVudH0gKi8gKHRoaXMubm9kZSk7XG4gICAgaWYgKG1hdGNoZXMuY2FsbChlbGVtZW50LCBfZm9jdXNhYmxlRWxlbWVudHNTdHJpbmcpKSB7XG4gICAgICBpZiAoLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovIChlbGVtZW50KS50YWJJbmRleCA9PT0gLTEgJiZcbiAgICAgICAgICB0aGlzLmhhc1NhdmVkVGFiSW5kZXgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ3RhYmluZGV4JykpIHtcbiAgICAgICAgdGhpcy5fc2F2ZWRUYWJJbmRleCA9IC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqLyAoZWxlbWVudCkudGFiSW5kZXg7XG4gICAgICB9XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICBlbGVtZW50LmZvY3VzID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgICAgdGhpcy5fb3ZlcnJvZGVGb2N1c01ldGhvZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChlbGVtZW50Lmhhc0F0dHJpYnV0ZSgndGFiaW5kZXgnKSkge1xuICAgICAgdGhpcy5fc2F2ZWRUYWJJbmRleCA9IC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqLyAoZWxlbWVudCkudGFiSW5kZXg7XG4gICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgndGFiaW5kZXgnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGFub3RoZXIgaW5lcnQgcm9vdCB0byB0aGlzIGluZXJ0IG5vZGUncyBzZXQgb2YgbWFuYWdpbmcgaW5lcnQgcm9vdHMuXG4gICAqIEBwYXJhbSB7IUluZXJ0Um9vdH0gaW5lcnRSb290XG4gICAqL1xuICBhZGRJbmVydFJvb3QoaW5lcnRSb290KSB7XG4gICAgdGhpcy5fdGhyb3dJZkRlc3Ryb3llZCgpO1xuICAgIHRoaXMuX2luZXJ0Um9vdHMuYWRkKGluZXJ0Um9vdCk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBnaXZlbiBpbmVydCByb290IGZyb20gdGhpcyBpbmVydCBub2RlJ3Mgc2V0IG9mIG1hbmFnaW5nIGluZXJ0IHJvb3RzLlxuICAgKiBJZiB0aGUgc2V0IG9mIG1hbmFnaW5nIGluZXJ0IHJvb3RzIGJlY29tZXMgZW1wdHksIHRoaXMgbm9kZSBpcyBubyBsb25nZXIgaW5lcnQsXG4gICAqIHNvIHRoZSBvYmplY3Qgc2hvdWxkIGJlIGRlc3Ryb3llZC5cbiAgICogQHBhcmFtIHshSW5lcnRSb290fSBpbmVydFJvb3RcbiAgICovXG4gIHJlbW92ZUluZXJ0Um9vdChpbmVydFJvb3QpIHtcbiAgICB0aGlzLl90aHJvd0lmRGVzdHJveWVkKCk7XG4gICAgdGhpcy5faW5lcnRSb290cy5kZWxldGUoaW5lcnRSb290KTtcbiAgICBpZiAodGhpcy5faW5lcnRSb290cy5zaXplID09PSAwKSB7XG4gICAgICB0aGlzLmRlc3RydWN0b3IoKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBJbmVydE1hbmFnZXIgaXMgYSBwZXItZG9jdW1lbnQgc2luZ2xldG9uIG9iamVjdCB3aGljaCBtYW5hZ2VzIGFsbCBpbmVydCByb290cyBhbmQgbm9kZXMuXG4gKlxuICogV2hlbiBhbiBlbGVtZW50IGJlY29tZXMgYW4gaW5lcnQgcm9vdCBieSBoYXZpbmcgYW4gYGluZXJ0YCBhdHRyaWJ1dGUgc2V0IGFuZC9vciBpdHMgYGluZXJ0YFxuICogcHJvcGVydHkgc2V0IHRvIGB0cnVlYCwgdGhlIGBzZXRJbmVydGAgbWV0aG9kIGNyZWF0ZXMgYW4gYEluZXJ0Um9vdGAgb2JqZWN0IGZvciB0aGUgZWxlbWVudC5cbiAqIFRoZSBgSW5lcnRSb290YCBpbiB0dXJuIHJlZ2lzdGVycyBpdHNlbGYgYXMgbWFuYWdpbmcgYWxsIG9mIHRoZSBlbGVtZW50J3MgZm9jdXNhYmxlIGRlc2NlbmRhbnRcbiAqIG5vZGVzIHZpYSB0aGUgYHJlZ2lzdGVyKClgIG1ldGhvZC4gVGhlIGBJbmVydE1hbmFnZXJgIGVuc3VyZXMgdGhhdCBhIHNpbmdsZSBgSW5lcnROb2RlYCBpbnN0YW5jZVxuICogaXMgY3JlYXRlZCBmb3IgZWFjaCBzdWNoIG5vZGUsIHZpYSB0aGUgYF9tYW5hZ2VkTm9kZXNgIG1hcC5cbiAqL1xuY2xhc3MgSW5lcnRNYW5hZ2VyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IURvY3VtZW50fSBkb2N1bWVudFxuICAgKi9cbiAgY29uc3RydWN0b3IoZG9jdW1lbnQpIHtcbiAgICBpZiAoIWRvY3VtZW50KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgYXJndW1lbnQ7IEluZXJ0TWFuYWdlciBuZWVkcyB0byB3cmFwIGEgZG9jdW1lbnQuJyk7XG4gICAgfVxuXG4gICAgLyoqIEB0eXBlIHshRG9jdW1lbnR9ICovXG4gICAgdGhpcy5fZG9jdW1lbnQgPSBkb2N1bWVudDtcblxuICAgIC8qKlxuICAgICAqIEFsbCBtYW5hZ2VkIG5vZGVzIGtub3duIHRvIHRoaXMgSW5lcnRNYW5hZ2VyLiBJbiBhIG1hcCB0byBhbGxvdyBsb29raW5nIHVwIGJ5IE5vZGUuXG4gICAgICogQHR5cGUgeyFNYXA8IU5vZGUsICFJbmVydE5vZGU+fVxuICAgICAqL1xuICAgIHRoaXMuX21hbmFnZWROb2RlcyA9IG5ldyBNYXAoKTtcblxuICAgIC8qKlxuICAgICAqIEFsbCBpbmVydCByb290cyBrbm93biB0byB0aGlzIEluZXJ0TWFuYWdlci4gSW4gYSBtYXAgdG8gYWxsb3cgbG9va2luZyB1cCBieSBOb2RlLlxuICAgICAqIEB0eXBlIHshTWFwPCFOb2RlLCAhSW5lcnRSb290Pn1cbiAgICAgKi9cbiAgICB0aGlzLl9pbmVydFJvb3RzID0gbmV3IE1hcCgpO1xuXG4gICAgLyoqXG4gICAgICogT2JzZXJ2ZXIgZm9yIG11dGF0aW9ucyBvbiBgZG9jdW1lbnQuYm9keWAuXG4gICAgICogQHR5cGUgeyFNdXRhdGlvbk9ic2VydmVyfVxuICAgICAqL1xuICAgIHRoaXMuX29ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5fd2F0Y2hGb3JJbmVydC5iaW5kKHRoaXMpKTtcblxuICAgIC8vIEFkZCBpbmVydCBzdHlsZS5cbiAgICBhZGRJbmVydFN0eWxlKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xuXG4gICAgLy8gV2FpdCBmb3IgZG9jdW1lbnQgdG8gYmUgbG9hZGVkLlxuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnbG9hZGluZycpIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCB0aGlzLl9vbkRvY3VtZW50TG9hZGVkLmJpbmQodGhpcykpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9vbkRvY3VtZW50TG9hZGVkKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB3aGV0aGVyIHRoZSBnaXZlbiBlbGVtZW50IHNob3VsZCBiZSBhbiBpbmVydCByb290IG9yIG5vdC5cbiAgICogQHBhcmFtIHshRWxlbWVudH0gcm9vdFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGluZXJ0XG4gICAqL1xuICBzZXRJbmVydChyb290LCBpbmVydCkge1xuICAgIGlmIChpbmVydCkge1xuICAgICAgaWYgKHRoaXMuX2luZXJ0Um9vdHMuaGFzKHJvb3QpKSB7IC8vIGVsZW1lbnQgaXMgYWxyZWFkeSBpbmVydFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGluZXJ0Um9vdCA9IG5ldyBJbmVydFJvb3Qocm9vdCwgdGhpcyk7XG4gICAgICByb290LnNldEF0dHJpYnV0ZSgnaW5lcnQnLCAnJyk7XG4gICAgICB0aGlzLl9pbmVydFJvb3RzLnNldChyb290LCBpbmVydFJvb3QpO1xuICAgICAgLy8gSWYgbm90IGNvbnRhaW5lZCBpbiB0aGUgZG9jdW1lbnQsIGl0IG11c3QgYmUgaW4gYSBzaGFkb3dSb290LlxuICAgICAgLy8gRW5zdXJlIGluZXJ0IHN0eWxlcyBhcmUgYWRkZWQgdGhlcmUuXG4gICAgICBpZiAoIXRoaXMuX2RvY3VtZW50LmJvZHkuY29udGFpbnMocm9vdCkpIHtcbiAgICAgICAgbGV0IHBhcmVudCA9IHJvb3QucGFyZW50Tm9kZTtcbiAgICAgICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgICAgIGlmIChwYXJlbnQubm9kZVR5cGUgPT09IDExKSB7XG4gICAgICAgICAgICBhZGRJbmVydFN0eWxlKHBhcmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghdGhpcy5faW5lcnRSb290cy5oYXMocm9vdCkpIHsgLy8gZWxlbWVudCBpcyBhbHJlYWR5IG5vbi1pbmVydFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGluZXJ0Um9vdCA9IHRoaXMuX2luZXJ0Um9vdHMuZ2V0KHJvb3QpO1xuICAgICAgaW5lcnRSb290LmRlc3RydWN0b3IoKTtcbiAgICAgIHRoaXMuX2luZXJ0Um9vdHMuZGVsZXRlKHJvb3QpO1xuICAgICAgcm9vdC5yZW1vdmVBdHRyaWJ1dGUoJ2luZXJ0Jyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgSW5lcnRSb290IG9iamVjdCBjb3JyZXNwb25kaW5nIHRvIHRoZSBnaXZlbiBpbmVydCByb290IGVsZW1lbnQsIGlmIGFueS5cbiAgICogQHBhcmFtIHshTm9kZX0gZWxlbWVudFxuICAgKiBAcmV0dXJuIHshSW5lcnRSb290fHVuZGVmaW5lZH1cbiAgICovXG4gIGdldEluZXJ0Um9vdChlbGVtZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuX2luZXJ0Um9vdHMuZ2V0KGVsZW1lbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIHRoZSBnaXZlbiBJbmVydFJvb3QgYXMgbWFuYWdpbmcgdGhlIGdpdmVuIG5vZGUuXG4gICAqIEluIHRoZSBjYXNlIHdoZXJlIHRoZSBub2RlIGhhcyBhIHByZXZpb3VzbHkgZXhpc3RpbmcgaW5lcnQgcm9vdCwgdGhpcyBpbmVydCByb290IHdpbGxcbiAgICogYmUgYWRkZWQgdG8gaXRzIHNldCBvZiBpbmVydCByb290cy5cbiAgICogQHBhcmFtIHshTm9kZX0gbm9kZVxuICAgKiBAcGFyYW0geyFJbmVydFJvb3R9IGluZXJ0Um9vdFxuICAgKiBAcmV0dXJuIHshSW5lcnROb2RlfSBpbmVydE5vZGVcbiAgICovXG4gIHJlZ2lzdGVyKG5vZGUsIGluZXJ0Um9vdCkge1xuICAgIGxldCBpbmVydE5vZGUgPSB0aGlzLl9tYW5hZ2VkTm9kZXMuZ2V0KG5vZGUpO1xuICAgIGlmIChpbmVydE5vZGUgIT09IHVuZGVmaW5lZCkgeyAvLyBub2RlIHdhcyBhbHJlYWR5IGluIGFuIGluZXJ0IHN1YnRyZWVcbiAgICAgIGluZXJ0Tm9kZS5hZGRJbmVydFJvb3QoaW5lcnRSb290KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5lcnROb2RlID0gbmV3IEluZXJ0Tm9kZShub2RlLCBpbmVydFJvb3QpO1xuICAgIH1cblxuICAgIHRoaXMuX21hbmFnZWROb2Rlcy5zZXQobm9kZSwgaW5lcnROb2RlKTtcblxuICAgIHJldHVybiBpbmVydE5vZGU7XG4gIH1cblxuICAvKipcbiAgICogRGUtcmVnaXN0ZXIgdGhlIGdpdmVuIEluZXJ0Um9vdCBhcyBtYW5hZ2luZyB0aGUgZ2l2ZW4gaW5lcnQgbm9kZS5cbiAgICogUmVtb3ZlcyB0aGUgaW5lcnQgcm9vdCBmcm9tIHRoZSBJbmVydE5vZGUncyBzZXQgb2YgbWFuYWdpbmcgaW5lcnQgcm9vdHMsIGFuZCByZW1vdmUgdGhlIGluZXJ0XG4gICAqIG5vZGUgZnJvbSB0aGUgSW5lcnRNYW5hZ2VyJ3Mgc2V0IG9mIG1hbmFnZWQgbm9kZXMgaWYgaXQgaXMgZGVzdHJveWVkLlxuICAgKiBJZiB0aGUgbm9kZSBpcyBub3QgY3VycmVudGx5IG1hbmFnZWQsIHRoaXMgaXMgZXNzZW50aWFsbHkgYSBuby1vcC5cbiAgICogQHBhcmFtIHshTm9kZX0gbm9kZVxuICAgKiBAcGFyYW0geyFJbmVydFJvb3R9IGluZXJ0Um9vdFxuICAgKiBAcmV0dXJuIHs/SW5lcnROb2RlfSBUaGUgcG90ZW50aWFsbHkgZGVzdHJveWVkIEluZXJ0Tm9kZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBub2RlLCBpZiBhbnkuXG4gICAqL1xuICBkZXJlZ2lzdGVyKG5vZGUsIGluZXJ0Um9vdCkge1xuICAgIGNvbnN0IGluZXJ0Tm9kZSA9IHRoaXMuX21hbmFnZWROb2Rlcy5nZXQobm9kZSk7XG4gICAgaWYgKCFpbmVydE5vZGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGluZXJ0Tm9kZS5yZW1vdmVJbmVydFJvb3QoaW5lcnRSb290KTtcbiAgICBpZiAoaW5lcnROb2RlLmRlc3Ryb3llZCkge1xuICAgICAgdGhpcy5fbWFuYWdlZE5vZGVzLmRlbGV0ZShub2RlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5lcnROb2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHVzZWQgd2hlbiBkb2N1bWVudCBoYXMgZmluaXNoZWQgbG9hZGluZy5cbiAgICovXG4gIF9vbkRvY3VtZW50TG9hZGVkKCkge1xuICAgIC8vIEZpbmQgYWxsIGluZXJ0IHJvb3RzIGluIGRvY3VtZW50IGFuZCBtYWtlIHRoZW0gYWN0dWFsbHkgaW5lcnQuXG4gICAgY29uc3QgaW5lcnRFbGVtZW50cyA9IHNsaWNlLmNhbGwodGhpcy5fZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2luZXJ0XScpKTtcbiAgICBpbmVydEVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oaW5lcnRFbGVtZW50KSB7XG4gICAgICB0aGlzLnNldEluZXJ0KGluZXJ0RWxlbWVudCwgdHJ1ZSk7XG4gICAgfSwgdGhpcyk7XG5cbiAgICAvLyBDb21tZW50IHRoaXMgb3V0IHRvIHVzZSBwcm9ncmFtbWF0aWMgQVBJIG9ubHkuXG4gICAgdGhpcy5fb2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLl9kb2N1bWVudC5ib2R5IHx8IHRoaXMuX2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCwge2F0dHJpYnV0ZXM6IHRydWUsIHN1YnRyZWU6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZX0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHVzZWQgd2hlbiBtdXRhdGlvbiBvYnNlcnZlciBkZXRlY3RzIGF0dHJpYnV0ZSBjaGFuZ2VzLlxuICAgKiBAcGFyYW0geyFBcnJheTwhTXV0YXRpb25SZWNvcmQ+fSByZWNvcmRzXG4gICAqIEBwYXJhbSB7IU11dGF0aW9uT2JzZXJ2ZXJ9IHNlbGZcbiAgICovXG4gIF93YXRjaEZvckluZXJ0KHJlY29yZHMsIHNlbGYpIHtcbiAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG4gICAgcmVjb3Jkcy5mb3JFYWNoKGZ1bmN0aW9uKHJlY29yZCkge1xuICAgICAgc3dpdGNoIChyZWNvcmQudHlwZSkge1xuICAgICAgY2FzZSAnY2hpbGRMaXN0JzpcbiAgICAgICAgc2xpY2UuY2FsbChyZWNvcmQuYWRkZWROb2RlcykuZm9yRWFjaChmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGluZXJ0RWxlbWVudHMgPSBzbGljZS5jYWxsKG5vZGUucXVlcnlTZWxlY3RvckFsbCgnW2luZXJ0XScpKTtcbiAgICAgICAgICBpZiAobWF0Y2hlcy5jYWxsKG5vZGUsICdbaW5lcnRdJykpIHtcbiAgICAgICAgICAgIGluZXJ0RWxlbWVudHMudW5zaGlmdChub2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaW5lcnRFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGluZXJ0RWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5zZXRJbmVydChpbmVydEVsZW1lbnQsIHRydWUpO1xuICAgICAgICAgIH0sIF90aGlzKTtcbiAgICAgICAgfSwgX3RoaXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2F0dHJpYnV0ZXMnOlxuICAgICAgICBpZiAocmVjb3JkLmF0dHJpYnV0ZU5hbWUgIT09ICdpbmVydCcpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gLyoqIEB0eXBlIHshRWxlbWVudH0gKi8gKHJlY29yZC50YXJnZXQpO1xuICAgICAgICBjb25zdCBpbmVydCA9IHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2luZXJ0Jyk7XG4gICAgICAgIF90aGlzLnNldEluZXJ0KHRhcmdldCwgaW5lcnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9LCB0aGlzKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlY3Vyc2l2ZWx5IHdhbGsgdGhlIGNvbXBvc2VkIHRyZWUgZnJvbSB8bm9kZXwuXG4gKiBAcGFyYW0geyFOb2RlfSBub2RlXG4gKiBAcGFyYW0geyhmdW5jdGlvbiAoIUVsZW1lbnQpKT19IGNhbGxiYWNrIENhbGxiYWNrIHRvIGJlIGNhbGxlZCBmb3IgZWFjaCBlbGVtZW50IHRyYXZlcnNlZCxcbiAqICAgICBiZWZvcmUgZGVzY2VuZGluZyBpbnRvIGNoaWxkIG5vZGVzLlxuICogQHBhcmFtIHs/U2hhZG93Um9vdD19IHNoYWRvd1Jvb3RBbmNlc3RvciBUaGUgbmVhcmVzdCBTaGFkb3dSb290IGFuY2VzdG9yLCBpZiBhbnkuXG4gKi9cbmZ1bmN0aW9uIGNvbXBvc2VkVHJlZVdhbGsobm9kZSwgY2FsbGJhY2ssIHNoYWRvd1Jvb3RBbmNlc3Rvcikge1xuICBpZiAobm9kZS5ub2RlVHlwZSA9PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSAvKiogQHR5cGUgeyFFbGVtZW50fSAqLyAobm9kZSk7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFjayhlbGVtZW50KTtcbiAgICB9XG5cbiAgICAvLyBEZXNjZW5kIGludG8gbm9kZTpcbiAgICAvLyBJZiBpdCBoYXMgYSBTaGFkb3dSb290LCBpZ25vcmUgYWxsIGNoaWxkIGVsZW1lbnRzIC0gdGhlc2Ugd2lsbCBiZSBwaWNrZWRcbiAgICAvLyB1cCBieSB0aGUgPGNvbnRlbnQ+IG9yIDxzaGFkb3c+IGVsZW1lbnRzLiBEZXNjZW5kIHN0cmFpZ2h0IGludG8gdGhlXG4gICAgLy8gU2hhZG93Um9vdC5cbiAgICBjb25zdCBzaGFkb3dSb290ID0gLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovIChlbGVtZW50KS5zaGFkb3dSb290O1xuICAgIGlmIChzaGFkb3dSb290KSB7XG4gICAgICBjb21wb3NlZFRyZWVXYWxrKHNoYWRvd1Jvb3QsIGNhbGxiYWNrLCBzaGFkb3dSb290KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBpdCBpcyBhIDxjb250ZW50PiBlbGVtZW50LCBkZXNjZW5kIGludG8gZGlzdHJpYnV0ZWQgZWxlbWVudHMgLSB0aGVzZVxuICAgIC8vIGFyZSBlbGVtZW50cyBmcm9tIG91dHNpZGUgdGhlIHNoYWRvdyByb290IHdoaWNoIGFyZSByZW5kZXJlZCBpbnNpZGUgdGhlXG4gICAgLy8gc2hhZG93IERPTS5cbiAgICBpZiAoZWxlbWVudC5sb2NhbE5hbWUgPT0gJ2NvbnRlbnQnKSB7XG4gICAgICBjb25zdCBjb250ZW50ID0gLyoqIEB0eXBlIHshSFRNTENvbnRlbnRFbGVtZW50fSAqLyAoZWxlbWVudCk7XG4gICAgICAvLyBWZXJpZmllcyBpZiBTaGFkb3dEb20gdjAgaXMgc3VwcG9ydGVkLlxuICAgICAgY29uc3QgZGlzdHJpYnV0ZWROb2RlcyA9IGNvbnRlbnQuZ2V0RGlzdHJpYnV0ZWROb2RlcyA/XG4gICAgICAgIGNvbnRlbnQuZ2V0RGlzdHJpYnV0ZWROb2RlcygpIDogW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpc3RyaWJ1dGVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29tcG9zZWRUcmVlV2FsayhkaXN0cmlidXRlZE5vZGVzW2ldLCBjYWxsYmFjaywgc2hhZG93Um9vdEFuY2VzdG9yKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBpdCBpcyBhIDxzbG90PiBlbGVtZW50LCBkZXNjZW5kIGludG8gYXNzaWduZWQgbm9kZXMgLSB0aGVzZVxuICAgIC8vIGFyZSBlbGVtZW50cyBmcm9tIG91dHNpZGUgdGhlIHNoYWRvdyByb290IHdoaWNoIGFyZSByZW5kZXJlZCBpbnNpZGUgdGhlXG4gICAgLy8gc2hhZG93IERPTS5cbiAgICBpZiAoZWxlbWVudC5sb2NhbE5hbWUgPT0gJ3Nsb3QnKSB7XG4gICAgICBjb25zdCBzbG90ID0gLyoqIEB0eXBlIHshSFRNTFNsb3RFbGVtZW50fSAqLyAoZWxlbWVudCk7XG4gICAgICAvLyBWZXJpZnkgaWYgU2hhZG93RG9tIHYxIGlzIHN1cHBvcnRlZC5cbiAgICAgIGNvbnN0IGRpc3RyaWJ1dGVkTm9kZXMgPSBzbG90LmFzc2lnbmVkTm9kZXMgP1xuICAgICAgICBzbG90LmFzc2lnbmVkTm9kZXMoe2ZsYXR0ZW46IHRydWV9KSA6IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXN0cmlidXRlZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbXBvc2VkVHJlZVdhbGsoZGlzdHJpYnV0ZWROb2Rlc1tpXSwgY2FsbGJhY2ssIHNoYWRvd1Jvb3RBbmNlc3Rvcik7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgaXQgaXMgbmVpdGhlciB0aGUgcGFyZW50IG9mIGEgU2hhZG93Um9vdCwgYSA8Y29udGVudD4gZWxlbWVudCwgYSA8c2xvdD5cbiAgLy8gZWxlbWVudCwgbm9yIGEgPHNoYWRvdz4gZWxlbWVudCByZWN1cnNlIG5vcm1hbGx5LlxuICBsZXQgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gIHdoaWxlIChjaGlsZCAhPSBudWxsKSB7XG4gICAgY29tcG9zZWRUcmVlV2FsayhjaGlsZCwgY2FsbGJhY2ssIHNoYWRvd1Jvb3RBbmNlc3Rvcik7XG4gICAgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZztcbiAgfVxufVxuXG4vKipcbiAqIEFkZHMgYSBzdHlsZSBlbGVtZW50IHRvIHRoZSBub2RlIGNvbnRhaW5pbmcgdGhlIGluZXJ0IHNwZWNpZmljIHN0eWxlc1xuICogQHBhcmFtIHshTm9kZX0gbm9kZVxuICovXG5mdW5jdGlvbiBhZGRJbmVydFN0eWxlKG5vZGUpIHtcbiAgaWYgKG5vZGUucXVlcnlTZWxlY3Rvcignc3R5bGUjaW5lcnQtc3R5bGUnKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHN0eWxlLnNldEF0dHJpYnV0ZSgnaWQnLCAnaW5lcnQtc3R5bGUnKTtcbiAgc3R5bGUudGV4dENvbnRlbnQgPSAnXFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAnW2luZXJ0XSB7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgJyAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgJyAgY3Vyc29yOiBkZWZhdWx0O1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgJ1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICdbaW5lcnRdLCBbaW5lcnRdICoge1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICcgIHVzZXItc2VsZWN0OiBub25lO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICcgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgJyAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAnICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgJ31cXG4nO1xuICBub2RlLmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cblxuLyoqIEB0eXBlIHshSW5lcnRNYW5hZ2VyfSAqL1xuY29uc3QgaW5lcnRNYW5hZ2VyID0gbmV3IEluZXJ0TWFuYWdlcihkb2N1bWVudCk7XG5cbmlmICghRWxlbWVudC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoJ2luZXJ0JykpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVsZW1lbnQucHJvdG90eXBlLCAnaW5lcnQnLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAvKiogQHRoaXMgeyFFbGVtZW50fSAqL1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5oYXNBdHRyaWJ1dGUoJ2luZXJ0Jyk7XG4gICAgfSxcbiAgICAvKiogQHRoaXMgeyFFbGVtZW50fSAqL1xuICAgIHNldDogZnVuY3Rpb24oaW5lcnQpIHtcbiAgICAgIGluZXJ0TWFuYWdlci5zZXRJbmVydCh0aGlzLCBpbmVydCk7XG4gICAgfSxcbiAgfSk7XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbnZhciBjc3NDbGFzc2VzID0ge1xuICAgIEFOSU1BVEU6ICdtZGMtZHJhd2VyLS1hbmltYXRlJyxcbiAgICBDTE9TSU5HOiAnbWRjLWRyYXdlci0tY2xvc2luZycsXG4gICAgRElTTUlTU0lCTEU6ICdtZGMtZHJhd2VyLS1kaXNtaXNzaWJsZScsXG4gICAgTU9EQUw6ICdtZGMtZHJhd2VyLS1tb2RhbCcsXG4gICAgT1BFTjogJ21kYy1kcmF3ZXItLW9wZW4nLFxuICAgIE9QRU5JTkc6ICdtZGMtZHJhd2VyLS1vcGVuaW5nJyxcbiAgICBST09UOiAnbWRjLWRyYXdlcicsXG59O1xudmFyIHN0cmluZ3MgPSB7XG4gICAgQVBQX0NPTlRFTlRfU0VMRUNUT1I6ICcubWRjLWRyYXdlci1hcHAtY29udGVudCcsXG4gICAgQ0xPU0VfRVZFTlQ6ICdNRENEcmF3ZXI6Y2xvc2VkJyxcbiAgICBPUEVOX0VWRU5UOiAnTURDRHJhd2VyOm9wZW5lZCcsXG4gICAgU0NSSU1fU0VMRUNUT1I6ICcubWRjLWRyYXdlci1zY3JpbScsXG59O1xuZXhwb3J0IHsgY3NzQ2xhc3Nlcywgc3RyaW5ncyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE1EQ0ZvdW5kYXRpb24gfSBmcm9tICdAbWF0ZXJpYWwvYmFzZS9mb3VuZGF0aW9uJztcbmltcG9ydCB7IGNzc0NsYXNzZXMsIHN0cmluZ3MgfSBmcm9tICcuLi9jb25zdGFudHMnO1xudmFyIE1EQ0Rpc21pc3NpYmxlRHJhd2VyRm91bmRhdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhNRENEaXNtaXNzaWJsZURyYXdlckZvdW5kYXRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTURDRGlzbWlzc2libGVEcmF3ZXJGb3VuZGF0aW9uKGFkYXB0ZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdHNsaWJfMS5fX2Fzc2lnbih7fSwgTURDRGlzbWlzc2libGVEcmF3ZXJGb3VuZGF0aW9uLmRlZmF1bHRBZGFwdGVyLCBhZGFwdGVyKSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYW5pbWF0aW9uRnJhbWVfID0gMDtcbiAgICAgICAgX3RoaXMuYW5pbWF0aW9uVGltZXJfID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDRGlzbWlzc2libGVEcmF3ZXJGb3VuZGF0aW9uLCBcInN0cmluZ3NcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmdzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDRGlzbWlzc2libGVEcmF3ZXJGb3VuZGF0aW9uLCBcImNzc0NsYXNzZXNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjc3NDbGFzc2VzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDRGlzbWlzc2libGVEcmF3ZXJGb3VuZGF0aW9uLCBcImRlZmF1bHRBZGFwdGVyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXMgTWV0aG9kcyBzaG91bGQgYmUgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlIGFkYXB0ZXIgaW50ZXJmYWNlLlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzczogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgaGFzQ2xhc3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9LFxuICAgICAgICAgICAgICAgIGVsZW1lbnRIYXNDbGFzczogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH0sXG4gICAgICAgICAgICAgICAgbm90aWZ5Q2xvc2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBub3RpZnlPcGVuOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgc2F2ZUZvY3VzOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgcmVzdG9yZUZvY3VzOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgZm9jdXNBY3RpdmVOYXZpZ2F0aW9uSXRlbTogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHRyYXBGb2N1czogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHJlbGVhc2VGb2N1czogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIHRzbGludDplbmFibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzXG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1EQ0Rpc21pc3NpYmxlRHJhd2VyRm91bmRhdGlvbi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uRnJhbWVfKSB7XG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGlvbkZyYW1lXyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uVGltZXJfKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5hbmltYXRpb25UaW1lcl8pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBPcGVucyB0aGUgZHJhd2VyIGZyb20gdGhlIGNsb3NlZCBzdGF0ZS5cbiAgICAgKi9cbiAgICBNRENEaXNtaXNzaWJsZURyYXdlckZvdW5kYXRpb24ucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmlzT3BlbigpIHx8IHRoaXMuaXNPcGVuaW5nKCkgfHwgdGhpcy5pc0Nsb3NpbmcoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRhcHRlcl8uYWRkQ2xhc3MoY3NzQ2xhc3Nlcy5PUEVOKTtcbiAgICAgICAgdGhpcy5hZGFwdGVyXy5hZGRDbGFzcyhjc3NDbGFzc2VzLkFOSU1BVEUpO1xuICAgICAgICAvLyBXYWl0IGEgZnJhbWUgb25jZSBkaXNwbGF5IGlzIG5vIGxvbmdlciBcIm5vbmVcIiwgdG8gZXN0YWJsaXNoIGJhc2lzIGZvciBhbmltYXRpb25cbiAgICAgICAgdGhpcy5ydW5OZXh0QW5pbWF0aW9uRnJhbWVfKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJfLmFkZENsYXNzKGNzc0NsYXNzZXMuT1BFTklORyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFkYXB0ZXJfLnNhdmVGb2N1cygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHRoZSBkcmF3ZXIgZnJvbSB0aGUgb3BlbiBzdGF0ZS5cbiAgICAgKi9cbiAgICBNRENEaXNtaXNzaWJsZURyYXdlckZvdW5kYXRpb24ucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNPcGVuKCkgfHwgdGhpcy5pc09wZW5pbmcoKSB8fCB0aGlzLmlzQ2xvc2luZygpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGFwdGVyXy5hZGRDbGFzcyhjc3NDbGFzc2VzLkNMT1NJTkcpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBkcmF3ZXIgaXMgaW4gdGhlIG9wZW4gcG9zaXRpb24uXG4gICAgICogQHJldHVybiB0cnVlIGlmIGRyYXdlciBpcyBpbiBvcGVuIHN0YXRlLlxuICAgICAqL1xuICAgIE1EQ0Rpc21pc3NpYmxlRHJhd2VyRm91bmRhdGlvbi5wcm90b3R5cGUuaXNPcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGFwdGVyXy5oYXNDbGFzcyhjc3NDbGFzc2VzLk9QRU4pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBkcmF3ZXIgaXMgYW5pbWF0aW5nIG9wZW4uXG4gICAgICogQHJldHVybiB0cnVlIGlmIGRyYXdlciBpcyBhbmltYXRpbmcgb3Blbi5cbiAgICAgKi9cbiAgICBNRENEaXNtaXNzaWJsZURyYXdlckZvdW5kYXRpb24ucHJvdG90eXBlLmlzT3BlbmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRhcHRlcl8uaGFzQ2xhc3MoY3NzQ2xhc3Nlcy5PUEVOSU5HKSB8fCB0aGlzLmFkYXB0ZXJfLmhhc0NsYXNzKGNzc0NsYXNzZXMuQU5JTUFURSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGRyYXdlciBpcyBhbmltYXRpbmcgY2xvc2VkLlxuICAgICAqIEByZXR1cm4gdHJ1ZSBpZiBkcmF3ZXIgaXMgYW5pbWF0aW5nIGNsb3NlZC5cbiAgICAgKi9cbiAgICBNRENEaXNtaXNzaWJsZURyYXdlckZvdW5kYXRpb24ucHJvdG90eXBlLmlzQ2xvc2luZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRhcHRlcl8uaGFzQ2xhc3MoY3NzQ2xhc3Nlcy5DTE9TSU5HKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEtleWRvd24gaGFuZGxlciB0byBjbG9zZSBkcmF3ZXIgd2hlbiBrZXkgaXMgZXNjYXBlLlxuICAgICAqL1xuICAgIE1EQ0Rpc21pc3NpYmxlRHJhd2VyRm91bmRhdGlvbi5wcm90b3R5cGUuaGFuZGxlS2V5ZG93biA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgdmFyIGtleUNvZGUgPSBldnQua2V5Q29kZSwga2V5ID0gZXZ0LmtleTtcbiAgICAgICAgdmFyIGlzRXNjYXBlID0ga2V5ID09PSAnRXNjYXBlJyB8fCBrZXlDb2RlID09PSAyNztcbiAgICAgICAgaWYgKGlzRXNjYXBlKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIGB0cmFuc2l0aW9uZW5kYCBldmVudCB3aGVuIHRoZSBkcmF3ZXIgZmluaXNoZXMgb3BlbmluZy9jbG9zaW5nLlxuICAgICAqL1xuICAgIE1EQ0Rpc21pc3NpYmxlRHJhd2VyRm91bmRhdGlvbi5wcm90b3R5cGUuaGFuZGxlVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgdmFyIE9QRU5JTkcgPSBjc3NDbGFzc2VzLk9QRU5JTkcsIENMT1NJTkcgPSBjc3NDbGFzc2VzLkNMT1NJTkcsIE9QRU4gPSBjc3NDbGFzc2VzLk9QRU4sIEFOSU1BVEUgPSBjc3NDbGFzc2VzLkFOSU1BVEUsIFJPT1QgPSBjc3NDbGFzc2VzLlJPT1Q7XG4gICAgICAgIC8vIEluIEVkZ2UsIHRyYW5zaXRpb25lbmQgb24gcmlwcGxlIHBzZXVkby1lbGVtZW50cyB5aWVsZHMgYSB0YXJnZXQgd2l0aG91dCBjbGFzc0xpc3QsIHNvIGNoZWNrIGZvciBFbGVtZW50IGZpcnN0LlxuICAgICAgICB2YXIgaXNSb290RWxlbWVudCA9IHRoaXMuaXNFbGVtZW50XyhldnQudGFyZ2V0KSAmJiB0aGlzLmFkYXB0ZXJfLmVsZW1lbnRIYXNDbGFzcyhldnQudGFyZ2V0LCBST09UKTtcbiAgICAgICAgaWYgKCFpc1Jvb3RFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNDbG9zaW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlcl8ucmVtb3ZlQ2xhc3MoT1BFTik7XG4gICAgICAgICAgICB0aGlzLmNsb3NlZF8oKTtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlcl8ucmVzdG9yZUZvY3VzKCk7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXJfLm5vdGlmeUNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXJfLmZvY3VzQWN0aXZlTmF2aWdhdGlvbkl0ZW0oKTtcbiAgICAgICAgICAgIHRoaXMub3BlbmVkXygpO1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyXy5ub3RpZnlPcGVuKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGFwdGVyXy5yZW1vdmVDbGFzcyhBTklNQVRFKTtcbiAgICAgICAgdGhpcy5hZGFwdGVyXy5yZW1vdmVDbGFzcyhPUEVOSU5HKTtcbiAgICAgICAgdGhpcy5hZGFwdGVyXy5yZW1vdmVDbGFzcyhDTE9TSU5HKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEV4dGVuc2lvbiBwb2ludCBmb3Igd2hlbiBkcmF3ZXIgZmluaXNoZXMgb3BlbiBhbmltYXRpb24uXG4gICAgICovXG4gICAgTURDRGlzbWlzc2libGVEcmF3ZXJGb3VuZGF0aW9uLnByb3RvdHlwZS5vcGVuZWRfID0gZnVuY3Rpb24gKCkgeyB9OyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWVtcHR5XG4gICAgLyoqXG4gICAgICogRXh0ZW5zaW9uIHBvaW50IGZvciB3aGVuIGRyYXdlciBmaW5pc2hlcyBjbG9zZSBhbmltYXRpb24uXG4gICAgICovXG4gICAgTURDRGlzbWlzc2libGVEcmF3ZXJGb3VuZGF0aW9uLnByb3RvdHlwZS5jbG9zZWRfID0gZnVuY3Rpb24gKCkgeyB9OyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWVtcHR5XG4gICAgLyoqXG4gICAgICogUnVucyB0aGUgZ2l2ZW4gbG9naWMgb24gdGhlIG5leHQgYW5pbWF0aW9uIGZyYW1lLCB1c2luZyBzZXRUaW1lb3V0IHRvIGZhY3RvciBpbiBGaXJlZm94IHJlZmxvdyBiZWhhdmlvci5cbiAgICAgKi9cbiAgICBNRENEaXNtaXNzaWJsZURyYXdlckZvdW5kYXRpb24ucHJvdG90eXBlLnJ1bk5leHRBbmltYXRpb25GcmFtZV8gPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRpb25GcmFtZV8pO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lXyA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5hbmltYXRpb25GcmFtZV8gPSAwO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLmFuaW1hdGlvblRpbWVyXyk7XG4gICAgICAgICAgICBfdGhpcy5hbmltYXRpb25UaW1lcl8gPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCAwKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNRENEaXNtaXNzaWJsZURyYXdlckZvdW5kYXRpb24ucHJvdG90eXBlLmlzRWxlbWVudF8gPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAvLyBJbiBFZGdlLCB0cmFuc2l0aW9uZW5kIG9uIHJpcHBsZSBwc2V1ZG8tZWxlbWVudHMgeWllbGRzIGEgdGFyZ2V0IHdpdGhvdXQgY2xhc3NMaXN0LlxuICAgICAgICByZXR1cm4gQm9vbGVhbihlbGVtZW50LmNsYXNzTGlzdCk7XG4gICAgfTtcbiAgICByZXR1cm4gTURDRGlzbWlzc2libGVEcmF3ZXJGb3VuZGF0aW9uO1xufShNRENGb3VuZGF0aW9uKSk7XG5leHBvcnQgeyBNRENEaXNtaXNzaWJsZURyYXdlckZvdW5kYXRpb24gfTtcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1kZWZhdWx0LWV4cG9ydCBOZWVkZWQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCBNREMgV2ViIHYwLjQ0LjAgYW5kIGVhcmxpZXIuXG5leHBvcnQgZGVmYXVsdCBNRENEaXNtaXNzaWJsZURyYXdlckZvdW5kYXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb3VuZGF0aW9uLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE1EQ0Rpc21pc3NpYmxlRHJhd2VyRm91bmRhdGlvbiB9IGZyb20gJy4uL2Rpc21pc3NpYmxlL2ZvdW5kYXRpb24nO1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IHN1YmNsYXNzIGlzIG5vdCBhIGJyYW5jaCBzdGF0ZW1lbnQgKi9cbnZhciBNRENNb2RhbERyYXdlckZvdW5kYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoTURDTW9kYWxEcmF3ZXJGb3VuZGF0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1EQ01vZGFsRHJhd2VyRm91bmRhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGNsaWNrIGV2ZW50IG9uIHNjcmltLlxuICAgICAqL1xuICAgIE1EQ01vZGFsRHJhd2VyRm91bmRhdGlvbi5wcm90b3R5cGUuaGFuZGxlU2NyaW1DbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gZHJhd2VyIGZpbmlzaGVzIG9wZW4gYW5pbWF0aW9uLlxuICAgICAqL1xuICAgIE1EQ01vZGFsRHJhd2VyRm91bmRhdGlvbi5wcm90b3R5cGUub3BlbmVkXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hZGFwdGVyXy50cmFwRm9jdXMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIGRyYXdlciBmaW5pc2hlcyBjbG9zZSBhbmltYXRpb24uXG4gICAgICovXG4gICAgTURDTW9kYWxEcmF3ZXJGb3VuZGF0aW9uLnByb3RvdHlwZS5jbG9zZWRfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmFkYXB0ZXJfLnJlbGVhc2VGb2N1cygpO1xuICAgIH07XG4gICAgcmV0dXJuIE1EQ01vZGFsRHJhd2VyRm91bmRhdGlvbjtcbn0oTURDRGlzbWlzc2libGVEcmF3ZXJGb3VuZGF0aW9uKSk7XG5leHBvcnQgeyBNRENNb2RhbERyYXdlckZvdW5kYXRpb24gfTtcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1kZWZhdWx0LWV4cG9ydCBOZWVkZWQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCBNREMgV2ViIHYwLjQ0LjAgYW5kIGVhcmxpZXIuXG5leHBvcnQgZGVmYXVsdCBNRENNb2RhbERyYXdlckZvdW5kYXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb3VuZGF0aW9uLmpzLm1hcCIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAyMDE4IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG55b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG5Zb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblxuICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXG5Vbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG5kaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG5XSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cblNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbmxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKi9cbmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tIFwidHNsaWJcIjtcbi8vIE5vdGUgdGhpcyBibG9ja2luZy1lbGVtZW50cyBpbXBvcnQgaXMgbm90IHJlZHVuZGFudCB3aXRoIHRoZSBvbmUgYmVsb3csXG4vLyBiZWNhdXNlIHdlIG5lZWQgdG8gZW5zdXJlIHdlIGltcG9ydCB0aGlzIG1vZHVsZSBhdCBydW50aW1lIGZvciBpdHNcbi8vIHNpZGUtZWZmZWN0cy4gU2VlXG4vLyBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQvd2lraS9GQVEjd2h5LWFyZS1pbXBvcnRzLWJlaW5nLWVsaWRlZC1pbi1teS1lbWl0LlxuaW1wb3J0ICdibG9ja2luZy1lbGVtZW50cyc7XG5pbXBvcnQgJ3dpY2ctaW5lcnQnO1xuaW1wb3J0IHsgc3RyaW5ncyB9IGZyb20gJ0BtYXRlcmlhbC9kcmF3ZXIvY29uc3RhbnRzLmpzJztcbmltcG9ydCBNRENEaXNtaXNzaWJsZURyYXdlckZvdW5kYXRpb24gZnJvbSAnQG1hdGVyaWFsL2RyYXdlci9kaXNtaXNzaWJsZS9mb3VuZGF0aW9uLmpzJztcbmltcG9ydCBNRENNb2RhbERyYXdlckZvdW5kYXRpb24gZnJvbSAnQG1hdGVyaWFsL2RyYXdlci9tb2RhbC9mb3VuZGF0aW9uLmpzJztcbmltcG9ydCB7IGFkZEhhc1JlbW92ZUNsYXNzLCBCYXNlRWxlbWVudCwgb2JzZXJ2ZXIgfSBmcm9tICdAbWF0ZXJpYWwvbXdjLWJhc2UvYmFzZS1lbGVtZW50LmpzJztcbmltcG9ydCB7IGh0bWwsIHByb3BlcnR5LCBxdWVyeSB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmltcG9ydCB7IGNsYXNzTWFwIH0gZnJvbSAnbGl0LWh0bWwvZGlyZWN0aXZlcy9jbGFzcy1tYXAnO1xuY29uc3QgYmxvY2tpbmdFbGVtZW50cyA9IGRvY3VtZW50LiRibG9ja2luZ0VsZW1lbnRzO1xuZXhwb3J0IGNsYXNzIERyYXdlckJhc2UgZXh0ZW5kcyBCYXNlRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzRm9jdXMgPSBudWxsO1xuICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNIZWFkZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy50eXBlID0gJyc7XG4gICAgfVxuICAgIGdldCBtZGNGb3VuZGF0aW9uQ2xhc3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnR5cGUgPT09ICdtb2RhbCcgPyBNRENNb2RhbERyYXdlckZvdW5kYXRpb24gOlxuICAgICAgICAgICAgTURDRGlzbWlzc2libGVEcmF3ZXJGb3VuZGF0aW9uO1xuICAgIH1cbiAgICBjcmVhdGVBZGFwdGVyKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBhZGRIYXNSZW1vdmVDbGFzcyh0aGlzLm1kY1Jvb3QpKSwgeyBlbGVtZW50SGFzQ2xhc3M6IChlbGVtZW50LCBjbGFzc05hbWUpID0+IGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSksIHNhdmVGb2N1czogKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIE5vdGUsIGNhc3RpbmcgdG8gYXZvaWQgY3VtYmVyc29tZSBydW50aW1lIGNoZWNrLlxuICAgICAgICAgICAgICAgIHRoaXMuX3ByZXZpb3VzRm9jdXMgPVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFJvb3ROb2RlKCkuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgICAgIH0sIHJlc3RvcmVGb2N1czogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzRm9jdXMgPSB0aGlzLl9wcmV2aW91c0ZvY3VzICYmIHRoaXMuX3ByZXZpb3VzRm9jdXMuZm9jdXM7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzRm9jdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHJldmlvdXNGb2N1cy5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIG5vdGlmeUNsb3NlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChzdHJpbmdzLkNMT1NFX0VWRU5ULCB7IGJ1YmJsZXM6IHRydWUsIGNhbmNlbGFibGU6IHRydWUgfSkpO1xuICAgICAgICAgICAgfSwgbm90aWZ5T3BlbjogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub3BlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChzdHJpbmdzLk9QRU5fRVZFTlQsIHsgYnViYmxlczogdHJ1ZSwgY2FuY2VsYWJsZTogdHJ1ZSB9KSk7XG4gICAgICAgICAgICB9LCBmb2N1c0FjdGl2ZU5hdmlnYXRpb25JdGVtOiAoKSA9PiB7IH0sIHRyYXBGb2N1czogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGJsb2NraW5nRWxlbWVudHMucHVzaCh0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcENvbnRlbnQuaW5lcnQgPSB0cnVlO1xuICAgICAgICAgICAgfSwgcmVsZWFzZUZvY3VzOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYmxvY2tpbmdFbGVtZW50cy5yZW1vdmUodGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBDb250ZW50LmluZXJ0ID0gZmFsc2U7XG4gICAgICAgICAgICB9IH0pO1xuICAgIH1cbiAgICBfaGFuZGxlU2NyaW1DbGljaygpIHtcbiAgICAgICAgaWYgKHRoaXMubWRjRm91bmRhdGlvbiBpbnN0YW5jZW9mIE1EQ01vZGFsRHJhd2VyRm91bmRhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5tZGNGb3VuZGF0aW9uLmhhbmRsZVNjcmltQ2xpY2soKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IGRpc21pc3NpYmxlID0gdGhpcy50eXBlID09PSAnZGlzbWlzc2libGUnIHx8IHRoaXMudHlwZSA9PT0gJ21vZGFsJztcbiAgICAgICAgY29uc3QgbW9kYWwgPSB0aGlzLnR5cGUgPT09ICdtb2RhbCc7XG4gICAgICAgIGNvbnN0IGhlYWRlciA9IHRoaXMuaGFzSGVhZGVyID8gaHRtbCBgXG4gICAgICA8ZGl2IGNsYXNzPVwibWRjLWRyYXdlcl9faGVhZGVyXCI+XG4gICAgICAgIDxoMyBjbGFzcz1cIm1kYy1kcmF3ZXJfX3RpdGxlXCI+PHNsb3QgbmFtZT1cInRpdGxlXCI+PC9zbG90PjwvaDM+XG4gICAgICAgIDxoNiBjbGFzcz1cIm1kYy1kcmF3ZXJfX3N1YnRpdGxlXCI+PHNsb3QgbmFtZT1cInN1YnRpdGxlXCI+PC9zbG90PjwvaDY+XG4gICAgICAgIDxzbG90IG5hbWU9XCJoZWFkZXJcIj48L3Nsb3Q+XG4gICAgICA8L2Rpdj5cbiAgICAgIGAgOlxuICAgICAgICAgICAgJyc7XG4gICAgICAgIHJldHVybiBodG1sIGBcbiAgICAgIDxhc2lkZSBjbGFzcz1cIm1kYy1kcmF3ZXJcbiAgICAgICAgICAke2NsYXNzTWFwKHtcbiAgICAgICAgICAgICdtZGMtZHJhd2VyLS1kaXNtaXNzaWJsZSc6IGRpc21pc3NpYmxlLFxuICAgICAgICAgICAgJ21kYy1kcmF3ZXItLW1vZGFsJzogbW9kYWxcbiAgICAgICAgfSl9XCI+XG4gICAgICAgICR7aGVhZGVyfVxuICAgICAgICA8ZGl2IGNsYXNzPVwibWRjLWRyYXdlcl9fY29udGVudFwiPjxzbG90Pjwvc2xvdD48L2Rpdj5cbiAgICAgIDwvYXNpZGU+XG4gICAgICAke21vZGFsID8gaHRtbCBgPGRpdiBjbGFzcz1cIm1kYy1kcmF3ZXItc2NyaW1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9XCIke3RoaXMuX2hhbmRsZVNjcmltQ2xpY2t9XCI+PC9kaXY+YCA6XG4gICAgICAgICAgICAnJ31cbiAgICAgIDxkaXYgY2xhc3M9XCJtZGMtZHJhd2VyLWFwcC1jb250ZW50XCI+XG4gICAgICAgIDxzbG90IG5hbWU9XCJhcHBDb250ZW50XCI+PC9zbG90PlxuICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgIH1cbiAgICAvLyBub3RlLCB3ZSBhdm9pZCBjYWxsaW5nIGBzdXBlci5maXJzdFVwZGF0ZWQoKWAgdG8gY29udHJvbCB3aGVuXG4gICAgLy8gYGNyZWF0ZUZvdW5kYXRpb24oKWAgaXMgY2FsbGVkLlxuICAgIGZpcnN0VXBkYXRlZCgpIHtcbiAgICAgICAgdGhpcy5tZGNSb290LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4gdGhpcy5tZGNGb3VuZGF0aW9uLmhhbmRsZUtleWRvd24oZSkpO1xuICAgICAgICB0aGlzLm1kY1Jvb3QuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIChlKSA9PiB0aGlzLm1kY0ZvdW5kYXRpb24uaGFuZGxlVHJhbnNpdGlvbkVuZChlKSk7XG4gICAgfVxuICAgIHVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICAgICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygndHlwZScpKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUZvdW5kYXRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIHF1ZXJ5KCcubWRjLWRyYXdlcicpXG5dLCBEcmF3ZXJCYXNlLnByb3RvdHlwZSwgXCJtZGNSb290XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBxdWVyeSgnLm1kYy1kcmF3ZXItYXBwLWNvbnRlbnQnKVxuXSwgRHJhd2VyQmFzZS5wcm90b3R5cGUsIFwiYXBwQ29udGVudFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgb2JzZXJ2ZXIoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICcnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLm1kY0ZvdW5kYXRpb24ub3BlbigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tZGNGb3VuZGF0aW9uLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9KSxcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIHJlZmxlY3Q6IHRydWUgfSlcbl0sIERyYXdlckJhc2UucHJvdG90eXBlLCBcIm9wZW5cIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuXSwgRHJhd2VyQmFzZS5wcm90b3R5cGUsIFwiaGFzSGVhZGVyXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHJlZmxlY3Q6IHRydWUgfSlcbl0sIERyYXdlckJhc2UucHJvdG90eXBlLCBcInR5cGVcIiwgdm9pZCAwKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW13Yy1kcmF3ZXItYmFzZS5qcy5tYXAiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xueW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG5TZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG5saW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiovXG5pbXBvcnQgeyBjc3MgfSBmcm9tICdsaXQtZWxlbWVudCc7XG5leHBvcnQgY29uc3Qgc3R5bGUgPSBjc3MgYC5tZGMtZHJhd2Vye2JvcmRlci1jb2xvcjpyZ2JhKDAsMCwwLC4xMik7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlci1yYWRpdXM6MCAwIDAgMDt6LWluZGV4OjY7d2lkdGg6MjU2cHg7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LXNocmluazowO2JveC1zaXppbmc6Ym9yZGVyLWJveDtoZWlnaHQ6MTAwJTtib3JkZXItcmlnaHQtd2lkdGg6MXB4O2JvcmRlci1yaWdodC1zdHlsZTpzb2xpZDtvdmVyZmxvdzpoaWRkZW47dHJhbnNpdGlvbi1wcm9wZXJ0eTp0cmFuc2Zvcm07dHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKX0ubWRjLWRyYXdlciAubWRjLWRyYXdlcl9fdGl0bGV7Y29sb3I6cmdiYSgwLDAsMCwuODcpfS5tZGMtZHJhd2VyIC5tZGMtbGlzdC1ncm91cF9fc3ViaGVhZGVye2NvbG9yOnJnYmEoMCwwLDAsLjYpfS5tZGMtZHJhd2VyIC5tZGMtZHJhd2VyX19zdWJ0aXRsZXtjb2xvcjpyZ2JhKDAsMCwwLC42KX0ubWRjLWRyYXdlciAubWRjLWxpc3QtaXRlbV9fZ3JhcGhpY3tjb2xvcjpyZ2JhKDAsMCwwLC42KX0ubWRjLWRyYXdlciAubWRjLWxpc3QtaXRlbXtjb2xvcjpyZ2JhKDAsMCwwLC44Nyl9Lm1kYy1kcmF3ZXIgLm1kYy1saXN0LWl0ZW0tLWFjdGl2YXRlZCAubWRjLWxpc3QtaXRlbV9fZ3JhcGhpY3tjb2xvcjojNjIwMGVlfS5tZGMtZHJhd2VyIC5tZGMtbGlzdC1pdGVtLS1hY3RpdmF0ZWR7Y29sb3I6cmdiYSg5OCwwLDIzOCwuODcpfVtkaXI9cnRsXSAubWRjLWRyYXdlciwubWRjLWRyYXdlcltkaXI9cnRsXXtib3JkZXItcmFkaXVzOjAgMCAwIDB9Lm1kYy1kcmF3ZXIgLm1kYy1saXN0LWl0ZW17Ym9yZGVyLXJhZGl1czo0cHh9Lm1kYy1kcmF3ZXIubWRjLWRyYXdlci0tb3Blbjpub3QoLm1kYy1kcmF3ZXItLWNsb3NpbmcpKy5tZGMtZHJhd2VyLWFwcC1jb250ZW50e21hcmdpbi1sZWZ0OjI1NnB4O21hcmdpbi1yaWdodDowfVtkaXI9cnRsXSAubWRjLWRyYXdlci5tZGMtZHJhd2VyLS1vcGVuOm5vdCgubWRjLWRyYXdlci0tY2xvc2luZykrLm1kYy1kcmF3ZXItYXBwLWNvbnRlbnQsLm1kYy1kcmF3ZXIubWRjLWRyYXdlci0tb3Blbjpub3QoLm1kYy1kcmF3ZXItLWNsb3NpbmcpKy5tZGMtZHJhd2VyLWFwcC1jb250ZW50W2Rpcj1ydGxde21hcmdpbi1sZWZ0OjA7bWFyZ2luLXJpZ2h0OjI1NnB4fVtkaXI9cnRsXSAubWRjLWRyYXdlciwubWRjLWRyYXdlcltkaXI9cnRsXXtib3JkZXItcmlnaHQtd2lkdGg6MDtib3JkZXItbGVmdC13aWR0aDoxcHg7Ym9yZGVyLXJpZ2h0LXN0eWxlOm5vbmU7Ym9yZGVyLWxlZnQtc3R5bGU6c29saWR9Lm1kYy1kcmF3ZXIgLm1kYy1saXN0LWl0ZW17Zm9udC1mYW1pbHk6Um9ib3RvLCBzYW5zLXNlcmlmOy1tb3otb3N4LWZvbnQtc21vb3RoaW5nOmdyYXlzY2FsZTstd2Via2l0LWZvbnQtc21vb3RoaW5nOmFudGlhbGlhc2VkO2ZvbnQtc2l6ZTouODc1cmVtO2xpbmUtaGVpZ2h0OjEuMzc1cmVtO2ZvbnQtd2VpZ2h0OjUwMDtsZXR0ZXItc3BhY2luZzouMDA3MTQyODU3MWVtO3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3RleHQtdHJhbnNmb3JtOmluaGVyaXQ7aGVpZ2h0OmNhbGMoNDhweCAtIDIgKiA0cHgpO21hcmdpbjo4cHggOHB4O3BhZGRpbmc6MCA4cHh9Lm1kYy1kcmF3ZXIgLm1kYy1saXN0LWl0ZW06bnRoLWNoaWxkKDEpe21hcmdpbi10b3A6MnB4fS5tZGMtZHJhd2VyIC5tZGMtbGlzdC1pdGVtOm50aC1sYXN0LWNoaWxkKDEpe21hcmdpbi1ib3R0b206MH0ubWRjLWRyYXdlciAubWRjLWxpc3QtZ3JvdXBfX3N1YmhlYWRlcntmb250LWZhbWlseTpSb2JvdG8sIHNhbnMtc2VyaWY7LW1vei1vc3gtZm9udC1zbW9vdGhpbmc6Z3JheXNjYWxlOy13ZWJraXQtZm9udC1zbW9vdGhpbmc6YW50aWFsaWFzZWQ7Zm9udC1zaXplOi44NzVyZW07bGluZS1oZWlnaHQ6MS4yNXJlbTtmb250LXdlaWdodDo0MDA7bGV0dGVyLXNwYWNpbmc6LjAxNzg1NzE0MjllbTt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDt0ZXh0LXRyYW5zZm9ybTppbmhlcml0O2Rpc3BsYXk6YmxvY2s7bWFyZ2luLXRvcDowO2xpbmUtaGVpZ2h0Om5vcm1hbDttYXJnaW46MDtwYWRkaW5nOjAgMTZweH0ubWRjLWRyYXdlciAubWRjLWxpc3QtZ3JvdXBfX3N1YmhlYWRlcjo6YmVmb3Jle2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjA7aGVpZ2h0OjI0cHg7Y29udGVudDpcIlwiO3ZlcnRpY2FsLWFsaWduOjB9Lm1kYy1kcmF3ZXIgLm1kYy1saXN0LWRpdmlkZXJ7bWFyZ2luOjNweCAwIDRweH0ubWRjLWRyYXdlciAubWRjLWxpc3QtaXRlbV9fdGV4dCwubWRjLWRyYXdlciAubWRjLWxpc3QtaXRlbV9fZ3JhcGhpY3twb2ludGVyLWV2ZW50czpub25lfS5tZGMtZHJhd2VyLS1hbmltYXRle3RyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMDAlKX1bZGlyPXJ0bF0gLm1kYy1kcmF3ZXItLWFuaW1hdGUsLm1kYy1kcmF3ZXItLWFuaW1hdGVbZGlyPXJ0bF17dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTAwJSl9Lm1kYy1kcmF3ZXItLW9wZW5pbmd7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCk7dHJhbnNpdGlvbi1kdXJhdGlvbjoyNTBtc31bZGlyPXJ0bF0gLm1kYy1kcmF3ZXItLW9wZW5pbmcsLm1kYy1kcmF3ZXItLW9wZW5pbmdbZGlyPXJ0bF17dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCl9Lm1kYy1kcmF3ZXItLWNsb3Npbmd7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTEwMCUpO3RyYW5zaXRpb24tZHVyYXRpb246MjAwbXN9W2Rpcj1ydGxdIC5tZGMtZHJhd2VyLS1jbG9zaW5nLC5tZGMtZHJhd2VyLS1jbG9zaW5nW2Rpcj1ydGxde3RyYW5zZm9ybTp0cmFuc2xhdGVYKDEwMCUpfS5tZGMtZHJhd2VyX19oZWFkZXJ7ZmxleC1zaHJpbms6MDtib3gtc2l6aW5nOmJvcmRlci1ib3g7bWluLWhlaWdodDo2NHB4O3BhZGRpbmc6MCAxNnB4IDRweH0ubWRjLWRyYXdlcl9fdGl0bGV7Zm9udC1mYW1pbHk6Um9ib3RvLCBzYW5zLXNlcmlmOy1tb3otb3N4LWZvbnQtc21vb3RoaW5nOmdyYXlzY2FsZTstd2Via2l0LWZvbnQtc21vb3RoaW5nOmFudGlhbGlhc2VkO2ZvbnQtc2l6ZToxLjI1cmVtO2xpbmUtaGVpZ2h0OjJyZW07Zm9udC13ZWlnaHQ6NTAwO2xldHRlci1zcGFjaW5nOi4wMTI1ZW07dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7dGV4dC10cmFuc2Zvcm06aW5oZXJpdDtkaXNwbGF5OmJsb2NrO21hcmdpbi10b3A6MDtsaW5lLWhlaWdodDpub3JtYWw7bWFyZ2luLWJvdHRvbTotMjBweH0ubWRjLWRyYXdlcl9fdGl0bGU6OmJlZm9yZXtkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDowO2hlaWdodDozNnB4O2NvbnRlbnQ6XCJcIjt2ZXJ0aWNhbC1hbGlnbjowfS5tZGMtZHJhd2VyX190aXRsZTo6YWZ0ZXJ7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MDtoZWlnaHQ6MjBweDtjb250ZW50OlwiXCI7dmVydGljYWwtYWxpZ246LTIwcHh9Lm1kYy1kcmF3ZXJfX3N1YnRpdGxle2ZvbnQtZmFtaWx5OlJvYm90bywgc2Fucy1zZXJpZjstbW96LW9zeC1mb250LXNtb290aGluZzpncmF5c2NhbGU7LXdlYmtpdC1mb250LXNtb290aGluZzphbnRpYWxpYXNlZDtmb250LXNpemU6Ljg3NXJlbTtsaW5lLWhlaWdodDoxLjI1cmVtO2ZvbnQtd2VpZ2h0OjQwMDtsZXR0ZXItc3BhY2luZzouMDE3ODU3MTQyOWVtO3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3RleHQtdHJhbnNmb3JtOmluaGVyaXQ7ZGlzcGxheTpibG9jazttYXJnaW4tdG9wOjA7bGluZS1oZWlnaHQ6bm9ybWFsO21hcmdpbi1ib3R0b206MH0ubWRjLWRyYXdlcl9fc3VidGl0bGU6OmJlZm9yZXtkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDowO2hlaWdodDoyMHB4O2NvbnRlbnQ6XCJcIjt2ZXJ0aWNhbC1hbGlnbjowfS5tZGMtZHJhd2VyX19jb250ZW50e2hlaWdodDoxMDAlO292ZXJmbG93LXk6YXV0bzstd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzp0b3VjaH0ubWRjLWRyYXdlci0tZGlzbWlzc2libGV7bGVmdDowO3JpZ2h0OmluaXRpYWw7ZGlzcGxheTpub25lO3Bvc2l0aW9uOmFic29sdXRlfVtkaXI9cnRsXSAubWRjLWRyYXdlci0tZGlzbWlzc2libGUsLm1kYy1kcmF3ZXItLWRpc21pc3NpYmxlW2Rpcj1ydGxde2xlZnQ6aW5pdGlhbDtyaWdodDowfS5tZGMtZHJhd2VyLS1kaXNtaXNzaWJsZS5tZGMtZHJhd2VyLS1vcGVue2Rpc3BsYXk6ZmxleH0ubWRjLWRyYXdlci1hcHAtY29udGVudHttYXJnaW4tbGVmdDowO21hcmdpbi1yaWdodDowO3Bvc2l0aW9uOnJlbGF0aXZlfVtkaXI9cnRsXSAubWRjLWRyYXdlci1hcHAtY29udGVudCwubWRjLWRyYXdlci1hcHAtY29udGVudFtkaXI9cnRsXXttYXJnaW4tbGVmdDowO21hcmdpbi1yaWdodDowfS5tZGMtZHJhd2VyLS1tb2RhbHtib3gtc2hhZG93OjBweCA4cHggMTBweCAtNXB4IHJnYmEoMCwgMCwgMCwgMC4yKSwwcHggMTZweCAyNHB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMTQpLDBweCA2cHggMzBweCA1cHggcmdiYSgwLDAsMCwuMTIpO2xlZnQ6MDtyaWdodDppbml0aWFsO2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjpmaXhlZH0ubWRjLWRyYXdlci0tbW9kYWwrLm1kYy1kcmF3ZXItc2NyaW17YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4zMil9W2Rpcj1ydGxdIC5tZGMtZHJhd2VyLS1tb2RhbCwubWRjLWRyYXdlci0tbW9kYWxbZGlyPXJ0bF17bGVmdDppbml0aWFsO3JpZ2h0OjB9Lm1kYy1kcmF3ZXItLW1vZGFsLm1kYy1kcmF3ZXItLW9wZW57ZGlzcGxheTpmbGV4fS5tZGMtZHJhd2VyLXNjcmlte2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjpmaXhlZDt0b3A6MDtsZWZ0OjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTt6LWluZGV4OjU7dHJhbnNpdGlvbi1wcm9wZXJ0eTpvcGFjaXR5O3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSl9Lm1kYy1kcmF3ZXItLW9wZW4rLm1kYy1kcmF3ZXItc2NyaW17ZGlzcGxheTpibG9ja30ubWRjLWRyYXdlci0tYW5pbWF0ZSsubWRjLWRyYXdlci1zY3JpbXtvcGFjaXR5OjB9Lm1kYy1kcmF3ZXItLW9wZW5pbmcrLm1kYy1kcmF3ZXItc2NyaW17dHJhbnNpdGlvbi1kdXJhdGlvbjoyNTBtcztvcGFjaXR5OjF9Lm1kYy1kcmF3ZXItLWNsb3NpbmcrLm1kYy1kcmF3ZXItc2NyaW17dHJhbnNpdGlvbi1kdXJhdGlvbjoyMDBtcztvcGFjaXR5OjB9Lm1kYy1kcmF3ZXItYXBwLWNvbnRlbnR7b3ZlcmZsb3c6YXV0bztmbGV4OjF9Omhvc3R7ZGlzcGxheTpmbGV4O2hlaWdodDoxMDAlfWA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1td2MtZHJhd2VyLWNzcy5qcy5tYXAiLCJpbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSBcInRzbGliXCI7XG4vKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xueW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG5TZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG5saW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiovXG5pbXBvcnQgeyBjdXN0b21FbGVtZW50IH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuaW1wb3J0IHsgRHJhd2VyQmFzZSB9IGZyb20gJy4vbXdjLWRyYXdlci1iYXNlLmpzJztcbmltcG9ydCB7IHN0eWxlIH0gZnJvbSAnLi9td2MtZHJhd2VyLWNzcy5qcyc7XG5sZXQgRHJhd2VyID0gY2xhc3MgRHJhd2VyIGV4dGVuZHMgRHJhd2VyQmFzZSB7XG59O1xuRHJhd2VyLnN0eWxlcyA9IHN0eWxlO1xuRHJhd2VyID0gX19kZWNvcmF0ZShbXG4gICAgY3VzdG9tRWxlbWVudCgnbXdjLWRyYXdlcicpXG5dLCBEcmF3ZXIpO1xuZXhwb3J0IHsgRHJhd2VyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1td2MtZHJhd2VyLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxOCBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbmltcG9ydCB7IEF0dHJpYnV0ZVBhcnQsIGRpcmVjdGl2ZSB9IGZyb20gJy4uL2xpdC1odG1sLmpzJztcbi8qKlxuICogRm9yIEF0dHJpYnV0ZVBhcnRzLCBzZXRzIHRoZSBhdHRyaWJ1dGUgaWYgdGhlIHZhbHVlIGlzIGRlZmluZWQgYW5kIHJlbW92ZXNcbiAqIHRoZSBhdHRyaWJ1dGUgaWYgdGhlIHZhbHVlIGlzIHVuZGVmaW5lZC5cbiAqXG4gKiBGb3Igb3RoZXIgcGFydCB0eXBlcywgdGhpcyBkaXJlY3RpdmUgaXMgYSBuby1vcC5cbiAqL1xuZXhwb3J0IGNvbnN0IGlmRGVmaW5lZCA9IGRpcmVjdGl2ZSgodmFsdWUpID0+IChwYXJ0KSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgcGFydCBpbnN0YW5jZW9mIEF0dHJpYnV0ZVBhcnQpIHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBwYXJ0LnZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gcGFydC5jb21taXR0ZXIubmFtZTtcbiAgICAgICAgICAgIHBhcnQuY29tbWl0dGVyLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwYXJ0LnNldFZhbHVlKHZhbHVlKTtcbiAgICB9XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlmLWRlZmluZWQuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG52YXIgY3NzQ2xhc3NlcyA9IHtcbiAgICBMSVNUX0lURU1fQUNUSVZBVEVEX0NMQVNTOiAnbWRjLWxpc3QtaXRlbS0tYWN0aXZhdGVkJyxcbiAgICBMSVNUX0lURU1fQ0xBU1M6ICdtZGMtbGlzdC1pdGVtJyxcbiAgICBMSVNUX0lURU1fRElTQUJMRURfQ0xBU1M6ICdtZGMtbGlzdC1pdGVtLS1kaXNhYmxlZCcsXG4gICAgTElTVF9JVEVNX1NFTEVDVEVEX0NMQVNTOiAnbWRjLWxpc3QtaXRlbS0tc2VsZWN0ZWQnLFxuICAgIFJPT1Q6ICdtZGMtbGlzdCcsXG59O1xudmFyIHN0cmluZ3MgPSB7XG4gICAgQUNUSU9OX0VWRU5UOiAnTURDTGlzdDphY3Rpb24nLFxuICAgIEFSSUFfQ0hFQ0tFRDogJ2FyaWEtY2hlY2tlZCcsXG4gICAgQVJJQV9DSEVDS0VEX0NIRUNLQk9YX1NFTEVDVE9SOiAnW3JvbGU9XCJjaGVja2JveFwiXVthcmlhLWNoZWNrZWQ9XCJ0cnVlXCJdJyxcbiAgICBBUklBX0NIRUNLRURfUkFESU9fU0VMRUNUT1I6ICdbcm9sZT1cInJhZGlvXCJdW2FyaWEtY2hlY2tlZD1cInRydWVcIl0nLFxuICAgIEFSSUFfQ1VSUkVOVDogJ2FyaWEtY3VycmVudCcsXG4gICAgQVJJQV9ESVNBQkxFRDogJ2FyaWEtZGlzYWJsZWQnLFxuICAgIEFSSUFfT1JJRU5UQVRJT046ICdhcmlhLW9yaWVudGF0aW9uJyxcbiAgICBBUklBX09SSUVOVEFUSU9OX0hPUklaT05UQUw6ICdob3Jpem9udGFsJyxcbiAgICBBUklBX1JPTEVfQ0hFQ0tCT1hfU0VMRUNUT1I6ICdbcm9sZT1cImNoZWNrYm94XCJdJyxcbiAgICBBUklBX1NFTEVDVEVEOiAnYXJpYS1zZWxlY3RlZCcsXG4gICAgQ0hFQ0tCT1hfUkFESU9fU0VMRUNUT1I6ICdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0sIGlucHV0W3R5cGU9XCJyYWRpb1wiXScsXG4gICAgQ0hFQ0tCT1hfU0VMRUNUT1I6ICdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nLFxuICAgIENISUxEX0VMRU1FTlRTX1RPX1RPR0dMRV9UQUJJTkRFWDogXCJcXG4gICAgLlwiICsgY3NzQ2xhc3Nlcy5MSVNUX0lURU1fQ0xBU1MgKyBcIiBidXR0b246bm90KDpkaXNhYmxlZCksXFxuICAgIC5cIiArIGNzc0NsYXNzZXMuTElTVF9JVEVNX0NMQVNTICsgXCIgYVxcbiAgXCIsXG4gICAgRk9DVVNBQkxFX0NISUxEX0VMRU1FTlRTOiBcIlxcbiAgICAuXCIgKyBjc3NDbGFzc2VzLkxJU1RfSVRFTV9DTEFTUyArIFwiIGJ1dHRvbjpub3QoOmRpc2FibGVkKSxcXG4gICAgLlwiICsgY3NzQ2xhc3Nlcy5MSVNUX0lURU1fQ0xBU1MgKyBcIiBhLFxcbiAgICAuXCIgKyBjc3NDbGFzc2VzLkxJU1RfSVRFTV9DTEFTUyArIFwiIGlucHV0W3R5cGU9XFxcInJhZGlvXFxcIl06bm90KDpkaXNhYmxlZCksXFxuICAgIC5cIiArIGNzc0NsYXNzZXMuTElTVF9JVEVNX0NMQVNTICsgXCIgaW5wdXRbdHlwZT1cXFwiY2hlY2tib3hcXFwiXTpub3QoOmRpc2FibGVkKVxcbiAgXCIsXG4gICAgUkFESU9fU0VMRUNUT1I6ICdpbnB1dFt0eXBlPVwicmFkaW9cIl0nLFxufTtcbnZhciBudW1iZXJzID0ge1xuICAgIFVOU0VUX0lOREVYOiAtMSxcbn07XG5leHBvcnQgeyBzdHJpbmdzLCBjc3NDbGFzc2VzLCBudW1iZXJzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIiwiLyoqXG4gQGxpY2Vuc2VcbiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBNRENGb3VuZGF0aW9uIH0gZnJvbSAnQG1hdGVyaWFsL2Jhc2UvZm91bmRhdGlvbic7XG5pbXBvcnQgeyBudW1iZXJzLCBzdHJpbmdzIH0gZnJvbSAnQG1hdGVyaWFsL2xpc3QvY29uc3RhbnRzJztcbmNvbnN0IGZpbmRJbmRleERpZmYgPSAob2xkU2V0LCBuZXdTZXQpID0+IHtcbiAgICBjb25zdCBvbGRBcnIgPSBBcnJheS5mcm9tKG9sZFNldCk7XG4gICAgY29uc3QgbmV3QXJyID0gQXJyYXkuZnJvbShuZXdTZXQpO1xuICAgIGNvbnN0IGRpZmYgPSB7IGFkZGVkOiBbXSwgcmVtb3ZlZDogW10gfTtcbiAgICBjb25zdCBvbGRTb3J0ZWQgPSBvbGRBcnIuc29ydCgpO1xuICAgIGNvbnN0IG5ld1NvcnRlZCA9IG5ld0Fyci5zb3J0KCk7XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBqID0gMDtcbiAgICB3aGlsZSAoaSA8IG9sZFNvcnRlZC5sZW5ndGggfHwgaiA8IG5ld1NvcnRlZC5sZW5ndGgpIHtcbiAgICAgICAgY29uc3Qgb2xkVmFsID0gb2xkU29ydGVkW2ldO1xuICAgICAgICBjb25zdCBuZXdWYWwgPSBuZXdTb3J0ZWRbal07XG4gICAgICAgIGlmIChvbGRWYWwgPT09IG5ld1ZhbCkge1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgaisrO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZFZhbCAhPT0gdW5kZWZpbmVkICYmIChuZXdWYWwgPT09IHVuZGVmaW5lZCB8fCBvbGRWYWwgPCBuZXdWYWwpKSB7XG4gICAgICAgICAgICBkaWZmLnJlbW92ZWQucHVzaChvbGRWYWwpO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5ld1ZhbCAhPT0gdW5kZWZpbmVkICYmIChvbGRWYWwgPT09IHVuZGVmaW5lZCB8fCBuZXdWYWwgPCBvbGRWYWwpKSB7XG4gICAgICAgICAgICBkaWZmLmFkZGVkLnB1c2gobmV3VmFsKTtcbiAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkaWZmO1xufTtcbmNvbnN0IEVMRU1FTlRTX0tFWV9BTExPV0VEX0lOID0gWydpbnB1dCcsICdidXR0b24nLCAndGV4dGFyZWEnLCAnc2VsZWN0J107XG5leHBvcnQgZnVuY3Rpb24gaXNJbmRleFNldChzZWxlY3RlZEluZGV4KSB7XG4gICAgcmV0dXJuIHNlbGVjdGVkSW5kZXggaW5zdGFuY2VvZiBTZXQ7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNFdmVudE11bHRpKGV2dCkge1xuICAgIHJldHVybiBpc0luZGV4U2V0KGV2dC5kZXRhaWwuaW5kZXgpO1xufVxuZXhwb3J0IGNvbnN0IGNyZWF0ZVNldEZyb21JbmRleCA9IChpbmRleCkgPT4ge1xuICAgIGNvbnN0IGVudHJ5ID0gaW5kZXggPT09IG51bWJlcnMuVU5TRVRfSU5ERVggPyBuZXcgU2V0KCkgOiBpbmRleDtcbiAgICByZXR1cm4gaXNJbmRleFNldChlbnRyeSkgPyBuZXcgU2V0KGVudHJ5KSA6IG5ldyBTZXQoW2VudHJ5XSk7XG59O1xuZXhwb3J0IGNsYXNzIE1EQ0xpc3RGb3VuZGF0aW9uIGV4dGVuZHMgTURDRm91bmRhdGlvbiB7XG4gICAgY29uc3RydWN0b3IoYWRhcHRlcikge1xuICAgICAgICBzdXBlcihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIE1EQ0xpc3RGb3VuZGF0aW9uLmRlZmF1bHRBZGFwdGVyKSwgYWRhcHRlcikpO1xuICAgICAgICB0aGlzLmlzTXVsdGlfID0gZmFsc2U7XG4gICAgICAgIHRoaXMud3JhcEZvY3VzXyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzVmVydGljYWxfID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4XyA9IG51bWJlcnMuVU5TRVRfSU5ERVg7XG4gICAgICAgIHRoaXMuZm9jdXNlZEl0ZW1JbmRleF8gPSBudW1iZXJzLlVOU0VUX0lOREVYO1xuICAgICAgICB0aGlzLnVzZUFjdGl2YXRlZENsYXNzXyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFyaWFDdXJyZW50QXR0clZhbHVlXyA9IG51bGw7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgc3RyaW5ncygpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZ3M7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgbnVtYmVycygpIHtcbiAgICAgICAgcmV0dXJuIG51bWJlcnM7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgZGVmYXVsdEFkYXB0ZXIoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmb2N1c0l0ZW1BdEluZGV4OiAoKSA9PiB1bmRlZmluZWQsXG4gICAgICAgICAgICBnZXRGb2N1c2VkRWxlbWVudEluZGV4OiAoKSA9PiAwLFxuICAgICAgICAgICAgZ2V0TGlzdEl0ZW1Db3VudDogKCkgPT4gMCxcbiAgICAgICAgICAgIGlzRm9jdXNJbnNpZGVMaXN0OiAoKSA9PiBmYWxzZSxcbiAgICAgICAgICAgIGlzUm9vdEZvY3VzZWQ6ICgpID0+IGZhbHNlLFxuICAgICAgICAgICAgbm90aWZ5QWN0aW9uOiAoKSA9PiB1bmRlZmluZWQsXG4gICAgICAgICAgICBub3RpZnlTZWxlY3RlZDogKCkgPT4gdW5kZWZpbmVkLFxuICAgICAgICAgICAgZ2V0U2VsZWN0ZWRTdGF0ZUZvckVsZW1lbnRJbmRleDogKCkgPT4gZmFsc2UsXG4gICAgICAgICAgICBzZXREaXNhYmxlZFN0YXRlRm9yRWxlbWVudEluZGV4OiAoKSA9PiB1bmRlZmluZWQsXG4gICAgICAgICAgICBnZXREaXNhYmxlZFN0YXRlRm9yRWxlbWVudEluZGV4OiAoKSA9PiBmYWxzZSxcbiAgICAgICAgICAgIHNldFNlbGVjdGVkU3RhdGVGb3JFbGVtZW50SW5kZXg6ICgpID0+IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHNldEFjdGl2YXRlZFN0YXRlRm9yRWxlbWVudEluZGV4OiAoKSA9PiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzZXRUYWJJbmRleEZvckVsZW1lbnRJbmRleDogKCkgPT4gdW5kZWZpbmVkLFxuICAgICAgICAgICAgc2V0QXR0cmlidXRlRm9yRWxlbWVudEluZGV4OiAoKSA9PiB1bmRlZmluZWQsXG4gICAgICAgICAgICBnZXRBdHRyaWJ1dGVGb3JFbGVtZW50SW5kZXg6ICgpID0+IG51bGwsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHByaXZhdGUgd3JhcEZvY3VzXyB2YXJpYWJsZS5cbiAgICAgKi9cbiAgICBzZXRXcmFwRm9jdXModmFsdWUpIHtcbiAgICAgICAgdGhpcy53cmFwRm9jdXNfID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHByaXZhdGUgd3JhcEZvY3VzXyB2YXJpYWJsZS5cbiAgICAgKi9cbiAgICBzZXRNdWx0aSh2YWx1ZSkge1xuICAgICAgICB0aGlzLmlzTXVsdGlfID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGlzVmVydGljYWxfIHByaXZhdGUgdmFyaWFibGUuXG4gICAgICovXG4gICAgc2V0VmVydGljYWxPcmllbnRhdGlvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLmlzVmVydGljYWxfID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHVzZUFjdGl2YXRlZENsYXNzXyBwcml2YXRlIHZhcmlhYmxlLlxuICAgICAqL1xuICAgIHNldFVzZUFjdGl2YXRlZENsYXNzKHVzZUFjdGl2YXRlZCkge1xuICAgICAgICB0aGlzLnVzZUFjdGl2YXRlZENsYXNzXyA9IHVzZUFjdGl2YXRlZDtcbiAgICB9XG4gICAgZ2V0U2VsZWN0ZWRJbmRleCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRJbmRleF87XG4gICAgfVxuICAgIHNldFNlbGVjdGVkSW5kZXgoaW5kZXgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzSW5kZXhWYWxpZF8oaW5kZXgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNNdWx0aV8pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0TXVsdGlTZWxlY3Rpb25BdEluZGV4XyhjcmVhdGVTZXRGcm9tSW5kZXgoaW5kZXgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U2luZ2xlU2VsZWN0aW9uQXRJbmRleF8oaW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvY3VzIGluIGhhbmRsZXIgZm9yIHRoZSBsaXN0IGl0ZW1zLlxuICAgICAqL1xuICAgIGhhbmRsZUZvY3VzSW4oXywgbGlzdEl0ZW1JbmRleCkge1xuICAgICAgICBpZiAobGlzdEl0ZW1JbmRleCA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXJfLnNldFRhYkluZGV4Rm9yRWxlbWVudEluZGV4KGxpc3RJdGVtSW5kZXgsIDApO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvY3VzIG91dCBoYW5kbGVyIGZvciB0aGUgbGlzdCBpdGVtcy5cbiAgICAgKi9cbiAgICBoYW5kbGVGb2N1c091dChfLCBsaXN0SXRlbUluZGV4KSB7XG4gICAgICAgIGlmIChsaXN0SXRlbUluZGV4ID49IDApIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlcl8uc2V0VGFiSW5kZXhGb3JFbGVtZW50SW5kZXgobGlzdEl0ZW1JbmRleCwgLTEpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCZXR3ZWVuIEZvY3Vzb3V0ICYgRm9jdXNpbiBzb21lIGJyb3dzZXJzIGRvIG5vdCBoYXZlIGZvY3VzIG9uIGFueVxuICAgICAgICAgKiBlbGVtZW50LiBTZXR0aW5nIGEgZGVsYXkgdG8gd2FpdCB0aWxsIHRoZSBmb2N1cyBpcyBtb3ZlZCB0byBuZXh0IGVsZW1lbnQuXG4gICAgICAgICAqL1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5hZGFwdGVyXy5pc0ZvY3VzSW5zaWRlTGlzdCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUYWJpbmRleFRvRmlyc3RTZWxlY3RlZEl0ZW1fKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBLZXkgaGFuZGxlciBmb3IgdGhlIGxpc3QuXG4gICAgICovXG4gICAgaGFuZGxlS2V5ZG93bihldnQsIGlzUm9vdExpc3RJdGVtLCBsaXN0SXRlbUluZGV4KSB7XG4gICAgICAgIGNvbnN0IGlzQXJyb3dMZWZ0ID0gZXZ0LmtleSA9PT0gJ0Fycm93TGVmdCcgfHwgZXZ0LmtleUNvZGUgPT09IDM3O1xuICAgICAgICBjb25zdCBpc0Fycm93VXAgPSBldnQua2V5ID09PSAnQXJyb3dVcCcgfHwgZXZ0LmtleUNvZGUgPT09IDM4O1xuICAgICAgICBjb25zdCBpc0Fycm93UmlnaHQgPSBldnQua2V5ID09PSAnQXJyb3dSaWdodCcgfHwgZXZ0LmtleUNvZGUgPT09IDM5O1xuICAgICAgICBjb25zdCBpc0Fycm93RG93biA9IGV2dC5rZXkgPT09ICdBcnJvd0Rvd24nIHx8IGV2dC5rZXlDb2RlID09PSA0MDtcbiAgICAgICAgY29uc3QgaXNIb21lID0gZXZ0LmtleSA9PT0gJ0hvbWUnIHx8IGV2dC5rZXlDb2RlID09PSAzNjtcbiAgICAgICAgY29uc3QgaXNFbmQgPSBldnQua2V5ID09PSAnRW5kJyB8fCBldnQua2V5Q29kZSA9PT0gMzU7XG4gICAgICAgIGNvbnN0IGlzRW50ZXIgPSBldnQua2V5ID09PSAnRW50ZXInIHx8IGV2dC5rZXlDb2RlID09PSAxMztcbiAgICAgICAgY29uc3QgaXNTcGFjZSA9IGV2dC5rZXkgPT09ICdTcGFjZScgfHwgZXZ0LmtleUNvZGUgPT09IDMyO1xuICAgICAgICBpZiAodGhpcy5hZGFwdGVyXy5pc1Jvb3RGb2N1c2VkKCkpIHtcbiAgICAgICAgICAgIGlmIChpc0Fycm93VXAgfHwgaXNFbmQpIHtcbiAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZvY3VzTGFzdEVsZW1lbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzQXJyb3dEb3duIHx8IGlzSG9tZSkge1xuICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZm9jdXNGaXJzdEVsZW1lbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3VycmVudEluZGV4ID0gdGhpcy5hZGFwdGVyXy5nZXRGb2N1c2VkRWxlbWVudEluZGV4KCk7XG4gICAgICAgIGlmIChjdXJyZW50SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICBjdXJyZW50SW5kZXggPSBsaXN0SXRlbUluZGV4O1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGV2ZW50IGRvZXNuJ3QgaGF2ZSBhIG1kYy1saXN0LWl0ZW0gYW5jZXN0b3IgZnJvbSB0aGVcbiAgICAgICAgICAgICAgICAvLyBjdXJyZW50IGxpc3QgKG5vdCBmcm9tIGEgc3VibGlzdCksIHJldHVybiBlYXJseS5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5leHRJbmRleDtcbiAgICAgICAgaWYgKCh0aGlzLmlzVmVydGljYWxfICYmIGlzQXJyb3dEb3duKSB8fFxuICAgICAgICAgICAgKCF0aGlzLmlzVmVydGljYWxfICYmIGlzQXJyb3dSaWdodCkpIHtcbiAgICAgICAgICAgIHRoaXMucHJldmVudERlZmF1bHRFdmVudF8oZXZ0KTtcbiAgICAgICAgICAgIG5leHRJbmRleCA9IHRoaXMuZm9jdXNOZXh0RWxlbWVudChjdXJyZW50SW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCh0aGlzLmlzVmVydGljYWxfICYmIGlzQXJyb3dVcCkgfHwgKCF0aGlzLmlzVmVydGljYWxfICYmIGlzQXJyb3dMZWZ0KSkge1xuICAgICAgICAgICAgdGhpcy5wcmV2ZW50RGVmYXVsdEV2ZW50XyhldnQpO1xuICAgICAgICAgICAgbmV4dEluZGV4ID0gdGhpcy5mb2N1c1ByZXZFbGVtZW50KGN1cnJlbnRJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNIb21lKSB7XG4gICAgICAgICAgICB0aGlzLnByZXZlbnREZWZhdWx0RXZlbnRfKGV2dCk7XG4gICAgICAgICAgICBuZXh0SW5kZXggPSB0aGlzLmZvY3VzRmlyc3RFbGVtZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNFbmQpIHtcbiAgICAgICAgICAgIHRoaXMucHJldmVudERlZmF1bHRFdmVudF8oZXZ0KTtcbiAgICAgICAgICAgIG5leHRJbmRleCA9IHRoaXMuZm9jdXNMYXN0RWxlbWVudCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzRW50ZXIgfHwgaXNTcGFjZSkge1xuICAgICAgICAgICAgaWYgKGlzUm9vdExpc3RJdGVtKSB7XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGVhcmx5IGlmIGVudGVyIGtleSBpcyBwcmVzc2VkIG9uIGFuY2hvciBlbGVtZW50IHdoaWNoIHRyaWdnZXJzXG4gICAgICAgICAgICAgICAgLy8gc3ludGhldGljIE1vdXNlRXZlbnQgZXZlbnQuXG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZ0LnRhcmdldDtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ICYmIHRhcmdldC50YWdOYW1lID09PSAnQScgJiYgaXNFbnRlcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucHJldmVudERlZmF1bHRFdmVudF8oZXZ0KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFNlbGVjdGVkSW5kZXhPbkFjdGlvbl8oY3VycmVudEluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZvY3VzZWRJdGVtSW5kZXhfID0gY3VycmVudEluZGV4O1xuICAgICAgICBpZiAobmV4dEluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VGFiaW5kZXhBdEluZGV4XyhuZXh0SW5kZXgpO1xuICAgICAgICAgICAgdGhpcy5mb2N1c2VkSXRlbUluZGV4XyA9IG5leHRJbmRleDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGljayBoYW5kbGVyIGZvciB0aGUgbGlzdC5cbiAgICAgKi9cbiAgICBoYW5kbGVTaW5nbGVTZWxlY3Rpb24oaW5kZXgsIGZvcmNlKSB7XG4gICAgICAgIGlmIChpbmRleCA9PT0gbnVtYmVycy5VTlNFVF9JTkRFWCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRJbmRleE9uQWN0aW9uXyhpbmRleCwgZm9yY2UpO1xuICAgICAgICB0aGlzLnNldFRhYmluZGV4QXRJbmRleF8oaW5kZXgpO1xuICAgICAgICB0aGlzLmZvY3VzZWRJdGVtSW5kZXhfID0gaW5kZXg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvY3VzZXMgdGhlIG5leHQgZWxlbWVudCBvbiB0aGUgbGlzdC5cbiAgICAgKi9cbiAgICBmb2N1c05leHRFbGVtZW50KGluZGV4KSB7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gdGhpcy5hZGFwdGVyXy5nZXRMaXN0SXRlbUNvdW50KCk7XG4gICAgICAgIGxldCBuZXh0SW5kZXggPSBpbmRleCArIDE7XG4gICAgICAgIGlmIChuZXh0SW5kZXggPj0gY291bnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLndyYXBGb2N1c18pIHtcbiAgICAgICAgICAgICAgICBuZXh0SW5kZXggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGVhcmx5IGJlY2F1c2UgbGFzdCBpdGVtIGlzIGFscmVhZHkgZm9jdXNlZC5cbiAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGFwdGVyXy5mb2N1c0l0ZW1BdEluZGV4KG5leHRJbmRleCk7XG4gICAgICAgIHJldHVybiBuZXh0SW5kZXg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvY3VzZXMgdGhlIHByZXZpb3VzIGVsZW1lbnQgb24gdGhlIGxpc3QuXG4gICAgICovXG4gICAgZm9jdXNQcmV2RWxlbWVudChpbmRleCkge1xuICAgICAgICBsZXQgcHJldkluZGV4ID0gaW5kZXggLSAxO1xuICAgICAgICBpZiAocHJldkluZGV4IDwgMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMud3JhcEZvY3VzXykge1xuICAgICAgICAgICAgICAgIHByZXZJbmRleCA9IHRoaXMuYWRhcHRlcl8uZ2V0TGlzdEl0ZW1Db3VudCgpIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFJldHVybiBlYXJseSBiZWNhdXNlIGZpcnN0IGl0ZW0gaXMgYWxyZWFkeSBmb2N1c2VkLlxuICAgICAgICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkYXB0ZXJfLmZvY3VzSXRlbUF0SW5kZXgocHJldkluZGV4KTtcbiAgICAgICAgcmV0dXJuIHByZXZJbmRleDtcbiAgICB9XG4gICAgZm9jdXNGaXJzdEVsZW1lbnQoKSB7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8uZm9jdXNJdGVtQXRJbmRleCgwKTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGZvY3VzTGFzdEVsZW1lbnQoKSB7XG4gICAgICAgIGNvbnN0IGxhc3RJbmRleCA9IHRoaXMuYWRhcHRlcl8uZ2V0TGlzdEl0ZW1Db3VudCgpIC0gMTtcbiAgICAgICAgdGhpcy5hZGFwdGVyXy5mb2N1c0l0ZW1BdEluZGV4KGxhc3RJbmRleCk7XG4gICAgICAgIHJldHVybiBsYXN0SW5kZXg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBpdGVtSW5kZXggSW5kZXggb2YgdGhlIGxpc3QgaXRlbVxuICAgICAqIEBwYXJhbSBpc0VuYWJsZWQgU2V0cyB0aGUgbGlzdCBpdGVtIHRvIGVuYWJsZWQgb3IgZGlzYWJsZWQuXG4gICAgICovXG4gICAgc2V0RW5hYmxlZChpdGVtSW5kZXgsIGlzRW5hYmxlZCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNJbmRleFZhbGlkXyhpdGVtSW5kZXgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGFwdGVyXy5zZXREaXNhYmxlZFN0YXRlRm9yRWxlbWVudEluZGV4KGl0ZW1JbmRleCwgIWlzRW5hYmxlZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuc3VyZXMgdGhhdCBwcmV2ZW50RGVmYXVsdCBpcyBvbmx5IGNhbGxlZCBpZiB0aGUgY29udGFpbmluZyBlbGVtZW50XG4gICAgICogZG9lc24ndCBjb25zdW1lIHRoZSBldmVudCwgYW5kIGl0IHdpbGwgY2F1c2UgYW4gdW5pbnRlbmRlZCBzY3JvbGwuXG4gICAgICovXG4gICAgcHJldmVudERlZmF1bHRFdmVudF8oZXZ0KSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGV2dC50YXJnZXQ7XG4gICAgICAgIGNvbnN0IHRhZ05hbWUgPSBgJHt0YXJnZXQudGFnTmFtZX1gLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChFTEVNRU5UU19LRVlfQUxMT1dFRF9JTi5pbmRleE9mKHRhZ05hbWUpID09PSAtMSkge1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0U2luZ2xlU2VsZWN0aW9uQXRJbmRleF8oaW5kZXgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJbmRleF8gPT09IGluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gdW5zZXQgcHJldmlvdXNcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJbmRleF8gIT09IG51bWJlcnMuVU5TRVRfSU5ERVgpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlcl8uc2V0U2VsZWN0ZWRTdGF0ZUZvckVsZW1lbnRJbmRleCh0aGlzLnNlbGVjdGVkSW5kZXhfLCBmYWxzZSk7XG4gICAgICAgICAgICBpZiAodGhpcy51c2VBY3RpdmF0ZWRDbGFzc18pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkYXB0ZXJfLnNldEFjdGl2YXRlZFN0YXRlRm9yRWxlbWVudEluZGV4KHRoaXMuc2VsZWN0ZWRJbmRleF8sIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgbmV3XG4gICAgICAgIHRoaXMuYWRhcHRlcl8uc2V0U2VsZWN0ZWRTdGF0ZUZvckVsZW1lbnRJbmRleChpbmRleCwgdHJ1ZSk7XG4gICAgICAgIGlmICh0aGlzLnVzZUFjdGl2YXRlZENsYXNzXykge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyXy5zZXRBY3RpdmF0ZWRTdGF0ZUZvckVsZW1lbnRJbmRleChpbmRleCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRBcmlhRm9yU2luZ2xlU2VsZWN0aW9uQXRJbmRleF8oaW5kZXgpO1xuICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXhfID0gaW5kZXg7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8ubm90aWZ5U2VsZWN0ZWQoaW5kZXgpO1xuICAgIH1cbiAgICBzZXRNdWx0aVNlbGVjdGlvbkF0SW5kZXhfKG5ld0luZGV4KSB7XG4gICAgICAgIGNvbnN0IG9sZEluZGV4ID0gY3JlYXRlU2V0RnJvbUluZGV4KHRoaXMuc2VsZWN0ZWRJbmRleF8pO1xuICAgICAgICBjb25zdCBkaWZmID0gZmluZEluZGV4RGlmZihvbGRJbmRleCwgbmV3SW5kZXgpO1xuICAgICAgICBpZiAoIWRpZmYucmVtb3ZlZC5sZW5ndGggJiYgIWRpZmYuYWRkZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCByZW1vdmVkIG9mIGRpZmYucmVtb3ZlZCkge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyXy5zZXRTZWxlY3RlZFN0YXRlRm9yRWxlbWVudEluZGV4KHJlbW92ZWQsIGZhbHNlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnVzZUFjdGl2YXRlZENsYXNzXykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlcl8uc2V0QWN0aXZhdGVkU3RhdGVGb3JFbGVtZW50SW5kZXgocmVtb3ZlZCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgYWRkZWQgb2YgZGlmZi5hZGRlZCkge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyXy5zZXRTZWxlY3RlZFN0YXRlRm9yRWxlbWVudEluZGV4KGFkZGVkLCB0cnVlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnVzZUFjdGl2YXRlZENsYXNzXykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlcl8uc2V0QWN0aXZhdGVkU3RhdGVGb3JFbGVtZW50SW5kZXgoYWRkZWQsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleF8gPSBuZXdJbmRleDtcbiAgICAgICAgdGhpcy5hZGFwdGVyXy5ub3RpZnlTZWxlY3RlZChuZXdJbmRleCwgZGlmZik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgYXJpYSBhdHRyaWJ1dGUgZm9yIHNpbmdsZSBzZWxlY3Rpb24gYXQgZ2l2ZW4gaW5kZXguXG4gICAgICovXG4gICAgc2V0QXJpYUZvclNpbmdsZVNlbGVjdGlvbkF0SW5kZXhfKGluZGV4KSB7XG4gICAgICAgIC8vIERldGVjdCB0aGUgcHJlc2VuY2Ugb2YgYXJpYS1jdXJyZW50IGFuZCBnZXQgdGhlIHZhbHVlIG9ubHkgZHVyaW5nIGxpc3RcbiAgICAgICAgLy8gaW5pdGlhbGl6YXRpb24gd2hlbiBpdCBpcyBpbiB1bnNldCBzdGF0ZS5cbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJbmRleF8gPT09IG51bWJlcnMuVU5TRVRfSU5ERVgpIHtcbiAgICAgICAgICAgIHRoaXMuYXJpYUN1cnJlbnRBdHRyVmFsdWVfID0gdGhpcy5hZGFwdGVyXy5nZXRBdHRyaWJ1dGVGb3JFbGVtZW50SW5kZXgoaW5kZXgsIHN0cmluZ3MuQVJJQV9DVVJSRU5UKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc0FyaWFDdXJyZW50ID0gdGhpcy5hcmlhQ3VycmVudEF0dHJWYWx1ZV8gIT09IG51bGw7XG4gICAgICAgIGNvbnN0IGFyaWFBdHRyaWJ1dGUgPSBpc0FyaWFDdXJyZW50ID8gc3RyaW5ncy5BUklBX0NVUlJFTlQgOiBzdHJpbmdzLkFSSUFfU0VMRUNURUQ7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkSW5kZXhfICE9PSBudW1iZXJzLlVOU0VUX0lOREVYKSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXJfLnNldEF0dHJpYnV0ZUZvckVsZW1lbnRJbmRleCh0aGlzLnNlbGVjdGVkSW5kZXhfLCBhcmlhQXR0cmlidXRlLCAnZmFsc2UnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhcmlhQXR0cmlidXRlVmFsdWUgPSBpc0FyaWFDdXJyZW50ID8gdGhpcy5hcmlhQ3VycmVudEF0dHJWYWx1ZV8gOiAndHJ1ZSc7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8uc2V0QXR0cmlidXRlRm9yRWxlbWVudEluZGV4KGluZGV4LCBhcmlhQXR0cmlidXRlLCBhcmlhQXR0cmlidXRlVmFsdWUpO1xuICAgIH1cbiAgICBzZXRUYWJpbmRleEF0SW5kZXhfKGluZGV4KSB7XG4gICAgICAgIGlmICh0aGlzLmZvY3VzZWRJdGVtSW5kZXhfID09PSBudW1iZXJzLlVOU0VUX0lOREVYICYmIGluZGV4ICE9PSAwKSB7XG4gICAgICAgICAgICAvLyBJZiBubyBsaXN0IGl0ZW0gd2FzIHNlbGVjdGVkIHNldCBmaXJzdCBsaXN0IGl0ZW0ncyB0YWJpbmRleCB0byAtMS5cbiAgICAgICAgICAgIC8vIEdlbmVyYWxseSwgdGFiaW5kZXggaXMgc2V0IHRvIDAgb24gZmlyc3QgbGlzdCBpdGVtIG9mIGxpc3QgdGhhdCBoYXMgbm9cbiAgICAgICAgICAgIC8vIHByZXNlbGVjdGVkIGl0ZW1zLlxuICAgICAgICAgICAgdGhpcy5hZGFwdGVyXy5zZXRUYWJJbmRleEZvckVsZW1lbnRJbmRleCgwLCAtMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5mb2N1c2VkSXRlbUluZGV4XyA+PSAwICYmIHRoaXMuZm9jdXNlZEl0ZW1JbmRleF8gIT09IGluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXJfLnNldFRhYkluZGV4Rm9yRWxlbWVudEluZGV4KHRoaXMuZm9jdXNlZEl0ZW1JbmRleF8sIC0xKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkYXB0ZXJfLnNldFRhYkluZGV4Rm9yRWxlbWVudEluZGV4KGluZGV4LCAwKTtcbiAgICB9XG4gICAgc2V0VGFiaW5kZXhUb0ZpcnN0U2VsZWN0ZWRJdGVtXygpIHtcbiAgICAgICAgbGV0IHRhcmdldEluZGV4ID0gMDtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnNlbGVjdGVkSW5kZXhfID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4XyAhPT0gbnVtYmVycy5VTlNFVF9JTkRFWCkge1xuICAgICAgICAgICAgdGFyZ2V0SW5kZXggPSB0aGlzLnNlbGVjdGVkSW5kZXhfO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzSW5kZXhTZXQodGhpcy5zZWxlY3RlZEluZGV4XykgJiYgdGhpcy5zZWxlY3RlZEluZGV4Xy5zaXplID4gMCkge1xuICAgICAgICAgICAgdGFyZ2V0SW5kZXggPSBNYXRoLm1pbiguLi50aGlzLnNlbGVjdGVkSW5kZXhfKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFRhYmluZGV4QXRJbmRleF8odGFyZ2V0SW5kZXgpO1xuICAgIH1cbiAgICBpc0luZGV4VmFsaWRfKGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzTXVsdGlfKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNRENMaXN0Rm91bmRhdGlvbjogQXJyYXkgb2YgaW5kZXggaXMgb25seSBzdXBwb3J0ZWQgZm9yIGNoZWNrYm94IGJhc2VkIGxpc3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbmRleC5zaXplID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgaXNPbmVJblJhbmdlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBpc09uZUluUmFuZ2UgPSB0aGlzLmlzSW5kZXhJblJhbmdlXyhlbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc09uZUluUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBpc09uZUluUmFuZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGluZGV4ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNNdWx0aV8pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01EQ0xpc3RGb3VuZGF0aW9uOiBFeHBlY3RlZCBhcnJheSBvZiBpbmRleCBmb3IgY2hlY2tib3ggYmFzZWQgbGlzdCBidXQgZ290IG51bWJlcjogJyArXG4gICAgICAgICAgICAgICAgICAgIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzSW5kZXhJblJhbmdlXyhpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaXNJbmRleEluUmFuZ2VfKGluZGV4KSB7XG4gICAgICAgIGNvbnN0IGxpc3RTaXplID0gdGhpcy5hZGFwdGVyXy5nZXRMaXN0SXRlbUNvdW50KCk7XG4gICAgICAgIHJldHVybiBpbmRleCA+PSAwICYmIGluZGV4IDwgbGlzdFNpemU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgc2VsZWN0ZWQgaW5kZXggb24gdXNlciBhY3Rpb24sIHRvZ2dsZXMgY2hlY2tib3ggLyByYWRpbyBiYXNlZCBvblxuICAgICAqIHRvZ2dsZUNoZWNrYm94IHZhbHVlLiBVc2VyIGludGVyYWN0aW9uIHNob3VsZCBub3QgdG9nZ2xlIGxpc3QgaXRlbShzKSB3aGVuXG4gICAgICogZGlzYWJsZWQuXG4gICAgICovXG4gICAgc2V0U2VsZWN0ZWRJbmRleE9uQWN0aW9uXyhpbmRleCwgZm9yY2UpIHtcbiAgICAgICAgaWYgKHRoaXMuYWRhcHRlcl8uZ2V0RGlzYWJsZWRTdGF0ZUZvckVsZW1lbnRJbmRleChpbmRleCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY2hlY2tlZEluZGV4ID0gaW5kZXg7XG4gICAgICAgIGlmICh0aGlzLmlzTXVsdGlfKSB7XG4gICAgICAgICAgICBjaGVja2VkSW5kZXggPSBuZXcgU2V0KFtpbmRleF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pc0luZGV4VmFsaWRfKGNoZWNrZWRJbmRleCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc011bHRpXykge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVNdWx0aUF0SW5kZXgoaW5kZXgsIGZvcmNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U2luZ2xlU2VsZWN0aW9uQXRJbmRleF8oaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRhcHRlcl8ubm90aWZ5QWN0aW9uKGluZGV4KTtcbiAgICB9XG4gICAgdG9nZ2xlTXVsdGlBdEluZGV4KGluZGV4LCBmb3JjZSkge1xuICAgICAgICBsZXQgbmV3U2VsZWN0aW9uVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgaWYgKGZvcmNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5ld1NlbGVjdGlvblZhbHVlID0gIXRoaXMuYWRhcHRlcl8uZ2V0U2VsZWN0ZWRTdGF0ZUZvckVsZW1lbnRJbmRleChpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXdTZWxlY3Rpb25WYWx1ZSA9IGZvcmNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld1NldCA9IGNyZWF0ZVNldEZyb21JbmRleCh0aGlzLnNlbGVjdGVkSW5kZXhfKTtcbiAgICAgICAgaWYgKG5ld1NlbGVjdGlvblZhbHVlKSB7XG4gICAgICAgICAgICBuZXdTZXQuYWRkKGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5ld1NldC5kZWxldGUoaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0TXVsdGlTZWxlY3Rpb25BdEluZGV4XyhuZXdTZXQpO1xuICAgIH1cbn1cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1kZWZhdWx0LWV4cG9ydCBOZWVkZWQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbi8vIHdpdGggTURDIFdlYiB2MC40NC4wIGFuZCBlYXJsaWVyLlxuZXhwb3J0IGRlZmF1bHQgTURDTGlzdEZvdW5kYXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1td2MtbGlzdC1mb3VuZGF0aW9uLmpzLm1hcCIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAyMDIwIEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG55b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG5Zb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblxuICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXG5Vbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG5kaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG5XSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cblNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbmxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKi9cbmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEJhc2VFbGVtZW50LCBvYnNlcnZlciB9IGZyb20gJ0BtYXRlcmlhbC9td2MtYmFzZS9iYXNlLWVsZW1lbnQuanMnO1xuaW1wb3J0IHsgZGVlcEFjdGl2ZUVsZW1lbnRQYXRoLCBkb2VzRWxlbWVudENvbnRhaW5Gb2N1cywgZmluZEFzc2lnbmVkRWxlbWVudCwgaXNOb2RlRWxlbWVudCB9IGZyb20gJ0BtYXRlcmlhbC9td2MtYmFzZS91dGlscyc7XG5pbXBvcnQgeyBodG1sLCBwcm9wZXJ0eSwgcXVlcnkgfSBmcm9tICdsaXQtZWxlbWVudCc7XG5pbXBvcnQgeyBpZkRlZmluZWQgfSBmcm9tICdsaXQtaHRtbC9kaXJlY3RpdmVzL2lmLWRlZmluZWQnO1xuaW1wb3J0IE1EQ0xpc3RGb3VuZGF0aW9uLCB7IGlzSW5kZXhTZXQgfSBmcm9tICcuL213Yy1saXN0LWZvdW5kYXRpb24nO1xuZXhwb3J0IHsgY3JlYXRlU2V0RnJvbUluZGV4LCBpc0V2ZW50TXVsdGksIGlzSW5kZXhTZXQgfSBmcm9tICcuL213Yy1saXN0LWZvdW5kYXRpb24nO1xuY29uc3QgaXNMaXN0SXRlbSA9IChlbGVtZW50KSA9PiB7XG4gICAgcmV0dXJuIGVsZW1lbnQuaGFzQXR0cmlidXRlKCdtd2MtbGlzdC1pdGVtJyk7XG59O1xuLyoqXG4gKiBAZmlyZXMgc2VsZWN0ZWQge1NlbGVjdGVkRGV0YWlsfVxuICogQGZpcmVzIGFjdGlvbiB7QWN0aW9uRGV0YWlsfVxuICovXG5leHBvcnQgY2xhc3MgTGlzdEJhc2UgZXh0ZW5kcyBCYXNlRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubWRjQWRhcHRlciA9IG51bGw7XG4gICAgICAgIHRoaXMubWRjRm91bmRhdGlvbkNsYXNzID0gTURDTGlzdEZvdW5kYXRpb247XG4gICAgICAgIHRoaXMuYWN0aXZhdGFibGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tdWx0aSA9IGZhbHNlO1xuICAgICAgICB0aGlzLndyYXBGb2N1cyA9IGZhbHNlO1xuICAgICAgICB0aGlzLml0ZW1Sb2xlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5uZXJSb2xlID0gbnVsbDtcbiAgICAgICAgdGhpcy5yb290VGFiYmFibGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wcmV2aW91c1RhYmluZGV4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5ub25pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLml0ZW1zXyA9IFtdO1xuICAgIH1cbiAgICBnZXQgYXNzaWduZWRFbGVtZW50cygpIHtcbiAgICAgICAgY29uc3Qgc2xvdCA9IHRoaXMuc2xvdEVsZW1lbnQ7XG4gICAgICAgIGlmIChzbG90KSB7XG4gICAgICAgICAgICByZXR1cm4gc2xvdC5hc3NpZ25lZE5vZGVzKHsgZmxhdHRlbjogdHJ1ZSB9KS5maWx0ZXIoaXNOb2RlRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBnZXQgaXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zXztcbiAgICB9XG4gICAgdXBkYXRlSXRlbXMoKSB7XG4gICAgICAgIGNvbnN0IG5vZGVzID0gdGhpcy5hc3NpZ25lZEVsZW1lbnRzO1xuICAgICAgICBjb25zdCBsaXN0SXRlbXMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG5vZGVzKSB7XG4gICAgICAgICAgICBpZiAoaXNMaXN0SXRlbShub2RlKSkge1xuICAgICAgICAgICAgICAgIGxpc3RJdGVtcy5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGUuaGFzQXR0cmlidXRlKCdkaXZpZGVyJykgJiYgIW5vZGUuaGFzQXR0cmlidXRlKCdyb2xlJykpIHtcbiAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZSgncm9sZScsICdzZXBhcmF0b3InKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLml0ZW1zXyA9IGxpc3RJdGVtcztcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRJbmRpY2VzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLml0ZW1zXy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXRlbVJvbGVzKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCB0aGlzLml0ZW1Sb2xlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpdGVtLnJlbW92ZUF0dHJpYnV0ZSgncm9sZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGl0ZW0uc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEluZGljZXMuYWRkKGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLm11bHRpKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdChzZWxlY3RlZEluZGljZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBzZWxlY3RlZEluZGljZXMuc2l6ZSA/IHNlbGVjdGVkSW5kaWNlcy5lbnRyaWVzKCkubmV4dCgpLnZhbHVlWzFdIDogLTE7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdChpbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHNlbGVjdGVkKCkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIGlmICghaXNJbmRleFNldChpbmRleCkpIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLml0ZW1zW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZWxlY3RlZCA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGluZGV4KSB7XG4gICAgICAgICAgICBzZWxlY3RlZC5wdXNoKHRoaXMuaXRlbXNbZW50cnldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZWN0ZWQ7XG4gICAgfVxuICAgIGdldCBpbmRleCgpIHtcbiAgICAgICAgaWYgKHRoaXMubWRjRm91bmRhdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWRjRm91bmRhdGlvbi5nZXRTZWxlY3RlZEluZGV4KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHJvbGUgPSB0aGlzLmlubmVyUm9sZSA9PT0gbnVsbCA/IHVuZGVmaW5lZCA6IHRoaXMuaW5uZXJSb2xlO1xuICAgICAgICBjb25zdCB0YWJpbmRleCA9IHRoaXMucm9vdFRhYmJhYmxlID8gJzAnIDogJy0xJztcbiAgICAgICAgcmV0dXJuIGh0bWwgYFxuICAgICAgPCEtLSBAdHMtaWdub3JlIC0tPlxuICAgICAgPHVsXG4gICAgICAgICAgdGFiaW5kZXg9JHt0YWJpbmRleH1cbiAgICAgICAgICByb2xlPVwiJHtpZkRlZmluZWQocm9sZSl9XCJcbiAgICAgICAgICBjbGFzcz1cIm1kYy1saXN0XCJcbiAgICAgICAgICBAa2V5ZG93bj0ke3RoaXMub25LZXlkb3dufVxuICAgICAgICAgIEBmb2N1c2luPSR7dGhpcy5vbkZvY3VzSW59XG4gICAgICAgICAgQGZvY3Vzb3V0PSR7dGhpcy5vbkZvY3VzT3V0fVxuICAgICAgICAgIEByZXF1ZXN0LXNlbGVjdGVkPSR7dGhpcy5vblJlcXVlc3RTZWxlY3RlZH0+XG4gICAgICAgIDxzbG90XG4gICAgICAgICAgICBAc2xvdGNoYW5nZT0ke3RoaXMub25TbG90Q2hhbmdlfVxuICAgICAgICAgICAgQGxpc3QtaXRlbS1yZW5kZXJlZD0ke3RoaXMub25MaXN0SXRlbUNvbm5lY3RlZH0+XG4gICAgICAgIDwvc2xvdD5cbiAgICAgIDwvdWw+XG4gICAgYDtcbiAgICB9XG4gICAgb25Gb2N1c0luKGV2dCkge1xuICAgICAgICBpZiAodGhpcy5tZGNGb3VuZGF0aW9uICYmIHRoaXMubWRjUm9vdCkge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmdldEluZGV4T2ZUYXJnZXQoZXZ0KTtcbiAgICAgICAgICAgIHRoaXMubWRjRm91bmRhdGlvbi5oYW5kbGVGb2N1c0luKGV2dCwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uRm9jdXNPdXQoZXZ0KSB7XG4gICAgICAgIGlmICh0aGlzLm1kY0ZvdW5kYXRpb24gJiYgdGhpcy5tZGNSb290KSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuZ2V0SW5kZXhPZlRhcmdldChldnQpO1xuICAgICAgICAgICAgdGhpcy5tZGNGb3VuZGF0aW9uLmhhbmRsZUZvY3VzT3V0KGV2dCwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uS2V5ZG93bihldnQpIHtcbiAgICAgICAgaWYgKHRoaXMubWRjRm91bmRhdGlvbiAmJiB0aGlzLm1kY1Jvb3QpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5nZXRJbmRleE9mVGFyZ2V0KGV2dCk7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldnQudGFyZ2V0O1xuICAgICAgICAgICAgY29uc3QgaXNSb290TGlzdEl0ZW0gPSBpc0xpc3RJdGVtKHRhcmdldCk7XG4gICAgICAgICAgICB0aGlzLm1kY0ZvdW5kYXRpb24uaGFuZGxlS2V5ZG93bihldnQsIGlzUm9vdExpc3RJdGVtLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25SZXF1ZXN0U2VsZWN0ZWQoZXZ0KSB7XG4gICAgICAgIGlmICh0aGlzLm1kY0ZvdW5kYXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5nZXRJbmRleE9mVGFyZ2V0KGV2dCk7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuaXRlbXNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IGV2dC5kZXRhaWwuc2VsZWN0ZWQ7XG4gICAgICAgICAgICB0aGlzLm1kY0ZvdW5kYXRpb24uaGFuZGxlU2luZ2xlU2VsZWN0aW9uKGluZGV4LCBzZWxlY3RlZCk7XG4gICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0SW5kZXhPZlRhcmdldChldnQpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSB0aGlzLml0ZW1zO1xuICAgICAgICBjb25zdCBwYXRoID0gZXZ0LmNvbXBvc2VkUGF0aCgpO1xuICAgICAgICBmb3IgKGNvbnN0IHBhdGhJdGVtIG9mIHBhdGgpIHtcbiAgICAgICAgICAgIGxldCBpbmRleCA9IC0xO1xuICAgICAgICAgICAgaWYgKGlzTm9kZUVsZW1lbnQocGF0aEl0ZW0pICYmIGlzTGlzdEl0ZW0ocGF0aEl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBlbGVtZW50cy5pbmRleE9mKHBhdGhJdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBjcmVhdGVBZGFwdGVyKCkge1xuICAgICAgICB0aGlzLm1kY0FkYXB0ZXIgPSB7XG4gICAgICAgICAgICBnZXRMaXN0SXRlbUNvdW50OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWRjUm9vdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pdGVtcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldEZvY3VzZWRFbGVtZW50SW5kZXg6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMubWRjUm9vdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVFbGVtZW50UGF0aCA9IGRlZXBBY3RpdmVFbGVtZW50UGF0aCgpO1xuICAgICAgICAgICAgICAgIGlmICghYWN0aXZlRWxlbWVudFBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IGFjdGl2ZUVsZW1lbnRQYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUl0ZW0gPSBhY3RpdmVFbGVtZW50UGF0aFtpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTGlzdEl0ZW0oYWN0aXZlSXRlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLml0ZW1zLmluZGV4T2YoYWN0aXZlSXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldEF0dHJpYnV0ZUZvckVsZW1lbnRJbmRleDogKGluZGV4LCBhdHRyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGlzdEVsZW1lbnQgPSB0aGlzLm1kY1Jvb3Q7XG4gICAgICAgICAgICAgICAgaWYgKCFsaXN0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLml0ZW1zW2luZGV4XTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudCA/IGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHIpIDogJyc7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0QXR0cmlidXRlRm9yRWxlbWVudEluZGV4OiAoaW5kZXgsIGF0dHIsIHZhbCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5tZGNSb290KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuaXRlbXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHIsIHZhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZvY3VzSXRlbUF0SW5kZXg6IChpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLml0ZW1zW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldFRhYkluZGV4Rm9yRWxlbWVudEluZGV4OiAoaW5kZXgsIHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuaXRlbXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0udGFiaW5kZXggPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbm90aWZ5QWN0aW9uOiAoaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbml0ID0geyBidWJibGVzOiB0cnVlLCBjb21wb3NlZDogdHJ1ZSB9O1xuICAgICAgICAgICAgICAgIGluaXQuZGV0YWlsID0geyBpbmRleCB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGV2ID0gbmV3IEN1c3RvbUV2ZW50KCdhY3Rpb24nLCBpbml0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXYpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5vdGlmeVNlbGVjdGVkOiAoaW5kZXgsIGRpZmYpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbml0ID0geyBidWJibGVzOiB0cnVlLCBjb21wb3NlZDogdHJ1ZSB9O1xuICAgICAgICAgICAgICAgIGluaXQuZGV0YWlsID0geyBpbmRleCwgZGlmZiB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGV2ID0gbmV3IEN1c3RvbUV2ZW50KCdzZWxlY3RlZCcsIGluaXQpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNGb2N1c0luc2lkZUxpc3Q6ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9lc0VsZW1lbnRDb250YWluRm9jdXModGhpcyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNSb290Rm9jdXNlZDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1kY1Jvb3QgPSB0aGlzLm1kY1Jvb3Q7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdCA9IG1kY1Jvb3QuZ2V0Um9vdE5vZGUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcm9vdC5hY3RpdmVFbGVtZW50ID09PSBtZGNSb290O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldERpc2FibGVkU3RhdGVGb3JFbGVtZW50SW5kZXg6IChpbmRleCwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5pdGVtc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaXRlbS5kaXNhYmxlZCA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldERpc2FibGVkU3RhdGVGb3JFbGVtZW50SW5kZXg6IChpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLml0ZW1zW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5kaXNhYmxlZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRTZWxlY3RlZFN0YXRlRm9yRWxlbWVudEluZGV4OiAoaW5kZXgsIHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuaXRlbXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmICghaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRTZWxlY3RlZFN0YXRlRm9yRWxlbWVudEluZGV4OiAoaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5pdGVtc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uc2VsZWN0ZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0QWN0aXZhdGVkU3RhdGVGb3JFbGVtZW50SW5kZXg6IChpbmRleCwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5pdGVtc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaXRlbS5hY3RpdmF0ZWQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLm1kY0FkYXB0ZXI7XG4gICAgfVxuICAgIHNlbGVjdFVpKGluZGV4LCBhY3RpdmF0ZSA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLml0ZW1zW2luZGV4XTtcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgaXRlbS5hY3RpdmF0ZWQgPSBhY3RpdmF0ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXNlbGVjdFVpKGluZGV4KSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLml0ZW1zW2luZGV4XTtcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGl0ZW0uYWN0aXZhdGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2VsZWN0KGluZGV4KSB7XG4gICAgICAgIGlmICghdGhpcy5tZGNGb3VuZGF0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tZGNGb3VuZGF0aW9uLnNldFNlbGVjdGVkSW5kZXgoaW5kZXgpO1xuICAgIH1cbiAgICB0b2dnbGUoaW5kZXgsIGZvcmNlKSB7XG4gICAgICAgIHRoaXMubWRjRm91bmRhdGlvbi50b2dnbGVNdWx0aUF0SW5kZXgoaW5kZXgsIGZvcmNlKTtcbiAgICB9XG4gICAgb25TbG90Q2hhbmdlKCkge1xuICAgICAgICB0aGlzLmxheW91dCgpO1xuICAgIH1cbiAgICBvbkxpc3RJdGVtQ29ubmVjdGVkKGUpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgICAgIHRoaXMubGF5b3V0KHRoaXMuaXRlbXMuaW5kZXhPZih0YXJnZXQpID09PSAtMSk7XG4gICAgfVxuICAgIGxheW91dCh1cGRhdGVJdGVtcyA9IHRydWUpIHtcbiAgICAgICAgaWYgKHVwZGF0ZUl0ZW1zKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUl0ZW1zKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLm5vbmludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICBsZXQgZmlyc3QgPSBudWxsO1xuICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMuaXRlbXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWZpcnN0ICYmICFpdGVtLm5vbmludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0ID0gaXRlbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaXRlbS50YWJpbmRleCA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZpcnN0KSB7XG4gICAgICAgICAgICAgICAgZmlyc3QudGFiaW5kZXggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZvY3VzKCkge1xuICAgICAgICBjb25zdCByb290ID0gdGhpcy5tZGNSb290O1xuICAgICAgICBpZiAocm9vdCkge1xuICAgICAgICAgICAgcm9vdC5mb2N1cygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGJsdXIoKSB7XG4gICAgICAgIGNvbnN0IHJvb3QgPSB0aGlzLm1kY1Jvb3Q7XG4gICAgICAgIGlmIChyb290KSB7XG4gICAgICAgICAgICByb290LmJsdXIoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIHF1ZXJ5KCcubWRjLWxpc3QnKVxuXSwgTGlzdEJhc2UucHJvdG90eXBlLCBcIm1kY1Jvb3RcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHF1ZXJ5KCdzbG90Jylcbl0sIExpc3RCYXNlLnByb3RvdHlwZSwgXCJzbG90RWxlbWVudFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pLFxuICAgIG9ic2VydmVyKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5tZGNGb3VuZGF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLm1kY0ZvdW5kYXRpb24uc2V0VXNlQWN0aXZhdGVkQ2xhc3ModmFsdWUpO1xuICAgICAgICB9XG4gICAgfSlcbl0sIExpc3RCYXNlLnByb3RvdHlwZSwgXCJhY3RpdmF0YWJsZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pLFxuICAgIG9ic2VydmVyKGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMubWRjRm91bmRhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5tZGNGb3VuZGF0aW9uLnNldE11bHRpKG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2xkVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5sYXlvdXQoKTtcbiAgICAgICAgfVxuICAgIH0pXG5dLCBMaXN0QmFzZS5wcm90b3R5cGUsIFwibXVsdGlcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KSxcbiAgICBvYnNlcnZlcihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMubWRjRm91bmRhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5tZGNGb3VuZGF0aW9uLnNldFdyYXBGb2N1cyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9KVxuXSwgTGlzdEJhc2UucHJvdG90eXBlLCBcIndyYXBGb2N1c1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcgfSksXG4gICAgb2JzZXJ2ZXIoZnVuY3Rpb24gKF9uZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgaWYgKG9sZFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlSXRlbXMoKTtcbiAgICAgICAgfVxuICAgIH0pXG5dLCBMaXN0QmFzZS5wcm90b3R5cGUsIFwiaXRlbVJvbGVzXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IFN0cmluZyB9KVxuXSwgTGlzdEJhc2UucHJvdG90eXBlLCBcImlubmVyUm9sZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pXG5dLCBMaXN0QmFzZS5wcm90b3R5cGUsIFwicm9vdFRhYmJhYmxlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIHJlZmxlY3Q6IHRydWUgfSksXG4gICAgb2JzZXJ2ZXIoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHNsb3QgPSB0aGlzLnNsb3RFbGVtZW50O1xuICAgICAgICBpZiAodmFsdWUgJiYgc2xvdCkge1xuICAgICAgICAgICAgY29uc3QgdGFiYmFibGUgPSBmaW5kQXNzaWduZWRFbGVtZW50KHNsb3QsICdbdGFiaW5kZXg9XCIwXCJdJyk7XG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzVGFiaW5kZXggPSB0YWJiYWJsZTtcbiAgICAgICAgICAgIGlmICh0YWJiYWJsZSkge1xuICAgICAgICAgICAgICAgIHRhYmJhYmxlLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdmFsdWUgJiYgdGhpcy5wcmV2aW91c1RhYmluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzVGFiaW5kZXguc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzVGFiaW5kZXggPSBudWxsO1xuICAgICAgICB9XG4gICAgfSlcbl0sIExpc3RCYXNlLnByb3RvdHlwZSwgXCJub25pbnRlcmFjdGl2ZVwiLCB2b2lkIDApO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXdjLWxpc3QtYmFzZS5qcy5tYXAiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xueW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG5TZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG5saW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiovXG5pbXBvcnQgeyBjc3MgfSBmcm9tICdsaXQtZWxlbWVudCc7XG5leHBvcnQgY29uc3Qgc3R5bGUgPSBjc3MgYEBrZXlmcmFtZXMgbWRjLXJpcHBsZS1mZy1yYWRpdXMtaW57ZnJvbXthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSk7dHJhbnNmb3JtOnRyYW5zbGF0ZSh2YXIoLS1tZGMtcmlwcGxlLWZnLXRyYW5zbGF0ZS1zdGFydCwgMCkpIHNjYWxlKDEpfXRve3RyYW5zZm9ybTp0cmFuc2xhdGUodmFyKC0tbWRjLXJpcHBsZS1mZy10cmFuc2xhdGUtZW5kLCAwKSkgc2NhbGUodmFyKC0tbWRjLXJpcHBsZS1mZy1zY2FsZSwgMSkpfX1Aa2V5ZnJhbWVzIG1kYy1yaXBwbGUtZmctb3BhY2l0eS1pbntmcm9te2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246bGluZWFyO29wYWNpdHk6MH10b3tvcGFjaXR5OnZhcigtLW1kYy1yaXBwbGUtZmctb3BhY2l0eSwgMCl9fUBrZXlmcmFtZXMgbWRjLXJpcHBsZS1mZy1vcGFjaXR5LW91dHtmcm9te2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246bGluZWFyO29wYWNpdHk6dmFyKC0tbWRjLXJpcHBsZS1mZy1vcGFjaXR5LCAwKX10b3tvcGFjaXR5OjB9fTpob3N0e2Rpc3BsYXk6YmxvY2t9Lm1kYy1saXN0e2ZvbnQtZmFtaWx5OlJvYm90bywgc2Fucy1zZXJpZjstbW96LW9zeC1mb250LXNtb290aGluZzpncmF5c2NhbGU7LXdlYmtpdC1mb250LXNtb290aGluZzphbnRpYWxpYXNlZDtmb250LXNpemU6MXJlbTtsaW5lLWhlaWdodDoxLjc1cmVtO2ZvbnQtd2VpZ2h0OjQwMDtsZXR0ZXItc3BhY2luZzouMDA5Mzc1ZW07dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7dGV4dC10cmFuc2Zvcm06aW5oZXJpdDtsaW5lLWhlaWdodDoxLjVyZW07bWFyZ2luOjA7cGFkZGluZzo4cHggMDtsaXN0LXN0eWxlLXR5cGU6bm9uZTtjb2xvcjpyZ2JhKDAsMCwwLC44Nyk7Y29sb3I6dmFyKC0tbWRjLXRoZW1lLXRleHQtcHJpbWFyeS1vbi1iYWNrZ3JvdW5kLCByZ2JhKDAsIDAsIDAsIDAuODcpKTtwYWRkaW5nOnZhcigtLW1kYy1saXN0LXZlcnRpY2FsLXBhZGRpbmcsIDhweCkgMH0ubWRjLWxpc3Q6Zm9jdXN7b3V0bGluZTpub25lfS5tZGMtbGlzdC1pdGVte2hlaWdodDo0OHB4fS5tZGMtbGlzdC0tZGVuc2V7cGFkZGluZy10b3A6NHB4O3BhZGRpbmctYm90dG9tOjRweDtmb250LXNpemU6LjgxMnJlbX0ubWRjLWxpc3QgOjpzbG90dGVkKFtkaXZpZGVyXSl7aGVpZ2h0OjA7bWFyZ2luOjA7Ym9yZGVyOm5vbmU7Ym9yZGVyLWJvdHRvbS13aWR0aDoxcHg7Ym9yZGVyLWJvdHRvbS1zdHlsZTpzb2xpZDtib3JkZXItYm90dG9tLWNvbG9yOnJnYmEoMCwwLDAsLjEyKX0ubWRjLWxpc3QgOjpzbG90dGVkKFtkaXZpZGVyXVtwYWRkZWRdKXttYXJnaW46MCB2YXIoLS1tZGMtbGlzdC1zaWRlLXBhZGRpbmcsIDE2cHgpfS5tZGMtbGlzdCA6OnNsb3R0ZWQoW2RpdmlkZXJdW2luc2V0XSl7bWFyZ2luLWxlZnQ6dmFyKC0tbWRjLWxpc3QtaW5zZXQtbWFyZ2luLCA3MnB4KTttYXJnaW4tcmlnaHQ6MDt3aWR0aDpjYWxjKDEwMCUgLSB2YXIoLS1tZGMtbGlzdC1pbnNldC1tYXJnaW4sIDcycHgpKX0ubWRjLWxpc3QtZ3JvdXBbZGlyPXJ0bF0gLm1kYy1saXN0IDo6c2xvdHRlZChbZGl2aWRlcl1baW5zZXRdKSxbZGlyPXJ0bF0gLm1kYy1saXN0LWdyb3VwIC5tZGMtbGlzdCA6OnNsb3R0ZWQoW2RpdmlkZXJdW2luc2V0XSl7bWFyZ2luLWxlZnQ6MDttYXJnaW4tcmlnaHQ6dmFyKC0tbWRjLWxpc3QtaW5zZXQtbWFyZ2luLCA3MnB4KX0ubWRjLWxpc3QgOjpzbG90dGVkKFtkaXZpZGVyXVtpbnNldF1bcGFkZGVkXSl7d2lkdGg6Y2FsYygxMDAlIC0gdmFyKC0tbWRjLWxpc3QtaW5zZXQtbWFyZ2luLCA3MnB4KSAtIHZhcigtLW1kYy1saXN0LXNpZGUtcGFkZGluZywgMTZweCkpfS5tZGMtbGlzdC0tZGVuc2UgOjpzbG90dGVkKFttd2MtbGlzdC1pdGVtXSl7aGVpZ2h0OjQwcHh9Lm1kYy1saXN0LS1kZW5zZSA6OnNsb3R0ZWQoW213Yy1saXN0XSl7LS1tZGMtbGlzdC1pdGVtLWdyYXBoaWMtc2l6ZTogMjBweH0ubWRjLWxpc3QtLXR3by1saW5lLm1kYy1saXN0LS1kZW5zZSA6OnNsb3R0ZWQoW213Yy1saXN0LWl0ZW1dKSwubWRjLWxpc3QtLWF2YXRhci1saXN0Lm1kYy1saXN0LS1kZW5zZSA6OnNsb3R0ZWQoW213Yy1saXN0LWl0ZW1dKXtoZWlnaHQ6NjBweH0ubWRjLWxpc3QtLWF2YXRhci1saXN0Lm1kYy1saXN0LS1kZW5zZSA6OnNsb3R0ZWQoW213Yy1saXN0XSl7LS1tZGMtbGlzdC1pdGVtLWdyYXBoaWMtc2l6ZTogMzZweH06aG9zdChbbm9uaW50ZXJhY3RpdmVdKXtwb2ludGVyLWV2ZW50czpub25lO2N1cnNvcjpkZWZhdWx0fS5tZGMtbGlzdC0tZGVuc2UgOjpzbG90dGVkKC5tZGMtbGlzdC1pdGVtX19wcmltYXJ5LXRleHQpe2Rpc3BsYXk6YmxvY2s7bWFyZ2luLXRvcDowO2xpbmUtaGVpZ2h0Om5vcm1hbDttYXJnaW4tYm90dG9tOi0yMHB4fS5tZGMtbGlzdC0tZGVuc2UgOjpzbG90dGVkKC5tZGMtbGlzdC1pdGVtX19wcmltYXJ5LXRleHQpOjpiZWZvcmV7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MDtoZWlnaHQ6MjRweDtjb250ZW50OlwiXCI7dmVydGljYWwtYWxpZ246MH0ubWRjLWxpc3QtLWRlbnNlIDo6c2xvdHRlZCgubWRjLWxpc3QtaXRlbV9fcHJpbWFyeS10ZXh0KTo6YWZ0ZXJ7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MDtoZWlnaHQ6MjBweDtjb250ZW50OlwiXCI7dmVydGljYWwtYWxpZ246LTIwcHh9YDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW13Yy1saXN0LWNzcy5qcy5tYXAiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgMjAyMCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xueW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG5TZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG5saW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiovXG5pbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50IH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuaW1wb3J0IHsgTGlzdEJhc2UgfSBmcm9tICcuL213Yy1saXN0LWJhc2UuanMnO1xuaW1wb3J0IHsgc3R5bGUgfSBmcm9tICcuL213Yy1saXN0LWNzcy5qcyc7XG5leHBvcnQgeyBjcmVhdGVTZXRGcm9tSW5kZXgsIGlzRXZlbnRNdWx0aSwgaXNJbmRleFNldCB9IGZyb20gJy4vbXdjLWxpc3QtZm91bmRhdGlvbic7XG5sZXQgTGlzdCA9IGNsYXNzIExpc3QgZXh0ZW5kcyBMaXN0QmFzZSB7XG59O1xuTGlzdC5zdHlsZXMgPSBzdHlsZTtcbkxpc3QgPSBfX2RlY29yYXRlKFtcbiAgICBjdXN0b21FbGVtZW50KCdtd2MtbGlzdCcpXG5dLCBMaXN0KTtcbmV4cG9ydCB7IExpc3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW13Yy1saXN0LmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xudmFyIGNzc0NsYXNzZXMgPSB7XG4gICAgQU5DSE9SOiAnbWRjLW1lbnUtc3VyZmFjZS0tYW5jaG9yJyxcbiAgICBBTklNQVRJTkdfQ0xPU0VEOiAnbWRjLW1lbnUtc3VyZmFjZS0tYW5pbWF0aW5nLWNsb3NlZCcsXG4gICAgQU5JTUFUSU5HX09QRU46ICdtZGMtbWVudS1zdXJmYWNlLS1hbmltYXRpbmctb3BlbicsXG4gICAgRklYRUQ6ICdtZGMtbWVudS1zdXJmYWNlLS1maXhlZCcsXG4gICAgT1BFTjogJ21kYy1tZW51LXN1cmZhY2UtLW9wZW4nLFxuICAgIFJPT1Q6ICdtZGMtbWVudS1zdXJmYWNlJyxcbn07XG4vLyB0c2xpbnQ6ZGlzYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXNcbnZhciBzdHJpbmdzID0ge1xuICAgIENMT1NFRF9FVkVOVDogJ01EQ01lbnVTdXJmYWNlOmNsb3NlZCcsXG4gICAgT1BFTkVEX0VWRU5UOiAnTURDTWVudVN1cmZhY2U6b3BlbmVkJyxcbiAgICBGT0NVU0FCTEVfRUxFTUVOVFM6IFtcbiAgICAgICAgJ2J1dHRvbjpub3QoOmRpc2FibGVkKScsICdbaHJlZl06bm90KFthcmlhLWRpc2FibGVkPVwidHJ1ZVwiXSknLCAnaW5wdXQ6bm90KDpkaXNhYmxlZCknLFxuICAgICAgICAnc2VsZWN0Om5vdCg6ZGlzYWJsZWQpJywgJ3RleHRhcmVhOm5vdCg6ZGlzYWJsZWQpJywgJ1t0YWJpbmRleF06bm90KFt0YWJpbmRleD1cIi0xXCJdKTpub3QoW2FyaWEtZGlzYWJsZWQ9XCJ0cnVlXCJdKScsXG4gICAgXS5qb2luKCcsICcpLFxufTtcbi8vIHRzbGludDplbmFibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzXG52YXIgbnVtYmVycyA9IHtcbiAgICAvKiogVG90YWwgZHVyYXRpb24gb2YgbWVudS1zdXJmYWNlIG9wZW4gYW5pbWF0aW9uLiAqL1xuICAgIFRSQU5TSVRJT05fT1BFTl9EVVJBVElPTjogMTIwLFxuICAgIC8qKiBUb3RhbCBkdXJhdGlvbiBvZiBtZW51LXN1cmZhY2UgY2xvc2UgYW5pbWF0aW9uLiAqL1xuICAgIFRSQU5TSVRJT05fQ0xPU0VfRFVSQVRJT046IDc1LFxuICAgIC8qKiBNYXJnaW4gbGVmdCB0byB0aGUgZWRnZSBvZiB0aGUgdmlld3BvcnQgd2hlbiBtZW51LXN1cmZhY2UgaXMgYXQgbWF4aW11bSBwb3NzaWJsZSBoZWlnaHQuICovXG4gICAgTUFSR0lOX1RPX0VER0U6IDMyLFxuICAgIC8qKiBSYXRpbyBvZiBhbmNob3Igd2lkdGggdG8gbWVudS1zdXJmYWNlIHdpZHRoIGZvciBzd2l0Y2hpbmcgZnJvbSBjb3JuZXIgcG9zaXRpb25pbmcgdG8gY2VudGVyIHBvc2l0aW9uaW5nLiAqL1xuICAgIEFOQ0hPUl9UT19NRU5VX1NVUkZBQ0VfV0lEVEhfUkFUSU86IDAuNjcsXG59O1xuLyoqXG4gKiBFbnVtIGZvciBiaXRzIGluIHRoZSB7QHNlZSBDb3JuZXIpIGJpdG1hcC5cbiAqL1xudmFyIENvcm5lckJpdDtcbihmdW5jdGlvbiAoQ29ybmVyQml0KSB7XG4gICAgQ29ybmVyQml0W0Nvcm5lckJpdFtcIkJPVFRPTVwiXSA9IDFdID0gXCJCT1RUT01cIjtcbiAgICBDb3JuZXJCaXRbQ29ybmVyQml0W1wiQ0VOVEVSXCJdID0gMl0gPSBcIkNFTlRFUlwiO1xuICAgIENvcm5lckJpdFtDb3JuZXJCaXRbXCJSSUdIVFwiXSA9IDRdID0gXCJSSUdIVFwiO1xuICAgIENvcm5lckJpdFtDb3JuZXJCaXRbXCJGTElQX1JUTFwiXSA9IDhdID0gXCJGTElQX1JUTFwiO1xufSkoQ29ybmVyQml0IHx8IChDb3JuZXJCaXQgPSB7fSkpO1xuLyoqXG4gKiBFbnVtIGZvciByZXByZXNlbnRpbmcgYW4gZWxlbWVudCBjb3JuZXIgZm9yIHBvc2l0aW9uaW5nIHRoZSBtZW51LXN1cmZhY2UuXG4gKlxuICogVGhlIFNUQVJUIGNvbnN0YW50cyBtYXAgdG8gTEVGVCBpZiBlbGVtZW50IGRpcmVjdGlvbmFsaXR5IGlzIGxlZnRcbiAqIHRvIHJpZ2h0IGFuZCBSSUdIVCBpZiB0aGUgZGlyZWN0aW9uYWxpdHkgaXMgcmlnaHQgdG8gbGVmdC5cbiAqIExpa2V3aXNlIEVORCBtYXBzIHRvIFJJR0hUIG9yIExFRlQgZGVwZW5kaW5nIG9uIHRoZSBkaXJlY3Rpb25hbGl0eS5cbiAqL1xudmFyIENvcm5lcjtcbihmdW5jdGlvbiAoQ29ybmVyKSB7XG4gICAgQ29ybmVyW0Nvcm5lcltcIlRPUF9MRUZUXCJdID0gMF0gPSBcIlRPUF9MRUZUXCI7XG4gICAgQ29ybmVyW0Nvcm5lcltcIlRPUF9SSUdIVFwiXSA9IDRdID0gXCJUT1BfUklHSFRcIjtcbiAgICBDb3JuZXJbQ29ybmVyW1wiQk9UVE9NX0xFRlRcIl0gPSAxXSA9IFwiQk9UVE9NX0xFRlRcIjtcbiAgICBDb3JuZXJbQ29ybmVyW1wiQk9UVE9NX1JJR0hUXCJdID0gNV0gPSBcIkJPVFRPTV9SSUdIVFwiO1xuICAgIENvcm5lcltDb3JuZXJbXCJUT1BfU1RBUlRcIl0gPSA4XSA9IFwiVE9QX1NUQVJUXCI7XG4gICAgQ29ybmVyW0Nvcm5lcltcIlRPUF9FTkRcIl0gPSAxMl0gPSBcIlRPUF9FTkRcIjtcbiAgICBDb3JuZXJbQ29ybmVyW1wiQk9UVE9NX1NUQVJUXCJdID0gOV0gPSBcIkJPVFRPTV9TVEFSVFwiO1xuICAgIENvcm5lcltDb3JuZXJbXCJCT1RUT01fRU5EXCJdID0gMTNdID0gXCJCT1RUT01fRU5EXCI7XG59KShDb3JuZXIgfHwgKENvcm5lciA9IHt9KSk7XG5leHBvcnQgeyBjc3NDbGFzc2VzLCBzdHJpbmdzLCBudW1iZXJzLCBDb3JuZXJCaXQsIENvcm5lciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE1EQ0ZvdW5kYXRpb24gfSBmcm9tICdAbWF0ZXJpYWwvYmFzZS9mb3VuZGF0aW9uJztcbmltcG9ydCB7IENvcm5lciwgQ29ybmVyQml0LCBjc3NDbGFzc2VzLCBudW1iZXJzLCBzdHJpbmdzIH0gZnJvbSAnLi9jb25zdGFudHMnO1xudmFyIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhNRENNZW51U3VyZmFjZUZvdW5kYXRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uKGFkYXB0ZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdHNsaWJfMS5fX2Fzc2lnbih7fSwgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLmRlZmF1bHRBZGFwdGVyLCBhZGFwdGVyKSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaXNPcGVuXyA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pc1F1aWNrT3Blbl8gPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaXNIb2lzdGVkRWxlbWVudF8gPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaXNGaXhlZFBvc2l0aW9uXyA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5vcGVuQW5pbWF0aW9uRW5kVGltZXJJZF8gPSAwO1xuICAgICAgICBfdGhpcy5jbG9zZUFuaW1hdGlvbkVuZFRpbWVySWRfID0gMDtcbiAgICAgICAgX3RoaXMuYW5pbWF0aW9uUmVxdWVzdElkXyA9IDA7XG4gICAgICAgIF90aGlzLmFuY2hvckNvcm5lcl8gPSBDb3JuZXIuVE9QX1NUQVJUO1xuICAgICAgICBfdGhpcy5hbmNob3JNYXJnaW5fID0geyB0b3A6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAsIGxlZnQ6IDAgfTtcbiAgICAgICAgX3RoaXMucG9zaXRpb25fID0geyB4OiAwLCB5OiAwIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbiwgXCJjc3NDbGFzc2VzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gY3NzQ2xhc3NlcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbiwgXCJzdHJpbmdzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5ncztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbiwgXCJudW1iZXJzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVtYmVycztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbiwgXCJDb3JuZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBDb3JuZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENNZW51U3VyZmFjZUZvdW5kYXRpb24sIFwiZGVmYXVsdEFkYXB0ZXJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHNlZSB7QGxpbmsgTURDTWVudVN1cmZhY2VBZGFwdGVyfSBmb3IgdHlwaW5nIGluZm9ybWF0aW9uIG9uIHBhcmFtZXRlcnMgYW5kIHJldHVybiB0eXBlcy5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzIE1ldGhvZHMgc2hvdWxkIGJlIGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZSBhZGFwdGVyIGludGVyZmFjZS5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGhhc0NsYXNzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSxcbiAgICAgICAgICAgICAgICBoYXNBbmNob3I6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9LFxuICAgICAgICAgICAgICAgIGlzRWxlbWVudEluQ29udGFpbmVyOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSxcbiAgICAgICAgICAgICAgICBpc0ZvY3VzZWQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9LFxuICAgICAgICAgICAgICAgIGlzUnRsOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSxcbiAgICAgICAgICAgICAgICBnZXRJbm5lckRpbWVuc2lvbnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICh7IGhlaWdodDogMCwgd2lkdGg6IDAgfSk7IH0sXG4gICAgICAgICAgICAgICAgZ2V0QW5jaG9yRGltZW5zaW9uczogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgICAgICAgICBnZXRXaW5kb3dEaW1lbnNpb25zOiBmdW5jdGlvbiAoKSB7IHJldHVybiAoeyBoZWlnaHQ6IDAsIHdpZHRoOiAwIH0pOyB9LFxuICAgICAgICAgICAgICAgIGdldEJvZHlEaW1lbnNpb25zOiBmdW5jdGlvbiAoKSB7IHJldHVybiAoeyBoZWlnaHQ6IDAsIHdpZHRoOiAwIH0pOyB9LFxuICAgICAgICAgICAgICAgIGdldFdpbmRvd1Njcm9sbDogZnVuY3Rpb24gKCkgeyByZXR1cm4gKHsgeDogMCwgeTogMCB9KTsgfSxcbiAgICAgICAgICAgICAgICBzZXRQb3NpdGlvbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHNldE1heEhlaWdodDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHNldFRyYW5zZm9ybU9yaWdpbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHNhdmVGb2N1czogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHJlc3RvcmVGb2N1czogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIG5vdGlmeUNsb3NlOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgbm90aWZ5T3BlbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIHRzbGludDplbmFibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzXG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLmNzc0NsYXNzZXMsIFJPT1QgPSBfYS5ST09ULCBPUEVOID0gX2EuT1BFTjtcbiAgICAgICAgaWYgKCF0aGlzLmFkYXB0ZXJfLmhhc0NsYXNzKFJPT1QpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoUk9PVCArIFwiIGNsYXNzIHJlcXVpcmVkIGluIHJvb3QgZWxlbWVudC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYWRhcHRlcl8uaGFzQ2xhc3MoT1BFTikpIHtcbiAgICAgICAgICAgIHRoaXMuaXNPcGVuXyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMub3BlbkFuaW1hdGlvbkVuZFRpbWVySWRfKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY2xvc2VBbmltYXRpb25FbmRUaW1lcklkXyk7XG4gICAgICAgIC8vIENhbmNlbCBhbnkgY3VycmVudGx5IHJ1bm5pbmcgYW5pbWF0aW9ucy5cbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRpb25SZXF1ZXN0SWRfKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjb3JuZXIgRGVmYXVsdCBhbmNob3IgY29ybmVyIGFsaWdubWVudCBvZiB0b3AtbGVmdCBtZW51IHN1cmZhY2UgY29ybmVyLlxuICAgICAqL1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuc2V0QW5jaG9yQ29ybmVyID0gZnVuY3Rpb24gKGNvcm5lcikge1xuICAgICAgICB0aGlzLmFuY2hvckNvcm5lcl8gPSBjb3JuZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbWFyZ2luIFNldCBvZiBtYXJnaW4gdmFsdWVzIGZyb20gYW5jaG9yLlxuICAgICAqL1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuc2V0QW5jaG9yTWFyZ2luID0gZnVuY3Rpb24gKG1hcmdpbikge1xuICAgICAgICB0aGlzLmFuY2hvck1hcmdpbl8udG9wID0gbWFyZ2luLnRvcCB8fCAwO1xuICAgICAgICB0aGlzLmFuY2hvck1hcmdpbl8ucmlnaHQgPSBtYXJnaW4ucmlnaHQgfHwgMDtcbiAgICAgICAgdGhpcy5hbmNob3JNYXJnaW5fLmJvdHRvbSA9IG1hcmdpbi5ib3R0b20gfHwgMDtcbiAgICAgICAgdGhpcy5hbmNob3JNYXJnaW5fLmxlZnQgPSBtYXJnaW4ubGVmdCB8fCAwO1xuICAgIH07XG4gICAgLyoqIFVzZWQgdG8gaW5kaWNhdGUgaWYgdGhlIG1lbnUtc3VyZmFjZSBpcyBob2lzdGVkIHRvIHRoZSBib2R5LiAqL1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuc2V0SXNIb2lzdGVkID0gZnVuY3Rpb24gKGlzSG9pc3RlZCkge1xuICAgICAgICB0aGlzLmlzSG9pc3RlZEVsZW1lbnRfID0gaXNIb2lzdGVkO1xuICAgIH07XG4gICAgLyoqIFVzZWQgdG8gc2V0IHRoZSBtZW51LXN1cmZhY2UgY2FsY3VsYXRpb25zIGJhc2VkIG9uIGEgZml4ZWQgcG9zaXRpb24gbWVudS4gKi9cbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLnNldEZpeGVkUG9zaXRpb24gPSBmdW5jdGlvbiAoaXNGaXhlZFBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuaXNGaXhlZFBvc2l0aW9uXyA9IGlzRml4ZWRQb3NpdGlvbjtcbiAgICB9O1xuICAgIC8qKiBTZXRzIHRoZSBtZW51LXN1cmZhY2UgcG9zaXRpb24gb24gdGhlIHBhZ2UuICovXG4gICAgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnByb3RvdHlwZS5zZXRBYnNvbHV0ZVBvc2l0aW9uID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbl8ueCA9IHRoaXMuaXNGaW5pdGVfKHgpID8geCA6IDA7XG4gICAgICAgIHRoaXMucG9zaXRpb25fLnkgPSB0aGlzLmlzRmluaXRlXyh5KSA/IHkgOiAwO1xuICAgIH07XG4gICAgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnByb3RvdHlwZS5zZXRRdWlja09wZW4gPSBmdW5jdGlvbiAocXVpY2tPcGVuKSB7XG4gICAgICAgIHRoaXMuaXNRdWlja09wZW5fID0gcXVpY2tPcGVuO1xuICAgIH07XG4gICAgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnByb3RvdHlwZS5pc09wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzT3Blbl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBPcGVuIHRoZSBtZW51IHN1cmZhY2UuXG4gICAgICovXG4gICAgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmFkYXB0ZXJfLnNhdmVGb2N1cygpO1xuICAgICAgICBpZiAoIXRoaXMuaXNRdWlja09wZW5fKSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXJfLmFkZENsYXNzKE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5jc3NDbGFzc2VzLkFOSU1BVElOR19PUEVOKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuaW1hdGlvblJlcXVlc3RJZF8gPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuYWRhcHRlcl8uYWRkQ2xhc3MoTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLmNzc0NsYXNzZXMuT1BFTik7XG4gICAgICAgICAgICBfdGhpcy5kaW1lbnNpb25zXyA9IF90aGlzLmFkYXB0ZXJfLmdldElubmVyRGltZW5zaW9ucygpO1xuICAgICAgICAgICAgX3RoaXMuYXV0b1Bvc2l0aW9uXygpO1xuICAgICAgICAgICAgaWYgKF90aGlzLmlzUXVpY2tPcGVuXykge1xuICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJfLm5vdGlmeU9wZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzLm9wZW5BbmltYXRpb25FbmRUaW1lcklkXyA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vcGVuQW5pbWF0aW9uRW5kVGltZXJJZF8gPSAwO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGFwdGVyXy5yZW1vdmVDbGFzcyhNRENNZW51U3VyZmFjZUZvdW5kYXRpb24uY3NzQ2xhc3Nlcy5BTklNQVRJTkdfT1BFTik7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJfLm5vdGlmeU9wZW4oKTtcbiAgICAgICAgICAgICAgICB9LCBudW1iZXJzLlRSQU5TSVRJT05fT1BFTl9EVVJBVElPTik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmlzT3Blbl8gPSB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHRoZSBtZW51IHN1cmZhY2UuXG4gICAgICovXG4gICAgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uIChza2lwUmVzdG9yZUZvY3VzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChza2lwUmVzdG9yZUZvY3VzID09PSB2b2lkIDApIHsgc2tpcFJlc3RvcmVGb2N1cyA9IGZhbHNlOyB9XG4gICAgICAgIGlmICghdGhpcy5pc1F1aWNrT3Blbl8pIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlcl8uYWRkQ2xhc3MoTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLmNzc0NsYXNzZXMuQU5JTUFUSU5HX0NMT1NFRCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJfLnJlbW92ZUNsYXNzKE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5jc3NDbGFzc2VzLk9QRU4pO1xuICAgICAgICAgICAgaWYgKF90aGlzLmlzUXVpY2tPcGVuXykge1xuICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJfLm5vdGlmeUNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jbG9zZUFuaW1hdGlvbkVuZFRpbWVySWRfID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNsb3NlQW5pbWF0aW9uRW5kVGltZXJJZF8gPSAwO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGFwdGVyXy5yZW1vdmVDbGFzcyhNRENNZW51U3VyZmFjZUZvdW5kYXRpb24uY3NzQ2xhc3Nlcy5BTklNQVRJTkdfQ0xPU0VEKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRhcHRlcl8ubm90aWZ5Q2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9LCBudW1iZXJzLlRSQU5TSVRJT05fQ0xPU0VfRFVSQVRJT04pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5pc09wZW5fID0gZmFsc2U7XG4gICAgICAgIGlmICghc2tpcFJlc3RvcmVGb2N1cykge1xuICAgICAgICAgICAgdGhpcy5tYXliZVJlc3RvcmVGb2N1c18oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIEhhbmRsZSBjbGlja3MgYW5kIGNsb3NlIGlmIG5vdCB3aXRoaW4gbWVudS1zdXJmYWNlIGVsZW1lbnQuICovXG4gICAgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnByb3RvdHlwZS5oYW5kbGVCb2R5Q2xpY2sgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIHZhciBlbCA9IGV2dC50YXJnZXQ7XG4gICAgICAgIGlmICh0aGlzLmFkYXB0ZXJfLmlzRWxlbWVudEluQ29udGFpbmVyKGVsKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9O1xuICAgIC8qKiBIYW5kbGUga2V5cyB0aGF0IGNsb3NlIHRoZSBzdXJmYWNlLiAqL1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuaGFuZGxlS2V5ZG93biA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgdmFyIGtleUNvZGUgPSBldnQua2V5Q29kZSwga2V5ID0gZXZ0LmtleTtcbiAgICAgICAgdmFyIGlzRXNjYXBlID0ga2V5ID09PSAnRXNjYXBlJyB8fCBrZXlDb2RlID09PSAyNztcbiAgICAgICAgaWYgKGlzRXNjYXBlKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuYXV0b1Bvc2l0aW9uXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAvLyBDb21wdXRlIG1lYXN1cmVtZW50cyBmb3IgYXV0b3Bvc2l0aW9uIG1ldGhvZHMgcmV1c2UuXG4gICAgICAgIHRoaXMubWVhc3VyZW1lbnRzXyA9IHRoaXMuZ2V0QXV0b0xheW91dE1lYXN1cmVtZW50c18oKTtcbiAgICAgICAgdmFyIGNvcm5lciA9IHRoaXMuZ2V0T3JpZ2luQ29ybmVyXygpO1xuICAgICAgICB2YXIgbWF4TWVudVN1cmZhY2VIZWlnaHQgPSB0aGlzLmdldE1lbnVTdXJmYWNlTWF4SGVpZ2h0Xyhjb3JuZXIpO1xuICAgICAgICB2YXIgdmVydGljYWxBbGlnbm1lbnQgPSB0aGlzLmhhc0JpdF8oY29ybmVyLCBDb3JuZXJCaXQuQk9UVE9NKSA/ICdib3R0b20nIDogJ3RvcCc7XG4gICAgICAgIHZhciBob3Jpem9udGFsQWxpZ25tZW50ID0gdGhpcy5oYXNCaXRfKGNvcm5lciwgQ29ybmVyQml0LlJJR0hUKSA/ICdyaWdodCcgOiAnbGVmdCc7XG4gICAgICAgIHZhciBob3Jpem9udGFsT2Zmc2V0ID0gdGhpcy5nZXRIb3Jpem9udGFsT3JpZ2luT2Zmc2V0Xyhjb3JuZXIpO1xuICAgICAgICB2YXIgdmVydGljYWxPZmZzZXQgPSB0aGlzLmdldFZlcnRpY2FsT3JpZ2luT2Zmc2V0Xyhjb3JuZXIpO1xuICAgICAgICB2YXIgX2IgPSB0aGlzLm1lYXN1cmVtZW50c18sIGFuY2hvclNpemUgPSBfYi5hbmNob3JTaXplLCBzdXJmYWNlU2l6ZSA9IF9iLnN1cmZhY2VTaXplO1xuICAgICAgICB2YXIgcG9zaXRpb24gPSAoX2EgPSB7fSxcbiAgICAgICAgICAgIF9hW2hvcml6b250YWxBbGlnbm1lbnRdID0gaG9yaXpvbnRhbE9mZnNldCxcbiAgICAgICAgICAgIF9hW3ZlcnRpY2FsQWxpZ25tZW50XSA9IHZlcnRpY2FsT2Zmc2V0LFxuICAgICAgICAgICAgX2EpO1xuICAgICAgICAvLyBDZW50ZXIgYWxpZ24gd2hlbiBhbmNob3Igd2lkdGggaXMgY29tcGFyYWJsZSBvciBncmVhdGVyIHRoYW4gbWVudSBzdXJmYWNlLCBvdGhlcndpc2Uga2VlcCBjb3JuZXIuXG4gICAgICAgIGlmIChhbmNob3JTaXplLndpZHRoIC8gc3VyZmFjZVNpemUud2lkdGggPiBudW1iZXJzLkFOQ0hPUl9UT19NRU5VX1NVUkZBQ0VfV0lEVEhfUkFUSU8pIHtcbiAgICAgICAgICAgIGhvcml6b250YWxBbGlnbm1lbnQgPSAnY2VudGVyJztcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgbWVudS1zdXJmYWNlIGhhcyBiZWVuIGhvaXN0ZWQgdG8gdGhlIGJvZHksIGl0J3Mgbm8gbG9uZ2VyIHJlbGF0aXZlIHRvIHRoZSBhbmNob3IgZWxlbWVudFxuICAgICAgICBpZiAodGhpcy5pc0hvaXN0ZWRFbGVtZW50XyB8fCB0aGlzLmlzRml4ZWRQb3NpdGlvbl8pIHtcbiAgICAgICAgICAgIHRoaXMuYWRqdXN0UG9zaXRpb25Gb3JIb2lzdGVkRWxlbWVudF8ocG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRhcHRlcl8uc2V0VHJhbnNmb3JtT3JpZ2luKGhvcml6b250YWxBbGlnbm1lbnQgKyBcIiBcIiArIHZlcnRpY2FsQWxpZ25tZW50KTtcbiAgICAgICAgdGhpcy5hZGFwdGVyXy5zZXRQb3NpdGlvbihwb3NpdGlvbik7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8uc2V0TWF4SGVpZ2h0KG1heE1lbnVTdXJmYWNlSGVpZ2h0ID8gbWF4TWVudVN1cmZhY2VIZWlnaHQgKyAncHgnIDogJycpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiBNZWFzdXJlbWVudHMgdXNlZCB0byBwb3NpdGlvbiBtZW51IHN1cmZhY2UgcG9wdXAuXG4gICAgICovXG4gICAgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnByb3RvdHlwZS5nZXRBdXRvTGF5b3V0TWVhc3VyZW1lbnRzXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFuY2hvclJlY3QgPSB0aGlzLmFkYXB0ZXJfLmdldEFuY2hvckRpbWVuc2lvbnMoKTtcbiAgICAgICAgdmFyIGJvZHlTaXplID0gdGhpcy5hZGFwdGVyXy5nZXRCb2R5RGltZW5zaW9ucygpO1xuICAgICAgICB2YXIgdmlld3BvcnRTaXplID0gdGhpcy5hZGFwdGVyXy5nZXRXaW5kb3dEaW1lbnNpb25zKCk7XG4gICAgICAgIHZhciB3aW5kb3dTY3JvbGwgPSB0aGlzLmFkYXB0ZXJfLmdldFdpbmRvd1Njcm9sbCgpO1xuICAgICAgICBpZiAoIWFuY2hvclJlY3QpIHtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5cyBQb3NpdGlvbmFsIHByb3BlcnRpZXMgYXJlIG1vcmUgcmVhZGFibGUgd2hlbiB0aGV5J3JlIGdyb3VwZWQgdG9nZXRoZXJcbiAgICAgICAgICAgIGFuY2hvclJlY3QgPSB7XG4gICAgICAgICAgICAgICAgdG9wOiB0aGlzLnBvc2l0aW9uXy55LFxuICAgICAgICAgICAgICAgIHJpZ2h0OiB0aGlzLnBvc2l0aW9uXy54LFxuICAgICAgICAgICAgICAgIGJvdHRvbTogdGhpcy5wb3NpdGlvbl8ueSxcbiAgICAgICAgICAgICAgICBsZWZ0OiB0aGlzLnBvc2l0aW9uXy54LFxuICAgICAgICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZW5hYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5c1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhbmNob3JTaXplOiBhbmNob3JSZWN0LFxuICAgICAgICAgICAgYm9keVNpemU6IGJvZHlTaXplLFxuICAgICAgICAgICAgc3VyZmFjZVNpemU6IHRoaXMuZGltZW5zaW9uc18sXG4gICAgICAgICAgICB2aWV3cG9ydERpc3RhbmNlOiB7XG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzIFBvc2l0aW9uYWwgcHJvcGVydGllcyBhcmUgbW9yZSByZWFkYWJsZSB3aGVuIHRoZXkncmUgZ3JvdXBlZCB0b2dldGhlclxuICAgICAgICAgICAgICAgIHRvcDogYW5jaG9yUmVjdC50b3AsXG4gICAgICAgICAgICAgICAgcmlnaHQ6IHZpZXdwb3J0U2l6ZS53aWR0aCAtIGFuY2hvclJlY3QucmlnaHQsXG4gICAgICAgICAgICAgICAgYm90dG9tOiB2aWV3cG9ydFNpemUuaGVpZ2h0IC0gYW5jaG9yUmVjdC5ib3R0b20sXG4gICAgICAgICAgICAgICAgbGVmdDogYW5jaG9yUmVjdC5sZWZ0LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZpZXdwb3J0U2l6ZTogdmlld3BvcnRTaXplLFxuICAgICAgICAgICAgd2luZG93U2Nyb2xsOiB3aW5kb3dTY3JvbGwsXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgY29ybmVyIG9mIHRoZSBhbmNob3IgZnJvbSB3aGljaCB0byBhbmltYXRlIGFuZCBwb3NpdGlvbiB0aGUgbWVudSBzdXJmYWNlLlxuICAgICAqL1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuZ2V0T3JpZ2luQ29ybmVyXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gRGVmYXVsdHM6IG9wZW4gZnJvbSB0aGUgdG9wIGxlZnQuXG4gICAgICAgIHZhciBjb3JuZXIgPSBDb3JuZXIuVE9QX0xFRlQ7XG4gICAgICAgIHZhciBfYSA9IHRoaXMubWVhc3VyZW1lbnRzXywgdmlld3BvcnREaXN0YW5jZSA9IF9hLnZpZXdwb3J0RGlzdGFuY2UsIGFuY2hvclNpemUgPSBfYS5hbmNob3JTaXplLCBzdXJmYWNlU2l6ZSA9IF9hLnN1cmZhY2VTaXplO1xuICAgICAgICB2YXIgaXNCb3R0b21BbGlnbmVkID0gdGhpcy5oYXNCaXRfKHRoaXMuYW5jaG9yQ29ybmVyXywgQ29ybmVyQml0LkJPVFRPTSk7XG4gICAgICAgIHZhciBhdmFpbGFibGVUb3AgPSBpc0JvdHRvbUFsaWduZWQgPyB2aWV3cG9ydERpc3RhbmNlLnRvcCArIGFuY2hvclNpemUuaGVpZ2h0ICsgdGhpcy5hbmNob3JNYXJnaW5fLmJvdHRvbVxuICAgICAgICAgICAgOiB2aWV3cG9ydERpc3RhbmNlLnRvcCArIHRoaXMuYW5jaG9yTWFyZ2luXy50b3A7XG4gICAgICAgIHZhciBhdmFpbGFibGVCb3R0b20gPSBpc0JvdHRvbUFsaWduZWQgPyB2aWV3cG9ydERpc3RhbmNlLmJvdHRvbSAtIHRoaXMuYW5jaG9yTWFyZ2luXy5ib3R0b21cbiAgICAgICAgICAgIDogdmlld3BvcnREaXN0YW5jZS5ib3R0b20gKyBhbmNob3JTaXplLmhlaWdodCAtIHRoaXMuYW5jaG9yTWFyZ2luXy50b3A7XG4gICAgICAgIHZhciB0b3BPdmVyZmxvdyA9IHN1cmZhY2VTaXplLmhlaWdodCAtIGF2YWlsYWJsZVRvcDtcbiAgICAgICAgdmFyIGJvdHRvbU92ZXJmbG93ID0gc3VyZmFjZVNpemUuaGVpZ2h0IC0gYXZhaWxhYmxlQm90dG9tO1xuICAgICAgICBpZiAoYm90dG9tT3ZlcmZsb3cgPiAwICYmIHRvcE92ZXJmbG93IDwgYm90dG9tT3ZlcmZsb3cpIHtcbiAgICAgICAgICAgIGNvcm5lciA9IHRoaXMuc2V0Qml0Xyhjb3JuZXIsIENvcm5lckJpdC5CT1RUT00pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpc1J0bCA9IHRoaXMuYWRhcHRlcl8uaXNSdGwoKTtcbiAgICAgICAgdmFyIGlzRmxpcFJ0bCA9IHRoaXMuaGFzQml0Xyh0aGlzLmFuY2hvckNvcm5lcl8sIENvcm5lckJpdC5GTElQX1JUTCk7XG4gICAgICAgIHZhciBhdm9pZEhvcml6b250YWxPdmVybGFwID0gdGhpcy5oYXNCaXRfKHRoaXMuYW5jaG9yQ29ybmVyXywgQ29ybmVyQml0LlJJR0hUKTtcbiAgICAgICAgdmFyIGlzQWxpZ25lZFJpZ2h0ID0gKGF2b2lkSG9yaXpvbnRhbE92ZXJsYXAgJiYgIWlzUnRsKSB8fFxuICAgICAgICAgICAgKCFhdm9pZEhvcml6b250YWxPdmVybGFwICYmIGlzRmxpcFJ0bCAmJiBpc1J0bCk7XG4gICAgICAgIHZhciBhdmFpbGFibGVMZWZ0ID0gaXNBbGlnbmVkUmlnaHQgPyB2aWV3cG9ydERpc3RhbmNlLmxlZnQgKyBhbmNob3JTaXplLndpZHRoICsgdGhpcy5hbmNob3JNYXJnaW5fLnJpZ2h0IDpcbiAgICAgICAgICAgIHZpZXdwb3J0RGlzdGFuY2UubGVmdCArIHRoaXMuYW5jaG9yTWFyZ2luXy5sZWZ0O1xuICAgICAgICB2YXIgYXZhaWxhYmxlUmlnaHQgPSBpc0FsaWduZWRSaWdodCA/IHZpZXdwb3J0RGlzdGFuY2UucmlnaHQgLSB0aGlzLmFuY2hvck1hcmdpbl8ucmlnaHQgOlxuICAgICAgICAgICAgdmlld3BvcnREaXN0YW5jZS5yaWdodCArIGFuY2hvclNpemUud2lkdGggLSB0aGlzLmFuY2hvck1hcmdpbl8ubGVmdDtcbiAgICAgICAgdmFyIGxlZnRPdmVyZmxvdyA9IHN1cmZhY2VTaXplLndpZHRoIC0gYXZhaWxhYmxlTGVmdDtcbiAgICAgICAgdmFyIHJpZ2h0T3ZlcmZsb3cgPSBzdXJmYWNlU2l6ZS53aWR0aCAtIGF2YWlsYWJsZVJpZ2h0O1xuICAgICAgICBpZiAoKGxlZnRPdmVyZmxvdyA8IDAgJiYgaXNBbGlnbmVkUmlnaHQgJiYgaXNSdGwpIHx8XG4gICAgICAgICAgICAoYXZvaWRIb3Jpem9udGFsT3ZlcmxhcCAmJiAhaXNBbGlnbmVkUmlnaHQgJiYgbGVmdE92ZXJmbG93IDwgMCkgfHxcbiAgICAgICAgICAgIChyaWdodE92ZXJmbG93ID4gMCAmJiBsZWZ0T3ZlcmZsb3cgPCByaWdodE92ZXJmbG93KSkge1xuICAgICAgICAgICAgY29ybmVyID0gdGhpcy5zZXRCaXRfKGNvcm5lciwgQ29ybmVyQml0LlJJR0hUKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29ybmVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGNvcm5lciBPcmlnaW4gY29ybmVyIG9mIHRoZSBtZW51IHN1cmZhY2UuXG4gICAgICogQHJldHVybiBNYXhpbXVtIGhlaWdodCBvZiB0aGUgbWVudSBzdXJmYWNlLCBiYXNlZCBvbiBhdmFpbGFibGUgc3BhY2UuIDAgaW5kaWNhdGVzIHNob3VsZCBub3QgYmUgc2V0LlxuICAgICAqL1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuZ2V0TWVudVN1cmZhY2VNYXhIZWlnaHRfID0gZnVuY3Rpb24gKGNvcm5lcikge1xuICAgICAgICB2YXIgdmlld3BvcnREaXN0YW5jZSA9IHRoaXMubWVhc3VyZW1lbnRzXy52aWV3cG9ydERpc3RhbmNlO1xuICAgICAgICB2YXIgbWF4SGVpZ2h0ID0gMDtcbiAgICAgICAgdmFyIGlzQm90dG9tQWxpZ25lZCA9IHRoaXMuaGFzQml0Xyhjb3JuZXIsIENvcm5lckJpdC5CT1RUT00pO1xuICAgICAgICB2YXIgaXNCb3R0b21BbmNob3JlZCA9IHRoaXMuaGFzQml0Xyh0aGlzLmFuY2hvckNvcm5lcl8sIENvcm5lckJpdC5CT1RUT00pO1xuICAgICAgICB2YXIgTUFSR0lOX1RPX0VER0UgPSBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ubnVtYmVycy5NQVJHSU5fVE9fRURHRTtcbiAgICAgICAgLy8gV2hlbiBtYXhpbXVtIGhlaWdodCBpcyBub3Qgc3BlY2lmaWVkLCBpdCBpcyBoYW5kbGVkIGZyb20gQ1NTLlxuICAgICAgICBpZiAoaXNCb3R0b21BbGlnbmVkKSB7XG4gICAgICAgICAgICBtYXhIZWlnaHQgPSB2aWV3cG9ydERpc3RhbmNlLnRvcCArIHRoaXMuYW5jaG9yTWFyZ2luXy50b3AgLSBNQVJHSU5fVE9fRURHRTtcbiAgICAgICAgICAgIGlmICghaXNCb3R0b21BbmNob3JlZCkge1xuICAgICAgICAgICAgICAgIG1heEhlaWdodCArPSB0aGlzLm1lYXN1cmVtZW50c18uYW5jaG9yU2l6ZS5oZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtYXhIZWlnaHQgPVxuICAgICAgICAgICAgICAgIHZpZXdwb3J0RGlzdGFuY2UuYm90dG9tIC0gdGhpcy5hbmNob3JNYXJnaW5fLmJvdHRvbSArIHRoaXMubWVhc3VyZW1lbnRzXy5hbmNob3JTaXplLmhlaWdodCAtIE1BUkdJTl9UT19FREdFO1xuICAgICAgICAgICAgaWYgKGlzQm90dG9tQW5jaG9yZWQpIHtcbiAgICAgICAgICAgICAgICBtYXhIZWlnaHQgLT0gdGhpcy5tZWFzdXJlbWVudHNfLmFuY2hvclNpemUuaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXhIZWlnaHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29ybmVyIE9yaWdpbiBjb3JuZXIgb2YgdGhlIG1lbnUgc3VyZmFjZS5cbiAgICAgKiBAcmV0dXJuIEhvcml6b250YWwgb2Zmc2V0IG9mIG1lbnUgc3VyZmFjZSBvcmlnaW4gY29ybmVyIGZyb20gY29ycmVzcG9uZGluZyBhbmNob3IgY29ybmVyLlxuICAgICAqL1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuZ2V0SG9yaXpvbnRhbE9yaWdpbk9mZnNldF8gPSBmdW5jdGlvbiAoY29ybmVyKSB7XG4gICAgICAgIHZhciBhbmNob3JTaXplID0gdGhpcy5tZWFzdXJlbWVudHNfLmFuY2hvclNpemU7XG4gICAgICAgIC8vIGlzUmlnaHRBbGlnbmVkIGNvcnJlc3BvbmRzIHRvIHVzaW5nIHRoZSAncmlnaHQnIHByb3BlcnR5IG9uIHRoZSBzdXJmYWNlLlxuICAgICAgICB2YXIgaXNSaWdodEFsaWduZWQgPSB0aGlzLmhhc0JpdF8oY29ybmVyLCBDb3JuZXJCaXQuUklHSFQpO1xuICAgICAgICB2YXIgYXZvaWRIb3Jpem9udGFsT3ZlcmxhcCA9IHRoaXMuaGFzQml0Xyh0aGlzLmFuY2hvckNvcm5lcl8sIENvcm5lckJpdC5SSUdIVCk7XG4gICAgICAgIGlmIChpc1JpZ2h0QWxpZ25lZCkge1xuICAgICAgICAgICAgdmFyIHJpZ2h0T2Zmc2V0ID0gYXZvaWRIb3Jpem9udGFsT3ZlcmxhcCA/IGFuY2hvclNpemUud2lkdGggLSB0aGlzLmFuY2hvck1hcmdpbl8ubGVmdCA6IHRoaXMuYW5jaG9yTWFyZ2luXy5yaWdodDtcbiAgICAgICAgICAgIC8vIEZvciBob2lzdGVkIG9yIGZpeGVkIGVsZW1lbnRzLCBhZGp1c3QgdGhlIG9mZnNldCBieSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHZpZXdwb3J0IHdpZHRoIGFuZCBib2R5IHdpZHRoIHNvXG4gICAgICAgICAgICAvLyB3aGVuIHdlIGNhbGN1bGF0ZSB0aGUgcmlnaHQgdmFsdWUgKGBhZGp1c3RQb3NpdGlvbkZvckhvaXN0ZWRFbGVtZW50X2ApIGJhc2VkIG9uIHRoZSBlbGVtZW50IHBvc2l0aW9uLFxuICAgICAgICAgICAgLy8gdGhlIHJpZ2h0IHByb3BlcnR5IGlzIGNvcnJlY3QuXG4gICAgICAgICAgICBpZiAodGhpcy5pc0hvaXN0ZWRFbGVtZW50XyB8fCB0aGlzLmlzRml4ZWRQb3NpdGlvbl8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmlnaHRPZmZzZXQgLSAodGhpcy5tZWFzdXJlbWVudHNfLnZpZXdwb3J0U2l6ZS53aWR0aCAtIHRoaXMubWVhc3VyZW1lbnRzXy5ib2R5U2l6ZS53aWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmlnaHRPZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF2b2lkSG9yaXpvbnRhbE92ZXJsYXAgPyBhbmNob3JTaXplLndpZHRoIC0gdGhpcy5hbmNob3JNYXJnaW5fLnJpZ2h0IDogdGhpcy5hbmNob3JNYXJnaW5fLmxlZnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29ybmVyIE9yaWdpbiBjb3JuZXIgb2YgdGhlIG1lbnUgc3VyZmFjZS5cbiAgICAgKiBAcmV0dXJuIFZlcnRpY2FsIG9mZnNldCBvZiBtZW51IHN1cmZhY2Ugb3JpZ2luIGNvcm5lciBmcm9tIGNvcnJlc3BvbmRpbmcgYW5jaG9yIGNvcm5lci5cbiAgICAgKi9cbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLmdldFZlcnRpY2FsT3JpZ2luT2Zmc2V0XyA9IGZ1bmN0aW9uIChjb3JuZXIpIHtcbiAgICAgICAgdmFyIGFuY2hvclNpemUgPSB0aGlzLm1lYXN1cmVtZW50c18uYW5jaG9yU2l6ZTtcbiAgICAgICAgdmFyIGlzQm90dG9tQWxpZ25lZCA9IHRoaXMuaGFzQml0Xyhjb3JuZXIsIENvcm5lckJpdC5CT1RUT00pO1xuICAgICAgICB2YXIgYXZvaWRWZXJ0aWNhbE92ZXJsYXAgPSB0aGlzLmhhc0JpdF8odGhpcy5hbmNob3JDb3JuZXJfLCBDb3JuZXJCaXQuQk9UVE9NKTtcbiAgICAgICAgdmFyIHkgPSAwO1xuICAgICAgICBpZiAoaXNCb3R0b21BbGlnbmVkKSB7XG4gICAgICAgICAgICB5ID0gYXZvaWRWZXJ0aWNhbE92ZXJsYXAgPyBhbmNob3JTaXplLmhlaWdodCAtIHRoaXMuYW5jaG9yTWFyZ2luXy50b3AgOiAtdGhpcy5hbmNob3JNYXJnaW5fLmJvdHRvbTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHkgPSBhdm9pZFZlcnRpY2FsT3ZlcmxhcCA/IChhbmNob3JTaXplLmhlaWdodCArIHRoaXMuYW5jaG9yTWFyZ2luXy5ib3R0b20pIDogdGhpcy5hbmNob3JNYXJnaW5fLnRvcDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geTtcbiAgICB9O1xuICAgIC8qKiBDYWxjdWxhdGVzIHRoZSBvZmZzZXRzIGZvciBwb3NpdGlvbmluZyB0aGUgbWVudS1zdXJmYWNlIHdoZW4gdGhlIG1lbnUtc3VyZmFjZSBoYXMgYmVlbiBob2lzdGVkIHRvIHRoZSBib2R5LiAqL1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuYWRqdXN0UG9zaXRpb25Gb3JIb2lzdGVkRWxlbWVudF8gPSBmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgIHZhciBfYiA9IHRoaXMubWVhc3VyZW1lbnRzXywgd2luZG93U2Nyb2xsID0gX2Iud2luZG93U2Nyb2xsLCB2aWV3cG9ydERpc3RhbmNlID0gX2Iudmlld3BvcnREaXN0YW5jZTtcbiAgICAgICAgdmFyIHByb3BzID0gT2JqZWN0LmtleXMocG9zaXRpb24pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgcHJvcHNfMSA9IHRzbGliXzEuX192YWx1ZXMocHJvcHMpLCBwcm9wc18xXzEgPSBwcm9wc18xLm5leHQoKTsgIXByb3BzXzFfMS5kb25lOyBwcm9wc18xXzEgPSBwcm9wc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBwcm9wID0gcHJvcHNfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHBvc2l0aW9uW3Byb3BdIHx8IDA7XG4gICAgICAgICAgICAgICAgLy8gSG9pc3RlZCBzdXJmYWNlcyBuZWVkIHRvIGhhdmUgdGhlIGFuY2hvciBlbGVtZW50cyBsb2NhdGlvbiBvbiB0aGUgcGFnZSBhZGRlZCB0byB0aGVcbiAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbiBwcm9wZXJ0aWVzIGZvciBwcm9wZXIgYWxpZ25tZW50IG9uIHRoZSBib2R5LlxuICAgICAgICAgICAgICAgIHZhbHVlICs9IHZpZXdwb3J0RGlzdGFuY2VbcHJvcF07XG4gICAgICAgICAgICAgICAgLy8gU3VyZmFjZXMgdGhhdCBhcmUgYWJzb2x1dGVseSBwb3NpdGlvbmVkIG5lZWQgdG8gaGF2ZSBhZGRpdGlvbmFsIGNhbGN1bGF0aW9ucyBmb3Igc2Nyb2xsXG4gICAgICAgICAgICAgICAgLy8gYW5kIGJvdHRvbSBwb3NpdGlvbmluZy5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNGaXhlZFBvc2l0aW9uXykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IHdpbmRvd1Njcm9sbC55O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdib3R0b20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAtPSB3aW5kb3dTY3JvbGwueTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9wID09PSAnbGVmdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IHdpbmRvd1Njcm9sbC54O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBwcm9wID09PSAncmlnaHQnXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAtPSB3aW5kb3dTY3JvbGwueDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwb3NpdGlvbltwcm9wXSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAocHJvcHNfMV8xICYmICFwcm9wc18xXzEuZG9uZSAmJiAoX2EgPSBwcm9wc18xLnJldHVybikpIF9hLmNhbGwocHJvcHNfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBsYXN0IGZvY3VzZWQgZWxlbWVudCB3aGVuIHRoZSBtZW51IHN1cmZhY2Ugd2FzIG9wZW5lZCBzaG91bGQgcmVnYWluIGZvY3VzLCBpZiB0aGUgdXNlciBpc1xuICAgICAqIGZvY3VzZWQgb24gb3Igd2l0aGluIHRoZSBtZW51IHN1cmZhY2Ugd2hlbiBpdCBpcyBjbG9zZWQuXG4gICAgICovXG4gICAgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnByb3RvdHlwZS5tYXliZVJlc3RvcmVGb2N1c18gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpc1Jvb3RGb2N1c2VkID0gdGhpcy5hZGFwdGVyXy5pc0ZvY3VzZWQoKTtcbiAgICAgICAgdmFyIGNoaWxkSGFzRm9jdXMgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIHRoaXMuYWRhcHRlcl8uaXNFbGVtZW50SW5Db250YWluZXIoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG4gICAgICAgIGlmIChpc1Jvb3RGb2N1c2VkIHx8IGNoaWxkSGFzRm9jdXMpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlcl8ucmVzdG9yZUZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuaGFzQml0XyA9IGZ1bmN0aW9uIChjb3JuZXIsIGJpdCkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbihjb3JuZXIgJiBiaXQpOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICB9O1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuc2V0Qml0XyA9IGZ1bmN0aW9uIChjb3JuZXIsIGJpdCkge1xuICAgICAgICByZXR1cm4gY29ybmVyIHwgYml0OyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGlzRmluaXRlIHRoYXQgZG9lc24ndCBmb3JjZSBjb252ZXJzaW9uIHRvIG51bWJlciB0eXBlLlxuICAgICAqIEVxdWl2YWxlbnQgdG8gTnVtYmVyLmlzRmluaXRlIGluIEVTMjAxNSwgd2hpY2ggaXMgbm90IHN1cHBvcnRlZCBpbiBJRS5cbiAgICAgKi9cbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLmlzRmluaXRlXyA9IGZ1bmN0aW9uIChudW0pIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBudW0gPT09ICdudW1iZXInICYmIGlzRmluaXRlKG51bSk7XG4gICAgfTtcbiAgICByZXR1cm4gTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uO1xufShNRENGb3VuZGF0aW9uKSk7XG5leHBvcnQgeyBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24gfTtcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1kZWZhdWx0LWV4cG9ydCBOZWVkZWQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCBNREMgV2ViIHYwLjQ0LjAgYW5kIGVhcmxpZXIuXG5leHBvcnQgZGVmYXVsdCBNRENNZW51U3VyZmFjZUZvdW5kYXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb3VuZGF0aW9uLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xudmFyIGNhY2hlZENzc1RyYW5zZm9ybVByb3BlcnR5TmFtZV87XG4vKipcbiAqIFJldHVybnMgdGhlIG5hbWUgb2YgdGhlIGNvcnJlY3QgdHJhbnNmb3JtIHByb3BlcnR5IHRvIHVzZSBvbiB0aGUgY3VycmVudCBicm93c2VyLlxuICovXG5mdW5jdGlvbiBnZXRUcmFuc2Zvcm1Qcm9wZXJ0eU5hbWUoZ2xvYmFsT2JqLCBmb3JjZVJlZnJlc2gpIHtcbiAgICBpZiAoZm9yY2VSZWZyZXNoID09PSB2b2lkIDApIHsgZm9yY2VSZWZyZXNoID0gZmFsc2U7IH1cbiAgICBpZiAoY2FjaGVkQ3NzVHJhbnNmb3JtUHJvcGVydHlOYW1lXyA9PT0gdW5kZWZpbmVkIHx8IGZvcmNlUmVmcmVzaCkge1xuICAgICAgICB2YXIgZWwgPSBnbG9iYWxPYmouZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNhY2hlZENzc1RyYW5zZm9ybVByb3BlcnR5TmFtZV8gPSAndHJhbnNmb3JtJyBpbiBlbC5zdHlsZSA/ICd0cmFuc2Zvcm0nIDogJ3dlYmtpdFRyYW5zZm9ybSc7XG4gICAgfVxuICAgIHJldHVybiBjYWNoZWRDc3NUcmFuc2Zvcm1Qcm9wZXJ0eU5hbWVfO1xufVxuZXhwb3J0IHsgZ2V0VHJhbnNmb3JtUHJvcGVydHlOYW1lIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlsLmpzLm1hcCIsImltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IENvcm5lciBhcyBDb3JuZXJFbnVtIH0gZnJvbSAnQG1hdGVyaWFsL21lbnUtc3VyZmFjZS9jb25zdGFudHMnO1xuaW1wb3J0IE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbiBmcm9tICdAbWF0ZXJpYWwvbWVudS1zdXJmYWNlL2ZvdW5kYXRpb24uanMnO1xuaW1wb3J0IHsgZ2V0VHJhbnNmb3JtUHJvcGVydHlOYW1lIH0gZnJvbSAnQG1hdGVyaWFsL21lbnUtc3VyZmFjZS91dGlsJztcbmltcG9ydCB7IGFkZEhhc1JlbW92ZUNsYXNzLCBCYXNlRWxlbWVudCwgb2JzZXJ2ZXIgfSBmcm9tICdAbWF0ZXJpYWwvbXdjLWJhc2UvYmFzZS1lbGVtZW50LmpzJztcbmltcG9ydCB7IGRlZXBBY3RpdmVFbGVtZW50UGF0aCwgZG9lc0VsZW1lbnRDb250YWluRm9jdXMgfSBmcm9tICdAbWF0ZXJpYWwvbXdjLWJhc2UvdXRpbHMnO1xuaW1wb3J0IHsgaHRtbCwgcHJvcGVydHksIHF1ZXJ5IH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuaW1wb3J0IHsgY2xhc3NNYXAgfSBmcm9tICdsaXQtaHRtbC9kaXJlY3RpdmVzL2NsYXNzLW1hcCc7XG4vKipcbiAqIEBmaXJlcyBvcGVuZWRcbiAqIEBmaXJlcyBjbG9zZWRcbiAqL1xuZXhwb3J0IGNsYXNzIE1lbnVTdXJmYWNlQmFzZSBleHRlbmRzIEJhc2VFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5tZGNGb3VuZGF0aW9uQ2xhc3MgPSBNRENNZW51U3VyZmFjZUZvdW5kYXRpb247XG4gICAgICAgIHRoaXMuYWJzb2x1dGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5mdWxsd2lkdGggPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hbmNob3IgPSBudWxsO1xuICAgICAgICB0aGlzLmZpeGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMueCA9IG51bGw7XG4gICAgICAgIHRoaXMueSA9IG51bGw7XG4gICAgICAgIC8vIG11c3QgYmUgZGVmaW5lZCBiZWZvcmUgb3BlbiBvciBlbHNlIHJhY2UgY29uZGl0aW9uIGluIGZvdW5kYXRpb24gb2NjdXJzLlxuICAgICAgICB0aGlzLnF1aWNrID0gZmFsc2U7XG4gICAgICAgIHRoaXMub3BlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvcm5lciA9ICdUT1BfU1RBUlQnO1xuICAgICAgICB0aGlzLnByZXZpb3VzbHlGb2N1c2VkID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcmV2aW91c0FuY2hvciA9IG51bGw7XG4gICAgICAgIHRoaXMub25Cb2R5Q2xpY2tCb3VuZCA9ICgpID0+IHsgfTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBjbGFzc2VzID0ge1xuICAgICAgICAgICAgJ21kYy1tZW51LXN1cmZhY2UtLWZpeGVkJzogdGhpcy5maXhlZCxcbiAgICAgICAgICAgICdmdWxsd2lkdGgnOiB0aGlzLmZ1bGx3aWR0aCxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGh0bWwgYFxuICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzPVwibWRjLW1lbnUtc3VyZmFjZSAke2NsYXNzTWFwKGNsYXNzZXMpfVwiXG4gICAgICAgICAgQGtleWRvd249JHt0aGlzLm9uS2V5ZG93bn1cbiAgICAgICAgICBAb3BlbmVkPSR7dGhpcy5yZWdpc3RlckJvZHlDbGlja31cbiAgICAgICAgICBAY2xvc2VkPSR7dGhpcy5kZXJlZ2lzdGVyQm9keUNsaWNrfT5cbiAgICAgICAgPHNsb3Q+PC9zbG90PlxuICAgICAgPC9kaXY+YDtcbiAgICB9XG4gICAgY3JlYXRlQWRhcHRlcigpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgYWRkSGFzUmVtb3ZlQ2xhc3ModGhpcy5tZGNSb290KSksIHsgaGFzQW5jaG9yOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhdGhpcy5hbmNob3I7XG4gICAgICAgICAgICB9LCBub3RpZnlDbG9zZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluaXQgPSB7IGJ1YmJsZXM6IHRydWUsIGNvbXBvc2VkOiB0cnVlIH07XG4gICAgICAgICAgICAgICAgY29uc3QgZXYgPSBuZXcgQ3VzdG9tRXZlbnQoJ2Nsb3NlZCcsIGluaXQpO1xuICAgICAgICAgICAgICAgIHRoaXMub3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMubWRjUm9vdC5kaXNwYXRjaEV2ZW50KGV2KTtcbiAgICAgICAgICAgIH0sIG5vdGlmeU9wZW46ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbml0ID0geyBidWJibGVzOiB0cnVlLCBjb21wb3NlZDogdHJ1ZSB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGV2ID0gbmV3IEN1c3RvbUV2ZW50KCdvcGVuZWQnLCBpbml0KTtcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMubWRjUm9vdC5kaXNwYXRjaEV2ZW50KGV2KTtcbiAgICAgICAgICAgIH0sIGlzRWxlbWVudEluQ29udGFpbmVyOiAoKSA9PiBmYWxzZSwgaXNSdGw6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tZGNSb290KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRDb21wdXRlZFN0eWxlKHRoaXMubWRjUm9vdCkuZGlyZWN0aW9uID09PSAncnRsJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSwgc2V0VHJhbnNmb3JtT3JpZ2luOiAob3JpZ2luKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdCA9IHRoaXMubWRjUm9vdDtcbiAgICAgICAgICAgICAgICBpZiAoIXJvb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwcm9wZXJ0eU5hbWUgPSBgJHtnZXRUcmFuc2Zvcm1Qcm9wZXJ0eU5hbWUod2luZG93KX0tb3JpZ2luYDtcbiAgICAgICAgICAgICAgICByb290LnN0eWxlLnNldFByb3BlcnR5KHByb3BlcnR5TmFtZSwgb3JpZ2luKTtcbiAgICAgICAgICAgIH0sIGlzRm9jdXNlZDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBkb2VzRWxlbWVudENvbnRhaW5Gb2N1cyh0aGlzKTtcbiAgICAgICAgICAgIH0sIHNhdmVGb2N1czogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUVsZW1lbnRQYXRoID0gZGVlcEFjdGl2ZUVsZW1lbnRQYXRoKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aExlbmd0aCA9IGFjdGl2ZUVsZW1lbnRQYXRoLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAoIXBhdGhMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91c2x5Rm9jdXNlZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucHJldmlvdXNseUZvY3VzZWQgPSBhY3RpdmVFbGVtZW50UGF0aFtwYXRoTGVuZ3RoIC0gMV07XG4gICAgICAgICAgICB9LCByZXN0b3JlRm9jdXM6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucHJldmlvdXNseUZvY3VzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoJ2ZvY3VzJyBpbiB0aGlzLnByZXZpb3VzbHlGb2N1c2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJldmlvdXNseUZvY3VzZWQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBnZXRJbm5lckRpbWVuc2lvbnM6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZGNSb290ID0gdGhpcy5tZGNSb290O1xuICAgICAgICAgICAgICAgIGlmICghbWRjUm9vdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7IHdpZHRoOiBtZGNSb290Lm9mZnNldFdpZHRoLCBoZWlnaHQ6IG1kY1Jvb3Qub2Zmc2V0SGVpZ2h0IH07XG4gICAgICAgICAgICB9LCBnZXRBbmNob3JEaW1lbnNpb25zOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYW5jaG9yRWxlbWVudCA9IHRoaXMuYW5jaG9yO1xuICAgICAgICAgICAgICAgIHJldHVybiBhbmNob3JFbGVtZW50ID8gYW5jaG9yRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IG51bGw7XG4gICAgICAgICAgICB9LCBnZXRCb2R5RGltZW5zaW9uczogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LCBnZXRXaW5kb3dEaW1lbnNpb25zOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSwgZ2V0V2luZG93U2Nyb2xsOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgeDogd2luZG93LnBhZ2VYT2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICB5OiB3aW5kb3cucGFnZVlPZmZzZXQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sIHNldFBvc2l0aW9uOiAocG9zaXRpb24pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZGNSb290ID0gdGhpcy5tZGNSb290O1xuICAgICAgICAgICAgICAgIGlmICghbWRjUm9vdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1kY1Jvb3Quc3R5bGUubGVmdCA9ICdsZWZ0JyBpbiBwb3NpdGlvbiA/IGAke3Bvc2l0aW9uLmxlZnR9cHhgIDogJyc7XG4gICAgICAgICAgICAgICAgbWRjUm9vdC5zdHlsZS5yaWdodCA9ICdyaWdodCcgaW4gcG9zaXRpb24gPyBgJHtwb3NpdGlvbi5yaWdodH1weGAgOiAnJztcbiAgICAgICAgICAgICAgICBtZGNSb290LnN0eWxlLnRvcCA9ICd0b3AnIGluIHBvc2l0aW9uID8gYCR7cG9zaXRpb24udG9wfXB4YCA6ICcnO1xuICAgICAgICAgICAgICAgIG1kY1Jvb3Quc3R5bGUuYm90dG9tID1cbiAgICAgICAgICAgICAgICAgICAgJ2JvdHRvbScgaW4gcG9zaXRpb24gPyBgJHtwb3NpdGlvbi5ib3R0b219cHhgIDogJyc7XG4gICAgICAgICAgICB9LCBzZXRNYXhIZWlnaHQ6IChoZWlnaHQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZGNSb290ID0gdGhpcy5tZGNSb290O1xuICAgICAgICAgICAgICAgIGlmICghbWRjUm9vdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1kY1Jvb3Quc3R5bGUubWF4SGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgfSB9KTtcbiAgICB9XG4gICAgb25LZXlkb3duKGV2dCkge1xuICAgICAgICBpZiAodGhpcy5tZGNGb3VuZGF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLm1kY0ZvdW5kYXRpb24uaGFuZGxlS2V5ZG93bihldnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQm9keUNsaWNrKGV2dCkge1xuICAgICAgICBjb25zdCBwYXRoID0gZXZ0LmNvbXBvc2VkUGF0aCgpO1xuICAgICAgICBpZiAocGF0aC5pbmRleE9mKHRoaXMpID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlZ2lzdGVyQm9keUNsaWNrKCkge1xuICAgICAgICB0aGlzLm9uQm9keUNsaWNrQm91bmQgPSB0aGlzLm9uQm9keUNsaWNrLmJpbmQodGhpcyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQm9keUNsaWNrQm91bmQpO1xuICAgIH1cbiAgICBkZXJlZ2lzdGVyQm9keUNsaWNrKCkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkJvZHlDbGlja0JvdW5kKTtcbiAgICB9XG4gICAgc2F2ZU9yUmVzdG9yZUFuY2hvcihpc0Fic29sdXRlKSB7XG4gICAgICAgIGlmIChpc0Fic29sdXRlKSB7XG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzQW5jaG9yID0gdGhpcy5hbmNob3I7XG4gICAgICAgICAgICB0aGlzLmFuY2hvciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0Fic29sdXRlICYmICF0aGlzLmFuY2hvciAmJiB0aGlzLnByZXZpb3VzQW5jaG9yKSB7XG4gICAgICAgICAgICB0aGlzLmFuY2hvciA9IHRoaXMucHJldmlvdXNBbmNob3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMub3BlbiA9IGZhbHNlO1xuICAgIH1cbiAgICBzaG93KCkge1xuICAgICAgICB0aGlzLm9wZW4gPSB0cnVlO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIHF1ZXJ5KCcubWRjLW1lbnUtc3VyZmFjZScpXG5dLCBNZW51U3VyZmFjZUJhc2UucHJvdG90eXBlLCBcIm1kY1Jvb3RcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHF1ZXJ5KCdzbG90Jylcbl0sIE1lbnVTdXJmYWNlQmFzZS5wcm90b3R5cGUsIFwic2xvdEVsZW1lbnRcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KSxcbiAgICBvYnNlcnZlcihmdW5jdGlvbiAoaXNBYnNvbHV0ZSkge1xuICAgICAgICBpZiAodGhpcy5tZGNGb3VuZGF0aW9uICYmICF0aGlzLmZpeGVkKSB7XG4gICAgICAgICAgICB0aGlzLm1kY0ZvdW5kYXRpb24uc2V0SXNIb2lzdGVkKGlzQWJzb2x1dGUpO1xuICAgICAgICAgICAgdGhpcy5zYXZlT3JSZXN0b3JlQW5jaG9yKGlzQWJzb2x1dGUpO1xuICAgICAgICB9XG4gICAgfSlcbl0sIE1lbnVTdXJmYWNlQmFzZS5wcm90b3R5cGUsIFwiYWJzb2x1dGVcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuXSwgTWVudVN1cmZhY2VCYXNlLnByb3RvdHlwZSwgXCJmdWxsd2lkdGhcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogT2JqZWN0IH0pLFxuICAgIG9ic2VydmVyKGZ1bmN0aW9uIChuZXdBbmNob3IsIG9sZEFuY2hvcikge1xuICAgICAgICBpZiAob2xkQW5jaG9yKSB7XG4gICAgICAgICAgICBvbGRBbmNob3Iuc3R5bGUucG9zaXRpb24gPSAnJztcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3QW5jaG9yKSB7XG4gICAgICAgICAgICBuZXdBbmNob3Iuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgICAgICB9XG4gICAgfSlcbl0sIE1lbnVTdXJmYWNlQmFzZS5wcm90b3R5cGUsIFwiYW5jaG9yXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSksXG4gICAgb2JzZXJ2ZXIoZnVuY3Rpb24gKGlzRml4ZWQpIHtcbiAgICAgICAgaWYgKHRoaXMubWRjRm91bmRhdGlvbiAmJiAhdGhpcy5hYnNvbHV0ZSkge1xuICAgICAgICAgICAgdGhpcy5tZGNGb3VuZGF0aW9uLnNldElzSG9pc3RlZChpc0ZpeGVkKTtcbiAgICAgICAgICAgIHRoaXMuc2F2ZU9yUmVzdG9yZUFuY2hvcihpc0ZpeGVkKTtcbiAgICAgICAgfVxuICAgIH0pXG5dLCBNZW51U3VyZmFjZUJhc2UucHJvdG90eXBlLCBcImZpeGVkXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IE51bWJlciB9KSxcbiAgICBvYnNlcnZlcihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMubWRjRm91bmRhdGlvbiAmJiB0aGlzLnkgIT09IG51bGwgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMubWRjRm91bmRhdGlvbi5zZXRBYnNvbHV0ZVBvc2l0aW9uKHZhbHVlLCB0aGlzLnkpO1xuICAgICAgICAgICAgdGhpcy5tZGNGb3VuZGF0aW9uLnNldEFuY2hvck1hcmdpbih7IGxlZnQ6IHZhbHVlLCB0b3A6IHRoaXMueSB9KTtcbiAgICAgICAgfVxuICAgIH0pXG5dLCBNZW51U3VyZmFjZUJhc2UucHJvdG90eXBlLCBcInhcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogTnVtYmVyIH0pLFxuICAgIG9ic2VydmVyKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5tZGNGb3VuZGF0aW9uICYmIHRoaXMueCAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5tZGNGb3VuZGF0aW9uLnNldEFic29sdXRlUG9zaXRpb24odGhpcy54LCB2YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLm1kY0ZvdW5kYXRpb24uc2V0QW5jaG9yTWFyZ2luKHsgbGVmdDogdGhpcy54LCB0b3A6IHZhbHVlIH0pO1xuICAgICAgICB9XG4gICAgfSlcbl0sIE1lbnVTdXJmYWNlQmFzZS5wcm90b3R5cGUsIFwieVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pLFxuICAgIG9ic2VydmVyKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5tZGNGb3VuZGF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLm1kY0ZvdW5kYXRpb24uc2V0UXVpY2tPcGVuKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0pXG5dLCBNZW51U3VyZmFjZUJhc2UucHJvdG90eXBlLCBcInF1aWNrXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIHJlZmxlY3Q6IHRydWUgfSksXG4gICAgb2JzZXJ2ZXIoZnVuY3Rpb24gKGlzT3Blbikge1xuICAgICAgICBpZiAodGhpcy5tZGNGb3VuZGF0aW9uKSB7XG4gICAgICAgICAgICBpZiAoaXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZGNGb3VuZGF0aW9uLm9wZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubWRjRm91bmRhdGlvbi5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSlcbl0sIE1lbnVTdXJmYWNlQmFzZS5wcm90b3R5cGUsIFwib3BlblwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcgfSksXG4gICAgb2JzZXJ2ZXIoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLm1kY0ZvdW5kYXRpb24pIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubWRjRm91bmRhdGlvbi5zZXRBbmNob3JDb3JuZXIoQ29ybmVyRW51bVt2YWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZGNGb3VuZGF0aW9uLnNldEFuY2hvckNvcm5lcihDb3JuZXJFbnVtLlRPUF9TVEFSVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KVxuXSwgTWVudVN1cmZhY2VCYXNlLnByb3RvdHlwZSwgXCJjb3JuZXJcIiwgdm9pZCAwKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW13Yy1tZW51LXN1cmZhY2UtYmFzZS5qcy5tYXAiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xueW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG5TZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG5saW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiovXG5pbXBvcnQgeyBjc3MgfSBmcm9tICdsaXQtZWxlbWVudCc7XG5leHBvcnQgY29uc3Qgc3R5bGUgPSBjc3MgYC5tZGMtbWVudS1zdXJmYWNle2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTtib3gtc2l6aW5nOmJvcmRlci1ib3g7bWF4LXdpZHRoOmNhbGMoMTAwdncgLSAzMnB4KTttYXgtaGVpZ2h0OmNhbGMoMTAwdmggLSAzMnB4KTttYXJnaW46MDtwYWRkaW5nOjA7dHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybS1vcmlnaW46dG9wIGxlZnQ7b3BhY2l0eTowO292ZXJmbG93OmF1dG87d2lsbC1jaGFuZ2U6dHJhbnNmb3JtLG9wYWNpdHk7ei1pbmRleDo4O3RyYW5zaXRpb246b3BhY2l0eSAuMDNzIGxpbmVhcix0cmFuc2Zvcm0gLjEycyBjdWJpYy1iZXppZXIoMCwgMCwgMC4yLCAxKTtib3gtc2hhZG93OjBweCA1cHggNXB4IC0zcHggcmdiYSgwLCAwLCAwLCAwLjIpLDBweCA4cHggMTBweCAxcHggcmdiYSgwLCAwLCAwLCAwLjE0KSwwcHggM3B4IDE0cHggMnB4IHJnYmEoMCwwLDAsLjEyKTtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1tZGMtdGhlbWUtc3VyZmFjZSwgI2ZmZik7Y29sb3I6IzAwMDtjb2xvcjp2YXIoLS1tZGMtdGhlbWUtb24tc3VyZmFjZSwgIzAwMCk7Ym9yZGVyLXJhZGl1czo0cHg7dHJhbnNmb3JtLW9yaWdpbi1sZWZ0OnRvcCBsZWZ0O3RyYW5zZm9ybS1vcmlnaW4tcmlnaHQ6dG9wIHJpZ2h0fS5tZGMtbWVudS1zdXJmYWNlOmZvY3Vze291dGxpbmU6bm9uZX0ubWRjLW1lbnUtc3VyZmFjZS0tb3BlbntkaXNwbGF5OmlubGluZS1ibG9jazt0cmFuc2Zvcm06c2NhbGUoMSk7b3BhY2l0eToxfS5tZGMtbWVudS1zdXJmYWNlLS1hbmltYXRpbmctb3BlbntkaXNwbGF5OmlubGluZS1ibG9jazt0cmFuc2Zvcm06c2NhbGUoMC44KTtvcGFjaXR5OjB9Lm1kYy1tZW51LXN1cmZhY2UtLWFuaW1hdGluZy1jbG9zZWR7ZGlzcGxheTppbmxpbmUtYmxvY2s7b3BhY2l0eTowO3RyYW5zaXRpb246b3BhY2l0eSAuMDc1cyBsaW5lYXJ9W2Rpcj1ydGxdIC5tZGMtbWVudS1zdXJmYWNlLC5tZGMtbWVudS1zdXJmYWNlW2Rpcj1ydGxde3RyYW5zZm9ybS1vcmlnaW4tbGVmdDp0b3AgcmlnaHQ7dHJhbnNmb3JtLW9yaWdpbi1yaWdodDp0b3AgbGVmdH0ubWRjLW1lbnUtc3VyZmFjZS0tYW5jaG9ye3Bvc2l0aW9uOnJlbGF0aXZlO292ZXJmbG93OnZpc2libGV9Lm1kYy1tZW51LXN1cmZhY2UtLWZpeGVke3Bvc2l0aW9uOmZpeGVkfTpob3N0KDpub3QoW29wZW5dKSl7ZGlzcGxheTpub25lfS5mdWxsd2lkdGh7d2lkdGg6MTAwJX1gO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXdjLW1lbnUtc3VyZmFjZS1jc3MuanMubWFwIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IDIwMjAgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbnlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbllvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuXG4gICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cblVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbmRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbldJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxubGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qL1xuaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmltcG9ydCB7IE1lbnVTdXJmYWNlQmFzZSB9IGZyb20gJy4vbXdjLW1lbnUtc3VyZmFjZS1iYXNlLmpzJztcbmltcG9ydCB7IHN0eWxlIH0gZnJvbSAnLi9td2MtbWVudS1zdXJmYWNlLWNzcy5qcyc7XG5sZXQgTWVudVN1cmZhY2UgPSBjbGFzcyBNZW51U3VyZmFjZSBleHRlbmRzIE1lbnVTdXJmYWNlQmFzZSB7XG59O1xuTWVudVN1cmZhY2Uuc3R5bGVzID0gc3R5bGU7XG5NZW51U3VyZmFjZSA9IF9fZGVjb3JhdGUoW1xuICAgIGN1c3RvbUVsZW1lbnQoJ213Yy1tZW51LXN1cmZhY2UnKVxuXSwgTWVudVN1cmZhY2UpO1xuZXhwb3J0IHsgTWVudVN1cmZhY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW13Yy1tZW51LXN1cmZhY2UuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG52YXIgY3NzQ2xhc3NlcyA9IHtcbiAgICBNRU5VX1NFTEVDVEVEX0xJU1RfSVRFTTogJ21kYy1tZW51LWl0ZW0tLXNlbGVjdGVkJyxcbiAgICBNRU5VX1NFTEVDVElPTl9HUk9VUDogJ21kYy1tZW51X19zZWxlY3Rpb24tZ3JvdXAnLFxuICAgIFJPT1Q6ICdtZGMtbWVudScsXG59O1xudmFyIHN0cmluZ3MgPSB7XG4gICAgQVJJQV9DSEVDS0VEX0FUVFI6ICdhcmlhLWNoZWNrZWQnLFxuICAgIEFSSUFfRElTQUJMRURfQVRUUjogJ2FyaWEtZGlzYWJsZWQnLFxuICAgIENIRUNLQk9YX1NFTEVDVE9SOiAnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyxcbiAgICBMSVNUX1NFTEVDVE9SOiAnLm1kYy1saXN0JyxcbiAgICBTRUxFQ1RFRF9FVkVOVDogJ01EQ01lbnU6c2VsZWN0ZWQnLFxufTtcbnZhciBudW1iZXJzID0ge1xuICAgIEZPQ1VTX1JPT1RfSU5ERVg6IC0xLFxufTtcbnZhciBEZWZhdWx0Rm9jdXNTdGF0ZTtcbihmdW5jdGlvbiAoRGVmYXVsdEZvY3VzU3RhdGUpIHtcbiAgICBEZWZhdWx0Rm9jdXNTdGF0ZVtEZWZhdWx0Rm9jdXNTdGF0ZVtcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICAgIERlZmF1bHRGb2N1c1N0YXRlW0RlZmF1bHRGb2N1c1N0YXRlW1wiTElTVF9ST09UXCJdID0gMV0gPSBcIkxJU1RfUk9PVFwiO1xuICAgIERlZmF1bHRGb2N1c1N0YXRlW0RlZmF1bHRGb2N1c1N0YXRlW1wiRklSU1RfSVRFTVwiXSA9IDJdID0gXCJGSVJTVF9JVEVNXCI7XG4gICAgRGVmYXVsdEZvY3VzU3RhdGVbRGVmYXVsdEZvY3VzU3RhdGVbXCJMQVNUX0lURU1cIl0gPSAzXSA9IFwiTEFTVF9JVEVNXCI7XG59KShEZWZhdWx0Rm9jdXNTdGF0ZSB8fCAoRGVmYXVsdEZvY3VzU3RhdGUgPSB7fSkpO1xuZXhwb3J0IHsgY3NzQ2xhc3Nlcywgc3RyaW5ncywgbnVtYmVycywgRGVmYXVsdEZvY3VzU3RhdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBNRENGb3VuZGF0aW9uIH0gZnJvbSAnQG1hdGVyaWFsL2Jhc2UvZm91bmRhdGlvbic7XG5pbXBvcnQgeyBjc3NDbGFzc2VzIGFzIGxpc3RDc3NDbGFzc2VzIH0gZnJvbSAnQG1hdGVyaWFsL2xpc3QvY29uc3RhbnRzJztcbmltcG9ydCB7IE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbiB9IGZyb20gJ0BtYXRlcmlhbC9tZW51LXN1cmZhY2UvZm91bmRhdGlvbic7XG5pbXBvcnQgeyBjc3NDbGFzc2VzLCBEZWZhdWx0Rm9jdXNTdGF0ZSwgbnVtYmVycywgc3RyaW5ncyB9IGZyb20gJy4vY29uc3RhbnRzJztcbnZhciBNRENNZW51Rm91bmRhdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhNRENNZW51Rm91bmRhdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNRENNZW51Rm91bmRhdGlvbihhZGFwdGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRzbGliXzEuX19hc3NpZ24oe30sIE1EQ01lbnVGb3VuZGF0aW9uLmRlZmF1bHRBZGFwdGVyLCBhZGFwdGVyKSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY2xvc2VBbmltYXRpb25FbmRUaW1lcklkXyA9IDA7XG4gICAgICAgIF90aGlzLmRlZmF1bHRGb2N1c1N0YXRlXyA9IERlZmF1bHRGb2N1c1N0YXRlLkxJU1RfUk9PVDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDTWVudUZvdW5kYXRpb24sIFwiY3NzQ2xhc3Nlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNzc0NsYXNzZXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENNZW51Rm91bmRhdGlvbiwgXCJzdHJpbmdzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5ncztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ01lbnVGb3VuZGF0aW9uLCBcIm51bWJlcnNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBudW1iZXJzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDTWVudUZvdW5kYXRpb24sIFwiZGVmYXVsdEFkYXB0ZXJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHNlZSB7QGxpbmsgTURDTWVudUFkYXB0ZXJ9IGZvciB0eXBpbmcgaW5mb3JtYXRpb24gb24gcGFyYW1ldGVycyBhbmQgcmV0dXJuIHR5cGVzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXMgTWV0aG9kcyBzaG91bGQgYmUgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlIGFkYXB0ZXIgaW50ZXJmYWNlLlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzc1RvRWxlbWVudEF0SW5kZXg6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzc0Zyb21FbGVtZW50QXRJbmRleDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGFkZEF0dHJpYnV0ZVRvRWxlbWVudEF0SW5kZXg6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICByZW1vdmVBdHRyaWJ1dGVGcm9tRWxlbWVudEF0SW5kZXg6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBlbGVtZW50Q29udGFpbnNDbGFzczogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH0sXG4gICAgICAgICAgICAgICAgY2xvc2VTdXJmYWNlOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgZ2V0RWxlbWVudEluZGV4OiBmdW5jdGlvbiAoKSB7IHJldHVybiAtMTsgfSxcbiAgICAgICAgICAgICAgICBub3RpZnlTZWxlY3RlZDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGdldE1lbnVJdGVtQ291bnQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDA7IH0sXG4gICAgICAgICAgICAgICAgZm9jdXNJdGVtQXRJbmRleDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGZvY3VzTGlzdFJvb3Q6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBnZXRTZWxlY3RlZFNpYmxpbmdPZkl0ZW1BdEluZGV4OiBmdW5jdGlvbiAoKSB7IHJldHVybiAtMTsgfSxcbiAgICAgICAgICAgICAgICBpc1NlbGVjdGFibGVJdGVtQXRJbmRleDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gdHNsaW50OmVuYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXNcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTURDTWVudUZvdW5kYXRpb24ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlQW5pbWF0aW9uRW5kVGltZXJJZF8pIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNsb3NlQW5pbWF0aW9uRW5kVGltZXJJZF8pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRhcHRlcl8uY2xvc2VTdXJmYWNlKCk7XG4gICAgfTtcbiAgICBNRENNZW51Rm91bmRhdGlvbi5wcm90b3R5cGUuaGFuZGxlS2V5ZG93biA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgdmFyIGtleSA9IGV2dC5rZXksIGtleUNvZGUgPSBldnQua2V5Q29kZTtcbiAgICAgICAgdmFyIGlzVGFiID0ga2V5ID09PSAnVGFiJyB8fCBrZXlDb2RlID09PSA5O1xuICAgICAgICBpZiAoaXNUYWIpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlcl8uY2xvc2VTdXJmYWNlKC8qKiBza2lwUmVzdG9yZUZvY3VzICovIHRydWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNRENNZW51Rm91bmRhdGlvbi5wcm90b3R5cGUuaGFuZGxlSXRlbUFjdGlvbiA9IGZ1bmN0aW9uIChsaXN0SXRlbSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmFkYXB0ZXJfLmdldEVsZW1lbnRJbmRleChsaXN0SXRlbSk7XG4gICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkYXB0ZXJfLm5vdGlmeVNlbGVjdGVkKHsgaW5kZXg6IGluZGV4IH0pO1xuICAgICAgICB0aGlzLmFkYXB0ZXJfLmNsb3NlU3VyZmFjZSgpO1xuICAgICAgICAvLyBXYWl0IGZvciB0aGUgbWVudSB0byBjbG9zZSBiZWZvcmUgYWRkaW5nL3JlbW92aW5nIGNsYXNzZXMgdGhhdCBhZmZlY3Qgc3R5bGVzLlxuICAgICAgICB0aGlzLmNsb3NlQW5pbWF0aW9uRW5kVGltZXJJZF8gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIFJlY29tcHV0ZSB0aGUgaW5kZXggaW4gY2FzZSB0aGUgbWVudSBjb250ZW50cyBoYXZlIGNoYW5nZWQuXG4gICAgICAgICAgICB2YXIgcmVjb21wdXRlZEluZGV4ID0gX3RoaXMuYWRhcHRlcl8uZ2V0RWxlbWVudEluZGV4KGxpc3RJdGVtKTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5hZGFwdGVyXy5pc1NlbGVjdGFibGVJdGVtQXRJbmRleChyZWNvbXB1dGVkSW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U2VsZWN0ZWRJbmRleChyZWNvbXB1dGVkSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ubnVtYmVycy5UUkFOU0lUSU9OX0NMT1NFX0RVUkFUSU9OKTtcbiAgICB9O1xuICAgIE1EQ01lbnVGb3VuZGF0aW9uLnByb3RvdHlwZS5oYW5kbGVNZW51U3VyZmFjZU9wZW5lZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLmRlZmF1bHRGb2N1c1N0YXRlXykge1xuICAgICAgICAgICAgY2FzZSBEZWZhdWx0Rm9jdXNTdGF0ZS5GSVJTVF9JVEVNOlxuICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlcl8uZm9jdXNJdGVtQXRJbmRleCgwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRGVmYXVsdEZvY3VzU3RhdGUuTEFTVF9JVEVNOlxuICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlcl8uZm9jdXNJdGVtQXRJbmRleCh0aGlzLmFkYXB0ZXJfLmdldE1lbnVJdGVtQ291bnQoKSAtIDEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBEZWZhdWx0Rm9jdXNTdGF0ZS5OT05FOlxuICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmcuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlcl8uZm9jdXNMaXN0Um9vdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIGRlZmF1bHQgZm9jdXMgc3RhdGUgd2hlcmUgdGhlIG1lbnUgc2hvdWxkIGZvY3VzIGV2ZXJ5IHRpbWUgd2hlbiBtZW51XG4gICAgICogaXMgb3BlbmVkLiBGb2N1c2VzIHRoZSBsaXN0IHJvb3QgKGBEZWZhdWx0Rm9jdXNTdGF0ZS5MSVNUX1JPT1RgKSBlbGVtZW50IGJ5XG4gICAgICogZGVmYXVsdC5cbiAgICAgKi9cbiAgICBNRENNZW51Rm91bmRhdGlvbi5wcm90b3R5cGUuc2V0RGVmYXVsdEZvY3VzU3RhdGUgPSBmdW5jdGlvbiAoZm9jdXNTdGF0ZSkge1xuICAgICAgICB0aGlzLmRlZmF1bHRGb2N1c1N0YXRlXyA9IGZvY3VzU3RhdGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZWxlY3RzIHRoZSBsaXN0IGl0ZW0gYXQgYGluZGV4YCB3aXRoaW4gdGhlIG1lbnUuXG4gICAgICogQHBhcmFtIGluZGV4IEluZGV4IG9mIGxpc3QgaXRlbSB3aXRoaW4gdGhlIG1lbnUuXG4gICAgICovXG4gICAgTURDTWVudUZvdW5kYXRpb24ucHJvdG90eXBlLnNldFNlbGVjdGVkSW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZWRJbmRleF8oaW5kZXgpO1xuICAgICAgICBpZiAoIXRoaXMuYWRhcHRlcl8uaXNTZWxlY3RhYmxlSXRlbUF0SW5kZXgoaW5kZXgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01EQ01lbnVGb3VuZGF0aW9uOiBObyBzZWxlY3Rpb24gZ3JvdXAgYXQgc3BlY2lmaWVkIGluZGV4LicpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcmV2U2VsZWN0ZWRJbmRleCA9IHRoaXMuYWRhcHRlcl8uZ2V0U2VsZWN0ZWRTaWJsaW5nT2ZJdGVtQXRJbmRleChpbmRleCk7XG4gICAgICAgIGlmIChwcmV2U2VsZWN0ZWRJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXJfLnJlbW92ZUF0dHJpYnV0ZUZyb21FbGVtZW50QXRJbmRleChwcmV2U2VsZWN0ZWRJbmRleCwgc3RyaW5ncy5BUklBX0NIRUNLRURfQVRUUik7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXJfLnJlbW92ZUNsYXNzRnJvbUVsZW1lbnRBdEluZGV4KHByZXZTZWxlY3RlZEluZGV4LCBjc3NDbGFzc2VzLk1FTlVfU0VMRUNURURfTElTVF9JVEVNKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkYXB0ZXJfLmFkZENsYXNzVG9FbGVtZW50QXRJbmRleChpbmRleCwgY3NzQ2xhc3Nlcy5NRU5VX1NFTEVDVEVEX0xJU1RfSVRFTSk7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8uYWRkQXR0cmlidXRlVG9FbGVtZW50QXRJbmRleChpbmRleCwgc3RyaW5ncy5BUklBX0NIRUNLRURfQVRUUiwgJ3RydWUnKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGVuYWJsZWQgc3RhdGUgdG8gaXNFbmFibGVkIGZvciB0aGUgbWVudSBpdGVtIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAgICAgKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgdGhlIG1lbnUgaXRlbVxuICAgICAqIEBwYXJhbSBpc0VuYWJsZWQgVGhlIGRlc2lyZWQgZW5hYmxlZCBzdGF0ZSBvZiB0aGUgbWVudSBpdGVtLlxuICAgICAqL1xuICAgIE1EQ01lbnVGb3VuZGF0aW9uLnByb3RvdHlwZS5zZXRFbmFibGVkID0gZnVuY3Rpb24gKGluZGV4LCBpc0VuYWJsZWQpIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZWRJbmRleF8oaW5kZXgpO1xuICAgICAgICBpZiAoaXNFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXJfLnJlbW92ZUNsYXNzRnJvbUVsZW1lbnRBdEluZGV4KGluZGV4LCBsaXN0Q3NzQ2xhc3Nlcy5MSVNUX0lURU1fRElTQUJMRURfQ0xBU1MpO1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyXy5hZGRBdHRyaWJ1dGVUb0VsZW1lbnRBdEluZGV4KGluZGV4LCBzdHJpbmdzLkFSSUFfRElTQUJMRURfQVRUUiwgJ2ZhbHNlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXJfLmFkZENsYXNzVG9FbGVtZW50QXRJbmRleChpbmRleCwgbGlzdENzc0NsYXNzZXMuTElTVF9JVEVNX0RJU0FCTEVEX0NMQVNTKTtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlcl8uYWRkQXR0cmlidXRlVG9FbGVtZW50QXRJbmRleChpbmRleCwgc3RyaW5ncy5BUklBX0RJU0FCTEVEX0FUVFIsICd0cnVlJyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1EQ01lbnVGb3VuZGF0aW9uLnByb3RvdHlwZS52YWxpZGF0ZWRJbmRleF8gPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgdmFyIG1lbnVTaXplID0gdGhpcy5hZGFwdGVyXy5nZXRNZW51SXRlbUNvdW50KCk7XG4gICAgICAgIHZhciBpc0luZGV4SW5SYW5nZSA9IGluZGV4ID49IDAgJiYgaW5kZXggPCBtZW51U2l6ZTtcbiAgICAgICAgaWYgKCFpc0luZGV4SW5SYW5nZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNRENNZW51Rm91bmRhdGlvbjogTm8gbGlzdCBpdGVtIGF0IHNwZWNpZmllZCBpbmRleC4nKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE1EQ01lbnVGb3VuZGF0aW9uO1xufShNRENGb3VuZGF0aW9uKSk7XG5leHBvcnQgeyBNRENNZW51Rm91bmRhdGlvbiB9O1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWRlZmF1bHQtZXhwb3J0IE5lZWRlZCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIE1EQyBXZWIgdjAuNDQuMCBhbmQgZWFybGllci5cbmV4cG9ydCBkZWZhdWx0IE1EQ01lbnVGb3VuZGF0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm91bmRhdGlvbi5qcy5tYXAiLCJpbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSBcInRzbGliXCI7XG4vKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgMjAyMCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xueW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG5TZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG5saW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiovXG5pbXBvcnQgJ0BtYXRlcmlhbC9td2MtbGlzdCc7XG5pbXBvcnQgJy4vbXdjLW1lbnUtc3VyZmFjZSc7XG5pbXBvcnQgeyBEZWZhdWx0Rm9jdXNTdGF0ZSBhcyBEZWZhdWx0Rm9jdXNTdGF0ZUVudW0gfSBmcm9tICdAbWF0ZXJpYWwvbWVudS9jb25zdGFudHMnO1xuaW1wb3J0IE1EQ01lbnVGb3VuZGF0aW9uIGZyb20gJ0BtYXRlcmlhbC9tZW51L2ZvdW5kYXRpb24uanMnO1xuaW1wb3J0IHsgQmFzZUVsZW1lbnQsIG9ic2VydmVyIH0gZnJvbSAnQG1hdGVyaWFsL213Yy1iYXNlL2Jhc2UtZWxlbWVudC5qcyc7XG5pbXBvcnQgeyBodG1sLCBwcm9wZXJ0eSwgcXVlcnkgfSBmcm9tICdsaXQtZWxlbWVudCc7XG5leHBvcnQgeyBjcmVhdGVTZXRGcm9tSW5kZXgsIGlzRXZlbnRNdWx0aSwgaXNJbmRleFNldCB9IGZyb20gJ0BtYXRlcmlhbC9td2MtbGlzdC9td2MtbGlzdC1mb3VuZGF0aW9uJztcbi8qKlxuICogQGZpcmVzIHNlbGVjdGVkIHtTZWxlY3RlZERldGFpbH1cbiAqIEBmaXJlcyBhY3Rpb24ge0FjdGlvbkRldGFpbH1cbiAqIEBmaXJlcyBvcGVuZWRcbiAqIEBmaXJlcyBjbG9zZWRcbiAqL1xuZXhwb3J0IGNsYXNzIE1lbnVCYXNlIGV4dGVuZHMgQmFzZUVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm1kY0ZvdW5kYXRpb25DbGFzcyA9IE1EQ01lbnVGb3VuZGF0aW9uO1xuICAgICAgICB0aGlzLmxpc3RFbGVtZW50XyA9IG51bGw7XG4gICAgICAgIHRoaXMuYW5jaG9yID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcGVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMucXVpY2sgPSBmYWxzZTtcbiAgICAgICAgdGhpcy53cmFwRm9jdXMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbm5lclJvbGUgPSAnbWVudSc7XG4gICAgICAgIHRoaXMuY29ybmVyID0gJ1RPUF9TVEFSVCc7XG4gICAgICAgIHRoaXMueCA9IG51bGw7XG4gICAgICAgIHRoaXMueSA9IG51bGw7XG4gICAgICAgIHRoaXMuYWJzb2x1dGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tdWx0aSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFjdGl2YXRhYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZml4ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5mb3JjZUdyb3VwU2VsZWN0aW9uID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZnVsbHdpZHRoID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGVmYXVsdEZvY3VzID0gJ0xJU1RfUk9PVCc7XG4gICAgfVxuICAgIGdldCBsaXN0RWxlbWVudCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmxpc3RFbGVtZW50Xykge1xuICAgICAgICAgICAgdGhpcy5saXN0RWxlbWVudF8gPSB0aGlzLnJlbmRlclJvb3QucXVlcnlTZWxlY3RvcignbXdjLWxpc3QnKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RFbGVtZW50XztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5saXN0RWxlbWVudF87XG4gICAgfVxuICAgIGdldCBpdGVtcygpIHtcbiAgICAgICAgY29uc3QgbGlzdEVsZW1lbnQgPSB0aGlzLmxpc3RFbGVtZW50O1xuICAgICAgICBpZiAobGlzdEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBsaXN0RWxlbWVudC5pdGVtcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGdldCBpbmRleCgpIHtcbiAgICAgICAgY29uc3QgbGlzdEVsZW1lbnQgPSB0aGlzLmxpc3RFbGVtZW50O1xuICAgICAgICBpZiAobGlzdEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBsaXN0RWxlbWVudC5pbmRleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGdldCBzZWxlY3RlZCgpIHtcbiAgICAgICAgY29uc3QgbGlzdEVsZW1lbnQgPSB0aGlzLmxpc3RFbGVtZW50O1xuICAgICAgICBpZiAobGlzdEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBsaXN0RWxlbWVudC5zZWxlY3RlZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBpdGVtUm9sZXMgPSB0aGlzLmlubmVyUm9sZSA9PT0gJ21lbnUnID8gJ21lbnVpdGVtJyA6ICdvcHRpb24nO1xuICAgICAgICByZXR1cm4gaHRtbCBgXG4gICAgICA8bXdjLW1lbnUtc3VyZmFjZVxuICAgICAgICAgID9oaWRkZW49JHshdGhpcy5vcGVufVxuICAgICAgICAgIC5hbmNob3I9JHt0aGlzLmFuY2hvcn1cbiAgICAgICAgICAub3Blbj0ke3RoaXMub3Blbn1cbiAgICAgICAgICAucXVpY2s9JHt0aGlzLnF1aWNrfVxuICAgICAgICAgIC5jb3JuZXI9JHt0aGlzLmNvcm5lcn1cbiAgICAgICAgICAueD0ke3RoaXMueH1cbiAgICAgICAgICAueT0ke3RoaXMueX1cbiAgICAgICAgICAuYWJzb2x1dGU9JHt0aGlzLmFic29sdXRlfVxuICAgICAgICAgIC5maXhlZD0ke3RoaXMuZml4ZWR9XG4gICAgICAgICAgLmZ1bGx3aWR0aD0ke3RoaXMuZnVsbHdpZHRofVxuICAgICAgICAgIGNsYXNzPVwibWRjLW1lbnUgbWRjLW1lbnUtc3VyZmFjZVwiXG4gICAgICAgICAgQGNsb3NlZD0ke3RoaXMub25DbG9zZWR9XG4gICAgICAgICAgQG9wZW5lZD0ke3RoaXMub25PcGVuZWR9XG4gICAgICAgICAgQGtleWRvd249JHt0aGlzLm9uS2V5ZG93bn0+XG4gICAgICAgICAgPG13Yy1saXN0XG4gICAgICAgICAgICByb290VGFiYmFibGVcbiAgICAgICAgICAgIC5pbm5lclJvbGU9JHt0aGlzLmlubmVyUm9sZX1cbiAgICAgICAgICAgIC5tdWx0aT0ke3RoaXMubXVsdGl9XG4gICAgICAgICAgICBjbGFzcz1cIm1kYy1saXN0XCJcbiAgICAgICAgICAgIC5pdGVtUm9sZXM9JHtpdGVtUm9sZXN9XG4gICAgICAgICAgICAud3JhcEZvY3VzPSR7dGhpcy53cmFwRm9jdXN9XG4gICAgICAgICAgICAuYWN0aXZhdGFibGU9JHt0aGlzLmFjdGl2YXRhYmxlfVxuICAgICAgICAgICAgQGFjdGlvbj0ke3RoaXMub25BY3Rpb259PlxuICAgICAgICAgIDxzbG90Pjwvc2xvdD5cbiAgICAgICAgPC9td2MtbGlzdD5cbiAgICAgIDwvbXdjLW1lbnUtc3VyZmFjZT5gO1xuICAgIH1cbiAgICBjcmVhdGVBZGFwdGVyKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWRkQ2xhc3NUb0VsZW1lbnRBdEluZGV4OiAoaW5kZXgsIGNsYXNzTmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RFbGVtZW50ID0gdGhpcy5saXN0RWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAoIWxpc3RFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGxpc3RFbGVtZW50Lml0ZW1zW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2xhc3NOYW1lID09PSAnbWRjLW1lbnUtaXRlbS0tc2VsZWN0ZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvcmNlR3JvdXBTZWxlY3Rpb24gJiYgIWVsZW1lbnQuc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RFbGVtZW50LnRvZ2dsZShpbmRleCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZW1vdmVDbGFzc0Zyb21FbGVtZW50QXRJbmRleDogKGluZGV4LCBjbGFzc05hbWUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaXN0RWxlbWVudCA9IHRoaXMubGlzdEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKCFsaXN0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBsaXN0RWxlbWVudC5pdGVtc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzTmFtZSA9PT0gJ21kYy1tZW51LWl0ZW0tLXNlbGVjdGVkJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEVsZW1lbnQudG9nZ2xlKGluZGV4LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZGRBdHRyaWJ1dGVUb0VsZW1lbnRBdEluZGV4OiAoaW5kZXgsIGF0dHIsIHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGlzdEVsZW1lbnQgPSB0aGlzLmxpc3RFbGVtZW50O1xuICAgICAgICAgICAgICAgIGlmICghbGlzdEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gbGlzdEVsZW1lbnQuaXRlbXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHIsIHZhbHVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZW1vdmVBdHRyaWJ1dGVGcm9tRWxlbWVudEF0SW5kZXg6IChpbmRleCwgYXR0cikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RFbGVtZW50ID0gdGhpcy5saXN0RWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAoIWxpc3RFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGxpc3RFbGVtZW50Lml0ZW1zW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShhdHRyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbGVtZW50Q29udGFpbnNDbGFzczogKGVsZW1lbnQsIGNsYXNzTmFtZSkgPT4gZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSxcbiAgICAgICAgICAgIGNsb3NlU3VyZmFjZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldEVsZW1lbnRJbmRleDogKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaXN0RWxlbWVudCA9IHRoaXMubGlzdEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsaXN0RWxlbWVudC5pdGVtcy5pbmRleE9mKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbm90aWZ5U2VsZWN0ZWQ6ICgpID0+IHsgfSxcbiAgICAgICAgICAgIGdldE1lbnVJdGVtQ291bnQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaXN0RWxlbWVudCA9IHRoaXMubGlzdEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKCFsaXN0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpc3RFbGVtZW50Lml0ZW1zLmxlbmd0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmb2N1c0l0ZW1BdEluZGV4OiAoaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaXN0RWxlbWVudCA9IHRoaXMubGlzdEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKCFsaXN0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBsaXN0RWxlbWVudC5pdGVtc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmb2N1c0xpc3RSb290OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubGlzdEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRTZWxlY3RlZFNpYmxpbmdPZkl0ZW1BdEluZGV4OiAoaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaXN0RWxlbWVudCA9IHRoaXMubGlzdEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKCFsaXN0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRBdEluZGV4ID0gbGlzdEVsZW1lbnQuaXRlbXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmICghZWxlbWVudEF0SW5kZXggfHwgIWVsZW1lbnRBdEluZGV4Lmdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0RWxlbWVudC5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBsaXN0RWxlbWVudC5pdGVtc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQuc2VsZWN0ZWQgJiYgY3VycmVudC5ncm91cCA9PT0gZWxlbWVudEF0SW5kZXguZ3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc1NlbGVjdGFibGVJdGVtQXRJbmRleDogKGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGlzdEVsZW1lbnQgPSB0aGlzLmxpc3RFbGVtZW50O1xuICAgICAgICAgICAgICAgIGlmICghbGlzdEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50QXRJbmRleCA9IGxpc3RFbGVtZW50Lml0ZW1zW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnRBdEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRBdEluZGV4Lmhhc0F0dHJpYnV0ZSgnZ3JvdXAnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIG9uS2V5ZG93bihldnQpIHtcbiAgICAgICAgaWYgKHRoaXMubWRjRm91bmRhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5tZGNGb3VuZGF0aW9uLmhhbmRsZUtleWRvd24oZXZ0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkFjdGlvbihldnQpIHtcbiAgICAgICAgY29uc3QgbGlzdEVsZW1lbnQgPSB0aGlzLmxpc3RFbGVtZW50O1xuICAgICAgICBpZiAodGhpcy5tZGNGb3VuZGF0aW9uICYmIGxpc3RFbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGV2dC5kZXRhaWwuaW5kZXg7XG4gICAgICAgICAgICBjb25zdCBlbCA9IGxpc3RFbGVtZW50Lml0ZW1zW2luZGV4XTtcbiAgICAgICAgICAgIGlmIChlbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubWRjRm91bmRhdGlvbi5oYW5kbGVJdGVtQWN0aW9uKGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBvbk9wZW5lZCgpIHtcbiAgICAgICAgdGhpcy5vcGVuID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMubWRjRm91bmRhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5tZGNGb3VuZGF0aW9uLmhhbmRsZU1lbnVTdXJmYWNlT3BlbmVkKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25DbG9zZWQoKSB7XG4gICAgICAgIHRoaXMub3BlbiA9IGZhbHNlO1xuICAgIH1cbiAgICBzZWxlY3QoaW5kZXgpIHtcbiAgICAgICAgY29uc3QgbGlzdEVsZW1lbnQgPSB0aGlzLmxpc3RFbGVtZW50O1xuICAgICAgICBpZiAobGlzdEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGxpc3RFbGVtZW50LnNlbGVjdChpbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMub3BlbiA9IGZhbHNlO1xuICAgIH1cbiAgICBzaG93KCkge1xuICAgICAgICB0aGlzLm9wZW4gPSB0cnVlO1xuICAgIH1cbiAgICBsYXlvdXQodXBkYXRlSXRlbXMgPSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IGxpc3RFbGVtZW50ID0gdGhpcy5saXN0RWxlbWVudDtcbiAgICAgICAgaWYgKGxpc3RFbGVtZW50KSB7XG4gICAgICAgICAgICBsaXN0RWxlbWVudC5sYXlvdXQodXBkYXRlSXRlbXMpO1xuICAgICAgICB9XG4gICAgfVxufVxuX19kZWNvcmF0ZShbXG4gICAgcXVlcnkoJy5tZGMtbWVudScpXG5dLCBNZW51QmFzZS5wcm90b3R5cGUsIFwibWRjUm9vdFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcXVlcnkoJ3Nsb3QnKVxuXSwgTWVudUJhc2UucHJvdG90eXBlLCBcInNsb3RFbGVtZW50XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IE9iamVjdCB9KVxuXSwgTWVudUJhc2UucHJvdG90eXBlLCBcImFuY2hvclwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCByZWZsZWN0OiB0cnVlIH0pXG5dLCBNZW51QmFzZS5wcm90b3R5cGUsIFwib3BlblwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pXG5dLCBNZW51QmFzZS5wcm90b3R5cGUsIFwicXVpY2tcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuXSwgTWVudUJhc2UucHJvdG90eXBlLCBcIndyYXBGb2N1c1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcgfSlcbl0sIE1lbnVCYXNlLnByb3RvdHlwZSwgXCJpbm5lclJvbGVcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nIH0pXG5dLCBNZW51QmFzZS5wcm90b3R5cGUsIFwiY29ybmVyXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IE51bWJlciB9KVxuXSwgTWVudUJhc2UucHJvdG90eXBlLCBcInhcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogTnVtYmVyIH0pXG5dLCBNZW51QmFzZS5wcm90b3R5cGUsIFwieVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pXG5dLCBNZW51QmFzZS5wcm90b3R5cGUsIFwiYWJzb2x1dGVcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuXSwgTWVudUJhc2UucHJvdG90eXBlLCBcIm11bHRpXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSlcbl0sIE1lbnVCYXNlLnByb3RvdHlwZSwgXCJhY3RpdmF0YWJsZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pXG5dLCBNZW51QmFzZS5wcm90b3R5cGUsIFwiZml4ZWRcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuXSwgTWVudUJhc2UucHJvdG90eXBlLCBcImZvcmNlR3JvdXBTZWxlY3Rpb25cIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuXSwgTWVudUJhc2UucHJvdG90eXBlLCBcImZ1bGx3aWR0aFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcgfSksXG4gICAgb2JzZXJ2ZXIoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLm1kY0ZvdW5kYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMubWRjRm91bmRhdGlvbi5zZXREZWZhdWx0Rm9jdXNTdGF0ZShEZWZhdWx0Rm9jdXNTdGF0ZUVudW1bdmFsdWVdKTtcbiAgICAgICAgfVxuICAgIH0pXG5dLCBNZW51QmFzZS5wcm90b3R5cGUsIFwiZGVmYXVsdEZvY3VzXCIsIHZvaWQgMCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1td2MtbWVudS1iYXNlLmpzLm1hcCIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAyMDE4IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG55b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG5Zb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblxuICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXG5Vbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG5kaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG5XSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cblNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbmxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKi9cbmltcG9ydCB7IGNzcyB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmV4cG9ydCBjb25zdCBzdHlsZSA9IGNzcyBgbXdjLWxpc3QgOjpzbG90dGVkKFttd2MtbGlzdC1pdGVtXTpub3QoW3R3b2xpbmVdKSl7aGVpZ2h0OnZhcigtLW1kYy1tZW51LWl0ZW0taGVpZ2h0LCA0OHB4KX1td2MtbGlzdHttYXgtd2lkdGg6dmFyKC0tbWRjLW1lbnUtbWF4LXdpZHRoLCBhdXRvKTttaW4td2lkdGg6dmFyKC0tbWRjLW1lbnUtbWluLXdpZHRoLCBhdXRvKX1gO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXdjLW1lbnUtY3NzLmpzLm1hcCIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAyMDIwIEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG55b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG5Zb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblxuICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXG5Vbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG5kaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG5XSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cblNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbmxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKi9cbmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQgfSBmcm9tICdsaXQtZWxlbWVudCc7XG5pbXBvcnQgeyBNZW51QmFzZSB9IGZyb20gJy4vbXdjLW1lbnUtYmFzZS5qcyc7XG5pbXBvcnQgeyBzdHlsZSB9IGZyb20gJy4vbXdjLW1lbnUtY3NzLmpzJztcbmV4cG9ydCB7IERlZmF1bHRGb2N1c1N0YXRlIH0gZnJvbSAnQG1hdGVyaWFsL21lbnUvY29uc3RhbnRzJztcbmV4cG9ydCB7IGNyZWF0ZVNldEZyb21JbmRleCwgaXNFdmVudE11bHRpLCBpc0luZGV4U2V0IH0gZnJvbSAnQG1hdGVyaWFsL213Yy1saXN0L213Yy1saXN0LWZvdW5kYXRpb24nO1xubGV0IE1lbnUgPSBjbGFzcyBNZW51IGV4dGVuZHMgTWVudUJhc2Uge1xufTtcbk1lbnUuc3R5bGVzID0gc3R5bGU7XG5NZW51ID0gX19kZWNvcmF0ZShbXG4gICAgY3VzdG9tRWxlbWVudCgnbXdjLW1lbnUnKVxuXSwgTWVudSk7XG5leHBvcnQgeyBNZW51IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1td2MtbWVudS5qcy5tYXAiLCIvKipcbiBAbGljZW5zZVxuIENvcHlyaWdodCAyMDIwIEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblxuIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXG4gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IG9ic2VydmVyIH0gZnJvbSAnQG1hdGVyaWFsL213Yy1iYXNlL29ic2VydmVyJztcbmltcG9ydCB7IHJpcHBsZU5vZGUgfSBmcm9tICdAbWF0ZXJpYWwvbXdjLXJpcHBsZS9yaXBwbGUtZGlyZWN0aXZlJztcbmltcG9ydCB7IGh0bWwsIExpdEVsZW1lbnQsIHByb3BlcnR5LCBxdWVyeSB9IGZyb20gJ2xpdC1lbGVtZW50Jztcbi8qKlxuICogQGZpcmVzIHJlcXVlc3Qtc2VsZWN0ZWQge1JlcXVlc3RTZWxlY3RlZERldGFpbH1cbiAqL1xuZXhwb3J0IGNsYXNzIExpc3RJdGVtQmFzZSBleHRlbmRzIExpdEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnZhbHVlID0gJyc7XG4gICAgICAgIHRoaXMuZ3JvdXAgPSBudWxsO1xuICAgICAgICB0aGlzLnRhYmluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy50d29saW5lID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZ3JhcGhpYyA9IG51bGw7XG4gICAgICAgIHRoaXMuaGFzTWV0YSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm5vbmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ib3VuZE9uQ2xpY2sgPSB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKTtcbiAgICB9XG4gICAgZ2V0IHRleHQoKSB7XG4gICAgICAgIGNvbnN0IHRleHRDb250ZW50ID0gdGhpcy50ZXh0Q29udGVudDtcbiAgICAgICAgcmV0dXJuIHRleHRDb250ZW50ID8gdGV4dENvbnRlbnQudHJpbSgpIDogJyc7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMucmVuZGVyVGV4dCgpO1xuICAgICAgICBjb25zdCBncmFwaGljID0gdGhpcy5ncmFwaGljID8gdGhpcy5yZW5kZXJHcmFwaGljKCkgOiBodG1sIGBgO1xuICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5oYXNNZXRhID8gdGhpcy5yZW5kZXJNZXRhKCkgOiBodG1sIGBgO1xuICAgICAgICByZXR1cm4gaHRtbCBgXG4gICAgICAke2dyYXBoaWN9XG4gICAgICAke3RleHR9XG4gICAgICAke21ldGF9YDtcbiAgICB9XG4gICAgcmVuZGVyR3JhcGhpYygpIHtcbiAgICAgICAgcmV0dXJuIGh0bWwgYFxuICAgICAgPHNwYW4gY2xhc3M9XCJtZGMtbGlzdC1pdGVtX19ncmFwaGljIG1hdGVyaWFsLWljb25zXCI+XG4gICAgICAgIDxzbG90IG5hbWU9XCJncmFwaGljXCI+PC9zbG90PlxuICAgICAgPC9zcGFuPmA7XG4gICAgfVxuICAgIHJlbmRlck1ldGEoKSB7XG4gICAgICAgIHJldHVybiBodG1sIGBcbiAgICAgIDxzcGFuIGNsYXNzPVwibWRjLWxpc3QtaXRlbV9fbWV0YSBtYXRlcmlhbC1pY29uc1wiPlxuICAgICAgICA8c2xvdCBuYW1lPVwibWV0YVwiPjwvc2xvdD5cbiAgICAgIDwvc3Bhbj5gO1xuICAgIH1cbiAgICByZW5kZXJUZXh0KCkge1xuICAgICAgICBjb25zdCBpbm5lciA9IHRoaXMudHdvbGluZSA/IHRoaXMucmVuZGVyVHdvbGluZSgpIDogdGhpcy5yZW5kZXJTaW5nbGVMaW5lKCk7XG4gICAgICAgIHJldHVybiBodG1sIGBcbiAgICAgIDxzcGFuIGNsYXNzPVwibWRjLWxpc3QtaXRlbV9fdGV4dFwiPlxuICAgICAgICAke2lubmVyfVxuICAgICAgPC9zcGFuPmA7XG4gICAgfVxuICAgIHJlbmRlclNpbmdsZUxpbmUoKSB7XG4gICAgICAgIHJldHVybiBodG1sIGA8c2xvdD48L3Nsb3Q+YDtcbiAgICB9XG4gICAgcmVuZGVyVHdvbGluZSgpIHtcbiAgICAgICAgcmV0dXJuIGh0bWwgYFxuICAgICAgPHNwYW4gY2xhc3M9XCJtZGMtbGlzdC1pdGVtX19wcmltYXJ5LXRleHRcIj5cbiAgICAgICAgPHNsb3Q+PC9zbG90PlxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3M9XCJtZGMtbGlzdC1pdGVtX19zZWNvbmRhcnktdGV4dFwiPlxuICAgICAgICA8c2xvdCBuYW1lPVwic2Vjb25kYXJ5XCI+PC9zbG90PlxuICAgICAgPC9zcGFuPlxuICAgIGA7XG4gICAgfVxuICAgIG9uQ2xpY2soKSB7XG4gICAgICAgIHRoaXMuZmlyZVJlcXVlc3REZXRhaWwoZmFsc2UsICF0aGlzLnNlbGVjdGVkKTtcbiAgICB9XG4gICAgZmlyZVJlcXVlc3REZXRhaWwoaXNDbGljaywgc2VsZWN0ZWQpIHtcbiAgICAgICAgY29uc3QgY3VzdG9tRXYgPSBuZXcgQ3VzdG9tRXZlbnQoJ3JlcXVlc3Qtc2VsZWN0ZWQnLCB7IGJ1YmJsZXM6IHRydWUsIGNvbXBvc2VkOiB0cnVlLCBkZXRhaWw6IHsgaXNDbGljaywgc2VsZWN0ZWQgfSB9KTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGN1c3RvbUV2KTtcbiAgICB9XG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgIGlmICghdGhpcy5ub25pbnRlcmFjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVBdHRyaWJ1dGUoJ213Yy1saXN0LWl0ZW0nLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5ib3VuZE9uQ2xpY2spO1xuICAgIH1cbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuYm91bmRPbkNsaWNrKTtcbiAgICB9XG4gICAgZmlyc3RVcGRhdGVkKCkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdsaXN0LWl0ZW0tcmVuZGVyZWQnLCB7IGJ1YmJsZXM6IHRydWUsIGNvbXBvc2VkOiB0cnVlIH0pKTtcbiAgICAgICAgcmlwcGxlTm9kZSh7IHN1cmZhY2VOb2RlOiB0aGlzLCB1bmJvdW5kZWQ6IGZhbHNlIH0pO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIHF1ZXJ5KCdzbG90Jylcbl0sIExpc3RJdGVtQmFzZS5wcm90b3R5cGUsIFwic2xvdEVsZW1lbnRcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nIH0pXG5dLCBMaXN0SXRlbUJhc2UucHJvdG90eXBlLCBcInZhbHVlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IFN0cmluZywgcmVmbGVjdDogdHJ1ZSB9KVxuXSwgTGlzdEl0ZW1CYXNlLnByb3RvdHlwZSwgXCJncm91cFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoeyB0eXBlOiBOdW1iZXIsIHJlZmxlY3Q6IHRydWUgfSlcbl0sIExpc3RJdGVtQmFzZS5wcm90b3R5cGUsIFwidGFiaW5kZXhcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgcmVmbGVjdDogdHJ1ZSB9KSxcbiAgICBvYnNlcnZlcihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsICdmYWxzZScpO1xuICAgICAgICB9XG4gICAgfSlcbl0sIExpc3RJdGVtQmFzZS5wcm90b3R5cGUsIFwiZGlzYWJsZWRcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgcmVmbGVjdDogdHJ1ZSB9KVxuXSwgTGlzdEl0ZW1CYXNlLnByb3RvdHlwZSwgXCJ0d29saW5lXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIHJlZmxlY3Q6IHRydWUgfSlcbl0sIExpc3RJdGVtQmFzZS5wcm90b3R5cGUsIFwiYWN0aXZhdGVkXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IFN0cmluZywgcmVmbGVjdDogdHJ1ZSB9KVxuXSwgTGlzdEl0ZW1CYXNlLnByb3RvdHlwZSwgXCJncmFwaGljXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSlcbl0sIExpc3RJdGVtQmFzZS5wcm90b3R5cGUsIFwiaGFzTWV0YVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCByZWZsZWN0OiB0cnVlIH0pLFxuICAgIG9ic2VydmVyKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWNoZWNrZWQnKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKCdtd2MtbGlzdC1pdGVtJyk7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmFjdGl2YXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy50YWJJbmRleCA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVBdHRyaWJ1dGUoJ213Yy1saXN0LWl0ZW0nLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH0pXG5dLCBMaXN0SXRlbUJhc2UucHJvdG90eXBlLCBcIm5vbmludGVyYWN0aXZlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIHJlZmxlY3Q6IHRydWUgfSksXG4gICAgb2JzZXJ2ZXIoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCAndHJ1ZScpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCAnZmFsc2UnKTtcbiAgICAgICAgfVxuICAgIH0pXG5dLCBMaXN0SXRlbUJhc2UucHJvdG90eXBlLCBcInNlbGVjdGVkXCIsIHZvaWQgMCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1td2MtbGlzdC1pdGVtLWJhc2UuanMubWFwIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IDIwMTggR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbnlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbllvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuXG4gICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cblVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbmRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbldJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxubGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qL1xuaW1wb3J0IHsgY3NzIH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuZXhwb3J0IGNvbnN0IHN0eWxlID0gY3NzIGA6aG9zdHtjdXJzb3I6cG9pbnRlcjt1c2VyLXNlbGVjdDpub25lO2hlaWdodDo0OHB4O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjpyZWxhdGl2ZTthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmZsZXgtc3RhcnQ7cGFkZGluZzowIDE2cHg7b3ZlcmZsb3c6aGlkZGVuO3BhZGRpbmctbGVmdDp2YXIoLS1tZGMtbGlzdC1zaWRlLXBhZGRpbmcsIDE2cHgpO3BhZGRpbmctcmlnaHQ6dmFyKC0tbWRjLWxpc3Qtc2lkZS1wYWRkaW5nLCAxNnB4KTtvdXRsaW5lOm5vbmU7aGVpZ2h0OjQ4cHg7Y29sb3I6cmdiYSgwLDAsMCwuODcpO2NvbG9yOnZhcigtLW1kYy10aGVtZS10ZXh0LXByaW1hcnktb24tYmFja2dyb3VuZCwgcmdiYSgwLCAwLCAwLCAwLjg3KSl9Omhvc3Q6Zm9jdXN7b3V0bGluZTpub25lfTpob3N0KFthY3RpdmF0ZWRdKXtjb2xvcjojNjIwMGVlO2NvbG9yOnZhcigtLW1kYy10aGVtZS1wcmltYXJ5LCAjNjIwMGVlKX06aG9zdChbYWN0aXZhdGVkXSkgLm1kYy1saXN0LWl0ZW1fX2dyYXBoaWN7Y29sb3I6IzYyMDBlZTtjb2xvcjp2YXIoLS1tZGMtdGhlbWUtcHJpbWFyeSwgIzYyMDBlZSl9Lm1kYy1saXN0LWl0ZW1fX2dyYXBoaWN7ZmxleC1zaHJpbms6MDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtmaWxsOmN1cnJlbnRDb2xvcjtkaXNwbGF5OmlubGluZS1mbGV4fS5tZGMtbGlzdC1pdGVtX19ncmFwaGljIDo6c2xvdHRlZCgqKXtmbGV4LXNocmluazowO2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2ZpbGw6Y3VycmVudENvbG9yO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7dGV4dC1hbGlnbjpjZW50ZXJ9Lm1kYy1saXN0LWl0ZW1fX21ldGF7d2lkdGg6dmFyKC0tbWRjLWxpc3QtaXRlbS1tZXRhLXNpemUsIDI0cHgpO2hlaWdodDp2YXIoLS1tZGMtbGlzdC1pdGVtLW1ldGEtc2l6ZSwgMjRweCk7bWFyZ2luLWxlZnQ6YXV0bzttYXJnaW4tcmlnaHQ6MDtjb2xvcjpyZ2JhKDAsMCwwLC4zOCk7Y29sb3I6dmFyKC0tbWRjLXRoZW1lLXRleHQtaGludC1vbi1iYWNrZ3JvdW5kLCByZ2JhKDAsIDAsIDAsIDAuMzgpKX0ubWRjLWxpc3QtaXRlbV9fbWV0YSA6OnNsb3R0ZWQoKil7bGluZS1oZWlnaHQ6dmFyKC0tbWRjLWxpc3QtaXRlbS1tZXRhLXNpemUsIDI0cHgpfS5tZGMtbGlzdC1pdGVtX19tZXRhIDo6c2xvdHRlZCgubWF0ZXJpYWwtaWNvbnMpLC5tZGMtbGlzdC1pdGVtX19tZXRhIDo6c2xvdHRlZChtd2MtaWNvbil7bGluZS1oZWlnaHQ6dmFyKC0tbWRjLWxpc3QtaXRlbS1tZXRhLXNpemUsIDI0cHgpICFpbXBvcnRhbnR9Lm1kYy1saXN0LWl0ZW1fX21ldGEgOjpzbG90dGVkKDpub3QoLm1hdGVyaWFsLWljb25zKTpub3QobXdjLWljb24pKXtmb250LWZhbWlseTpSb2JvdG8sIHNhbnMtc2VyaWY7LW1vei1vc3gtZm9udC1zbW9vdGhpbmc6Z3JheXNjYWxlOy13ZWJraXQtZm9udC1zbW9vdGhpbmc6YW50aWFsaWFzZWQ7Zm9udC1zaXplOi43NXJlbTtsaW5lLWhlaWdodDoxLjI1cmVtO2ZvbnQtd2VpZ2h0OjQwMDtsZXR0ZXItc3BhY2luZzouMDMzMzMzMzMzM2VtO3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3RleHQtdHJhbnNmb3JtOmluaGVyaXR9Omhvc3RbZGlyPXJ0bF0gLm1kYy1saXN0LWl0ZW1fX21ldGEsW2Rpcj1ydGxdIDpob3N0IC5tZGMtbGlzdC1pdGVtX19tZXRhe21hcmdpbi1sZWZ0OjA7bWFyZ2luLXJpZ2h0OmF1dG99Lm1kYy1saXN0LWl0ZW1fX21ldGEgOjpzbG90dGVkKCope3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9Lm1kYy1saXN0LWl0ZW1fX3RleHR7dGV4dC1vdmVyZmxvdzplbGxpcHNpczt3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVufS5tZGMtbGlzdC1pdGVtX190ZXh0IDo6c2xvdHRlZChbZm9yXSksLm1kYy1saXN0LWl0ZW1fX3RleHRbZm9yXXtwb2ludGVyLWV2ZW50czpub25lfS5tZGMtbGlzdC1pdGVtX19wcmltYXJ5LXRleHR7dGV4dC1vdmVyZmxvdzplbGxpcHNpczt3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVuO2Rpc3BsYXk6YmxvY2s7bWFyZ2luLXRvcDowO2xpbmUtaGVpZ2h0Om5vcm1hbDttYXJnaW4tYm90dG9tOi0yMHB4O2Rpc3BsYXk6YmxvY2t9Lm1kYy1saXN0LWl0ZW1fX3ByaW1hcnktdGV4dDo6YmVmb3Jle2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjA7aGVpZ2h0OjMycHg7Y29udGVudDpcIlwiO3ZlcnRpY2FsLWFsaWduOjB9Lm1kYy1saXN0LWl0ZW1fX3ByaW1hcnktdGV4dDo6YWZ0ZXJ7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MDtoZWlnaHQ6MjBweDtjb250ZW50OlwiXCI7dmVydGljYWwtYWxpZ246LTIwcHh9Lm1kYy1saXN0LWl0ZW1fX3NlY29uZGFyeS10ZXh0e2ZvbnQtZmFtaWx5OlJvYm90bywgc2Fucy1zZXJpZjstbW96LW9zeC1mb250LXNtb290aGluZzpncmF5c2NhbGU7LXdlYmtpdC1mb250LXNtb290aGluZzphbnRpYWxpYXNlZDtmb250LXNpemU6Ljg3NXJlbTtsaW5lLWhlaWdodDoxLjI1cmVtO2ZvbnQtd2VpZ2h0OjQwMDtsZXR0ZXItc3BhY2luZzouMDE3ODU3MTQyOWVtO3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3RleHQtdHJhbnNmb3JtOmluaGVyaXQ7dGV4dC1vdmVyZmxvdzplbGxpcHNpczt3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVuO2Rpc3BsYXk6YmxvY2s7bWFyZ2luLXRvcDowO2xpbmUtaGVpZ2h0Om5vcm1hbDtkaXNwbGF5OmJsb2NrfS5tZGMtbGlzdC1pdGVtX19zZWNvbmRhcnktdGV4dDo6YmVmb3Jle2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjA7aGVpZ2h0OjIwcHg7Y29udGVudDpcIlwiO3ZlcnRpY2FsLWFsaWduOjB9Lm1kYy1saXN0LS1kZW5zZSAubWRjLWxpc3QtaXRlbV9fc2Vjb25kYXJ5LXRleHR7ZGlzcGxheTpibG9jazttYXJnaW4tdG9wOjA7bGluZS1oZWlnaHQ6bm9ybWFsO2ZvbnQtc2l6ZTppbmhlcml0fS5tZGMtbGlzdC0tZGVuc2UgLm1kYy1saXN0LWl0ZW1fX3NlY29uZGFyeS10ZXh0OjpiZWZvcmV7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MDtoZWlnaHQ6MjBweDtjb250ZW50OlwiXCI7dmVydGljYWwtYWxpZ246MH0qIDo6c2xvdHRlZChhKSxhe2NvbG9yOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOm5vbmV9Omhvc3QoW3R3b2xpbmVdKXtoZWlnaHQ6NzJweH06aG9zdChbdHdvbGluZV0pIC5tZGMtbGlzdC1pdGVtX190ZXh0e2FsaWduLXNlbGY6ZmxleC1zdGFydH06aG9zdCg6bm90KFtkaXNhYmxlZF0pKXstLW1kYy1yaXBwbGUtZmctc2l6ZTogMDstLW1kYy1yaXBwbGUtbGVmdDogMDstLW1kYy1yaXBwbGUtdG9wOiAwOy0tbWRjLXJpcHBsZS1mZy1zY2FsZTogMTstLW1kYy1yaXBwbGUtZmctdHJhbnNsYXRlLWVuZDogMDstLW1kYy1yaXBwbGUtZmctdHJhbnNsYXRlLXN0YXJ0OiAwOy13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjpyZ2JhKDAsMCwwLDApfTpob3N0KDpub3QoW2Rpc2FibGVkXSkpOjpiZWZvcmUsOmhvc3QoOm5vdChbZGlzYWJsZWRdKSk6OmFmdGVye3Bvc2l0aW9uOmFic29sdXRlO2JvcmRlci1yYWRpdXM6NTAlO29wYWNpdHk6MDtwb2ludGVyLWV2ZW50czpub25lO2NvbnRlbnQ6XCJcIjt0b3A6Y2FsYyg1MCUgLSAxMDAlKTtsZWZ0OmNhbGMoNTAlIC0gMTAwJSk7d2lkdGg6MjAwJTtoZWlnaHQ6MjAwJX06aG9zdCg6bm90KFtkaXNhYmxlZF0pKTo6YmVmb3Jle3RyYW5zaXRpb246b3BhY2l0eSAxNW1zIGxpbmVhcixiYWNrZ3JvdW5kLWNvbG9yIDE1bXMgbGluZWFyO3otaW5kZXg6MX06aG9zdCg6bm90KFtkaXNhYmxlZF0pKTo6YmVmb3JlLDpob3N0KDpub3QoW2Rpc2FibGVkXSkpOjphZnRlcntiYWNrZ3JvdW5kLWNvbG9yOiMwMDB9Omhvc3QoLm1kYy1yaXBwbGUtdXBncmFkZWQ6bm90KFtkaXNhYmxlZF0pKTo6YmVmb3Jle3RyYW5zZm9ybTpzY2FsZSh2YXIoLS1tZGMtcmlwcGxlLWZnLXNjYWxlLCAxKSl9Omhvc3QoLm1kYy1yaXBwbGUtdXBncmFkZWQ6bm90KFtkaXNhYmxlZF0pKTo6YWZ0ZXJ7dG9wOjA7bGVmdDowO3RyYW5zZm9ybTpzY2FsZSgwKTt0cmFuc2Zvcm0tb3JpZ2luOmNlbnRlciBjZW50ZXI7d2lkdGg6dmFyKC0tbWRjLXJpcHBsZS1mZy1zaXplLCAxMDAlKTtoZWlnaHQ6dmFyKC0tbWRjLXJpcHBsZS1mZy1zaXplLCAxMDAlKX06aG9zdCgubWRjLXJpcHBsZS11cGdyYWRlZC0tdW5ib3VuZGVkOm5vdChbZGlzYWJsZWRdKSk6OmFmdGVye3RvcDp2YXIoLS1tZGMtcmlwcGxlLXRvcCwgMCk7bGVmdDp2YXIoLS1tZGMtcmlwcGxlLWxlZnQsIDApfTpob3N0KC5tZGMtcmlwcGxlLXVwZ3JhZGVkLS1mb3JlZ3JvdW5kLWFjdGl2YXRpb246bm90KFtkaXNhYmxlZF0pKTo6YWZ0ZXJ7YW5pbWF0aW9uOm1kYy1yaXBwbGUtZmctcmFkaXVzLWluIDIyNW1zIGZvcndhcmRzLG1kYy1yaXBwbGUtZmctb3BhY2l0eS1pbiA3NW1zIGZvcndhcmRzfTpob3N0KC5tZGMtcmlwcGxlLXVwZ3JhZGVkLS1mb3JlZ3JvdW5kLWRlYWN0aXZhdGlvbjpub3QoW2Rpc2FibGVkXSkpOjphZnRlcnthbmltYXRpb246bWRjLXJpcHBsZS1mZy1vcGFjaXR5LW91dCAxNTBtczt0cmFuc2Zvcm06dHJhbnNsYXRlKHZhcigtLW1kYy1yaXBwbGUtZmctdHJhbnNsYXRlLWVuZCwgMCkpIHNjYWxlKHZhcigtLW1kYy1yaXBwbGUtZmctc2NhbGUsIDEpKX06aG9zdChbZGlzYWJsZWRdLFtub25pbnRlcmFjdGl2ZV0pe2N1cnNvcjpkZWZhdWx0O3BvaW50ZXItZXZlbnRzOm5vbmV9Omhvc3QoW2Rpc2FibGVkXSkgLm1kYy1saXN0LWl0ZW1fX3RleHQgOjpzbG90dGVkKCope29wYWNpdHk6LjM4fTpob3N0KFtkaXNhYmxlZF0pIC5tZGMtbGlzdC1pdGVtX190ZXh0IDo6c2xvdHRlZCgqKSw6aG9zdChbZGlzYWJsZWRdKSAubWRjLWxpc3QtaXRlbV9fcHJpbWFyeS10ZXh0IDo6c2xvdHRlZCgqKSw6aG9zdChbZGlzYWJsZWRdKSAubWRjLWxpc3QtaXRlbV9fc2Vjb25kYXJ5LXRleHQgOjpzbG90dGVkKCope2NvbG9yOiMwMDA7Y29sb3I6dmFyKC0tbWRjLXRoZW1lLW9uLXN1cmZhY2UsICMwMDApfTpob3N0KDpub3QoW2Rpc2FibGVkXSk6aG92ZXIpOjpiZWZvcmV7b3BhY2l0eTouMDR9Omhvc3QoOm5vdChbZGlzYWJsZWRdKS5tZGMtcmlwcGxlLXVwZ3JhZGVkLS1iYWNrZ3JvdW5kLWZvY3VzZWQpOjpiZWZvcmUsOmhvc3QoOm5vdChbZGlzYWJsZWRdKTpub3QoLm1kYy1yaXBwbGUtdXBncmFkZWQpOmZvY3VzKTo6YmVmb3Jle3RyYW5zaXRpb24tZHVyYXRpb246NzVtcztvcGFjaXR5Oi4xMn06aG9zdCg6bm90KFtkaXNhYmxlZF0pOm5vdCgubWRjLXJpcHBsZS11cGdyYWRlZCkpOjphZnRlcnt0cmFuc2l0aW9uOm9wYWNpdHkgMTUwbXMgbGluZWFyfTpob3N0KDpub3QoW2Rpc2FibGVkXSk6bm90KC5tZGMtcmlwcGxlLXVwZ3JhZGVkKTphY3RpdmUpOjphZnRlcnt0cmFuc2l0aW9uLWR1cmF0aW9uOjc1bXM7b3BhY2l0eTouMTJ9Omhvc3QoOm5vdChbZGlzYWJsZWRdKS5tZGMtcmlwcGxlLXVwZ3JhZGVkKXstLW1kYy1yaXBwbGUtZmctb3BhY2l0eTogMC4xMn06aG9zdChbYWN0aXZhdGVkXTpub3QoW2Rpc2FibGVkXSkubWRjLXJpcHBsZS11cGdyYWRlZC0tYmFja2dyb3VuZC1mb2N1c2VkKTo6YmVmb3JlLDpob3N0KFthY3RpdmF0ZWRdOm5vdChbZGlzYWJsZWRdKTpub3QoLm1kYy1yaXBwbGUtdXBncmFkZWQpOmZvY3VzKTo6YmVmb3Jle3RyYW5zaXRpb24tZHVyYXRpb246NzVtcztvcGFjaXR5Oi4yfTpob3N0KFthY3RpdmF0ZWRdOm5vdChbZGlzYWJsZWRdKTpub3QoLm1kYy1yaXBwbGUtdXBncmFkZWQpOmFjdGl2ZSk6OmFmdGVye29wYWNpdHk6LjJ9Omhvc3QoW2FjdGl2YXRlZF06bm90KFtkaXNhYmxlZF0pLm1kYy1yaXBwbGUtdXBncmFkZWQpey0tbWRjLXJpcHBsZS1mZy1vcGFjaXR5OiAwLjJ9Omhvc3QoW2FjdGl2YXRlZF06bm90KFtkaXNhYmxlZF0pKTo6YmVmb3Jle29wYWNpdHk6LjEyfTpob3N0KFthY3RpdmF0ZWRdOm5vdChbZGlzYWJsZWRdKSk6OmJlZm9yZSw6aG9zdChbYWN0aXZhdGVkXTpub3QoW2Rpc2FibGVkXSkpOjphZnRlcntiYWNrZ3JvdW5kLWNvbG9yOiM2MjAwZWU7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1tZGMtdGhlbWUtcHJpbWFyeSwgIzYyMDBlZSl9Omhvc3QoW2FjdGl2YXRlZF06bm90KFtkaXNhYmxlZF0pOmhvdmVyKTo6YmVmb3Jle29wYWNpdHk6LjE2fTpob3N0KFthY3RpdmF0ZWRdOm5vdChbZGlzYWJsZWRdKS5tZGMtcmlwcGxlLXVwZ3JhZGVkLS1iYWNrZ3JvdW5kLWZvY3VzZWQpOjpiZWZvcmUsOmhvc3QoW2FjdGl2YXRlZF06bm90KFtkaXNhYmxlZF0pOm5vdCgubWRjLXJpcHBsZS11cGdyYWRlZCk6Zm9jdXMpOjpiZWZvcmV7dHJhbnNpdGlvbi1kdXJhdGlvbjo3NW1zO29wYWNpdHk6LjI0fTpob3N0KFthY3RpdmF0ZWRdOm5vdChbZGlzYWJsZWRdKTpub3QoLm1kYy1yaXBwbGUtdXBncmFkZWQpOmFjdGl2ZSk6OmFmdGVye29wYWNpdHk6LjI0fTpob3N0KFthY3RpdmF0ZWRdOm5vdChbZGlzYWJsZWRdKS5tZGMtcmlwcGxlLXVwZ3JhZGVkKXstLW1kYy1yaXBwbGUtZmctb3BhY2l0eTogMC4yNH0ubWRjLWxpc3QtaXRlbV9fc2Vjb25kYXJ5LXRleHQgOjpzbG90dGVkKCope2NvbG9yOnJnYmEoMCwwLDAsLjU0KTtjb2xvcjp2YXIoLS1tZGMtdGhlbWUtdGV4dC1zZWNvbmRhcnktb24tYmFja2dyb3VuZCwgcmdiYSgwLCAwLCAwLCAwLjU0KSl9Lm1kYy1saXN0LWl0ZW1fX2dyYXBoaWMgOjpzbG90dGVkKCope2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Y29sb3I6cmdiYSgwLDAsMCwuMzgpO2NvbG9yOnZhcigtLW1kYy10aGVtZS10ZXh0LWljb24tb24tYmFja2dyb3VuZCwgcmdiYSgwLCAwLCAwLCAwLjM4KSl9Lm1kYy1saXN0LWdyb3VwX19zdWJoZWFkZXIgOjpzbG90dGVkKCope2NvbG9yOnJnYmEoMCwwLDAsLjg3KTtjb2xvcjp2YXIoLS1tZGMtdGhlbWUtdGV4dC1wcmltYXJ5LW9uLWJhY2tncm91bmQsIHJnYmEoMCwgMCwgMCwgMC44NykpfTpob3N0KFtncmFwaGljPWF2YXRhcl0pIC5tZGMtbGlzdC1pdGVtX19ncmFwaGlje3dpZHRoOnZhcigtLW1kYy1saXN0LWl0ZW0tZ3JhcGhpYy1zaXplLCA0MHB4KTtoZWlnaHQ6dmFyKC0tbWRjLWxpc3QtaXRlbS1ncmFwaGljLXNpemUsIDQwcHgpfTpob3N0KFtncmFwaGljPWF2YXRhcl0pIC5tZGMtbGlzdC1pdGVtX19ncmFwaGljIDo6c2xvdHRlZCgqKXtsaW5lLWhlaWdodDp2YXIoLS1tZGMtbGlzdC1pdGVtLWdyYXBoaWMtc2l6ZSwgNDBweCl9Omhvc3QoW2dyYXBoaWM9YXZhdGFyXSkgLm1kYy1saXN0LWl0ZW1fX2dyYXBoaWMgOjpzbG90dGVkKC5tYXRlcmlhbC1pY29ucyksOmhvc3QoW2dyYXBoaWM9YXZhdGFyXSkgLm1kYy1saXN0LWl0ZW1fX2dyYXBoaWMgOjpzbG90dGVkKG13Yy1pY29uKXtsaW5lLWhlaWdodDp2YXIoLS1tZGMtbGlzdC1pdGVtLWdyYXBoaWMtc2l6ZSwgNDBweCkgIWltcG9ydGFudH06aG9zdChbZ3JhcGhpYz1hdmF0YXJdKSAubWRjLWxpc3QtaXRlbV9fZ3JhcGhpYyA6OnNsb3R0ZWQoKil7Ym9yZGVyLXJhZGl1czo1MCV9Omhvc3QoW2dyYXBoaWM9YXZhdGFyXSxbZ3JhcGhpYz1tZWRpdW1dLFtncmFwaGljPWxhcmdlXSxbZ3JhcGhpYz1jb250cm9sXSkgLm1kYy1saXN0LWl0ZW1fX2dyYXBoaWN7bWFyZ2luLWxlZnQ6MDttYXJnaW4tcmlnaHQ6dmFyKC0tbWRjLWxpc3QtaXRlbS1ncmFwaGljLW1hcmdpbiwgMTZweCl9Omhvc3RbZGlyPXJ0bF0gOmhvc3QoW2dyYXBoaWM9YXZhdGFyXSxbZ3JhcGhpYz1tZWRpdW1dLFtncmFwaGljPWxhcmdlXSxbZ3JhcGhpYz1jb250cm9sXSkgLm1kYy1saXN0LWl0ZW1fX2dyYXBoaWMsW2Rpcj1ydGxdIDpob3N0IDpob3N0KFtncmFwaGljPWF2YXRhcl0sW2dyYXBoaWM9bWVkaXVtXSxbZ3JhcGhpYz1sYXJnZV0sW2dyYXBoaWM9Y29udHJvbF0pIC5tZGMtbGlzdC1pdGVtX19ncmFwaGlje21hcmdpbi1sZWZ0OnZhcigtLW1kYy1saXN0LWl0ZW0tZ3JhcGhpYy1tYXJnaW4sIDE2cHgpO21hcmdpbi1yaWdodDowfTpob3N0KFtncmFwaGljPWljb25dKSAubWRjLWxpc3QtaXRlbV9fZ3JhcGhpY3t3aWR0aDp2YXIoLS1tZGMtbGlzdC1pdGVtLWdyYXBoaWMtc2l6ZSwgMjRweCk7aGVpZ2h0OnZhcigtLW1kYy1saXN0LWl0ZW0tZ3JhcGhpYy1zaXplLCAyNHB4KTttYXJnaW4tbGVmdDowO21hcmdpbi1yaWdodDp2YXIoLS1tZGMtbGlzdC1pdGVtLWdyYXBoaWMtbWFyZ2luLCAzMnB4KX06aG9zdChbZ3JhcGhpYz1pY29uXSkgLm1kYy1saXN0LWl0ZW1fX2dyYXBoaWMgOjpzbG90dGVkKCope2xpbmUtaGVpZ2h0OnZhcigtLW1kYy1saXN0LWl0ZW0tZ3JhcGhpYy1zaXplLCAyNHB4KX06aG9zdChbZ3JhcGhpYz1pY29uXSkgLm1kYy1saXN0LWl0ZW1fX2dyYXBoaWMgOjpzbG90dGVkKC5tYXRlcmlhbC1pY29ucyksOmhvc3QoW2dyYXBoaWM9aWNvbl0pIC5tZGMtbGlzdC1pdGVtX19ncmFwaGljIDo6c2xvdHRlZChtd2MtaWNvbil7bGluZS1oZWlnaHQ6dmFyKC0tbWRjLWxpc3QtaXRlbS1ncmFwaGljLXNpemUsIDI0cHgpICFpbXBvcnRhbnR9Omhvc3RbZGlyPXJ0bF0gOmhvc3QoW2dyYXBoaWM9aWNvbl0pIC5tZGMtbGlzdC1pdGVtX19ncmFwaGljLFtkaXI9cnRsXSA6aG9zdCA6aG9zdChbZ3JhcGhpYz1pY29uXSkgLm1kYy1saXN0LWl0ZW1fX2dyYXBoaWN7bWFyZ2luLWxlZnQ6dmFyKC0tbWRjLWxpc3QtaXRlbS1ncmFwaGljLW1hcmdpbiwgMzJweCk7bWFyZ2luLXJpZ2h0OjB9Omhvc3QoW2dyYXBoaWM9YXZhdGFyXTpub3QoW3R3b0xpbmVdKSksOmhvc3QoW2dyYXBoaWM9aWNvbl06bm90KFt0d29MaW5lXSkpe2hlaWdodDo1NnB4fTpob3N0KFtncmFwaGljPW1lZGl1bV06bm90KFt0d29MaW5lXSkpLDpob3N0KFtncmFwaGljPWxhcmdlXTpub3QoW3R3b0xpbmVdKSl7aGVpZ2h0OjcycHh9Omhvc3QoW2dyYXBoaWM9bWVkaXVtXSkgLm1kYy1saXN0LWl0ZW1fX2dyYXBoaWMsOmhvc3QoW2dyYXBoaWM9bGFyZ2VdKSAubWRjLWxpc3QtaXRlbV9fZ3JhcGhpY3t3aWR0aDp2YXIoLS1tZGMtbGlzdC1pdGVtLWdyYXBoaWMtc2l6ZSwgNTZweCk7aGVpZ2h0OnZhcigtLW1kYy1saXN0LWl0ZW0tZ3JhcGhpYy1zaXplLCA1NnB4KX06aG9zdChbZ3JhcGhpYz1tZWRpdW1dKSAubWRjLWxpc3QtaXRlbV9fZ3JhcGhpYyA6OnNsb3R0ZWQoKiksOmhvc3QoW2dyYXBoaWM9bGFyZ2VdKSAubWRjLWxpc3QtaXRlbV9fZ3JhcGhpYyA6OnNsb3R0ZWQoKil7bGluZS1oZWlnaHQ6dmFyKC0tbWRjLWxpc3QtaXRlbS1ncmFwaGljLXNpemUsIDU2cHgpfTpob3N0KFtncmFwaGljPW1lZGl1bV0pIC5tZGMtbGlzdC1pdGVtX19ncmFwaGljIDo6c2xvdHRlZCgubWF0ZXJpYWwtaWNvbnMpLDpob3N0KFtncmFwaGljPW1lZGl1bV0pIC5tZGMtbGlzdC1pdGVtX19ncmFwaGljIDo6c2xvdHRlZChtd2MtaWNvbiksOmhvc3QoW2dyYXBoaWM9bGFyZ2VdKSAubWRjLWxpc3QtaXRlbV9fZ3JhcGhpYyA6OnNsb3R0ZWQoLm1hdGVyaWFsLWljb25zKSw6aG9zdChbZ3JhcGhpYz1sYXJnZV0pIC5tZGMtbGlzdC1pdGVtX19ncmFwaGljIDo6c2xvdHRlZChtd2MtaWNvbil7bGluZS1oZWlnaHQ6dmFyKC0tbWRjLWxpc3QtaXRlbS1ncmFwaGljLXNpemUsIDU2cHgpICFpbXBvcnRhbnR9Omhvc3QoW2dyYXBoaWM9bGFyZ2VdKXtwYWRkaW5nLWxlZnQ6MHB4fWA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1td2MtbGlzdC1pdGVtLWNzcy5qcy5tYXAiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgMjAyMCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xueW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG5TZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG5saW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiovXG5pbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50IH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuaW1wb3J0IHsgTGlzdEl0ZW1CYXNlIH0gZnJvbSAnLi9td2MtbGlzdC1pdGVtLWJhc2UuanMnO1xuaW1wb3J0IHsgc3R5bGUgfSBmcm9tICcuL213Yy1saXN0LWl0ZW0tY3NzLmpzJztcbmxldCBMaXN0SXRlbSA9IGNsYXNzIExpc3RJdGVtIGV4dGVuZHMgTGlzdEl0ZW1CYXNlIHtcbn07XG5MaXN0SXRlbS5zdHlsZXMgPSBzdHlsZTtcbkxpc3RJdGVtID0gX19kZWNvcmF0ZShbXG4gICAgY3VzdG9tRWxlbWVudCgnbXdjLWxpc3QtaXRlbScpXG5dLCBMaXN0SXRlbSk7XG5leHBvcnQgeyBMaXN0SXRlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXdjLWxpc3QtaXRlbS5qcy5tYXAiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xueW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG5TZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG5saW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiovXG5pbXBvcnQgeyBjc3MgfSBmcm9tICdsaXQtZWxlbWVudCc7XG5leHBvcnQgY29uc3Qgc3R5bGUgPSBjc3MgYDpob3N0e2ZvbnQtZmFtaWx5OnZhcigtLW1kYy1pY29uLWZvbnQsIFwiTWF0ZXJpYWwgSWNvbnNcIik7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtc2l6ZTp2YXIoLS1tZGMtaWNvbi1zaXplLCAyNHB4KTtsaW5lLWhlaWdodDoxO2xldHRlci1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3doaXRlLXNwYWNlOm5vd3JhcDt3b3JkLXdyYXA6bm9ybWFsO2RpcmVjdGlvbjpsdHI7LXdlYmtpdC1mb250LXNtb290aGluZzphbnRpYWxpYXNlZDt0ZXh0LXJlbmRlcmluZzpvcHRpbWl6ZUxlZ2liaWxpdHk7LW1vei1vc3gtZm9udC1zbW9vdGhpbmc6Z3JheXNjYWxlO2ZvbnQtZmVhdHVyZS1zZXR0aW5nczpcImxpZ2FcIn1gO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXdjLWljb24taG9zdC1jc3MuanMubWFwIiwiaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gXCJ0c2xpYlwiO1xuLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IDIwMTggR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbnlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbllvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuXG4gICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cblVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbmRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbldJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxubGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qL1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgaHRtbCwgTGl0RWxlbWVudCB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmltcG9ydCB7IHN0eWxlIH0gZnJvbSAnLi9td2MtaWNvbi1ob3N0LWNzcy5qcyc7XG5sZXQgSWNvbiA9IGNsYXNzIEljb24gZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBodG1sIGA8c2xvdD48L3Nsb3Q+YDtcbiAgICB9XG59O1xuSWNvbi5zdHlsZXMgPSBzdHlsZTtcbkljb24gPSBfX2RlY29yYXRlKFtcbiAgICBjdXN0b21FbGVtZW50KCdtd2MtaWNvbicpXG5dLCBJY29uKTtcbmV4cG9ydCB7IEljb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW13Yy1pY29uLmpzLm1hcCIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGNvbnN0IG5hdGl2ZVNoYWRvdyA9ICEod2luZG93WydTaGFkeURPTSddICYmIHdpbmRvd1snU2hhZHlET00nXVsnaW5Vc2UnXSk7XG5sZXQgbmF0aXZlQ3NzVmFyaWFibGVzXztcblxuLyoqXG4gKiBAcGFyYW0geyhTaGFkeUNTU09wdGlvbnMgfCBTaGFkeUNTU0ludGVyZmFjZSk9fSBzZXR0aW5nc1xuICovXG5mdW5jdGlvbiBjYWxjQ3NzVmFyaWFibGVzKHNldHRpbmdzKSB7XG4gIGlmIChzZXR0aW5ncyAmJiBzZXR0aW5nc1snc2hpbWNzc3Byb3BlcnRpZXMnXSkge1xuICAgIG5hdGl2ZUNzc1ZhcmlhYmxlc18gPSBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICAvLyBjaHJvbWUgNDkgaGFzIHNlbWktd29ya2luZyBjc3MgdmFycywgY2hlY2sgaWYgYm94LXNoYWRvdyB3b3Jrc1xuICAgIC8vIHNhZmFyaSA5LjEgaGFzIGEgcmVjYWxjIGJ1ZzogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE1NTc4MlxuICAgIC8vIEhvd2V2ZXIsIHNoaW0gY3NzIGN1c3RvbSBwcm9wZXJ0aWVzIGFyZSBvbmx5IHN1cHBvcnRlZCB3aXRoIFNoYWR5RE9NIGVuYWJsZWQsXG4gICAgLy8gc28gZmFsbCBiYWNrIG9uIG5hdGl2ZSBpZiB3ZSBkbyBub3QgZGV0ZWN0IFNoYWR5RE9NXG4gICAgLy8gRWRnZSAxNTogY3VzdG9tIHByb3BlcnRpZXMgdXNlZCBpbiA6OmJlZm9yZSBhbmQgOjphZnRlciB3aWxsIGFsc28gYmUgdXNlZCBpbiB0aGUgcGFyZW50IGVsZW1lbnRcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5taWNyb3NvZnQuY29tL2VuLXVzL21pY3Jvc29mdC1lZGdlL3BsYXRmb3JtL2lzc3Vlcy8xMjQxNDI1Ny9cbiAgICBuYXRpdmVDc3NWYXJpYWJsZXNfID0gbmF0aXZlU2hhZG93IHx8IEJvb2xlYW4oIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FwcGxlV2ViS2l0XFwvNjAxfEVkZ2VcXC8xNS8pICYmXG4gICAgICB3aW5kb3cuQ1NTICYmIENTUy5zdXBwb3J0cyAmJiBDU1Muc3VwcG9ydHMoJ2JveC1zaGFkb3cnLCAnMCAwIDAgdmFyKC0tZm9vKScpKTtcbiAgfVxufVxuXG4vKiogQHR5cGUge3N0cmluZyB8IHVuZGVmaW5lZH0gKi9cbmV4cG9ydCBsZXQgY3NzQnVpbGQ7XG5pZiAod2luZG93LlNoYWR5Q1NTICYmIHdpbmRvdy5TaGFkeUNTUy5jc3NCdWlsZCAhPT0gdW5kZWZpbmVkKSB7XG4gIGNzc0J1aWxkID0gd2luZG93LlNoYWR5Q1NTLmNzc0J1aWxkO1xufVxuXG4vKiogQHR5cGUge2Jvb2xlYW59ICovXG5leHBvcnQgY29uc3QgZGlzYWJsZVJ1bnRpbWUgPSBCb29sZWFuKHdpbmRvdy5TaGFkeUNTUyAmJiB3aW5kb3cuU2hhZHlDU1MuZGlzYWJsZVJ1bnRpbWUpO1xuXG5pZiAod2luZG93LlNoYWR5Q1NTICYmIHdpbmRvdy5TaGFkeUNTUy5uYXRpdmVDc3MgIT09IHVuZGVmaW5lZCkge1xuICBuYXRpdmVDc3NWYXJpYWJsZXNfID0gd2luZG93LlNoYWR5Q1NTLm5hdGl2ZUNzcztcbn0gZWxzZSBpZiAod2luZG93LlNoYWR5Q1NTKSB7XG4gIGNhbGNDc3NWYXJpYWJsZXMod2luZG93LlNoYWR5Q1NTKTtcbiAgLy8gcmVzZXQgd2luZG93IHZhcmlhYmxlIHRvIGxldCBTaGFkeUNTUyBBUEkgdGFrZSBpdHMgcGxhY2VcbiAgd2luZG93LlNoYWR5Q1NTID0gdW5kZWZpbmVkO1xufSBlbHNlIHtcbiAgY2FsY0Nzc1ZhcmlhYmxlcyh3aW5kb3dbJ1dlYkNvbXBvbmVudHMnXSAmJiB3aW5kb3dbJ1dlYkNvbXBvbmVudHMnXVsnZmxhZ3MnXSk7XG59XG5cbi8vIEhhY2sgZm9yIHR5cGUgZXJyb3IgdW5kZXIgbmV3IHR5cGUgaW5mZXJlbmNlIHdoaWNoIGRvZXNuJ3QgbGlrZSB0aGF0XG4vLyBuYXRpdmVDc3NWYXJpYWJsZXMgaXMgdXBkYXRlZCBpbiBhIGZ1bmN0aW9uIGFuZCBhc3NpZ25zIHRoZSB0eXBlXG4vLyBgZnVuY3Rpb24oKTogP2AgaW5zdGVhZCBvZiBgYm9vbGVhbmAuXG5leHBvcnQgY29uc3QgbmF0aXZlQ3NzVmFyaWFibGVzID0gLyoqIEB0eXBlIHtib29sZWFufSAqLyhuYXRpdmVDc3NWYXJpYWJsZXNfKTsiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4vKlxuRXh0cmVtZWx5IHNpbXBsZSBjc3MgcGFyc2VyLiBJbnRlbmRlZCB0byBiZSBub3QgbW9yZSB0aGFuIHdoYXQgd2UgbmVlZFxuYW5kIGRlZmluaXRlbHkgbm90IG5lY2Vzc2FyaWx5IGNvcnJlY3QgPSkuXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKiBAdW5yZXN0cmljdGVkICovXG5jbGFzcyBTdHlsZU5vZGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvKiogQHR5cGUge251bWJlcn0gKi9cbiAgICB0aGlzWydzdGFydCddID0gMDtcbiAgICAvKiogQHR5cGUge251bWJlcn0gKi9cbiAgICB0aGlzWydlbmQnXSA9IDA7XG4gICAgLyoqIEB0eXBlIHtTdHlsZU5vZGV9ICovXG4gICAgdGhpc1sncHJldmlvdXMnXSA9IG51bGw7XG4gICAgLyoqIEB0eXBlIHtTdHlsZU5vZGV9ICovXG4gICAgdGhpc1sncGFyZW50J10gPSBudWxsO1xuICAgIC8qKiBAdHlwZSB7QXJyYXk8U3R5bGVOb2RlPn0gKi9cbiAgICB0aGlzWydydWxlcyddID0gbnVsbDtcbiAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICB0aGlzWydwYXJzZWRDc3NUZXh0J10gPSAnJztcbiAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICB0aGlzWydjc3NUZXh0J10gPSAnJztcbiAgICAvKiogQHR5cGUge2Jvb2xlYW59ICovXG4gICAgdGhpc1snYXRSdWxlJ10gPSBmYWxzZTtcbiAgICAvKiogQHR5cGUge251bWJlcn0gKi9cbiAgICB0aGlzWyd0eXBlJ10gPSAwO1xuICAgIC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xuICAgIHRoaXNbJ2tleWZyYW1lc05hbWUnXSA9ICcnO1xuICAgIC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xuICAgIHRoaXNbJ3NlbGVjdG9yJ10gPSAnJztcbiAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICB0aGlzWydwYXJzZWRTZWxlY3RvciddID0gJyc7XG4gIH1cbn1cblxuZXhwb3J0IHtTdHlsZU5vZGV9XG5cbi8vIGdpdmVuIGEgc3RyaW5nIG9mIGNzcywgcmV0dXJuIGEgc2ltcGxlIHJ1bGUgdHJlZVxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICogQHJldHVybiB7U3R5bGVOb2RlfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2UodGV4dCkge1xuICB0ZXh0ID0gY2xlYW4odGV4dCk7XG4gIHJldHVybiBwYXJzZUNzcyhsZXgodGV4dCksIHRleHQpO1xufVxuXG4vLyByZW1vdmUgc3R1ZmYgd2UgZG9uJ3QgY2FyZSBhYm91dCB0aGF0IG1heSBoaW5kZXIgcGFyc2luZ1xuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gY3NzVGV4dFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBjbGVhbihjc3NUZXh0KSB7XG4gIHJldHVybiBjc3NUZXh0LnJlcGxhY2UoUlguY29tbWVudHMsICcnKS5yZXBsYWNlKFJYLnBvcnQsICcnKTtcbn1cblxuLy8gc3VwZXIgc2ltcGxlIHsuLi59IGxleGVyIHRoYXQgcmV0dXJucyBhIG5vZGUgdHJlZVxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICogQHJldHVybiB7U3R5bGVOb2RlfVxuICovXG5mdW5jdGlvbiBsZXgodGV4dCkge1xuICBsZXQgcm9vdCA9IG5ldyBTdHlsZU5vZGUoKTtcbiAgcm9vdFsnc3RhcnQnXSA9IDA7XG4gIHJvb3RbJ2VuZCddID0gdGV4dC5sZW5ndGhcbiAgbGV0IG4gPSByb290O1xuICBmb3IgKGxldCBpID0gMCwgbCA9IHRleHQubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKHRleHRbaV0gPT09IE9QRU5fQlJBQ0UpIHtcbiAgICAgIGlmICghblsncnVsZXMnXSkge1xuICAgICAgICBuWydydWxlcyddID0gW107XG4gICAgICB9XG4gICAgICBsZXQgcCA9IG47XG4gICAgICBsZXQgcHJldmlvdXMgPSBwWydydWxlcyddW3BbJ3J1bGVzJ10ubGVuZ3RoIC0gMV0gfHwgbnVsbDtcbiAgICAgIG4gPSBuZXcgU3R5bGVOb2RlKCk7XG4gICAgICBuWydzdGFydCddID0gaSArIDE7XG4gICAgICBuWydwYXJlbnQnXSA9IHA7XG4gICAgICBuWydwcmV2aW91cyddID0gcHJldmlvdXM7XG4gICAgICBwWydydWxlcyddLnB1c2gobik7XG4gICAgfSBlbHNlIGlmICh0ZXh0W2ldID09PSBDTE9TRV9CUkFDRSkge1xuICAgICAgblsnZW5kJ10gPSBpICsgMTtcbiAgICAgIG4gPSBuWydwYXJlbnQnXSB8fCByb290O1xuICAgIH1cbiAgfVxuICByZXR1cm4gcm9vdDtcbn1cblxuLy8gYWRkIHNlbGVjdG9ycy9jc3NUZXh0IHRvIG5vZGUgdHJlZVxuLyoqXG4gKiBAcGFyYW0ge1N0eWxlTm9kZX0gbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAqIEByZXR1cm4ge1N0eWxlTm9kZX1cbiAqL1xuZnVuY3Rpb24gcGFyc2VDc3Mobm9kZSwgdGV4dCkge1xuICBsZXQgdCA9IHRleHQuc3Vic3RyaW5nKG5vZGVbJ3N0YXJ0J10sIG5vZGVbJ2VuZCddIC0gMSk7XG4gIG5vZGVbJ3BhcnNlZENzc1RleHQnXSA9IG5vZGVbJ2Nzc1RleHQnXSA9IHQudHJpbSgpO1xuICBpZiAobm9kZVsncGFyZW50J10pIHtcbiAgICBsZXQgc3MgPSBub2RlWydwcmV2aW91cyddID8gbm9kZVsncHJldmlvdXMnXVsnZW5kJ10gOiBub2RlWydwYXJlbnQnXVsnc3RhcnQnXTtcbiAgICB0ID0gdGV4dC5zdWJzdHJpbmcoc3MsIG5vZGVbJ3N0YXJ0J10gLSAxKTtcbiAgICB0ID0gX2V4cGFuZFVuaWNvZGVFc2NhcGVzKHQpO1xuICAgIHQgPSB0LnJlcGxhY2UoUlgubXVsdGlwbGVTcGFjZXMsICcgJyk7XG4gICAgLy8gVE9ETyhzb3J2ZWxsKTogYWQgaG9jOyBtYWtlIHNlbGVjdG9yIGluY2x1ZGUgb25seSBhZnRlciBsYXN0IDtcbiAgICAvLyBoZWxwcyB3aXRoIG1peGluIHN5bnRheFxuICAgIHQgPSB0LnN1YnN0cmluZyh0Lmxhc3RJbmRleE9mKCc7JykgKyAxKTtcbiAgICBsZXQgcyA9IG5vZGVbJ3BhcnNlZFNlbGVjdG9yJ10gPSBub2RlWydzZWxlY3RvciddID0gdC50cmltKCk7XG4gICAgbm9kZVsnYXRSdWxlJ10gPSAocy5pbmRleE9mKEFUX1NUQVJUKSA9PT0gMCk7XG4gICAgLy8gbm90ZSwgc3VwcG9ydCBhIHN1YnNldCBvZiBydWxlIHR5cGVzLi4uXG4gICAgaWYgKG5vZGVbJ2F0UnVsZSddKSB7XG4gICAgICBpZiAocy5pbmRleE9mKE1FRElBX1NUQVJUKSA9PT0gMCkge1xuICAgICAgICBub2RlWyd0eXBlJ10gPSB0eXBlcy5NRURJQV9SVUxFO1xuICAgICAgfSBlbHNlIGlmIChzLm1hdGNoKFJYLmtleWZyYW1lc1J1bGUpKSB7XG4gICAgICAgIG5vZGVbJ3R5cGUnXSA9IHR5cGVzLktFWUZSQU1FU19SVUxFO1xuICAgICAgICBub2RlWydrZXlmcmFtZXNOYW1lJ10gPVxuICAgICAgICAgIG5vZGVbJ3NlbGVjdG9yJ10uc3BsaXQoUlgubXVsdGlwbGVTcGFjZXMpLnBvcCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocy5pbmRleE9mKFZBUl9TVEFSVCkgPT09IDApIHtcbiAgICAgICAgbm9kZVsndHlwZSddID0gdHlwZXMuTUlYSU5fUlVMRTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGVbJ3R5cGUnXSA9IHR5cGVzLlNUWUxFX1JVTEU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGxldCByJCA9IG5vZGVbJ3J1bGVzJ107XG4gIGlmIChyJCkge1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gciQubGVuZ3RoLCByO1xuICAgICAgKGkgPCBsKSAmJiAociA9IHIkW2ldKTsgaSsrKSB7XG4gICAgICBwYXJzZUNzcyhyLCB0ZXh0KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5vZGU7XG59XG5cbi8qKlxuICogY29udmVyc2lvbiBvZiBzb3J0IHVuaWNvZGUgZXNjYXBlcyB3aXRoIHNwYWNlcyBsaWtlIGBcXDMzIGAgKGFuZCBsb25nZXIpIGludG9cbiAqIGV4cGFuZGVkIGZvcm0gdGhhdCBkb2Vzbid0IHJlcXVpcmUgdHJhaWxpbmcgc3BhY2UgYFxcMDAwMDMzYFxuICogQHBhcmFtIHtzdHJpbmd9IHNcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gX2V4cGFuZFVuaWNvZGVFc2NhcGVzKHMpIHtcbiAgcmV0dXJuIHMucmVwbGFjZSgvXFxcXChbMC05YS1mXXsxLDZ9KVxccy9naSwgZnVuY3Rpb24oKSB7XG4gICAgbGV0IGNvZGUgPSBhcmd1bWVudHNbMV0sXG4gICAgICByZXBlYXQgPSA2IC0gY29kZS5sZW5ndGg7XG4gICAgd2hpbGUgKHJlcGVhdC0tKSB7XG4gICAgICBjb2RlID0gJzAnICsgY29kZTtcbiAgICB9XG4gICAgcmV0dXJuICdcXFxcJyArIGNvZGU7XG4gIH0pO1xufVxuXG4vKipcbiAqIHN0cmluZ2lmeSBwYXJzZWQgY3NzLlxuICogQHBhcmFtIHtTdHlsZU5vZGV9IG5vZGVcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHByZXNlcnZlUHJvcGVydGllc1xuICogQHBhcmFtIHtzdHJpbmc9fSB0ZXh0XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnkobm9kZSwgcHJlc2VydmVQcm9wZXJ0aWVzLCB0ZXh0ID0gJycpIHtcbiAgLy8gY2FsYyBydWxlIGNzc1RleHRcbiAgbGV0IGNzc1RleHQgPSAnJztcbiAgaWYgKG5vZGVbJ2Nzc1RleHQnXSB8fCBub2RlWydydWxlcyddKSB7XG4gICAgbGV0IHIkID0gbm9kZVsncnVsZXMnXTtcbiAgICBpZiAociQgJiYgIV9oYXNNaXhpblJ1bGVzKHIkKSkge1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSByJC5sZW5ndGgsIHI7XG4gICAgICAgIChpIDwgbCkgJiYgKHIgPSByJFtpXSk7IGkrKykge1xuICAgICAgICBjc3NUZXh0ID0gc3RyaW5naWZ5KHIsIHByZXNlcnZlUHJvcGVydGllcywgY3NzVGV4dCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNzc1RleHQgPSBwcmVzZXJ2ZVByb3BlcnRpZXMgPyBub2RlWydjc3NUZXh0J10gOlxuICAgICAgICByZW1vdmVDdXN0b21Qcm9wcyhub2RlWydjc3NUZXh0J10pO1xuICAgICAgY3NzVGV4dCA9IGNzc1RleHQudHJpbSgpO1xuICAgICAgaWYgKGNzc1RleHQpIHtcbiAgICAgICAgY3NzVGV4dCA9ICcgICcgKyBjc3NUZXh0ICsgJ1xcbic7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIGVtaXQgcnVsZSBpZiB0aGVyZSBpcyBjc3NUZXh0XG4gIGlmIChjc3NUZXh0KSB7XG4gICAgaWYgKG5vZGVbJ3NlbGVjdG9yJ10pIHtcbiAgICAgIHRleHQgKz0gbm9kZVsnc2VsZWN0b3InXSArICcgJyArIE9QRU5fQlJBQ0UgKyAnXFxuJztcbiAgICB9XG4gICAgdGV4dCArPSBjc3NUZXh0O1xuICAgIGlmIChub2RlWydzZWxlY3RvciddKSB7XG4gICAgICB0ZXh0ICs9IENMT1NFX0JSQUNFICsgJ1xcblxcbic7XG4gICAgfVxuICB9XG4gIHJldHVybiB0ZXh0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8U3R5bGVOb2RlPn0gcnVsZXNcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIF9oYXNNaXhpblJ1bGVzKHJ1bGVzKSB7XG4gIGxldCByID0gcnVsZXNbMF07XG4gIHJldHVybiBCb29sZWFuKHIpICYmIEJvb2xlYW4oclsnc2VsZWN0b3InXSkgJiYgclsnc2VsZWN0b3InXS5pbmRleE9mKFZBUl9TVEFSVCkgPT09IDA7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHRcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQ3VzdG9tUHJvcHMoY3NzVGV4dCkge1xuICBjc3NUZXh0ID0gcmVtb3ZlQ3VzdG9tUHJvcEFzc2lnbm1lbnQoY3NzVGV4dCk7XG4gIHJldHVybiByZW1vdmVDdXN0b21Qcm9wQXBwbHkoY3NzVGV4dCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHRcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUN1c3RvbVByb3BBc3NpZ25tZW50KGNzc1RleHQpIHtcbiAgcmV0dXJuIGNzc1RleHRcbiAgICAucmVwbGFjZShSWC5jdXN0b21Qcm9wLCAnJylcbiAgICAucmVwbGFjZShSWC5taXhpblByb3AsICcnKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gY3NzVGV4dFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiByZW1vdmVDdXN0b21Qcm9wQXBwbHkoY3NzVGV4dCkge1xuICByZXR1cm4gY3NzVGV4dFxuICAgIC5yZXBsYWNlKFJYLm1peGluQXBwbHksICcnKVxuICAgIC5yZXBsYWNlKFJYLnZhckFwcGx5LCAnJyk7XG59XG5cbi8qKiBAZW51bSB7bnVtYmVyfSAqL1xuZXhwb3J0IGNvbnN0IHR5cGVzID0ge1xuICBTVFlMRV9SVUxFOiAxLFxuICBLRVlGUkFNRVNfUlVMRTogNyxcbiAgTUVESUFfUlVMRTogNCxcbiAgTUlYSU5fUlVMRTogMTAwMFxufVxuXG5jb25zdCBPUEVOX0JSQUNFID0gJ3snO1xuY29uc3QgQ0xPU0VfQlJBQ0UgPSAnfSc7XG5cbi8vIGhlbHBlciByZWdleHAnc1xuY29uc3QgUlggPSB7XG4gIGNvbW1lbnRzOiAvXFwvXFwqW14qXSpcXCorKFteLypdW14qXSpcXCorKSpcXC8vZ2ltLFxuICBwb3J0OiAvQGltcG9ydFteO10qOy9naW0sXG4gIGN1c3RvbVByb3A6IC8oPzpeW147XFwtXFxzfV0rKT8tLVteO3t9XSo/Oltee307XSo/KD86WztcXG5dfCQpL2dpbSxcbiAgbWl4aW5Qcm9wOiAvKD86XlteO1xcLVxcc31dKyk/LS1bXjt7fV0qPzpbXnt9O10qP3tbXn1dKj99KD86WztcXG5dfCQpPy9naW0sXG4gIG1peGluQXBwbHk6IC9AYXBwbHlcXHMqXFwoP1teKTtdKlxcKT9cXHMqKD86WztcXG5dfCQpPy9naW0sXG4gIHZhckFwcGx5OiAvW147Ol0qPzpbXjtdKj92YXJcXChbXjtdKlxcKSg/Ols7XFxuXXwkKT8vZ2ltLFxuICBrZXlmcmFtZXNSdWxlOiAvXkBbXlxcc10qa2V5ZnJhbWVzLyxcbiAgbXVsdGlwbGVTcGFjZXM6IC9cXHMrL2dcbn1cblxuY29uc3QgVkFSX1NUQVJUID0gJy0tJztcbmNvbnN0IE1FRElBX1NUQVJUID0gJ0BtZWRpYSc7XG5jb25zdCBBVF9TVEFSVCA9ICdAJztcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbmV4cG9ydCBjb25zdCBWQVJfQVNTSUdOID0gLyg/Ol58WztcXHN7XVxccyopKC0tW1xcdy1dKj8pXFxzKjpcXHMqKD86KCg/OicoPzpcXFxcJ3wuKSo/J3xcIig/OlxcXFxcInwuKSo/XCJ8XFwoW14pXSo/XFwpfFtefTt7XSkrKXxcXHsoW159XSopXFx9KD86KD89WztcXHN9XSl8JCkpL2dpO1xuZXhwb3J0IGNvbnN0IE1JWElOX01BVENIID0gLyg/Ol58XFxXKylAYXBwbHlcXHMqXFwoPyhbXik7XFxuXSopXFwpPy9naTtcbmV4cG9ydCBjb25zdCBWQVJfQ09OU1VNRUQgPSAvKC0tW1xcdy1dKylcXHMqKFs6LDspXXwkKS9naTtcbmV4cG9ydCBjb25zdCBBTklNQVRJT05fTUFUQ0ggPSAvKGFuaW1hdGlvblxccyo6KXwoYW5pbWF0aW9uLW5hbWVcXHMqOikvO1xuZXhwb3J0IGNvbnN0IE1FRElBX01BVENIID0gL0BtZWRpYVxccyguKikvO1xuZXhwb3J0IGNvbnN0IElTX1ZBUiA9IC9eLS0vO1xuZXhwb3J0IGNvbnN0IEJSQUNLRVRFRCA9IC9cXHtbXn1dKlxcfS9nO1xuZXhwb3J0IGNvbnN0IEhPU1RfUFJFRklYID0gJyg/Ol58W14uI1s6XSknO1xuZXhwb3J0IGNvbnN0IEhPU1RfU1VGRklYID0gJygkfFsuOltcXFxccz4rfl0pJztcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqIEB0eXBlIHshU2V0PHN0cmluZz59ICovXG5jb25zdCBzdHlsZVRleHRTZXQgPSBuZXcgU2V0KCk7XG5cbmV4cG9ydCBjb25zdCBzY29waW5nQXR0cmlidXRlID0gJ3NoYWR5LXVuc2NvcGVkJztcblxuLyoqXG4gKiBBZGQgYSBzcGVjaWZpY2FsbHktbWFya2VkIHN0eWxlIHRvIHRoZSBkb2N1bWVudCBkaXJlY3RseSwgYW5kIG9ubHkgb25lIGNvcHkgb2YgdGhhdCBzdHlsZS5cbiAqXG4gKiBAcGFyYW0geyFIVE1MU3R5bGVFbGVtZW50fSBzdHlsZVxuICogQHJldHVybiB7dW5kZWZpbmVkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc1Vuc2NvcGVkU3R5bGUoc3R5bGUpIHtcbiAgY29uc3QgdGV4dCA9IHN0eWxlLnRleHRDb250ZW50O1xuICBpZiAoIXN0eWxlVGV4dFNldC5oYXModGV4dCkpIHtcbiAgICBzdHlsZVRleHRTZXQuYWRkKHRleHQpO1xuICAgIGNvbnN0IG5ld1N0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBuZXdTdHlsZS5zZXRBdHRyaWJ1dGUoJ3NoYWR5LXVuc2NvcGVkJywgJycpO1xuICAgIG5ld1N0eWxlLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKG5ld1N0eWxlKTtcbiAgfVxufVxuXG4vKipcbiAqIENoZWNrIGlmIGEgc3R5bGUgaXMgc3VwcG9zZWQgdG8gYmUgdW5zY29wZWRcbiAqIEBwYXJhbSB7IUhUTUxTdHlsZUVsZW1lbnR9IHN0eWxlXG4gKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoZSBzdHlsZSBoYXMgdGhlIHVuc2NvcGluZyBhdHRyaWJ1dGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVW5zY29wZWRTdHlsZShzdHlsZSkge1xuICByZXR1cm4gc3R5bGUuaGFzQXR0cmlidXRlKHNjb3BpbmdBdHRyaWJ1dGUpO1xufSIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtuYXRpdmVTaGFkb3csIG5hdGl2ZUNzc1ZhcmlhYmxlcywgY3NzQnVpbGR9IGZyb20gJy4vc3R5bGUtc2V0dGluZ3MuanMnO1xuaW1wb3J0IHtwYXJzZSwgc3RyaW5naWZ5LCB0eXBlcywgU3R5bGVOb2RlfSBmcm9tICcuL2Nzcy1wYXJzZS5qcyc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbmltcG9ydCB7TUVESUFfTUFUQ0h9IGZyb20gJy4vY29tbW9uLXJlZ2V4LmpzJztcbmltcG9ydCB7cHJvY2Vzc1Vuc2NvcGVkU3R5bGUsIGlzVW5zY29wZWRTdHlsZX0gZnJvbSAnLi91bnNjb3BlZC1zdHlsZS1oYW5kbGVyLmpzJztcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ3xTdHlsZU5vZGV9IHJ1bGVzXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKFN0eWxlTm9kZSk9fSBjYWxsYmFja1xuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9Dc3NUZXh0IChydWxlcywgY2FsbGJhY2spIHtcbiAgaWYgKCFydWxlcykge1xuICAgIHJldHVybiAnJztcbiAgfVxuICBpZiAodHlwZW9mIHJ1bGVzID09PSAnc3RyaW5nJykge1xuICAgIHJ1bGVzID0gcGFyc2UocnVsZXMpO1xuICB9XG4gIGlmIChjYWxsYmFjaykge1xuICAgIGZvckVhY2hSdWxlKHJ1bGVzLCBjYWxsYmFjayk7XG4gIH1cbiAgcmV0dXJuIHN0cmluZ2lmeShydWxlcywgbmF0aXZlQ3NzVmFyaWFibGVzKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxTdHlsZUVsZW1lbnR9IHN0eWxlXG4gKiBAcmV0dXJuIHtTdHlsZU5vZGV9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBydWxlc0ZvclN0eWxlKHN0eWxlKSB7XG4gIGlmICghc3R5bGVbJ19fY3NzUnVsZXMnXSAmJiBzdHlsZS50ZXh0Q29udGVudCkge1xuICAgIHN0eWxlWydfX2Nzc1J1bGVzJ10gPSBwYXJzZShzdHlsZS50ZXh0Q29udGVudCk7XG4gIH1cbiAgcmV0dXJuIHN0eWxlWydfX2Nzc1J1bGVzJ10gfHwgbnVsbDtcbn1cblxuLy8gVGVzdHMgaWYgYSBydWxlIGlzIGEga2V5ZnJhbWVzIHNlbGVjdG9yLCB3aGljaCBsb29rcyBhbG1vc3QgZXhhY3RseVxuLy8gbGlrZSBhIG5vcm1hbCBzZWxlY3RvciBidXQgaXMgbm90IChpdCBoYXMgbm90aGluZyB0byBkbyB3aXRoIHNjb3Bpbmdcbi8vIGZvciBleGFtcGxlKS5cbi8qKlxuICogQHBhcmFtIHtTdHlsZU5vZGV9IHJ1bGVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0tleWZyYW1lc1NlbGVjdG9yKHJ1bGUpIHtcbiAgcmV0dXJuIEJvb2xlYW4ocnVsZVsncGFyZW50J10pICYmXG4gIHJ1bGVbJ3BhcmVudCddWyd0eXBlJ10gPT09IHR5cGVzLktFWUZSQU1FU19SVUxFO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7U3R5bGVOb2RlfSBub2RlXG4gKiBAcGFyYW0ge0Z1bmN0aW9uPX0gc3R5bGVSdWxlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7RnVuY3Rpb249fSBrZXlmcmFtZXNSdWxlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9ubHlBY3RpdmVSdWxlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZm9yRWFjaFJ1bGUobm9kZSwgc3R5bGVSdWxlQ2FsbGJhY2ssIGtleWZyYW1lc1J1bGVDYWxsYmFjaywgb25seUFjdGl2ZVJ1bGVzKSB7XG4gIGlmICghbm9kZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgc2tpcFJ1bGVzID0gZmFsc2U7XG4gIGxldCB0eXBlID0gbm9kZVsndHlwZSddO1xuICBpZiAob25seUFjdGl2ZVJ1bGVzKSB7XG4gICAgaWYgKHR5cGUgPT09IHR5cGVzLk1FRElBX1JVTEUpIHtcbiAgICAgIGxldCBtYXRjaE1lZGlhID0gbm9kZVsnc2VsZWN0b3InXS5tYXRjaChNRURJQV9NQVRDSCk7XG4gICAgICBpZiAobWF0Y2hNZWRpYSkge1xuICAgICAgICAvLyBpZiBydWxlIGlzIGEgbm9uIG1hdGNoaW5nIEBtZWRpYSBydWxlLCBza2lwIHN1YnJ1bGVzXG4gICAgICAgIGlmICghd2luZG93Lm1hdGNoTWVkaWEobWF0Y2hNZWRpYVsxXSkubWF0Y2hlcykge1xuICAgICAgICAgIHNraXBSdWxlcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHR5cGUgPT09IHR5cGVzLlNUWUxFX1JVTEUpIHtcbiAgICBzdHlsZVJ1bGVDYWxsYmFjayhub2RlKTtcbiAgfSBlbHNlIGlmIChrZXlmcmFtZXNSdWxlQ2FsbGJhY2sgJiZcbiAgICB0eXBlID09PSB0eXBlcy5LRVlGUkFNRVNfUlVMRSkge1xuICAgIGtleWZyYW1lc1J1bGVDYWxsYmFjayhub2RlKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSB0eXBlcy5NSVhJTl9SVUxFKSB7XG4gICAgc2tpcFJ1bGVzID0gdHJ1ZTtcbiAgfVxuICBsZXQgciQgPSBub2RlWydydWxlcyddO1xuICBpZiAociQgJiYgIXNraXBSdWxlcykge1xuICAgIGZvciAobGV0IGk9MCwgbD1yJC5sZW5ndGgsIHI7IChpPGwpICYmIChyPXIkW2ldKTsgaSsrKSB7XG4gICAgICBmb3JFYWNoUnVsZShyLCBzdHlsZVJ1bGVDYWxsYmFjaywga2V5ZnJhbWVzUnVsZUNhbGxiYWNrLCBvbmx5QWN0aXZlUnVsZXMpO1xuICAgIH1cbiAgfVxufVxuXG4vLyBhZGQgYSBzdHJpbmcgb2YgY3NzVGV4dCB0byB0aGUgZG9jdW1lbnQuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBjc3NUZXh0XG4gKiBAcGFyYW0ge3N0cmluZ30gbW9uaWtlclxuICogQHBhcmFtIHtOb2RlfSB0YXJnZXRcbiAqIEBwYXJhbSB7Tm9kZX0gY29udGV4dE5vZGVcbiAqIEByZXR1cm4ge0hUTUxTdHlsZUVsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseUNzcyhjc3NUZXh0LCBtb25pa2VyLCB0YXJnZXQsIGNvbnRleHROb2RlKSB7XG4gIGxldCBzdHlsZSA9IGNyZWF0ZVNjb3BlU3R5bGUoY3NzVGV4dCwgbW9uaWtlcik7XG4gIGFwcGx5U3R5bGUoc3R5bGUsIHRhcmdldCwgY29udGV4dE5vZGUpO1xuICByZXR1cm4gc3R5bGU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHRcbiAqIEBwYXJhbSB7c3RyaW5nfSBtb25pa2VyXG4gKiBAcmV0dXJuIHtIVE1MU3R5bGVFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2NvcGVTdHlsZShjc3NUZXh0LCBtb25pa2VyKSB7XG4gIGxldCBzdHlsZSA9IC8qKiBAdHlwZSB7SFRNTFN0eWxlRWxlbWVudH0gKi8oZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKSk7XG4gIGlmIChtb25pa2VyKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdzY29wZScsIG1vbmlrZXIpO1xuICB9XG4gIHN0eWxlLnRleHRDb250ZW50ID0gY3NzVGV4dDtcbiAgcmV0dXJuIHN0eWxlO1xufVxuXG4vKipcbiAqIFRyYWNrIHRoZSBwb3NpdGlvbiBvZiB0aGUgbGFzdCBhZGRlZCBzdHlsZSBmb3IgcGxhY2luZyBwbGFjZWhvbGRlcnNcbiAqIEB0eXBlIHtOb2RlfVxuICovXG5sZXQgbGFzdEhlYWRBcHBseU5vZGUgPSBudWxsO1xuXG4vLyBpbnNlcnQgYSBjb21tZW50IG5vZGUgYXMgYSBzdHlsaW5nIHBvc2l0aW9uIHBsYWNlaG9sZGVyLlxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9uaWtlclxuICogQHJldHVybiB7IUNvbW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseVN0eWxlUGxhY2VIb2xkZXIobW9uaWtlcikge1xuICBsZXQgcGxhY2VIb2xkZXIgPSBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcgU2hhZHkgRE9NIHN0eWxlcyBmb3IgJyArXG4gICAgbW9uaWtlciArICcgJyk7XG4gIGxldCBhZnRlciA9IGxhc3RIZWFkQXBwbHlOb2RlID9cbiAgICBsYXN0SGVhZEFwcGx5Tm9kZVsnbmV4dFNpYmxpbmcnXSA6IG51bGw7XG4gIGxldCBzY29wZSA9IGRvY3VtZW50LmhlYWQ7XG4gIHNjb3BlLmluc2VydEJlZm9yZShwbGFjZUhvbGRlciwgYWZ0ZXIgfHwgc2NvcGUuZmlyc3RDaGlsZCk7XG4gIGxhc3RIZWFkQXBwbHlOb2RlID0gcGxhY2VIb2xkZXI7XG4gIHJldHVybiBwbGFjZUhvbGRlcjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxTdHlsZUVsZW1lbnR9IHN0eWxlXG4gKiBAcGFyYW0gez9Ob2RlfSB0YXJnZXRcbiAqIEBwYXJhbSB7P05vZGV9IGNvbnRleHROb2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseVN0eWxlKHN0eWxlLCB0YXJnZXQsIGNvbnRleHROb2RlKSB7XG4gIHRhcmdldCA9IHRhcmdldCB8fCBkb2N1bWVudC5oZWFkO1xuICBsZXQgYWZ0ZXIgPSAoY29udGV4dE5vZGUgJiYgY29udGV4dE5vZGUubmV4dFNpYmxpbmcpIHx8XG4gICAgdGFyZ2V0LmZpcnN0Q2hpbGQ7XG4gIHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIGFmdGVyKTtcbiAgaWYgKCFsYXN0SGVhZEFwcGx5Tm9kZSkge1xuICAgIGxhc3RIZWFkQXBwbHlOb2RlID0gc3R5bGU7XG4gIH0gZWxzZSB7XG4gICAgLy8gb25seSB1cGRhdGUgbGFzdEhlYWRBcHBseU5vZGUgaWYgdGhlIG5ldyBzdHlsZSBpcyBpbnNlcnRlZCBhZnRlciB0aGUgb2xkIGxhc3RIZWFkQXBwbHlOb2RlXG4gICAgbGV0IHBvc2l0aW9uID0gc3R5bGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24obGFzdEhlYWRBcHBseU5vZGUpO1xuICAgIGlmIChwb3NpdGlvbiA9PT0gTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9QUkVDRURJTkcpIHtcbiAgICAgIGxhc3RIZWFkQXBwbHlOb2RlID0gc3R5bGU7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGJ1aWxkVHlwZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVGFyZ2V0ZWRCdWlsZChidWlsZFR5cGUpIHtcbiAgcmV0dXJuIG5hdGl2ZVNoYWRvdyA/IGJ1aWxkVHlwZSA9PT0gJ3NoYWRvdycgOiBidWlsZFR5cGUgPT09ICdzaGFkeSc7XG59XG5cbi8qKlxuICogV2FsayBmcm9tIHRleHRbc3RhcnRdIG1hdGNoaW5nIHBhcmVucyBhbmRcbiAqIHJldHVybnMgcG9zaXRpb24gb2YgdGhlIG91dGVyIGVuZCBwYXJlblxuICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZE1hdGNoaW5nUGFyZW4odGV4dCwgc3RhcnQpIHtcbiAgbGV0IGxldmVsID0gMDtcbiAgZm9yIChsZXQgaT1zdGFydCwgbD10ZXh0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGlmICh0ZXh0W2ldID09PSAnKCcpIHtcbiAgICAgIGxldmVsKys7XG4gICAgfSBlbHNlIGlmICh0ZXh0W2ldID09PSAnKScpIHtcbiAgICAgIGlmICgtLWxldmVsID09PSAwKSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmcsIHN0cmluZywgc3RyaW5nLCBzdHJpbmcpfSBjYWxsYmFja1xuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc1ZhcmlhYmxlQW5kRmFsbGJhY2soc3RyLCBjYWxsYmFjaykge1xuICAvLyBmaW5kICd2YXIoJ1xuICBsZXQgc3RhcnQgPSBzdHIuaW5kZXhPZigndmFyKCcpO1xuICBpZiAoc3RhcnQgPT09IC0xKSB7XG4gICAgLy8gbm8gdmFyPywgZXZlcnl0aGluZyBpcyBwcmVmaXhcbiAgICByZXR1cm4gY2FsbGJhY2soc3RyLCAnJywgJycsICcnKTtcbiAgfVxuICAvLyR7cHJlZml4fXZhcigke2lubmVyfSkke3N1ZmZpeH1cbiAgbGV0IGVuZCA9IGZpbmRNYXRjaGluZ1BhcmVuKHN0ciwgc3RhcnQgKyAzKTtcbiAgbGV0IGlubmVyID0gc3RyLnN1YnN0cmluZyhzdGFydCArIDQsIGVuZCk7XG4gIGxldCBwcmVmaXggPSBzdHIuc3Vic3RyaW5nKDAsIHN0YXJ0KTtcbiAgLy8gc3VmZml4IG1heSBoYXZlIG90aGVyIHZhcmlhYmxlc1xuICBsZXQgc3VmZml4ID0gcHJvY2Vzc1ZhcmlhYmxlQW5kRmFsbGJhY2soc3RyLnN1YnN0cmluZyhlbmQgKyAxKSwgY2FsbGJhY2spO1xuICBsZXQgY29tbWEgPSBpbm5lci5pbmRleE9mKCcsJyk7XG4gIC8vIHZhbHVlIGFuZCBmYWxsYmFjayBhcmdzIHNob3VsZCBiZSB0cmltbWVkIHRvIG1hdGNoIGluIHByb3BlcnR5IGxvb2t1cFxuICBpZiAoY29tbWEgPT09IC0xKSB7XG4gICAgLy8gdmFyaWFibGUsIG5vIGZhbGxiYWNrXG4gICAgcmV0dXJuIGNhbGxiYWNrKHByZWZpeCwgaW5uZXIudHJpbSgpLCAnJywgc3VmZml4KTtcbiAgfVxuICAvLyB2YXIoJHt2YWx1ZX0sJHtmYWxsYmFja30pXG4gIGxldCB2YWx1ZSA9IGlubmVyLnN1YnN0cmluZygwLCBjb21tYSkudHJpbSgpO1xuICBsZXQgZmFsbGJhY2sgPSBpbm5lci5zdWJzdHJpbmcoY29tbWEgKyAxKS50cmltKCk7XG4gIHJldHVybiBjYWxsYmFjayhwcmVmaXgsIHZhbHVlLCBmYWxsYmFjaywgc3VmZml4KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0RWxlbWVudENsYXNzUmF3KGVsZW1lbnQsIHZhbHVlKSB7XG4gIC8vIHVzZSBuYXRpdmUgc2V0QXR0cmlidXRlIHByb3ZpZGVkIGJ5IFNoYWR5RE9NIHdoZW4gc2V0QXR0cmlidXRlIGlzIHBhdGNoZWRcbiAgaWYgKG5hdGl2ZVNoYWRvdykge1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICB3aW5kb3dbJ1NoYWR5RE9NJ11bJ25hdGl2ZU1ldGhvZHMnXVsnc2V0QXR0cmlidXRlJ10uY2FsbChlbGVtZW50LCAnY2xhc3MnLCB2YWx1ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAdHlwZSB7ZnVuY3Rpb24oKik6Kn1cbiAqL1xuZXhwb3J0IGNvbnN0IHdyYXAgPSB3aW5kb3dbJ1NoYWR5RE9NJ10gJiYgd2luZG93WydTaGFkeURPTSddWyd3cmFwJ10gfHwgKChub2RlKSA9PiBub2RlKTtcblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgfCB7aXM6IHN0cmluZywgZXh0ZW5kczogc3RyaW5nfX0gZWxlbWVudFxuICogQHJldHVybiB7e2lzOiBzdHJpbmcsIHR5cGVFeHRlbnNpb246IHN0cmluZ319XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJc0V4dGVuZHMoZWxlbWVudCkge1xuICBsZXQgbG9jYWxOYW1lID0gZWxlbWVudFsnbG9jYWxOYW1lJ107XG4gIGxldCBpcyA9ICcnLCB0eXBlRXh0ZW5zaW9uID0gJyc7XG4gIC8qXG4gIE5PVEU6IHRlY2huaWNhbGx5LCB0aGlzIGNhbiBiZSB3cm9uZyBmb3IgY2VydGFpbiBzdmcgZWxlbWVudHNcbiAgd2l0aCBgLWAgaW4gdGhlIG5hbWUgbGlrZSBgPGZvbnQtZmFjZT5gXG4gICovXG4gIGlmIChsb2NhbE5hbWUpIHtcbiAgICBpZiAobG9jYWxOYW1lLmluZGV4T2YoJy0nKSA+IC0xKSB7XG4gICAgICBpcyA9IGxvY2FsTmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHlwZUV4dGVuc2lvbiA9IGxvY2FsTmFtZTtcbiAgICAgIGlzID0gKGVsZW1lbnQuZ2V0QXR0cmlidXRlICYmIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdpcycpKSB8fCAnJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaXMgPSAvKiogQHR5cGUgez99ICovKGVsZW1lbnQpLmlzO1xuICAgIHR5cGVFeHRlbnNpb24gPSAvKiogQHR5cGUgez99ICovKGVsZW1lbnQpLmV4dGVuZHM7XG4gIH1cbiAgcmV0dXJuIHtpcywgdHlwZUV4dGVuc2lvbn07XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fERvY3VtZW50RnJhZ21lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdhdGhlclN0eWxlVGV4dChlbGVtZW50KSB7XG4gIC8qKiBAdHlwZSB7IUFycmF5PHN0cmluZz59ICovXG4gIGNvbnN0IHN0eWxlVGV4dFBhcnRzID0gW107XG4gIGNvbnN0IHN0eWxlcyA9IC8qKiBAdHlwZSB7IU5vZGVMaXN0PCFIVE1MU3R5bGVFbGVtZW50Pn0gKi8oZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzdHlsZScpKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzdHlsZSA9IHN0eWxlc1tpXTtcbiAgICBpZiAoaXNVbnNjb3BlZFN0eWxlKHN0eWxlKSkge1xuICAgICAgaWYgKCFuYXRpdmVTaGFkb3cpIHtcbiAgICAgICAgcHJvY2Vzc1Vuc2NvcGVkU3R5bGUoc3R5bGUpO1xuICAgICAgICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVUZXh0UGFydHMucHVzaChzdHlsZS50ZXh0Q29udGVudCk7XG4gICAgICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0eWxlVGV4dFBhcnRzLmpvaW4oJycpLnRyaW0oKTtcbn1cblxuLyoqXG4gKiBTcGxpdCBhIHNlbGVjdG9yIHNlcGFyYXRlZCBieSBjb21tYXMgaW50byBhbiBhcnJheSBpbiBhIHNtYXJ0IHdheVxuICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yXG4gKiBAcmV0dXJuIHshQXJyYXk8c3RyaW5nPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNwbGl0U2VsZWN0b3JMaXN0KHNlbGVjdG9yKSB7XG4gIGNvbnN0IHBhcnRzID0gW107XG4gIGxldCBwYXJ0ID0gJyc7XG4gIGZvciAobGV0IGkgPSAwOyBpID49IDAgJiYgaSA8IHNlbGVjdG9yLmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gQSBzZWxlY3RvciB3aXRoIHBhcmVudGhlc2VzIHdpbGwgYmUgb25lIGNvbXBsZXRlIHBhcnRcbiAgICBpZiAoc2VsZWN0b3JbaV0gPT09ICcoJykge1xuICAgICAgLy8gZmluZCB0aGUgbWF0Y2hpbmcgcGFyZW5cbiAgICAgIGNvbnN0IGVuZCA9IGZpbmRNYXRjaGluZ1BhcmVuKHNlbGVjdG9yLCBpKTtcbiAgICAgIC8vIHB1c2ggdGhlIHBhcmVuIGJsb2NrIGludG8gdGhlIHBhcnRcbiAgICAgIHBhcnQgKz0gc2VsZWN0b3Iuc2xpY2UoaSwgZW5kICsgMSk7XG4gICAgICAvLyBtb3ZlIHRoZSBpbmRleCB0byBhZnRlciB0aGUgcGFyZW4gYmxvY2tcbiAgICAgIGkgPSBlbmQ7XG4gICAgfSBlbHNlIGlmIChzZWxlY3RvcltpXSA9PT0gJywnKSB7XG4gICAgICBwYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgcGFydCA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJ0ICs9IHNlbGVjdG9yW2ldO1xuICAgIH1cbiAgfVxuICAvLyBjYXRjaCBhbnkgcGllY2VzIGFmdGVyIHRoZSBsYXN0IGNvbW1hXG4gIGlmIChwYXJ0KSB7XG4gICAgcGFydHMucHVzaChwYXJ0KTtcbiAgfVxuICByZXR1cm4gcGFydHM7XG59XG5cbmNvbnN0IENTU19CVUlMRF9BVFRSID0gJ2Nzcy1idWlsZCc7XG5cbi8qKlxuICogUmV0dXJuIHRoZSBwb2x5bWVyLWNzcy1idWlsZCBcImJ1aWxkIHR5cGVcIiBhcHBsaWVkIHRvIHRoaXMgZWxlbWVudFxuICpcbiAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJuIHtzdHJpbmd9IENhbiBiZSBcIlwiLCBcInNoYWR5XCIsIG9yIFwic2hhZG93XCJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENzc0J1aWxkKGVsZW1lbnQpIHtcbiAgaWYgKGNzc0J1aWxkICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtzdHJpbmd9ICovKGNzc0J1aWxkKTtcbiAgfVxuICBpZiAoZWxlbWVudC5fX2Nzc0J1aWxkID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyB0cnkgYXR0cmlidXRlIGZpcnN0LCBhcyBpdCBpcyB0aGUgY29tbW9uIGNhc2VcbiAgICBjb25zdCBhdHRyVmFsdWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShDU1NfQlVJTERfQVRUUik7XG4gICAgaWYgKGF0dHJWYWx1ZSkge1xuICAgICAgZWxlbWVudC5fX2Nzc0J1aWxkID0gYXR0clZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBidWlsZENvbW1lbnQgPSBnZXRCdWlsZENvbW1lbnQoZWxlbWVudCk7XG4gICAgICBpZiAoYnVpbGRDb21tZW50ICE9PSAnJykge1xuICAgICAgICAvLyByZW1vdmUgYnVpbGQgY29tbWVudCBzbyBpdCBpcyBub3QgbmVlZGxlc3NseSBjb3BpZWQgaW50byBldmVyeSBlbGVtZW50IGluc3RhbmNlXG4gICAgICAgIHJlbW92ZUJ1aWxkQ29tbWVudChlbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIGVsZW1lbnQuX19jc3NCdWlsZCA9IGJ1aWxkQ29tbWVudDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVsZW1lbnQuX19jc3NCdWlsZCB8fCAnJztcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgZ2l2ZW4gZWxlbWVudCwgZWl0aGVyIGEgPHRlbXBsYXRlPiBvciA8c3R5bGU+LCBoYXMgYmVlbiBwcm9jZXNzZWRcbiAqIGJ5IHBvbHltZXItY3NzLWJ1aWxkLlxuICpcbiAqIElmIHNvLCB0aGVuIHdlIGNhbiBtYWtlIGEgbnVtYmVyIG9mIG9wdGltaXphdGlvbnM6XG4gKiAtIHBvbHltZXItY3NzLWJ1aWxkIHdpbGwgZGVjb21wb3NlIG1peGlucyBpbnRvIGluZGl2aWR1YWwgQ1NTIEN1c3RvbSBQcm9wZXJ0aWVzLFxuICogc28gdGhlIEFwcGx5U2hpbSBjYW4gYmUgc2tpcHBlZCBlbnRpcmVseS5cbiAqIC0gVW5kZXIgbmF0aXZlIFNoYWRvd0RPTSwgdGhlIHN0eWxlIHRleHQgY2FuIGp1c3QgYmUgY29waWVkIGludG8gZWFjaCBpbnN0YW5jZVxuICogd2l0aG91dCBtb2RpZmljYXRpb25cbiAqIC0gSWYgdGhlIGJ1aWxkIGlzIFwic2hhZHlcIiBhbmQgU2hhZHlET00gaXMgaW4gdXNlLCB0aGUgc3R5bGluZyBkb2VzIG5vdCBuZWVkXG4gKiBzY29waW5nIGJleW9uZCB0aGUgc2hpbW1pbmcgb2YgQ1NTIEN1c3RvbSBQcm9wZXJ0aWVzXG4gKlxuICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbGVtZW50SGFzQnVpbHRDc3MoZWxlbWVudCkge1xuICByZXR1cm4gZ2V0Q3NzQnVpbGQoZWxlbWVudCkgIT09ICcnO1xufVxuXG4vKipcbiAqIEZvciB0ZW1wbGF0ZXMgbWFkZSB3aXRoIHRhZ2dlZCB0ZW1wbGF0ZSBsaXRlcmFscywgcG9seW1lci1jc3MtYnVpbGQgd2lsbFxuICogaW5zZXJ0IGEgY29tbWVudCBvZiB0aGUgZm9ybSBgPCEtLWNzcy1idWlsZDpzaGFkb3ctLT5gXG4gKlxuICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEJ1aWxkQ29tbWVudChlbGVtZW50KSB7XG4gIGNvbnN0IGJ1aWxkQ29tbWVudCA9IGVsZW1lbnQubG9jYWxOYW1lID09PSAndGVtcGxhdGUnID9cbiAgICAgIC8qKiBAdHlwZSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9ICovIChlbGVtZW50KS5jb250ZW50LmZpcnN0Q2hpbGQgOlxuICAgICAgZWxlbWVudC5maXJzdENoaWxkO1xuICBpZiAoYnVpbGRDb21tZW50IGluc3RhbmNlb2YgQ29tbWVudCkge1xuICAgIGNvbnN0IGNvbW1lbnRQYXJ0cyA9IGJ1aWxkQ29tbWVudC50ZXh0Q29udGVudC50cmltKCkuc3BsaXQoJzonKTtcbiAgICBpZiAoY29tbWVudFBhcnRzWzBdID09PSBDU1NfQlVJTERfQVRUUikge1xuICAgICAgcmV0dXJuIGNvbW1lbnRQYXJ0c1sxXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBjc3MgYnVpbGQgc3RhdHVzIGlzIG9wdGltYWwsIGFuZCBkbyBubyB1bm5lZWRlZCB3b3JrLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gY3NzQnVpbGQgQ1NTIGJ1aWxkIHN0YXR1c1xuICogQHJldHVybiB7Ym9vbGVhbn0gY3NzIGJ1aWxkIGlzIG9wdGltYWwgb3Igbm90XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc09wdGltYWxDc3NCdWlsZChjc3NCdWlsZCA9ICcnKSB7XG4gIC8vIENTUyBjdXN0b20gcHJvcGVydHkgc2hpbSBhbHdheXMgcmVxdWlyZXMgd29ya1xuICBpZiAoY3NzQnVpbGQgPT09ICcnIHx8ICFuYXRpdmVDc3NWYXJpYWJsZXMpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIG5hdGl2ZVNoYWRvdyA/IGNzc0J1aWxkID09PSAnc2hhZG93JyA6IGNzc0J1aWxkID09PSAnc2hhZHknO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUJ1aWxkQ29tbWVudChlbGVtZW50KSB7XG4gIGNvbnN0IGJ1aWxkQ29tbWVudCA9IGVsZW1lbnQubG9jYWxOYW1lID09PSAndGVtcGxhdGUnID9cbiAgICAgIC8qKiBAdHlwZSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9ICovIChlbGVtZW50KS5jb250ZW50LmZpcnN0Q2hpbGQgOlxuICAgICAgZWxlbWVudC5maXJzdENoaWxkO1xuICBidWlsZENvbW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChidWlsZENvbW1lbnQpO1xufVxuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBNSVhJTl9NQVRDSCwgVkFSX0FTU0lHTiB9IGZyb20gJy4vY29tbW9uLXJlZ2V4LmpzJztcblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0PX0gcHJvcGVydGllc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlTmF0aXZlUHJvcGVydGllcyhlbGVtZW50LCBwcm9wZXJ0aWVzKSB7XG4gIC8vIHJlbW92ZSBwcmV2aW91cyBwcm9wZXJ0aWVzXG4gIGZvciAobGV0IHAgaW4gcHJvcGVydGllcykge1xuICAgIC8vIE5PVEU6IGZvciBiYyB3aXRoIHNoaW0sIGRvbid0IGFwcGx5IG51bGwgdmFsdWVzLlxuICAgIGlmIChwID09PSBudWxsKSB7XG4gICAgICBlbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KHApO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KHAsIHByb3BlcnRpZXNbcF0pO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb21wdXRlZFN0eWxlVmFsdWUoZWxlbWVudCwgcHJvcGVydHkpIHtcbiAgLyoqXG4gICAqIEBjb25zdCB7c3RyaW5nfVxuICAgKi9cbiAgY29uc3QgdmFsdWUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKHByb3BlcnR5KTtcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHJldHVybiAnJztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsdWUudHJpbSgpO1xuICB9XG59XG5cbi8qKlxuICogcmV0dXJuIHRydWUgaWYgYGNzc1RleHRgIGNvbnRhaW5zIGEgbWl4aW4gZGVmaW5pdGlvbiBvciBjb25zdW1wdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3RNaXhpbihjc3NUZXh0KSB7XG4gIGNvbnN0IGhhcyA9IE1JWElOX01BVENILnRlc3QoY3NzVGV4dCkgfHwgVkFSX0FTU0lHTi50ZXN0KGNzc1RleHQpO1xuICAvLyByZXNldCBzdGF0ZSBvZiB0aGUgcmVnZXhlc1xuICBNSVhJTl9NQVRDSC5sYXN0SW5kZXggPSAwO1xuICBWQVJfQVNTSUdOLmxhc3RJbmRleCA9IDA7XG4gIHJldHVybiBoYXM7XG59XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuLypcbiAqIFRoZSBhcHBseSBzaGltIHNpbXVsYXRlcyB0aGUgYmVoYXZpb3Igb2YgYEBhcHBseWAgcHJvcG9zZWQgYXRcbiAqIGh0dHBzOi8vdGFiYXRraW5zLmdpdGh1Yi5pby9zcGVjcy9jc3MtYXBwbHktcnVsZS8uXG4gKiBUaGUgYXBwcm9hY2ggaXMgdG8gY29udmVydCBhIHByb3BlcnR5IGxpa2UgdGhpczpcbiAqXG4gKiAgICAtLWZvbzoge2NvbG9yOiByZWQ7IGJhY2tncm91bmQ6IGJsdWU7fVxuICpcbiAqIHRvIHRoaXM6XG4gKlxuICogICAgLS1mb29fLV9jb2xvcjogcmVkO1xuICogICAgLS1mb29fLV9iYWNrZ3JvdW5kOiBibHVlO1xuICpcbiAqIFRoZW4gd2hlcmUgYEBhcHBseSAtLWZvb2AgaXMgdXNlZCwgdGhhdCBpcyBjb252ZXJ0ZWQgdG86XG4gKlxuICogICAgY29sb3I6IHZhcigtLWZvb18tX2NvbG9yKTtcbiAqICAgIGJhY2tncm91bmQ6IHZhcigtLWZvb18tX2JhY2tncm91bmQpO1xuICpcbiAqIFRoaXMgYXBwcm9hY2ggZ2VuZXJhbGx5IHdvcmtzIGJ1dCB0aGVyZSBhcmUgc29tZSBpc3N1ZXMgYW5kIGxpbWl0YXRpb25zLlxuICogQ29uc2lkZXIsIGZvciBleGFtcGxlLCB0aGF0IHNvbWV3aGVyZSAqYmV0d2Vlbiogd2hlcmUgYC0tZm9vYCBpcyBzZXQgYW5kIHVzZWQsXG4gKiBhbm90aGVyIGVsZW1lbnQgc2V0cyBpdCB0bzpcbiAqXG4gKiAgICAtLWZvbzogeyBib3JkZXI6IDJweCBzb2xpZCByZWQ7IH1cbiAqXG4gKiBXZSBtdXN0IG5vdyBlbnN1cmUgdGhhdCB0aGUgY29sb3IgYW5kIGJhY2tncm91bmQgZnJvbSB0aGUgcHJldmlvdXMgc2V0dGluZ1xuICogZG8gbm90IGFwcGx5LiBUaGlzIGlzIGFjY29tcGxpc2hlZCBieSBjaGFuZ2luZyB0aGUgcHJvcGVydHkgc2V0IHRvIHRoaXM6XG4gKlxuICogICAgLS1mb29fLV9ib3JkZXI6IDJweCBzb2xpZCByZWQ7XG4gKiAgICAtLWZvb18tX2NvbG9yOiBpbml0aWFsO1xuICogICAgLS1mb29fLV9iYWNrZ3JvdW5kOiBpbml0aWFsO1xuICpcbiAqIFRoaXMgd29ya3MgYnV0IGludHJvZHVjZXMgb25lIG5ldyBpc3N1ZS5cbiAqIENvbnNpZGVyIHRoaXMgc2V0dXAgYXQgdGhlIHBvaW50IHdoZXJlIHRoZSBgQGFwcGx5YCBpcyB1c2VkOlxuICpcbiAqICAgIGJhY2tncm91bmQ6IG9yYW5nZTtcbiAqICAgIGBAYXBwbHlgIC0tZm9vO1xuICpcbiAqIEluIHRoaXMgY2FzZSB0aGUgYmFja2dyb3VuZCB3aWxsIGJlIHVuc2V0IChpbml0aWFsKSByYXRoZXIgdGhhbiB0aGUgZGVzaXJlZFxuICogYG9yYW5nZWAuIFdlIGFkZHJlc3MgdGhpcyBieSBhbHRlcmluZyB0aGUgcHJvcGVydHkgc2V0IHRvIHVzZSBhIGZhbGxiYWNrXG4gKiB2YWx1ZSBsaWtlIHRoaXM6XG4gKlxuICogICAgY29sb3I6IHZhcigtLWZvb18tX2NvbG9yKTtcbiAqICAgIGJhY2tncm91bmQ6IHZhcigtLWZvb18tX2JhY2tncm91bmQsIG9yYW5nZSk7XG4gKiAgICBib3JkZXI6IHZhcigtLWZvb18tX2JvcmRlcik7XG4gKlxuICogTm90ZSB0aGF0IHRoZSBkZWZhdWx0IGlzIHJldGFpbmVkIGluIHRoZSBwcm9wZXJ0eSBzZXQgYW5kIHRoZSBgYmFja2dyb3VuZGAgaXNcbiAqIHRoZSBkZXNpcmVkIGBvcmFuZ2VgLiBUaGlzIGxlYWRzIHVzIHRvIGEgbGltaXRhdGlvbi5cbiAqXG4gKiBMaW1pdGF0aW9uIDE6XG5cbiAqIE9ubHkgcHJvcGVydGllcyBpbiB0aGUgcnVsZSB3aGVyZSB0aGUgYEBhcHBseWBcbiAqIGlzIHVzZWQgYXJlIGNvbnNpZGVyZWQgYXMgZGVmYXVsdCB2YWx1ZXMuXG4gKiBJZiBhbm90aGVyIHJ1bGUgbWF0Y2hlcyB0aGUgZWxlbWVudCBhbmQgc2V0cyBgYmFja2dyb3VuZGAgd2l0aFxuICogbGVzcyBzcGVjaWZpY2l0eSB0aGFuIHRoZSBydWxlIGluIHdoaWNoIGBAYXBwbHlgIGFwcGVhcnMsXG4gKiB0aGUgYGJhY2tncm91bmRgIHdpbGwgbm90IGJlIHNldC5cbiAqXG4gKiBMaW1pdGF0aW9uIDI6XG4gKlxuICogV2hlbiB1c2luZyBQb2x5bWVyJ3MgYHVwZGF0ZVN0eWxlc2AgYXBpLCBuZXcgcHJvcGVydGllcyBtYXkgbm90IGJlIHNldCBmb3JcbiAqIGBAYXBwbHlgIHByb3BlcnRpZXMuXG5cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtmb3JFYWNoUnVsZSwgcHJvY2Vzc1ZhcmlhYmxlQW5kRmFsbGJhY2ssIHJ1bGVzRm9yU3R5bGUsIHRvQ3NzVGV4dCwgZ2F0aGVyU3R5bGVUZXh0fSBmcm9tICcuL3N0eWxlLXV0aWwuanMnO1xuaW1wb3J0IHtNSVhJTl9NQVRDSCwgVkFSX0FTU0lHTn0gZnJvbSAnLi9jb21tb24tcmVnZXguanMnO1xuaW1wb3J0IHtkZXRlY3RNaXhpbn0gZnJvbSAnLi9jb21tb24tdXRpbHMuanMnO1xuaW1wb3J0IHtTdHlsZU5vZGV9IGZyb20gJy4vY3NzLXBhcnNlLmpzJzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG5jb25zdCBBUFBMWV9OQU1FX0NMRUFOID0gLztcXHMqL207XG5jb25zdCBJTklUSUFMX0lOSEVSSVQgPSAvXlxccyooaW5pdGlhbCl8KGluaGVyaXQpXFxzKiQvO1xuY29uc3QgSU1QT1JUQU5UID0gL1xccyohaW1wb3J0YW50LztcblxuLy8gc2VwYXJhdG9yIHVzZWQgYmV0d2VlbiBtaXhpbi1uYW1lIGFuZCBtaXhpbi1wcm9wZXJ0eS1uYW1lIHdoZW4gcHJvZHVjaW5nIHByb3BlcnRpZXNcbi8vIE5PVEU6IHBsYWluICctJyBtYXkgY2F1c2UgY29sbGlzaW9ucyBpbiB1c2VyIHN0eWxlc1xuY29uc3QgTUlYSU5fVkFSX1NFUCA9ICdfLV8nO1xuXG4vKipcbiAqIEB0eXBlZGVmIHshT2JqZWN0PHN0cmluZywgc3RyaW5nPn1cbiAqL1xubGV0IFByb3BlcnR5RW50cnk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuLyoqXG4gKiBAdHlwZWRlZiB7IU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+fVxuICovXG5sZXQgRGVwZW5kYW50c0VudHJ5OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbi8qKiBAdHlwZWRlZiB7e1xuICogICAgcHJvcGVydGllczogUHJvcGVydHlFbnRyeSxcbiAqICAgIGRlcGVuZGFudHM6IERlcGVuZGFudHNFbnRyeVxuICogfX1cbiAqL1xubGV0IE1peGluTWFwRW50cnk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuLy8gbWFwIG9mIG1peGluIHRvIHByb3BlcnR5IG5hbWVzXG4vLyAtLWZvbzoge2JvcmRlcjogMnB4fSAtPiB7cHJvcGVydGllczogeygtLWZvbywgWydib3JkZXInXSl9LCBkZXBlbmRhbnRzOiB7J2VsZW1lbnQtbmFtZSc6IHByb3RvfX1cbmNsYXNzIE1peGluTWFwIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgIU1peGluTWFwRW50cnk+fSAqL1xuICAgIHRoaXMuX21hcCA9IHt9O1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0geyFQcm9wZXJ0eUVudHJ5fSBwcm9wc1xuICAgKi9cbiAgc2V0KG5hbWUsIHByb3BzKSB7XG4gICAgbmFtZSA9IG5hbWUudHJpbSgpO1xuICAgIHRoaXMuX21hcFtuYW1lXSA9IHtcbiAgICAgIHByb3BlcnRpZXM6IHByb3BzLFxuICAgICAgZGVwZW5kYW50czoge31cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEByZXR1cm4ge01peGluTWFwRW50cnl9XG4gICAqL1xuICBnZXQobmFtZSkge1xuICAgIG5hbWUgPSBuYW1lLnRyaW0oKTtcbiAgICByZXR1cm4gdGhpcy5fbWFwW25hbWVdIHx8IG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3Igd2hlbiBhbiBlbGVtZW50IGlzIG1hcmtlZCBpbnZhbGlkXG4gKiBAdHlwZSB7P2Z1bmN0aW9uKHN0cmluZyl9XG4gKi9cbmxldCBpbnZhbGlkQ2FsbGJhY2sgPSBudWxsO1xuXG4vKiogQHVucmVzdHJpY3RlZCAqL1xuY2xhc3MgQXBwbHlTaGltIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqIEB0eXBlIHs/c3RyaW5nfSAqL1xuICAgIHRoaXMuX2N1cnJlbnRFbGVtZW50ID0gbnVsbDtcbiAgICAvKiogQHR5cGUge0hUTUxNZXRhRWxlbWVudH0gKi9cbiAgICB0aGlzLl9tZWFzdXJlRWxlbWVudCA9IG51bGw7XG4gICAgdGhpcy5fbWFwID0gbmV3IE1peGluTWFwKCk7XG4gIH1cbiAgLyoqXG4gICAqIHJldHVybiB0cnVlIGlmIGBjc3NUZXh0YCBjb250YWlucyBhIG1peGluIGRlZmluaXRpb24gb3IgY29uc3VtcHRpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHRcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGRldGVjdE1peGluKGNzc1RleHQpIHtcbiAgICByZXR1cm4gZGV0ZWN0TWl4aW4oY3NzVGV4dCk7XG4gIH1cblxuICAvKipcbiAgICogR2F0aGVyIHN0eWxlcyBpbnRvIG9uZSBzdHlsZSBmb3IgZWFzaWVyIHByb2Nlc3NpbmdcbiAgICogQHBhcmFtIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGVcbiAgICogQHJldHVybiB7SFRNTFN0eWxlRWxlbWVudH1cbiAgICovXG4gIGdhdGhlclN0eWxlcyh0ZW1wbGF0ZSkge1xuICAgIGNvbnN0IHN0eWxlVGV4dCA9IGdhdGhlclN0eWxlVGV4dCh0ZW1wbGF0ZS5jb250ZW50KTtcbiAgICBpZiAoc3R5bGVUZXh0KSB7XG4gICAgICBjb25zdCBzdHlsZSA9IC8qKiBAdHlwZSB7IUhUTUxTdHlsZUVsZW1lbnR9ICovKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJykpO1xuICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBzdHlsZVRleHQ7XG4gICAgICB0ZW1wbGF0ZS5jb250ZW50Lmluc2VydEJlZm9yZShzdHlsZSwgdGVtcGxhdGUuY29udGVudC5maXJzdENoaWxkKTtcbiAgICAgIHJldHVybiBzdHlsZTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50TmFtZVxuICAgKiBAcmV0dXJuIHtTdHlsZU5vZGV9XG4gICAqL1xuICB0cmFuc2Zvcm1UZW1wbGF0ZSh0ZW1wbGF0ZSwgZWxlbWVudE5hbWUpIHtcbiAgICBpZiAodGVtcGxhdGUuX2dhdGhlcmVkU3R5bGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGVtcGxhdGUuX2dhdGhlcmVkU3R5bGUgPSB0aGlzLmdhdGhlclN0eWxlcyh0ZW1wbGF0ZSk7XG4gICAgfVxuICAgIC8qKiBAdHlwZSB7SFRNTFN0eWxlRWxlbWVudH0gKi9cbiAgICBjb25zdCBzdHlsZSA9IHRlbXBsYXRlLl9nYXRoZXJlZFN0eWxlO1xuICAgIHJldHVybiBzdHlsZSA/IHRoaXMudHJhbnNmb3JtU3R5bGUoc3R5bGUsIGVsZW1lbnROYW1lKSA6IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUhUTUxTdHlsZUVsZW1lbnR9IHN0eWxlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50TmFtZVxuICAgKiBAcmV0dXJuIHtTdHlsZU5vZGV9XG4gICAqL1xuICB0cmFuc2Zvcm1TdHlsZShzdHlsZSwgZWxlbWVudE5hbWUgPSAnJykge1xuICAgIGxldCBhc3QgPSBydWxlc0ZvclN0eWxlKHN0eWxlKTtcbiAgICB0aGlzLnRyYW5zZm9ybVJ1bGVzKGFzdCwgZWxlbWVudE5hbWUpO1xuICAgIHN0eWxlLnRleHRDb250ZW50ID0gdG9Dc3NUZXh0KGFzdCk7XG4gICAgcmV0dXJuIGFzdDtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHshSFRNTFN0eWxlRWxlbWVudH0gc3R5bGVcbiAgICogQHJldHVybiB7U3R5bGVOb2RlfVxuICAgKi9cbiAgdHJhbnNmb3JtQ3VzdG9tU3R5bGUoc3R5bGUpIHtcbiAgICBsZXQgYXN0ID0gcnVsZXNGb3JTdHlsZShzdHlsZSk7XG4gICAgZm9yRWFjaFJ1bGUoYXN0LCAocnVsZSkgPT4ge1xuICAgICAgaWYgKHJ1bGVbJ3NlbGVjdG9yJ10gPT09ICc6cm9vdCcpIHtcbiAgICAgICAgcnVsZVsnc2VsZWN0b3InXSA9ICdodG1sJztcbiAgICAgIH1cbiAgICAgIHRoaXMudHJhbnNmb3JtUnVsZShydWxlKTtcbiAgICB9KVxuICAgIHN0eWxlLnRleHRDb250ZW50ID0gdG9Dc3NUZXh0KGFzdCk7XG4gICAgcmV0dXJuIGFzdDtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtTdHlsZU5vZGV9IHJ1bGVzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50TmFtZVxuICAgKi9cbiAgdHJhbnNmb3JtUnVsZXMocnVsZXMsIGVsZW1lbnROYW1lKSB7XG4gICAgdGhpcy5fY3VycmVudEVsZW1lbnQgPSBlbGVtZW50TmFtZTtcbiAgICBmb3JFYWNoUnVsZShydWxlcywgKHIpID0+IHtcbiAgICAgIHRoaXMudHJhbnNmb3JtUnVsZShyKTtcbiAgICB9KTtcbiAgICB0aGlzLl9jdXJyZW50RWxlbWVudCA9IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVN0eWxlTm9kZX0gcnVsZVxuICAgKi9cbiAgdHJhbnNmb3JtUnVsZShydWxlKSB7XG4gICAgcnVsZVsnY3NzVGV4dCddID0gdGhpcy50cmFuc2Zvcm1Dc3NUZXh0KHJ1bGVbJ3BhcnNlZENzc1RleHQnXSwgcnVsZSk7XG4gICAgLy8gOnJvb3Qgd2FzIG9ubHkgdXNlZCBmb3IgdmFyaWFibGUgYXNzaWdubWVudCBpbiBwcm9wZXJ0eSBzaGltLFxuICAgIC8vIGJ1dCBnZW5lcmF0ZXMgaW52YWxpZCBzZWxlY3RvcnMgd2l0aCByZWFsIHByb3BlcnRpZXMuXG4gICAgLy8gcmVwbGFjZSB3aXRoIGA6aG9zdCA+ICpgLCB3aGljaCBzZXJ2ZXMgdGhlIHNhbWUgZWZmZWN0XG4gICAgaWYgKHJ1bGVbJ3NlbGVjdG9yJ10gPT09ICc6cm9vdCcpIHtcbiAgICAgIHJ1bGVbJ3NlbGVjdG9yJ10gPSAnOmhvc3QgPiAqJztcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjc3NUZXh0XG4gICAqIEBwYXJhbSB7IVN0eWxlTm9kZX0gcnVsZVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICB0cmFuc2Zvcm1Dc3NUZXh0KGNzc1RleHQsIHJ1bGUpIHtcbiAgICAvLyBwcm9kdWNlIHZhcmlhYmxlc1xuICAgIGNzc1RleHQgPSBjc3NUZXh0LnJlcGxhY2UoVkFSX0FTU0lHTiwgKG1hdGNoVGV4dCwgcHJvcGVydHlOYW1lLCB2YWx1ZVByb3BlcnR5LCB2YWx1ZU1peGluKSA9PlxuICAgICAgdGhpcy5fcHJvZHVjZUNzc1Byb3BlcnRpZXMobWF0Y2hUZXh0LCBwcm9wZXJ0eU5hbWUsIHZhbHVlUHJvcGVydHksIHZhbHVlTWl4aW4sIHJ1bGUpKTtcbiAgICAvLyBjb25zdW1lIG1peGluc1xuICAgIHJldHVybiB0aGlzLl9jb25zdW1lQ3NzUHJvcGVydGllcyhjc3NUZXh0LCBydWxlKTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5XG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIF9nZXRJbml0aWFsVmFsdWVGb3JQcm9wZXJ0eShwcm9wZXJ0eSkge1xuICAgIGlmICghdGhpcy5fbWVhc3VyZUVsZW1lbnQpIHtcbiAgICAgIHRoaXMuX21lYXN1cmVFbGVtZW50ID0gLyoqIEB0eXBlIHtIVE1MTWV0YUVsZW1lbnR9ICovKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ21ldGEnKSk7XG4gICAgICB0aGlzLl9tZWFzdXJlRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FwcGx5LXNoaW0tbWVhc3VyZScsICcnKTtcbiAgICAgIHRoaXMuX21lYXN1cmVFbGVtZW50LnN0eWxlLmFsbCA9ICdpbml0aWFsJztcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGhpcy5fbWVhc3VyZUVsZW1lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5fbWVhc3VyZUVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUocHJvcGVydHkpO1xuICB9XG4gIC8qKlxuICAgKiBXYWxrIG92ZXIgYWxsIHJ1bGVzIGJlZm9yZSB0aGlzIHJ1bGUgdG8gZmluZCBmYWxsYmFja3MgZm9yIG1peGluc1xuICAgKlxuICAgKiBAcGFyYW0geyFTdHlsZU5vZGV9IHN0YXJ0UnVsZVxuICAgKiBAcmV0dXJuIHshT2JqZWN0fVxuICAgKi9cbiAgX2ZhbGxiYWNrc0Zyb21QcmV2aW91c1J1bGVzKHN0YXJ0UnVsZSkge1xuICAgIC8vIGZpbmQgdGhlIFwidG9wXCIgcnVsZVxuICAgIGxldCB0b3BSdWxlID0gc3RhcnRSdWxlO1xuICAgIHdoaWxlICh0b3BSdWxlWydwYXJlbnQnXSkge1xuICAgICAgdG9wUnVsZSA9IHRvcFJ1bGVbJ3BhcmVudCddO1xuICAgIH1cbiAgICBjb25zdCBmYWxsYmFja3MgPSB7fTtcbiAgICBsZXQgc2VlblN0YXJ0UnVsZSA9IGZhbHNlO1xuICAgIGZvckVhY2hSdWxlKHRvcFJ1bGUsIChyKSA9PiB7XG4gICAgICAvLyBzdG9wIHdoZW4gd2UgaGl0IHRoZSBpbnB1dCBydWxlXG4gICAgICBzZWVuU3RhcnRSdWxlID0gc2VlblN0YXJ0UnVsZSB8fCByID09PSBzdGFydFJ1bGU7XG4gICAgICBpZiAoc2VlblN0YXJ0UnVsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBOT1RFOiBPbmx5IG1hdGNoaW5nIHNlbGVjdG9ycyBhcmUgXCJzYWZlXCIgZm9yIHRoaXMgZmFsbGJhY2sgcHJvY2Vzc2luZ1xuICAgICAgLy8gSXQgd291bGQgYmUgcHJvaGliaXRpdmUgdG8gcnVuIGBtYXRjaGVzU2VsZWN0b3IoKWAgb24gZWFjaCBzZWxlY3RvcixcbiAgICAgIC8vIHNvIHdlIGNoZWF0IGFuZCBvbmx5IGNoZWNrIGlmIHRoZSBzYW1lIHNlbGVjdG9yIHN0cmluZyBpcyB1c2VkLCB3aGljaFxuICAgICAgLy8gZ3VhcmFudGVlcyB0aGluZ3MgbGlrZSBzcGVjaWZpY2l0eSBtYXRjaGluZ1xuICAgICAgaWYgKHJbJ3NlbGVjdG9yJ10gPT09IHN0YXJ0UnVsZVsnc2VsZWN0b3InXSkge1xuICAgICAgICBPYmplY3QuYXNzaWduKGZhbGxiYWNrcywgdGhpcy5fY3NzVGV4dFRvTWFwKHJbJ3BhcnNlZENzc1RleHQnXSkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmYWxsYmFja3M7XG4gIH1cbiAgLyoqXG4gICAqIHJlcGxhY2UgbWl4aW4gY29uc3VtcHRpb24gd2l0aCB2YXJpYWJsZSBjb25zdW1wdGlvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICAgKiBAcGFyYW0geyFTdHlsZU5vZGU9fSBydWxlXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIF9jb25zdW1lQ3NzUHJvcGVydGllcyh0ZXh0LCBydWxlKSB7XG4gICAgLyoqIEB0eXBlIHtBcnJheX0gKi9cbiAgICBsZXQgbSA9IG51bGw7XG4gICAgLy8gbG9vcCBvdmVyIHRleHQgdW50aWwgYWxsIG1peGlucyB3aXRoIGRlZmludGlvbnMgaGF2ZSBiZWVuIGFwcGxpZWRcbiAgICB3aGlsZSgobSA9IE1JWElOX01BVENILmV4ZWModGV4dCkpKSB7XG4gICAgICBsZXQgbWF0Y2hUZXh0ID0gbVswXTtcbiAgICAgIGxldCBtaXhpbk5hbWUgPSBtWzFdO1xuICAgICAgbGV0IGlkeCA9IG0uaW5kZXg7XG4gICAgICAvLyBjb2xsZWN0IHByb3BlcnRpZXMgYmVmb3JlIGFwcGx5IHRvIGJlIFwiZGVmYXVsdHNcIiBpZiBtaXhpbiBtaWdodCBvdmVycmlkZSB0aGVtXG4gICAgICAvLyBtYXRjaCBpbmNsdWRlcyBhIFwicHJlZml4XCIsIHNvIGZpbmQgdGhlIHN0YXJ0IGFuZCBlbmQgcG9zaXRpb25zIG9mIEBhcHBseVxuICAgICAgbGV0IGFwcGx5UG9zID0gaWR4ICsgbWF0Y2hUZXh0LmluZGV4T2YoJ0BhcHBseScpO1xuICAgICAgbGV0IGFmdGVyQXBwbHlQb3MgPSBpZHggKyBtYXRjaFRleHQubGVuZ3RoO1xuICAgICAgLy8gZmluZCBwcm9wcyBkZWZpbmVkIGJlZm9yZSB0aGlzIEBhcHBseVxuICAgICAgbGV0IHRleHRCZWZvcmVBcHBseSA9IHRleHQuc2xpY2UoMCwgYXBwbHlQb3MpO1xuICAgICAgbGV0IHRleHRBZnRlckFwcGx5ID0gdGV4dC5zbGljZShhZnRlckFwcGx5UG9zKTtcbiAgICAgIGxldCBkZWZhdWx0cyA9IHJ1bGUgPyB0aGlzLl9mYWxsYmFja3NGcm9tUHJldmlvdXNSdWxlcyhydWxlKSA6IHt9O1xuICAgICAgT2JqZWN0LmFzc2lnbihkZWZhdWx0cywgdGhpcy5fY3NzVGV4dFRvTWFwKHRleHRCZWZvcmVBcHBseSkpO1xuICAgICAgbGV0IHJlcGxhY2VtZW50ID0gdGhpcy5fYXRBcHBseVRvQ3NzUHJvcGVydGllcyhtaXhpbk5hbWUsIGRlZmF1bHRzKTtcbiAgICAgIC8vIHVzZSByZWdleCBtYXRjaCBwb3NpdGlvbiB0byByZXBsYWNlIG1peGluLCBrZWVwIGxpbmVhciBwcm9jZXNzaW5nIHRpbWVcbiAgICAgIHRleHQgPSBgJHt0ZXh0QmVmb3JlQXBwbHl9JHtyZXBsYWNlbWVudH0ke3RleHRBZnRlckFwcGx5fWA7XG4gICAgICAvLyBtb3ZlIHJlZ2V4IHNlYXJjaCB0byBfYWZ0ZXJfIHJlcGxhY2VtZW50XG4gICAgICBNSVhJTl9NQVRDSC5sYXN0SW5kZXggPSBpZHggKyByZXBsYWNlbWVudC5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiB0ZXh0O1xuICB9XG4gIC8qKlxuICAgKiBwcm9kdWNlIHZhcmlhYmxlIGNvbnN1bXB0aW9uIGF0IHRoZSBzaXRlIG9mIG1peGluIGNvbnN1bXB0aW9uXG4gICAqIGBAYXBwbHlgIC0tZm9vOyAtPiBmb3IgYWxsIHByb3BzICgke3Byb3BuYW1lfTogdmFyKC0tZm9vXy1fJHtwcm9wbmFtZX0sICR7ZmFsbGJhY2tbcHJvcG5hbWVdfX0pKVxuICAgKiBFeGFtcGxlOlxuICAgKiAgYm9yZGVyOiB2YXIoLS1mb29fLV9ib3JkZXIpOyBwYWRkaW5nOiB2YXIoLS1mb29fLV9wYWRkaW5nLCAycHgpXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtaXhpbk5hbWVcbiAgICogQHBhcmFtIHtPYmplY3R9IGZhbGxiYWNrc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICBfYXRBcHBseVRvQ3NzUHJvcGVydGllcyhtaXhpbk5hbWUsIGZhbGxiYWNrcykge1xuICAgIG1peGluTmFtZSA9IG1peGluTmFtZS5yZXBsYWNlKEFQUExZX05BTUVfQ0xFQU4sICcnKTtcbiAgICBsZXQgdmFycyA9IFtdO1xuICAgIGxldCBtaXhpbkVudHJ5ID0gdGhpcy5fbWFwLmdldChtaXhpbk5hbWUpO1xuICAgIC8vIGlmIHdlIGRlcGVuZCBvbiBhIG1peGluIGJlZm9yZSBpdCBpcyBjcmVhdGVkXG4gICAgLy8gbWFrZSBhIHNlbnRpbmVsIGVudHJ5IGluIHRoZSBtYXAgdG8gYWRkIHRoaXMgZWxlbWVudCBhcyBhIGRlcGVuZGVuY3kgZm9yIHdoZW4gaXQgaXMgZGVmaW5lZC5cbiAgICBpZiAoIW1peGluRW50cnkpIHtcbiAgICAgIHRoaXMuX21hcC5zZXQobWl4aW5OYW1lLCB7fSk7XG4gICAgICBtaXhpbkVudHJ5ID0gdGhpcy5fbWFwLmdldChtaXhpbk5hbWUpO1xuICAgIH1cbiAgICBpZiAobWl4aW5FbnRyeSkge1xuICAgICAgaWYgKHRoaXMuX2N1cnJlbnRFbGVtZW50KSB7XG4gICAgICAgIG1peGluRW50cnkuZGVwZW5kYW50c1t0aGlzLl9jdXJyZW50RWxlbWVudF0gPSB0cnVlO1xuICAgICAgfVxuICAgICAgbGV0IHAsIHBhcnRzLCBmO1xuICAgICAgY29uc3QgcHJvcGVydGllcyA9IG1peGluRW50cnkucHJvcGVydGllcztcbiAgICAgIGZvciAocCBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGYgPSBmYWxsYmFja3MgJiYgZmFsbGJhY2tzW3BdO1xuICAgICAgICBwYXJ0cyA9IFtwLCAnOiB2YXIoJywgbWl4aW5OYW1lLCBNSVhJTl9WQVJfU0VQLCBwXTtcbiAgICAgICAgaWYgKGYpIHtcbiAgICAgICAgICBwYXJ0cy5wdXNoKCcsJywgZi5yZXBsYWNlKElNUE9SVEFOVCwgJycpKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJ0cy5wdXNoKCcpJyk7XG4gICAgICAgIGlmIChJTVBPUlRBTlQudGVzdChwcm9wZXJ0aWVzW3BdKSkge1xuICAgICAgICAgIHBhcnRzLnB1c2goJyAhaW1wb3J0YW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFycy5wdXNoKHBhcnRzLmpvaW4oJycpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhcnMuam9pbignOyAnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIF9yZXBsYWNlSW5pdGlhbE9ySW5oZXJpdChwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICBsZXQgbWF0Y2ggPSBJTklUSUFMX0lOSEVSSVQuZXhlYyh2YWx1ZSk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICBpZiAobWF0Y2hbMV0pIHtcbiAgICAgICAgLy8gaW5pdGlhbFxuICAgICAgICAvLyByZXBsYWNlIGBpbml0aWFsYCB3aXRoIHRoZSBjb25jcmV0ZSBpbml0aWFsIHZhbHVlIGZvciB0aGlzIHByb3BlcnR5XG4gICAgICAgIHZhbHVlID0gdGhpcy5fZ2V0SW5pdGlhbFZhbHVlRm9yUHJvcGVydHkocHJvcGVydHkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaW5oZXJpdFxuICAgICAgICAvLyB3aXRoIHRoaXMgcHVycG9zZnVsbHkgaWxsZWdhbCB2YWx1ZSwgdGhlIHZhcmlhYmxlIHdpbGwgYmUgaW52YWxpZCBhdFxuICAgICAgICAvLyBjb21wdXRlIHRpbWUgKGh0dHBzOi8vd3d3LnczLm9yZy9UUi9jc3MtdmFyaWFibGVzLyNpbnZhbGlkLWF0LWNvbXB1dGVkLXZhbHVlLXRpbWUpXG4gICAgICAgIC8vIGFuZCBmb3IgaW5oZXJpdGluZyB2YWx1ZXMsIHdpbGwgYmVoYXZlIHNpbWlsYXJseVxuICAgICAgICAvLyB3ZSBjYW5ub3Qgc3VwcG9ydCB0aGUgc2FtZSBiZWhhdmlvciBmb3Igbm9uIGluaGVyaXRpbmcgdmFsdWVzIGxpa2UgJ2JvcmRlcidcbiAgICAgICAgdmFsdWUgPSAnYXBwbHktc2hpbS1pbmhlcml0JztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFwicGFyc2VcIiBhIG1peGluIGRlZmluaXRpb24gaW50byBhIG1hcCBvZiBwcm9wZXJ0aWVzIGFuZCB2YWx1ZXNcbiAgICogY3NzVGV4dFRvTWFwKCdib3JkZXI6IDJweCBzb2xpZCBibGFjaycpIC0+ICgnYm9yZGVyJywgJzJweCBzb2xpZCBibGFjaycpXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IHJlcGxhY2VJbml0aWFsT3JJbmhlcml0XG4gICAqIEByZXR1cm4geyFPYmplY3Q8c3RyaW5nLCBzdHJpbmc+fVxuICAgKi9cbiAgX2Nzc1RleHRUb01hcCh0ZXh0LCByZXBsYWNlSW5pdGlhbE9ySW5oZXJpdCA9IGZhbHNlKSB7XG4gICAgbGV0IHByb3BzID0gdGV4dC5zcGxpdCgnOycpO1xuICAgIGxldCBwcm9wZXJ0eSwgdmFsdWU7XG4gICAgbGV0IG91dCA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwLCBwLCBzcDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBwID0gcHJvcHNbaV07XG4gICAgICBpZiAocCkge1xuICAgICAgICBzcCA9IHAuc3BsaXQoJzonKTtcbiAgICAgICAgLy8gaWdub3JlIGxpbmVzIHRoYXQgYXJlbid0IGRlZmluaXRpb25zIGxpa2UgQG1lZGlhXG4gICAgICAgIGlmIChzcC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgcHJvcGVydHkgPSBzcFswXS50cmltKCk7XG4gICAgICAgICAgLy8gc29tZSBwcm9wZXJ0aWVzIG1heSBoYXZlICc6JyBpbiB0aGUgdmFsdWUsIGxpa2UgZGF0YSB1cmxzXG4gICAgICAgICAgdmFsdWUgPSBzcC5zbGljZSgxKS5qb2luKCc6Jyk7XG4gICAgICAgICAgaWYgKHJlcGxhY2VJbml0aWFsT3JJbmhlcml0KSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX3JlcGxhY2VJbml0aWFsT3JJbmhlcml0KHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG91dFtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TWl4aW5NYXBFbnRyeX0gbWl4aW5FbnRyeVxuICAgKi9cbiAgX2ludmFsaWRhdGVNaXhpbkVudHJ5KG1peGluRW50cnkpIHtcbiAgICBpZiAoIWludmFsaWRDYWxsYmFjaykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGxldCBlbGVtZW50TmFtZSBpbiBtaXhpbkVudHJ5LmRlcGVuZGFudHMpIHtcbiAgICAgIGlmIChlbGVtZW50TmFtZSAhPT0gdGhpcy5fY3VycmVudEVsZW1lbnQpIHtcbiAgICAgICAgaW52YWxpZENhbGxiYWNrKGVsZW1lbnROYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1hdGNoVGV4dFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlOYW1lXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gdmFsdWVQcm9wZXJ0eVxuICAgKiBAcGFyYW0gez9zdHJpbmd9IHZhbHVlTWl4aW5cbiAgICogQHBhcmFtIHshU3R5bGVOb2RlfSBydWxlXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIF9wcm9kdWNlQ3NzUHJvcGVydGllcyhtYXRjaFRleHQsIHByb3BlcnR5TmFtZSwgdmFsdWVQcm9wZXJ0eSwgdmFsdWVNaXhpbiwgcnVsZSkge1xuICAgIC8vIGhhbmRsZSBjYXNlIHdoZXJlIHByb3BlcnR5IHZhbHVlIGlzIGEgbWl4aW5cbiAgICBpZiAodmFsdWVQcm9wZXJ0eSkge1xuICAgICAgLy8gZm9ybTogLS1taXhpbjI6IHZhcigtLW1peGluMSksIHdoZXJlIC0tbWl4aW4xIGlzIGluIHRoZSBtYXBcbiAgICAgIHByb2Nlc3NWYXJpYWJsZUFuZEZhbGxiYWNrKHZhbHVlUHJvcGVydHksIChwcmVmaXgsIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZSAmJiB0aGlzLl9tYXAuZ2V0KHZhbHVlKSkge1xuICAgICAgICAgIHZhbHVlTWl4aW4gPSBgQGFwcGx5ICR7dmFsdWV9O2BcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghdmFsdWVNaXhpbikge1xuICAgICAgcmV0dXJuIG1hdGNoVGV4dDtcbiAgICB9XG4gICAgbGV0IG1peGluQXNQcm9wZXJ0aWVzID0gdGhpcy5fY29uc3VtZUNzc1Byb3BlcnRpZXMoJycgKyB2YWx1ZU1peGluLCBydWxlKTtcbiAgICBsZXQgcHJlZml4ID0gbWF0Y2hUZXh0LnNsaWNlKDAsIG1hdGNoVGV4dC5pbmRleE9mKCctLScpKTtcbiAgICAvLyBgaW5pdGlhbGAgYW5kIGBpbmhlcml0YCBhcyBwcm9wZXJ0aWVzIGluIGEgbWFwIHNob3VsZCBiZSByZXBsYWNlZCBiZWNhdXNlXG4gICAgLy8gdGhlc2Uga2V5d29yZHMgYXJlIGVhZ2VybHkgZXZhbHVhdGVkIHdoZW4gdGhlIG1peGluIGJlY29tZXMgQ1NTIEN1c3RvbSBQcm9wZXJ0aWVzLFxuICAgIC8vIGFuZCB3b3VsZCBzZXQgdGhlIHZhcmlhYmxlIHZhbHVlLCByYXRoZXIgdGhhbiBjYXJyeSB0aGUga2V5d29yZCB0byB0aGUgYHZhcigpYCB1c2FnZS5cbiAgICBsZXQgbWl4aW5WYWx1ZXMgPSB0aGlzLl9jc3NUZXh0VG9NYXAobWl4aW5Bc1Byb3BlcnRpZXMsIHRydWUpO1xuICAgIGxldCBjb21iaW5lZFByb3BzID0gbWl4aW5WYWx1ZXM7XG4gICAgbGV0IG1peGluRW50cnkgPSB0aGlzLl9tYXAuZ2V0KHByb3BlcnR5TmFtZSk7XG4gICAgbGV0IG9sZFByb3BzID0gbWl4aW5FbnRyeSAmJiBtaXhpbkVudHJ5LnByb3BlcnRpZXM7XG4gICAgaWYgKG9sZFByb3BzKSB7XG4gICAgICAvLyBOT1RFOiBzaW5jZSB3ZSB1c2UgbWl4aW4sIHRoZSBtYXAgb2YgcHJvcGVydGllcyBpcyB1cGRhdGVkIGhlcmVcbiAgICAgIC8vIGFuZCB0aGlzIGlzIHdoYXQgd2Ugd2FudC5cbiAgICAgIGNvbWJpbmVkUHJvcHMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUob2xkUHJvcHMpLCBtaXhpblZhbHVlcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX21hcC5zZXQocHJvcGVydHlOYW1lLCBjb21iaW5lZFByb3BzKTtcbiAgICB9XG4gICAgbGV0IG91dCA9IFtdO1xuICAgIGxldCBwLCB2O1xuICAgIC8vIHNldCB2YXJpYWJsZXMgZGVmaW5lZCBieSBjdXJyZW50IG1peGluXG4gICAgbGV0IG5lZWRUb0ludmFsaWRhdGUgPSBmYWxzZTtcbiAgICBmb3IgKHAgaW4gY29tYmluZWRQcm9wcykge1xuICAgICAgdiA9IG1peGluVmFsdWVzW3BdO1xuICAgICAgLy8gaWYgcHJvcGVydHkgbm90IGRlZmluZWQgYnkgY3VycmVudCBtaXhpbiwgc2V0IGluaXRpYWxcbiAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdiA9ICdpbml0aWFsJztcbiAgICAgIH1cbiAgICAgIGlmIChvbGRQcm9wcyAmJiAhKHAgaW4gb2xkUHJvcHMpKSB7XG4gICAgICAgIG5lZWRUb0ludmFsaWRhdGUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgb3V0LnB1c2goYCR7cHJvcGVydHlOYW1lfSR7TUlYSU5fVkFSX1NFUH0ke3B9OiAke3Z9YCk7XG4gICAgfVxuICAgIGlmIChuZWVkVG9JbnZhbGlkYXRlKSB7XG4gICAgICB0aGlzLl9pbnZhbGlkYXRlTWl4aW5FbnRyeShtaXhpbkVudHJ5KTtcbiAgICB9XG4gICAgaWYgKG1peGluRW50cnkpIHtcbiAgICAgIG1peGluRW50cnkucHJvcGVydGllcyA9IGNvbWJpbmVkUHJvcHM7XG4gICAgfVxuICAgIC8vIGJlY2F1c2UgdGhlIG1peGluTWFwIGlzIGdsb2JhbCwgdGhlIG1peGluIG1pZ2h0IGNvbmZsaWN0IHdpdGhcbiAgICAvLyBhIGRpZmZlcmVudCBzY29wZSdzIHNpbXBsZSB2YXJpYWJsZSBkZWZpbml0aW9uOlxuICAgIC8vIEV4YW1wbGU6XG4gICAgLy8gc29tZSBzdHlsZSBzb21ld2hlcmU6XG4gICAgLy8gLS1taXhpbjE6eyAuLi4gfVxuICAgIC8vIC0tbWl4aW4yOiB2YXIoLS1taXhpbjEpO1xuICAgIC8vIHNvbWUgb3RoZXIgZWxlbWVudDpcbiAgICAvLyAtLW1peGluMTogMTBweCBzb2xpZCByZWQ7XG4gICAgLy8gLS1mb286IHZhcigtLW1peGluMSk7XG4gICAgLy8gSW4gdGhpcyBjYXNlLCB3ZSBsZWF2ZSB0aGUgb3JpZ2luYWwgdmFyaWFibGUgZGVmaW5pdGlvbiBpbiBwbGFjZS5cbiAgICBpZiAodmFsdWVQcm9wZXJ0eSkge1xuICAgICAgcHJlZml4ID0gYCR7bWF0Y2hUZXh0fTske3ByZWZpeH1gO1xuICAgIH1cbiAgICByZXR1cm4gYCR7cHJlZml4fSR7b3V0LmpvaW4oJzsgJyl9O2A7XG4gIH1cbn1cblxuLyogZXhwb3J0cyAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tc2VsZi1hc3NpZ24gKi9cbkFwcGx5U2hpbS5wcm90b3R5cGVbJ2RldGVjdE1peGluJ10gPSBBcHBseVNoaW0ucHJvdG90eXBlLmRldGVjdE1peGluO1xuQXBwbHlTaGltLnByb3RvdHlwZVsndHJhbnNmb3JtU3R5bGUnXSA9IEFwcGx5U2hpbS5wcm90b3R5cGUudHJhbnNmb3JtU3R5bGU7XG5BcHBseVNoaW0ucHJvdG90eXBlWyd0cmFuc2Zvcm1DdXN0b21TdHlsZSddID0gQXBwbHlTaGltLnByb3RvdHlwZS50cmFuc2Zvcm1DdXN0b21TdHlsZTtcbkFwcGx5U2hpbS5wcm90b3R5cGVbJ3RyYW5zZm9ybVJ1bGVzJ10gPSBBcHBseVNoaW0ucHJvdG90eXBlLnRyYW5zZm9ybVJ1bGVzO1xuQXBwbHlTaGltLnByb3RvdHlwZVsndHJhbnNmb3JtUnVsZSddID0gQXBwbHlTaGltLnByb3RvdHlwZS50cmFuc2Zvcm1SdWxlO1xuQXBwbHlTaGltLnByb3RvdHlwZVsndHJhbnNmb3JtVGVtcGxhdGUnXSA9IEFwcGx5U2hpbS5wcm90b3R5cGUudHJhbnNmb3JtVGVtcGxhdGU7XG5BcHBseVNoaW0ucHJvdG90eXBlWydfc2VwYXJhdG9yJ10gPSBNSVhJTl9WQVJfU0VQO1xuLyogZXNsaW50LWVuYWJsZSBuby1zZWxmLWFzc2lnbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcGx5U2hpbS5wcm90b3R5cGUsICdpbnZhbGlkQ2FsbGJhY2snLCB7XG4gIC8qKiBAcmV0dXJuIHs/ZnVuY3Rpb24oc3RyaW5nKX0gKi9cbiAgZ2V0KCkge1xuICAgIHJldHVybiBpbnZhbGlkQ2FsbGJhY2s7XG4gIH0sXG4gIC8qKiBAcGFyYW0gez9mdW5jdGlvbihzdHJpbmcpfSBjYiAqL1xuICBzZXQoY2IpIHtcbiAgICBpbnZhbGlkQ2FsbGJhY2sgPSBjYjtcbiAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEFwcGx5U2hpbTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAY29uc3QgeyFPYmplY3Q8c3RyaW5nLCAhSFRNTFRlbXBsYXRlRWxlbWVudD59XG4gKi9cbmNvbnN0IHRlbXBsYXRlTWFwID0ge307XG5leHBvcnQgZGVmYXVsdCB0ZW1wbGF0ZU1hcDtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB0ZW1wbGF0ZU1hcCBmcm9tICcuL3RlbXBsYXRlLW1hcC5qcyc7XG5pbXBvcnQge1N0eWxlTm9kZX0gZnJvbSAnLi9jc3MtcGFyc2UuanMnOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbi8qXG4gKiBVdGlsaXRpZXMgZm9yIGhhbmRsaW5nIGludmFsaWRhdGluZyBhcHBseS1zaGltIG1peGlucyBmb3IgYSBnaXZlbiB0ZW1wbGF0ZS5cbiAqXG4gKiBUaGUgaW52YWxpZGF0aW9uIHN0cmF0ZWd5IGludm9sdmVzIGtlZXBpbmcgdHJhY2sgb2YgdGhlIFwiY3VycmVudFwiIHZlcnNpb24gb2YgYSB0ZW1wbGF0ZSdzIG1peGlucywgYW5kIHVwZGF0aW5nIHRoYXQgY291bnQgd2hlbiBhIG1peGluIGlzIGludmFsaWRhdGVkLlxuICogVGhlIHRlbXBsYXRlXG4gKi9cblxuLyoqIEBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgQ1VSUkVOVF9WRVJTSU9OID0gJ19hcHBseVNoaW1DdXJyZW50VmVyc2lvbic7XG5cbi8qKiBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IE5FWFRfVkVSU0lPTiA9ICdfYXBwbHlTaGltTmV4dFZlcnNpb24nO1xuXG4vKiogQGNvbnN0IHtzdHJpbmd9ICovXG5jb25zdCBWQUxJREFUSU5HX1ZFUlNJT04gPSAnX2FwcGx5U2hpbVZhbGlkYXRpbmdWZXJzaW9uJztcblxuLyoqXG4gKiBAY29uc3Qge1Byb21pc2U8dm9pZD59XG4gKi9cbmNvbnN0IHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudE5hbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmFsaWRhdGUoZWxlbWVudE5hbWUpe1xuICBsZXQgdGVtcGxhdGUgPSB0ZW1wbGF0ZU1hcFtlbGVtZW50TmFtZV07XG4gIGlmICh0ZW1wbGF0ZSkge1xuICAgIGludmFsaWRhdGVUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgdG8gbWFyayBhIHRlbXBsYXRlIGludmFsaWRcbiAqIGFuZCBzaWduYWwgdGhhdCB0aGUgc3R5bGUgaW5zaWRlIG11c3QgYmUgcmVnZW5lcmF0ZWQuXG4gKlxuICogVXNlIGBzdGFydFZhbGlkYXRpbmdUZW1wbGF0ZWAgdG8gYmVnaW4gYW4gYXN5bmNocm9ub3VzIHZhbGlkYXRpb24gY3ljbGUuXG4gKiBEdXJpbmcgdGhhdCBjeWNsZSwgY2FsbCBgdGVtcGxhdGVJc1ZhbGlkYXRpbmdgIHRvIHNlZSBpZiB0aGUgdGVtcGxhdGUgbXVzdFxuICogYmUgcmV2YWxpZGF0ZWRcbiAqIEBwYXJhbSB7SFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmFsaWRhdGVUZW1wbGF0ZSh0ZW1wbGF0ZSkge1xuICAvLyBkZWZhdWx0IHRoZSBjdXJyZW50IHZlcnNpb24gdG8gMFxuICB0ZW1wbGF0ZVtDVVJSRU5UX1ZFUlNJT05dID0gdGVtcGxhdGVbQ1VSUkVOVF9WRVJTSU9OXSB8fCAwO1xuICAvLyBlbnN1cmUgdGhlIFwidmFsaWRhdGluZyBmb3JcIiBmbGFnIGV4aXN0c1xuICB0ZW1wbGF0ZVtWQUxJREFUSU5HX1ZFUlNJT05dID0gdGVtcGxhdGVbVkFMSURBVElOR19WRVJTSU9OXSB8fCAwO1xuICAvLyBpbmNyZW1lbnQgdGhlIG5leHQgdmVyc2lvblxuICB0ZW1wbGF0ZVtORVhUX1ZFUlNJT05dID0gKHRlbXBsYXRlW05FWFRfVkVSU0lPTl0gfHwgMCkgKyAxO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50TmFtZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWQoZWxlbWVudE5hbWUpIHtcbiAgbGV0IHRlbXBsYXRlID0gdGVtcGxhdGVNYXBbZWxlbWVudE5hbWVdO1xuICBpZiAodGVtcGxhdGUpIHtcbiAgICByZXR1cm4gdGVtcGxhdGVJc1ZhbGlkKHRlbXBsYXRlKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gdGVtcGxhdGVJc1ZhbGlkKHRlbXBsYXRlKSB7XG4gIHJldHVybiB0ZW1wbGF0ZVtDVVJSRU5UX1ZFUlNJT05dID09PSB0ZW1wbGF0ZVtORVhUX1ZFUlNJT05dO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50TmFtZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRhdGluZyhlbGVtZW50TmFtZSkge1xuICBsZXQgdGVtcGxhdGUgPSB0ZW1wbGF0ZU1hcFtlbGVtZW50TmFtZV07XG4gIGlmICh0ZW1wbGF0ZSkge1xuICAgIHJldHVybiB0ZW1wbGF0ZUlzVmFsaWRhdGluZyh0ZW1wbGF0ZSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdGVtcGxhdGUgaXMgY3VycmVudGx5IGludmFsaWQgYW5kIGBzdGFydFZhbGlkYXRpbmdgIGhhcyBiZWVuIGNhbGxlZCBzaW5jZSB0aGUgbGFzdCBpbnZhbGlkYXRpb24uXG4gKiBJZiBmYWxzZSwgdGhlIHRlbXBsYXRlIG11c3QgYmUgdmFsaWRhdGVkLlxuICogQHBhcmFtIHtIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRlSXNWYWxpZGF0aW5nKHRlbXBsYXRlKSB7XG4gIHJldHVybiAhdGVtcGxhdGVJc1ZhbGlkKHRlbXBsYXRlKSAmJiB0ZW1wbGF0ZVtWQUxJREFUSU5HX1ZFUlNJT05dID09PSB0ZW1wbGF0ZVtORVhUX1ZFUlNJT05dO1xufVxuXG4vKipcbiAqIHRoZSB0ZW1wbGF0ZSBpcyBtYXJrZWQgYXMgYHZhbGlkYXRpbmdgIGZvciBvbmUgbWljcm90YXNrIHNvIHRoYXQgYWxsIGluc3RhbmNlc1xuICogZm91bmQgaW4gdGhlIHRyZWUgY3Jhd2wgb2YgYGFwcGx5U3R5bGVgIHdpbGwgdXBkYXRlIHRoZW1zZWx2ZXMsXG4gKiBidXQgdGhlIHRlbXBsYXRlIHdpbGwgb25seSBiZSB1cGRhdGVkIG9uY2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudE5hbWVcbiovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRWYWxpZGF0aW5nKGVsZW1lbnROYW1lKSB7XG4gIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlTWFwW2VsZW1lbnROYW1lXTtcbiAgc3RhcnRWYWxpZGF0aW5nVGVtcGxhdGUodGVtcGxhdGUpO1xufVxuXG4vKipcbiAqIEJlZ2luIGFuIGFzeW5jaHJvbm91cyBpbnZhbGlkYXRpb24gY3ljbGUuXG4gKiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgYWZ0ZXIgZXZlcnkgdmFsaWRhdGlvbiBvZiBhIHRlbXBsYXRlXG4gKlxuICogQWZ0ZXIgb25lIG1pY3JvdGFzaywgdGhlIHRlbXBsYXRlIHdpbGwgYmUgbWFya2VkIGFzIHZhbGlkIHVudGlsIHRoZSBuZXh0IGNhbGwgdG8gYGludmFsaWRhdGVUZW1wbGF0ZWBcbiAqIEBwYXJhbSB7SFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0VmFsaWRhdGluZ1RlbXBsYXRlKHRlbXBsYXRlKSB7XG4gIC8vIHJlbWVtYmVyIHRoYXQgdGhlIGN1cnJlbnQgXCJuZXh0IHZlcnNpb25cIiBpcyB0aGUgcmVhc29uIGZvciB0aGlzIHZhbGlkYXRpb24gY3ljbGVcbiAgdGVtcGxhdGVbVkFMSURBVElOR19WRVJTSU9OXSA9IHRlbXBsYXRlW05FWFRfVkVSU0lPTl07XG4gIC8vIGhvd2V2ZXIsIHRoZXJlIG9ubHkgbmVlZHMgdG8gYmUgb25lIGFzeW5jIHRhc2sgdG8gY2xlYXIgdGhlIGNvdW50ZXJzXG4gIGlmICghdGVtcGxhdGUuX3ZhbGlkYXRpbmcpIHtcbiAgICB0ZW1wbGF0ZS5fdmFsaWRhdGluZyA9IHRydWU7XG4gICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgLy8gc3luYyB0aGUgY3VycmVudCB2ZXJzaW9uIHRvIGxldCBmdXR1cmUgaW52YWxpZGF0aW9ucyBjYXVzZSBhIHJlZnJlc2ggY3ljbGVcbiAgICAgIHRlbXBsYXRlW0NVUlJFTlRfVkVSU0lPTl0gPSB0ZW1wbGF0ZVtORVhUX1ZFUlNJT05dO1xuICAgICAgdGVtcGxhdGUuX3ZhbGlkYXRpbmcgPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbGVtZW50c0FyZUludmFsaWQoKSB7XG4gIGZvciAobGV0IGVsZW1lbnROYW1lIGluIHRlbXBsYXRlTWFwKSB7XG4gICAgbGV0IHRlbXBsYXRlID0gdGVtcGxhdGVNYXBbZWxlbWVudE5hbWVdO1xuICAgIGlmICghdGVtcGxhdGVJc1ZhbGlkKHRlbXBsYXRlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqIEB0eXBlIHtQcm9taXNlPHZvaWQ+fSAqL1xubGV0IHJlYWR5UHJvbWlzZSA9IG51bGw7XG5cbi8qKiBAdHlwZSB7P2Z1bmN0aW9uKD9mdW5jdGlvbigpKX0gKi9cbmxldCB3aGVuUmVhZHkgPSB3aW5kb3dbJ0hUTUxJbXBvcnRzJ10gJiYgd2luZG93WydIVE1MSW1wb3J0cyddWyd3aGVuUmVhZHknXSB8fCBudWxsO1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKCl9ICovXG5sZXQgcmVzb2x2ZUZuO1xuXG4vKipcbiAqIEBwYXJhbSB7P2Z1bmN0aW9uKCl9IGNhbGxiYWNrXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRvY3VtZW50V2FpdChjYWxsYmFjaykge1xuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKSB7XG4gICAgaWYgKHdoZW5SZWFkeSkge1xuICAgICAgd2hlblJlYWR5KGNhbGxiYWNrKVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXJlYWR5UHJvbWlzZSkge1xuICAgICAgICByZWFkeVByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge3Jlc29sdmVGbiA9IHJlc29sdmV9KTtcbiAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgICAgICByZXNvbHZlRm4oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdyZWFkeXN0YXRlY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZUZuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlYWR5UHJvbWlzZS50aGVuKGZ1bmN0aW9uKCl7IGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7IH0pO1xuICAgIH1cbiAgfSk7XG59XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCBkb2N1bWVudFdhaXQgZnJvbSAnLi9kb2N1bWVudC13YWl0LmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7SFRNTFN0eWxlRWxlbWVudCB8IHtnZXRTdHlsZTogZnVuY3Rpb24oKTpIVE1MU3R5bGVFbGVtZW50fX1cbiAqL1xuZXhwb3J0IGxldCBDdXN0b21TdHlsZVByb3ZpZGVyO1xuXG5jb25zdCBTRUVOX01BUktFUiA9ICdfX3NlZW5CeVNoYWR5Q1NTJztcbmNvbnN0IENBQ0hFRF9TVFlMRSA9ICdfX3NoYWR5Q1NTQ2FjaGVkU3R5bGUnO1xuXG4vKiogQHR5cGUgez9mdW5jdGlvbighSFRNTFN0eWxlRWxlbWVudCl9ICovXG5sZXQgdHJhbnNmb3JtRm4gPSBudWxsO1xuXG4vKiogQHR5cGUgez9mdW5jdGlvbigpfSAqL1xubGV0IHZhbGlkYXRlRm4gPSBudWxsO1xuXG4vKipcblRoaXMgaW50ZXJmYWNlIGlzIHByb3ZpZGVkIHRvIGFkZCBkb2N1bWVudC1sZXZlbCA8c3R5bGU+IGVsZW1lbnRzIHRvIFNoYWR5Q1NTIGZvciBwcm9jZXNzaW5nLlxuVGhlc2Ugc3R5bGVzIG11c3QgYmUgcHJvY2Vzc2VkIGJ5IFNoYWR5Q1NTIHRvIHNpbXVsYXRlIFNoYWRvd1Jvb3QgdXBwZXItYm91bmQgZW5jYXBzdWxhdGlvbiBmcm9tIG91dHNpZGUgc3R5bGVzXG5JbiBhZGRpdGlvbiwgdGhlc2Ugc3R5bGVzIG1heSBhbHNvIG5lZWQgdG8gYmUgcHJvY2Vzc2VkIGZvciBAYXBwbHkgcnVsZXMgYW5kIENTUyBDdXN0b20gUHJvcGVydGllc1xuXG5UbyBhZGQgZG9jdW1lbnQtbGV2ZWwgc3R5bGVzIHRvIFNoYWR5Q1NTLCBvbmUgY2FuIGNhbGwgYFNoYWR5Q1NTLmFkZERvY3VtZW50U3R5bGUoc3R5bGVFbGVtZW50KWAgb3IgYFNoYWR5Q1NTLmFkZERvY3VtZW50U3R5bGUoe2dldFN0eWxlOiAoKSA9PiBzdHlsZUVsZW1lbnR9KWBcblxuSW4gYWRkaXRpb24sIGlmIHRoZSBwcm9jZXNzIHVzZWQgdG8gZGlzY292ZXIgZG9jdW1lbnQtbGV2ZWwgc3R5bGVzIGNhbiBiZSBzeW5jaHJvbm91c2x5IGZsdXNoZWQsIG9uZSBzaG91bGQgc2V0IGBTaGFkeUNTUy5kb2N1bWVudFN0eWxlRmx1c2hgLlxuVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aGVuIGNhbGN1bGF0aW5nIHN0eWxlcy5cblxuQW4gZXhhbXBsZSB1c2FnZSBvZiB0aGUgZG9jdW1lbnQtbGV2ZWwgc3R5bGluZyBhcGkgY2FuIGJlIGZvdW5kIGluIGBleGFtcGxlcy9kb2N1bWVudC1zdHlsZS1saWIuanNgXG5cbkB1bnJlc3RyaWN0ZWRcbiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDdXN0b21TdHlsZUludGVyZmFjZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8qKiBAdHlwZSB7IUFycmF5PCFDdXN0b21TdHlsZVByb3ZpZGVyPn0gKi9cbiAgICB0aGlzWydjdXN0b21TdHlsZXMnXSA9IFtdO1xuICAgIHRoaXNbJ2VucXVldWVkJ10gPSBmYWxzZTtcbiAgICAvLyBOT1RFKGRmcmVlZG0pOiB1c2UgcXVvdGVzIGhlcmUgdG8gcHJldmVudCBjbG9zdXJlIGlubGluaW5nIHRvIGBmdW5jdGlvbigpe31gO1xuICAgIGRvY3VtZW50V2FpdCgoKSA9PiB7XG4gICAgICBpZiAod2luZG93WydTaGFkeUNTUyddWydmbHVzaEN1c3RvbVN0eWxlcyddKSB7XG4gICAgICAgIHdpbmRvd1snU2hhZHlDU1MnXVsnZmx1c2hDdXN0b21TdHlsZXMnXSgpO1xuICAgICAgfVxuICAgIH0pXG4gIH1cbiAgLyoqXG4gICAqIFF1ZXVlIGEgdmFsaWRhdGlvbiBmb3IgbmV3IGN1c3RvbSBzdHlsZXMgdG8gYmF0Y2ggc3R5bGUgcmVjYWxjdWxhdGlvbnNcbiAgICovXG4gIGVucXVldWVEb2N1bWVudFZhbGlkYXRpb24oKSB7XG4gICAgaWYgKHRoaXNbJ2VucXVldWVkJ10gfHwgIXZhbGlkYXRlRm4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpc1snZW5xdWV1ZWQnXSA9IHRydWU7XG4gICAgZG9jdW1lbnRXYWl0KHZhbGlkYXRlRm4pO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0geyFIVE1MU3R5bGVFbGVtZW50fSBzdHlsZVxuICAgKi9cbiAgYWRkQ3VzdG9tU3R5bGUoc3R5bGUpIHtcbiAgICBpZiAoIXN0eWxlW1NFRU5fTUFSS0VSXSkge1xuICAgICAgc3R5bGVbU0VFTl9NQVJLRVJdID0gdHJ1ZTtcbiAgICAgIHRoaXNbJ2N1c3RvbVN0eWxlcyddLnB1c2goc3R5bGUpO1xuICAgICAgdGhpcy5lbnF1ZXVlRG9jdW1lbnRWYWxpZGF0aW9uKCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0geyFDdXN0b21TdHlsZVByb3ZpZGVyfSBjdXN0b21TdHlsZVxuICAgKiBAcmV0dXJuIHtIVE1MU3R5bGVFbGVtZW50fVxuICAgKi9cbiAgZ2V0U3R5bGVGb3JDdXN0b21TdHlsZShjdXN0b21TdHlsZSkge1xuICAgIGlmIChjdXN0b21TdHlsZVtDQUNIRURfU1RZTEVdKSB7XG4gICAgICByZXR1cm4gY3VzdG9tU3R5bGVbQ0FDSEVEX1NUWUxFXTtcbiAgICB9XG4gICAgbGV0IHN0eWxlO1xuICAgIGlmIChjdXN0b21TdHlsZVsnZ2V0U3R5bGUnXSkge1xuICAgICAgc3R5bGUgPSBjdXN0b21TdHlsZVsnZ2V0U3R5bGUnXSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZSA9IGN1c3RvbVN0eWxlO1xuICAgIH1cbiAgICByZXR1cm4gc3R5bGU7XG4gIH1cbiAgLyoqXG4gICAqIEByZXR1cm4geyFBcnJheTwhQ3VzdG9tU3R5bGVQcm92aWRlcj59XG4gICAqL1xuICBwcm9jZXNzU3R5bGVzKCkge1xuICAgIGNvbnN0IGNzID0gdGhpc1snY3VzdG9tU3R5bGVzJ107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY3VzdG9tU3R5bGUgPSBjc1tpXTtcbiAgICAgIGlmIChjdXN0b21TdHlsZVtDQUNIRURfU1RZTEVdKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdldFN0eWxlRm9yQ3VzdG9tU3R5bGUoY3VzdG9tU3R5bGUpO1xuICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgIC8vIEhUTUxJbXBvcnRzIHBvbHlmaWxsIG1heSBoYXZlIGNsb25lZCB0aGUgc3R5bGUgaW50byB0aGUgbWFpbiBkb2N1bWVudCxcbiAgICAgICAgLy8gd2hpY2ggaXMgcmVmZXJlbmNlZCB3aXRoIF9fYXBwbGllZEVsZW1lbnQuXG4gICAgICAgIGNvbnN0IHN0eWxlVG9UcmFuc2Zvcm0gPSAvKiogQHR5cGUgeyFIVE1MU3R5bGVFbGVtZW50fSAqLyhzdHlsZVsnX19hcHBsaWVkRWxlbWVudCddIHx8IHN0eWxlKTtcbiAgICAgICAgaWYgKHRyYW5zZm9ybUZuKSB7XG4gICAgICAgICAgdHJhbnNmb3JtRm4oc3R5bGVUb1RyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICAgICAgY3VzdG9tU3R5bGVbQ0FDSEVEX1NUWUxFXSA9IHN0eWxlVG9UcmFuc2Zvcm07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjcztcbiAgfVxufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1zZWxmLWFzc2lnbiAqL1xuQ3VzdG9tU3R5bGVJbnRlcmZhY2UucHJvdG90eXBlWydhZGRDdXN0b21TdHlsZSddID0gQ3VzdG9tU3R5bGVJbnRlcmZhY2UucHJvdG90eXBlLmFkZEN1c3RvbVN0eWxlO1xuQ3VzdG9tU3R5bGVJbnRlcmZhY2UucHJvdG90eXBlWydnZXRTdHlsZUZvckN1c3RvbVN0eWxlJ10gPSBDdXN0b21TdHlsZUludGVyZmFjZS5wcm90b3R5cGUuZ2V0U3R5bGVGb3JDdXN0b21TdHlsZTtcbkN1c3RvbVN0eWxlSW50ZXJmYWNlLnByb3RvdHlwZVsncHJvY2Vzc1N0eWxlcyddID0gQ3VzdG9tU3R5bGVJbnRlcmZhY2UucHJvdG90eXBlLnByb2Nlc3NTdHlsZXM7XG4vKiBlc2xpbnQtZW5hYmxlIG5vLXNlbGYtYXNzaWduICovXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEN1c3RvbVN0eWxlSW50ZXJmYWNlLnByb3RvdHlwZSwge1xuICAndHJhbnNmb3JtQ2FsbGJhY2snOiB7XG4gICAgLyoqIEByZXR1cm4gez9mdW5jdGlvbighSFRNTFN0eWxlRWxlbWVudCl9ICovXG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIHRyYW5zZm9ybUZuO1xuICAgIH0sXG4gICAgLyoqIEBwYXJhbSB7P2Z1bmN0aW9uKCFIVE1MU3R5bGVFbGVtZW50KX0gZm4gKi9cbiAgICBzZXQoZm4pIHtcbiAgICAgIHRyYW5zZm9ybUZuID0gZm47XG4gICAgfVxuICB9LFxuICAndmFsaWRhdGVDYWxsYmFjayc6IHtcbiAgICAvKiogQHJldHVybiB7P2Z1bmN0aW9uKCl9ICovXG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIHZhbGlkYXRlRm47XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez9mdW5jdGlvbigpfSBmblxuICAgICAqIEB0aGlzIHtDdXN0b21TdHlsZUludGVyZmFjZX1cbiAgICAgKi9cbiAgICBzZXQoZm4pIHtcbiAgICAgIGxldCBuZWVkc0VucXVldWUgPSBmYWxzZTtcbiAgICAgIGlmICghdmFsaWRhdGVGbikge1xuICAgICAgICBuZWVkc0VucXVldWUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdmFsaWRhdGVGbiA9IGZuO1xuICAgICAgaWYgKG5lZWRzRW5xdWV1ZSkge1xuICAgICAgICB0aGlzLmVucXVldWVEb2N1bWVudFZhbGlkYXRpb24oKTtcbiAgICAgIH1cbiAgICB9LFxuICB9XG59KVxuXG4vKiogQHR5cGVkZWYge3tcbiAqIGN1c3RvbVN0eWxlczogIUFycmF5PCFDdXN0b21TdHlsZVByb3ZpZGVyPixcbiAqIGFkZEN1c3RvbVN0eWxlOiBmdW5jdGlvbighQ3VzdG9tU3R5bGVQcm92aWRlciksXG4gKiBnZXRTdHlsZUZvckN1c3RvbVN0eWxlOiBmdW5jdGlvbighQ3VzdG9tU3R5bGVQcm92aWRlcik6IEhUTUxTdHlsZUVsZW1lbnQsXG4gKiBmaW5kU3R5bGVzOiBmdW5jdGlvbigpLFxuICogdHJhbnNmb3JtQ2FsbGJhY2s6ID9mdW5jdGlvbighSFRNTFN0eWxlRWxlbWVudCksXG4gKiB2YWxpZGF0ZUNhbGxiYWNrOiA/ZnVuY3Rpb24oKVxuICogfX1cbiAqL1xuZXhwb3J0IGNvbnN0IEN1c3RvbVN0eWxlSW50ZXJmYWNlSW50ZXJmYWNlID0ge307XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCBBcHBseVNoaW0gZnJvbSAnLi4vc3JjL2FwcGx5LXNoaW0uanMnO1xuaW1wb3J0IHRlbXBsYXRlTWFwIGZyb20gJy4uL3NyYy90ZW1wbGF0ZS1tYXAuanMnO1xuaW1wb3J0IHtnZXRJc0V4dGVuZHMsIHRvQ3NzVGV4dCwgZWxlbWVudEhhc0J1aWx0Q3NzfSBmcm9tICcuLi9zcmMvc3R5bGUtdXRpbC5qcyc7XG5pbXBvcnQgKiBhcyBBcHBseVNoaW1VdGlscyBmcm9tICcuLi9zcmMvYXBwbHktc2hpbS11dGlscy5qcyc7XG5pbXBvcnQge2dldENvbXB1dGVkU3R5bGVWYWx1ZSwgdXBkYXRlTmF0aXZlUHJvcGVydGllc30gZnJvbSAnLi4vc3JjL2NvbW1vbi11dGlscy5qcyc7XG5pbXBvcnQge0N1c3RvbVN0eWxlSW50ZXJmYWNlSW50ZXJmYWNlfSBmcm9tICcuLi9zcmMvY3VzdG9tLXN0eWxlLWludGVyZmFjZS5qcyc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbmltcG9ydCB7bmF0aXZlQ3NzVmFyaWFibGVzLCBuYXRpdmVTaGFkb3csIGNzc0J1aWxkLCBkaXNhYmxlUnVudGltZX0gZnJvbSAnLi4vc3JjL3N0eWxlLXNldHRpbmdzLmpzJztcblxuLyoqIEBjb25zdCB7QXBwbHlTaGltfSAqL1xuY29uc3QgYXBwbHlTaGltID0gbmV3IEFwcGx5U2hpbSgpO1xuXG5jbGFzcyBBcHBseVNoaW1JbnRlcmZhY2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvKiogQHR5cGUgez9DdXN0b21TdHlsZUludGVyZmFjZUludGVyZmFjZX0gKi9cbiAgICB0aGlzLmN1c3RvbVN0eWxlSW50ZXJmYWNlID0gbnVsbDtcbiAgICBhcHBseVNoaW1bJ2ludmFsaWRDYWxsYmFjayddID0gQXBwbHlTaGltVXRpbHMuaW52YWxpZGF0ZTtcbiAgfVxuICBlbnN1cmUoKSB7XG4gICAgaWYgKHRoaXMuY3VzdG9tU3R5bGVJbnRlcmZhY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHdpbmRvdy5TaGFkeUNTUy5DdXN0b21TdHlsZUludGVyZmFjZSkge1xuICAgICAgdGhpcy5jdXN0b21TdHlsZUludGVyZmFjZSA9XG4gICAgICAgICAgLyoqIEB0eXBlIHshQ3VzdG9tU3R5bGVJbnRlcmZhY2VJbnRlcmZhY2V9ICovIChcbiAgICAgICAgICAgICAgd2luZG93LlNoYWR5Q1NTLkN1c3RvbVN0eWxlSW50ZXJmYWNlKTtcbiAgICAgIHRoaXMuY3VzdG9tU3R5bGVJbnRlcmZhY2VbJ3RyYW5zZm9ybUNhbGxiYWNrJ10gPSAoc3R5bGUpID0+IHtcbiAgICAgICAgYXBwbHlTaGltLnRyYW5zZm9ybUN1c3RvbVN0eWxlKHN0eWxlKTtcbiAgICAgIH07XG4gICAgICB0aGlzLmN1c3RvbVN0eWxlSW50ZXJmYWNlWyd2YWxpZGF0ZUNhbGxiYWNrJ10gPSAoKSA9PiB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuY3VzdG9tU3R5bGVJbnRlcmZhY2VbJ2VucXVldWVkJ10pIHtcbiAgICAgICAgICAgIHRoaXMuZmx1c2hDdXN0b21TdHlsZXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGVsZW1lbnROYW1lXG4gICAqL1xuICBwcmVwYXJlVGVtcGxhdGUodGVtcGxhdGUsIGVsZW1lbnROYW1lKSB7XG4gICAgdGhpcy5lbnN1cmUoKTtcbiAgICBpZiAoZWxlbWVudEhhc0J1aWx0Q3NzKHRlbXBsYXRlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0ZW1wbGF0ZU1hcFtlbGVtZW50TmFtZV0gPSB0ZW1wbGF0ZTtcbiAgICBsZXQgYXN0ID0gYXBwbHlTaGltLnRyYW5zZm9ybVRlbXBsYXRlKHRlbXBsYXRlLCBlbGVtZW50TmFtZSk7XG4gICAgLy8gc2F2ZSBvcmlnaW5hbCBzdHlsZSBhc3QgdG8gdXNlIGZvciByZXZhbGlkYXRpbmcgaW5zdGFuY2VzXG4gICAgdGVtcGxhdGVbJ19zdHlsZUFzdCddID0gYXN0O1xuICB9XG4gIGZsdXNoQ3VzdG9tU3R5bGVzKCkge1xuICAgIHRoaXMuZW5zdXJlKCk7XG4gICAgaWYgKCF0aGlzLmN1c3RvbVN0eWxlSW50ZXJmYWNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBzdHlsZXMgPSB0aGlzLmN1c3RvbVN0eWxlSW50ZXJmYWNlWydwcm9jZXNzU3R5bGVzJ10oKTtcbiAgICBpZiAoIXRoaXMuY3VzdG9tU3R5bGVJbnRlcmZhY2VbJ2VucXVldWVkJ10pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKysgKSB7XG4gICAgICBsZXQgY3MgPSBzdHlsZXNbaV07XG4gICAgICBsZXQgc3R5bGUgPSB0aGlzLmN1c3RvbVN0eWxlSW50ZXJmYWNlWydnZXRTdHlsZUZvckN1c3RvbVN0eWxlJ10oY3MpO1xuICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgIGFwcGx5U2hpbS50cmFuc2Zvcm1DdXN0b21TdHlsZShzdHlsZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuY3VzdG9tU3R5bGVJbnRlcmZhY2VbJ2VucXVldWVkJ10gPSBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcGFyYW0ge09iamVjdD19IHByb3BlcnRpZXNcbiAgICovXG4gIHN0eWxlU3VidHJlZShlbGVtZW50LCBwcm9wZXJ0aWVzKSB7XG4gICAgdGhpcy5lbnN1cmUoKTtcbiAgICBpZiAocHJvcGVydGllcykge1xuICAgICAgdXBkYXRlTmF0aXZlUHJvcGVydGllcyhlbGVtZW50LCBwcm9wZXJ0aWVzKTtcbiAgICB9XG4gICAgaWYgKGVsZW1lbnQuc2hhZG93Um9vdCkge1xuICAgICAgdGhpcy5zdHlsZUVsZW1lbnQoZWxlbWVudCk7XG4gICAgICBsZXQgc2hhZG93Q2hpbGRyZW4gPVxuICAgICAgICAgIC8qKiBAdHlwZSB7IVBhcmVudE5vZGV9ICovIChlbGVtZW50LnNoYWRvd1Jvb3QpLmNoaWxkcmVuIHx8XG4gICAgICAgICAgZWxlbWVudC5zaGFkb3dSb290LmNoaWxkTm9kZXM7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoYWRvd0NoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuc3R5bGVTdWJ0cmVlKC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovKHNoYWRvd0NoaWxkcmVuW2ldKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBjaGlsZHJlbiA9IGVsZW1lbnQuY2hpbGRyZW4gfHwgZWxlbWVudC5jaGlsZE5vZGVzO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLnN0eWxlU3VidHJlZSgvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqLyhjaGlsZHJlbltpXSkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICAgKi9cbiAgc3R5bGVFbGVtZW50KGVsZW1lbnQpIHtcbiAgICB0aGlzLmVuc3VyZSgpO1xuICAgIGxldCB7aXN9ID0gZ2V0SXNFeHRlbmRzKGVsZW1lbnQpO1xuICAgIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlTWFwW2lzXTtcbiAgICBpZiAodGVtcGxhdGUgJiYgZWxlbWVudEhhc0J1aWx0Q3NzKHRlbXBsYXRlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGVtcGxhdGUgJiYgIUFwcGx5U2hpbVV0aWxzLnRlbXBsYXRlSXNWYWxpZCh0ZW1wbGF0ZSkpIHtcbiAgICAgIC8vIG9ubHkgcmV2YWxpZGF0ZSB0ZW1wbGF0ZSBvbmNlXG4gICAgICBpZiAoIUFwcGx5U2hpbVV0aWxzLnRlbXBsYXRlSXNWYWxpZGF0aW5nKHRlbXBsYXRlKSkge1xuICAgICAgICB0aGlzLnByZXBhcmVUZW1wbGF0ZSh0ZW1wbGF0ZSwgaXMpO1xuICAgICAgICBBcHBseVNoaW1VdGlscy5zdGFydFZhbGlkYXRpbmdUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gICAgICB9XG4gICAgICAvLyB1cGRhdGUgdGhpcyBlbGVtZW50IGluc3RhbmNlXG4gICAgICBsZXQgcm9vdCA9IGVsZW1lbnQuc2hhZG93Um9vdDtcbiAgICAgIGlmIChyb290KSB7XG4gICAgICAgIGxldCBzdHlsZSA9IC8qKiBAdHlwZSB7SFRNTFN0eWxlRWxlbWVudH0gKi8ocm9vdC5xdWVyeVNlbGVjdG9yKCdzdHlsZScpKTtcbiAgICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgICAgLy8gcmV1c2UgdGhlIHRlbXBsYXRlJ3Mgc3R5bGUgYXN0LCBpdCBoYXMgYWxsIHRoZSBvcmlnaW5hbCBjc3MgdGV4dFxuICAgICAgICAgIHN0eWxlWydfX2Nzc1J1bGVzJ10gPSB0ZW1wbGF0ZVsnX3N0eWxlQXN0J107XG4gICAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSB0b0Nzc1RleHQodGVtcGxhdGVbJ19zdHlsZUFzdCddKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdD19IHByb3BlcnRpZXNcbiAgICovXG4gIHN0eWxlRG9jdW1lbnQocHJvcGVydGllcykge1xuICAgIHRoaXMuZW5zdXJlKCk7XG4gICAgdGhpcy5zdHlsZVN1YnRyZWUoZG9jdW1lbnQuYm9keSwgcHJvcGVydGllcyk7XG4gIH1cbn1cblxuaWYgKCF3aW5kb3cuU2hhZHlDU1MgfHwgIXdpbmRvdy5TaGFkeUNTUy5TY29waW5nU2hpbSkge1xuICBjb25zdCBhcHBseVNoaW1JbnRlcmZhY2UgPSBuZXcgQXBwbHlTaGltSW50ZXJmYWNlKCk7XG4gIGxldCBDdXN0b21TdHlsZUludGVyZmFjZSA9IHdpbmRvdy5TaGFkeUNTUyAmJiB3aW5kb3cuU2hhZHlDU1MuQ3VzdG9tU3R5bGVJbnRlcmZhY2U7XG5cbiAgLyoqIEBzdXBwcmVzcyB7ZHVwbGljYXRlfSAqL1xuICB3aW5kb3cuU2hhZHlDU1MgPSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudE5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGVsZW1lbnRFeHRlbmRzXG4gICAgICovXG4gICAgcHJlcGFyZVRlbXBsYXRlKHRlbXBsYXRlLCBlbGVtZW50TmFtZSwgZWxlbWVudEV4dGVuZHMpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICAgYXBwbHlTaGltSW50ZXJmYWNlLmZsdXNoQ3VzdG9tU3R5bGVzKCk7XG4gICAgICBhcHBseVNoaW1JbnRlcmZhY2UucHJlcGFyZVRlbXBsYXRlKHRlbXBsYXRlLCBlbGVtZW50TmFtZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGVsZW1lbnROYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBlbGVtZW50RXh0ZW5kc1xuICAgICAqL1xuICAgIHByZXBhcmVUZW1wbGF0ZVN0eWxlcyh0ZW1wbGF0ZSwgZWxlbWVudE5hbWUsIGVsZW1lbnRFeHRlbmRzKSB7XG4gICAgICB3aW5kb3cuU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlKHRlbXBsYXRlLCBlbGVtZW50TmFtZSwgZWxlbWVudEV4dGVuZHMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50TmFtZVxuICAgICAqL1xuICAgIHByZXBhcmVUZW1wbGF0ZURvbSh0ZW1wbGF0ZSwgZWxlbWVudE5hbWUpIHt9LCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFIVE1MRWxlbWVudH0gZWxlbWVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gcHJvcGVydGllc1xuICAgICAqL1xuICAgIHN0eWxlU3VidHJlZShlbGVtZW50LCBwcm9wZXJ0aWVzKSB7XG4gICAgICBhcHBseVNoaW1JbnRlcmZhY2UuZmx1c2hDdXN0b21TdHlsZXMoKTtcbiAgICAgIGFwcGx5U2hpbUludGVyZmFjZS5zdHlsZVN1YnRyZWUoZWxlbWVudCwgcHJvcGVydGllcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSBlbGVtZW50XG4gICAgICovXG4gICAgc3R5bGVFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgIGFwcGx5U2hpbUludGVyZmFjZS5mbHVzaEN1c3RvbVN0eWxlcygpO1xuICAgICAgYXBwbHlTaGltSW50ZXJmYWNlLnN0eWxlRWxlbWVudChlbGVtZW50KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgc3R5bGVEb2N1bWVudChwcm9wZXJ0aWVzKSB7XG4gICAgICBhcHBseVNoaW1JbnRlcmZhY2UuZmx1c2hDdXN0b21TdHlsZXMoKTtcbiAgICAgIGFwcGx5U2hpbUludGVyZmFjZS5zdHlsZURvY3VtZW50KHByb3BlcnRpZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0Q29tcHV0ZWRTdHlsZVZhbHVlKGVsZW1lbnQsIHByb3BlcnR5KSB7XG4gICAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZVZhbHVlKGVsZW1lbnQsIHByb3BlcnR5KTtcbiAgICB9LFxuXG4gICAgZmx1c2hDdXN0b21TdHlsZXMoKSB7XG4gICAgICBhcHBseVNoaW1JbnRlcmZhY2UuZmx1c2hDdXN0b21TdHlsZXMoKTtcbiAgICB9LFxuXG4gICAgbmF0aXZlQ3NzOiBuYXRpdmVDc3NWYXJpYWJsZXMsXG4gICAgbmF0aXZlU2hhZG93OiBuYXRpdmVTaGFkb3csXG4gICAgY3NzQnVpbGQ6IGNzc0J1aWxkLFxuICAgIGRpc2FibGVSdW50aW1lOiBkaXNhYmxlUnVudGltZSxcbiAgfTtcblxuICBpZiAoQ3VzdG9tU3R5bGVJbnRlcmZhY2UpIHtcbiAgICB3aW5kb3cuU2hhZHlDU1MuQ3VzdG9tU3R5bGVJbnRlcmZhY2UgPSBDdXN0b21TdHlsZUludGVyZmFjZTtcbiAgfVxufVxuXG53aW5kb3cuU2hhZHlDU1MuQXBwbHlTaGltID0gYXBwbHlTaGltO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbi8qKlxuICogV2hlbiB1c2luZyBDbG9zdXJlIENvbXBpbGVyLCBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KHByb3BlcnR5LCBvYmplY3QpIGlzIHJlcGxhY2VkIGJ5IHRoZSBtdW5nZWQgbmFtZSBmb3Igb2JqZWN0W3Byb3BlcnR5XVxuICogV2UgY2Fubm90IGFsaWFzIHRoaXMgZnVuY3Rpb24sIHNvIHdlIGhhdmUgdG8gdXNlIGEgc21hbGwgc2hpbSB0aGF0IGhhcyB0aGUgc2FtZSBiZWhhdmlvciB3aGVuIG5vdCBjb21waWxpbmcuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHByb3AgUHJvcGVydHkgbmFtZVxuICogQHBhcmFtIHs/T2JqZWN0fSBvYmogUmVmZXJlbmNlIG9iamVjdFxuICogQHJldHVybiB7c3RyaW5nfSBQb3RlbnRpYWxseSByZW5hbWVkIHByb3BlcnR5IG5hbWVcbiAqL1xud2luZG93LkpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkgPSBmdW5jdGlvbihwcm9wLCBvYmopIHtcbiAgcmV0dXJuIHByb3A7XG59O1xuLyogZXNsaW50LWVuYWJsZSAqL1xuXG5leHBvcnQge307XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuL2Jvb3QuanMnO1xuXG5sZXQgQ1NTX1VSTF9SWCA9IC8odXJsXFwoKShbXildKikoXFwpKS9nO1xubGV0IEFCU19VUkwgPSAvKF5cXC9bXlxcL10pfCheIyl8KF5bXFx3LVxcZF0qOikvO1xubGV0IHdvcmtpbmdVUkw7XG5sZXQgcmVzb2x2ZURvYztcbi8qKlxuICogUmVzb2x2ZXMgdGhlIGdpdmVuIFVSTCBhZ2FpbnN0IHRoZSBwcm92aWRlZCBgYmFzZVVyaScuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gcGVyZm9ybXMgbm8gcmVzb2x1dGlvbiBmb3IgVVJMcyB0aGF0IHN0YXJ0XG4gKiB3aXRoIGAvYCAoYWJzb2x1dGUgVVJMcykgb3IgYCNgIChoYXNoIGlkZW50aWZpZXJzKS4gIEZvciBnZW5lcmFsIHB1cnBvc2VcbiAqIFVSTCByZXNvbHV0aW9uLCB1c2UgYHdpbmRvdy5VUkxgLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgSW5wdXQgVVJMIHRvIHJlc29sdmVcbiAqIEBwYXJhbSB7P3N0cmluZz19IGJhc2VVUkkgQmFzZSBVUkkgdG8gcmVzb2x2ZSB0aGUgVVJMIGFnYWluc3RcbiAqIEByZXR1cm4ge3N0cmluZ30gcmVzb2x2ZWQgVVJMXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlVXJsKHVybCwgYmFzZVVSSSkge1xuICBpZiAodXJsICYmIEFCU19VUkwudGVzdCh1cmwpKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuICBpZiAodXJsID09PSAnLy8nKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuICAvLyBMYXp5IGZlYXR1cmUgZGV0ZWN0aW9uLlxuICBpZiAod29ya2luZ1VSTCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgd29ya2luZ1VSTCA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1ID0gbmV3IFVSTCgnYicsICdodHRwOi8vYScpO1xuICAgICAgdS5wYXRobmFtZSA9ICdjJTIwZCc7XG4gICAgICB3b3JraW5nVVJMID0gKHUuaHJlZiA9PT0gJ2h0dHA6Ly9hL2MlMjBkJyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gc2lsZW50bHkgZmFpbFxuICAgIH1cbiAgfVxuICBpZiAoIWJhc2VVUkkpIHtcbiAgICBiYXNlVVJJID0gZG9jdW1lbnQuYmFzZVVSSSB8fCB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgfVxuICBpZiAod29ya2luZ1VSTCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gKG5ldyBVUkwodXJsLCBiYXNlVVJJKSkuaHJlZjtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBCYWQgdXJsIG9yIGJhc2VVUkkgc3RydWN0dXJlLiBEbyBub3QgYXR0ZW1wdCB0byByZXNvbHZlLlxuICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG4gIH1cbiAgLy8gRmFsbGJhY2sgdG8gY3JlYXRpbmcgYW4gYW5jaG9yIGludG8gYSBkaXNjb25uZWN0ZWQgZG9jdW1lbnQuXG4gIGlmICghcmVzb2x2ZURvYykge1xuICAgIHJlc29sdmVEb2MgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoJ3RlbXAnKTtcbiAgICByZXNvbHZlRG9jLmJhc2UgPSByZXNvbHZlRG9jLmNyZWF0ZUVsZW1lbnQoJ2Jhc2UnKTtcbiAgICByZXNvbHZlRG9jLmhlYWQuYXBwZW5kQ2hpbGQocmVzb2x2ZURvYy5iYXNlKTtcbiAgICByZXNvbHZlRG9jLmFuY2hvciA9IHJlc29sdmVEb2MuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIHJlc29sdmVEb2MuYm9keS5hcHBlbmRDaGlsZChyZXNvbHZlRG9jLmFuY2hvcik7XG4gIH1cbiAgcmVzb2x2ZURvYy5iYXNlLmhyZWYgPSBiYXNlVVJJO1xuICByZXNvbHZlRG9jLmFuY2hvci5ocmVmID0gdXJsO1xuICByZXR1cm4gcmVzb2x2ZURvYy5hbmNob3IuaHJlZiB8fCB1cmw7XG5cbn1cblxuLyoqXG4gKiBSZXNvbHZlcyBhbnkgcmVsYXRpdmUgVVJMJ3MgaW4gdGhlIGdpdmVuIENTUyB0ZXh0IGFnYWluc3QgdGhlIHByb3ZpZGVkXG4gKiBgb3duZXJEb2N1bWVudGAncyBgYmFzZVVSSWAuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHQgQ1NTIHRleHQgdG8gcHJvY2Vzc1xuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkkgQmFzZSBVUkkgdG8gcmVzb2x2ZSB0aGUgVVJMIGFnYWluc3RcbiAqIEByZXR1cm4ge3N0cmluZ30gUHJvY2Vzc2VkIENTUyB0ZXh0IHdpdGggcmVzb2x2ZWQgVVJMJ3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVDc3MoY3NzVGV4dCwgYmFzZVVSSSkge1xuICByZXR1cm4gY3NzVGV4dC5yZXBsYWNlKENTU19VUkxfUlgsIGZ1bmN0aW9uKG0sIHByZSwgdXJsLCBwb3N0KSB7XG4gICAgcmV0dXJuIHByZSArICdcXCcnICtcbiAgICAgIHJlc29sdmVVcmwodXJsLnJlcGxhY2UoL1tcIiddL2csICcnKSwgYmFzZVVSSSkgK1xuICAgICAgJ1xcJycgKyBwb3N0O1xuICB9KTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgcGF0aCBmcm9tIGEgZ2l2ZW4gYHVybGAuIFRoZSBwYXRoIGluY2x1ZGVzIHRoZSB0cmFpbGluZ1xuICogYC9gIGZyb20gdGhlIHVybC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIElucHV0IFVSTCB0byB0cmFuc2Zvcm1cbiAqIEByZXR1cm4ge3N0cmluZ30gcmVzb2x2ZWQgcGF0aFxuICovXG5leHBvcnQgZnVuY3Rpb24gcGF0aEZyb21VcmwodXJsKSB7XG4gIHJldHVybiB1cmwuc3Vic3RyaW5nKDAsIHVybC5sYXN0SW5kZXhPZignLycpICsgMSk7XG59XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuL2Jvb3QuanMnO1xuXG5pbXBvcnQgeyBwYXRoRnJvbVVybCB9IGZyb20gJy4vcmVzb2x2ZS11cmwuanMnO1xuZXhwb3J0IGNvbnN0IHVzZVNoYWRvdyA9ICEod2luZG93LlNoYWR5RE9NKTtcbmV4cG9ydCBjb25zdCB1c2VOYXRpdmVDU1NQcm9wZXJ0aWVzID0gQm9vbGVhbighd2luZG93LlNoYWR5Q1NTIHx8IHdpbmRvdy5TaGFkeUNTUy5uYXRpdmVDc3MpO1xuZXhwb3J0IGNvbnN0IHVzZU5hdGl2ZUN1c3RvbUVsZW1lbnRzID0gISh3aW5kb3cuY3VzdG9tRWxlbWVudHMucG9seWZpbGxXcmFwRmx1c2hDYWxsYmFjayk7XG5cblxuLyoqXG4gKiBHbG9iYWxseSBzZXR0YWJsZSBwcm9wZXJ0eSB0aGF0IGlzIGF1dG9tYXRpY2FsbHkgYXNzaWduZWQgdG9cbiAqIGBFbGVtZW50TWl4aW5gIGluc3RhbmNlcywgdXNlZnVsIGZvciBiaW5kaW5nIGluIHRlbXBsYXRlcyB0b1xuICogbWFrZSBVUkwncyByZWxhdGl2ZSB0byBhbiBhcHBsaWNhdGlvbidzIHJvb3QuICBEZWZhdWx0cyB0byB0aGUgbWFpblxuICogZG9jdW1lbnQgVVJMLCBidXQgY2FuIGJlIG92ZXJyaWRkZW4gYnkgdXNlcnMuICBJdCBtYXkgYmUgdXNlZnVsIHRvIHNldFxuICogYHJvb3RQYXRoYCB0byBwcm92aWRlIGEgc3RhYmxlIGFwcGxpY2F0aW9uIG1vdW50IHBhdGggd2hlblxuICogdXNpbmcgY2xpZW50IHNpZGUgcm91dGluZy5cbiAqL1xuZXhwb3J0IGxldCByb290UGF0aCA9IHBhdGhGcm9tVXJsKGRvY3VtZW50LmJhc2VVUkkgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYpO1xuXG4vKipcbiAqIFNldHMgdGhlIGdsb2JhbCByb290UGF0aCBwcm9wZXJ0eSB1c2VkIGJ5IGBFbGVtZW50TWl4aW5gIGFuZFxuICogYXZhaWxhYmxlIHZpYSBgcm9vdFBhdGhgLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBuZXcgcm9vdCBwYXRoXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgY29uc3Qgc2V0Um9vdFBhdGggPSBmdW5jdGlvbihwYXRoKSB7XG4gIHJvb3RQYXRoID0gcGF0aDtcbn07XG5cbi8qKlxuICogQSBnbG9iYWwgY2FsbGJhY2sgdXNlZCB0byBzYW5pdGl6ZSBhbnkgdmFsdWUgYmVmb3JlIGluc2VydGluZyBpdCBpbnRvIHRoZSBET00uXG4gKiBUaGUgY2FsbGJhY2sgc2lnbmF0dXJlIGlzOlxuICpcbiAqICBmdW5jdGlvbiBzYW5pdGl6ZURPTVZhbHVlKHZhbHVlLCBuYW1lLCB0eXBlLCBub2RlKSB7IC4uLiB9XG4gKlxuICogV2hlcmU6XG4gKlxuICogYHZhbHVlYCBpcyB0aGUgdmFsdWUgdG8gc2FuaXRpemUuXG4gKiBgbmFtZWAgaXMgdGhlIG5hbWUgb2YgYW4gYXR0cmlidXRlIG9yIHByb3BlcnR5IChmb3IgZXhhbXBsZSwgaHJlZikuXG4gKiBgdHlwZWAgaW5kaWNhdGVzIHdoZXJlIHRoZSB2YWx1ZSBpcyBiZWluZyBpbnNlcnRlZDogb25lIG9mIHByb3BlcnR5LCBhdHRyaWJ1dGUsIG9yIHRleHQuXG4gKiBgbm9kZWAgaXMgdGhlIG5vZGUgd2hlcmUgdGhlIHZhbHVlIGlzIGJlaW5nIGluc2VydGVkLlxuICpcbiAqIEB0eXBlIHsoZnVuY3Rpb24oKixzdHJpbmcsc3RyaW5nLE5vZGUpOiopfHVuZGVmaW5lZH1cbiAqL1xuZXhwb3J0IGxldCBzYW5pdGl6ZURPTVZhbHVlID0gd2luZG93LlBvbHltZXIgJiYgd2luZG93LlBvbHltZXIuc2FuaXRpemVET01WYWx1ZSB8fCB1bmRlZmluZWQ7XG5cbi8qKlxuICogU2V0cyB0aGUgZ2xvYmFsIHNhbml0aXplRE9NVmFsdWUgYXZhaWxhYmxlIHZpYSB0aGlzIG1vZHVsZSdzIGV4cG9ydGVkXG4gKiBgc2FuaXRpemVET01WYWx1ZWAgdmFyaWFibGUuXG4gKlxuICogQHBhcmFtIHsoZnVuY3Rpb24oKixzdHJpbmcsc3RyaW5nLE5vZGUpOiopfHVuZGVmaW5lZH0gbmV3U2FuaXRpemVET01WYWx1ZSB0aGUgZ2xvYmFsIHNhbml0aXplRE9NVmFsdWUgY2FsbGJhY2tcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmV4cG9ydCBjb25zdCBzZXRTYW5pdGl6ZURPTVZhbHVlID0gZnVuY3Rpb24obmV3U2FuaXRpemVET01WYWx1ZSkge1xuICBzYW5pdGl6ZURPTVZhbHVlID0gbmV3U2FuaXRpemVET01WYWx1ZTtcbn07XG5cbi8qKlxuICogR2xvYmFsbHkgc2V0dGFibGUgcHJvcGVydHkgdG8gbWFrZSBQb2x5bWVyIEdlc3R1cmVzIHVzZSBwYXNzaXZlIFRvdWNoRXZlbnQgbGlzdGVuZXJzIHdoZW4gcmVjb2duaXppbmcgZ2VzdHVyZXMuXG4gKiBXaGVuIHNldCB0byBgdHJ1ZWAsIGdlc3R1cmVzIG1hZGUgZnJvbSB0b3VjaCB3aWxsIG5vdCBiZSBhYmxlIHRvIHByZXZlbnQgc2Nyb2xsaW5nLCBhbGxvd2luZyBmb3Igc21vb3RoZXJcbiAqIHNjcm9sbGluZyBwZXJmb3JtYW5jZS5cbiAqIERlZmF1bHRzIHRvIGBmYWxzZWAgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuICovXG5leHBvcnQgbGV0IHBhc3NpdmVUb3VjaEdlc3R1cmVzID0gZmFsc2U7XG5cbi8qKlxuICogU2V0cyBgcGFzc2l2ZVRvdWNoR2VzdHVyZXNgIGdsb2JhbGx5IGZvciBhbGwgZWxlbWVudHMgdXNpbmcgUG9seW1lciBHZXN0dXJlcy5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHVzZVBhc3NpdmUgZW5hYmxlIG9yIGRpc2FibGUgcGFzc2l2ZSB0b3VjaCBnZXN0dXJlcyBnbG9iYWxseVxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGNvbnN0IHNldFBhc3NpdmVUb3VjaEdlc3R1cmVzID0gZnVuY3Rpb24odXNlUGFzc2l2ZSkge1xuICBwYXNzaXZlVG91Y2hHZXN0dXJlcyA9IHVzZVBhc3NpdmU7XG59O1xuXG4vKipcbiAqIFNldHRpbmcgdG8gZW5zdXJlIFBvbHltZXIgdGVtcGxhdGUgZXZhbHVhdGlvbiBvbmx5IG9jY3VycyBiYXNlZCBvbiB0ZW1wYXRlc1xuICogZGVmaW5lZCBpbiB0cnVzdGVkIHNjcmlwdC4gIFdoZW4gdHJ1ZSwgYDxkb20tbW9kdWxlPmAgcmUtcmVnaXN0cmF0aW9uIGlzXG4gKiBkaXNhbGxvd2VkLCBgPGRvbS1iaW5kPmAgaXMgZGlzYWJsZWQsIGFuZCBgPGRvbS1pZj5gL2A8ZG9tLXJlcGVhdD5gXG4gKiB0ZW1wbGF0ZXMgd2lsbCBvbmx5IGV2YWx1YXRlIGluIHRoZSBjb250ZXh0IG9mIGEgdHJ1c3RlZCBlbGVtZW50IHRlbXBsYXRlLlxuICovXG5leHBvcnQgbGV0IHN0cmljdFRlbXBsYXRlUG9saWN5ID0gZmFsc2U7XG5cbi8qKlxuICogU2V0cyBgc3RyaWN0VGVtcGxhdGVQb2xpY3lgIGdsb2JhbGx5IGZvciBhbGwgZWxlbWVudHNcbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHVzZVN0cmljdFBvbGljeSBlbmFibGUgb3IgZGlzYWJsZSBzdHJpY3QgdGVtcGxhdGUgcG9saWN5XG4gKiAgIGdsb2JhbGx5XG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgY29uc3Qgc2V0U3RyaWN0VGVtcGxhdGVQb2xpY3kgPSBmdW5jdGlvbih1c2VTdHJpY3RQb2xpY3kpIHtcbiAgc3RyaWN0VGVtcGxhdGVQb2xpY3kgPSB1c2VTdHJpY3RQb2xpY3k7XG59O1xuXG4vKipcbiAqIFNldHRpbmcgdG8gZW5hYmxlIGRvbS1tb2R1bGUgbG9va3VwIGZyb20gUG9seW1lci5FbGVtZW50LiAgQnkgZGVmYXVsdCxcbiAqIHRlbXBsYXRlcyBtdXN0IGJlIGRlZmluZWQgaW4gc2NyaXB0IHVzaW5nIHRoZSBgc3RhdGljIGdldCB0ZW1wbGF0ZSgpYFxuICogZ2V0dGVyIGFuZCB0aGUgYGh0bWxgIHRhZyBmdW5jdGlvbi4gIFRvIGVuYWJsZSBsZWdhY3kgbG9hZGluZyBvZiB0ZW1wbGF0ZXNcbiAqIHZpYSBkb20tbW9kdWxlLCBzZXQgdGhpcyBmbGFnIHRvIHRydWUuXG4gKi9cbmV4cG9ydCBsZXQgYWxsb3dUZW1wbGF0ZUZyb21Eb21Nb2R1bGUgPSBmYWxzZTtcblxuLyoqXG4gKiBTZXRzIGBsb29rdXBUZW1wbGF0ZUZyb21Eb21Nb2R1bGVgIGdsb2JhbGx5IGZvciBhbGwgZWxlbWVudHNcbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGFsbG93RG9tTW9kdWxlIGVuYWJsZSBvciBkaXNhYmxlIHRlbXBsYXRlIGxvb2t1cFxuICogICBnbG9iYWxseVxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGNvbnN0IHNldEFsbG93VGVtcGxhdGVGcm9tRG9tTW9kdWxlID0gZnVuY3Rpb24oYWxsb3dEb21Nb2R1bGUpIHtcbiAgYWxsb3dUZW1wbGF0ZUZyb21Eb21Nb2R1bGUgPSBhbGxvd0RvbU1vZHVsZTtcbn07XG5cbi8qKlxuICogU2V0dGluZyB0byBza2lwIHByb2Nlc3Npbmcgc3R5bGUgaW5jbHVkZXMgYW5kIHJlLXdyaXRpbmcgdXJscyBpbiBjc3Mgc3R5bGVzLlxuICogTm9ybWFsbHkgXCJpbmNsdWRlZFwiIHN0eWxlcyBhcmUgcHVsbGVkIGludG8gdGhlIGVsZW1lbnQgYW5kIGFsbCB1cmxzIGluIHN0eWxlc1xuICogYXJlIHJlLXdyaXR0ZW4gdG8gYmUgcmVsYXRpdmUgdG8gdGhlIGNvbnRhaW5pbmcgc2NyaXB0IHVybC5cbiAqIElmIG5vIGluY2x1ZGVzIG9yIHJlbGF0aXZlIHVybHMgYXJlIHVzZWQgaW4gc3R5bGVzLCB0aGVzZSBzdGVwcyBjYW4gYmVcbiAqIHNraXBwZWQgYXMgYW4gb3B0aW1pemF0aW9uLlxuICovXG5leHBvcnQgbGV0IGxlZ2FjeU9wdGltaXphdGlvbnMgPSBmYWxzZTtcblxuLyoqXG4gKiBTZXRzIGBsZWdhY3lPcHRpbWl6YXRpb25zYCBnbG9iYWxseSBmb3IgYWxsIGVsZW1lbnRzIHRvIGVuYWJsZSBvcHRpbWl6YXRpb25zXG4gKiB3aGVuIG9ubHkgbGVnYWN5IGJhc2VkIGVsZW1lbnRzIGFyZSB1c2VkLlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdXNlTGVnYWN5T3B0aW1pemF0aW9ucyBlbmFibGUgb3IgZGlzYWJsZSBsZWdhY3kgb3B0aW1pemF0aW9uc1xuICogaW5jbHVkZXMgYW5kIHVybCByZXdyaXRpbmdcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmV4cG9ydCBjb25zdCBzZXRMZWdhY3lPcHRpbWl6YXRpb25zID0gZnVuY3Rpb24odXNlTGVnYWN5T3B0aW1pemF0aW9ucykge1xuICBsZWdhY3lPcHRpbWl6YXRpb25zID0gdXNlTGVnYWN5T3B0aW1pemF0aW9ucztcbn07XG5cbi8qKlxuICogU2V0dGluZyB0byBwZXJmb3JtIGluaXRpYWwgcmVuZGVyaW5nIHN5bmNocm9ub3VzbHkgd2hlbiBydW5uaW5nIHVuZGVyIFNoYWR5RE9NLlxuICogVGhpcyBtYXRjaGVzIHRoZSBiZWhhdmlvciBvZiBQb2x5bWVyIDEuXG4gKi9cbmV4cG9ydCBsZXQgc3luY0luaXRpYWxSZW5kZXIgPSBmYWxzZTtcblxuLyoqXG4gKiBTZXRzIGBzeW5jSW5pdGlhbFJlbmRlcmAgZ2xvYmFsbHkgZm9yIGFsbCBlbGVtZW50cyB0byBlbmFibGUgc3luY2hyb25vdXNcbiAqIGluaXRpYWwgcmVuZGVyaW5nLlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdXNlU3luY0luaXRpYWxSZW5kZXIgZW5hYmxlIG9yIGRpc2FibGUgc3luY2hyb25vdXMgaW5pdGlhbFxuICogcmVuZGVyaW5nIGdsb2JhbGx5LlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGNvbnN0IHNldFN5bmNJbml0aWFsUmVuZGVyID0gZnVuY3Rpb24odXNlU3luY0luaXRpYWxSZW5kZXIpIHtcbiAgc3luY0luaXRpYWxSZW5kZXIgPSB1c2VTeW5jSW5pdGlhbFJlbmRlcjtcbn07XG5cbi8qKlxuICogU2V0dGluZyB0byBjYW5jZWwgc3ludGhldGljIGNsaWNrIGV2ZW50cyBmaXJlZCBieSBvbGRlciBtb2JpbGUgYnJvd3NlcnMuIE1vZGVybiBicm93c2Vyc1xuICogbm8gbG9uZ2VyIGZpcmUgc3ludGhldGljIGNsaWNrIGV2ZW50cywgYW5kIHRoZSBjYW5jZWxsYXRpb24gYmVoYXZpb3IgY2FuIGludGVyZmVyZVxuICogd2hlbiBwcm9ncmFtbWF0aWNhbGx5IGNsaWNraW5nIG9uIGVsZW1lbnRzLlxuICovXG5leHBvcnQgbGV0IGNhbmNlbFN5bnRoZXRpY0NsaWNrRXZlbnRzID0gdHJ1ZTtcblxuLyoqXG4gKiBTZXRzIGBzZXRDYW5jZWxTeW50aGV0aWNFdmVudHNgIGdsb2JhbGx5IGZvciBhbGwgZWxlbWVudHMgdG8gY2FuY2VsIHN5bnRoZXRpYyBjbGljayBldmVudHMuXG4gKlxuICogQHBhcmFtIHtib29sZWFufSB1c2VDYW5jZWxTeW50aGV0aWNDbGlja0V2ZW50cyBlbmFibGUgb3IgZGlzYWJsZSBjYW5jZWxsaW5nIHN5bnRoZXRpY1xuICogZXZlbnRzXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgY29uc3Qgc2V0Q2FuY2VsU3ludGhldGljQ2xpY2tFdmVudHMgPSBmdW5jdGlvbih1c2VDYW5jZWxTeW50aGV0aWNDbGlja0V2ZW50cykge1xuICBjYW5jZWxTeW50aGV0aWNDbGlja0V2ZW50cyA9IHVzZUNhbmNlbFN5bnRoZXRpY0NsaWNrRXZlbnRzO1xufTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJy4vYm9vdC5qcyc7XG5cbi8vIHVuaXF1ZSBnbG9iYWwgaWQgZm9yIGRlZHVwaW5nIG1peGlucy5cbmxldCBkZWR1cGVJZCA9IDA7XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyB7RnVuY3Rpb259XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBNaXhpbkZ1bmN0aW9uKCl7fVxuLyoqIEB0eXBlIHsoV2Vha01hcCB8IHVuZGVmaW5lZCl9ICovXG5NaXhpbkZ1bmN0aW9uLnByb3RvdHlwZS5fX21peGluQXBwbGljYXRpb25zO1xuLyoqIEB0eXBlIHsoT2JqZWN0IHwgdW5kZWZpbmVkKX0gKi9cbk1peGluRnVuY3Rpb24ucHJvdG90eXBlLl9fbWl4aW5TZXQ7XG5cbi8qIGVzbGludC1kaXNhYmxlIHZhbGlkLWpzZG9jICovXG4vKipcbiAqIFdyYXBzIGFuIEVTNiBjbGFzcyBleHByZXNzaW9uIG1peGluIHN1Y2ggdGhhdCB0aGUgbWl4aW4gaXMgb25seSBhcHBsaWVkXG4gKiBpZiBpdCBoYXMgbm90IGFscmVhZHkgYmVlbiBhcHBsaWVkIGl0cyBiYXNlIGFyZ3VtZW50LiBBbHNvIG1lbW9pemVzIG1peGluXG4gKiBhcHBsaWNhdGlvbnMuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7VH0gbWl4aW4gRVM2IGNsYXNzIGV4cHJlc3Npb24gbWl4aW4gdG8gd3JhcFxuICogQHJldHVybiB7VH1cbiAqIEBzdXBwcmVzcyB7aW52YWxpZENhc3RzfVxuICovXG5leHBvcnQgY29uc3QgZGVkdXBpbmdNaXhpbiA9IGZ1bmN0aW9uKG1peGluKSB7XG4gIGxldCBtaXhpbkFwcGxpY2F0aW9ucyA9IC8qKiBAdHlwZSB7IU1peGluRnVuY3Rpb259ICovKG1peGluKS5fX21peGluQXBwbGljYXRpb25zO1xuICBpZiAoIW1peGluQXBwbGljYXRpb25zKSB7XG4gICAgbWl4aW5BcHBsaWNhdGlvbnMgPSBuZXcgV2Vha01hcCgpO1xuICAgIC8qKiBAdHlwZSB7IU1peGluRnVuY3Rpb259ICovKG1peGluKS5fX21peGluQXBwbGljYXRpb25zID0gbWl4aW5BcHBsaWNhdGlvbnM7XG4gIH1cbiAgLy8gbWFpbnRhaW4gYSB1bmlxdWUgaWQgZm9yIGVhY2ggbWl4aW5cbiAgbGV0IG1peGluRGVkdXBlSWQgPSBkZWR1cGVJZCsrO1xuICBmdW5jdGlvbiBkZWR1cGluZ01peGluKGJhc2UpIHtcbiAgICBsZXQgYmFzZVNldCA9IC8qKiBAdHlwZSB7IU1peGluRnVuY3Rpb259ICovKGJhc2UpLl9fbWl4aW5TZXQ7XG4gICAgaWYgKGJhc2VTZXQgJiYgYmFzZVNldFttaXhpbkRlZHVwZUlkXSkge1xuICAgICAgcmV0dXJuIGJhc2U7XG4gICAgfVxuICAgIGxldCBtYXAgPSBtaXhpbkFwcGxpY2F0aW9ucztcbiAgICBsZXQgZXh0ZW5kZWQgPSBtYXAuZ2V0KGJhc2UpO1xuICAgIGlmICghZXh0ZW5kZWQpIHtcbiAgICAgIGV4dGVuZGVkID0gLyoqIEB0eXBlIHshRnVuY3Rpb259ICovKG1peGluKShiYXNlKTtcbiAgICAgIG1hcC5zZXQoYmFzZSwgZXh0ZW5kZWQpO1xuICAgIH1cbiAgICAvLyBjb3B5IGluaGVyaXRlZCBtaXhpbiBzZXQgZnJvbSB0aGUgZXh0ZW5kZWQgY2xhc3MsIG9yIHRoZSBiYXNlIGNsYXNzXG4gICAgLy8gTk9URTogd2UgYXZvaWQgdXNlIG9mIFNldCBoZXJlIGJlY2F1c2Ugc29tZSBicm93c2VyIChJRTExKVxuICAgIC8vIGNhbm5vdCBleHRlbmQgYSBiYXNlIFNldCB2aWEgdGhlIGNvbnN0cnVjdG9yLlxuICAgIGxldCBtaXhpblNldCA9IE9iamVjdC5jcmVhdGUoLyoqIEB0eXBlIHshTWl4aW5GdW5jdGlvbn0gKi8oZXh0ZW5kZWQpLl9fbWl4aW5TZXQgfHwgYmFzZVNldCB8fCBudWxsKTtcbiAgICBtaXhpblNldFttaXhpbkRlZHVwZUlkXSA9IHRydWU7XG4gICAgLyoqIEB0eXBlIHshTWl4aW5GdW5jdGlvbn0gKi8oZXh0ZW5kZWQpLl9fbWl4aW5TZXQgPSBtaXhpblNldDtcbiAgICByZXR1cm4gZXh0ZW5kZWQ7XG4gIH1cblxuICByZXR1cm4gZGVkdXBpbmdNaXhpbjtcbn07XG4vKiBlc2xpbnQtZW5hYmxlIHZhbGlkLWpzZG9jICovXG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuLi91dGlscy9ib290LmpzJztcblxuaW1wb3J0IHsgcmVzb2x2ZVVybCwgcGF0aEZyb21VcmwgfSBmcm9tICcuLi91dGlscy9yZXNvbHZlLXVybC5qcyc7XG5pbXBvcnQgeyBzdHJpY3RUZW1wbGF0ZVBvbGljeSB9IGZyb20gJy4uL3V0aWxzL3NldHRpbmdzLmpzJztcblxubGV0IG1vZHVsZXMgPSB7fTtcbmxldCBsY01vZHVsZXMgPSB7fTtcbi8qKlxuICogU2V0cyBhIGRvbS1tb2R1bGUgaW50byB0aGUgZ2xvYmFsIHJlZ2lzdHJ5IGJ5IGlkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBkb20tbW9kdWxlIGlkXG4gKiBAcGFyYW0ge0RvbU1vZHVsZX0gbW9kdWxlIGRvbS1tb2R1bGUgaW5zdGFuY2VcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHNldE1vZHVsZShpZCwgbW9kdWxlKSB7XG4gIC8vIHN0b3JlIGlkIHNlcGFyYXRlIGZyb20gbG93ZXJjYXNlZCBpZCBzbyB0aGF0XG4gIC8vIGluIGFsbCBjYXNlcyBtaXhlZENhc2UgaWQgd2lsbCBzdG9yZWQgZGlzdGluY3RseVxuICAvLyBhbmQgbG93ZXJjYXNlIHZlcnNpb24gaXMgYSBmYWxsYmFja1xuICBtb2R1bGVzW2lkXSA9IGxjTW9kdWxlc1tpZC50b0xvd2VyQ2FzZSgpXSA9IG1vZHVsZTtcbn1cbi8qKlxuICogUmV0cmlldmVzIGEgZG9tLW1vZHVsZSBmcm9tIHRoZSBnbG9iYWwgcmVnaXN0cnkgYnkgaWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGlkIGRvbS1tb2R1bGUgaWRcbiAqIEByZXR1cm4ge0RvbU1vZHVsZSF9IGRvbS1tb2R1bGUgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gZmluZE1vZHVsZShpZCkge1xuICByZXR1cm4gbW9kdWxlc1tpZF0gfHwgbGNNb2R1bGVzW2lkLnRvTG93ZXJDYXNlKCldO1xufVxuXG5mdW5jdGlvbiBzdHlsZU91dHNpZGVUZW1wbGF0ZUNoZWNrKGluc3QpIHtcbiAgaWYgKGluc3QucXVlcnlTZWxlY3Rvcignc3R5bGUnKSkge1xuICAgIGNvbnNvbGUud2FybignZG9tLW1vZHVsZSAlcyBoYXMgc3R5bGUgb3V0c2lkZSB0ZW1wbGF0ZScsIGluc3QuaWQpO1xuICB9XG59XG5cbi8qKlxuICogVGhlIGBkb20tbW9kdWxlYCBlbGVtZW50IHJlZ2lzdGVycyB0aGUgZG9tIGl0IGNvbnRhaW5zIHRvIHRoZSBuYW1lIGdpdmVuXG4gKiBieSB0aGUgbW9kdWxlJ3MgaWQgYXR0cmlidXRlLiBJdCBwcm92aWRlcyBhIHVuaWZpZWQgZGF0YWJhc2Ugb2YgZG9tXG4gKiBhY2Nlc3NpYmxlIHZpYSBpdHMgc3RhdGljIGBpbXBvcnRgIEFQSS5cbiAqXG4gKiBBIGtleSB1c2UgY2FzZSBvZiBgZG9tLW1vZHVsZWAgaXMgZm9yIHByb3ZpZGluZyBjdXN0b20gZWxlbWVudCBgPHRlbXBsYXRlPmBzXG4gKiB2aWEgSFRNTCBpbXBvcnRzIHRoYXQgYXJlIHBhcnNlZCBieSB0aGUgbmF0aXZlIEhUTUwgcGFyc2VyLCB0aGF0IGNhbiBiZVxuICogcmVsb2NhdGVkIGR1cmluZyBhIGJ1bmRsaW5nIHBhc3MgYW5kIHN0aWxsIGxvb2tlZCB1cCBieSBgaWRgLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogICAgIDxkb20tbW9kdWxlIGlkPVwiZm9vXCI+XG4gKiAgICAgICA8aW1nIHNyYz1cInN0dWZmLnBuZ1wiPlxuICogICAgIDwvZG9tLW1vZHVsZT5cbiAqXG4gKiBUaGVuIGluIGNvZGUgaW4gc29tZSBvdGhlciBsb2NhdGlvbiB0aGF0IGNhbm5vdCBhY2Nlc3MgdGhlIGRvbS1tb2R1bGUgYWJvdmVcbiAqXG4gKiAgICAgbGV0IGltZyA9IGN1c3RvbUVsZW1lbnRzLmdldCgnZG9tLW1vZHVsZScpLmltcG9ydCgnZm9vJywgJ2ltZycpO1xuICpcbiAqIEBjdXN0b21FbGVtZW50XG4gKiBAZXh0ZW5kcyBIVE1MRWxlbWVudFxuICogQHN1bW1hcnkgQ3VzdG9tIGVsZW1lbnQgdGhhdCBwcm92aWRlcyBhIHJlZ2lzdHJ5IG9mIHJlbG9jYXRhYmxlIERPTSBjb250ZW50XG4gKiAgIGJ5IGBpZGAgdGhhdCBpcyBhZ25vc3RpYyB0byBidW5kbGluZy5cbiAqIEB1bnJlc3RyaWN0ZWRcbiAqL1xuZXhwb3J0IGNsYXNzIERvbU1vZHVsZSBleHRlbmRzIEhUTUxFbGVtZW50IHtcblxuICAvKiogQG92ZXJyaWRlICovXG4gIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkgeyByZXR1cm4gWydpZCddOyB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgZWxlbWVudCBzcGVjaWZpZWQgYnkgdGhlIGNzcyBgc2VsZWN0b3JgIGluIHRoZSBtb2R1bGVcbiAgICogcmVnaXN0ZXJlZCBieSBgaWRgLiBGb3IgZXhhbXBsZSwgdGhpcy5pbXBvcnQoJ2ZvbycsICdpbWcnKTtcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBpZCBvZiB0aGUgZG9tLW1vZHVsZSBpbiB3aGljaCB0byBzZWFyY2guXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gc2VsZWN0b3IgVGhlIGNzcyBzZWxlY3RvciBieSB3aGljaCB0byBmaW5kIHRoZSBlbGVtZW50LlxuICAgKiBAcmV0dXJuIHtFbGVtZW50fSBSZXR1cm5zIHRoZSBlbGVtZW50IHdoaWNoIG1hdGNoZXMgYHNlbGVjdG9yYCBpbiB0aGVcbiAgICogbW9kdWxlIHJlZ2lzdGVyZWQgYXQgdGhlIHNwZWNpZmllZCBgaWRgLlxuICAgKlxuICAgKiBAZXhwb3J0XG4gICAqIEBub2NvbGxhcHNlIFJlZmVycmVkIHRvIGluZGlyZWN0bHkgaW4gc3R5bGUtZ2F0aGVyLmpzXG4gICAqL1xuICBzdGF0aWMgaW1wb3J0KGlkLCBzZWxlY3Rvcikge1xuICAgIGlmIChpZCkge1xuICAgICAgbGV0IG0gPSBmaW5kTW9kdWxlKGlkKTtcbiAgICAgIGlmIChtICYmIHNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBtLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgYXR0cmlidXRlLlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IG9sZCBPbGQgdmFsdWUgb2YgYXR0cmlidXRlLlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IHZhbHVlIEN1cnJlbnQgdmFsdWUgb2YgYXR0cmlidXRlLlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IG5hbWVzcGFjZSBBdHRyaWJ1dGUgbmFtZXNwYWNlLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGQsIHZhbHVlLCBuYW1lc3BhY2UpIHtcbiAgICBpZiAob2xkICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5yZWdpc3RlcigpO1xuICAgIH1cbiAgfVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC1hcmdzICovXG5cbiAgLyoqXG4gICAqIFRoZSBhYnNvbHV0ZSBVUkwgb2YgdGhlIG9yaWdpbmFsIGxvY2F0aW9uIG9mIHRoaXMgYGRvbS1tb2R1bGVgLlxuICAgKlxuICAgKiBUaGlzIHZhbHVlIHdpbGwgZGlmZmVyIGZyb20gdGhpcyBlbGVtZW50J3MgYG93bmVyRG9jdW1lbnRgIGluIHRoZVxuICAgKiBmb2xsb3dpbmcgd2F5czpcbiAgICogLSBUYWtlcyBpbnRvIGFjY291bnQgYW55IGBhc3NldHBhdGhgIGF0dHJpYnV0ZSBhZGRlZCBkdXJpbmcgYnVuZGxpbmdcbiAgICogICB0byBpbmRpY2F0ZSB0aGUgb3JpZ2luYWwgbG9jYXRpb24gcmVsYXRpdmUgdG8gdGhlIGJ1bmRsZWQgbG9jYXRpb25cbiAgICogLSBVc2VzIHRoZSBIVE1MSW1wb3J0cyBwb2x5ZmlsbCdzIGBpbXBvcnRGb3JFbGVtZW50YCBBUEkgdG8gZW5zdXJlXG4gICAqICAgdGhlIHBhdGggaXMgcmVsYXRpdmUgdG8gdGhlIGltcG9ydCBkb2N1bWVudCdzIGxvY2F0aW9uIHNpbmNlXG4gICAqICAgYG93bmVyRG9jdW1lbnRgIGlzIG5vdCBjdXJyZW50bHkgcG9seWZpbGxlZFxuICAgKi9cbiAgZ2V0IGFzc2V0cGF0aCgpIHtcbiAgICAvLyBEb24ndCBvdmVycmlkZSBleGlzdGluZyBhc3NldHBhdGguXG4gICAgaWYgKCF0aGlzLl9fYXNzZXRwYXRoKSB7XG4gICAgICAvLyBub3RlOiBhc3NldHBhdGggc2V0IHZpYSBhbiBhdHRyaWJ1dGUgbXVzdCBiZSByZWxhdGl2ZSB0byB0aGlzXG4gICAgICAvLyBlbGVtZW50J3MgbG9jYXRpb247IGFjY29tb2RhdGUgcG9seWZpbGxlZCBIVE1MSW1wb3J0c1xuICAgICAgY29uc3Qgb3duZXIgPSB3aW5kb3cuSFRNTEltcG9ydHMgJiYgSFRNTEltcG9ydHMuaW1wb3J0Rm9yRWxlbWVudCA/XG4gICAgICAgIEhUTUxJbXBvcnRzLmltcG9ydEZvckVsZW1lbnQodGhpcykgfHwgZG9jdW1lbnQgOiB0aGlzLm93bmVyRG9jdW1lbnQ7XG4gICAgICBjb25zdCB1cmwgPSByZXNvbHZlVXJsKFxuICAgICAgICB0aGlzLmdldEF0dHJpYnV0ZSgnYXNzZXRwYXRoJykgfHwgJycsIG93bmVyLmJhc2VVUkkpO1xuICAgICAgdGhpcy5fX2Fzc2V0cGF0aCA9IHBhdGhGcm9tVXJsKHVybCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9fYXNzZXRwYXRoO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyB0aGUgZG9tLW1vZHVsZSBhdCBhIGdpdmVuIGlkLiBUaGlzIG1ldGhvZCBzaG91bGQgb25seSBiZSBjYWxsZWRcbiAgICogd2hlbiBhIGRvbS1tb2R1bGUgaXMgaW1wZXJhdGl2ZWx5IGNyZWF0ZWQuIEZvclxuICAgKiBleGFtcGxlLCBgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZG9tLW1vZHVsZScpLnJlZ2lzdGVyKCdmb28nKWAuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gaWQgVGhlIGlkIGF0IHdoaWNoIHRvIHJlZ2lzdGVyIHRoZSBkb20tbW9kdWxlLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgcmVnaXN0ZXIoaWQpIHtcbiAgICBpZCA9IGlkIHx8IHRoaXMuaWQ7XG4gICAgaWYgKGlkKSB7XG4gICAgICAvLyBVbmRlciBzdHJpY3RUZW1wbGF0ZVBvbGljeSwgcmVqZWN0IGFuZCBudWxsIG91dCBhbnkgcmUtcmVnaXN0ZXJlZFxuICAgICAgLy8gZG9tLW1vZHVsZSBzaW5jZSBpdCBpcyBhbWJpZ3VvdXMgd2hldGhlciBmaXJzdC1pbiBvciBsYXN0LWluIGlzIHRydXN0ZWRcbiAgICAgIGlmIChzdHJpY3RUZW1wbGF0ZVBvbGljeSAmJiBmaW5kTW9kdWxlKGlkKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNldE1vZHVsZShpZCwgbnVsbCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgc3RyaWN0VGVtcGxhdGVQb2xpY3k6IGRvbS1tb2R1bGUgJHtpZH0gcmUtcmVnaXN0ZXJlZGApO1xuICAgICAgfVxuICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgc2V0TW9kdWxlKGlkLCB0aGlzKTtcbiAgICAgIHN0eWxlT3V0c2lkZVRlbXBsYXRlQ2hlY2sodGhpcyk7XG4gICAgfVxuICB9XG59XG5cbkRvbU1vZHVsZS5wcm90b3R5cGVbJ21vZHVsZXMnXSA9IG1vZHVsZXM7XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnZG9tLW1vZHVsZScsIERvbU1vZHVsZSk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4vKipcbiAqIE1vZHVsZSB3aXRoIHV0aWxpdGllcyBmb3IgY29sbGVjdGlvbiBDU1MgdGV4dCBmcm9tIGA8dGVtcGxhdGVzPmAsIGV4dGVybmFsXG4gKiBzdHlsZXNoZWV0cywgYW5kIGBkb20tbW9kdWxlYHMuXG4gKlxuICogQHN1bW1hcnkgTW9kdWxlIHdpdGggdXRpbGl0aWVzIGZvciBjb2xsZWN0aW9uIENTUyB0ZXh0IGZyb20gdmFyaW91cyBzb3VyY2VzLlxuICovXG5cbmltcG9ydCB7IERvbU1vZHVsZSB9IGZyb20gJy4uL2VsZW1lbnRzL2RvbS1tb2R1bGUuanMnO1xuaW1wb3J0IHsgcmVzb2x2ZUNzcyB9IGZyb20gJy4vcmVzb2x2ZS11cmwuanMnO1xuXG5jb25zdCBNT0RVTEVfU1RZTEVfTElOS19TRUxFQ1RPUiA9ICdsaW5rW3JlbD1pbXBvcnRdW3R5cGV+PWNzc10nO1xuY29uc3QgSU5DTFVERV9BVFRSID0gJ2luY2x1ZGUnO1xuY29uc3QgU0hBRFlfVU5TQ09QRURfQVRUUiA9ICdzaGFkeS11bnNjb3BlZCc7XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG1vZHVsZUlkIC5cbiAqIEByZXR1cm4gez9Eb21Nb2R1bGV9IC5cbiAqL1xuZnVuY3Rpb24gaW1wb3J0TW9kdWxlKG1vZHVsZUlkKSB7XG4gIHJldHVybiAvKiogQHR5cGUgez9Eb21Nb2R1bGV9ICovKERvbU1vZHVsZS5pbXBvcnQobW9kdWxlSWQpKTtcbn1cblxuZnVuY3Rpb24gc3R5bGVGb3JJbXBvcnQoaW1wb3J0RG9jKSB7XG4gIC8vIE5PVEU6IHBvbHlmaWxsIGFmZm9yZGFuY2UuXG4gIC8vIHVuZGVyIHRoZSBIVE1MSW1wb3J0cyBwb2x5ZmlsbCwgdGhlcmUgd2lsbCBiZSBubyAnYm9keScsXG4gIC8vIGJ1dCB0aGUgaW1wb3J0IHBzZXVkby1kb2MgY2FuIGJlIHVzZWQgZGlyZWN0bHkuXG4gIGxldCBjb250YWluZXIgPSBpbXBvcnREb2MuYm9keSA/IGltcG9ydERvYy5ib2R5IDogaW1wb3J0RG9jO1xuICBjb25zdCBpbXBvcnRDc3MgPSByZXNvbHZlQ3NzKGNvbnRhaW5lci50ZXh0Q29udGVudCxcbiAgICBpbXBvcnREb2MuYmFzZVVSSSk7XG4gIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgc3R5bGUudGV4dENvbnRlbnQgPSBpbXBvcnRDc3M7XG4gIHJldHVybiBzdHlsZTtcbn1cblxuLyoqIEB0eXBlZGVmIHt7YXNzZXRwYXRoOiBzdHJpbmd9fSAqL1xubGV0IHRlbXBsYXRlV2l0aEFzc2V0UGF0aDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG5cbi8qKlxuICogUmV0dXJucyBhIGxpc3Qgb2YgPHN0eWxlPiBlbGVtZW50cyBpbiBhIHNwYWNlLXNlcGFyYXRlZCBsaXN0IG9mIGBkb20tbW9kdWxlYHMuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9kdWxlSWRzIExpc3Qgb2YgZG9tLW1vZHVsZSBpZCdzIHdpdGhpbiB3aGljaCB0b1xuICogc2VhcmNoIGZvciBjc3MuXG4gKiBAcmV0dXJuIHshQXJyYXk8IUhUTUxTdHlsZUVsZW1lbnQ+fSBBcnJheSBvZiBjb250YWluZWQgPHN0eWxlPiBlbGVtZW50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gc3R5bGVzRnJvbU1vZHVsZXMobW9kdWxlSWRzKSB7XG4gY29uc3QgbW9kdWxlcyA9IG1vZHVsZUlkcy50cmltKCkuc3BsaXQoL1xccysvKTtcbiBjb25zdCBzdHlsZXMgPSBbXTtcbiBmb3IgKGxldCBpPTA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICBzdHlsZXMucHVzaCguLi5zdHlsZXNGcm9tTW9kdWxlKG1vZHVsZXNbaV0pKTtcbiB9XG4gcmV0dXJuIHN0eWxlcztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgbGlzdCBvZiA8c3R5bGU+IGVsZW1lbnRzIGluIGEgZ2l2ZW4gYGRvbS1tb2R1bGVgLlxuICogU3R5bGVzIGluIGEgYGRvbS1tb2R1bGVgIGNhbiBjb21lIGVpdGhlciBmcm9tIGA8c3R5bGU+YHMgd2l0aGluIHRoZVxuICogZmlyc3QgYDx0ZW1wbGF0ZT5gLCBvciBlbHNlIGZyb20gb25lIG9yIG1vcmVcbiAqIGA8bGluayByZWw9XCJpbXBvcnRcIiB0eXBlPVwiY3NzXCI+YCBsaW5rcyBvdXRzaWRlIHRoZSB0ZW1wbGF0ZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9kdWxlSWQgZG9tLW1vZHVsZSBpZCB0byBnYXRoZXIgc3R5bGVzIGZyb21cbiAqIEByZXR1cm4geyFBcnJheTwhSFRNTFN0eWxlRWxlbWVudD59IEFycmF5IG9mIGNvbnRhaW5lZCBzdHlsZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHlsZXNGcm9tTW9kdWxlKG1vZHVsZUlkKSB7XG4gIGNvbnN0IG0gPSBpbXBvcnRNb2R1bGUobW9kdWxlSWQpO1xuXG4gIGlmICghbSkge1xuICAgIGNvbnNvbGUud2FybignQ291bGQgbm90IGZpbmQgc3R5bGUgZGF0YSBpbiBtb2R1bGUgbmFtZWQnLCBtb2R1bGVJZCk7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgaWYgKG0uX3N0eWxlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3Qgc3R5bGVzID0gW107XG4gICAgLy8gbW9kdWxlIGltcG9ydHM6IDxsaW5rIHJlbD1cImltcG9ydFwiIHR5cGU9XCJjc3NcIj5cbiAgICBzdHlsZXMucHVzaCguLi5fc3R5bGVzRnJvbU1vZHVsZUltcG9ydHMobSkpO1xuICAgIC8vIGluY2x1ZGUgY3NzIGZyb20gdGhlIGZpcnN0IHRlbXBsYXRlIGluIHRoZSBtb2R1bGVcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IC8qKiBAdHlwZSB7P0hUTUxUZW1wbGF0ZUVsZW1lbnR9ICovKFxuICAgICAgICBtLnF1ZXJ5U2VsZWN0b3IoJ3RlbXBsYXRlJykpO1xuICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgc3R5bGVzLnB1c2goLi4uc3R5bGVzRnJvbVRlbXBsYXRlKHRlbXBsYXRlLFxuICAgICAgICAvKiogQHR5cGUge3RlbXBsYXRlV2l0aEFzc2V0UGF0aH0gKi8obSkuYXNzZXRwYXRoKSk7XG4gICAgfVxuXG4gICAgbS5fc3R5bGVzID0gc3R5bGVzO1xuICB9XG5cbiAgcmV0dXJuIG0uX3N0eWxlcztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBgPHN0eWxlPmAgZWxlbWVudHMgd2l0aGluIGEgZ2l2ZW4gdGVtcGxhdGUuXG4gKlxuICogQHBhcmFtIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGUgVGVtcGxhdGUgdG8gZ2F0aGVyIHN0eWxlcyBmcm9tXG4gKiBAcGFyYW0ge3N0cmluZz19IGJhc2VVUkkgYmFzZVVSSSBmb3Igc3R5bGUgY29udGVudFxuICogQHJldHVybiB7IUFycmF5PCFIVE1MU3R5bGVFbGVtZW50Pn0gQXJyYXkgb2Ygc3R5bGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHlsZXNGcm9tVGVtcGxhdGUodGVtcGxhdGUsIGJhc2VVUkkpIHtcbiAgaWYgKCF0ZW1wbGF0ZS5fc3R5bGVzKSB7XG4gICAgY29uc3Qgc3R5bGVzID0gW107XG4gICAgLy8gaWYgZWxlbWVudCBpcyBhIHRlbXBsYXRlLCBnZXQgY29udGVudCBmcm9tIGl0cyAuY29udGVudFxuICAgIGNvbnN0IGUkID0gdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yQWxsKCdzdHlsZScpO1xuICAgIGZvciAobGV0IGk9MDsgaSA8IGUkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZSA9IGUkW2ldO1xuICAgICAgLy8gc3VwcG9ydCBzdHlsZSBzaGFyaW5nIGJ5IGFsbG93aW5nIHN0eWxlcyB0byBcImluY2x1ZGVcIlxuICAgICAgLy8gb3RoZXIgZG9tLW1vZHVsZXMgdGhhdCBjb250YWluIHN0eWxpbmdcbiAgICAgIGxldCBpbmNsdWRlID0gZS5nZXRBdHRyaWJ1dGUoSU5DTFVERV9BVFRSKTtcbiAgICAgIGlmIChpbmNsdWRlKSB7XG4gICAgICAgIHN0eWxlcy5wdXNoKC4uLnN0eWxlc0Zyb21Nb2R1bGVzKGluY2x1ZGUpLmZpbHRlcihmdW5jdGlvbihpdGVtLCBpbmRleCwgc2VsZikge1xuICAgICAgICAgIHJldHVybiBzZWxmLmluZGV4T2YoaXRlbSkgPT09IGluZGV4O1xuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgICBpZiAoYmFzZVVSSSkge1xuICAgICAgICBlLnRleHRDb250ZW50ID1cbiAgICAgICAgICAgIHJlc29sdmVDc3MoZS50ZXh0Q29udGVudCwgLyoqIEB0eXBlIHtzdHJpbmd9ICovIChiYXNlVVJJKSk7XG4gICAgICB9XG4gICAgICBzdHlsZXMucHVzaChlKTtcbiAgICB9XG4gICAgdGVtcGxhdGUuX3N0eWxlcyA9IHN0eWxlcztcbiAgfVxuICByZXR1cm4gdGVtcGxhdGUuX3N0eWxlcztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgbGlzdCBvZiA8c3R5bGU+IGVsZW1lbnRzICBmcm9tIHN0eWxlc2hlZXRzIGxvYWRlZCB2aWEgYDxsaW5rIHJlbD1cImltcG9ydFwiIHR5cGU9XCJjc3NcIj5gIGxpbmtzIHdpdGhpbiB0aGUgc3BlY2lmaWVkIGBkb20tbW9kdWxlYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9kdWxlSWQgSWQgb2YgYGRvbS1tb2R1bGVgIHRvIGdhdGhlciBDU1MgZnJvbVxuICogQHJldHVybiB7IUFycmF5PCFIVE1MU3R5bGVFbGVtZW50Pn0gQXJyYXkgb2YgY29udGFpbmVkIHN0eWxlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0eWxlc0Zyb21Nb2R1bGVJbXBvcnRzKG1vZHVsZUlkKSB7XG4gbGV0IG0gPSBpbXBvcnRNb2R1bGUobW9kdWxlSWQpO1xuIHJldHVybiBtID8gX3N0eWxlc0Zyb21Nb2R1bGVJbXBvcnRzKG0pIDogW107XG59XG5cbi8qKlxuICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IG1vZHVsZSBkb20tbW9kdWxlIGVsZW1lbnQgdGhhdCBjb3VsZCBjb250YWluIGA8bGluayByZWw9XCJpbXBvcnRcIiB0eXBlPVwiY3NzXCI+YCBzdHlsZXNcbiAqIEByZXR1cm4geyFBcnJheTwhSFRNTFN0eWxlRWxlbWVudD59IEFycmF5IG9mIGNvbnRhaW5lZCBzdHlsZXNcbiAqL1xuZnVuY3Rpb24gX3N0eWxlc0Zyb21Nb2R1bGVJbXBvcnRzKG1vZHVsZSkge1xuICBjb25zdCBzdHlsZXMgPSBbXTtcbiAgY29uc3QgcCQgPSBtb2R1bGUucXVlcnlTZWxlY3RvckFsbChNT0RVTEVfU1RZTEVfTElOS19TRUxFQ1RPUik7XG4gIGZvciAobGV0IGk9MDsgaSA8IHAkLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IHAgPSBwJFtpXTtcbiAgICBpZiAocC5pbXBvcnQpIHtcbiAgICAgIGNvbnN0IGltcG9ydERvYyA9IHAuaW1wb3J0O1xuICAgICAgY29uc3QgdW5zY29wZWQgPSBwLmhhc0F0dHJpYnV0ZShTSEFEWV9VTlNDT1BFRF9BVFRSKTtcbiAgICAgIGlmICh1bnNjb3BlZCAmJiAhaW1wb3J0RG9jLl91bnNjb3BlZFN0eWxlKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gc3R5bGVGb3JJbXBvcnQoaW1wb3J0RG9jKTtcbiAgICAgICAgc3R5bGUuc2V0QXR0cmlidXRlKFNIQURZX1VOU0NPUEVEX0FUVFIsICcnKTtcbiAgICAgICAgaW1wb3J0RG9jLl91bnNjb3BlZFN0eWxlID0gc3R5bGU7XG4gICAgICB9IGVsc2UgaWYgKCFpbXBvcnREb2MuX3N0eWxlKSB7XG4gICAgICAgIGltcG9ydERvYy5fc3R5bGUgPSBzdHlsZUZvckltcG9ydChpbXBvcnREb2MpO1xuICAgICAgfVxuICAgICAgc3R5bGVzLnB1c2godW5zY29wZWQgPyBpbXBvcnREb2MuX3Vuc2NvcGVkU3R5bGUgOiBpbXBvcnREb2MuX3N0eWxlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0eWxlcztcbn1cblxuLyoqXG4gKlxuICogUmV0dXJucyBDU1MgdGV4dCBvZiBzdHlsZXMgaW4gYSBzcGFjZS1zZXBhcmF0ZWQgbGlzdCBvZiBgZG9tLW1vZHVsZWBzLlxuICogTm90ZTogVGhpcyBtZXRob2QgaXMgZGVwcmVjYXRlZCwgdXNlIGBzdHlsZXNGcm9tTW9kdWxlc2AgaW5zdGVhZC5cbiAqXG4gKiBAZGVwcmVjYXRlZFxuICogQHBhcmFtIHtzdHJpbmd9IG1vZHVsZUlkcyBMaXN0IG9mIGRvbS1tb2R1bGUgaWQncyB3aXRoaW4gd2hpY2ggdG9cbiAqIHNlYXJjaCBmb3IgY3NzLlxuICogQHJldHVybiB7c3RyaW5nfSBDb25jYXRlbmF0ZWQgQ1NTIGNvbnRlbnQgZnJvbSBzcGVjaWZpZWQgYGRvbS1tb2R1bGVgc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3NzRnJvbU1vZHVsZXMobW9kdWxlSWRzKSB7XG4gbGV0IG1vZHVsZXMgPSBtb2R1bGVJZHMudHJpbSgpLnNwbGl0KC9cXHMrLyk7XG4gbGV0IGNzc1RleHQgPSAnJztcbiBmb3IgKGxldCBpPTA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICBjc3NUZXh0ICs9IGNzc0Zyb21Nb2R1bGUobW9kdWxlc1tpXSk7XG4gfVxuIHJldHVybiBjc3NUZXh0O1xufVxuXG4vKipcbiAqIFJldHVybnMgQ1NTIHRleHQgb2Ygc3R5bGVzIGluIGEgZ2l2ZW4gYGRvbS1tb2R1bGVgLiAgQ1NTIGluIGEgYGRvbS1tb2R1bGVgXG4gKiBjYW4gY29tZSBlaXRoZXIgZnJvbSBgPHN0eWxlPmBzIHdpdGhpbiB0aGUgZmlyc3QgYDx0ZW1wbGF0ZT5gLCBvciBlbHNlXG4gKiBmcm9tIG9uZSBvciBtb3JlIGA8bGluayByZWw9XCJpbXBvcnRcIiB0eXBlPVwiY3NzXCI+YCBsaW5rcyBvdXRzaWRlIHRoZVxuICogdGVtcGxhdGUuXG4gKlxuICogQW55IGA8c3R5bGVzPmAgcHJvY2Vzc2VkIGFyZSByZW1vdmVkIGZyb20gdGhlaXIgb3JpZ2luYWwgbG9jYXRpb24uXG4gKiBOb3RlOiBUaGlzIG1ldGhvZCBpcyBkZXByZWNhdGVkLCB1c2UgYHN0eWxlRnJvbU1vZHVsZWAgaW5zdGVhZC5cbiAqXG4gKiBAZGVwcmVjYXRlZFxuICogQHBhcmFtIHtzdHJpbmd9IG1vZHVsZUlkIGRvbS1tb2R1bGUgaWQgdG8gZ2F0aGVyIHN0eWxlcyBmcm9tXG4gKiBAcmV0dXJuIHtzdHJpbmd9IENvbmNhdGVuYXRlZCBDU1MgY29udGVudCBmcm9tIHNwZWNpZmllZCBgZG9tLW1vZHVsZWBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNzc0Zyb21Nb2R1bGUobW9kdWxlSWQpIHtcbiAgbGV0IG0gPSBpbXBvcnRNb2R1bGUobW9kdWxlSWQpO1xuICBpZiAobSAmJiBtLl9jc3NUZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBtb2R1bGUgaW1wb3J0czogPGxpbmsgcmVsPVwiaW1wb3J0XCIgdHlwZT1cImNzc1wiPlxuICAgIGxldCBjc3NUZXh0ID0gX2Nzc0Zyb21Nb2R1bGVJbXBvcnRzKG0pO1xuICAgIC8vIGluY2x1ZGUgY3NzIGZyb20gdGhlIGZpcnN0IHRlbXBsYXRlIGluIHRoZSBtb2R1bGVcbiAgICBsZXQgdCA9IC8qKiBAdHlwZSB7P0hUTUxUZW1wbGF0ZUVsZW1lbnR9ICovKG0ucXVlcnlTZWxlY3RvcigndGVtcGxhdGUnKSk7XG4gICAgaWYgKHQpIHtcbiAgICAgIGNzc1RleHQgKz0gY3NzRnJvbVRlbXBsYXRlKHQsXG4gICAgICAgIC8qKiBAdHlwZSB7dGVtcGxhdGVXaXRoQXNzZXRQYXRofSAqLyhtKS5hc3NldHBhdGgpO1xuICAgIH1cbiAgICBtLl9jc3NUZXh0ID0gY3NzVGV4dCB8fCBudWxsO1xuICB9XG4gIGlmICghbSkge1xuICAgIGNvbnNvbGUud2FybignQ291bGQgbm90IGZpbmQgc3R5bGUgZGF0YSBpbiBtb2R1bGUgbmFtZWQnLCBtb2R1bGVJZCk7XG4gIH1cbiAgcmV0dXJuIG0gJiYgbS5fY3NzVGV4dCB8fCAnJztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIENTUyB0ZXh0IG9mIGA8c3R5bGVzPmAgd2l0aGluIGEgZ2l2ZW4gdGVtcGxhdGUuXG4gKlxuICogQW55IGA8c3R5bGVzPmAgcHJvY2Vzc2VkIGFyZSByZW1vdmVkIGZyb20gdGhlaXIgb3JpZ2luYWwgbG9jYXRpb24uXG4gKiBOb3RlOiBUaGlzIG1ldGhvZCBpcyBkZXByZWNhdGVkLCB1c2UgYHN0eWxlRnJvbVRlbXBsYXRlYCBpbnN0ZWFkLlxuICpcbiAqIEBkZXByZWNhdGVkXG4gKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZSBUZW1wbGF0ZSB0byBnYXRoZXIgc3R5bGVzIGZyb21cbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJJIEJhc2UgVVJJIHRvIHJlc29sdmUgdGhlIFVSTCBhZ2FpbnN0XG4gKiBAcmV0dXJuIHtzdHJpbmd9IENvbmNhdGVuYXRlZCBDU1MgY29udGVudCBmcm9tIHNwZWNpZmllZCB0ZW1wbGF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3NzRnJvbVRlbXBsYXRlKHRlbXBsYXRlLCBiYXNlVVJJKSB7XG4gIGxldCBjc3NUZXh0ID0gJyc7XG4gIGNvbnN0IGUkID0gc3R5bGVzRnJvbVRlbXBsYXRlKHRlbXBsYXRlLCBiYXNlVVJJKTtcbiAgLy8gaWYgZWxlbWVudCBpcyBhIHRlbXBsYXRlLCBnZXQgY29udGVudCBmcm9tIGl0cyAuY29udGVudFxuICBmb3IgKGxldCBpPTA7IGkgPCBlJC5sZW5ndGg7IGkrKykge1xuICAgIGxldCBlID0gZSRbaV07XG4gICAgaWYgKGUucGFyZW50Tm9kZSkge1xuICAgICAgZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpO1xuICAgIH1cbiAgICBjc3NUZXh0ICs9IGUudGV4dENvbnRlbnQ7XG4gIH1cbiAgcmV0dXJuIGNzc1RleHQ7XG59XG5cbi8qKlxuICogUmV0dXJucyBDU1MgdGV4dCBmcm9tIHN0eWxlc2hlZXRzIGxvYWRlZCB2aWEgYDxsaW5rIHJlbD1cImltcG9ydFwiIHR5cGU9XCJjc3NcIj5gXG4gKiBsaW5rcyB3aXRoaW4gdGhlIHNwZWNpZmllZCBgZG9tLW1vZHVsZWAuXG4gKlxuICogTm90ZTogVGhpcyBtZXRob2QgaXMgZGVwcmVjYXRlZCwgdXNlIGBzdHlsZXNGcm9tTW9kdWxlSW1wb3J0c2AgaW5zdGVhZC5cbiAqXG4gKiBAZGVwcmVjYXRlZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtb2R1bGVJZCBJZCBvZiBgZG9tLW1vZHVsZWAgdG8gZ2F0aGVyIENTUyBmcm9tXG4gKiBAcmV0dXJuIHtzdHJpbmd9IENvbmNhdGVuYXRlZCBDU1MgY29udGVudCBmcm9tIGxpbmtzIGluIHNwZWNpZmllZCBgZG9tLW1vZHVsZWBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNzc0Zyb21Nb2R1bGVJbXBvcnRzKG1vZHVsZUlkKSB7XG4gIGxldCBtID0gaW1wb3J0TW9kdWxlKG1vZHVsZUlkKTtcbiAgcmV0dXJuIG0gPyBfY3NzRnJvbU1vZHVsZUltcG9ydHMobSkgOiAnJztcbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IG1vZHVsZSBkb20tbW9kdWxlIGVsZW1lbnQgdGhhdCBjb3VsZCBjb250YWluIGA8bGluayByZWw9XCJpbXBvcnRcIiB0eXBlPVwiY3NzXCI+YCBzdHlsZXNcbiAqIEByZXR1cm4ge3N0cmluZ30gQ29uY2F0ZW5hdGVkIENTUyBjb250ZW50IGZyb20gbGlua3MgaW4gdGhlIGRvbS1tb2R1bGVcbiAqL1xuZnVuY3Rpb24gX2Nzc0Zyb21Nb2R1bGVJbXBvcnRzKG1vZHVsZSkge1xuICBsZXQgY3NzVGV4dCA9ICcnO1xuICBsZXQgc3R5bGVzID0gX3N0eWxlc0Zyb21Nb2R1bGVJbXBvcnRzKG1vZHVsZSk7XG4gIGZvciAobGV0IGk9MDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuICAgIGNzc1RleHQgKz0gc3R5bGVzW2ldLnRleHRDb250ZW50O1xuICB9XG4gIHJldHVybiBjc3NUZXh0O1xufVxuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuLyogZXNsaW50LWRpc2FibGUgdmFsaWQtanNkb2MgKi9cbi8qKlxuICogTm9kZSB3cmFwcGVyIHRvIGVuc3VyZSBTaGFkb3dET00gc2FmZSBvcGVyYXRpb24gcmVnYXJkbGVzcyBvZiBwb2x5ZmlsbFxuICogcHJlc2VuY2Ugb3IgbW9kZS4gTm90ZSB0aGF0IHdpdGggdGhlIGludHJvZHVjdGlvbiBvZiBgU2hhZHlET00ubm9QYXRjaGAsXG4gKiBhIG5vZGUgd3JhcHBlciBtdXN0IGJlIHVzZWQgdG8gYWNjZXNzIFNoYWRvd0RPTSBBUEkuXG4gKiBUaGlzIGlzIHNpbWlsYXIgdG8gdXNpbmcgYFBvbHltZXIuZG9tYCBidXQgcmVsaWVzIGV4Y2x1c2l2ZWx5XG4gKiBvbiB0aGUgcHJlc2VuY2Ugb2YgdGhlIFNoYWR5RE9NIHBvbHlmaWxsIHJhdGhlciB0aGFuIHJlcXVpcmluZyB0aGUgbG9hZGluZ1xuICogb2YgbGVnYWN5IChQb2x5bWVyLmRvbSkgQVBJLlxuICogQHR5cGUge2Z1bmN0aW9uKE5vZGUpOk5vZGV9XG4gKi9cbmV4cG9ydCBjb25zdCB3cmFwID0gKHdpbmRvd1snU2hhZHlET00nXSAmJiB3aW5kb3dbJ1NoYWR5RE9NJ11bJ25vUGF0Y2gnXSAmJiB3aW5kb3dbJ1NoYWR5RE9NJ11bJ3dyYXAnXSkgP1xuICB3aW5kb3dbJ1NoYWR5RE9NJ11bJ3dyYXAnXSA6XG4gICh3aW5kb3dbJ1NoYWR5RE9NJ10gPyAobikgPT4gU2hhZHlET01bJ3BhdGNoJ10obikgOiAobikgPT4gbik7XG5cbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJy4vYm9vdC5qcyc7XG5cbi8qKlxuICogTW9kdWxlIHdpdGggdXRpbGl0aWVzIGZvciBtYW5pcHVsYXRpbmcgc3RydWN0dXJlZCBkYXRhIHBhdGggc3RyaW5ncy5cbiAqXG4gKiBAc3VtbWFyeSBNb2R1bGUgd2l0aCB1dGlsaXRpZXMgZm9yIG1hbmlwdWxhdGluZyBzdHJ1Y3R1cmVkIGRhdGEgcGF0aCBzdHJpbmdzLlxuICovXG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBzdHJpbmcgaXMgYSBzdHJ1Y3R1cmVkIGRhdGEgcGF0aCAoaGFzIGRvdHMpLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBgXG4gKiBpc1BhdGgoJ2Zvby5iYXIuYmF6JykgLy8gdHJ1ZVxuICogaXNQYXRoKCdmb28nKSAgICAgICAgIC8vIGZhbHNlXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBQYXRoIHN0cmluZ1xuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgc3RyaW5nIGNvbnRhaW5lZCBvbmUgb3IgbW9yZSBkb3RzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1BhdGgocGF0aCkge1xuICByZXR1cm4gcGF0aC5pbmRleE9mKCcuJykgPj0gMDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSByb290IHByb3BlcnR5IG5hbWUgZm9yIHRoZSBnaXZlbiBwYXRoLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBgXG4gKiByb290KCdmb28uYmFyLmJheicpIC8vICdmb28nXG4gKiByb290KCdmb28nKSAgICAgICAgIC8vICdmb28nXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBQYXRoIHN0cmluZ1xuICogQHJldHVybiB7c3RyaW5nfSBSb290IHByb3BlcnR5IG5hbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvb3QocGF0aCkge1xuICBsZXQgZG90SW5kZXggPSBwYXRoLmluZGV4T2YoJy4nKTtcbiAgaWYgKGRvdEluZGV4ID09PSAtMSkge1xuICAgIHJldHVybiBwYXRoO1xuICB9XG4gIHJldHVybiBwYXRoLnNsaWNlKDAsIGRvdEluZGV4KTtcbn1cblxuLyoqXG4gKiBHaXZlbiBgYmFzZWAgaXMgYGZvby5iYXJgLCBgZm9vYCBpcyBhbiBhbmNlc3RvciwgYGZvby5iYXJgIGlzIG5vdFxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBwYXRoIGlzIGFuIGFuY2VzdG9yIG9mIHRoZSBiYXNlIHBhdGguXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBcbiAqIGlzQW5jZXN0b3IoJ2Zvby5iYXInLCAnZm9vJykgICAgICAgICAvLyB0cnVlXG4gKiBpc0FuY2VzdG9yKCdmb28uYmFyJywgJ2Zvby5iYXInKSAgICAgLy8gZmFsc2VcbiAqIGlzQW5jZXN0b3IoJ2Zvby5iYXInLCAnZm9vLmJhci5iYXonKSAvLyBmYWxzZVxuICogYGBgXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2UgUGF0aCBzdHJpbmcgdG8gdGVzdCBhZ2FpbnN0LlxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggUGF0aCBzdHJpbmcgdG8gdGVzdC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYHBhdGhgIGlzIGFuIGFuY2VzdG9yIG9mIGBiYXNlYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQW5jZXN0b3IoYmFzZSwgcGF0aCkge1xuICAvLyAgICAgYmFzZS5zdGFydHNXaXRoKHBhdGggKyAnLicpO1xuICByZXR1cm4gYmFzZS5pbmRleE9mKHBhdGggKyAnLicpID09PSAwO1xufVxuXG4vKipcbiAqIEdpdmVuIGBiYXNlYCBpcyBgZm9vLmJhcmAsIGBmb28uYmFyLmJhemAgaXMgYW4gZGVzY2VuZGFudFxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBgXG4gKiBpc0Rlc2NlbmRhbnQoJ2Zvby5iYXInLCAnZm9vLmJhci5iYXonKSAvLyB0cnVlXG4gKiBpc0Rlc2NlbmRhbnQoJ2Zvby5iYXInLCAnZm9vLmJhcicpICAgICAvLyBmYWxzZVxuICogaXNEZXNjZW5kYW50KCdmb28uYmFyJywgJ2ZvbycpICAgICAgICAgLy8gZmFsc2VcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlIFBhdGggc3RyaW5nIHRvIHRlc3QgYWdhaW5zdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFBhdGggc3RyaW5nIHRvIHRlc3QuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGBwYXRoYCBpcyBhIGRlc2NlbmRhbnQgb2YgYGJhc2VgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNEZXNjZW5kYW50KGJhc2UsIHBhdGgpIHtcbiAgLy8gICAgIHBhdGguc3RhcnRzV2l0aChiYXNlICsgJy4nKTtcbiAgcmV0dXJuIHBhdGguaW5kZXhPZihiYXNlICsgJy4nKSA9PT0gMDtcbn1cblxuLyoqXG4gKiBSZXBsYWNlcyBhIHByZXZpb3VzIGJhc2UgcGF0aCB3aXRoIGEgbmV3IGJhc2UgcGF0aCwgcHJlc2VydmluZyB0aGVcbiAqIHJlbWFpbmRlciBvZiB0aGUgcGF0aC5cbiAqXG4gKiBVc2VyIG11c3QgZW5zdXJlIGBwYXRoYCBoYXMgYSBwcmVmaXggb2YgYGJhc2VgLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBgXG4gKiB0cmFuc2xhdGUoJ2Zvby5iYXInLCAnem90JywgJ2Zvby5iYXIuYmF6JykgLy8gJ3pvdC5iYXonXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZSBDdXJyZW50IGJhc2Ugc3RyaW5nIHRvIHJlbW92ZVxuICogQHBhcmFtIHtzdHJpbmd9IG5ld0Jhc2UgTmV3IGJhc2Ugc3RyaW5nIHRvIHJlcGxhY2Ugd2l0aFxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggUGF0aCB0byB0cmFuc2xhdGVcbiAqIEByZXR1cm4ge3N0cmluZ30gVHJhbnNsYXRlZCBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZShiYXNlLCBuZXdCYXNlLCBwYXRoKSB7XG4gIHJldHVybiBuZXdCYXNlICsgcGF0aC5zbGljZShiYXNlLmxlbmd0aCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2UgUGF0aCBzdHJpbmcgdG8gdGVzdCBhZ2FpbnN0XG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBQYXRoIHN0cmluZyB0byB0ZXN0XG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGBwYXRoYCBpcyBlcXVhbCB0byBgYmFzZWBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoZXMoYmFzZSwgcGF0aCkge1xuICByZXR1cm4gKGJhc2UgPT09IHBhdGgpIHx8XG4gICAgICAgICBpc0FuY2VzdG9yKGJhc2UsIHBhdGgpIHx8XG4gICAgICAgICBpc0Rlc2NlbmRhbnQoYmFzZSwgcGF0aCk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYXJyYXktYmFzZWQgcGF0aHMgdG8gZmxhdHRlbmVkIHBhdGguICBTdHJpbmctYmFzZWQgcGF0aHNcbiAqIGFyZSByZXR1cm5lZCBhcy1pcy5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYFxuICogbm9ybWFsaXplKFsnZm9vLmJhcicsIDAsICdiYXonXSkgIC8vICdmb28uYmFyLjAuYmF6J1xuICogbm9ybWFsaXplKCdmb28uYmFyLjAuYmF6JykgICAgICAgIC8vICdmb28uYmFyLjAuYmF6J1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtzdHJpbmcgfCAhQXJyYXk8c3RyaW5nfG51bWJlcj59IHBhdGggSW5wdXQgcGF0aFxuICogQHJldHVybiB7c3RyaW5nfSBGbGF0dGVuZWQgcGF0aFxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKHBhdGgpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkocGF0aCkpIHtcbiAgICBsZXQgcGFydHMgPSBbXTtcbiAgICBmb3IgKGxldCBpPTA7IGk8cGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGFyZ3MgPSBwYXRoW2ldLnRvU3RyaW5nKCkuc3BsaXQoJy4nKTtcbiAgICAgIGZvciAobGV0IGo9MDsgajxhcmdzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHBhcnRzLnB1c2goYXJnc1tqXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYXJ0cy5qb2luKCcuJyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHBhdGg7XG4gIH1cbn1cblxuLyoqXG4gKiBTcGxpdHMgYSBwYXRoIGludG8gYW4gYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuIEFjY2VwdHMgZWl0aGVyIGFycmF5c1xuICogb2YgcGF0aCBwYXJ0cyBvciBzdHJpbmdzLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBgXG4gKiBzcGxpdChbJ2Zvby5iYXInLCAwLCAnYmF6J10pICAvLyBbJ2ZvbycsICdiYXInLCAnMCcsICdiYXonXVxuICogc3BsaXQoJ2Zvby5iYXIuMC5iYXonKSAgICAgICAgLy8gWydmb28nLCAnYmFyJywgJzAnLCAnYmF6J11cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nIHwgIUFycmF5PHN0cmluZ3xudW1iZXI+fSBwYXRoIElucHV0IHBhdGhcbiAqIEByZXR1cm4geyFBcnJheTxzdHJpbmc+fSBBcnJheSBvZiBwYXRoIHBhcnRzXG4gKiBAc3VwcHJlc3Mge2NoZWNrVHlwZXN9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcGxpdChwYXRoKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHBhdGgpKSB7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZShwYXRoKS5zcGxpdCgnLicpO1xuICB9XG4gIHJldHVybiBwYXRoLnRvU3RyaW5nKCkuc3BsaXQoJy4nKTtcbn1cblxuLyoqXG4gKiBSZWFkcyBhIHZhbHVlIGZyb20gYSBwYXRoLiAgSWYgYW55IHN1Yi1wcm9wZXJ0eSBpbiB0aGUgcGF0aCBpcyBgdW5kZWZpbmVkYCxcbiAqIHRoaXMgbWV0aG9kIHJldHVybnMgYHVuZGVmaW5lZGAgKHdpbGwgbmV2ZXIgdGhyb3cuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHJvb3QgT2JqZWN0IGZyb20gd2hpY2ggdG8gZGVyZWZlcmVuY2UgcGF0aCBmcm9tXG4gKiBAcGFyYW0ge3N0cmluZyB8ICFBcnJheTxzdHJpbmd8bnVtYmVyPn0gcGF0aCBQYXRoIHRvIHJlYWRcbiAqIEBwYXJhbSB7T2JqZWN0PX0gaW5mbyBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgdG8gYGluZm9gLCB0aGUgbm9ybWFsaXplZFxuICogIChmbGF0dGVuZWQpIHBhdGggd2lsbCBiZSBzZXQgdG8gYGluZm8ucGF0aGAuXG4gKiBAcmV0dXJuIHsqfSBWYWx1ZSBhdCBwYXRoLCBvciBgdW5kZWZpbmVkYCBpZiB0aGUgcGF0aCBjb3VsZCBub3QgYmVcbiAqICBmdWxseSBkZXJlZmVyZW5jZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXQocm9vdCwgcGF0aCwgaW5mbykge1xuICBsZXQgcHJvcCA9IHJvb3Q7XG4gIGxldCBwYXJ0cyA9IHNwbGl0KHBhdGgpO1xuICAvLyBMb29wIG92ZXIgcGF0aCBwYXJ0c1swLi5uLTFdIGFuZCBkZXJlZmVyZW5jZVxuICBmb3IgKGxldCBpPTA7IGk8cGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIXByb3ApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHBhcnQgPSBwYXJ0c1tpXTtcbiAgICBwcm9wID0gcHJvcFtwYXJ0XTtcbiAgfVxuICBpZiAoaW5mbykge1xuICAgIGluZm8ucGF0aCA9IHBhcnRzLmpvaW4oJy4nKTtcbiAgfVxuICByZXR1cm4gcHJvcDtcbn1cblxuLyoqXG4gKiBTZXRzIGEgdmFsdWUgdG8gYSBwYXRoLiAgSWYgYW55IHN1Yi1wcm9wZXJ0eSBpbiB0aGUgcGF0aCBpcyBgdW5kZWZpbmVkYCxcbiAqIHRoaXMgbWV0aG9kIHdpbGwgbm8tb3AuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHJvb3QgT2JqZWN0IGZyb20gd2hpY2ggdG8gZGVyZWZlcmVuY2UgcGF0aCBmcm9tXG4gKiBAcGFyYW0ge3N0cmluZyB8ICFBcnJheTxzdHJpbmd8bnVtYmVyPn0gcGF0aCBQYXRoIHRvIHNldFxuICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byBzZXQgdG8gcGF0aFxuICogQHJldHVybiB7c3RyaW5nIHwgdW5kZWZpbmVkfSBUaGUgbm9ybWFsaXplZCB2ZXJzaW9uIG9mIHRoZSBpbnB1dCBwYXRoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXQocm9vdCwgcGF0aCwgdmFsdWUpIHtcbiAgbGV0IHByb3AgPSByb290O1xuICBsZXQgcGFydHMgPSBzcGxpdChwYXRoKTtcbiAgbGV0IGxhc3QgPSBwYXJ0c1twYXJ0cy5sZW5ndGgtMV07XG4gIGlmIChwYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgLy8gTG9vcCBvdmVyIHBhdGggcGFydHNbMC4ubi0yXSBhbmQgZGVyZWZlcmVuY2VcbiAgICBmb3IgKGxldCBpPTA7IGk8cGFydHMubGVuZ3RoLTE7IGkrKykge1xuICAgICAgbGV0IHBhcnQgPSBwYXJ0c1tpXTtcbiAgICAgIHByb3AgPSBwcm9wW3BhcnRdO1xuICAgICAgaWYgKCFwcm9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gU2V0IHZhbHVlIHRvIG9iamVjdCBhdCBlbmQgb2YgcGF0aFxuICAgIHByb3BbbGFzdF0gPSB2YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICAvLyBTaW1wbGUgcHJvcGVydHkgc2V0XG4gICAgcHJvcFtwYXRoXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiBwYXJ0cy5qb2luKCcuJyk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBzdHJpbmcgaXMgYSBzdHJ1Y3R1cmVkIGRhdGEgcGF0aCAoaGFzIGRvdHMpLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZC4gIFVzZSBgaXNQYXRoYCBpbnN0ZWFkLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBgXG4gKiBpc0RlZXAoJ2Zvby5iYXIuYmF6JykgLy8gdHJ1ZVxuICogaXNEZWVwKCdmb28nKSAgICAgICAgIC8vIGZhbHNlXG4gKiBgYGBcbiAqXG4gKiBAZGVwcmVjYXRlZFxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggUGF0aCBzdHJpbmdcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIHN0cmluZyBjb250YWluZWQgb25lIG9yIG1vcmUgZG90c1xuICovXG5leHBvcnQgY29uc3QgaXNEZWVwID0gaXNQYXRoO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnLi9ib290LmpzJztcblxuY29uc3QgY2FzZU1hcCA9IHt9O1xuY29uc3QgREFTSF9UT19DQU1FTCA9IC8tW2Etel0vZztcbmNvbnN0IENBTUVMX1RPX0RBU0ggPSAvKFtBLVpdKS9nO1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgTW9kdWxlIHdpdGggdXRpbGl0aWVzIGZvciBjb252ZXJ0aW5nIGJldHdlZW4gXCJkYXNoLWNhc2VcIiBhbmRcbiAqIFwiY2FtZWxDYXNlXCIgaWRlbnRpZmllcnMuXG4gKi9cblxuLyoqXG4gKiBDb252ZXJ0cyBcImRhc2gtY2FzZVwiIGlkZW50aWZpZXIgKGUuZy4gYGZvby1iYXItYmF6YCkgdG8gXCJjYW1lbENhc2VcIlxuICogKGUuZy4gYGZvb0JhckJhemApLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXNoIERhc2gtY2FzZSBpZGVudGlmaWVyXG4gKiBAcmV0dXJuIHtzdHJpbmd9IENhbWVsLWNhc2UgcmVwcmVzZW50YXRpb24gb2YgdGhlIGlkZW50aWZpZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRhc2hUb0NhbWVsQ2FzZShkYXNoKSB7XG4gIHJldHVybiBjYXNlTWFwW2Rhc2hdIHx8IChcbiAgICBjYXNlTWFwW2Rhc2hdID0gZGFzaC5pbmRleE9mKCctJykgPCAwID8gZGFzaCA6IGRhc2gucmVwbGFjZShEQVNIX1RPX0NBTUVMLFxuICAgICAgKG0pID0+IG1bMV0udG9VcHBlckNhc2UoKVxuICAgIClcbiAgKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBcImNhbWVsQ2FzZVwiIGlkZW50aWZpZXIgKGUuZy4gYGZvb0JhckJhemApIHRvIFwiZGFzaC1jYXNlXCJcbiAqIChlLmcuIGBmb28tYmFyLWJhemApLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjYW1lbCBDYW1lbC1jYXNlIGlkZW50aWZpZXJcbiAqIEByZXR1cm4ge3N0cmluZ30gRGFzaC1jYXNlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBpZGVudGlmaWVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYW1lbFRvRGFzaENhc2UoY2FtZWwpIHtcbiAgcmV0dXJuIGNhc2VNYXBbY2FtZWxdIHx8IChcbiAgICBjYXNlTWFwW2NhbWVsXSA9IGNhbWVsLnJlcGxhY2UoQ0FNRUxfVE9fREFTSCwgJy0kMScpLnRvTG93ZXJDYXNlKClcbiAgKTtcbn1cbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbi8qKlxuICogQGZpbGVvdmVydmlld1xuICpcbiAqIFRoaXMgbW9kdWxlIHByb3ZpZGVzIGEgbnVtYmVyIG9mIHN0cmF0ZWdpZXMgZm9yIGVucXVldWluZyBhc3luY2hyb25vdXNcbiAqIHRhc2tzLiBFYWNoIHN1Yi1tb2R1bGUgcHJvdmlkZXMgYSBzdGFuZGFyZCBgcnVuKGZuKWAgaW50ZXJmYWNlIHRoYXQgcmV0dXJucyBhXG4gKiBoYW5kbGUsIGFuZCBhIGBjYW5jZWwoaGFuZGxlKWAgaW50ZXJmYWNlIGZvciBjYW5jZWxpbmcgYXN5bmMgdGFza3MgYmVmb3JlXG4gKiB0aGV5IHJ1bi5cbiAqXG4gKiBAc3VtbWFyeSBNb2R1bGUgdGhhdCBwcm92aWRlcyBhIG51bWJlciBvZiBzdHJhdGVnaWVzIGZvciBlbnF1ZXVpbmdcbiAqIGFzeW5jaHJvbm91cyB0YXNrcy5cbiAqL1xuXG5pbXBvcnQgJy4vYm9vdC5qcyc7XG5cbi8vIE1pY3JvdGFzayBpbXBsZW1lbnRlZCB1c2luZyBNdXRhdGlvbiBPYnNlcnZlclxubGV0IG1pY3JvdGFza0N1cnJIYW5kbGUgPSAwO1xubGV0IG1pY3JvdGFza0xhc3RIYW5kbGUgPSAwO1xubGV0IG1pY3JvdGFza0NhbGxiYWNrcyA9IFtdO1xubGV0IG1pY3JvdGFza05vZGVDb250ZW50ID0gMDtcbmxldCBtaWNyb3Rhc2tOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xubmV3IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyKG1pY3JvdGFza0ZsdXNoKS5vYnNlcnZlKG1pY3JvdGFza05vZGUsIHtjaGFyYWN0ZXJEYXRhOiB0cnVlfSk7XG5cbmZ1bmN0aW9uIG1pY3JvdGFza0ZsdXNoKCkge1xuICBjb25zdCBsZW4gPSBtaWNyb3Rhc2tDYWxsYmFja3MubGVuZ3RoO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgbGV0IGNiID0gbWljcm90YXNrQ2FsbGJhY2tzW2ldO1xuICAgIGlmIChjYikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY2IoKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IHRocm93IGU7IH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBtaWNyb3Rhc2tDYWxsYmFja3Muc3BsaWNlKDAsIGxlbik7XG4gIG1pY3JvdGFza0xhc3RIYW5kbGUgKz0gbGVuO1xufVxuXG4vKipcbiAqIEFzeW5jIGludGVyZmFjZSB3cmFwcGVyIGFyb3VuZCBgc2V0VGltZW91dGAuXG4gKlxuICogQG5hbWVzcGFjZVxuICogQHN1bW1hcnkgQXN5bmMgaW50ZXJmYWNlIHdyYXBwZXIgYXJvdW5kIGBzZXRUaW1lb3V0YC5cbiAqL1xuY29uc3QgdGltZU91dCA9IHtcbiAgLyoqXG4gICAqIFJldHVybnMgYSBzdWItbW9kdWxlIHdpdGggdGhlIGFzeW5jIGludGVyZmFjZSBwcm92aWRpbmcgdGhlIHByb3ZpZGVkXG4gICAqIGRlbGF5LlxuICAgKlxuICAgKiBAbWVtYmVyb2YgdGltZU91dFxuICAgKiBAcGFyYW0ge251bWJlcj19IGRlbGF5IFRpbWUgdG8gd2FpdCBiZWZvcmUgY2FsbGluZyBjYWxsYmFja3MgaW4gbXNcbiAgICogQHJldHVybiB7IUFzeW5jSW50ZXJmYWNlfSBBbiBhc3luYyB0aW1lb3V0IGludGVyZmFjZVxuICAgKi9cbiAgYWZ0ZXIoZGVsYXkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcnVuKGZuKSB7IHJldHVybiB3aW5kb3cuc2V0VGltZW91dChmbiwgZGVsYXkpOyB9LFxuICAgICAgY2FuY2VsKGhhbmRsZSkge1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGhhbmRsZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgLyoqXG4gICAqIEVucXVldWVzIGEgZnVuY3Rpb24gY2FsbGVkIGluIHRoZSBuZXh0IHRhc2suXG4gICAqXG4gICAqIEBtZW1iZXJvZiB0aW1lT3V0XG4gICAqIEBwYXJhbSB7IUZ1bmN0aW9ufSBmbiBDYWxsYmFjayB0byBydW5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBkZWxheSBEZWxheSBpbiBtaWxsaXNlY29uZHNcbiAgICogQHJldHVybiB7bnVtYmVyfSBIYW5kbGUgdXNlZCBmb3IgY2FuY2VsaW5nIHRhc2tcbiAgICovXG4gIHJ1bihmbiwgZGVsYXkpIHtcbiAgICByZXR1cm4gd2luZG93LnNldFRpbWVvdXQoZm4sIGRlbGF5KTtcbiAgfSxcbiAgLyoqXG4gICAqIENhbmNlbHMgYSBwcmV2aW91c2x5IGVucXVldWVkIGB0aW1lT3V0YCBjYWxsYmFjay5cbiAgICpcbiAgICogQG1lbWJlcm9mIHRpbWVPdXRcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZSBIYW5kbGUgcmV0dXJuZWQgZnJvbSBgcnVuYCBvZiBjYWxsYmFjayB0byBjYW5jZWxcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGNhbmNlbChoYW5kbGUpIHtcbiAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGhhbmRsZSk7XG4gIH1cbn07XG5leHBvcnQge3RpbWVPdXR9O1xuXG4vKipcbiAqIEFzeW5jIGludGVyZmFjZSB3cmFwcGVyIGFyb3VuZCBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYC5cbiAqXG4gKiBAbmFtZXNwYWNlXG4gKiBAc3VtbWFyeSBBc3luYyBpbnRlcmZhY2Ugd3JhcHBlciBhcm91bmQgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAuXG4gKi9cbmNvbnN0IGFuaW1hdGlvbkZyYW1lID0ge1xuICAvKipcbiAgICogRW5xdWV1ZXMgYSBmdW5jdGlvbiBjYWxsZWQgYXQgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAgdGltaW5nLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgYW5pbWF0aW9uRnJhbWVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihudW1iZXIpOnZvaWR9IGZuIENhbGxiYWNrIHRvIHJ1blxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEhhbmRsZSB1c2VkIGZvciBjYW5jZWxpbmcgdGFza1xuICAgKi9cbiAgcnVuKGZuKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZm4pO1xuICB9LFxuICAvKipcbiAgICogQ2FuY2VscyBhIHByZXZpb3VzbHkgZW5xdWV1ZWQgYGFuaW1hdGlvbkZyYW1lYCBjYWxsYmFjay5cbiAgICpcbiAgICogQG1lbWJlcm9mIGFuaW1hdGlvbkZyYW1lXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGUgSGFuZGxlIHJldHVybmVkIGZyb20gYHJ1bmAgb2YgY2FsbGJhY2sgdG8gY2FuY2VsXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBjYW5jZWwoaGFuZGxlKSB7XG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGhhbmRsZSk7XG4gIH1cbn07XG5leHBvcnQge2FuaW1hdGlvbkZyYW1lfTtcblxuLyoqXG4gKiBBc3luYyBpbnRlcmZhY2Ugd3JhcHBlciBhcm91bmQgYHJlcXVlc3RJZGxlQ2FsbGJhY2tgLiAgRmFsbHMgYmFjayB0b1xuICogYHNldFRpbWVvdXRgIG9uIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgYHJlcXVlc3RJZGxlQ2FsbGJhY2tgLlxuICpcbiAqIEBuYW1lc3BhY2VcbiAqIEBzdW1tYXJ5IEFzeW5jIGludGVyZmFjZSB3cmFwcGVyIGFyb3VuZCBgcmVxdWVzdElkbGVDYWxsYmFja2AuXG4gKi9cbmNvbnN0IGlkbGVQZXJpb2QgPSB7XG4gIC8qKlxuICAgKiBFbnF1ZXVlcyBhIGZ1bmN0aW9uIGNhbGxlZCBhdCBgcmVxdWVzdElkbGVDYWxsYmFja2AgdGltaW5nLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgaWRsZVBlcmlvZFxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCFJZGxlRGVhZGxpbmUpOnZvaWR9IGZuIENhbGxiYWNrIHRvIHJ1blxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEhhbmRsZSB1c2VkIGZvciBjYW5jZWxpbmcgdGFza1xuICAgKi9cbiAgcnVuKGZuKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrID9cbiAgICAgIHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrKGZuKSA6XG4gICAgICB3aW5kb3cuc2V0VGltZW91dChmbiwgMTYpO1xuICB9LFxuICAvKipcbiAgICogQ2FuY2VscyBhIHByZXZpb3VzbHkgZW5xdWV1ZWQgYGlkbGVQZXJpb2RgIGNhbGxiYWNrLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgaWRsZVBlcmlvZFxuICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlIEhhbmRsZSByZXR1cm5lZCBmcm9tIGBydW5gIG9mIGNhbGxiYWNrIHRvIGNhbmNlbFxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgY2FuY2VsKGhhbmRsZSkge1xuICAgIHdpbmRvdy5jYW5jZWxJZGxlQ2FsbGJhY2sgP1xuICAgICAgd2luZG93LmNhbmNlbElkbGVDYWxsYmFjayhoYW5kbGUpIDpcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoaGFuZGxlKTtcbiAgfVxufTtcbmV4cG9ydCB7aWRsZVBlcmlvZH07XG5cbi8qKlxuICogQXN5bmMgaW50ZXJmYWNlIGZvciBlbnF1ZXVpbmcgY2FsbGJhY2tzIHRoYXQgcnVuIGF0IG1pY3JvdGFzayB0aW1pbmcuXG4gKlxuICogTm90ZSB0aGF0IG1pY3JvdGFzayB0aW1pbmcgaXMgYWNoaWV2ZWQgdmlhIGEgc2luZ2xlIGBNdXRhdGlvbk9ic2VydmVyYCxcbiAqIGFuZCB0aHVzIGNhbGxiYWNrcyBlbnF1ZXVlZCB3aXRoIHRoaXMgQVBJIHdpbGwgYWxsIHJ1biBpbiBhIHNpbmdsZVxuICogYmF0Y2gsIGFuZCBub3QgaW50ZXJsZWF2ZWQgd2l0aCBvdGhlciBtaWNyb3Rhc2tzIHN1Y2ggYXMgcHJvbWlzZXMuXG4gKiBQcm9taXNlcyBhcmUgYXZvaWRlZCBhcyBhbiBpbXBsZW1lbnRhdGlvbiBjaG9pY2UgZm9yIHRoZSB0aW1lIGJlaW5nXG4gKiBkdWUgdG8gU2FmYXJpIGJ1Z3MgdGhhdCBjYXVzZSBQcm9taXNlcyB0byBsYWNrIG1pY3JvdGFzayBndWFyYW50ZWVzLlxuICpcbiAqIEBuYW1lc3BhY2VcbiAqIEBzdW1tYXJ5IEFzeW5jIGludGVyZmFjZSBmb3IgZW5xdWV1aW5nIGNhbGxiYWNrcyB0aGF0IHJ1biBhdCBtaWNyb3Rhc2tcbiAqICAgdGltaW5nLlxuICovXG5jb25zdCBtaWNyb1Rhc2sgPSB7XG5cbiAgLyoqXG4gICAqIEVucXVldWVzIGEgZnVuY3Rpb24gY2FsbGVkIGF0IG1pY3JvdGFzayB0aW1pbmcuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBtaWNyb1Rhc2tcbiAgICogQHBhcmFtIHshRnVuY3Rpb249fSBjYWxsYmFjayBDYWxsYmFjayB0byBydW5cbiAgICogQHJldHVybiB7bnVtYmVyfSBIYW5kbGUgdXNlZCBmb3IgY2FuY2VsaW5nIHRhc2tcbiAgICovXG4gIHJ1bihjYWxsYmFjaykge1xuICAgIG1pY3JvdGFza05vZGUudGV4dENvbnRlbnQgPSBtaWNyb3Rhc2tOb2RlQ29udGVudCsrO1xuICAgIG1pY3JvdGFza0NhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICByZXR1cm4gbWljcm90YXNrQ3VyckhhbmRsZSsrO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDYW5jZWxzIGEgcHJldmlvdXNseSBlbnF1ZXVlZCBgbWljcm9UYXNrYCBjYWxsYmFjay5cbiAgICpcbiAgICogQG1lbWJlcm9mIG1pY3JvVGFza1xuICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlIEhhbmRsZSByZXR1cm5lZCBmcm9tIGBydW5gIG9mIGNhbGxiYWNrIHRvIGNhbmNlbFxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgY2FuY2VsKGhhbmRsZSkge1xuICAgIGNvbnN0IGlkeCA9IGhhbmRsZSAtIG1pY3JvdGFza0xhc3RIYW5kbGU7XG4gICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICBpZiAoIW1pY3JvdGFza0NhbGxiYWNrc1tpZHhdKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBhc3luYyBoYW5kbGU6ICcgKyBoYW5kbGUpO1xuICAgICAgfVxuICAgICAgbWljcm90YXNrQ2FsbGJhY2tzW2lkeF0gPSBudWxsO1xuICAgIH1cbiAgfVxuXG59O1xuZXhwb3J0IHttaWNyb1Rhc2t9O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnLi4vdXRpbHMvYm9vdC5qcyc7XG5cbmltcG9ydCB7IGRlZHVwaW5nTWl4aW4gfSBmcm9tICcuLi91dGlscy9taXhpbi5qcyc7XG5pbXBvcnQgeyBtaWNyb1Rhc2sgfSBmcm9tICcuLi91dGlscy9hc3luYy5qcyc7XG5pbXBvcnQgeyB3cmFwIH0gZnJvbSAnLi4vdXRpbHMvd3JhcC5qcyc7XG5cbi8qKiBAY29uc3QgeyFBc3luY0ludGVyZmFjZX0gKi9cbmNvbnN0IG1pY3JvdGFzayA9IG1pY3JvVGFzaztcblxuLyoqXG4gKiBFbGVtZW50IGNsYXNzIG1peGluIHRoYXQgcHJvdmlkZXMgYmFzaWMgbWV0YS1wcm9ncmFtbWluZyBmb3IgY3JlYXRpbmcgb25lXG4gKiBvciBtb3JlIHByb3BlcnR5IGFjY2Vzc29ycyAoZ2V0dGVyL3NldHRlciBwYWlyKSB0aGF0IGVucXVldWUgYW4gYXN5bmNcbiAqIChiYXRjaGVkKSBgX3Byb3BlcnRpZXNDaGFuZ2VkYCBjYWxsYmFjay5cbiAqXG4gKiBGb3IgYmFzaWMgdXNhZ2Ugb2YgdGhpcyBtaXhpbiwgY2FsbCBgTXlDbGFzcy5jcmVhdGVQcm9wZXJ0aWVzKHByb3BzKWBcbiAqIG9uY2UgYXQgY2xhc3MgZGVmaW5pdGlvbiB0aW1lIHRvIGNyZWF0ZSBwcm9wZXJ0eSBhY2Nlc3NvcnMgZm9yIHByb3BlcnRpZXNcbiAqIG5hbWVkIGluIHByb3BzLCBpbXBsZW1lbnQgYF9wcm9wZXJ0aWVzQ2hhbmdlZGAgdG8gcmVhY3QgYXMgZGVzaXJlZCB0b1xuICogcHJvcGVydHkgY2hhbmdlcywgYW5kIGltcGxlbWVudCBgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKWAgYW5kXG4gKiBpbmNsdWRlIGxvd2VyY2FzZSB2ZXJzaW9ucyBvZiBhbnkgcHJvcGVydHkgbmFtZXMgdGhhdCBzaG91bGQgYmUgc2V0IGZyb21cbiAqIGF0dHJpYnV0ZXMuIExhc3QsIGNhbGwgYHRoaXMuX2VuYWJsZVByb3BlcnRpZXMoKWAgaW4gdGhlIGVsZW1lbnQnc1xuICogYGNvbm5lY3RlZENhbGxiYWNrYCB0byBlbmFibGUgdGhlIGFjY2Vzc29ycy5cbiAqXG4gKiBAbWl4aW5GdW5jdGlvblxuICogQHBvbHltZXJcbiAqIEBzdW1tYXJ5IEVsZW1lbnQgY2xhc3MgbWl4aW4gZm9yIHJlYWN0aW5nIHRvIHByb3BlcnR5IGNoYW5nZXMgZnJvbVxuICogICBnZW5lcmF0ZWQgcHJvcGVydHkgYWNjZXNzb3JzLlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3OlQpfSBzdXBlckNsYXNzIENsYXNzIHRvIGFwcGx5IG1peGluIHRvLlxuICogQHJldHVybiB7ZnVuY3Rpb24obmV3OlQpfSBzdXBlckNsYXNzIHdpdGggbWl4aW4gYXBwbGllZC5cbiAqL1xuZXhwb3J0IGNvbnN0IFByb3BlcnRpZXNDaGFuZ2VkID0gZGVkdXBpbmdNaXhpbihcbiAgICAvKipcbiAgICAgKiBAdGVtcGxhdGUgVFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3OlQpfSBzdXBlckNsYXNzIENsYXNzIHRvIGFwcGx5IG1peGluIHRvLlxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9uKG5ldzpUKX0gc3VwZXJDbGFzcyB3aXRoIG1peGluIGFwcGxpZWQuXG4gICAgICovXG4gICAgKHN1cGVyQ2xhc3MpID0+IHtcblxuICAvKipcbiAgICogQHBvbHltZXJcbiAgICogQG1peGluQ2xhc3NcbiAgICogQGltcGxlbWVudHMge1BvbHltZXJfUHJvcGVydGllc0NoYW5nZWR9XG4gICAqIEB1bnJlc3RyaWN0ZWRcbiAgICovXG4gIGNsYXNzIFByb3BlcnRpZXNDaGFuZ2VkIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHByb3BlcnR5IGFjY2Vzc29ycyBmb3IgdGhlIGdpdmVuIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBwYXJhbSB7IU9iamVjdH0gcHJvcHMgT2JqZWN0IHdob3NlIGtleXMgYXJlIG5hbWVzIG9mIGFjY2Vzc29ycy5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVQcm9wZXJ0aWVzKHByb3BzKSB7XG4gICAgICBjb25zdCBwcm90byA9IHRoaXMucHJvdG90eXBlO1xuICAgICAgZm9yIChsZXQgcHJvcCBpbiBwcm9wcykge1xuICAgICAgICAvLyBkb24ndCBzdG9tcCBhbiBleGlzdGluZyBhY2Nlc3NvclxuICAgICAgICBpZiAoIShwcm9wIGluIHByb3RvKSkge1xuICAgICAgICAgIHByb3RvLl9jcmVhdGVQcm9wZXJ0eUFjY2Vzc29yKHByb3ApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhdHRyaWJ1dGUgbmFtZSB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBnaXZlbiBwcm9wZXJ0eS5cbiAgICAgKiBUaGUgYXR0cmlidXRlIG5hbWUgaXMgdGhlIGxvd2VyY2FzZWQgcHJvcGVydHkgbmFtZS4gT3ZlcnJpZGUgdG9cbiAgICAgKiBjdXN0b21pemUgdGhpcyBtYXBwaW5nLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSB0byBjb252ZXJ0XG4gICAgICogQHJldHVybiB7c3RyaW5nfSBBdHRyaWJ1dGUgbmFtZSBjb3JyZXNwb25kaW5nIHRvIHRoZSBnaXZlbiBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBhdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkocHJvcGVydHkpIHtcbiAgICAgIHJldHVybiBwcm9wZXJ0eS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHBvaW50IHRvIHByb3ZpZGUgYSB0eXBlIHRvIHdoaWNoIHRvIGRlc2VyaWFsaXplIGEgdmFsdWUgdG9cbiAgICAgKiBhIGdpdmVuIHByb3BlcnR5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgcHJvcGVydHlcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyB0eXBlRm9yUHJvcGVydHkobmFtZSkgeyB9IC8vZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNldHRlci9nZXR0ZXIgcGFpciBmb3IgdGhlIG5hbWVkIHByb3BlcnR5IHdpdGggaXRzIG93blxuICAgICAqIGxvY2FsIHN0b3JhZ2UuICBUaGUgZ2V0dGVyIHJldHVybnMgdGhlIHZhbHVlIGluIHRoZSBsb2NhbCBzdG9yYWdlLFxuICAgICAqIGFuZCB0aGUgc2V0dGVyIGNhbGxzIGBfc2V0UHJvcGVydHlgLCB3aGljaCB1cGRhdGVzIHRoZSBsb2NhbCBzdG9yYWdlXG4gICAgICogZm9yIHRoZSBwcm9wZXJ0eSBhbmQgZW5xdWV1ZXMgYSBgX3Byb3BlcnRpZXNDaGFuZ2VkYCBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIG1heSBiZSBjYWxsZWQgb24gYSBwcm90b3R5cGUgb3IgYW4gaW5zdGFuY2UuICBDYWxsaW5nXG4gICAgICogdGhpcyBtZXRob2QgbWF5IG92ZXJ3cml0ZSBhIHByb3BlcnR5IHZhbHVlIHRoYXQgYWxyZWFkeSBleGlzdHMgb25cbiAgICAgKiB0aGUgcHJvdG90eXBlL2luc3RhbmNlIGJ5IGNyZWF0aW5nIHRoZSBhY2Nlc3Nvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBOYW1lIG9mIHRoZSBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IHJlYWRPbmx5IFdoZW4gdHJ1ZSwgbm8gc2V0dGVyIGlzIGNyZWF0ZWQ7IHRoZVxuICAgICAqICAgcHJvdGVjdGVkIGBfc2V0UHJvcGVydHlgIGZ1bmN0aW9uIG11c3QgYmUgdXNlZCB0byBzZXQgdGhlIHByb3BlcnR5XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2NyZWF0ZVByb3BlcnR5QWNjZXNzb3IocHJvcGVydHksIHJlYWRPbmx5KSB7XG4gICAgICB0aGlzLl9hZGRQcm9wZXJ0eVRvQXR0cmlidXRlTWFwKHByb3BlcnR5KTtcbiAgICAgIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdfX2RhdGFIYXNBY2Nlc3NvcicsIHRoaXMpKSkge1xuICAgICAgICB0aGlzLl9fZGF0YUhhc0FjY2Vzc29yID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fX2RhdGFIYXNBY2Nlc3Nvcik7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuX19kYXRhSGFzQWNjZXNzb3JbcHJvcGVydHldKSB7XG4gICAgICAgIHRoaXMuX19kYXRhSGFzQWNjZXNzb3JbcHJvcGVydHldID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZGVmaW5lUHJvcGVydHlBY2Nlc3Nvcihwcm9wZXJ0eSwgcmVhZE9ubHkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIGdpdmVuIGBwcm9wZXJ0eWAgdG8gYSBtYXAgbWF0Y2hpbmcgYXR0cmlidXRlIG5hbWVzXG4gICAgICogdG8gcHJvcGVydHkgbmFtZXMsIHVzaW5nIGBhdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHlgLiBUaGlzIG1hcCBpc1xuICAgICAqIHVzZWQgd2hlbiBkZXNlcmlhbGl6aW5nIGF0dHJpYnV0ZSB2YWx1ZXMgdG8gcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBOYW1lIG9mIHRoZSBwcm9wZXJ0eVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9hZGRQcm9wZXJ0eVRvQXR0cmlidXRlTWFwKHByb3BlcnR5KSB7XG4gICAgICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX19kYXRhQXR0cmlidXRlcycsIHRoaXMpKSkge1xuICAgICAgICB0aGlzLl9fZGF0YUF0dHJpYnV0ZXMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9fZGF0YUF0dHJpYnV0ZXMpO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLl9fZGF0YUF0dHJpYnV0ZXNbcHJvcGVydHldKSB7XG4gICAgICAgIGNvbnN0IGF0dHIgPSB0aGlzLmNvbnN0cnVjdG9yLmF0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShwcm9wZXJ0eSk7XG4gICAgICAgIHRoaXMuX19kYXRhQXR0cmlidXRlc1thdHRyXSA9IHByb3BlcnR5O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmluZXMgYSBwcm9wZXJ0eSBhY2Nlc3NvciBmb3IgdGhlIGdpdmVuIHByb3BlcnR5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBOYW1lIG9mIHRoZSBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IHJlYWRPbmx5IFdoZW4gdHJ1ZSwgbm8gc2V0dGVyIGlzIGNyZWF0ZWRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgICBfZGVmaW5lUHJvcGVydHlBY2Nlc3Nvcihwcm9wZXJ0eSwgcmVhZE9ubHkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBwcm9wZXJ0eSwge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSB2YWxpZC1qc2RvYyAqL1xuICAgICAgICAvKiogQHRoaXMge1Byb3BlcnRpZXNDaGFuZ2VkfSAqL1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2dldFByb3BlcnR5KHByb3BlcnR5KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqIEB0aGlzIHtQcm9wZXJ0aWVzQ2hhbmdlZH0gKi9cbiAgICAgICAgc2V0OiByZWFkT25seSA/IGZ1bmN0aW9uICgpIHt9IDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgdGhpcy5fc2V0UHJvcGVydHkocHJvcGVydHksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlICovXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHN1cGVyKCk7XG4gICAgICAvKiogQHR5cGUge2Jvb2xlYW59ICovXG4gICAgICB0aGlzLl9fZGF0YUVuYWJsZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuX19kYXRhUmVhZHkgPSBmYWxzZTtcbiAgICAgIHRoaXMuX19kYXRhSW52YWxpZCA9IGZhbHNlO1xuICAgICAgdGhpcy5fX2RhdGEgPSB7fTtcbiAgICAgIHRoaXMuX19kYXRhUGVuZGluZyA9IG51bGw7XG4gICAgICB0aGlzLl9fZGF0YU9sZCA9IG51bGw7XG4gICAgICB0aGlzLl9fZGF0YUluc3RhbmNlUHJvcHMgPSBudWxsO1xuICAgICAgdGhpcy5fX3NlcmlhbGl6aW5nID0gZmFsc2U7XG4gICAgICB0aGlzLl9pbml0aWFsaXplUHJvcGVydGllcygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZSBjYWxsYmFjayBjYWxsZWQgd2hlbiBwcm9wZXJ0aWVzIGFyZSBlbmFibGVkIHZpYVxuICAgICAqIGBfZW5hYmxlUHJvcGVydGllc2AuXG4gICAgICpcbiAgICAgKiBVc2VycyBtYXkgb3ZlcnJpZGUgdGhpcyBmdW5jdGlvbiB0byBpbXBsZW1lbnQgYmVoYXZpb3IgdGhhdCBpc1xuICAgICAqIGRlcGVuZGVudCBvbiB0aGUgZWxlbWVudCBoYXZpbmcgaXRzIHByb3BlcnR5IGRhdGEgaW5pdGlhbGl6ZWQsIGUuZy5cbiAgICAgKiBmcm9tIGRlZmF1bHRzIChpbml0aWFsaXplZCBmcm9tIGBjb25zdHJ1Y3RvcmAsIGBfaW5pdGlhbGl6ZVByb3BlcnRpZXNgKSxcbiAgICAgKiBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYCwgb3IgdmFsdWVzIHByb3BhZ2F0ZWQgZnJvbSBob3N0IGUuZy4gdmlhXG4gICAgICogYmluZGluZ3MuICBgc3VwZXIucmVhZHkoKWAgbXVzdCBiZSBjYWxsZWQgdG8gZW5zdXJlIHRoZSBkYXRhIHN5c3RlbVxuICAgICAqIGJlY29tZXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHB1YmxpY1xuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHJlYWR5KCkge1xuICAgICAgdGhpcy5fX2RhdGFSZWFkeSA9IHRydWU7XG4gICAgICB0aGlzLl9mbHVzaFByb3BlcnRpZXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgbG9jYWwgc3RvcmFnZSBmb3IgcHJvcGVydHkgYWNjZXNzb3JzLlxuICAgICAqXG4gICAgICogUHJvdmlkZWQgYXMgYW4gb3ZlcnJpZGUgcG9pbnQgZm9yIHBlcmZvcm1pbmcgYW55IHNldHVwIHdvcmsgcHJpb3JcbiAgICAgKiB0byBpbml0aWFsaXppbmcgdGhlIHByb3BlcnR5IGFjY2Vzc29yIHN5c3RlbS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9pbml0aWFsaXplUHJvcGVydGllcygpIHtcbiAgICAgIC8vIENhcHR1cmUgaW5zdGFuY2UgcHJvcGVydGllczsgdGhlc2Ugd2lsbCBiZSBzZXQgaW50byBhY2Nlc3NvcnNcbiAgICAgIC8vIGR1cmluZyBmaXJzdCBmbHVzaC4gRG9uJ3Qgc2V0IHRoZW0gaGVyZSwgc2luY2Ugd2Ugd2FudFxuICAgICAgLy8gdGhlc2UgdG8gb3ZlcndyaXRlIGRlZmF1bHRzL2NvbnN0cnVjdG9yIGFzc2lnbm1lbnRzXG4gICAgICBmb3IgKGxldCBwIGluIHRoaXMuX19kYXRhSGFzQWNjZXNzb3IpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgICB0aGlzLl9fZGF0YUluc3RhbmNlUHJvcHMgPSB0aGlzLl9fZGF0YUluc3RhbmNlUHJvcHMgfHwge307XG4gICAgICAgICAgdGhpcy5fX2RhdGFJbnN0YW5jZVByb3BzW3BdID0gdGhpc1twXTtcbiAgICAgICAgICBkZWxldGUgdGhpc1twXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBhdCByZWFkeSB0aW1lIHdpdGggYmFnIG9mIGluc3RhbmNlIHByb3BlcnRpZXMgdGhhdCBvdmVyd3JvdGVcbiAgICAgKiBhY2Nlc3NvcnMgd2hlbiB0aGUgZWxlbWVudCB1cGdyYWRlZC5cbiAgICAgKlxuICAgICAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHNldHMgdGhlc2UgcHJvcGVydGllcyBiYWNrIGludG8gdGhlXG4gICAgICogc2V0dGVyIGF0IHJlYWR5IHRpbWUuICBUaGlzIG1ldGhvZCBpcyBwcm92aWRlZCBhcyBhbiBvdmVycmlkZVxuICAgICAqIHBvaW50IGZvciBjdXN0b21pemluZyBvciBwcm92aWRpbmcgbW9yZSBlZmZpY2llbnQgaW5pdGlhbGl6YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgQmFnIG9mIHByb3BlcnR5IHZhbHVlcyB0aGF0IHdlcmUgb3ZlcndyaXR0ZW5cbiAgICAgKiAgIHdoZW4gY3JlYXRpbmcgcHJvcGVydHkgYWNjZXNzb3JzLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9pbml0aWFsaXplSW5zdGFuY2VQcm9wZXJ0aWVzKHByb3BzKSB7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHByb3BzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBsb2NhbCBzdG9yYWdlIGZvciBhIHByb3BlcnR5ICh2aWEgYF9zZXRQZW5kaW5nUHJvcGVydHlgKVxuICAgICAqIGFuZCBlbnF1ZXVlcyBhIGBfcHJvZXBydGllc0NoYW5nZWRgIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IE5hbWUgb2YgdGhlIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byBzZXRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfc2V0UHJvcGVydHkocHJvcGVydHksIHZhbHVlKSB7XG4gICAgICBpZiAodGhpcy5fc2V0UGVuZGluZ1Byb3BlcnR5KHByb3BlcnR5LCB2YWx1ZSkpIHtcbiAgICAgICAgdGhpcy5faW52YWxpZGF0ZVByb3BlcnRpZXMoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBmb3IgdGhlIGdpdmVuIHByb3BlcnR5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBOYW1lIG9mIHByb3BlcnR5XG4gICAgICogQHJldHVybiB7Kn0gVmFsdWUgZm9yIHRoZSBnaXZlbiBwcm9wZXJ0eVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfZ2V0UHJvcGVydHkocHJvcGVydHkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YVtwcm9wZXJ0eV07XG4gICAgfVxuXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBsb2NhbCBzdG9yYWdlIGZvciBhIHByb3BlcnR5LCByZWNvcmRzIHRoZSBwcmV2aW91cyB2YWx1ZSxcbiAgICAgKiBhbmQgYWRkcyBpdCB0byB0aGUgc2V0IG9mIFwicGVuZGluZyBjaGFuZ2VzXCIgdGhhdCB3aWxsIGJlIHBhc3NlZCB0byB0aGVcbiAgICAgKiBgX3Byb3BlcnRpZXNDaGFuZ2VkYCBjYWxsYmFjay4gIFRoaXMgbWV0aG9kIGRvZXMgbm90IGVucXVldWUgdGhlXG4gICAgICogYF9wcm9wZXJ0aWVzQ2hhbmdlZGAgY2FsbGJhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgTmFtZSBvZiB0aGUgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIHNldFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGV4dCBOb3QgdXNlZCBoZXJlOyBhZmZvcmRhbmNlIGZvciBjbG9zdXJlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoZSBwcm9wZXJ0eSBjaGFuZ2VkXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9zZXRQZW5kaW5nUHJvcGVydHkocHJvcGVydHksIHZhbHVlLCBleHQpIHtcbiAgICAgIGxldCBvbGQgPSB0aGlzLl9fZGF0YVtwcm9wZXJ0eV07XG4gICAgICBsZXQgY2hhbmdlZCA9IHRoaXMuX3Nob3VsZFByb3BlcnR5Q2hhbmdlKHByb3BlcnR5LCB2YWx1ZSwgb2xkKTtcbiAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgIGlmICghdGhpcy5fX2RhdGFQZW5kaW5nKSB7XG4gICAgICAgICAgdGhpcy5fX2RhdGFQZW5kaW5nID0ge307XG4gICAgICAgICAgdGhpcy5fX2RhdGFPbGQgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICAvLyBFbnN1cmUgb2xkIGlzIGNhcHR1cmVkIGZyb20gdGhlIGxhc3QgdHVyblxuICAgICAgICBpZiAodGhpcy5fX2RhdGFPbGQgJiYgIShwcm9wZXJ0eSBpbiB0aGlzLl9fZGF0YU9sZCkpIHtcbiAgICAgICAgICB0aGlzLl9fZGF0YU9sZFtwcm9wZXJ0eV0gPSBvbGQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fX2RhdGFbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX19kYXRhUGVuZGluZ1twcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjaGFuZ2VkO1xuICAgIH1cbiAgICAvKiBlc2xpbnQtZW5hYmxlICovXG5cbiAgICAvKipcbiAgICAgKiBNYXJrcyB0aGUgcHJvcGVydGllcyBhcyBpbnZhbGlkLCBhbmQgZW5xdWV1ZXMgYW4gYXN5bmNcbiAgICAgKiBgX3Byb3BlcnRpZXNDaGFuZ2VkYCBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9pbnZhbGlkYXRlUHJvcGVydGllcygpIHtcbiAgICAgIGlmICghdGhpcy5fX2RhdGFJbnZhbGlkICYmIHRoaXMuX19kYXRhUmVhZHkpIHtcbiAgICAgICAgdGhpcy5fX2RhdGFJbnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgbWljcm90YXNrLnJ1bigoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuX19kYXRhSW52YWxpZCkge1xuICAgICAgICAgICAgdGhpcy5fX2RhdGFJbnZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9mbHVzaFByb3BlcnRpZXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGwgdG8gZW5hYmxlIHByb3BlcnR5IGFjY2Vzc29yIHByb2Nlc3NpbmcuIEJlZm9yZSB0aGlzIG1ldGhvZCBpc1xuICAgICAqIGNhbGxlZCBhY2Nlc3NvciB2YWx1ZXMgd2lsbCBiZSBzZXQgYnV0IHNpZGUgZWZmZWN0cyBhcmVcbiAgICAgKiBxdWV1ZWQuIFdoZW4gY2FsbGVkLCBhbnkgcGVuZGluZyBzaWRlIGVmZmVjdHMgb2NjdXIgaW1tZWRpYXRlbHkuXG4gICAgICogRm9yIGVsZW1lbnRzLCBnZW5lcmFsbHkgYGNvbm5lY3RlZENhbGxiYWNrYCBpcyBhIG5vcm1hbCBzcG90IHRvIGRvIHNvLlxuICAgICAqIEl0IGlzIHNhZmUgdG8gY2FsbCB0aGlzIG1ldGhvZCBtdWx0aXBsZSB0aW1lcyBhcyBpdCBvbmx5IHR1cm5zIG9uXG4gICAgICogcHJvcGVydHkgYWNjZXNzb3JzIG9uY2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfZW5hYmxlUHJvcGVydGllcygpIHtcbiAgICAgIGlmICghdGhpcy5fX2RhdGFFbmFibGVkKSB7XG4gICAgICAgIHRoaXMuX19kYXRhRW5hYmxlZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9fZGF0YUluc3RhbmNlUHJvcHMpIHtcbiAgICAgICAgICB0aGlzLl9pbml0aWFsaXplSW5zdGFuY2VQcm9wZXJ0aWVzKHRoaXMuX19kYXRhSW5zdGFuY2VQcm9wcyk7XG4gICAgICAgICAgdGhpcy5fX2RhdGFJbnN0YW5jZVByb3BzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlYWR5KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbHMgdGhlIGBfcHJvcGVydGllc0NoYW5nZWRgIGNhbGxiYWNrIHdpdGggdGhlIGN1cnJlbnQgc2V0IG9mXG4gICAgICogcGVuZGluZyBjaGFuZ2VzIChhbmQgb2xkIHZhbHVlcyByZWNvcmRlZCB3aGVuIHBlbmRpbmcgY2hhbmdlcyB3ZXJlXG4gICAgICogc2V0KSwgYW5kIHJlc2V0cyB0aGUgcGVuZGluZyBzZXQgb2YgY2hhbmdlcy4gR2VuZXJhbGx5LCB0aGlzIG1ldGhvZFxuICAgICAqIHNob3VsZCBub3QgYmUgY2FsbGVkIGluIHVzZXIgY29kZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9mbHVzaFByb3BlcnRpZXMoKSB7XG4gICAgICBjb25zdCBwcm9wcyA9IHRoaXMuX19kYXRhO1xuICAgICAgY29uc3QgY2hhbmdlZFByb3BzID0gdGhpcy5fX2RhdGFQZW5kaW5nO1xuICAgICAgY29uc3Qgb2xkID0gdGhpcy5fX2RhdGFPbGQ7XG4gICAgICBpZiAodGhpcy5fc2hvdWxkUHJvcGVydGllc0NoYW5nZShwcm9wcywgY2hhbmdlZFByb3BzLCBvbGQpKSB7XG4gICAgICAgIHRoaXMuX19kYXRhUGVuZGluZyA9IG51bGw7XG4gICAgICAgIHRoaXMuX19kYXRhT2xkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcHJvcGVydGllc0NoYW5nZWQocHJvcHMsIGNoYW5nZWRQcm9wcywgb2xkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaW4gYF9mbHVzaFByb3BlcnRpZXNgIHRvIGRldGVybWluZSBpZiBgX3Byb3BlcnRpZXNDaGFuZ2VkYFxuICAgICAqIHNob3VsZCBiZSBjYWxsZWQuIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHJldHVybnMgdHJ1ZSBpZlxuICAgICAqIHByb3BlcnRpZXMgYXJlIHBlbmRpbmcuIE92ZXJyaWRlIHRvIGN1c3RvbWl6ZSB3aGVuXG4gICAgICogYF9wcm9wZXJ0aWVzQ2hhbmdlZGAgaXMgY2FsbGVkLlxuICAgICAqIEBwYXJhbSB7IU9iamVjdH0gY3VycmVudFByb3BzIEJhZyBvZiBhbGwgY3VycmVudCBhY2Nlc3NvciB2YWx1ZXNcbiAgICAgKiBAcGFyYW0gez9PYmplY3R9IGNoYW5nZWRQcm9wcyBCYWcgb2YgcHJvcGVydGllcyBjaGFuZ2VkIHNpbmNlIHRoZSBsYXN0XG4gICAgICogICBjYWxsIHRvIGBfcHJvcGVydGllc0NoYW5nZWRgXG4gICAgICogQHBhcmFtIHs/T2JqZWN0fSBvbGRQcm9wcyBCYWcgb2YgcHJldmlvdXMgdmFsdWVzIGZvciBlYWNoIHByb3BlcnR5XG4gICAgICogICBpbiBgY2hhbmdlZFByb3BzYFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgY2hhbmdlZFByb3BzIGlzIHRydXRoeVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9zaG91bGRQcm9wZXJ0aWVzQ2hhbmdlKGN1cnJlbnRQcm9wcywgY2hhbmdlZFByb3BzLCBvbGRQcm9wcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgICByZXR1cm4gQm9vbGVhbihjaGFuZ2VkUHJvcHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIGNhbGxlZCB3aGVuIGFueSBwcm9wZXJ0aWVzIHdpdGggYWNjZXNzb3JzIGNyZWF0ZWQgdmlhXG4gICAgICogYF9jcmVhdGVQcm9wZXJ0eUFjY2Vzc29yYCBoYXZlIGJlZW4gc2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHshT2JqZWN0fSBjdXJyZW50UHJvcHMgQmFnIG9mIGFsbCBjdXJyZW50IGFjY2Vzc29yIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7P09iamVjdH0gY2hhbmdlZFByb3BzIEJhZyBvZiBwcm9wZXJ0aWVzIGNoYW5nZWQgc2luY2UgdGhlIGxhc3RcbiAgICAgKiAgIGNhbGwgdG8gYF9wcm9wZXJ0aWVzQ2hhbmdlZGBcbiAgICAgKiBAcGFyYW0gez9PYmplY3R9IG9sZFByb3BzIEJhZyBvZiBwcmV2aW91cyB2YWx1ZXMgZm9yIGVhY2ggcHJvcGVydHlcbiAgICAgKiAgIGluIGBjaGFuZ2VkUHJvcHNgXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX3Byb3BlcnRpZXNDaGFuZ2VkKGN1cnJlbnRQcm9wcywgY2hhbmdlZFByb3BzLCBvbGRQcm9wcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIGNhbGxlZCB0byBkZXRlcm1pbmUgd2hldGhlciBhIHByb3BlcnR5IHZhbHVlIHNob3VsZCBiZVxuICAgICAqIGNvbnNpZGVyZWQgYXMgYSBjaGFuZ2UgYW5kIGNhdXNlIHRoZSBgX3Byb3BlcnRpZXNDaGFuZ2VkYCBjYWxsYmFja1xuICAgICAqIHRvIGJlIGVucXVldWVkLlxuICAgICAqXG4gICAgICogVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gcmV0dXJucyBgdHJ1ZWAgaWYgYSBzdHJpY3QgZXF1YWxpdHlcbiAgICAgKiBjaGVjayBmYWlscy4gVGhlIG1ldGhvZCBhbHdheXMgcmV0dXJucyBmYWxzZSBmb3IgYE5hTmAuXG4gICAgICpcbiAgICAgKiBPdmVycmlkZSB0aGlzIG1ldGhvZCB0byBlLmcuIHByb3ZpZGUgc3RyaWN0ZXIgY2hlY2tpbmcgZm9yXG4gICAgICogT2JqZWN0cy9BcnJheXMgd2hlbiB1c2luZyBpbW11dGFibGUgcGF0dGVybnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgTmV3IHByb3BlcnR5IHZhbHVlXG4gICAgICogQHBhcmFtIHsqfSBvbGQgUHJldmlvdXMgcHJvcGVydHkgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBwcm9wZXJ0eSBzaG91bGQgYmUgY29uc2lkZXJlZCBhIGNoYW5nZVxuICAgICAqICAgYW5kIGVucXVldWUgYSBgX3Byb2VwcnRpZXNDaGFuZ2VkYCBjYWxsYmFja1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfc2hvdWxkUHJvcGVydHlDaGFuZ2UocHJvcGVydHksIHZhbHVlLCBvbGQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIC8vIFN0cmljdCBlcXVhbGl0eSBjaGVja1xuICAgICAgICAob2xkICE9PSB2YWx1ZSAmJlxuICAgICAgICAgIC8vIFRoaXMgZW5zdXJlcyAob2xkPT1OYU4sIHZhbHVlPT1OYU4pIGFsd2F5cyByZXR1cm5zIGZhbHNlXG4gICAgICAgICAgKG9sZCA9PT0gb2xkIHx8IHZhbHVlID09PSB2YWx1ZSkpXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEltcGxlbWVudHMgbmF0aXZlIEN1c3RvbSBFbGVtZW50cyBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYCB0b1xuICAgICAqIHNldCBhbiBhdHRyaWJ1dGUgdmFsdWUgdG8gYSBwcm9wZXJ0eSB2aWEgYF9hdHRyaWJ1dGVUb1Byb3BlcnR5YC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgYXR0cmlidXRlIHRoYXQgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gb2xkIE9sZCBhdHRyaWJ1dGUgdmFsdWVcbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IHZhbHVlIE5ldyBhdHRyaWJ1dGUgdmFsdWVcbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IG5hbWVzcGFjZSBBdHRyaWJ1dGUgbmFtZXNwYWNlLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHN1cHByZXNzIHttaXNzaW5nUHJvcGVydGllc30gU3VwZXIgbWF5IG9yIG1heSBub3QgaW1wbGVtZW50IHRoZSBjYWxsYmFja1xuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGQsIHZhbHVlLCBuYW1lc3BhY2UpIHtcbiAgICAgIGlmIChvbGQgIT09IHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2F0dHJpYnV0ZVRvUHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHN1cGVyLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjaykge1xuICAgICAgICBzdXBlci5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkLCB2YWx1ZSwgbmFtZXNwYWNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXNlcmlhbGl6ZXMgYW4gYXR0cmlidXRlIHRvIGl0cyBhc3NvY2lhdGVkIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgY2FsbHMgdGhlIGBfZGVzZXJpYWxpemVWYWx1ZWAgbWV0aG9kIHRvIGNvbnZlcnQgdGhlIHN0cmluZyB0b1xuICAgICAqIGEgdHlwZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlIE5hbWUgb2YgYXR0cmlidXRlIHRvIGRlc2VyaWFsaXplLlxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZS5cbiAgICAgKiBAcGFyYW0geyo9fSB0eXBlIHR5cGUgdG8gZGVzZXJpYWxpemUgdG8sIGRlZmF1bHRzIHRvIHRoZSB2YWx1ZVxuICAgICAqIHJldHVybmVkIGZyb20gYHR5cGVGb3JQcm9wZXJ0eWBcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9hdHRyaWJ1dGVUb1Byb3BlcnR5KGF0dHJpYnV0ZSwgdmFsdWUsIHR5cGUpIHtcbiAgICAgIGlmICghdGhpcy5fX3NlcmlhbGl6aW5nKSB7XG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuX19kYXRhQXR0cmlidXRlcztcbiAgICAgICAgY29uc3QgcHJvcGVydHkgPSBtYXAgJiYgbWFwW2F0dHJpYnV0ZV0gfHwgYXR0cmlidXRlO1xuICAgICAgICB0aGlzW3Byb3BlcnR5XSA9IHRoaXMuX2Rlc2VyaWFsaXplVmFsdWUodmFsdWUsIHR5cGUgfHxcbiAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLnR5cGVGb3JQcm9wZXJ0eShwcm9wZXJ0eSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZXMgYSBwcm9wZXJ0eSB0byBpdHMgYXNzb2NpYXRlZCBhdHRyaWJ1dGUuXG4gICAgICpcbiAgICAgKiBAc3VwcHJlc3Mge2ludmFsaWRDYXN0c30gQ2xvc3VyZSBjYW4ndCBmaWd1cmUgb3V0IGB0aGlzYCBpcyBhbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWUgdG8gcmVmbGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGF0dHJpYnV0ZSBBdHRyaWJ1dGUgbmFtZSB0byByZWZsZWN0IHRvLlxuICAgICAqIEBwYXJhbSB7Kj19IHZhbHVlIFByb3BlcnR5IHZhbHVlIHRvIHJlZmVjdC5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9wcm9wZXJ0eVRvQXR0cmlidXRlKHByb3BlcnR5LCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG4gICAgICB0aGlzLl9fc2VyaWFsaXppbmcgPSB0cnVlO1xuICAgICAgdmFsdWUgPSAoYXJndW1lbnRzLmxlbmd0aCA8IDMpID8gdGhpc1twcm9wZXJ0eV0gOiB2YWx1ZTtcbiAgICAgIHRoaXMuX3ZhbHVlVG9Ob2RlQXR0cmlidXRlKC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqLyh0aGlzKSwgdmFsdWUsXG4gICAgICAgIGF0dHJpYnV0ZSB8fCB0aGlzLmNvbnN0cnVjdG9yLmF0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShwcm9wZXJ0eSkpO1xuICAgICAgdGhpcy5fX3NlcmlhbGl6aW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBhIHR5cGVkIHZhbHVlIHRvIGFuIEhUTUwgYXR0cmlidXRlIG9uIGEgbm9kZS5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGNhbGxzIHRoZSBgX3NlcmlhbGl6ZVZhbHVlYCBtZXRob2QgdG8gY29udmVydCB0aGUgdHlwZWRcbiAgICAgKiB2YWx1ZSB0byBhIHN0cmluZy4gIElmIHRoZSBgX3NlcmlhbGl6ZVZhbHVlYCBtZXRob2QgcmV0dXJucyBgdW5kZWZpbmVkYCxcbiAgICAgKiB0aGUgYXR0cmlidXRlIHdpbGwgYmUgcmVtb3ZlZCAodGhpcyBpcyB0aGUgZGVmYXVsdCBmb3IgYm9vbGVhblxuICAgICAqIHR5cGUgYGZhbHNlYCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGUgRWxlbWVudCB0byBzZXQgYXR0cmlidXRlIHRvLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgdG8gc2VyaWFsaXplLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGUgQXR0cmlidXRlIG5hbWUgdG8gc2VyaWFsaXplIHRvLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX3ZhbHVlVG9Ob2RlQXR0cmlidXRlKG5vZGUsIHZhbHVlLCBhdHRyaWJ1dGUpIHtcbiAgICAgIGNvbnN0IHN0ciA9IHRoaXMuX3NlcmlhbGl6ZVZhbHVlKHZhbHVlKTtcbiAgICAgIGlmIChhdHRyaWJ1dGUgPT09ICdjbGFzcycgfHwgYXR0cmlidXRlID09PSAnbmFtZScgfHwgYXR0cmlidXRlID09PSAnc2xvdCcpIHtcbiAgICAgICAgbm9kZSA9IC8qKiBAdHlwZSB7P0VsZW1lbnR9ICovKHdyYXAobm9kZSkpO1xuICAgICAgfVxuICAgICAgaWYgKHN0ciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHN0cik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYSB0eXBlZCBKYXZhU2NyaXB0IHZhbHVlIHRvIGEgc3RyaW5nLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIHdoZW4gc2V0dGluZyBKUyBwcm9wZXJ0eSB2YWx1ZXMgdG9cbiAgICAgKiBIVE1MIGF0dHJpYnV0ZXMuICBVc2VycyBtYXkgb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gcHJvdmlkZVxuICAgICAqIHNlcmlhbGl6YXRpb24gZm9yIGN1c3RvbSB0eXBlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgUHJvcGVydHkgdmFsdWUgdG8gc2VyaWFsaXplLlxuICAgICAqIEByZXR1cm4ge3N0cmluZyB8IHVuZGVmaW5lZH0gU3RyaW5nIHNlcmlhbGl6ZWQgZnJvbSB0aGUgcHJvdmlkZWRcbiAgICAgKiBwcm9wZXJ0eSAgdmFsdWUuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX3NlcmlhbGl6ZVZhbHVlKHZhbHVlKSB7XG4gICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICByZXR1cm4gdmFsdWUgPyAnJyA6IHVuZGVmaW5lZDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLnRvU3RyaW5nKCkgOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYSBzdHJpbmcgdG8gYSB0eXBlZCBKYXZhU2NyaXB0IHZhbHVlLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIHdoZW4gcmVhZGluZyBIVE1MIGF0dHJpYnV0ZSB2YWx1ZXMgdG9cbiAgICAgKiBKUyBwcm9wZXJ0aWVzLiAgVXNlcnMgbWF5IG92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIHByb3ZpZGVcbiAgICAgKiBkZXNlcmlhbGl6YXRpb24gZm9yIGN1c3RvbSBgdHlwZWBzLiBUeXBlcyBmb3IgYEJvb2xlYW5gLCBgU3RyaW5nYCxcbiAgICAgKiBhbmQgYE51bWJlcmAgY29udmVydCBhdHRyaWJ1dGVzIHRvIHRoZSBleHBlY3RlZCB0eXBlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gdmFsdWUgVmFsdWUgdG8gZGVzZXJpYWxpemUuXG4gICAgICogQHBhcmFtIHsqPX0gdHlwZSBUeXBlIHRvIGRlc2VyaWFsaXplIHRoZSBzdHJpbmcgdG8uXG4gICAgICogQHJldHVybiB7Kn0gVHlwZWQgdmFsdWUgZGVzZXJpYWxpemVkIGZyb20gdGhlIHByb3ZpZGVkIHN0cmluZy5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfZGVzZXJpYWxpemVWYWx1ZSh2YWx1ZSwgdHlwZSkge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgQm9vbGVhbjpcbiAgICAgICAgICByZXR1cm4gKHZhbHVlICE9PSBudWxsKTtcbiAgICAgICAgY2FzZSBOdW1iZXI6XG4gICAgICAgICAgcmV0dXJuIE51bWJlcih2YWx1ZSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICB9XG5cbiAgcmV0dXJuIFByb3BlcnRpZXNDaGFuZ2VkO1xufSk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuLi91dGlscy9ib290LmpzJztcblxuaW1wb3J0IHsgZGVkdXBpbmdNaXhpbiB9IGZyb20gJy4uL3V0aWxzL21peGluLmpzJztcbmltcG9ydCB7IGNhbWVsVG9EYXNoQ2FzZSwgZGFzaFRvQ2FtZWxDYXNlIH0gZnJvbSAnLi4vdXRpbHMvY2FzZS1tYXAuanMnO1xuaW1wb3J0IHsgUHJvcGVydGllc0NoYW5nZWQgfSBmcm9tICcuL3Byb3BlcnRpZXMtY2hhbmdlZC5qcyc7XG5cbi8vIFNhdmUgbWFwIG9mIG5hdGl2ZSBwcm9wZXJ0aWVzOyB0aGlzIGZvcm1zIGEgYmxhY2tsaXN0IG9yIHByb3BlcnRpZXNcbi8vIHRoYXQgd29uJ3QgaGF2ZSB0aGVpciB2YWx1ZXMgXCJzYXZlZFwiIGJ5IGBzYXZlQWNjZXNzb3JWYWx1ZWAsIHNpbmNlXG4vLyByZWFkaW5nIGZyb20gYW4gSFRNTEVsZW1lbnQgYWNjZXNzb3IgZnJvbSB0aGUgY29udGV4dCBvZiBhIHByb3RvdHlwZSB0aHJvd3NcbmNvbnN0IG5hdGl2ZVByb3BlcnRpZXMgPSB7fTtcbmxldCBwcm90byA9IEhUTUxFbGVtZW50LnByb3RvdHlwZTtcbndoaWxlIChwcm90bykge1xuICBsZXQgcHJvcHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwcm90byk7XG4gIGZvciAobGV0IGk9MDsgaTxwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIG5hdGl2ZVByb3BlcnRpZXNbcHJvcHNbaV1dID0gdHJ1ZTtcbiAgfVxuICBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90byk7XG59XG5cbi8qKlxuICogVXNlZCB0byBzYXZlIHRoZSB2YWx1ZSBvZiBhIHByb3BlcnR5IHRoYXQgd2lsbCBiZSBvdmVycmlkZGVuIHdpdGhcbiAqIGFuIGFjY2Vzc29yLiBJZiB0aGUgYG1vZGVsYCBpcyBhIHByb3RvdHlwZSwgdGhlIHZhbHVlcyB3aWxsIGJlIHNhdmVkXG4gKiBpbiBgX19kYXRhUHJvdG9gLCBhbmQgaXQncyB1cCB0byB0aGUgdXNlciAob3IgZG93bnN0cmVhbSBtaXhpbikgdG9cbiAqIGRlY2lkZSBob3cvd2hlbiB0byBzZXQgdGhlc2UgdmFsdWVzIGJhY2sgaW50byB0aGUgYWNjZXNzb3JzLlxuICogSWYgYG1vZGVsYCBpcyBhbHJlYWR5IGFuIGluc3RhbmNlIChpdCBoYXMgYSBgX19kYXRhYCBwcm9wZXJ0eSksIHRoZW5cbiAqIHRoZSB2YWx1ZSB3aWxsIGJlIHNldCBhcyBhIHBlbmRpbmcgcHJvcGVydHksIG1lYW5pbmcgdGhlIHVzZXIgc2hvdWxkXG4gKiBjYWxsIGBfaW52YWxpZGF0ZVByb3BlcnRpZXNgIG9yIGBfZmx1c2hQcm9wZXJ0aWVzYCB0byB0YWtlIGVmZmVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBtb2RlbCBQcm90b3R5cGUgb3IgaW5zdGFuY2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBOYW1lIG9mIHByb3BlcnR5XG4gKiBAcmV0dXJuIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2F2ZUFjY2Vzc29yVmFsdWUobW9kZWwsIHByb3BlcnR5KSB7XG4gIC8vIERvbid0IHJlYWQvc3RvcmUgdmFsdWUgZm9yIGFueSBuYXRpdmUgcHJvcGVydGllcyBzaW5jZSB0aGV5IGNvdWxkIHRocm93XG4gIGlmICghbmF0aXZlUHJvcGVydGllc1twcm9wZXJ0eV0pIHtcbiAgICBsZXQgdmFsdWUgPSBtb2RlbFtwcm9wZXJ0eV07XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChtb2RlbC5fX2RhdGEpIHtcbiAgICAgICAgLy8gQWRkaW5nIGFjY2Vzc29yIHRvIGluc3RhbmNlOyB1cGRhdGUgdGhlIHByb3BlcnR5XG4gICAgICAgIC8vIEl0IGlzIHRoZSB1c2VyJ3MgcmVzcG9uc2liaWxpdHkgdG8gY2FsbCBfZmx1c2hQcm9wZXJ0aWVzXG4gICAgICAgIG1vZGVsLl9zZXRQZW5kaW5nUHJvcGVydHkocHJvcGVydHksIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEFkZGluZyBhY2Nlc3NvciB0byBwcm90bzsgc2F2ZSBwcm90bydzIHZhbHVlIGZvciBpbnN0YW5jZS10aW1lIHVzZVxuICAgICAgICBpZiAoIW1vZGVsLl9fZGF0YVByb3RvKSB7XG4gICAgICAgICAgbW9kZWwuX19kYXRhUHJvdG8gPSB7fTtcbiAgICAgICAgfSBlbHNlIGlmICghbW9kZWwuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX19kYXRhUHJvdG8nLCBtb2RlbCkpKSB7XG4gICAgICAgICAgbW9kZWwuX19kYXRhUHJvdG8gPSBPYmplY3QuY3JlYXRlKG1vZGVsLl9fZGF0YVByb3RvKTtcbiAgICAgICAgfVxuICAgICAgICBtb2RlbC5fX2RhdGFQcm90b1twcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBFbGVtZW50IGNsYXNzIG1peGluIHRoYXQgcHJvdmlkZXMgYmFzaWMgbWV0YS1wcm9ncmFtbWluZyBmb3IgY3JlYXRpbmcgb25lXG4gKiBvciBtb3JlIHByb3BlcnR5IGFjY2Vzc29ycyAoZ2V0dGVyL3NldHRlciBwYWlyKSB0aGF0IGVucXVldWUgYW4gYXN5bmNcbiAqIChiYXRjaGVkKSBgX3Byb3BlcnRpZXNDaGFuZ2VkYCBjYWxsYmFjay5cbiAqXG4gKiBGb3IgYmFzaWMgdXNhZ2Ugb2YgdGhpcyBtaXhpbjpcbiAqXG4gKiAtICAgRGVjbGFyZSBhdHRyaWJ1dGVzIHRvIG9ic2VydmUgdmlhIHRoZSBzdGFuZGFyZCBgc3RhdGljIGdldFxuICogICAgIG9ic2VydmVkQXR0cmlidXRlcygpYC4gVXNlIGBkYXNoLWNhc2VgIGF0dHJpYnV0ZSBuYW1lcyB0byByZXByZXNlbnRcbiAqICAgICBgY2FtZWxDYXNlYCBwcm9wZXJ0eSBuYW1lcy5cbiAqIC0gICBJbXBsZW1lbnQgdGhlIGBfcHJvcGVydGllc0NoYW5nZWRgIGNhbGxiYWNrIG9uIHRoZSBjbGFzcy5cbiAqIC0gICBDYWxsIGBNeUNsYXNzLmNyZWF0ZVByb3BlcnRpZXNGb3JBdHRyaWJ1dGVzKClgICoqb25jZSoqIG9uIHRoZSBjbGFzcyB0b1xuICogICAgIGdlbmVyYXRlIHByb3BlcnR5IGFjY2Vzc29ycyBmb3IgZWFjaCBvYnNlcnZlZCBhdHRyaWJ1dGUuIFRoaXMgbXVzdCBiZVxuICogICAgIGNhbGxlZCBiZWZvcmUgdGhlIGZpcnN0IGluc3RhbmNlIGlzIGNyZWF0ZWQsIGZvciBleGFtcGxlLCBieSBjYWxsaW5nIGl0XG4gKiAgICAgYmVmb3JlIGNhbGxpbmcgYGN1c3RvbUVsZW1lbnRzLmRlZmluZWAuIEl0IGNhbiBhbHNvIGJlIGNhbGxlZCBsYXppbHkgZnJvbVxuICogICAgIHRoZSBlbGVtZW50J3MgYGNvbnN0cnVjdG9yYCwgYXMgbG9uZyBhcyBpdCdzIGd1YXJkZWQgc28gdGhhdCB0aGUgY2FsbCBpc1xuICogICAgIG9ubHkgbWFkZSBvbmNlLCB3aGVuIHRoZSBmaXJzdCBpbnN0YW5jZSBpcyBjcmVhdGVkLlxuICogLSAgIENhbGwgYHRoaXMuX2VuYWJsZVByb3BlcnRpZXMoKWAgaW4gdGhlIGVsZW1lbnQncyBgY29ubmVjdGVkQ2FsbGJhY2tgIHRvXG4gKiAgICAgZW5hYmxlIHRoZSBhY2Nlc3NvcnMuXG4gKlxuICogQW55IGBvYnNlcnZlZEF0dHJpYnV0ZXNgIHdpbGwgYXV0b21hdGljYWxseSBiZVxuICogZGVzZXJpYWxpemVkIHZpYSBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYCBhbmQgc2V0IHRvIHRoZSBhc3NvY2lhdGVkXG4gKiBwcm9wZXJ0eSB1c2luZyBgZGFzaC1jYXNlYC10by1gY2FtZWxDYXNlYCBjb252ZW50aW9uLlxuICpcbiAqIEBtaXhpbkZ1bmN0aW9uXG4gKiBAcG9seW1lclxuICogQGFwcGxpZXNNaXhpbiBQcm9wZXJ0aWVzQ2hhbmdlZFxuICogQHN1bW1hcnkgRWxlbWVudCBjbGFzcyBtaXhpbiBmb3IgcmVhY3RpbmcgdG8gcHJvcGVydHkgY2hhbmdlcyBmcm9tXG4gKiAgIGdlbmVyYXRlZCBwcm9wZXJ0eSBhY2Nlc3NvcnMuXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3MgQ2xhc3MgdG8gYXBwbHkgbWl4aW4gdG8uXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3Mgd2l0aCBtaXhpbiBhcHBsaWVkLlxuICovXG5leHBvcnQgY29uc3QgUHJvcGVydHlBY2Nlc3NvcnMgPSBkZWR1cGluZ01peGluKHN1cGVyQ2xhc3MgPT4ge1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQGltcGxlbWVudHMge1BvbHltZXJfUHJvcGVydGllc0NoYW5nZWR9XG4gICAqIEB1bnJlc3RyaWN0ZWRcbiAgICogQHByaXZhdGVcbiAgICovXG4gICBjb25zdCBiYXNlID0gUHJvcGVydGllc0NoYW5nZWQoc3VwZXJDbGFzcyk7XG5cbiAgLyoqXG4gICAqIEBwb2x5bWVyXG4gICAqIEBtaXhpbkNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX1Byb3BlcnR5QWNjZXNzb3JzfVxuICAgKiBAZXh0ZW5kcyB7YmFzZX1cbiAgICogQHVucmVzdHJpY3RlZFxuICAgKi9cbiAgY2xhc3MgUHJvcGVydHlBY2Nlc3NvcnMgZXh0ZW5kcyBiYXNlIHtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBwcm9wZXJ0eSBhY2Nlc3NvcnMgZm9yIGFsbCBhdHRyaWJ1dGVzIGluIHRoZSBzdGFuZGFyZFxuICAgICAqIHN0YXRpYyBgb2JzZXJ2ZWRBdHRyaWJ1dGVzYCBhcnJheS5cbiAgICAgKlxuICAgICAqIEF0dHJpYnV0ZSBuYW1lcyBhcmUgbWFwcGVkIHRvIHByb3BlcnR5IG5hbWVzIHVzaW5nIHRoZSBgZGFzaC1jYXNlYCB0b1xuICAgICAqIGBjYW1lbENhc2VgIGNvbnZlbnRpb25cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlUHJvcGVydGllc0ZvckF0dHJpYnV0ZXMoKSB7XG4gICAgICBsZXQgYSQgPSAgLyoqIEB0eXBlIHs/fSAqLyAodGhpcykub2JzZXJ2ZWRBdHRyaWJ1dGVzO1xuICAgICAgZm9yIChsZXQgaT0wOyBpIDwgYSQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5wcm90b3R5cGUuX2NyZWF0ZVByb3BlcnR5QWNjZXNzb3IoZGFzaFRvQ2FtZWxDYXNlKGEkW2ldKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhdHRyaWJ1dGUgbmFtZSB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBnaXZlbiBwcm9wZXJ0eS5cbiAgICAgKiBCeSBkZWZhdWx0LCBjb252ZXJ0cyBjYW1lbCB0byBkYXNoIGNhc2UsIGUuZy4gYGZvb0JhcmAgdG8gYGZvby1iYXJgLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSB0byBjb252ZXJ0XG4gICAgICogQHJldHVybiB7c3RyaW5nfSBBdHRyaWJ1dGUgbmFtZSBjb3JyZXNwb25kaW5nIHRvIHRoZSBnaXZlbiBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBhdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkocHJvcGVydHkpIHtcbiAgICAgIHJldHVybiBjYW1lbFRvRGFzaENhc2UocHJvcGVydHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyBQcm9wZXJ0aWVzQ2hhbmdlZCBpbXBsZW1lbnRhdGlvbiB0byBpbml0aWFsaXplIHZhbHVlcyBmb3JcbiAgICAgKiBhY2Nlc3NvcnMgY3JlYXRlZCBmb3IgdmFsdWVzIHRoYXQgYWxyZWFkeSBleGlzdGVkIG9uIHRoZSBlbGVtZW50XG4gICAgICogcHJvdG90eXBlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2luaXRpYWxpemVQcm9wZXJ0aWVzKCkge1xuICAgICAgaWYgKHRoaXMuX19kYXRhUHJvdG8pIHtcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZVByb3RvUHJvcGVydGllcyh0aGlzLl9fZGF0YVByb3RvKTtcbiAgICAgICAgdGhpcy5fX2RhdGFQcm90byA9IG51bGw7XG4gICAgICB9XG4gICAgICBzdXBlci5faW5pdGlhbGl6ZVByb3BlcnRpZXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYXQgaW5zdGFuY2UgdGltZSB3aXRoIGJhZyBvZiBwcm9wZXJ0aWVzIHRoYXQgd2VyZSBvdmVyd3JpdHRlblxuICAgICAqIGJ5IGFjY2Vzc29ycyBvbiB0aGUgcHJvdG90eXBlIHdoZW4gYWNjZXNzb3JzIHdlcmUgY3JlYXRlZC5cbiAgICAgKlxuICAgICAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHNldHMgdGhlc2UgcHJvcGVydGllcyBiYWNrIGludG8gdGhlXG4gICAgICogc2V0dGVyIGF0IGluc3RhbmNlIHRpbWUuICBUaGlzIG1ldGhvZCBpcyBwcm92aWRlZCBhcyBhbiBvdmVycmlkZVxuICAgICAqIHBvaW50IGZvciBjdXN0b21pemluZyBvciBwcm92aWRpbmcgbW9yZSBlZmZpY2llbnQgaW5pdGlhbGl6YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgQmFnIG9mIHByb3BlcnR5IHZhbHVlcyB0aGF0IHdlcmUgb3ZlcndyaXR0ZW5cbiAgICAgKiAgIHdoZW4gY3JlYXRpbmcgcHJvcGVydHkgYWNjZXNzb3JzLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9pbml0aWFsaXplUHJvdG9Qcm9wZXJ0aWVzKHByb3BzKSB7XG4gICAgICBmb3IgKGxldCBwIGluIHByb3BzKSB7XG4gICAgICAgIHRoaXMuX3NldFByb3BlcnR5KHAsIHByb3BzW3BdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbnN1cmVzIHRoZSBlbGVtZW50IGhhcyB0aGUgZ2l2ZW4gYXR0cmlidXRlLiBJZiBpdCBkb2VzIG5vdCxcbiAgICAgKiBhc3NpZ25zIHRoZSBnaXZlbiB2YWx1ZSB0byB0aGUgYXR0cmlidXRlLlxuICAgICAqXG4gICAgICogQHN1cHByZXNzIHtpbnZhbGlkQ2FzdHN9IENsb3N1cmUgY2FuJ3QgZmlndXJlIG91dCBgdGhpc2AgaXMgaW5mYWN0IGFuXG4gICAgICogICAgIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGUgTmFtZSBvZiBhdHRyaWJ1dGUgdG8gZW5zdXJlIGlzIHNldC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZS5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9lbnN1cmVBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgICAgY29uc3QgZWwgPSAvKiogQHR5cGUgeyFIVE1MRWxlbWVudH0gKi8odGhpcyk7XG4gICAgICBpZiAoIWVsLmhhc0F0dHJpYnV0ZShhdHRyaWJ1dGUpKSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlVG9Ob2RlQXR0cmlidXRlKGVsLCB2YWx1ZSwgYXR0cmlidXRlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgUHJvcGVydGllc0NoYW5nZWQgaW1wbGVtZW50aW9uIHRvIHNlcmlhbGl6ZSBvYmplY3RzIGFzIEpTT04uXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFByb3BlcnR5IHZhbHVlIHRvIHNlcmlhbGl6ZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmcgfCB1bmRlZmluZWR9IFN0cmluZyBzZXJpYWxpemVkIGZyb20gdGhlIHByb3ZpZGVkIHByb3BlcnR5XG4gICAgICogICAgIHZhbHVlLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9zZXJpYWxpemVWYWx1ZSh2YWx1ZSkge1xuICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tZmFsbHRocm91Z2ggKi9cbiAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgICAgIH0gY2F0Y2goeCkge1xuICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHN1cGVyLl9zZXJpYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYSBzdHJpbmcgdG8gYSB0eXBlZCBKYXZhU2NyaXB0IHZhbHVlLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIGJ5IFBvbHltZXIgd2hlbiByZWFkaW5nIEhUTUwgYXR0cmlidXRlIHZhbHVlcyB0b1xuICAgICAqIEpTIHByb3BlcnRpZXMuICBVc2VycyBtYXkgb3ZlcnJpZGUgdGhpcyBtZXRob2Qgb24gUG9seW1lciBlbGVtZW50XG4gICAgICogcHJvdG90eXBlcyB0byBwcm92aWRlIGRlc2VyaWFsaXphdGlvbiBmb3IgY3VzdG9tIGB0eXBlYHMuICBOb3RlLFxuICAgICAqIHRoZSBgdHlwZWAgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBgdHlwZWAgZmllbGQgcHJvdmlkZWQgaW4gdGhlXG4gICAgICogYHByb3BlcnRpZXNgIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciBhIGdpdmVuIHByb3BlcnR5LCBhbmQgaXNcbiAgICAgKiBieSBjb252ZW50aW9uIHRoZSBjb25zdHJ1Y3RvciBmb3IgdGhlIHR5cGUgdG8gZGVzZXJpYWxpemUuXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gdmFsdWUgQXR0cmlidXRlIHZhbHVlIHRvIGRlc2VyaWFsaXplLlxuICAgICAqIEBwYXJhbSB7Kj19IHR5cGUgVHlwZSB0byBkZXNlcmlhbGl6ZSB0aGUgc3RyaW5nIHRvLlxuICAgICAqIEByZXR1cm4geyp9IFR5cGVkIHZhbHVlIGRlc2VyaWFsaXplZCBmcm9tIHRoZSBwcm92aWRlZCBzdHJpbmcuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2Rlc2VyaWFsaXplVmFsdWUodmFsdWUsIHR5cGUpIHtcbiAgICAgIC8qKlxuICAgICAgICogQHR5cGUgeyp9XG4gICAgICAgKi9cbiAgICAgIGxldCBvdXRWYWx1ZTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIE9iamVjdDpcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgb3V0VmFsdWUgPSBKU09OLnBhcnNlKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyh2YWx1ZSkpO1xuICAgICAgICAgIH0gY2F0Y2goeCkge1xuICAgICAgICAgICAgLy8gYWxsb3cgbm9uLUpTT04gbGl0ZXJhbHMgbGlrZSBTdHJpbmdzIGFuZCBOdW1iZXJzXG4gICAgICAgICAgICBvdXRWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBcnJheTpcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgb3V0VmFsdWUgPSBKU09OLnBhcnNlKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyh2YWx1ZSkpO1xuICAgICAgICAgIH0gY2F0Y2goeCkge1xuICAgICAgICAgICAgb3V0VmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBQb2x5bWVyOjpBdHRyaWJ1dGVzOiBjb3VsZG4ndCBkZWNvZGUgQXJyYXkgYXMgSlNPTjogJHt2YWx1ZX1gKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgRGF0ZTpcbiAgICAgICAgICBvdXRWYWx1ZSA9IGlzTmFOKHZhbHVlKSA/IFN0cmluZyh2YWx1ZSkgOiBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgIG91dFZhbHVlID0gbmV3IERhdGUob3V0VmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIG91dFZhbHVlID0gc3VwZXIuX2Rlc2VyaWFsaXplVmFsdWUodmFsdWUsIHR5cGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG91dFZhbHVlO1xuICAgIH1cbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWZhbGx0aHJvdWdoICovXG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgUHJvcGVydGllc0NoYW5nZWQgaW1wbGVtZW50YXRpb24gdG8gc2F2ZSBleGlzdGluZyBwcm90b3R5cGVcbiAgICAgKiBwcm9wZXJ0eSB2YWx1ZSBzbyB0aGF0IGl0IGNhbiBiZSByZXNldC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgTmFtZSBvZiB0aGUgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSByZWFkT25seSBXaGVuIHRydWUsIG5vIHNldHRlciBpcyBjcmVhdGVkXG4gICAgICpcbiAgICAgKiBXaGVuIGNhbGxpbmcgb24gYSBwcm90b3R5cGUsIGFueSBvdmVyd3JpdHRlbiB2YWx1ZXMgYXJlIHNhdmVkIGluXG4gICAgICogYF9fZGF0YVByb3RvYCwgYW5kIGl0IGlzIHVwIHRvIHRoZSBzdWJjbGFzc2VyIHRvIGRlY2lkZSBob3cvd2hlblxuICAgICAqIHRvIHNldCB0aG9zZSBwcm9wZXJ0aWVzIGJhY2sgaW50byB0aGUgYWNjZXNzb3IuICBXaGVuIGNhbGxpbmcgb24gYW5cbiAgICAgKiBpbnN0YW5jZSwgdGhlIG92ZXJ3cml0dGVuIHZhbHVlIGlzIHNldCB2aWEgYF9zZXRQZW5kaW5nUHJvcGVydHlgLFxuICAgICAqIGFuZCB0aGUgdXNlciBzaG91bGQgY2FsbCBgX2ludmFsaWRhdGVQcm9wZXJ0aWVzYCBvciBgX2ZsdXNoUHJvcGVydGllc2BcbiAgICAgKiBmb3IgdGhlIHZhbHVlcyB0byB0YWtlIGVmZmVjdC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfZGVmaW5lUHJvcGVydHlBY2Nlc3Nvcihwcm9wZXJ0eSwgcmVhZE9ubHkpIHtcbiAgICAgIHNhdmVBY2Nlc3NvclZhbHVlKHRoaXMsIHByb3BlcnR5KTtcbiAgICAgIHN1cGVyLl9kZWZpbmVQcm9wZXJ0eUFjY2Vzc29yKHByb3BlcnR5LCByZWFkT25seSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgbGlicmFyeSBjcmVhdGVkIGFuIGFjY2Vzc29yIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYW4gYWNjZXNzb3Igd2FzIGNyZWF0ZWRcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfaGFzQWNjZXNzb3IocHJvcGVydHkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YUhhc0FjY2Vzc29yICYmIHRoaXMuX19kYXRhSGFzQWNjZXNzb3JbcHJvcGVydHldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIHByb3BlcnR5IGhhcyBhIHBlbmRpbmcgY2hhbmdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3AgUHJvcGVydHkgbmFtZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcHJvcGVydHkgaGFzIGEgcGVuZGluZyBjaGFuZ2VcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2lzUHJvcGVydHlQZW5kaW5nKHByb3ApIHtcbiAgICAgIHJldHVybiBCb29sZWFuKHRoaXMuX19kYXRhUGVuZGluZyAmJiAocHJvcCBpbiB0aGlzLl9fZGF0YVBlbmRpbmcpKTtcbiAgICB9XG5cbiAgfVxuXG4gIHJldHVybiBQcm9wZXJ0eUFjY2Vzc29ycztcblxufSk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuLi91dGlscy9ib290LmpzJztcblxuaW1wb3J0IHsgZGVkdXBpbmdNaXhpbiB9IGZyb20gJy4uL3V0aWxzL21peGluLmpzJztcblxuLy8gMS54IGJhY2t3YXJkcy1jb21wYXRpYmxlIGF1dG8td3JhcHBlciBmb3IgdGVtcGxhdGUgdHlwZSBleHRlbnNpb25zXG4vLyBUaGlzIGlzIGEgY2xlYXIgbGF5ZXJpbmcgdmlvbGF0aW9uIGFuZCBnaXZlcyBmYXZvcmVkLW5hdGlvbiBzdGF0dXMgdG9cbi8vIGRvbS1pZiBhbmQgZG9tLXJlcGVhdCB0ZW1wbGF0ZXMuICBUaGlzIGlzIGEgY29uY2VpdCB3ZSdyZSBjaG9vc2luZyB0byBrZWVwXG4vLyBhLikgdG8gZWFzZSAxLnggYmFja3dhcmRzLWNvbXBhdGliaWxpdHkgZHVlIHRvIGxvc3Mgb2YgYGlzYCwgYW5kXG4vLyBiLikgdG8gbWFpbnRhaW4gaWYvcmVwZWF0IGNhcGFiaWxpdHkgaW4gcGFyc2VyLWNvbnN0cmFpbmVkIGVsZW1lbnRzXG4vLyAgICAgKGUuZy4gdGFibGUsIHNlbGVjdCkgaW4gbGlldSBvZiBuYXRpdmUgQ0UgdHlwZSBleHRlbnNpb25zIHdpdGhvdXRcbi8vICAgICBtYXNzaXZlIG5ldyBpbnZlbnRpb24gaW4gdGhpcyBzcGFjZSAoZS5nLiBkaXJlY3RpdmUgc3lzdGVtKVxuY29uc3QgdGVtcGxhdGVFeHRlbnNpb25zID0ge1xuICAnZG9tLWlmJzogdHJ1ZSxcbiAgJ2RvbS1yZXBlYXQnOiB0cnVlXG59O1xuXG5sZXQgcGxhY2Vob2xkZXJCdWdEZXRlY3QgPSBmYWxzZTtcbmxldCBwbGFjZWhvbGRlckJ1ZyA9IGZhbHNlO1xuXG5mdW5jdGlvbiBoYXNQbGFjZWhvbGRlckJ1ZygpIHtcbiAgaWYgKCFwbGFjZWhvbGRlckJ1Z0RldGVjdCkge1xuICAgIHBsYWNlaG9sZGVyQnVnRGV0ZWN0ID0gdHJ1ZTtcbiAgICBjb25zdCB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICB0LnBsYWNlaG9sZGVyID0gJ2EnO1xuICAgIHBsYWNlaG9sZGVyQnVnID0gdC5wbGFjZWhvbGRlciA9PT0gdC50ZXh0Q29udGVudDtcbiAgfVxuICByZXR1cm4gcGxhY2Vob2xkZXJCdWc7XG59XG5cbi8qKlxuICogU29tZSBicm93c2VycyBoYXZlIGEgYnVnIHdpdGggdGV4dGFyZWEsIHdoZXJlIHBsYWNlaG9sZGVyIHRleHQgaXMgY29waWVkIGFzXG4gKiBhIHRleHRub2RlIGNoaWxkIG9mIHRoZSB0ZXh0YXJlYS5cbiAqXG4gKiBJZiB0aGUgcGxhY2Vob2xkZXIgaXMgYSBiaW5kaW5nLCB0aGlzIGNhbiBicmVhayB0ZW1wbGF0ZSBzdGFtcGluZyBpbiB0d29cbiAqIHdheXMuXG4gKlxuICogT25lIGlzc3VlIGlzIHRoYXQgd2hlbiB0aGUgYHBsYWNlaG9sZGVyYCBhdHRyaWJ1dGUgaXMgcmVtb3ZlZCB3aGVuIHRoZVxuICogYmluZGluZyBpcyBwcm9jZXNzZWQsIHRoZSB0ZXh0bm9kZSBjaGlsZCBvZiB0aGUgdGV4dGFyZWEgaXMgZGVsZXRlZCwgYW5kIHRoZVxuICogdGVtcGxhdGUgaW5mbyB0cmllcyB0byBiaW5kIGludG8gdGhhdCBub2RlLlxuICpcbiAqIFdpdGggYGxlZ2FjeU9wdGltaXphdGlvbnNgIGluIHVzZSwgd2hlbiB0aGUgdGVtcGxhdGUgaXMgc3RhbXBlZCBhbmQgdGhlXG4gKiBgdGV4dGFyZWEudGV4dENvbnRlbnRgIGJpbmRpbmcgaXMgcHJvY2Vzc2VkLCBubyBjb3JyZXNwb25kaW5nIG5vZGUgaXMgZm91bmRcbiAqIGJlY2F1c2UgaXQgd2FzIHJlbW92ZWQgZHVyaW5nIHBhcnNpbmcuIEFuIGV4Y2VwdGlvbiBpcyBnZW5lcmF0ZWQgd2hlbiB0aGlzXG4gKiBiaW5kaW5nIGlzIHVwZGF0ZWQuXG4gKlxuICogV2l0aCBgbGVnYWN5T3B0aW1pemF0aW9uc2Agbm90IGluIHVzZSwgdGhlIHRlbXBsYXRlIGlzIGNsb25lZCBiZWZvcmVcbiAqIHByb2Nlc3NpbmcgYW5kIHRoaXMgY2hhbmdlcyB0aGUgYWJvdmUgYmVoYXZpb3IuIFRoZSBjbG9uZWQgdGVtcGxhdGUgYWxzbyBoYXNcbiAqIGEgdmFsdWUgcHJvcGVydHkgc2V0IHRvIHRoZSBwbGFjZWhvbGRlciBhbmQgdGV4dENvbnRlbnQuIFRoaXMgcHJldmVudHMgdGhlXG4gKiByZW1vdmFsIG9mIHRoZSB0ZXh0Q29udGVudCB3aGVuIHRoZSBwbGFjZWhvbGRlciBhdHRyaWJ1dGUgaXMgcmVtb3ZlZC5cbiAqIFRoZXJlZm9yZSB0aGUgZXhjZXB0aW9uIGRvZXMgbm90IG9jY3VyLiBIb3dldmVyLCB0aGVyZSBpcyBhbiBleHRyYVxuICogdW5uZWNlc3NhcnkgYmluZGluZy5cbiAqXG4gKiBAcGFyYW0geyFOb2RlfSBub2RlIENoZWNrIG5vZGUgZm9yIHBsYWNlaG9sZGVyIGJ1Z1xuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gZml4UGxhY2Vob2xkZXIobm9kZSkge1xuICBpZiAoaGFzUGxhY2Vob2xkZXJCdWcoKSAmJiBub2RlLmxvY2FsTmFtZSA9PT0gJ3RleHRhcmVhJyAmJiBub2RlLnBsYWNlaG9sZGVyXG4gICAgICAgICYmIG5vZGUucGxhY2Vob2xkZXIgPT09IG5vZGUudGV4dENvbnRlbnQpIHtcbiAgICBub2RlLnRleHRDb250ZW50ID0gbnVsbDtcbiAgfVxufVxuXG5mdW5jdGlvbiB3cmFwVGVtcGxhdGVFeHRlbnNpb24obm9kZSkge1xuICBsZXQgaXMgPSBub2RlLmdldEF0dHJpYnV0ZSgnaXMnKTtcbiAgaWYgKGlzICYmIHRlbXBsYXRlRXh0ZW5zaW9uc1tpc10pIHtcbiAgICBsZXQgdCA9IG5vZGU7XG4gICAgdC5yZW1vdmVBdHRyaWJ1dGUoJ2lzJyk7XG4gICAgbm9kZSA9IHQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KGlzKTtcbiAgICB0LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG5vZGUsIHQpO1xuICAgIG5vZGUuYXBwZW5kQ2hpbGQodCk7XG4gICAgd2hpbGUodC5hdHRyaWJ1dGVzLmxlbmd0aCkge1xuICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUodC5hdHRyaWJ1dGVzWzBdLm5hbWUsIHQuYXR0cmlidXRlc1swXS52YWx1ZSk7XG4gICAgICB0LnJlbW92ZUF0dHJpYnV0ZSh0LmF0dHJpYnV0ZXNbMF0ubmFtZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBub2RlO1xufVxuXG5mdW5jdGlvbiBmaW5kVGVtcGxhdGVOb2RlKHJvb3QsIG5vZGVJbmZvKSB7XG4gIC8vIHJlY3Vyc2l2ZWx5IGFzY2VuZCB0cmVlIHVudGlsIHdlIGhpdCByb290XG4gIGxldCBwYXJlbnQgPSBub2RlSW5mby5wYXJlbnRJbmZvICYmIGZpbmRUZW1wbGF0ZU5vZGUocm9vdCwgbm9kZUluZm8ucGFyZW50SW5mbyk7XG4gIC8vIHVud2luZCB0aGUgc3RhY2ssIHJldHVybmluZyB0aGUgaW5kZXhlZCBub2RlIGF0IGVhY2ggbGV2ZWxcbiAgaWYgKHBhcmVudCkge1xuICAgIC8vIG5vdGU6IG1hcmdpbmFsbHkgZmFzdGVyIHRoYW4gaW5kZXhpbmcgdmlhIGNoaWxkTm9kZXNcbiAgICAvLyAoaHR0cDovL2pzcGVyZi5jb20vY2hpbGRub2Rlcy1sb29rdXApXG4gICAgZm9yIChsZXQgbj1wYXJlbnQuZmlyc3RDaGlsZCwgaT0wOyBuOyBuPW4ubmV4dFNpYmxpbmcpIHtcbiAgICAgIGlmIChub2RlSW5mby5wYXJlbnRJbmRleCA9PT0gaSsrKSB7XG4gICAgICAgIHJldHVybiBuO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcm9vdDtcbiAgfVxufVxuXG4vLyBjb25zdHJ1Y3QgYCRgIG1hcCAoZnJvbSBpZCBhbm5vdGF0aW9ucylcbmZ1bmN0aW9uIGFwcGx5SWRUb01hcChpbnN0LCBtYXAsIG5vZGUsIG5vZGVJbmZvKSB7XG4gIGlmIChub2RlSW5mby5pZCkge1xuICAgIG1hcFtub2RlSW5mby5pZF0gPSBub2RlO1xuICB9XG59XG5cbi8vIGluc3RhbGwgZXZlbnQgbGlzdGVuZXJzIChmcm9tIGV2ZW50IGFubm90YXRpb25zKVxuZnVuY3Rpb24gYXBwbHlFdmVudExpc3RlbmVyKGluc3QsIG5vZGUsIG5vZGVJbmZvKSB7XG4gIGlmIChub2RlSW5mby5ldmVudHMgJiYgbm9kZUluZm8uZXZlbnRzLmxlbmd0aCkge1xuICAgIGZvciAobGV0IGo9MCwgZSQ9bm9kZUluZm8uZXZlbnRzLCBlOyAoajxlJC5sZW5ndGgpICYmIChlPWUkW2pdKTsgaisrKSB7XG4gICAgICBpbnN0Ll9hZGRNZXRob2RFdmVudExpc3RlbmVyVG9Ob2RlKG5vZGUsIGUubmFtZSwgZS52YWx1ZSwgaW5zdCk7XG4gICAgfVxuICB9XG59XG5cbi8vIHB1c2ggY29uZmlndXJhdGlvbiByZWZlcmVuY2VzIGF0IGNvbmZpZ3VyZSB0aW1lXG5mdW5jdGlvbiBhcHBseVRlbXBsYXRlQ29udGVudChpbnN0LCBub2RlLCBub2RlSW5mbykge1xuICBpZiAobm9kZUluZm8udGVtcGxhdGVJbmZvKSB7XG4gICAgbm9kZS5fdGVtcGxhdGVJbmZvID0gbm9kZUluZm8udGVtcGxhdGVJbmZvO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU5vZGVFdmVudEhhbmRsZXIoY29udGV4dCwgZXZlbnROYW1lLCBtZXRob2ROYW1lKSB7XG4gIC8vIEluc3RhbmNlcyBjYW4gb3B0aW9uYWxseSBoYXZlIGEgX21ldGhvZEhvc3Qgd2hpY2ggYWxsb3dzIHJlZGlyZWN0aW5nIHdoZXJlXG4gIC8vIHRvIGZpbmQgbWV0aG9kcy4gQ3VycmVudGx5IHVzZWQgYnkgYHRlbXBsYXRpemVgLlxuICBjb250ZXh0ID0gY29udGV4dC5fbWV0aG9kSG9zdCB8fCBjb250ZXh0O1xuICBsZXQgaGFuZGxlciA9IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoY29udGV4dFttZXRob2ROYW1lXSkge1xuICAgICAgY29udGV4dFttZXRob2ROYW1lXShlLCBlLmRldGFpbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybignbGlzdGVuZXIgbWV0aG9kIGAnICsgbWV0aG9kTmFtZSArICdgIG5vdCBkZWZpbmVkJyk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gaGFuZGxlcjtcbn1cblxuLyoqXG4gKiBFbGVtZW50IG1peGluIHRoYXQgcHJvdmlkZXMgYmFzaWMgdGVtcGxhdGUgcGFyc2luZyBhbmQgc3RhbXBpbmcsIGluY2x1ZGluZ1xuICogdGhlIGZvbGxvd2luZyB0ZW1wbGF0ZS1yZWxhdGVkIGZlYXR1cmVzIGZvciBzdGFtcGVkIHRlbXBsYXRlczpcbiAqXG4gKiAtIERlY2xhcmF0aXZlIGV2ZW50IGxpc3RlbmVycyAoYG9uLWV2ZW50bmFtZT1cImxpc3RlbmVyXCJgKVxuICogLSBNYXAgb2Ygbm9kZSBpZCdzIHRvIHN0YW1wZWQgbm9kZSBpbnN0YW5jZXMgKGB0aGlzLiQuaWRgKVxuICogLSBOZXN0ZWQgdGVtcGxhdGUgY29udGVudCBjYWNoaW5nL3JlbW92YWwgYW5kIHJlLWluc3RhbGxhdGlvbiAocGVyZm9ybWFuY2VcbiAqICAgb3B0aW1pemF0aW9uKVxuICpcbiAqIEBtaXhpbkZ1bmN0aW9uXG4gKiBAcG9seW1lclxuICogQHN1bW1hcnkgRWxlbWVudCBjbGFzcyBtaXhpbiB0aGF0IHByb3ZpZGVzIGJhc2ljIHRlbXBsYXRlIHBhcnNpbmcgYW5kIHN0YW1waW5nXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3MgQ2xhc3MgdG8gYXBwbHkgbWl4aW4gdG8uXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3Mgd2l0aCBtaXhpbiBhcHBsaWVkLlxuICovXG5leHBvcnQgY29uc3QgVGVtcGxhdGVTdGFtcCA9IGRlZHVwaW5nTWl4aW4oXG4gICAgLyoqXG4gICAgICogQHRlbXBsYXRlIFRcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG5ldzpUKX0gc3VwZXJDbGFzcyBDbGFzcyB0byBhcHBseSBtaXhpbiB0by5cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3Mgd2l0aCBtaXhpbiBhcHBsaWVkLlxuICAgICAqL1xuICAgIChzdXBlckNsYXNzKSA9PiB7XG5cbiAgLyoqXG4gICAqIEBwb2x5bWVyXG4gICAqIEBtaXhpbkNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX1RlbXBsYXRlU3RhbXB9XG4gICAqL1xuICBjbGFzcyBUZW1wbGF0ZVN0YW1wIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG5cbiAgICAvKipcbiAgICAgKiBTY2FucyBhIHRlbXBsYXRlIHRvIHByb2R1Y2UgdGVtcGxhdGUgbWV0YWRhdGEuXG4gICAgICpcbiAgICAgKiBUZW1wbGF0ZS1zcGVjaWZpYyBtZXRhZGF0YSBhcmUgc3RvcmVkIGluIHRoZSBvYmplY3QgcmV0dXJuZWQsIGFuZCBub2RlLVxuICAgICAqIHNwZWNpZmljIG1ldGFkYXRhIGFyZSBzdG9yZWQgaW4gb2JqZWN0cyBpbiBpdHMgZmxhdHRlbmVkIGBub2RlSW5mb0xpc3RgXG4gICAgICogYXJyYXkuICBPbmx5IG5vZGVzIGluIHRoZSB0ZW1wbGF0ZSB0aGF0IHdlcmUgcGFyc2VkIGFzIG5vZGVzIG9mXG4gICAgICogaW50ZXJlc3QgY29udGFpbiBhbiBvYmplY3QgaW4gYG5vZGVJbmZvTGlzdGAuICBFYWNoIGBub2RlSW5mb2Agb2JqZWN0XG4gICAgICogY29udGFpbnMgYW4gYGluZGV4YCAoYGNoaWxkTm9kZXNgIGluZGV4IGluIHBhcmVudCkgYW5kIG9wdGlvbmFsbHlcbiAgICAgKiBgcGFyZW50YCwgd2hpY2ggcG9pbnRzIHRvIG5vZGUgaW5mbyBvZiBpdHMgcGFyZW50IChpbmNsdWRpbmcgaXRzIGluZGV4KS5cbiAgICAgKlxuICAgICAqIFRoZSB0ZW1wbGF0ZSBtZXRhZGF0YSBvYmplY3QgcmV0dXJuZWQgZnJvbSB0aGlzIG1ldGhvZCBoYXMgdGhlIGZvbGxvd2luZ1xuICAgICAqIHN0cnVjdHVyZSAobWFueSBmaWVsZHMgb3B0aW9uYWwpOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgIHtcbiAgICAgKiAgICAgLy8gRmxhdHRlbmVkIGxpc3Qgb2Ygbm9kZSBtZXRhZGF0YSAoZm9yIG5vZGVzIHRoYXQgZ2VuZXJhdGVkIG1ldGFkYXRhKVxuICAgICAqICAgICBub2RlSW5mb0xpc3Q6IFtcbiAgICAgKiAgICAgICB7XG4gICAgICogICAgICAgICAvLyBgaWRgIGF0dHJpYnV0ZSBmb3IgYW55IG5vZGVzIHdpdGggaWQncyBmb3IgZ2VuZXJhdGluZyBgJGAgbWFwXG4gICAgICogICAgICAgICBpZDoge3N0cmluZ30sXG4gICAgICogICAgICAgICAvLyBgb24tZXZlbnQ9XCJoYW5kbGVyXCJgIG1ldGFkYXRhXG4gICAgICogICAgICAgICBldmVudHM6IFtcbiAgICAgKiAgICAgICAgICAge1xuICAgICAqICAgICAgICAgICAgIG5hbWU6IHtzdHJpbmd9LCAgIC8vIGV2ZW50IG5hbWVcbiAgICAgKiAgICAgICAgICAgICB2YWx1ZToge3N0cmluZ30sICAvLyBoYW5kbGVyIG1ldGhvZCBuYW1lXG4gICAgICogICAgICAgICAgIH0sIC4uLlxuICAgICAqICAgICAgICAgXSxcbiAgICAgKiAgICAgICAgIC8vIE5vdGVzIHdoZW4gdGhlIHRlbXBsYXRlIGNvbnRhaW5lZCBhIGA8c2xvdD5gIGZvciBzaGFkeSBET01cbiAgICAgKiAgICAgICAgIC8vIG9wdGltaXphdGlvbiBwdXJwb3Nlc1xuICAgICAqICAgICAgICAgaGFzSW5zZXJ0aW9uUG9pbnQ6IHtib29sZWFufSxcbiAgICAgKiAgICAgICAgIC8vIEZvciBuZXN0ZWQgYDx0ZW1wbGF0ZT5gYCBub2RlcywgbmVzdGVkIHRlbXBsYXRlIG1ldGFkYXRhXG4gICAgICogICAgICAgICB0ZW1wbGF0ZUluZm86IHtvYmplY3R9LCAvLyBuZXN0ZWQgdGVtcGxhdGUgbWV0YWRhdGFcbiAgICAgKiAgICAgICAgIC8vIE1ldGFkYXRhIHRvIGFsbG93IGVmZmljaWVudCByZXRyaWV2YWwgb2YgaW5zdGFuY2VkIG5vZGVcbiAgICAgKiAgICAgICAgIC8vIGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBtZXRhZGF0YVxuICAgICAqICAgICAgICAgcGFyZW50SW5mbzoge251bWJlcn0sICAgLy8gcmVmZXJlbmNlIHRvIHBhcmVudCBub2RlSW5mbz5cbiAgICAgKiAgICAgICAgIHBhcmVudEluZGV4OiB7bnVtYmVyfSwgIC8vIGluZGV4IGluIHBhcmVudCdzIGBjaGlsZE5vZGVzYCBjb2xsZWN0aW9uXG4gICAgICogICAgICAgICBpbmZvSW5kZXg6IHtudW1iZXJ9LCAgICAvLyBpbmRleCBvZiB0aGlzIGBub2RlSW5mb2AgaW4gYHRlbXBsYXRlSW5mby5ub2RlSW5mb0xpc3RgXG4gICAgICogICAgICAgfSxcbiAgICAgKiAgICAgICAuLi5cbiAgICAgKiAgICAgXSxcbiAgICAgKiAgICAgLy8gV2hlbiB0cnVlLCB0aGUgdGVtcGxhdGUgaGFkIHRoZSBgc3RyaXAtd2hpdGVzcGFjZWAgYXR0cmlidXRlXG4gICAgICogICAgIC8vIG9yIHdhcyBuZXN0ZWQgaW4gYSB0ZW1wbGF0ZSB3aXRoIHRoYXQgc2V0dGluZ1xuICAgICAqICAgICBzdHJpcFdoaXRlc3BhY2U6IHtib29sZWFufSxcbiAgICAgKiAgICAgLy8gRm9yIG5lc3RlZCB0ZW1wbGF0ZXMsIG5lc3RlZCB0ZW1wbGF0ZSBjb250ZW50IGlzIG1vdmVkIGludG9cbiAgICAgKiAgICAgLy8gYSBkb2N1bWVudCBmcmFnbWVudCBzdG9yZWQgaGVyZTsgdGhpcyBpcyBhbiBvcHRpbWl6YXRpb24gdG9cbiAgICAgKiAgICAgLy8gYXZvaWQgdGhlIGNvc3Qgb2YgbmVzdGVkIHRlbXBsYXRlIGNsb25pbmdcbiAgICAgKiAgICAgY29udGVudDoge0RvY3VtZW50RnJhZ21lbnR9XG4gICAgICogICB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBraWNrcyBvZmYgYSByZWN1cnNpdmUgdHJlZXdhbGsgYXMgZm9sbG93czpcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqICAgIF9wYXJzZVRlbXBsYXRlIDwtLS0tLS0tLS0tLS0tLS0tLS0tLS0rXG4gICAgICogICAgICBfcGFyc2VUZW1wbGF0ZUNvbnRlbnQgICAgICAgICAgICAgIHxcbiAgICAgKiAgICAgICAgX3BhcnNlVGVtcGxhdGVOb2RlICA8LS0tLS0tLS0tLS0tfC0tK1xuICAgICAqICAgICAgICAgIF9wYXJzZVRlbXBsYXRlTmVzdGVkVGVtcGxhdGUgLS0rICB8XG4gICAgICogICAgICAgICAgX3BhcnNlVGVtcGxhdGVDaGlsZE5vZGVzIC0tLS0tLS0tLStcbiAgICAgKiAgICAgICAgICBfcGFyc2VUZW1wbGF0ZU5vZGVBdHRyaWJ1dGVzXG4gICAgICogICAgICAgICAgICBfcGFyc2VUZW1wbGF0ZU5vZGVBdHRyaWJ1dGVcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogVGhlc2UgbWV0aG9kcyBtYXkgYmUgb3ZlcnJpZGRlbiB0byBhZGQgY3VzdG9tIG1ldGFkYXRhIGFib3V0IHRlbXBsYXRlc1xuICAgICAqIHRvIGVpdGhlciBgdGVtcGxhdGVJbmZvYCBvciBgbm9kZUluZm9gLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IHRoaXMgbWV0aG9kIG1heSBiZSBkZXN0cnVjdGl2ZSB0byB0aGUgdGVtcGxhdGUsIGluIHRoYXRcbiAgICAgKiBlLmcuIGV2ZW50IGFubm90YXRpb25zIG1heSBiZSByZW1vdmVkIGFmdGVyIGJlaW5nIG5vdGVkIGluIHRoZVxuICAgICAqIHRlbXBsYXRlIG1ldGFkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGUgVGVtcGxhdGUgdG8gcGFyc2VcbiAgICAgKiBAcGFyYW0ge1RlbXBsYXRlSW5mbz19IG91dGVyVGVtcGxhdGVJbmZvIFRlbXBsYXRlIG1ldGFkYXRhIGZyb20gdGhlIG91dGVyXG4gICAgICogICB0ZW1wbGF0ZSwgZm9yIHBhcnNpbmcgbmVzdGVkIHRlbXBsYXRlc1xuICAgICAqIEByZXR1cm4geyFUZW1wbGF0ZUluZm99IFBhcnNlZCB0ZW1wbGF0ZSBtZXRhZGF0YVxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9wYXJzZVRlbXBsYXRlKHRlbXBsYXRlLCBvdXRlclRlbXBsYXRlSW5mbykge1xuICAgICAgLy8gc2luY2UgYSB0ZW1wbGF0ZSBtYXkgYmUgcmUtdXNlZCwgbWVtby1pemUgbWV0YWRhdGFcbiAgICAgIGlmICghdGVtcGxhdGUuX3RlbXBsYXRlSW5mbykge1xuICAgICAgICAvLyBUT0RPKHJpY3RpYyk6IGZpeCB0eXBpbmdcbiAgICAgICAgbGV0IC8qKiA/ICovIHRlbXBsYXRlSW5mbyA9IHRlbXBsYXRlLl90ZW1wbGF0ZUluZm8gPSB7fTtcbiAgICAgICAgdGVtcGxhdGVJbmZvLm5vZGVJbmZvTGlzdCA9IFtdO1xuICAgICAgICB0ZW1wbGF0ZUluZm8uc3RyaXBXaGl0ZVNwYWNlID1cbiAgICAgICAgICAob3V0ZXJUZW1wbGF0ZUluZm8gJiYgb3V0ZXJUZW1wbGF0ZUluZm8uc3RyaXBXaGl0ZVNwYWNlKSB8fFxuICAgICAgICAgIHRlbXBsYXRlLmhhc0F0dHJpYnV0ZSgnc3RyaXAtd2hpdGVzcGFjZScpO1xuICAgICAgICAgLy8gVE9ETyhyaWN0aWMpOiBmaXggdHlwaW5nXG4gICAgICAgICB0aGlzLl9wYXJzZVRlbXBsYXRlQ29udGVudChcbiAgICAgICAgICAgICB0ZW1wbGF0ZSwgdGVtcGxhdGVJbmZvLCAvKiogQHR5cGUgez99ICovICh7cGFyZW50OiBudWxsfSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRlbXBsYXRlLl90ZW1wbGF0ZUluZm87XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VlIGRvY3MgZm9yIF9wYXJzZVRlbXBsYXRlTm9kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlIC5cbiAgICAgKiBAcGFyYW0geyFUZW1wbGF0ZUluZm99IHRlbXBsYXRlSW5mbyAuXG4gICAgICogQHBhcmFtIHshTm9kZUluZm99IG5vZGVJbmZvIC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSAuXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX3BhcnNlVGVtcGxhdGVDb250ZW50KHRlbXBsYXRlLCB0ZW1wbGF0ZUluZm8sIG5vZGVJbmZvKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcGFyc2VUZW1wbGF0ZU5vZGUodGVtcGxhdGUuY29udGVudCwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFyc2VzIHRlbXBsYXRlIG5vZGUgYW5kIGFkZHMgdGVtcGxhdGUgYW5kIG5vZGUgbWV0YWRhdGEgYmFzZWQgb25cbiAgICAgKiB0aGUgY3VycmVudCBub2RlLCBhbmQgaXRzIGBjaGlsZE5vZGVzYCBhbmQgYGF0dHJpYnV0ZXNgLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgbWF5IGJlIG92ZXJyaWRkZW4gdG8gYWRkIGN1c3RvbSBub2RlIG9yIHRlbXBsYXRlIHNwZWNpZmljXG4gICAgICogbWV0YWRhdGEgYmFzZWQgb24gdGhpcyBub2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtOb2RlfSBub2RlIE5vZGUgdG8gcGFyc2VcbiAgICAgKiBAcGFyYW0geyFUZW1wbGF0ZUluZm99IHRlbXBsYXRlSW5mbyBUZW1wbGF0ZSBtZXRhZGF0YSBmb3IgY3VycmVudCB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSB7IU5vZGVJbmZvfSBub2RlSW5mbyBOb2RlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgdmlzaXRlZCBub2RlIGFkZGVkIG5vZGUtc3BlY2lmaWNcbiAgICAgKiAgIG1ldGFkYXRhIHRvIGBub2RlSW5mb2BcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfcGFyc2VUZW1wbGF0ZU5vZGUobm9kZSwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbykge1xuICAgICAgbGV0IG5vdGVkID0gZmFsc2U7XG4gICAgICBsZXQgZWxlbWVudCA9IC8qKiBAdHlwZSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9ICovIChub2RlKTtcbiAgICAgIGlmIChlbGVtZW50LmxvY2FsTmFtZSA9PSAndGVtcGxhdGUnICYmICFlbGVtZW50Lmhhc0F0dHJpYnV0ZSgncHJlc2VydmUtY29udGVudCcpKSB7XG4gICAgICAgIG5vdGVkID0gdGhpcy5fcGFyc2VUZW1wbGF0ZU5lc3RlZFRlbXBsYXRlKGVsZW1lbnQsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8pIHx8IG5vdGVkO1xuICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmxvY2FsTmFtZSA9PT0gJ3Nsb3QnKSB7XG4gICAgICAgIC8vIEZvciBTaGFkeURvbSBvcHRpbWl6YXRpb24sIGluZGljYXRpbmcgdGhlcmUgaXMgYW4gaW5zZXJ0aW9uIHBvaW50XG4gICAgICAgIHRlbXBsYXRlSW5mby5oYXNJbnNlcnRpb25Qb2ludCA9IHRydWU7XG4gICAgICB9XG4gICAgICBmaXhQbGFjZWhvbGRlcihlbGVtZW50KTtcbiAgICAgIGlmIChlbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgdGhpcy5fcGFyc2VUZW1wbGF0ZUNoaWxkTm9kZXMoZWxlbWVudCwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbyk7XG4gICAgICB9XG4gICAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGVzICYmIGVsZW1lbnQuaGFzQXR0cmlidXRlcygpKSB7XG4gICAgICAgIG5vdGVkID0gdGhpcy5fcGFyc2VUZW1wbGF0ZU5vZGVBdHRyaWJ1dGVzKGVsZW1lbnQsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8pIHx8IG5vdGVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vdGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhcnNlcyB0ZW1wbGF0ZSBjaGlsZCBub2RlcyBmb3IgdGhlIGdpdmVuIHJvb3Qgbm9kZS5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGFsc28gd3JhcHMgd2hpdGVsaXN0ZWQgbGVnYWN5IHRlbXBsYXRlIGV4dGVuc2lvbnNcbiAgICAgKiAoYGlzPVwiZG9tLWlmXCJgIGFuZCBgaXM9XCJkb20tcmVwZWF0XCJgKSB3aXRoIHRoZWlyIGVxdWl2YWxlbnQgZWxlbWVudFxuICAgICAqIHdyYXBwZXJzLCBjb2xsYXBzZXMgdGV4dCBub2RlcywgYW5kIHN0cmlwcyB3aGl0ZXNwYWNlIGZyb20gdGhlIHRlbXBsYXRlXG4gICAgICogaWYgdGhlIGB0ZW1wbGF0ZUluZm8uc3RyaXBXaGl0ZXNwYWNlYCBzZXR0aW5nIHdhcyBwcm92aWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Tm9kZX0gcm9vdCBSb290IG5vZGUgd2hvc2UgYGNoaWxkTm9kZXNgIHdpbGwgYmUgcGFyc2VkXG4gICAgICogQHBhcmFtIHshVGVtcGxhdGVJbmZvfSB0ZW1wbGF0ZUluZm8gVGVtcGxhdGUgbWV0YWRhdGEgZm9yIGN1cnJlbnQgdGVtcGxhdGVcbiAgICAgKiBAcGFyYW0geyFOb2RlSW5mb30gbm9kZUluZm8gTm9kZSBtZXRhZGF0YSBmb3IgY3VycmVudCB0ZW1wbGF0ZS5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIHN0YXRpYyBfcGFyc2VUZW1wbGF0ZUNoaWxkTm9kZXMocm9vdCwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbykge1xuICAgICAgaWYgKHJvb3QubG9jYWxOYW1lID09PSAnc2NyaXB0JyB8fCByb290LmxvY2FsTmFtZSA9PT0gJ3N0eWxlJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBub2RlPXJvb3QuZmlyc3RDaGlsZCwgcGFyZW50SW5kZXg9MCwgbmV4dDsgbm9kZTsgbm9kZT1uZXh0KSB7XG4gICAgICAgIC8vIFdyYXAgdGVtcGxhdGVzXG4gICAgICAgIGlmIChub2RlLmxvY2FsTmFtZSA9PSAndGVtcGxhdGUnKSB7XG4gICAgICAgICAgbm9kZSA9IHdyYXBUZW1wbGF0ZUV4dGVuc2lvbihub2RlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb2xsYXBzZSBhZGphY2VudCB0ZXh0Tm9kZXM6IGZpeGVzIGFuIElFIGlzc3VlIHRoYXQgY2FuIGNhdXNlXG4gICAgICAgIC8vIHRleHQgbm9kZXMgdG8gYmUgaW5leHBsaWNhYmx5IHNwbGl0ID0oXG4gICAgICAgIC8vIG5vdGUgdGhhdCByb290Lm5vcm1hbGl6ZSgpIHNob3VsZCB3b3JrIGJ1dCBkb2VzIG5vdCBzbyB3ZSBkbyB0aGlzXG4gICAgICAgIC8vIG1hbnVhbGx5LlxuICAgICAgICBuZXh0ID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XG4gICAgICAgICAgbGV0IC8qKiBOb2RlICovIG4gPSBuZXh0O1xuICAgICAgICAgIHdoaWxlIChuICYmIChuLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSkpIHtcbiAgICAgICAgICAgIG5vZGUudGV4dENvbnRlbnQgKz0gbi50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIG5leHQgPSBuLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgcm9vdC5yZW1vdmVDaGlsZChuKTtcbiAgICAgICAgICAgIG4gPSBuZXh0O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBvcHRpb25hbGx5IHN0cmlwIHdoaXRlc3BhY2VcbiAgICAgICAgICBpZiAodGVtcGxhdGVJbmZvLnN0cmlwV2hpdGVTcGFjZSAmJiAhbm9kZS50ZXh0Q29udGVudC50cmltKCkpIHtcbiAgICAgICAgICAgIHJvb3QucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNoaWxkSW5mbyA9XG4gICAgICAgICAgICAvKiogQHR5cGUgeyFOb2RlSW5mb30gKi8gKHtwYXJlbnRJbmRleCwgcGFyZW50SW5mbzogbm9kZUluZm99KTtcbiAgICAgICAgaWYgKHRoaXMuX3BhcnNlVGVtcGxhdGVOb2RlKG5vZGUsIHRlbXBsYXRlSW5mbywgY2hpbGRJbmZvKSkge1xuICAgICAgICAgIGNoaWxkSW5mby5pbmZvSW5kZXggPSB0ZW1wbGF0ZUluZm8ubm9kZUluZm9MaXN0LnB1c2goY2hpbGRJbmZvKSAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW5jcmVtZW50IGlmIG5vdCByZW1vdmVkXG4gICAgICAgIGlmIChub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICBwYXJlbnRJbmRleCsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFyc2VzIHRlbXBsYXRlIGNvbnRlbnQgZm9yIHRoZSBnaXZlbiBuZXN0ZWQgYDx0ZW1wbGF0ZT5gLlxuICAgICAqXG4gICAgICogTmVzdGVkIHRlbXBsYXRlIGluZm8gaXMgc3RvcmVkIGFzIGB0ZW1wbGF0ZUluZm9gIGluIHRoZSBjdXJyZW50IG5vZGUnc1xuICAgICAqIGBub2RlSW5mb2AuIGB0ZW1wbGF0ZS5jb250ZW50YCBpcyByZW1vdmVkIGFuZCBzdG9yZWQgaW4gYHRlbXBsYXRlSW5mb2AuXG4gICAgICogSXQgd2lsbCB0aGVuIGJlIHRoZSByZXNwb25zaWJpbGl0eSBvZiB0aGUgaG9zdCB0byBzZXQgaXQgYmFjayB0byB0aGVcbiAgICAgKiB0ZW1wbGF0ZSBhbmQgZm9yIHVzZXJzIHN0YW1waW5nIG5lc3RlZCB0ZW1wbGF0ZXMgdG8gdXNlIHRoZVxuICAgICAqIGBfY29udGVudEZvclRlbXBsYXRlYCBtZXRob2QgdG8gcmV0cmlldmUgdGhlIGNvbnRlbnQgZm9yIHRoaXMgdGVtcGxhdGVcbiAgICAgKiAoYW4gb3B0aW1pemF0aW9uIHRvIGF2b2lkIHRoZSBjb3N0IG9mIGNsb25pbmcgbmVzdGVkIHRlbXBsYXRlIGNvbnRlbnQpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtIVE1MVGVtcGxhdGVFbGVtZW50fSBub2RlIE5vZGUgdG8gcGFyc2UgKGEgPHRlbXBsYXRlPilcbiAgICAgKiBAcGFyYW0ge1RlbXBsYXRlSW5mb30gb3V0ZXJUZW1wbGF0ZUluZm8gVGVtcGxhdGUgbWV0YWRhdGEgZm9yIGN1cnJlbnQgdGVtcGxhdGVcbiAgICAgKiAgIHRoYXQgaW5jbHVkZXMgdGhlIHRlbXBsYXRlIGBub2RlYFxuICAgICAqIEBwYXJhbSB7IU5vZGVJbmZvfSBub2RlSW5mbyBOb2RlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgdmlzaXRlZCBub2RlIGFkZGVkIG5vZGUtc3BlY2lmaWNcbiAgICAgKiAgIG1ldGFkYXRhIHRvIGBub2RlSW5mb2BcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfcGFyc2VUZW1wbGF0ZU5lc3RlZFRlbXBsYXRlKG5vZGUsIG91dGVyVGVtcGxhdGVJbmZvLCBub2RlSW5mbykge1xuICAgICAgLy8gVE9ETyhyaWN0aWMpOiB0aGUgdHlwZSBvZiBub2RlIHNob3VsZCBiZSBub24tbnVsbFxuICAgICAgbGV0IGVsZW1lbnQgPSAvKiogQHR5cGUgeyFIVE1MVGVtcGxhdGVFbGVtZW50fSAqLyAobm9kZSk7XG4gICAgICBsZXQgdGVtcGxhdGVJbmZvID0gdGhpcy5fcGFyc2VUZW1wbGF0ZShlbGVtZW50LCBvdXRlclRlbXBsYXRlSW5mbyk7XG4gICAgICBsZXQgY29udGVudCA9IHRlbXBsYXRlSW5mby5jb250ZW50ID1cbiAgICAgICAgICBlbGVtZW50LmNvbnRlbnQub3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICBjb250ZW50LmFwcGVuZENoaWxkKGVsZW1lbnQuY29udGVudCk7XG4gICAgICBub2RlSW5mby50ZW1wbGF0ZUluZm8gPSB0ZW1wbGF0ZUluZm87XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgdGVtcGxhdGUgbm9kZSBhdHRyaWJ1dGVzIGFuZCBhZGRzIG5vZGUgbWV0YWRhdGEgdG8gYG5vZGVJbmZvYFxuICAgICAqIGZvciBub2RlcyBvZiBpbnRlcmVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZSBOb2RlIHRvIHBhcnNlXG4gICAgICogQHBhcmFtIHshVGVtcGxhdGVJbmZvfSB0ZW1wbGF0ZUluZm8gVGVtcGxhdGUgbWV0YWRhdGEgZm9yIGN1cnJlbnRcbiAgICAgKiAgICAgdGVtcGxhdGVcbiAgICAgKiBAcGFyYW0geyFOb2RlSW5mb30gbm9kZUluZm8gTm9kZSBtZXRhZGF0YSBmb3IgY3VycmVudCB0ZW1wbGF0ZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIHZpc2l0ZWQgbm9kZSBhZGRlZCBub2RlLXNwZWNpZmljXG4gICAgICogICBtZXRhZGF0YSB0byBgbm9kZUluZm9gXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX3BhcnNlVGVtcGxhdGVOb2RlQXR0cmlidXRlcyhub2RlLCB0ZW1wbGF0ZUluZm8sIG5vZGVJbmZvKSB7XG4gICAgICAvLyBNYWtlIGNvcHkgb2Ygb3JpZ2luYWwgYXR0cmlidXRlIGxpc3QsIHNpbmNlIHRoZSBvcmRlciBtYXkgY2hhbmdlXG4gICAgICAvLyBhcyBhdHRyaWJ1dGVzIGFyZSBhZGRlZCBhbmQgcmVtb3ZlZFxuICAgICAgbGV0IG5vdGVkID0gZmFsc2U7XG4gICAgICBsZXQgYXR0cnMgPSBBcnJheS5mcm9tKG5vZGUuYXR0cmlidXRlcyk7XG4gICAgICBmb3IgKGxldCBpPWF0dHJzLmxlbmd0aC0xLCBhOyAoYT1hdHRyc1tpXSk7IGktLSkge1xuICAgICAgICBub3RlZCA9IHRoaXMuX3BhcnNlVGVtcGxhdGVOb2RlQXR0cmlidXRlKG5vZGUsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8sIGEubmFtZSwgYS52YWx1ZSkgfHwgbm90ZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gbm90ZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFyc2VzIGEgc2luZ2xlIHRlbXBsYXRlIG5vZGUgYXR0cmlidXRlIGFuZCBhZGRzIG5vZGUgbWV0YWRhdGEgdG9cbiAgICAgKiBgbm9kZUluZm9gIGZvciBhdHRyaWJ1dGVzIG9mIGludGVyZXN0LlxuICAgICAqXG4gICAgICogVGhpcyBpbXBsZW1lbnRhdGlvbiBhZGRzIG1ldGFkYXRhIGZvciBgb24tZXZlbnQ9XCJoYW5kbGVyXCJgIGF0dHJpYnV0ZXNcbiAgICAgKiBhbmQgYGlkYCBhdHRyaWJ1dGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBub2RlIE5vZGUgdG8gcGFyc2VcbiAgICAgKiBAcGFyYW0geyFUZW1wbGF0ZUluZm99IHRlbXBsYXRlSW5mbyBUZW1wbGF0ZSBtZXRhZGF0YSBmb3IgY3VycmVudCB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSB7IU5vZGVJbmZvfSBub2RlSW5mbyBOb2RlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEF0dHJpYnV0ZSBuYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIEF0dHJpYnV0ZSB2YWx1ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgdmlzaXRlZCBub2RlIGFkZGVkIG5vZGUtc3BlY2lmaWNcbiAgICAgKiAgIG1ldGFkYXRhIHRvIGBub2RlSW5mb2BcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfcGFyc2VUZW1wbGF0ZU5vZGVBdHRyaWJ1dGUobm9kZSwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbywgbmFtZSwgdmFsdWUpIHtcbiAgICAgIC8vIGV2ZW50cyAob24tKilcbiAgICAgIGlmIChuYW1lLnNsaWNlKDAsIDMpID09PSAnb24tJykge1xuICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgbm9kZUluZm8uZXZlbnRzID0gbm9kZUluZm8uZXZlbnRzIHx8IFtdO1xuICAgICAgICBub2RlSW5mby5ldmVudHMucHVzaCh7XG4gICAgICAgICAgbmFtZTogbmFtZS5zbGljZSgzKSxcbiAgICAgICAgICB2YWx1ZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICAvLyBzdGF0aWMgaWRcbiAgICAgIGVsc2UgaWYgKG5hbWUgPT09ICdpZCcpIHtcbiAgICAgICAgbm9kZUluZm8uaWQgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYGNvbnRlbnRgIGRvY3VtZW50IGZyYWdtZW50IGZvciBhIGdpdmVuIHRlbXBsYXRlLlxuICAgICAqXG4gICAgICogRm9yIG5lc3RlZCB0ZW1wbGF0ZXMsIFBvbHltZXIgcGVyZm9ybXMgYW4gb3B0aW1pemF0aW9uIHRvIGNhY2hlIG5lc3RlZFxuICAgICAqIHRlbXBsYXRlIGNvbnRlbnQgdG8gYXZvaWQgdGhlIGNvc3Qgb2YgY2xvbmluZyBkZWVwbHkgbmVzdGVkIHRlbXBsYXRlcy5cbiAgICAgKiBUaGlzIG1ldGhvZCByZXRyaWV2ZXMgdGhlIGNhY2hlZCBjb250ZW50IGZvciBhIGdpdmVuIHRlbXBsYXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZSBUZW1wbGF0ZSB0byByZXRyaWV2ZSBgY29udGVudGAgZm9yXG4gICAgICogQHJldHVybiB7RG9jdW1lbnRGcmFnbWVudH0gQ29udGVudCBmcmFnbWVudFxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9jb250ZW50Rm9yVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgIGxldCB0ZW1wbGF0ZUluZm8gPSAvKiogQHR5cGUge0hUTUxUZW1wbGF0ZUVsZW1lbnRXaXRoSW5mb30gKi8gKHRlbXBsYXRlKS5fdGVtcGxhdGVJbmZvO1xuICAgICAgcmV0dXJuICh0ZW1wbGF0ZUluZm8gJiYgdGVtcGxhdGVJbmZvLmNvbnRlbnQpIHx8IHRlbXBsYXRlLmNvbnRlbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBwcm92aWRlZCB0ZW1wbGF0ZSBjb250ZW50IGFuZCByZXR1cm5zIGEgZG9jdW1lbnQgZnJhZ21lbnRcbiAgICAgKiBjb250YWluaW5nIHRoZSBjbG9uZWQgZG9tLlxuICAgICAqXG4gICAgICogVGhlIHRlbXBsYXRlIGlzIHBhcnNlZCAob25jZSBhbmQgbWVtb2l6ZWQpIHVzaW5nIHRoaXMgbGlicmFyeSdzXG4gICAgICogdGVtcGxhdGUgcGFyc2luZyBmZWF0dXJlcywgYW5kIHByb3ZpZGVzIHRoZSBmb2xsb3dpbmcgdmFsdWUtYWRkZWRcbiAgICAgKiBmZWF0dXJlczpcbiAgICAgKiAqIEFkZHMgZGVjbGFyYXRpdmUgZXZlbnQgbGlzdGVuZXJzIGZvciBgb24tZXZlbnQ9XCJoYW5kbGVyXCJgIGF0dHJpYnV0ZXNcbiAgICAgKiAqIEdlbmVyYXRlcyBhbiBcImlkIG1hcFwiIGZvciBhbGwgbm9kZXMgd2l0aCBpZCdzIHVuZGVyIGAkYCBvbiByZXR1cm5lZFxuICAgICAqICAgZG9jdW1lbnQgZnJhZ21lbnRcbiAgICAgKiAqIFBhc3NlcyB0ZW1wbGF0ZSBpbmZvIGluY2x1ZGluZyBgY29udGVudGAgYmFjayB0byB0ZW1wbGF0ZXMgYXNcbiAgICAgKiAgIGBfdGVtcGxhdGVJbmZvYCAoYSBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gdG8gYXZvaWQgZGVlcCB0ZW1wbGF0ZVxuICAgICAqICAgY2xvbmluZylcbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCB0aGUgbWVtb2l6ZWQgdGVtcGxhdGUgcGFyc2luZyBwcm9jZXNzIGlzIGRlc3RydWN0aXZlIHRvIHRoZVxuICAgICAqIHRlbXBsYXRlOiBhdHRyaWJ1dGVzIGZvciBiaW5kaW5ncyBhbmQgZGVjbGFyYXRpdmUgZXZlbnQgbGlzdGVuZXJzIGFyZVxuICAgICAqIHJlbW92ZWQgYWZ0ZXIgYmVpbmcgbm90ZWQgaW4gbm90ZXMsIGFuZCBhbnkgbmVzdGVkIGA8dGVtcGxhdGU+LmNvbnRlbnRgXG4gICAgICogaXMgcmVtb3ZlZCBhbmQgc3RvcmVkIGluIG5vdGVzIGFzIHdlbGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZSBUZW1wbGF0ZSB0byBzdGFtcFxuICAgICAqIEByZXR1cm4geyFTdGFtcGVkVGVtcGxhdGV9IENsb25lZCB0ZW1wbGF0ZSBjb250ZW50XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX3N0YW1wVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgIC8vIFBvbHlmaWxsIHN1cHBvcnQ6IGJvb3RzdHJhcCB0aGUgdGVtcGxhdGUgaWYgaXQgaGFzIG5vdCBhbHJlYWR5IGJlZW5cbiAgICAgIGlmICh0ZW1wbGF0ZSAmJiAhdGVtcGxhdGUuY29udGVudCAmJlxuICAgICAgICAgIHdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50ICYmIEhUTUxUZW1wbGF0ZUVsZW1lbnQuZGVjb3JhdGUpIHtcbiAgICAgICAgSFRNTFRlbXBsYXRlRWxlbWVudC5kZWNvcmF0ZSh0ZW1wbGF0ZSk7XG4gICAgICB9XG4gICAgICBsZXQgdGVtcGxhdGVJbmZvID0gdGhpcy5jb25zdHJ1Y3Rvci5fcGFyc2VUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gICAgICBsZXQgbm9kZUluZm8gPSB0ZW1wbGF0ZUluZm8ubm9kZUluZm9MaXN0O1xuICAgICAgbGV0IGNvbnRlbnQgPSB0ZW1wbGF0ZUluZm8uY29udGVudCB8fCB0ZW1wbGF0ZS5jb250ZW50O1xuICAgICAgbGV0IGRvbSA9IC8qKiBAdHlwZSB7RG9jdW1lbnRGcmFnbWVudH0gKi8gKGRvY3VtZW50LmltcG9ydE5vZGUoY29udGVudCwgdHJ1ZSkpO1xuICAgICAgLy8gTk9URTogU2hhZHlEb20gb3B0aW1pemF0aW9uIGluZGljYXRpbmcgdGhlcmUgaXMgYW4gaW5zZXJ0aW9uIHBvaW50XG4gICAgICBkb20uX19ub0luc2VydGlvblBvaW50ID0gIXRlbXBsYXRlSW5mby5oYXNJbnNlcnRpb25Qb2ludDtcbiAgICAgIGxldCBub2RlcyA9IGRvbS5ub2RlTGlzdCA9IG5ldyBBcnJheShub2RlSW5mby5sZW5ndGgpO1xuICAgICAgZG9tLiQgPSB7fTtcbiAgICAgIGZvciAobGV0IGk9MCwgbD1ub2RlSW5mby5sZW5ndGgsIGluZm87IChpPGwpICYmIChpbmZvPW5vZGVJbmZvW2ldKTsgaSsrKSB7XG4gICAgICAgIGxldCBub2RlID0gbm9kZXNbaV0gPSBmaW5kVGVtcGxhdGVOb2RlKGRvbSwgaW5mbyk7XG4gICAgICAgIGFwcGx5SWRUb01hcCh0aGlzLCBkb20uJCwgbm9kZSwgaW5mbyk7XG4gICAgICAgIGFwcGx5VGVtcGxhdGVDb250ZW50KHRoaXMsIG5vZGUsIGluZm8pO1xuICAgICAgICBhcHBseUV2ZW50TGlzdGVuZXIodGhpcywgbm9kZSwgaW5mbyk7XG4gICAgICB9XG4gICAgICBkb20gPSAvKiogQHR5cGUgeyFTdGFtcGVkVGVtcGxhdGV9ICovKGRvbSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1hc3NpZ25cbiAgICAgIHJldHVybiBkb207XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciBieSBtZXRob2QgbmFtZSBmb3IgdGhlIGV2ZW50IHByb3ZpZGVkLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgZ2VuZXJhdGVzIGEgaGFuZGxlciBmdW5jdGlvbiB0aGF0IGxvb2tzIHVwIHRoZSBtZXRob2RcbiAgICAgKiBuYW1lIGF0IGhhbmRsaW5nIHRpbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFFdmVudFRhcmdldH0gbm9kZSBOb2RlIHRvIGFkZCBsaXN0ZW5lciBvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgTmFtZSBvZiBldmVudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIE5hbWUgb2YgbWV0aG9kXG4gICAgICogQHBhcmFtIHsqPX0gY29udGV4dCBDb250ZXh0IHRoZSBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgb24gKGRlZmF1bHRzXG4gICAgICogICB0byBgbm9kZWApXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259IEdlbmVyYXRlZCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2FkZE1ldGhvZEV2ZW50TGlzdGVuZXJUb05vZGUobm9kZSwgZXZlbnROYW1lLCBtZXRob2ROYW1lLCBjb250ZXh0KSB7XG4gICAgICBjb250ZXh0ID0gY29udGV4dCB8fCBub2RlO1xuICAgICAgbGV0IGhhbmRsZXIgPSBjcmVhdGVOb2RlRXZlbnRIYW5kbGVyKGNvbnRleHQsIGV2ZW50TmFtZSwgbWV0aG9kTmFtZSk7XG4gICAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVyVG9Ob2RlKG5vZGUsIGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICByZXR1cm4gaGFuZGxlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSBwb2ludCBmb3IgYWRkaW5nIGN1c3RvbSBvciBzaW11bGF0ZWQgZXZlbnQgaGFuZGxpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFFdmVudFRhcmdldH0gbm9kZSBOb2RlIHRvIGFkZCBldmVudCBsaXN0ZW5lciB0b1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgTmFtZSBvZiBldmVudFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oIUV2ZW50KTp2b2lkfSBoYW5kbGVyIExpc3RlbmVyIGZ1bmN0aW9uIHRvIGFkZFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2FkZEV2ZW50TGlzdGVuZXJUb05vZGUobm9kZSwgZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSBwb2ludCBmb3IgYWRkaW5nIGN1c3RvbSBvciBzaW11bGF0ZWQgZXZlbnQgaGFuZGxpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFFdmVudFRhcmdldH0gbm9kZSBOb2RlIHRvIHJlbW92ZSBldmVudCBsaXN0ZW5lciBmcm9tXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSBOYW1lIG9mIGV2ZW50XG4gICAgICogQHBhcmFtIHtmdW5jdGlvbighRXZlbnQpOnZvaWR9IGhhbmRsZXIgTGlzdGVuZXIgZnVuY3Rpb24gdG8gcmVtb3ZlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfcmVtb3ZlRXZlbnRMaXN0ZW5lckZyb21Ob2RlKG5vZGUsIGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgfVxuXG4gIH1cblxuICByZXR1cm4gVGVtcGxhdGVTdGFtcDtcblxufSk7XG4iLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXdcbiAqIEBzdXBwcmVzcyB7Y2hlY2tQcm90b3R5cGFsVHlwZXN9XG4gKiBAbGljZW5zZSBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZFxuICogYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heVxuICogYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQgQ29kZSBkaXN0cmlidXRlZCBieVxuICogR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUFxuICogcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbmltcG9ydCAnLi4vdXRpbHMvYm9vdC5qcyc7XG5pbXBvcnQgeyB3cmFwIH0gZnJvbSAnLi4vdXRpbHMvd3JhcC5qcyc7XG5pbXBvcnQgeyBkZWR1cGluZ01peGluIH0gZnJvbSAnLi4vdXRpbHMvbWl4aW4uanMnO1xuaW1wb3J0IHsgcm9vdCwgaXNBbmNlc3RvciwgaXNEZXNjZW5kYW50LCBnZXQsIHRyYW5zbGF0ZSwgaXNQYXRoLCBzZXQsIG5vcm1hbGl6ZSB9IGZyb20gJy4uL3V0aWxzL3BhdGguanMnO1xuLyogZm9yIG5vdGlmeSwgcmVmbGVjdCAqL1xuaW1wb3J0IHsgY2FtZWxUb0Rhc2hDYXNlLCBkYXNoVG9DYW1lbENhc2UgfSBmcm9tICcuLi91dGlscy9jYXNlLW1hcC5qcyc7XG5pbXBvcnQgeyBQcm9wZXJ0eUFjY2Vzc29ycyB9IGZyb20gJy4vcHJvcGVydHktYWNjZXNzb3JzLmpzJztcbi8qIGZvciBhbm5vdGF0ZWQgZWZmZWN0cyAqL1xuaW1wb3J0IHsgVGVtcGxhdGVTdGFtcCB9IGZyb20gJy4vdGVtcGxhdGUtc3RhbXAuanMnO1xuaW1wb3J0IHsgc2FuaXRpemVET01WYWx1ZSB9IGZyb20gJy4uL3V0aWxzL3NldHRpbmdzLmpzJztcblxuLy8gTW9ub3RvbmljYWxseSBpbmNyZWFzaW5nIHVuaXF1ZSBJRCB1c2VkIGZvciBkZS1kdXBpbmcgZWZmZWN0cyB0cmlnZ2VyZWRcbi8vIGZyb20gbXVsdGlwbGUgcHJvcGVydGllcyBpbiB0aGUgc2FtZSB0dXJuXG5sZXQgZGVkdXBlSWQgPSAwO1xuXG4vKipcbiAqIFByb3BlcnR5IGVmZmVjdCB0eXBlczsgZWZmZWN0cyBhcmUgc3RvcmVkIG9uIHRoZSBwcm90b3R5cGUgdXNpbmcgdGhlc2Uga2V5c1xuICogQGVudW0ge3N0cmluZ31cbiAqL1xuY29uc3QgVFlQRVMgPSB7XG4gIENPTVBVVEU6ICdfX2NvbXB1dGVFZmZlY3RzJyxcbiAgUkVGTEVDVDogJ19fcmVmbGVjdEVmZmVjdHMnLFxuICBOT1RJRlk6ICdfX25vdGlmeUVmZmVjdHMnLFxuICBQUk9QQUdBVEU6ICdfX3Byb3BhZ2F0ZUVmZmVjdHMnLFxuICBPQlNFUlZFOiAnX19vYnNlcnZlRWZmZWN0cycsXG4gIFJFQURfT05MWTogJ19fcmVhZE9ubHknXG59O1xuXG4vKiogQGNvbnN0IHshUmVnRXhwfSAqL1xuY29uc3QgY2FwaXRhbEF0dHJpYnV0ZVJlZ2V4ID0gL1tBLVpdLztcblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogbmFtZTogKHN0cmluZyB8IHVuZGVmaW5lZCksXG4gKiBzdHJ1Y3R1cmVkOiAoYm9vbGVhbiB8IHVuZGVmaW5lZCksXG4gKiB3aWxkY2FyZDogKGJvb2xlYW4gfCB1bmRlZmluZWQpXG4gKiB9fVxuICovXG5sZXQgRGF0YVRyaWdnZXI7IC8vZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG4vKipcbiAqIEB0eXBlZGVmIHt7XG4gKiBpbmZvOiA/LFxuICogdHJpZ2dlcjogKCFEYXRhVHJpZ2dlciB8IHVuZGVmaW5lZCksXG4gKiBmbjogKCFGdW5jdGlvbiB8IHVuZGVmaW5lZClcbiAqIH19XG4gKi9cbmxldCBEYXRhRWZmZWN0OyAvL2VzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuLyoqXG4gKiBFbnN1cmVzIHRoYXQgdGhlIG1vZGVsIGhhcyBhbiBvd24tcHJvcGVydHkgbWFwIG9mIGVmZmVjdHMgZm9yIHRoZSBnaXZlbiB0eXBlLlxuICogVGhlIG1vZGVsIG1heSBiZSBhIHByb3RvdHlwZSBvciBhbiBpbnN0YW5jZS5cbiAqXG4gKiBQcm9wZXJ0eSBlZmZlY3RzIGFyZSBzdG9yZWQgYXMgYXJyYXlzIG9mIGVmZmVjdHMgYnkgcHJvcGVydHkgaW4gYSBtYXAsXG4gKiBieSBuYW1lZCB0eXBlIG9uIHRoZSBtb2RlbC4gZS5nLlxuICpcbiAqICAgX19jb21wdXRlRWZmZWN0czoge1xuICogICAgIGZvbzogWyAuLi4gXSxcbiAqICAgICBiYXI6IFsgLi4uIF1cbiAqICAgfVxuICpcbiAqIElmIHRoZSBtb2RlbCBkb2VzIG5vdCB5ZXQgaGF2ZSBhbiBlZmZlY3QgbWFwIGZvciB0aGUgdHlwZSwgb25lIGlzIGNyZWF0ZWRcbiAqIGFuZCByZXR1cm5lZC4gIElmIGl0IGRvZXMsIGJ1dCBpdCBpcyBub3QgYW4gb3duIHByb3BlcnR5IChpLmUuIHRoZVxuICogcHJvdG90eXBlIGhhZCBlZmZlY3RzKSwgdGhlIHRoZSBtYXAgaXMgZGVlcGx5IGNsb25lZCBhbmQgdGhlIGNvcHkgaXNcbiAqIHNldCBvbiB0aGUgbW9kZWwgYW5kIHJldHVybmVkLCByZWFkeSBmb3IgbmV3IGVmZmVjdHMgdG8gYmUgYWRkZWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG1vZGVsIFByb3RvdHlwZSBvciBpbnN0YW5jZVxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgUHJvcGVydHkgZWZmZWN0IHR5cGVcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIG93bi1wcm9wZXJ0eSBtYXAgb2YgZWZmZWN0cyBmb3IgdGhlIGdpdmVuIHR5cGVcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGVuc3VyZU93bkVmZmVjdE1hcChtb2RlbCwgdHlwZSkge1xuICBsZXQgZWZmZWN0cyA9IG1vZGVsW3R5cGVdO1xuICBpZiAoIWVmZmVjdHMpIHtcbiAgICBlZmZlY3RzID0gbW9kZWxbdHlwZV0gPSB7fTtcbiAgfSBlbHNlIGlmICghbW9kZWwuaGFzT3duUHJvcGVydHkodHlwZSkpIHtcbiAgICBlZmZlY3RzID0gbW9kZWxbdHlwZV0gPSBPYmplY3QuY3JlYXRlKG1vZGVsW3R5cGVdKTtcbiAgICBmb3IgKGxldCBwIGluIGVmZmVjdHMpIHtcbiAgICAgIGxldCBwcm90b0Z4ID0gZWZmZWN0c1twXTtcbiAgICAgIGxldCBpbnN0RnggPSBlZmZlY3RzW3BdID0gQXJyYXkocHJvdG9GeC5sZW5ndGgpO1xuICAgICAgZm9yIChsZXQgaT0wOyBpPHByb3RvRngubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaW5zdEZ4W2ldID0gcHJvdG9GeFtpXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVmZmVjdHM7XG59XG5cbi8vIC0tIGVmZmVjdHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vKipcbiAqIFJ1bnMgYWxsIGVmZmVjdHMgb2YgYSBnaXZlbiB0eXBlIGZvciB0aGUgZ2l2ZW4gc2V0IG9mIHByb3BlcnR5IGNoYW5nZXNcbiAqIG9uIGFuIGluc3RhbmNlLlxuICpcbiAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IFRoZSBpbnN0YW5jZSB3aXRoIGVmZmVjdHMgdG8gcnVuXG4gKiBAcGFyYW0gez9PYmplY3R9IGVmZmVjdHMgT2JqZWN0IG1hcCBvZiBwcm9wZXJ0eS10by1BcnJheSBvZiBlZmZlY3RzXG4gKiBAcGFyYW0gez9PYmplY3R9IHByb3BzIEJhZyBvZiBjdXJyZW50IHByb3BlcnR5IGNoYW5nZXNcbiAqIEBwYXJhbSB7P09iamVjdD19IG9sZFByb3BzIEJhZyBvZiBwcmV2aW91cyB2YWx1ZXMgZm9yIGNoYW5nZWQgcHJvcGVydGllc1xuICogQHBhcmFtIHtib29sZWFuPX0gaGFzUGF0aHMgVHJ1ZSB3aXRoIGBwcm9wc2AgY29udGFpbnMgb25lIG9yIG1vcmUgcGF0aHNcbiAqIEBwYXJhbSB7Kj19IGV4dHJhQXJncyBBZGRpdGlvbmFsIG1ldGFkYXRhIHRvIHBhc3MgdG8gZWZmZWN0IGZ1bmN0aW9uXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGFuIGVmZmVjdCByYW4gZm9yIHRoaXMgcHJvcGVydHlcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJ1bkVmZmVjdHMoaW5zdCwgZWZmZWN0cywgcHJvcHMsIG9sZFByb3BzLCBoYXNQYXRocywgZXh0cmFBcmdzKSB7XG4gIGlmIChlZmZlY3RzKSB7XG4gICAgbGV0IHJhbiA9IGZhbHNlO1xuICAgIGxldCBpZCA9IGRlZHVwZUlkKys7XG4gICAgZm9yIChsZXQgcHJvcCBpbiBwcm9wcykge1xuICAgICAgaWYgKHJ1bkVmZmVjdHNGb3JQcm9wZXJ0eShcbiAgICAgICAgICAgICAgaW5zdCwgLyoqIEB0eXBlIHshT2JqZWN0fSAqLyAoZWZmZWN0cyksIGlkLCBwcm9wLCBwcm9wcywgb2xkUHJvcHMsXG4gICAgICAgICAgICAgIGhhc1BhdGhzLCBleHRyYUFyZ3MpKSB7XG4gICAgICAgIHJhbiA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByYW47XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFJ1bnMgYSBsaXN0IG9mIGVmZmVjdHMgZm9yIGEgZ2l2ZW4gcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgVGhlIGluc3RhbmNlIHdpdGggZWZmZWN0cyB0byBydW5cbiAqIEBwYXJhbSB7IU9iamVjdH0gZWZmZWN0cyBPYmplY3QgbWFwIG9mIHByb3BlcnR5LXRvLUFycmF5IG9mIGVmZmVjdHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWR1cGVJZCBDb3VudGVyIHVzZWQgZm9yIGRlLWR1cGluZyBlZmZlY3RzXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcCBOYW1lIG9mIGNoYW5nZWQgcHJvcGVydHlcbiAqIEBwYXJhbSB7Kn0gcHJvcHMgQ2hhbmdlZCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0geyp9IG9sZFByb3BzIE9sZCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBoYXNQYXRocyBUcnVlIHdpdGggYHByb3BzYCBjb250YWlucyBvbmUgb3IgbW9yZSBwYXRoc1xuICogQHBhcmFtIHsqPX0gZXh0cmFBcmdzIEFkZGl0aW9uYWwgbWV0YWRhdGEgdG8gcGFzcyB0byBlZmZlY3QgZnVuY3Rpb25cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYW4gZWZmZWN0IHJhbiBmb3IgdGhpcyBwcm9wZXJ0eVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcnVuRWZmZWN0c0ZvclByb3BlcnR5KGluc3QsIGVmZmVjdHMsIGRlZHVwZUlkLCBwcm9wLCBwcm9wcywgb2xkUHJvcHMsIGhhc1BhdGhzLCBleHRyYUFyZ3MpIHtcbiAgbGV0IHJhbiA9IGZhbHNlO1xuICBsZXQgcm9vdFByb3BlcnR5ID0gaGFzUGF0aHMgPyByb290KHByb3ApIDogcHJvcDtcbiAgbGV0IGZ4cyA9IGVmZmVjdHNbcm9vdFByb3BlcnR5XTtcbiAgaWYgKGZ4cykge1xuICAgIGZvciAobGV0IGk9MCwgbD1meHMubGVuZ3RoLCBmeDsgKGk8bCkgJiYgKGZ4PWZ4c1tpXSk7IGkrKykge1xuICAgICAgaWYgKCghZnguaW5mbyB8fCBmeC5pbmZvLmxhc3RSdW4gIT09IGRlZHVwZUlkKSAmJlxuICAgICAgICAgICghaGFzUGF0aHMgfHwgcGF0aE1hdGNoZXNUcmlnZ2VyKHByb3AsIGZ4LnRyaWdnZXIpKSkge1xuICAgICAgICBpZiAoZnguaW5mbykge1xuICAgICAgICAgIGZ4LmluZm8ubGFzdFJ1biA9IGRlZHVwZUlkO1xuICAgICAgICB9XG4gICAgICAgIGZ4LmZuKGluc3QsIHByb3AsIHByb3BzLCBvbGRQcm9wcywgZnguaW5mbywgaGFzUGF0aHMsIGV4dHJhQXJncyk7XG4gICAgICAgIHJhbiA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByYW47XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIGEgcHJvcGVydHkvcGF0aCB0aGF0IGhhcyBjaGFuZ2VkIG1hdGNoZXMgdGhlIHRyaWdnZXJcbiAqIGNyaXRlcmlhIGZvciBhbiBlZmZlY3QuICBBIHRyaWdnZXIgaXMgYSBkZXNjcmlwdG9yIHdpdGggdGhlIGZvbGxvd2luZ1xuICogc3RydWN0dXJlLCB3aGljaCBtYXRjaGVzIHRoZSBkZXNjcmlwdG9ycyByZXR1cm5lZCBmcm9tIGBwYXJzZUFyZ2AuXG4gKiBlLmcuIGZvciBgZm9vLmJhci4qYDpcbiAqIGBgYFxuICogdHJpZ2dlcjoge1xuICogICBuYW1lOiAnYS5iJyxcbiAqICAgc3RydWN0dXJlZDogdHJ1ZSxcbiAqICAgd2lsZGNhcmQ6IHRydWVcbiAqIH1cbiAqIGBgYFxuICogSWYgbm8gdHJpZ2dlciBpcyBnaXZlbiwgdGhlIHBhdGggaXMgZGVlbWVkIHRvIG1hdGNoLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFBhdGggb3IgcHJvcGVydHkgdGhhdCBjaGFuZ2VkXG4gKiBAcGFyYW0gez9EYXRhVHJpZ2dlcn0gdHJpZ2dlciBEZXNjcmlwdG9yXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBwYXRoIG1hdGNoZWQgdGhlIHRyaWdnZXJcbiAqL1xuZnVuY3Rpb24gcGF0aE1hdGNoZXNUcmlnZ2VyKHBhdGgsIHRyaWdnZXIpIHtcbiAgaWYgKHRyaWdnZXIpIHtcbiAgICBsZXQgdHJpZ2dlclBhdGggPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKHRyaWdnZXIubmFtZSk7XG4gICAgcmV0dXJuICh0cmlnZ2VyUGF0aCA9PSBwYXRoKSB8fFxuICAgICAgICAhISh0cmlnZ2VyLnN0cnVjdHVyZWQgJiYgaXNBbmNlc3Rvcih0cmlnZ2VyUGF0aCwgcGF0aCkpIHx8XG4gICAgICAgICEhKHRyaWdnZXIud2lsZGNhcmQgJiYgaXNEZXNjZW5kYW50KHRyaWdnZXJQYXRoLCBwYXRoKSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuLyoqXG4gKiBJbXBsZW1lbnRzIHRoZSBcIm9ic2VydmVyXCIgZWZmZWN0LlxuICpcbiAqIENhbGxzIHRoZSBtZXRob2Qgd2l0aCBgaW5mby5tZXRob2ROYW1lYCBvbiB0aGUgaW5zdGFuY2UsIHBhc3NpbmcgdGhlXG4gKiBuZXcgYW5kIG9sZCB2YWx1ZXMuXG4gKlxuICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgVGhlIGluc3RhbmNlIHRoZSBlZmZlY3Qgd2lsbCBiZSBydW4gb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBOYW1lIG9mIHByb3BlcnR5XG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgQmFnIG9mIGN1cnJlbnQgcHJvcGVydHkgY2hhbmdlc1xuICogQHBhcmFtIHtPYmplY3R9IG9sZFByb3BzIEJhZyBvZiBwcmV2aW91cyB2YWx1ZXMgZm9yIGNoYW5nZWQgcHJvcGVydGllc1xuICogQHBhcmFtIHs/fSBpbmZvIEVmZmVjdCBtZXRhZGF0YVxuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJ1bk9ic2VydmVyRWZmZWN0KGluc3QsIHByb3BlcnR5LCBwcm9wcywgb2xkUHJvcHMsIGluZm8pIHtcbiAgbGV0IGZuID0gdHlwZW9mIGluZm8ubWV0aG9kID09PSBcInN0cmluZ1wiID8gaW5zdFtpbmZvLm1ldGhvZF0gOiBpbmZvLm1ldGhvZDtcbiAgbGV0IGNoYW5nZWRQcm9wID0gaW5mby5wcm9wZXJ0eTtcbiAgaWYgKGZuKSB7XG4gICAgZm4uY2FsbChpbnN0LCBpbnN0Ll9fZGF0YVtjaGFuZ2VkUHJvcF0sIG9sZFByb3BzW2NoYW5nZWRQcm9wXSk7XG4gIH0gZWxzZSBpZiAoIWluZm8uZHluYW1pY0ZuKSB7XG4gICAgY29uc29sZS53YXJuKCdvYnNlcnZlciBtZXRob2QgYCcgKyBpbmZvLm1ldGhvZCArICdgIG5vdCBkZWZpbmVkJyk7XG4gIH1cbn1cblxuLyoqXG4gKiBSdW5zIFwibm90aWZ5XCIgZWZmZWN0cyBmb3IgYSBzZXQgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzLlxuICpcbiAqIFRoaXMgbWV0aG9kIGRpZmZlcnMgZnJvbSB0aGUgZ2VuZXJpYyBgcnVuRWZmZWN0c2AgbWV0aG9kIGluIHRoYXQgaXRcbiAqIHdpbGwgZGlzcGF0Y2ggcGF0aCBub3RpZmljYXRpb24gZXZlbnRzIGluIHRoZSBjYXNlIHRoYXQgdGhlIHByb3BlcnR5XG4gKiBjaGFuZ2VkIHdhcyBhIHBhdGggYW5kIHRoZSByb290IHByb3BlcnR5IGZvciB0aGF0IHBhdGggZGlkbid0IGhhdmUgYVxuICogXCJub3RpZnlcIiBlZmZlY3QuICBUaGlzIGlzIHRvIG1haW50YWluIDEuMCBiZWhhdmlvciB0aGF0IGRpZCBub3QgcmVxdWlyZVxuICogYG5vdGlmeTogdHJ1ZWAgdG8gZW5zdXJlIG9iamVjdCBzdWItcHJvcGVydHkgbm90aWZpY2F0aW9ucyB3ZXJlXG4gKiBzZW50LlxuICpcbiAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IFRoZSBpbnN0YW5jZSB3aXRoIGVmZmVjdHMgdG8gcnVuXG4gKiBAcGFyYW0ge09iamVjdH0gbm90aWZ5UHJvcHMgQmFnIG9mIHByb3BlcnRpZXMgdG8gbm90aWZ5XG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgQmFnIG9mIGN1cnJlbnQgcHJvcGVydHkgY2hhbmdlc1xuICogQHBhcmFtIHtPYmplY3R9IG9sZFByb3BzIEJhZyBvZiBwcmV2aW91cyB2YWx1ZXMgZm9yIGNoYW5nZWQgcHJvcGVydGllc1xuICogQHBhcmFtIHtib29sZWFufSBoYXNQYXRocyBUcnVlIHdpdGggYHByb3BzYCBjb250YWlucyBvbmUgb3IgbW9yZSBwYXRoc1xuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJ1bk5vdGlmeUVmZmVjdHMoaW5zdCwgbm90aWZ5UHJvcHMsIHByb3BzLCBvbGRQcm9wcywgaGFzUGF0aHMpIHtcbiAgLy8gTm90aWZ5XG4gIGxldCBmeHMgPSBpbnN0W1RZUEVTLk5PVElGWV07XG4gIGxldCBub3RpZmllZDtcbiAgbGV0IGlkID0gZGVkdXBlSWQrKztcbiAgLy8gVHJ5IG5vcm1hbCBub3RpZnkgZWZmZWN0czsgaWYgbm9uZSwgZmFsbCBiYWNrIHRvIHRyeSBwYXRoIG5vdGlmaWNhdGlvblxuICBmb3IgKGxldCBwcm9wIGluIG5vdGlmeVByb3BzKSB7XG4gICAgaWYgKG5vdGlmeVByb3BzW3Byb3BdKSB7XG4gICAgICBpZiAoZnhzICYmIHJ1bkVmZmVjdHNGb3JQcm9wZXJ0eShpbnN0LCBmeHMsIGlkLCBwcm9wLCBwcm9wcywgb2xkUHJvcHMsIGhhc1BhdGhzKSkge1xuICAgICAgICBub3RpZmllZCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGhhc1BhdGhzICYmIG5vdGlmeVBhdGgoaW5zdCwgcHJvcCwgcHJvcHMpKSB7XG4gICAgICAgIG5vdGlmaWVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gRmx1c2ggaG9zdCBpZiB3ZSBhY3R1YWxseSBub3RpZmllZCBhbmQgaG9zdCB3YXMgYmF0Y2hpbmdcbiAgLy8gQW5kIHRoZSBob3N0IGhhcyBhbHJlYWR5IGluaXRpYWxpemVkIGNsaWVudHM7IHRoaXMgcHJldmVudHNcbiAgLy8gYW4gaXNzdWUgd2l0aCBhIGhvc3Qgb2JzZXJ2aW5nIGRhdGEgY2hhbmdlcyBiZWZvcmUgY2xpZW50cyBhcmUgcmVhZHkuXG4gIGxldCBob3N0O1xuICBpZiAobm90aWZpZWQgJiYgKGhvc3QgPSBpbnN0Ll9fZGF0YUhvc3QpICYmIGhvc3QuX2ludmFsaWRhdGVQcm9wZXJ0aWVzKSB7XG4gICAgaG9zdC5faW52YWxpZGF0ZVByb3BlcnRpZXMoKTtcbiAgfVxufVxuXG4vKipcbiAqIERpc3BhdGNoZXMge3Byb3BlcnR5fS1jaGFuZ2VkIGV2ZW50cyB3aXRoIHBhdGggaW5mb3JtYXRpb24gaW4gdGhlIGRldGFpbFxuICogb2JqZWN0IHRvIGluZGljYXRlIGEgc3ViLXBhdGggb2YgdGhlIHByb3BlcnR5IHdhcyBjaGFuZ2VkLlxuICpcbiAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IFRoZSBlbGVtZW50IGZyb20gd2hpY2ggdG8gZmlyZSB0aGVcbiAqICAgICBldmVudFxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggdGhhdCB3YXMgY2hhbmdlZFxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIEJhZyBvZiBjdXJyZW50IHByb3BlcnR5IGNoYW5nZXNcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGUgcGF0aCB3YXMgbm90aWZpZWRcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIG5vdGlmeVBhdGgoaW5zdCwgcGF0aCwgcHJvcHMpIHtcbiAgbGV0IHJvb3RQcm9wZXJ0eSA9IHJvb3QocGF0aCk7XG4gIGlmIChyb290UHJvcGVydHkgIT09IHBhdGgpIHtcbiAgICBsZXQgZXZlbnROYW1lID0gY2FtZWxUb0Rhc2hDYXNlKHJvb3RQcm9wZXJ0eSkgKyAnLWNoYW5nZWQnO1xuICAgIGRpc3BhdGNoTm90aWZ5RXZlbnQoaW5zdCwgZXZlbnROYW1lLCBwcm9wc1twYXRoXSwgcGF0aCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIERpc3BhdGNoZXMge3Byb3BlcnR5fS1jaGFuZ2VkIGV2ZW50cyB0byBpbmRpY2F0ZSBhIHByb3BlcnR5IChvciBwYXRoKVxuICogY2hhbmdlZC5cbiAqXG4gKiBAcGFyYW0geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gaW5zdCBUaGUgZWxlbWVudCBmcm9tIHdoaWNoIHRvIGZpcmUgdGhlXG4gKiAgICAgZXZlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50IHRvIHNlbmRcbiAqICAgICAoJ3twcm9wZXJ0eX0tY2hhbmdlZCcpXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgY2hhbmdlZCBwcm9wZXJ0eVxuICogQHBhcmFtIHtzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkfSBwYXRoIElmIGEgc3ViLXBhdGggb2YgdGhpcyBwcm9wZXJ0eVxuICogICAgIGNoYW5nZWQsIHRoZSBwYXRoIHRoYXQgY2hhbmdlZCAob3B0aW9uYWwpLlxuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKiBAc3VwcHJlc3Mge2ludmFsaWRDYXN0c31cbiAqL1xuZnVuY3Rpb24gZGlzcGF0Y2hOb3RpZnlFdmVudChpbnN0LCBldmVudE5hbWUsIHZhbHVlLCBwYXRoKSB7XG4gIGxldCBkZXRhaWwgPSB7XG4gICAgdmFsdWU6IHZhbHVlLFxuICAgIHF1ZXVlUHJvcGVydHk6IHRydWVcbiAgfTtcbiAgaWYgKHBhdGgpIHtcbiAgICBkZXRhaWwucGF0aCA9IHBhdGg7XG4gIH1cbiAgd3JhcCgvKiogQHR5cGUgeyFIVE1MRWxlbWVudH0gKi8oaW5zdCkpLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KGV2ZW50TmFtZSwgeyBkZXRhaWwgfSkpO1xufVxuXG4vKipcbiAqIEltcGxlbWVudHMgdGhlIFwibm90aWZ5XCIgZWZmZWN0LlxuICpcbiAqIERpc3BhdGNoZXMgYSBub24tYnViYmxpbmcgZXZlbnQgbmFtZWQgYGluZm8uZXZlbnROYW1lYCBvbiB0aGUgaW5zdGFuY2VcbiAqIHdpdGggYSBkZXRhaWwgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG5ldyBgdmFsdWVgLlxuICpcbiAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IFRoZSBpbnN0YW5jZSB0aGUgZWZmZWN0IHdpbGwgYmUgcnVuIG9uXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgTmFtZSBvZiBwcm9wZXJ0eVxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIEJhZyBvZiBjdXJyZW50IHByb3BlcnR5IGNoYW5nZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvbGRQcm9wcyBCYWcgb2YgcHJldmlvdXMgdmFsdWVzIGZvciBjaGFuZ2VkIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7P30gaW5mbyBFZmZlY3QgbWV0YWRhdGFcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaGFzUGF0aHMgVHJ1ZSB3aXRoIGBwcm9wc2AgY29udGFpbnMgb25lIG9yIG1vcmUgcGF0aHNcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBydW5Ob3RpZnlFZmZlY3QoaW5zdCwgcHJvcGVydHksIHByb3BzLCBvbGRQcm9wcywgaW5mbywgaGFzUGF0aHMpIHtcbiAgbGV0IHJvb3RQcm9wZXJ0eSA9IGhhc1BhdGhzID8gcm9vdChwcm9wZXJ0eSkgOiBwcm9wZXJ0eTtcbiAgbGV0IHBhdGggPSByb290UHJvcGVydHkgIT0gcHJvcGVydHkgPyBwcm9wZXJ0eSA6IG51bGw7XG4gIGxldCB2YWx1ZSA9IHBhdGggPyBnZXQoaW5zdCwgcGF0aCkgOiBpbnN0Ll9fZGF0YVtwcm9wZXJ0eV07XG4gIGlmIChwYXRoICYmIHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICB2YWx1ZSA9IHByb3BzW3Byb3BlcnR5XTsgIC8vIHNwZWNpZmljYWxseSBmb3IgLnNwbGljZXNcbiAgfVxuICBkaXNwYXRjaE5vdGlmeUV2ZW50KGluc3QsIGluZm8uZXZlbnROYW1lLCB2YWx1ZSwgcGF0aCk7XG59XG5cbi8qKlxuICogSGFuZGxlciBmdW5jdGlvbiBmb3IgMi13YXkgbm90aWZpY2F0aW9uIGV2ZW50cy4gUmVjZWl2ZXMgY29udGV4dFxuICogaW5mb3JtYXRpb24gY2FwdHVyZWQgaW4gdGhlIGBhZGROb3RpZnlMaXN0ZW5lcmAgY2xvc3VyZSBmcm9tIHRoZVxuICogYF9fbm90aWZ5TGlzdGVuZXJzYCBtZXRhZGF0YS5cbiAqXG4gKiBTZXRzIHRoZSB2YWx1ZSBvZiB0aGUgbm90aWZpZWQgcHJvcGVydHkgdG8gdGhlIGhvc3QgcHJvcGVydHkgb3IgcGF0aC4gIElmXG4gKiB0aGUgZXZlbnQgY29udGFpbmVkIHBhdGggaW5mb3JtYXRpb24sIHRyYW5zbGF0ZSB0aGF0IHBhdGggdG8gdGhlIGhvc3RcbiAqIHNjb3BlJ3MgbmFtZSBmb3IgdGhhdCBwYXRoIGZpcnN0LlxuICpcbiAqIEBwYXJhbSB7Q3VzdG9tRXZlbnR9IGV2ZW50IE5vdGlmaWNhdGlvbiBldmVudCAoZS5nLiAnPHByb3BlcnR5Pi1jaGFuZ2VkJylcbiAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IEhvc3QgZWxlbWVudCBpbnN0YW5jZSBoYW5kbGluZyB0aGVcbiAqICAgICBub3RpZmljYXRpb24gZXZlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBmcm9tUHJvcCBDaGlsZCBlbGVtZW50IHByb3BlcnR5IHRoYXQgd2FzIGJvdW5kXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9QYXRoIEhvc3QgcHJvcGVydHkvcGF0aCB0aGF0IHdhcyBib3VuZFxuICogQHBhcmFtIHtib29sZWFufSBuZWdhdGUgV2hldGhlciB0aGUgYmluZGluZyB3YXMgbmVnYXRlZFxuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGhhbmRsZU5vdGlmaWNhdGlvbihldmVudCwgaW5zdCwgZnJvbVByb3AsIHRvUGF0aCwgbmVnYXRlKSB7XG4gIGxldCB2YWx1ZTtcbiAgbGV0IGRldGFpbCA9IC8qKiBAdHlwZSB7T2JqZWN0fSAqLyhldmVudC5kZXRhaWwpO1xuICBsZXQgZnJvbVBhdGggPSBkZXRhaWwgJiYgZGV0YWlsLnBhdGg7XG4gIGlmIChmcm9tUGF0aCkge1xuICAgIHRvUGF0aCA9IHRyYW5zbGF0ZShmcm9tUHJvcCwgdG9QYXRoLCBmcm9tUGF0aCk7XG4gICAgdmFsdWUgPSBkZXRhaWwgJiYgZGV0YWlsLnZhbHVlO1xuICB9IGVsc2Uge1xuICAgIHZhbHVlID0gZXZlbnQuY3VycmVudFRhcmdldFtmcm9tUHJvcF07XG4gIH1cbiAgdmFsdWUgPSBuZWdhdGUgPyAhdmFsdWUgOiB2YWx1ZTtcbiAgaWYgKCFpbnN0W1RZUEVTLlJFQURfT05MWV0gfHwgIWluc3RbVFlQRVMuUkVBRF9PTkxZXVt0b1BhdGhdKSB7XG4gICAgaWYgKGluc3QuX3NldFBlbmRpbmdQcm9wZXJ0eU9yUGF0aCh0b1BhdGgsIHZhbHVlLCB0cnVlLCBCb29sZWFuKGZyb21QYXRoKSlcbiAgICAgICYmICghZGV0YWlsIHx8ICFkZXRhaWwucXVldWVQcm9wZXJ0eSkpIHtcbiAgICAgIGluc3QuX2ludmFsaWRhdGVQcm9wZXJ0aWVzKCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogSW1wbGVtZW50cyB0aGUgXCJyZWZsZWN0XCIgZWZmZWN0LlxuICpcbiAqIFNldHMgdGhlIGF0dHJpYnV0ZSBuYW1lZCBgaW5mby5hdHRyTmFtZWAgdG8gdGhlIGdpdmVuIHByb3BlcnR5IHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IFRoZSBpbnN0YW5jZSB0aGUgZWZmZWN0IHdpbGwgYmUgcnVuIG9uXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgTmFtZSBvZiBwcm9wZXJ0eVxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIEJhZyBvZiBjdXJyZW50IHByb3BlcnR5IGNoYW5nZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvbGRQcm9wcyBCYWcgb2YgcHJldmlvdXMgdmFsdWVzIGZvciBjaGFuZ2VkIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7P30gaW5mbyBFZmZlY3QgbWV0YWRhdGFcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBydW5SZWZsZWN0RWZmZWN0KGluc3QsIHByb3BlcnR5LCBwcm9wcywgb2xkUHJvcHMsIGluZm8pIHtcbiAgbGV0IHZhbHVlID0gaW5zdC5fX2RhdGFbcHJvcGVydHldO1xuICBpZiAoc2FuaXRpemVET01WYWx1ZSkge1xuICAgIHZhbHVlID0gc2FuaXRpemVET01WYWx1ZSh2YWx1ZSwgaW5mby5hdHRyTmFtZSwgJ2F0dHJpYnV0ZScsIC8qKiBAdHlwZSB7Tm9kZX0gKi8oaW5zdCkpO1xuICB9XG4gIGluc3QuX3Byb3BlcnR5VG9BdHRyaWJ1dGUocHJvcGVydHksIGluZm8uYXR0ck5hbWUsIHZhbHVlKTtcbn1cblxuLyoqXG4gKiBSdW5zIFwiY29tcHV0ZWRcIiBlZmZlY3RzIGZvciBhIHNldCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMuXG4gKlxuICogVGhpcyBtZXRob2QgZGlmZmVycyBmcm9tIHRoZSBnZW5lcmljIGBydW5FZmZlY3RzYCBtZXRob2QgaW4gdGhhdCBpdFxuICogY29udGludWVzIHRvIHJ1biBjb21wdXRlZCBlZmZlY3RzIGJhc2VkIG9uIHRoZSBvdXRwdXQgb2YgZWFjaCBwYXNzIHVudGlsXG4gKiB0aGVyZSBhcmUgbm8gbW9yZSBuZXdseSBjb21wdXRlZCBwcm9wZXJ0aWVzLiAgVGhpcyBlbnN1cmVzIHRoYXQgYWxsXG4gKiBwcm9wZXJ0aWVzIHRoYXQgd2lsbCBiZSBjb21wdXRlZCBieSB0aGUgaW5pdGlhbCBzZXQgb2YgY2hhbmdlcyBhcmVcbiAqIGNvbXB1dGVkIGJlZm9yZSBvdGhlciBlZmZlY3RzIChiaW5kaW5nIHByb3BhZ2F0aW9uLCBvYnNlcnZlcnMsIGFuZCBub3RpZnkpXG4gKiBydW4uXG4gKlxuICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgVGhlIGluc3RhbmNlIHRoZSBlZmZlY3Qgd2lsbCBiZSBydW4gb25cbiAqIEBwYXJhbSB7P09iamVjdH0gY2hhbmdlZFByb3BzIEJhZyBvZiBjaGFuZ2VkIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7P09iamVjdH0gb2xkUHJvcHMgQmFnIG9mIHByZXZpb3VzIHZhbHVlcyBmb3IgY2hhbmdlZCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGhhc1BhdGhzIFRydWUgd2l0aCBgcHJvcHNgIGNvbnRhaW5zIG9uZSBvciBtb3JlIHBhdGhzXG4gKiBAcmV0dXJuIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcnVuQ29tcHV0ZWRFZmZlY3RzKGluc3QsIGNoYW5nZWRQcm9wcywgb2xkUHJvcHMsIGhhc1BhdGhzKSB7XG4gIGxldCBjb21wdXRlRWZmZWN0cyA9IGluc3RbVFlQRVMuQ09NUFVURV07XG4gIGlmIChjb21wdXRlRWZmZWN0cykge1xuICAgIGxldCBpbnB1dFByb3BzID0gY2hhbmdlZFByb3BzO1xuICAgIHdoaWxlIChydW5FZmZlY3RzKGluc3QsIGNvbXB1dGVFZmZlY3RzLCBpbnB1dFByb3BzLCBvbGRQcm9wcywgaGFzUGF0aHMpKSB7XG4gICAgICBPYmplY3QuYXNzaWduKC8qKiBAdHlwZSB7IU9iamVjdH0gKi8gKG9sZFByb3BzKSwgaW5zdC5fX2RhdGFPbGQpO1xuICAgICAgT2JqZWN0LmFzc2lnbigvKiogQHR5cGUgeyFPYmplY3R9ICovIChjaGFuZ2VkUHJvcHMpLCBpbnN0Ll9fZGF0YVBlbmRpbmcpO1xuICAgICAgaW5wdXRQcm9wcyA9IGluc3QuX19kYXRhUGVuZGluZztcbiAgICAgIGluc3QuX19kYXRhUGVuZGluZyA9IG51bGw7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogSW1wbGVtZW50cyB0aGUgXCJjb21wdXRlZCBwcm9wZXJ0eVwiIGVmZmVjdCBieSBydW5uaW5nIHRoZSBtZXRob2Qgd2l0aCB0aGVcbiAqIHZhbHVlcyBvZiB0aGUgYXJndW1lbnRzIHNwZWNpZmllZCBpbiB0aGUgYGluZm9gIG9iamVjdCBhbmQgc2V0dGluZyB0aGVcbiAqIHJldHVybiB2YWx1ZSB0byB0aGUgY29tcHV0ZWQgcHJvcGVydHkgc3BlY2lmaWVkLlxuICpcbiAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IFRoZSBpbnN0YW5jZSB0aGUgZWZmZWN0IHdpbGwgYmUgcnVuIG9uXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgTmFtZSBvZiBwcm9wZXJ0eVxuICogQHBhcmFtIHs/T2JqZWN0fSBwcm9wcyBCYWcgb2YgY3VycmVudCBwcm9wZXJ0eSBjaGFuZ2VzXG4gKiBAcGFyYW0gez9PYmplY3R9IG9sZFByb3BzIEJhZyBvZiBwcmV2aW91cyB2YWx1ZXMgZm9yIGNoYW5nZWQgcHJvcGVydGllc1xuICogQHBhcmFtIHs/fSBpbmZvIEVmZmVjdCBtZXRhZGF0YVxuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJ1bkNvbXB1dGVkRWZmZWN0KGluc3QsIHByb3BlcnR5LCBwcm9wcywgb2xkUHJvcHMsIGluZm8pIHtcbiAgbGV0IHJlc3VsdCA9IHJ1bk1ldGhvZEVmZmVjdChpbnN0LCBwcm9wZXJ0eSwgcHJvcHMsIG9sZFByb3BzLCBpbmZvKTtcbiAgbGV0IGNvbXB1dGVkUHJvcCA9IGluZm8ubWV0aG9kSW5mbztcbiAgaWYgKGluc3QuX19kYXRhSGFzQWNjZXNzb3IgJiYgaW5zdC5fX2RhdGFIYXNBY2Nlc3Nvcltjb21wdXRlZFByb3BdKSB7XG4gICAgaW5zdC5fc2V0UGVuZGluZ1Byb3BlcnR5KGNvbXB1dGVkUHJvcCwgcmVzdWx0LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBpbnN0W2NvbXB1dGVkUHJvcF0gPSByZXN1bHQ7XG4gIH1cbn1cblxuLyoqXG4gKiBDb21wdXRlcyBwYXRoIGNoYW5nZXMgYmFzZWQgb24gcGF0aCBsaW5rcyBzZXQgdXAgdXNpbmcgdGhlIGBsaW5rUGF0aHNgXG4gKiBBUEkuXG4gKlxuICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgVGhlIGluc3RhbmNlIHdob3NlIHByb3BzIGFyZSBjaGFuZ2luZ1xuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggUGF0aCB0aGF0IGhhcyBjaGFuZ2VkXG4gKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIG9mIGNoYW5nZWQgcGF0aFxuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVMaW5rZWRQYXRocyhpbnN0LCBwYXRoLCB2YWx1ZSkge1xuICBsZXQgbGlua3MgPSBpbnN0Ll9fZGF0YUxpbmtlZFBhdGhzO1xuICBpZiAobGlua3MpIHtcbiAgICBsZXQgbGluaztcbiAgICBmb3IgKGxldCBhIGluIGxpbmtzKSB7XG4gICAgICBsZXQgYiA9IGxpbmtzW2FdO1xuICAgICAgaWYgKGlzRGVzY2VuZGFudChhLCBwYXRoKSkge1xuICAgICAgICBsaW5rID0gdHJhbnNsYXRlKGEsIGIsIHBhdGgpO1xuICAgICAgICBpbnN0Ll9zZXRQZW5kaW5nUHJvcGVydHlPclBhdGgobGluaywgdmFsdWUsIHRydWUsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmIChpc0Rlc2NlbmRhbnQoYiwgcGF0aCkpIHtcbiAgICAgICAgbGluayA9IHRyYW5zbGF0ZShiLCBhLCBwYXRoKTtcbiAgICAgICAgaW5zdC5fc2V0UGVuZGluZ1Byb3BlcnR5T3JQYXRoKGxpbmssIHZhbHVlLCB0cnVlLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gLS0gYmluZGluZ3MgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vKipcbiAqIEFkZHMgYmluZGluZyBtZXRhZGF0YSB0byB0aGUgY3VycmVudCBgbm9kZUluZm9gLCBhbmQgYmluZGluZyBlZmZlY3RzXG4gKiBmb3IgYWxsIHBhcnQgZGVwZW5kZW5jaWVzIHRvIGB0ZW1wbGF0ZUluZm9gLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbnN0cnVjdG9yIENsYXNzIHRoYXQgYF9wYXJzZVRlbXBsYXRlYCBpcyBjdXJyZW50bHlcbiAqICAgcnVubmluZyBvblxuICogQHBhcmFtIHtUZW1wbGF0ZUluZm99IHRlbXBsYXRlSW5mbyBUZW1wbGF0ZSBtZXRhZGF0YSBmb3IgY3VycmVudCB0ZW1wbGF0ZVxuICogQHBhcmFtIHtOb2RlSW5mb30gbm9kZUluZm8gTm9kZSBtZXRhZGF0YSBmb3IgY3VycmVudCB0ZW1wbGF0ZSBub2RlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2luZCBCaW5kaW5nIGtpbmQsIGVpdGhlciAncHJvcGVydHknLCAnYXR0cmlidXRlJywgb3IgJ3RleHQnXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0IFRhcmdldCBwcm9wZXJ0eSBuYW1lXG4gKiBAcGFyYW0geyFBcnJheTwhQmluZGluZ1BhcnQ+fSBwYXJ0cyBBcnJheSBvZiBiaW5kaW5nIHBhcnQgbWV0YWRhdGFcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbGl0ZXJhbCBMaXRlcmFsIHRleHQgc3Vycm91bmRpbmcgYmluZGluZyBwYXJ0cyAoc3BlY2lmaWVkXG4gKiAgIG9ubHkgZm9yICdwcm9wZXJ0eScgYmluZGluZ3MsIHNpbmNlIHRoZXNlIG11c3QgYmUgaW5pdGlhbGl6ZWQgYXMgcGFydFxuICogICBvZiBib290LXVwKVxuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFkZEJpbmRpbmcoY29uc3RydWN0b3IsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8sIGtpbmQsIHRhcmdldCwgcGFydHMsIGxpdGVyYWwpIHtcbiAgLy8gQ3JlYXRlIGJpbmRpbmcgbWV0YWRhdGEgYW5kIGFkZCB0byBub2RlSW5mb1xuICBub2RlSW5mby5iaW5kaW5ncyA9IG5vZGVJbmZvLmJpbmRpbmdzIHx8IFtdO1xuICBsZXQgLyoqIEJpbmRpbmcgKi8gYmluZGluZyA9IHsga2luZCwgdGFyZ2V0LCBwYXJ0cywgbGl0ZXJhbCwgaXNDb21wb3VuZDogKHBhcnRzLmxlbmd0aCAhPT0gMSkgfTtcbiAgbm9kZUluZm8uYmluZGluZ3MucHVzaChiaW5kaW5nKTtcbiAgLy8gQWRkIGxpc3RlbmVyIGluZm8gdG8gYmluZGluZyBtZXRhZGF0YVxuICBpZiAoc2hvdWxkQWRkTGlzdGVuZXIoYmluZGluZykpIHtcbiAgICBsZXQge2V2ZW50LCBuZWdhdGV9ID0gYmluZGluZy5wYXJ0c1swXTtcbiAgICBiaW5kaW5nLmxpc3RlbmVyRXZlbnQgPSBldmVudCB8fCAoY2FtZWxUb0Rhc2hDYXNlKHRhcmdldCkgKyAnLWNoYW5nZWQnKTtcbiAgICBiaW5kaW5nLmxpc3RlbmVyTmVnYXRlID0gbmVnYXRlO1xuICB9XG4gIC8vIEFkZCBcInByb3BhZ2F0ZVwiIHByb3BlcnR5IGVmZmVjdHMgdG8gdGVtcGxhdGVJbmZvXG4gIGxldCBpbmRleCA9IHRlbXBsYXRlSW5mby5ub2RlSW5mb0xpc3QubGVuZ3RoO1xuICBmb3IgKGxldCBpPTA7IGk8YmluZGluZy5wYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIGxldCBwYXJ0ID0gYmluZGluZy5wYXJ0c1tpXTtcbiAgICBwYXJ0LmNvbXBvdW5kSW5kZXggPSBpO1xuICAgIGFkZEVmZmVjdEZvckJpbmRpbmdQYXJ0KGNvbnN0cnVjdG9yLCB0ZW1wbGF0ZUluZm8sIGJpbmRpbmcsIHBhcnQsIGluZGV4KTtcbiAgfVxufVxuXG4vKipcbiAqIEFkZHMgcHJvcGVydHkgZWZmZWN0cyB0byB0aGUgZ2l2ZW4gYHRlbXBsYXRlSW5mb2AgZm9yIHRoZSBnaXZlbiBiaW5kaW5nXG4gKiBwYXJ0LlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbnN0cnVjdG9yIENsYXNzIHRoYXQgYF9wYXJzZVRlbXBsYXRlYCBpcyBjdXJyZW50bHlcbiAqICAgcnVubmluZyBvblxuICogQHBhcmFtIHtUZW1wbGF0ZUluZm99IHRlbXBsYXRlSW5mbyBUZW1wbGF0ZSBtZXRhZGF0YSBmb3IgY3VycmVudCB0ZW1wbGF0ZVxuICogQHBhcmFtIHshQmluZGluZ30gYmluZGluZyBCaW5kaW5nIG1ldGFkYXRhXG4gKiBAcGFyYW0geyFCaW5kaW5nUGFydH0gcGFydCBCaW5kaW5nIHBhcnQgbWV0YWRhdGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBJbmRleCBpbnRvIGBub2RlSW5mb0xpc3RgIGZvciB0aGlzIG5vZGVcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGFkZEVmZmVjdEZvckJpbmRpbmdQYXJ0KGNvbnN0cnVjdG9yLCB0ZW1wbGF0ZUluZm8sIGJpbmRpbmcsIHBhcnQsIGluZGV4KSB7XG4gIGlmICghcGFydC5saXRlcmFsKSB7XG4gICAgaWYgKGJpbmRpbmcua2luZCA9PT0gJ2F0dHJpYnV0ZScgJiYgYmluZGluZy50YXJnZXRbMF0gPT09ICctJykge1xuICAgICAgY29uc29sZS53YXJuKCdDYW5ub3Qgc2V0IGF0dHJpYnV0ZSAnICsgYmluZGluZy50YXJnZXQgK1xuICAgICAgICAnIGJlY2F1c2UgXCItXCIgaXMgbm90IGEgdmFsaWQgYXR0cmlidXRlIHN0YXJ0aW5nIGNoYXJhY3RlcicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgZGVwZW5kZW5jaWVzID0gcGFydC5kZXBlbmRlbmNpZXM7XG4gICAgICBsZXQgaW5mbyA9IHsgaW5kZXgsIGJpbmRpbmcsIHBhcnQsIGV2YWx1YXRvcjogY29uc3RydWN0b3IgfTtcbiAgICAgIGZvciAobGV0IGo9MDsgajxkZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgbGV0IHRyaWdnZXIgPSBkZXBlbmRlbmNpZXNbal07XG4gICAgICAgIGlmICh0eXBlb2YgdHJpZ2dlciA9PSAnc3RyaW5nJykge1xuICAgICAgICAgIHRyaWdnZXIgPSBwYXJzZUFyZyh0cmlnZ2VyKTtcbiAgICAgICAgICB0cmlnZ2VyLndpbGRjYXJkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdHJ1Y3Rvci5fYWRkVGVtcGxhdGVQcm9wZXJ0eUVmZmVjdCh0ZW1wbGF0ZUluZm8sIHRyaWdnZXIucm9vdFByb3BlcnR5LCB7XG4gICAgICAgICAgZm46IHJ1bkJpbmRpbmdFZmZlY3QsXG4gICAgICAgICAgaW5mbywgdHJpZ2dlclxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBJbXBsZW1lbnRzIHRoZSBcImJpbmRpbmdcIiAocHJvcGVydHkvcGF0aCBiaW5kaW5nKSBlZmZlY3QuXG4gKlxuICogTm90ZSB0aGF0IGJpbmRpbmcgc3ludGF4IGlzIG92ZXJyaWRhYmxlIHZpYSBgX3BhcnNlQmluZGluZ3NgIGFuZFxuICogYF9ldmFsdWF0ZUJpbmRpbmdgLiAgVGhpcyBtZXRob2Qgd2lsbCBjYWxsIGBfZXZhbHVhdGVCaW5kaW5nYCBmb3IgYW55XG4gKiBub24tbGl0ZXJhbCBwYXJ0cyByZXR1cm5lZCBmcm9tIGBfcGFyc2VCaW5kaW5nc2AuICBIb3dldmVyLFxuICogdGhlcmUgaXMgbm8gc3VwcG9ydCBmb3IgX3BhdGhfIGJpbmRpbmdzIHZpYSBjdXN0b20gYmluZGluZyBwYXJ0cyxcbiAqIGFzIHRoaXMgaXMgc3BlY2lmaWMgdG8gUG9seW1lcidzIHBhdGggYmluZGluZyBzeW50YXguXG4gKlxuICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgVGhlIGluc3RhbmNlIHRoZSBlZmZlY3Qgd2lsbCBiZSBydW4gb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIE5hbWUgb2YgcHJvcGVydHlcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBCYWcgb2YgY3VycmVudCBwcm9wZXJ0eSBjaGFuZ2VzXG4gKiBAcGFyYW0ge09iamVjdH0gb2xkUHJvcHMgQmFnIG9mIHByZXZpb3VzIHZhbHVlcyBmb3IgY2hhbmdlZCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0gez99IGluZm8gRWZmZWN0IG1ldGFkYXRhXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGhhc1BhdGhzIFRydWUgd2l0aCBgcHJvcHNgIGNvbnRhaW5zIG9uZSBvciBtb3JlIHBhdGhzXG4gKiBAcGFyYW0ge0FycmF5fSBub2RlTGlzdCBMaXN0IG9mIG5vZGVzIGFzc29jaWF0ZWQgd2l0aCBgbm9kZUluZm9MaXN0YCB0ZW1wbGF0ZVxuICogICBtZXRhZGF0YVxuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJ1bkJpbmRpbmdFZmZlY3QoaW5zdCwgcGF0aCwgcHJvcHMsIG9sZFByb3BzLCBpbmZvLCBoYXNQYXRocywgbm9kZUxpc3QpIHtcbiAgbGV0IG5vZGUgPSBub2RlTGlzdFtpbmZvLmluZGV4XTtcbiAgbGV0IGJpbmRpbmcgPSBpbmZvLmJpbmRpbmc7XG4gIGxldCBwYXJ0ID0gaW5mby5wYXJ0O1xuICAvLyBTdWJwYXRoIG5vdGlmaWNhdGlvbjogdHJhbnNmb3JtIHBhdGggYW5kIHNldCB0byBjbGllbnRcbiAgLy8gZS5nLjogZm9vPVwie3tvYmouc3VifX1cIiwgcGF0aDogJ29iai5zdWIucHJvcCcsIHNldCAnZm9vLnByb3AnPW9iai5zdWIucHJvcFxuICBpZiAoaGFzUGF0aHMgJiYgcGFydC5zb3VyY2UgJiYgKHBhdGgubGVuZ3RoID4gcGFydC5zb3VyY2UubGVuZ3RoKSAmJlxuICAgICAgKGJpbmRpbmcua2luZCA9PSAncHJvcGVydHknKSAmJiAhYmluZGluZy5pc0NvbXBvdW5kICYmXG4gICAgICBub2RlLl9faXNQcm9wZXJ0eUVmZmVjdHNDbGllbnQgJiZcbiAgICAgIG5vZGUuX19kYXRhSGFzQWNjZXNzb3IgJiYgbm9kZS5fX2RhdGFIYXNBY2Nlc3NvcltiaW5kaW5nLnRhcmdldF0pIHtcbiAgICBsZXQgdmFsdWUgPSBwcm9wc1twYXRoXTtcbiAgICBwYXRoID0gdHJhbnNsYXRlKHBhcnQuc291cmNlLCBiaW5kaW5nLnRhcmdldCwgcGF0aCk7XG4gICAgaWYgKG5vZGUuX3NldFBlbmRpbmdQcm9wZXJ0eU9yUGF0aChwYXRoLCB2YWx1ZSwgZmFsc2UsIHRydWUpKSB7XG4gICAgICBpbnN0Ll9lbnF1ZXVlQ2xpZW50KG5vZGUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBsZXQgdmFsdWUgPSBpbmZvLmV2YWx1YXRvci5fZXZhbHVhdGVCaW5kaW5nKGluc3QsIHBhcnQsIHBhdGgsIHByb3BzLCBvbGRQcm9wcywgaGFzUGF0aHMpO1xuICAgIC8vIFByb3BhZ2F0ZSB2YWx1ZSB0byBjaGlsZFxuICAgIGFwcGx5QmluZGluZ1ZhbHVlKGluc3QsIG5vZGUsIGJpbmRpbmcsIHBhcnQsIHZhbHVlKTtcbiAgfVxufVxuXG4vKipcbiAqIFNldHMgdGhlIHZhbHVlIGZvciBhbiBcImJpbmRpbmdcIiAoYmluZGluZykgZWZmZWN0IHRvIGEgbm9kZSxcbiAqIGVpdGhlciBhcyBhIHByb3BlcnR5IG9yIGF0dHJpYnV0ZS5cbiAqXG4gKiBAcGFyYW0geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gaW5zdCBUaGUgaW5zdGFuY2Ugb3duaW5nIHRoZSBiaW5kaW5nIGVmZmVjdFxuICogQHBhcmFtIHtOb2RlfSBub2RlIFRhcmdldCBub2RlIGZvciBiaW5kaW5nXG4gKiBAcGFyYW0geyFCaW5kaW5nfSBiaW5kaW5nIEJpbmRpbmcgbWV0YWRhdGFcbiAqIEBwYXJhbSB7IUJpbmRpbmdQYXJ0fSBwYXJ0IEJpbmRpbmcgcGFydCBtZXRhZGF0YVxuICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byBzZXRcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBhcHBseUJpbmRpbmdWYWx1ZShpbnN0LCBub2RlLCBiaW5kaW5nLCBwYXJ0LCB2YWx1ZSkge1xuICB2YWx1ZSA9IGNvbXB1dGVCaW5kaW5nVmFsdWUobm9kZSwgdmFsdWUsIGJpbmRpbmcsIHBhcnQpO1xuICBpZiAoc2FuaXRpemVET01WYWx1ZSkge1xuICAgIHZhbHVlID0gc2FuaXRpemVET01WYWx1ZSh2YWx1ZSwgYmluZGluZy50YXJnZXQsIGJpbmRpbmcua2luZCwgbm9kZSk7XG4gIH1cbiAgaWYgKGJpbmRpbmcua2luZCA9PSAnYXR0cmlidXRlJykge1xuICAgIC8vIEF0dHJpYnV0ZSBiaW5kaW5nXG4gICAgaW5zdC5fdmFsdWVUb05vZGVBdHRyaWJ1dGUoLyoqIEB0eXBlIHtFbGVtZW50fSAqLyhub2RlKSwgdmFsdWUsIGJpbmRpbmcudGFyZ2V0KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBQcm9wZXJ0eSBiaW5kaW5nXG4gICAgbGV0IHByb3AgPSBiaW5kaW5nLnRhcmdldDtcbiAgICBpZiAobm9kZS5fX2lzUHJvcGVydHlFZmZlY3RzQ2xpZW50ICYmXG4gICAgICAgIG5vZGUuX19kYXRhSGFzQWNjZXNzb3IgJiYgbm9kZS5fX2RhdGFIYXNBY2Nlc3Nvcltwcm9wXSkge1xuICAgICAgaWYgKCFub2RlW1RZUEVTLlJFQURfT05MWV0gfHwgIW5vZGVbVFlQRVMuUkVBRF9PTkxZXVtwcm9wXSkge1xuICAgICAgICBpZiAobm9kZS5fc2V0UGVuZGluZ1Byb3BlcnR5KHByb3AsIHZhbHVlKSkge1xuICAgICAgICAgIGluc3QuX2VucXVldWVDbGllbnQobm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgIHtcbiAgICAgIGluc3QuX3NldFVubWFuYWdlZFByb3BlcnR5VG9Ob2RlKG5vZGUsIHByb3AsIHZhbHVlKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIGFuIFwiYmluZGluZ1wiIGVmZmVjdCB2YWx1ZSBiYXNlZCBvbiBjb21wb3VuZCAmIG5lZ2F0aW9uXG4gKiBlZmZlY3QgbWV0YWRhdGEsIGFzIHdlbGwgYXMgaGFuZGxpbmcgZm9yIHNwZWNpYWwtY2FzZSBwcm9wZXJ0aWVzXG4gKlxuICogQHBhcmFtIHtOb2RlfSBub2RlIE5vZGUgdGhlIHZhbHVlIHdpbGwgYmUgc2V0IHRvXG4gKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIHNldFxuICogQHBhcmFtIHshQmluZGluZ30gYmluZGluZyBCaW5kaW5nIG1ldGFkYXRhXG4gKiBAcGFyYW0geyFCaW5kaW5nUGFydH0gcGFydCBCaW5kaW5nIHBhcnQgbWV0YWRhdGFcbiAqIEByZXR1cm4geyp9IFRyYW5zZm9ybWVkIHZhbHVlIHRvIHNldFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZUJpbmRpbmdWYWx1ZShub2RlLCB2YWx1ZSwgYmluZGluZywgcGFydCkge1xuICBpZiAoYmluZGluZy5pc0NvbXBvdW5kKSB7XG4gICAgbGV0IHN0b3JhZ2UgPSBub2RlLl9fZGF0YUNvbXBvdW5kU3RvcmFnZVtiaW5kaW5nLnRhcmdldF07XG4gICAgc3RvcmFnZVtwYXJ0LmNvbXBvdW5kSW5kZXhdID0gdmFsdWU7XG4gICAgdmFsdWUgPSBzdG9yYWdlLmpvaW4oJycpO1xuICB9XG4gIGlmIChiaW5kaW5nLmtpbmQgIT09ICdhdHRyaWJ1dGUnKSB7XG4gICAgLy8gU29tZSBicm93c2VycyBzZXJpYWxpemUgYHVuZGVmaW5lZGAgdG8gYFwidW5kZWZpbmVkXCJgXG4gICAgaWYgKGJpbmRpbmcudGFyZ2V0ID09PSAndGV4dENvbnRlbnQnIHx8XG4gICAgICAgIChiaW5kaW5nLnRhcmdldCA9PT0gJ3ZhbHVlJyAmJlxuICAgICAgICAgIChub2RlLmxvY2FsTmFtZSA9PT0gJ2lucHV0JyB8fCBub2RlLmxvY2FsTmFtZSA9PT0gJ3RleHRhcmVhJykpKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlID09IHVuZGVmaW5lZCA/ICcnIDogdmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYSBiaW5kaW5nJ3MgbWV0YWRhdGEgbWVldHMgYWxsIHRoZSByZXF1aXJlbWVudHMgdG8gYWxsb3dcbiAqIDItd2F5IGJpbmRpbmcsIGFuZCB0aGVyZWZvcmUgYSBgPHByb3BlcnR5Pi1jaGFuZ2VkYCBldmVudCBsaXN0ZW5lciBzaG91bGQgYmVcbiAqIGFkZGVkOlxuICogLSB1c2VkIGN1cmx5IGJyYWNlc1xuICogLSBpcyBhIHByb3BlcnR5IChub3QgYXR0cmlidXRlKSBiaW5kaW5nXG4gKiAtIGlzIG5vdCBhIHRleHRDb250ZW50IGJpbmRpbmdcbiAqIC0gaXMgbm90IGNvbXBvdW5kXG4gKlxuICogQHBhcmFtIHshQmluZGluZ30gYmluZGluZyBCaW5kaW5nIG1ldGFkYXRhXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIDItd2F5IGxpc3RlbmVyIHNob3VsZCBiZSBhZGRlZFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2hvdWxkQWRkTGlzdGVuZXIoYmluZGluZykge1xuICByZXR1cm4gQm9vbGVhbihiaW5kaW5nLnRhcmdldCkgJiZcbiAgICAgICAgIGJpbmRpbmcua2luZCAhPSAnYXR0cmlidXRlJyAmJlxuICAgICAgICAgYmluZGluZy5raW5kICE9ICd0ZXh0JyAmJlxuICAgICAgICAgIWJpbmRpbmcuaXNDb21wb3VuZCAmJlxuICAgICAgICAgYmluZGluZy5wYXJ0c1swXS5tb2RlID09PSAneyc7XG59XG5cbi8qKlxuICogU2V0dXAgY29tcG91bmQgYmluZGluZyBzdG9yYWdlIHN0cnVjdHVyZXMsIG5vdGlmeSBsaXN0ZW5lcnMsIGFuZCBkYXRhSG9zdFxuICogcmVmZXJlbmNlcyBvbnRvIHRoZSBib3VuZCBub2RlTGlzdC5cbiAqXG4gKiBAcGFyYW0geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gaW5zdCBJbnN0YW5jZSB0aGF0IGJhcyBiZWVuIHByZXZpb3VzbHlcbiAqICAgICBib3VuZFxuICogQHBhcmFtIHtUZW1wbGF0ZUluZm99IHRlbXBsYXRlSW5mbyBUZW1wbGF0ZSBtZXRhZGF0YVxuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNldHVwQmluZGluZ3MoaW5zdCwgdGVtcGxhdGVJbmZvKSB7XG4gIC8vIFNldHVwIGNvbXBvdW5kIHN0b3JhZ2UsIGRhdGFIb3N0LCBhbmQgbm90aWZ5IGxpc3RlbmVyc1xuICBsZXQge25vZGVMaXN0LCBub2RlSW5mb0xpc3R9ID0gdGVtcGxhdGVJbmZvO1xuICBpZiAobm9kZUluZm9MaXN0Lmxlbmd0aCkge1xuICAgIGZvciAobGV0IGk9MDsgaSA8IG5vZGVJbmZvTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGluZm8gPSBub2RlSW5mb0xpc3RbaV07XG4gICAgICBsZXQgbm9kZSA9IG5vZGVMaXN0W2ldO1xuICAgICAgbGV0IGJpbmRpbmdzID0gaW5mby5iaW5kaW5ncztcbiAgICAgIGlmIChiaW5kaW5ncykge1xuICAgICAgICBmb3IgKGxldCBpPTA7IGk8YmluZGluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBsZXQgYmluZGluZyA9IGJpbmRpbmdzW2ldO1xuICAgICAgICAgIHNldHVwQ29tcG91bmRTdG9yYWdlKG5vZGUsIGJpbmRpbmcpO1xuICAgICAgICAgIGFkZE5vdGlmeUxpc3RlbmVyKG5vZGUsIGluc3QsIGJpbmRpbmcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBub2RlLl9fZGF0YUhvc3QgPSBpbnN0O1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEluaXRpYWxpemVzIGBfX2RhdGFDb21wb3VuZFN0b3JhZ2VgIGxvY2FsIHN0b3JhZ2Ugb24gYSBib3VuZCBub2RlIHdpdGhcbiAqIGluaXRpYWwgbGl0ZXJhbCBkYXRhIGZvciBjb21wb3VuZCBiaW5kaW5ncywgYW5kIHNldHMgdGhlIGpvaW5lZFxuICogbGl0ZXJhbCBwYXJ0cyB0byB0aGUgYm91bmQgcHJvcGVydHkuXG4gKlxuICogV2hlbiBjaGFuZ2VzIHRvIGNvbXBvdW5kIHBhcnRzIG9jY3VyLCB0aGV5IGFyZSBmaXJzdCBzZXQgaW50byB0aGUgY29tcG91bmRcbiAqIHN0b3JhZ2UgYXJyYXkgZm9yIHRoYXQgcHJvcGVydHksIGFuZCB0aGVuIHRoZSBhcnJheSBpcyBqb2luZWQgdG8gcmVzdWx0IGluXG4gKiB0aGUgZmluYWwgdmFsdWUgc2V0IHRvIHRoZSBwcm9wZXJ0eS9hdHRyaWJ1dGUuXG4gKlxuICogQHBhcmFtIHtOb2RlfSBub2RlIEJvdW5kIG5vZGUgdG8gaW5pdGlhbGl6ZVxuICogQHBhcmFtIHtCaW5kaW5nfSBiaW5kaW5nIEJpbmRpbmcgbWV0YWRhdGFcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzZXR1cENvbXBvdW5kU3RvcmFnZShub2RlLCBiaW5kaW5nKSB7XG4gIGlmIChiaW5kaW5nLmlzQ29tcG91bmQpIHtcbiAgICAvLyBDcmVhdGUgY29tcG91bmQgc3RvcmFnZSBtYXBcbiAgICBsZXQgc3RvcmFnZSA9IG5vZGUuX19kYXRhQ29tcG91bmRTdG9yYWdlIHx8XG4gICAgICAobm9kZS5fX2RhdGFDb21wb3VuZFN0b3JhZ2UgPSB7fSk7XG4gICAgbGV0IHBhcnRzID0gYmluZGluZy5wYXJ0cztcbiAgICAvLyBDb3B5IGxpdGVyYWxzIGZyb20gcGFydHMgaW50byBzdG9yYWdlIGZvciB0aGlzIGJpbmRpbmdcbiAgICBsZXQgbGl0ZXJhbHMgPSBuZXcgQXJyYXkocGFydHMubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBqPTA7IGo8cGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGxpdGVyYWxzW2pdID0gcGFydHNbal0ubGl0ZXJhbDtcbiAgICB9XG4gICAgbGV0IHRhcmdldCA9IGJpbmRpbmcudGFyZ2V0O1xuICAgIHN0b3JhZ2VbdGFyZ2V0XSA9IGxpdGVyYWxzO1xuICAgIC8vIENvbmZpZ3VyZSBwcm9wZXJ0aWVzIHdpdGggdGhlaXIgbGl0ZXJhbCBwYXJ0c1xuICAgIGlmIChiaW5kaW5nLmxpdGVyYWwgJiYgYmluZGluZy5raW5kID09ICdwcm9wZXJ0eScpIHtcbiAgICAgIC8vIE5vdGUsIGNsYXNzTmFtZSBuZWVkcyBzdHlsZSBzY29waW5nIHNvIHRoaXMgbmVlZHMgd3JhcHBpbmcuXG4gICAgICAvLyBXZSBtYXkgYWxzbyB3YW50IHRvIGNvbnNpZGVyIGRvaW5nIHRoaXMgZm9yIGB0ZXh0Q29udGVudGAgYW5kXG4gICAgICAvLyBgaW5uZXJIVE1MYC5cbiAgICAgIGlmICh0YXJnZXQgPT09ICdjbGFzc05hbWUnKSB7XG4gICAgICAgIG5vZGUgPSB3cmFwKG5vZGUpO1xuICAgICAgfVxuICAgICAgbm9kZVt0YXJnZXRdID0gYmluZGluZy5saXRlcmFsO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEFkZHMgYSAyLXdheSBiaW5kaW5nIG5vdGlmaWNhdGlvbiBldmVudCBsaXN0ZW5lciB0byB0aGUgbm9kZSBzcGVjaWZpZWRcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbm9kZSBDaGlsZCBlbGVtZW50IHRvIGFkZCBsaXN0ZW5lciB0b1xuICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgSG9zdCBlbGVtZW50IGluc3RhbmNlIHRvIGhhbmRsZVxuICogICAgIG5vdGlmaWNhdGlvbiBldmVudFxuICogQHBhcmFtIHtCaW5kaW5nfSBiaW5kaW5nIEJpbmRpbmcgbWV0YWRhdGFcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBhZGROb3RpZnlMaXN0ZW5lcihub2RlLCBpbnN0LCBiaW5kaW5nKSB7XG4gIGlmIChiaW5kaW5nLmxpc3RlbmVyRXZlbnQpIHtcbiAgICBsZXQgcGFydCA9IGJpbmRpbmcucGFydHNbMF07XG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGJpbmRpbmcubGlzdGVuZXJFdmVudCwgZnVuY3Rpb24oZSkge1xuICAgICAgaGFuZGxlTm90aWZpY2F0aW9uKGUsIGluc3QsIGJpbmRpbmcudGFyZ2V0LCBwYXJ0LnNvdXJjZSwgcGFydC5uZWdhdGUpO1xuICAgIH0pO1xuICB9XG59XG5cbi8vIC0tIGZvciBtZXRob2QtYmFzZWQgZWZmZWN0cyAoY29tcGxleE9ic2VydmVyICYgY29tcHV0ZWQpIC0tLS0tLS0tLS0tLS0tXG5cbi8qKlxuICogQWRkcyBwcm9wZXJ0eSBlZmZlY3RzIGZvciBlYWNoIGFyZ3VtZW50IGluIHRoZSBtZXRob2Qgc2lnbmF0dXJlIChhbmRcbiAqIG9wdGlvbmFsbHksIGZvciB0aGUgbWV0aG9kIG5hbWUgaWYgYGR5bmFtaWNgIGlzIHRydWUpIHRoYXQgY2FsbHMgdGhlXG4gKiBwcm92aWRlZCBlZmZlY3QgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtFbGVtZW50IHwgT2JqZWN0fSBtb2RlbCBQcm90b3R5cGUgb3IgaW5zdGFuY2VcbiAqIEBwYXJhbSB7IU1ldGhvZFNpZ25hdHVyZX0gc2lnIE1ldGhvZCBzaWduYXR1cmUgbWV0YWRhdGFcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFR5cGUgb2YgcHJvcGVydHkgZWZmZWN0IHRvIGFkZFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZWZmZWN0Rm4gRnVuY3Rpb24gdG8gcnVuIHdoZW4gYXJndW1lbnRzIGNoYW5nZVxuICogQHBhcmFtIHsqPX0gbWV0aG9kSW5mbyBFZmZlY3Qtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gYmUgaW5jbHVkZWQgaW5cbiAqICAgbWV0aG9kIGVmZmVjdCBtZXRhZGF0YVxuICogQHBhcmFtIHtib29sZWFufE9iamVjdD19IGR5bmFtaWNGbiBCb29sZWFuIG9yIG9iamVjdCBtYXAgaW5kaWNhdGluZyB3aGV0aGVyXG4gKiAgIG1ldGhvZCBuYW1lcyBzaG91bGQgYmUgaW5jbHVkZWQgYXMgYSBkZXBlbmRlbmN5IHRvIHRoZSBlZmZlY3QuIE5vdGUsXG4gKiAgIGRlZmF1bHRzIHRvIHRydWUgaWYgdGhlIHNpZ25hdHVyZSBpcyBzdGF0aWMgKHNpZy5zdGF0aWMgaXMgdHJ1ZSkuXG4gKiBAcmV0dXJuIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlTWV0aG9kRWZmZWN0KG1vZGVsLCBzaWcsIHR5cGUsIGVmZmVjdEZuLCBtZXRob2RJbmZvLCBkeW5hbWljRm4pIHtcbiAgZHluYW1pY0ZuID0gc2lnLnN0YXRpYyB8fCAoZHluYW1pY0ZuICYmXG4gICAgKHR5cGVvZiBkeW5hbWljRm4gIT09ICdvYmplY3QnIHx8IGR5bmFtaWNGbltzaWcubWV0aG9kTmFtZV0pKTtcbiAgbGV0IGluZm8gPSB7XG4gICAgbWV0aG9kTmFtZTogc2lnLm1ldGhvZE5hbWUsXG4gICAgYXJnczogc2lnLmFyZ3MsXG4gICAgbWV0aG9kSW5mbyxcbiAgICBkeW5hbWljRm5cbiAgfTtcbiAgZm9yIChsZXQgaT0wLCBhcmc7IChpPHNpZy5hcmdzLmxlbmd0aCkgJiYgKGFyZz1zaWcuYXJnc1tpXSk7IGkrKykge1xuICAgIGlmICghYXJnLmxpdGVyYWwpIHtcbiAgICAgIG1vZGVsLl9hZGRQcm9wZXJ0eUVmZmVjdChhcmcucm9vdFByb3BlcnR5LCB0eXBlLCB7XG4gICAgICAgIGZuOiBlZmZlY3RGbiwgaW5mbzogaW5mbywgdHJpZ2dlcjogYXJnXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgaWYgKGR5bmFtaWNGbikge1xuICAgIG1vZGVsLl9hZGRQcm9wZXJ0eUVmZmVjdChzaWcubWV0aG9kTmFtZSwgdHlwZSwge1xuICAgICAgZm46IGVmZmVjdEZuLCBpbmZvOiBpbmZvXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBDYWxscyBhIG1ldGhvZCB3aXRoIGFyZ3VtZW50cyBtYXJzaGFsZWQgZnJvbSBwcm9wZXJ0aWVzIG9uIHRoZSBpbnN0YW5jZVxuICogYmFzZWQgb24gdGhlIG1ldGhvZCBzaWduYXR1cmUgY29udGFpbmVkIGluIHRoZSBlZmZlY3QgbWV0YWRhdGEuXG4gKlxuICogTXVsdGktcHJvcGVydHkgb2JzZXJ2ZXJzLCBjb21wdXRlZCBwcm9wZXJ0aWVzLCBhbmQgaW5saW5lIGNvbXB1dGluZ1xuICogZnVuY3Rpb25zIGNhbGwgdGhpcyBmdW5jdGlvbiB0byBpbnZva2UgdGhlIG1ldGhvZCwgdGhlbiB1c2UgdGhlIHJldHVyblxuICogdmFsdWUgYWNjb3JkaW5nbHkuXG4gKlxuICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgVGhlIGluc3RhbmNlIHRoZSBlZmZlY3Qgd2lsbCBiZSBydW4gb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBOYW1lIG9mIHByb3BlcnR5XG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgQmFnIG9mIGN1cnJlbnQgcHJvcGVydHkgY2hhbmdlc1xuICogQHBhcmFtIHtPYmplY3R9IG9sZFByb3BzIEJhZyBvZiBwcmV2aW91cyB2YWx1ZXMgZm9yIGNoYW5nZWQgcHJvcGVydGllc1xuICogQHBhcmFtIHs/fSBpbmZvIEVmZmVjdCBtZXRhZGF0YVxuICogQHJldHVybiB7Kn0gUmV0dXJucyB0aGUgcmV0dXJuIHZhbHVlIGZyb20gdGhlIG1ldGhvZCBpbnZvY2F0aW9uXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBydW5NZXRob2RFZmZlY3QoaW5zdCwgcHJvcGVydHksIHByb3BzLCBvbGRQcm9wcywgaW5mbykge1xuICAvLyBJbnN0YW5jZXMgY2FuIG9wdGlvbmFsbHkgaGF2ZSBhIF9tZXRob2RIb3N0IHdoaWNoIGFsbG93cyByZWRpcmVjdGluZyB3aGVyZVxuICAvLyB0byBmaW5kIG1ldGhvZHMuIEN1cnJlbnRseSB1c2VkIGJ5IGB0ZW1wbGF0aXplYC5cbiAgbGV0IGNvbnRleHQgPSBpbnN0Ll9tZXRob2RIb3N0IHx8IGluc3Q7XG4gIGxldCBmbiA9IGNvbnRleHRbaW5mby5tZXRob2ROYW1lXTtcbiAgaWYgKGZuKSB7XG4gICAgbGV0IGFyZ3MgPSBpbnN0Ll9tYXJzaGFsQXJncyhpbmZvLmFyZ3MsIHByb3BlcnR5LCBwcm9wcyk7XG4gICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICB9IGVsc2UgaWYgKCFpbmZvLmR5bmFtaWNGbikge1xuICAgIGNvbnNvbGUud2FybignbWV0aG9kIGAnICsgaW5mby5tZXRob2ROYW1lICsgJ2Agbm90IGRlZmluZWQnKTtcbiAgfVxufVxuXG5jb25zdCBlbXB0eUFycmF5ID0gW107XG5cbi8vIFJlZ3VsYXIgZXhwcmVzc2lvbnMgdXNlZCBmb3IgYmluZGluZ1xuY29uc3QgSURFTlQgID0gJyg/OicgKyAnW2EtekEtWl8kXVtcXFxcdy46JFxcXFwtKl0qJyArICcpJztcbmNvbnN0IE5VTUJFUiA9ICcoPzonICsgJ1stK10/WzAtOV0qXFxcXC4/WzAtOV0rKD86W2VFXVstK10/WzAtOV0rKT8nICsgJyknO1xuY29uc3QgU1FVT1RFX1NUUklORyA9ICcoPzonICsgJ1xcJyg/OlteXFwnXFxcXFxcXFxdfFxcXFxcXFxcLikqXFwnJyArICcpJztcbmNvbnN0IERRVU9URV9TVFJJTkcgPSAnKD86JyArICdcIig/OlteXCJcXFxcXFxcXF18XFxcXFxcXFwuKSpcIicgKyAnKSc7XG5jb25zdCBTVFJJTkcgPSAnKD86JyArIFNRVU9URV9TVFJJTkcgKyAnfCcgKyBEUVVPVEVfU1RSSU5HICsgJyknO1xuY29uc3QgQVJHVU1FTlQgPSAnKD86KCcgKyBJREVOVCArICd8JyArIE5VTUJFUiArICd8JyArICBTVFJJTkcgKyAnKVxcXFxzKicgKyAnKSc7XG5jb25zdCBBUkdVTUVOVFMgPSAnKD86JyArIEFSR1VNRU5UICsgJyg/OixcXFxccyonICsgQVJHVU1FTlQgKyAnKSonICsgJyknO1xuY29uc3QgQVJHVU1FTlRfTElTVCA9ICcoPzonICsgJ1xcXFwoXFxcXHMqJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKD86JyArIEFSR1VNRU5UUyArICc/JyArICcpJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1xcXFwpXFxcXHMqJyArICcpJztcbmNvbnN0IEJJTkRJTkcgPSAnKCcgKyBJREVOVCArICdcXFxccyonICsgQVJHVU1FTlRfTElTVCArICc/JyArICcpJzsgLy8gR3JvdXAgM1xuY29uc3QgT1BFTl9CUkFDS0VUID0gJyhcXFxcW1xcXFxbfHt7KScgKyAnXFxcXHMqJztcbmNvbnN0IENMT1NFX0JSQUNLRVQgPSAnKD86XV18fX0pJztcbmNvbnN0IE5FR0FURSA9ICcoPzooISlcXFxccyopPyc7IC8vIEdyb3VwIDJcbmNvbnN0IEVYUFJFU1NJT04gPSBPUEVOX0JSQUNLRVQgKyBORUdBVEUgKyBCSU5ESU5HICsgQ0xPU0VfQlJBQ0tFVDtcbmNvbnN0IGJpbmRpbmdSZWdleCA9IG5ldyBSZWdFeHAoRVhQUkVTU0lPTiwgXCJnXCIpO1xuXG4vKipcbiAqIENyZWF0ZSBhIHN0cmluZyBmcm9tIGJpbmRpbmcgcGFydHMgb2YgYWxsIHRoZSBsaXRlcmFsIHBhcnRzXG4gKlxuICogQHBhcmFtIHshQXJyYXk8QmluZGluZ1BhcnQ+fSBwYXJ0cyBBbGwgcGFydHMgdG8gc3RyaW5naWZ5XG4gKiBAcmV0dXJuIHtzdHJpbmd9IFN0cmluZyBtYWRlIGZyb20gdGhlIGxpdGVyYWwgcGFydHNcbiAqL1xuZnVuY3Rpb24gbGl0ZXJhbEZyb21QYXJ0cyhwYXJ0cykge1xuICBsZXQgcyA9ICcnO1xuICBmb3IgKGxldCBpPTA7IGk8cGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgbGl0ZXJhbCA9IHBhcnRzW2ldLmxpdGVyYWw7XG4gICAgcyArPSBsaXRlcmFsIHx8ICcnO1xuICB9XG4gIHJldHVybiBzO1xufVxuXG4vKipcbiAqIFBhcnNlcyBhbiBleHByZXNzaW9uIHN0cmluZyBmb3IgYSBtZXRob2Qgc2lnbmF0dXJlLCBhbmQgcmV0dXJucyBhIG1ldGFkYXRhXG4gKiBkZXNjcmliaW5nIHRoZSBtZXRob2QgaW4gdGVybXMgb2YgYG1ldGhvZE5hbWVgLCBgc3RhdGljYCAod2hldGhlciBhbGwgdGhlXG4gKiBhcmd1bWVudHMgYXJlIGxpdGVyYWxzKSwgYW5kIGFuIGFycmF5IG9mIGBhcmdzYFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFRoZSBleHByZXNzaW9uIHRvIHBhcnNlXG4gKiBAcmV0dXJuIHs/TWV0aG9kU2lnbmF0dXJlfSBUaGUgbWV0aG9kIG1ldGFkYXRhIG9iamVjdCBpZiBhIG1ldGhvZCBleHByZXNzaW9uIHdhc1xuICogICBmb3VuZCwgb3RoZXJ3aXNlIGB1bmRlZmluZWRgXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBwYXJzZU1ldGhvZChleHByZXNzaW9uKSB7XG4gIC8vIHRyaWVzIHRvIG1hdGNoIHZhbGlkIGphdmFzY3JpcHQgcHJvcGVydHkgbmFtZXNcbiAgbGV0IG0gPSBleHByZXNzaW9uLm1hdGNoKC8oW15cXHNdKz8pXFwoKFtcXHNcXFNdKilcXCkvKTtcbiAgaWYgKG0pIHtcbiAgICBsZXQgbWV0aG9kTmFtZSA9IG1bMV07XG4gICAgbGV0IHNpZyA9IHsgbWV0aG9kTmFtZSwgc3RhdGljOiB0cnVlLCBhcmdzOiBlbXB0eUFycmF5IH07XG4gICAgaWYgKG1bMl0udHJpbSgpKSB7XG4gICAgICAvLyByZXBsYWNlIGVzY2FwZWQgY29tbWFzIHdpdGggY29tbWEgZW50aXR5LCBzcGxpdCBvbiB1bi1lc2NhcGVkIGNvbW1hc1xuICAgICAgbGV0IGFyZ3MgPSBtWzJdLnJlcGxhY2UoL1xcXFwsL2csICcmY29tbWE7Jykuc3BsaXQoJywnKTtcbiAgICAgIHJldHVybiBwYXJzZUFyZ3MoYXJncywgc2lnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHNpZztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogUGFyc2VzIGFuIGFycmF5IG9mIGFyZ3VtZW50cyBhbmQgc2V0cyB0aGUgYGFyZ3NgIHByb3BlcnR5IG9mIHRoZSBzdXBwbGllZFxuICogc2lnbmF0dXJlIG1ldGFkYXRhIG9iamVjdC4gU2V0cyB0aGUgYHN0YXRpY2AgcHJvcGVydHkgdG8gZmFsc2UgaWYgYW55XG4gKiBhcmd1bWVudCBpcyBhIG5vbi1saXRlcmFsLlxuICpcbiAqIEBwYXJhbSB7IUFycmF5PHN0cmluZz59IGFyZ0xpc3QgQXJyYXkgb2YgYXJndW1lbnQgbmFtZXNcbiAqIEBwYXJhbSB7IU1ldGhvZFNpZ25hdHVyZX0gc2lnIE1ldGhvZCBzaWduYXR1cmUgbWV0YWRhdGEgb2JqZWN0XG4gKiBAcmV0dXJuIHshTWV0aG9kU2lnbmF0dXJlfSBUaGUgdXBkYXRlZCBzaWduYXR1cmUgbWV0YWRhdGEgb2JqZWN0XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBwYXJzZUFyZ3MoYXJnTGlzdCwgc2lnKSB7XG4gIHNpZy5hcmdzID0gYXJnTGlzdC5tYXAoZnVuY3Rpb24ocmF3QXJnKSB7XG4gICAgbGV0IGFyZyA9IHBhcnNlQXJnKHJhd0FyZyk7XG4gICAgaWYgKCFhcmcubGl0ZXJhbCkge1xuICAgICAgc2lnLnN0YXRpYyA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gYXJnO1xuICB9LCB0aGlzKTtcbiAgcmV0dXJuIHNpZztcbn1cblxuLyoqXG4gKiBQYXJzZXMgYW4gaW5kaXZpZHVhbCBhcmd1bWVudCwgYW5kIHJldHVybnMgYW4gYXJndW1lbnQgbWV0YWRhdGEgb2JqZWN0XG4gKiB3aXRoIHRoZSBmb2xsb3dpbmcgZmllbGRzOlxuICpcbiAqICAge1xuICogICAgIHZhbHVlOiAncHJvcCcsICAgICAgICAvLyBwcm9wZXJ0eS9wYXRoIG9yIGxpdGVyYWwgdmFsdWVcbiAqICAgICBsaXRlcmFsOiBmYWxzZSwgICAgICAgLy8gd2hldGhlciBhcmd1bWVudCBpcyBhIGxpdGVyYWxcbiAqICAgICBzdHJ1Y3R1cmVkOiBmYWxzZSwgICAgLy8gd2hldGhlciB0aGUgcHJvcGVydHkgaXMgYSBwYXRoXG4gKiAgICAgcm9vdFByb3BlcnR5OiAncHJvcCcsIC8vIHRoZSByb290IHByb3BlcnR5IG9mIHRoZSBwYXRoXG4gKiAgICAgd2lsZGNhcmQ6IGZhbHNlICAgICAgIC8vIHdoZXRoZXIgdGhlIGFyZ3VtZW50IHdhcyBhIHdpbGRjYXJkICcuKicgcGF0aFxuICogICB9XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHJhd0FyZyBUaGUgc3RyaW5nIHZhbHVlIG9mIHRoZSBhcmd1bWVudFxuICogQHJldHVybiB7IU1ldGhvZEFyZ30gQXJndW1lbnQgbWV0YWRhdGEgb2JqZWN0XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBwYXJzZUFyZyhyYXdBcmcpIHtcbiAgLy8gY2xlYW4gdXAgd2hpdGVzcGFjZVxuICBsZXQgYXJnID0gcmF3QXJnLnRyaW0oKVxuICAgIC8vIHJlcGxhY2UgY29tbWEgZW50aXR5IHdpdGggY29tbWFcbiAgICAucmVwbGFjZSgvJmNvbW1hOy9nLCAnLCcpXG4gICAgLy8gcmVwYWlyIGV4dHJhIGVzY2FwZSBzZXF1ZW5jZXM7IG5vdGUgb25seSBjb21tYXMgc3RyaWN0bHkgbmVlZFxuICAgIC8vIGVzY2FwaW5nLCBidXQgd2UgYWxsb3cgYW55IG90aGVyIGNoYXIgdG8gYmUgZXNjYXBlZCBzaW5jZSBpdHNcbiAgICAvLyBsaWtlbHkgdXNlcnMgd2lsbCBkbyB0aGlzXG4gICAgLnJlcGxhY2UoL1xcXFwoLikvZywgJ1xcJDEnKVxuICAgIDtcbiAgLy8gYmFzaWMgYXJndW1lbnQgZGVzY3JpcHRvclxuICBsZXQgYSA9IHtcbiAgICBuYW1lOiBhcmcsXG4gICAgdmFsdWU6ICcnLFxuICAgIGxpdGVyYWw6IGZhbHNlXG4gIH07XG4gIC8vIGRldGVjdCBsaXRlcmFsIHZhbHVlIChtdXN0IGJlIFN0cmluZyBvciBOdW1iZXIpXG4gIGxldCBmYyA9IGFyZ1swXTtcbiAgaWYgKGZjID09PSAnLScpIHtcbiAgICBmYyA9IGFyZ1sxXTtcbiAgfVxuICBpZiAoZmMgPj0gJzAnICYmIGZjIDw9ICc5Jykge1xuICAgIGZjID0gJyMnO1xuICB9XG4gIHN3aXRjaChmYykge1xuICAgIGNhc2UgXCInXCI6XG4gICAgY2FzZSAnXCInOlxuICAgICAgYS52YWx1ZSA9IGFyZy5zbGljZSgxLCAtMSk7XG4gICAgICBhLmxpdGVyYWwgPSB0cnVlO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnIyc6XG4gICAgICBhLnZhbHVlID0gTnVtYmVyKGFyZyk7XG4gICAgICBhLmxpdGVyYWwgPSB0cnVlO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgLy8gaWYgbm90IGxpdGVyYWwsIGxvb2sgZm9yIHN0cnVjdHVyZWQgcGF0aFxuICBpZiAoIWEubGl0ZXJhbCkge1xuICAgIGEucm9vdFByb3BlcnR5ID0gcm9vdChhcmcpO1xuICAgIC8vIGRldGVjdCBzdHJ1Y3R1cmVkIHBhdGggKGhhcyBkb3RzKVxuICAgIGEuc3RydWN0dXJlZCA9IGlzUGF0aChhcmcpO1xuICAgIGlmIChhLnN0cnVjdHVyZWQpIHtcbiAgICAgIGEud2lsZGNhcmQgPSAoYXJnLnNsaWNlKC0yKSA9PSAnLionKTtcbiAgICAgIGlmIChhLndpbGRjYXJkKSB7XG4gICAgICAgIGEubmFtZSA9IGFyZy5zbGljZSgwLCAtMik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBhO1xufVxuXG5mdW5jdGlvbiBnZXRBcmdWYWx1ZShkYXRhLCBwcm9wcywgcGF0aCkge1xuICBsZXQgdmFsdWUgPSBnZXQoZGF0YSwgcGF0aCk7XG4gIC8vIHdoZW4gZGF0YSBpcyBub3Qgc3RvcmVkIGUuZy4gYHNwbGljZXNgLCBnZXQgdGhlIHZhbHVlIGZyb20gY2hhbmdlZFByb3BzXG4gIC8vIFRPRE8oa3NjaGFhZik6IE5vdGUsIHRoaXMgY2FuIGNhdXNlIGEgcmFyZSBpc3N1ZSB3aGVyZSB0aGUgd2lsZGNhcmRcbiAgLy8gaW5mby52YWx1ZSBjb3VsZCBwdWxsIGEgc3RhbGUgdmFsdWUgb3V0IG9mIGNoYW5nZWRQcm9wcyBkdXJpbmcgYSByZWVudHJhbnRcbiAgLy8gY2hhbmdlIHRoYXQgc2V0cyB0aGUgdmFsdWUgYmFjayB0byB1bmRlZmluZWQuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9Qb2x5bWVyL3BvbHltZXIvaXNzdWVzLzU0NzlcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICB2YWx1ZSA9IHByb3BzW3BhdGhdO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuLy8gZGF0YSBhcGlcblxuLyoqXG4gKiBTZW5kcyBhcnJheSBzcGxpY2Ugbm90aWZpY2F0aW9ucyAoYC5zcGxpY2VzYCBhbmQgYC5sZW5ndGhgKVxuICpcbiAqIE5vdGU6IHRoaXMgaW1wbGVtZW50YXRpb24gb25seSBhY2NlcHRzIG5vcm1hbGl6ZWQgcGF0aHNcbiAqXG4gKiBAcGFyYW0geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gaW5zdCBJbnN0YW5jZSB0byBzZW5kIG5vdGlmaWNhdGlvbnMgdG9cbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0aGUgbXV0YXRpb25zIG9jY3VycmVkIG9uXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCB0byB0aGUgYXJyYXkgdGhhdCB3YXMgbXV0YXRlZFxuICogQHBhcmFtIHtBcnJheX0gc3BsaWNlcyBBcnJheSBvZiBzcGxpY2UgcmVjb3Jkc1xuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIG5vdGlmeVNwbGljZXMoaW5zdCwgYXJyYXksIHBhdGgsIHNwbGljZXMpIHtcbiAgaW5zdC5ub3RpZnlQYXRoKHBhdGggKyAnLnNwbGljZXMnLCB7IGluZGV4U3BsaWNlczogc3BsaWNlcyB9KTtcbiAgaW5zdC5ub3RpZnlQYXRoKHBhdGggKyAnLmxlbmd0aCcsIGFycmF5Lmxlbmd0aCk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHNwbGljZSByZWNvcmQgYW5kIHNlbmRzIGFuIGFycmF5IHNwbGljZSBub3RpZmljYXRpb24gZm9yXG4gKiB0aGUgZGVzY3JpYmVkIG11dGF0aW9uXG4gKlxuICogTm90ZTogdGhpcyBpbXBsZW1lbnRhdGlvbiBvbmx5IGFjY2VwdHMgbm9ybWFsaXplZCBwYXRoc1xuICpcbiAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IEluc3RhbmNlIHRvIHNlbmQgbm90aWZpY2F0aW9ucyB0b1xuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRoZSBtdXRhdGlvbnMgb2NjdXJyZWQgb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIHRoZSBhcnJheSB0aGF0IHdhcyBtdXRhdGVkXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXggYXQgd2hpY2ggdGhlIGFycmF5IG11dGF0aW9uIG9jY3VycmVkXG4gKiBAcGFyYW0ge251bWJlcn0gYWRkZWRDb3VudCBOdW1iZXIgb2YgYWRkZWQgaXRlbXNcbiAqIEBwYXJhbSB7QXJyYXl9IHJlbW92ZWQgQXJyYXkgb2YgcmVtb3ZlZCBpdGVtc1xuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIG5vdGlmeVNwbGljZShpbnN0LCBhcnJheSwgcGF0aCwgaW5kZXgsIGFkZGVkQ291bnQsIHJlbW92ZWQpIHtcbiAgbm90aWZ5U3BsaWNlcyhpbnN0LCBhcnJheSwgcGF0aCwgW3tcbiAgICBpbmRleDogaW5kZXgsXG4gICAgYWRkZWRDb3VudDogYWRkZWRDb3VudCxcbiAgICByZW1vdmVkOiByZW1vdmVkLFxuICAgIG9iamVjdDogYXJyYXksXG4gICAgdHlwZTogJ3NwbGljZSdcbiAgfV0pO1xufVxuXG4vKipcbiAqIFJldHVybnMgYW4gdXBwZXItY2FzZWQgdmVyc2lvbiBvZiB0aGUgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFN0cmluZyB0byB1cHBlcmNhc2VcbiAqIEByZXR1cm4ge3N0cmluZ30gVXBwZXJjYXNlZCBzdHJpbmdcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHVwcGVyKG5hbWUpIHtcbiAgcmV0dXJuIG5hbWVbMF0udG9VcHBlckNhc2UoKSArIG5hbWUuc3Vic3RyaW5nKDEpO1xufVxuXG4vKipcbiAqIEVsZW1lbnQgY2xhc3MgbWl4aW4gdGhhdCBwcm92aWRlcyBtZXRhLXByb2dyYW1taW5nIGZvciBQb2x5bWVyJ3MgdGVtcGxhdGVcbiAqIGJpbmRpbmcgYW5kIGRhdGEgb2JzZXJ2YXRpb24gKGNvbGxlY3RpdmVseSwgXCJwcm9wZXJ0eSBlZmZlY3RzXCIpIHN5c3RlbS5cbiAqXG4gKiBUaGlzIG1peGluIHVzZXMgcHJvdmlkZXMgdGhlIGZvbGxvd2luZyBrZXkgc3RhdGljIG1ldGhvZHMgZm9yIGFkZGluZ1xuICogcHJvcGVydHkgZWZmZWN0cyB0byBhbiBlbGVtZW50IGNsYXNzOlxuICogLSBgYWRkUHJvcGVydHlFZmZlY3RgXG4gKiAtIGBjcmVhdGVQcm9wZXJ0eU9ic2VydmVyYFxuICogLSBgY3JlYXRlTWV0aG9kT2JzZXJ2ZXJgXG4gKiAtIGBjcmVhdGVOb3RpZnlpbmdQcm9wZXJ0eWBcbiAqIC0gYGNyZWF0ZVJlYWRPbmx5UHJvcGVydHlgXG4gKiAtIGBjcmVhdGVSZWZsZWN0ZWRQcm9wZXJ0eWBcbiAqIC0gYGNyZWF0ZUNvbXB1dGVkUHJvcGVydHlgXG4gKiAtIGBiaW5kVGVtcGxhdGVgXG4gKlxuICogRWFjaCBtZXRob2QgY3JlYXRlcyBvbmUgb3IgbW9yZSBwcm9wZXJ0eSBhY2Nlc3NvcnMsIGFsb25nIHdpdGggbWV0YWRhdGFcbiAqIHVzZWQgYnkgdGhpcyBtaXhpbidzIGltcGxlbWVudGF0aW9uIG9mIGBfcHJvcGVydGllc0NoYW5nZWRgIHRvIHBlcmZvcm1cbiAqIHRoZSBwcm9wZXJ0eSBlZmZlY3RzLlxuICpcbiAqIFVuZGVyc2NvcmVkIHZlcnNpb25zIG9mIHRoZSBhYm92ZSBtZXRob2RzIGFsc28gZXhpc3Qgb24gdGhlIGVsZW1lbnRcbiAqIHByb3RvdHlwZSBmb3IgYWRkaW5nIHByb3BlcnR5IGVmZmVjdHMgb24gaW5zdGFuY2VzIGF0IHJ1bnRpbWUuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgbWl4aW4gb3ZlcnJpZGVzIHNldmVyYWwgYFByb3BlcnR5QWNjZXNzb3JzYCBtZXRob2RzLCBpblxuICogbWFueSBjYXNlcyB0byBtYWludGFpbiBndWFyYW50ZWVzIHByb3ZpZGVkIGJ5IHRoZSBQb2x5bWVyIDEueCBmZWF0dXJlcztcbiAqIG5vdGFibHkgaXQgY2hhbmdlcyBwcm9wZXJ0eSBhY2Nlc3NvcnMgdG8gYmUgc3luY2hyb25vdXMgYnkgZGVmYXVsdFxuICogd2hlcmVhcyB0aGUgZGVmYXVsdCB3aGVuIHVzaW5nIGBQcm9wZXJ0eUFjY2Vzc29yc2Agc3RhbmRhbG9uZSBpcyB0byBiZVxuICogYXN5bmMgYnkgZGVmYXVsdC5cbiAqXG4gKiBAbWl4aW5GdW5jdGlvblxuICogQHBvbHltZXJcbiAqIEBhcHBsaWVzTWl4aW4gVGVtcGxhdGVTdGFtcFxuICogQGFwcGxpZXNNaXhpbiBQcm9wZXJ0eUFjY2Vzc29yc1xuICogQHN1bW1hcnkgRWxlbWVudCBjbGFzcyBtaXhpbiB0aGF0IHByb3ZpZGVzIG1ldGEtcHJvZ3JhbW1pbmcgZm9yIFBvbHltZXInc1xuICogdGVtcGxhdGUgYmluZGluZyBhbmQgZGF0YSBvYnNlcnZhdGlvbiBzeXN0ZW0uXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3MgQ2xhc3MgdG8gYXBwbHkgbWl4aW4gdG8uXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3Mgd2l0aCBtaXhpbiBhcHBsaWVkLlxuICovXG5leHBvcnQgY29uc3QgUHJvcGVydHlFZmZlY3RzID0gZGVkdXBpbmdNaXhpbihzdXBlckNsYXNzID0+IHtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX1Byb3BlcnR5QWNjZXNzb3JzfVxuICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9UZW1wbGF0ZVN0YW1wfVxuICAgKiBAdW5yZXN0cmljdGVkXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb25zdCBwcm9wZXJ0eUVmZmVjdHNCYXNlID0gVGVtcGxhdGVTdGFtcChQcm9wZXJ0eUFjY2Vzc29ycyhzdXBlckNsYXNzKSk7XG5cbiAgLyoqXG4gICAqIEBwb2x5bWVyXG4gICAqIEBtaXhpbkNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c31cbiAgICogQGV4dGVuZHMge3Byb3BlcnR5RWZmZWN0c0Jhc2V9XG4gICAqIEB1bnJlc3RyaWN0ZWRcbiAgICovXG4gIGNsYXNzIFByb3BlcnR5RWZmZWN0cyBleHRlbmRzIHByb3BlcnR5RWZmZWN0c0Jhc2Uge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlcigpO1xuICAgICAgLyoqIEB0eXBlIHtib29sZWFufSAqL1xuICAgICAgLy8gVXNlZCB0byBpZGVudGlmeSB1c2VycyBvZiB0aGlzIG1peGluLCBhbGEgaW5zdGFuY2VvZlxuICAgICAgdGhpcy5fX2lzUHJvcGVydHlFZmZlY3RzQ2xpZW50ID0gdHJ1ZTtcbiAgICAgIC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xuICAgICAgLy8gTk9URTogdXNlZCB0byB0cmFjayByZS1lbnRyYW50IGNhbGxzIHRvIGBfZmx1c2hQcm9wZXJ0aWVzYFxuICAgICAgLy8gcGF0aCBjaGFuZ2VzIGRpcnR5IGNoZWNrIGFnYWluc3QgYF9fZGF0YVRlbXBgIG9ubHkgZHVyaW5nIG9uZSBcInR1cm5cIlxuICAgICAgLy8gYW5kIGFyZSBjbGVhcmVkIHdoZW4gYF9fZGF0YUNvdW50ZXJgIHJldHVybnMgdG8gMC5cbiAgICAgIHRoaXMuX19kYXRhQ291bnRlciA9IDA7XG4gICAgICAvKiogQHR5cGUge2Jvb2xlYW59ICovXG4gICAgICB0aGlzLl9fZGF0YUNsaWVudHNSZWFkeTtcbiAgICAgIC8qKiBAdHlwZSB7QXJyYXl9ICovXG4gICAgICB0aGlzLl9fZGF0YVBlbmRpbmdDbGllbnRzO1xuICAgICAgLyoqIEB0eXBlIHtPYmplY3R9ICovXG4gICAgICB0aGlzLl9fZGF0YVRvTm90aWZ5O1xuICAgICAgLyoqIEB0eXBlIHtPYmplY3R9ICovXG4gICAgICB0aGlzLl9fZGF0YUxpbmtlZFBhdGhzO1xuICAgICAgLyoqIEB0eXBlIHtib29sZWFufSAqL1xuICAgICAgdGhpcy5fX2RhdGFIYXNQYXRocztcbiAgICAgIC8qKiBAdHlwZSB7T2JqZWN0fSAqL1xuICAgICAgdGhpcy5fX2RhdGFDb21wb3VuZFN0b3JhZ2U7XG4gICAgICAvKiogQHR5cGUge1BvbHltZXJfUHJvcGVydHlFZmZlY3RzfSAqL1xuICAgICAgdGhpcy5fX2RhdGFIb3N0O1xuICAgICAgLyoqIEB0eXBlIHshT2JqZWN0fSAqL1xuICAgICAgdGhpcy5fX2RhdGFUZW1wO1xuICAgICAgLyoqIEB0eXBlIHtib29sZWFufSAqL1xuICAgICAgdGhpcy5fX2RhdGFDbGllbnRzSW5pdGlhbGl6ZWQ7XG4gICAgICAvKiogQHR5cGUgeyFPYmplY3R9ICovXG4gICAgICB0aGlzLl9fZGF0YTtcbiAgICAgIC8qKiBAdHlwZSB7IU9iamVjdHxudWxsfSAqL1xuICAgICAgdGhpcy5fX2RhdGFQZW5kaW5nO1xuICAgICAgLyoqIEB0eXBlIHshT2JqZWN0fSAqL1xuICAgICAgdGhpcy5fX2RhdGFPbGQ7XG4gICAgICAvKiogQHR5cGUge09iamVjdH0gKi9cbiAgICAgIHRoaXMuX19jb21wdXRlRWZmZWN0cztcbiAgICAgIC8qKiBAdHlwZSB7T2JqZWN0fSAqL1xuICAgICAgdGhpcy5fX3JlZmxlY3RFZmZlY3RzO1xuICAgICAgLyoqIEB0eXBlIHtPYmplY3R9ICovXG4gICAgICB0aGlzLl9fbm90aWZ5RWZmZWN0cztcbiAgICAgIC8qKiBAdHlwZSB7T2JqZWN0fSAqL1xuICAgICAgdGhpcy5fX3Byb3BhZ2F0ZUVmZmVjdHM7XG4gICAgICAvKiogQHR5cGUge09iamVjdH0gKi9cbiAgICAgIHRoaXMuX19vYnNlcnZlRWZmZWN0cztcbiAgICAgIC8qKiBAdHlwZSB7T2JqZWN0fSAqL1xuICAgICAgdGhpcy5fX3JlYWRPbmx5O1xuICAgICAgLyoqIEB0eXBlIHshVGVtcGxhdGVJbmZvfSAqL1xuICAgICAgdGhpcy5fX3RlbXBsYXRlSW5mbztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHshT2JqZWN0PHN0cmluZywgc3RyaW5nPn0gRWZmZWN0IHByb3RvdHlwZSBwcm9wZXJ0eSBuYW1lIG1hcC5cbiAgICAgKi9cbiAgICBnZXQgUFJPUEVSVFlfRUZGRUNUX1RZUEVTKCkge1xuICAgICAgcmV0dXJuIFRZUEVTO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgX2luaXRpYWxpemVQcm9wZXJ0aWVzKCkge1xuICAgICAgc3VwZXIuX2luaXRpYWxpemVQcm9wZXJ0aWVzKCk7XG4gICAgICBob3N0U3RhY2sucmVnaXN0ZXJIb3N0KHRoaXMpO1xuICAgICAgdGhpcy5fX2RhdGFDbGllbnRzUmVhZHkgPSBmYWxzZTtcbiAgICAgIHRoaXMuX19kYXRhUGVuZGluZ0NsaWVudHMgPSBudWxsO1xuICAgICAgdGhpcy5fX2RhdGFUb05vdGlmeSA9IG51bGw7XG4gICAgICB0aGlzLl9fZGF0YUxpbmtlZFBhdGhzID0gbnVsbDtcbiAgICAgIHRoaXMuX19kYXRhSGFzUGF0aHMgPSBmYWxzZTtcbiAgICAgIC8vIE1heSBiZSBzZXQgb24gaW5zdGFuY2UgcHJpb3IgdG8gdXBncmFkZVxuICAgICAgdGhpcy5fX2RhdGFDb21wb3VuZFN0b3JhZ2UgPSB0aGlzLl9fZGF0YUNvbXBvdW5kU3RvcmFnZSB8fCBudWxsO1xuICAgICAgdGhpcy5fX2RhdGFIb3N0ID0gdGhpcy5fX2RhdGFIb3N0IHx8IG51bGw7XG4gICAgICB0aGlzLl9fZGF0YVRlbXAgPSB7fTtcbiAgICAgIHRoaXMuX19kYXRhQ2xpZW50c0luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIGBQcm9wZXJ0eUFjY2Vzc29yc2AgaW1wbGVtZW50YXRpb24gdG8gcHJvdmlkZSBhXG4gICAgICogbW9yZSBlZmZpY2llbnQgaW1wbGVtZW50YXRpb24gb2YgaW5pdGlhbGl6aW5nIHByb3BlcnRpZXMgZnJvbVxuICAgICAqIHRoZSBwcm90b3R5cGUgb24gdGhlIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BzIFByb3BlcnRpZXMgdG8gaW5pdGlhbGl6ZSBvbiB0aGUgcHJvdG90eXBlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBfaW5pdGlhbGl6ZVByb3RvUHJvcGVydGllcyhwcm9wcykge1xuICAgICAgdGhpcy5fX2RhdGEgPSBPYmplY3QuY3JlYXRlKHByb3BzKTtcbiAgICAgIHRoaXMuX19kYXRhUGVuZGluZyA9IE9iamVjdC5jcmVhdGUocHJvcHMpO1xuICAgICAgdGhpcy5fX2RhdGFPbGQgPSB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgYFByb3BlcnR5QWNjZXNzb3JzYCBpbXBsZW1lbnRhdGlvbiB0byBhdm9pZCBzZXR0aW5nXG4gICAgICogYF9zZXRQcm9wZXJ0eWAncyBgc2hvdWxkTm90aWZ5OiB0cnVlYC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBQcm9wZXJ0aWVzIHRvIGluaXRpYWxpemUgb24gdGhlIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBfaW5pdGlhbGl6ZUluc3RhbmNlUHJvcGVydGllcyhwcm9wcykge1xuICAgICAgbGV0IHJlYWRPbmx5ID0gdGhpc1tUWVBFUy5SRUFEX09OTFldO1xuICAgICAgZm9yIChsZXQgcHJvcCBpbiBwcm9wcykge1xuICAgICAgICBpZiAoIXJlYWRPbmx5IHx8ICFyZWFkT25seVtwcm9wXSkge1xuICAgICAgICAgIHRoaXMuX19kYXRhUGVuZGluZyA9IHRoaXMuX19kYXRhUGVuZGluZyB8fCB7fTtcbiAgICAgICAgICB0aGlzLl9fZGF0YU9sZCA9IHRoaXMuX19kYXRhT2xkIHx8IHt9O1xuICAgICAgICAgIHRoaXMuX19kYXRhW3Byb3BdID0gdGhpcy5fX2RhdGFQZW5kaW5nW3Byb3BdID0gcHJvcHNbcHJvcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBQcm90b3R5cGUgc2V0dXAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byBzdGF0aWMgYGFkZFByb3BlcnR5RWZmZWN0YCBBUEkgYnV0IGNhbiBiZSBjYWxsZWQgb25cbiAgICAgKiBhbiBpbnN0YW5jZSB0byBhZGQgZWZmZWN0cyBhdCBydW50aW1lLiAgU2VlIHRoYXQgbWV0aG9kIGZvclxuICAgICAqIGZ1bGwgQVBJIGRvY3MuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgdGhhdCBzaG91bGQgdHJpZ2dlciB0aGUgZWZmZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgRWZmZWN0IHR5cGUsIGZyb20gdGhpcy5QUk9QRVJUWV9FRkZFQ1RfVFlQRVNcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGVmZmVjdCBFZmZlY3QgbWV0YWRhdGEgb2JqZWN0XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2FkZFByb3BlcnR5RWZmZWN0KHByb3BlcnR5LCB0eXBlLCBlZmZlY3QpIHtcbiAgICAgIHRoaXMuX2NyZWF0ZVByb3BlcnR5QWNjZXNzb3IocHJvcGVydHksIHR5cGUgPT0gVFlQRVMuUkVBRF9PTkxZKTtcbiAgICAgIC8vIGVmZmVjdHMgYXJlIGFjY3VtdWxhdGVkIGludG8gYXJyYXlzIHBlciBwcm9wZXJ0eSBiYXNlZCBvbiB0eXBlXG4gICAgICBsZXQgZWZmZWN0cyA9IGVuc3VyZU93bkVmZmVjdE1hcCh0aGlzLCB0eXBlKVtwcm9wZXJ0eV07XG4gICAgICBpZiAoIWVmZmVjdHMpIHtcbiAgICAgICAgZWZmZWN0cyA9IHRoaXNbdHlwZV1bcHJvcGVydHldID0gW107XG4gICAgICB9XG4gICAgICBlZmZlY3RzLnB1c2goZWZmZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBnaXZlbiBwcm9wZXJ0eSBlZmZlY3QuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgdGhlIGVmZmVjdCB3YXMgYXNzb2NpYXRlZCB3aXRoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgRWZmZWN0IHR5cGUsIGZyb20gdGhpcy5QUk9QRVJUWV9FRkZFQ1RfVFlQRVNcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGVmZmVjdCBFZmZlY3QgbWV0YWRhdGEgb2JqZWN0IHRvIHJlbW92ZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgX3JlbW92ZVByb3BlcnR5RWZmZWN0KHByb3BlcnR5LCB0eXBlLCBlZmZlY3QpIHtcbiAgICAgIGxldCBlZmZlY3RzID0gZW5zdXJlT3duRWZmZWN0TWFwKHRoaXMsIHR5cGUpW3Byb3BlcnR5XTtcbiAgICAgIGxldCBpZHggPSBlZmZlY3RzLmluZGV4T2YoZWZmZWN0KTtcbiAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICBlZmZlY3RzLnNwbGljZShpZHgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgY3VycmVudCBwcm90b3R5cGUvaW5zdGFuY2UgaGFzIGEgcHJvcGVydHkgZWZmZWN0XG4gICAgICogb2YgYSBjZXJ0YWluIHR5cGUuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gdHlwZSBFZmZlY3QgdHlwZSwgZnJvbSB0aGlzLlBST1BFUlRZX0VGRkVDVF9UWVBFU1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIHByb3RvdHlwZS9pbnN0YW5jZSBoYXMgYW4gZWZmZWN0IG9mIHRoaXNcbiAgICAgKiAgICAgdHlwZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfaGFzUHJvcGVydHlFZmZlY3QocHJvcGVydHksIHR5cGUpIHtcbiAgICAgIGxldCBlZmZlY3RzID0gdGhpc1t0eXBlXTtcbiAgICAgIHJldHVybiBCb29sZWFuKGVmZmVjdHMgJiYgZWZmZWN0c1twcm9wZXJ0eV0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgY3VycmVudCBwcm90b3R5cGUvaW5zdGFuY2UgaGFzIGEgXCJyZWFkIG9ubHlcIlxuICAgICAqIGFjY2Vzc29yIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIHByb3RvdHlwZS9pbnN0YW5jZSBoYXMgYW4gZWZmZWN0IG9mIHRoaXNcbiAgICAgKiAgICAgdHlwZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfaGFzUmVhZE9ubHlFZmZlY3QocHJvcGVydHkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYXNQcm9wZXJ0eUVmZmVjdChwcm9wZXJ0eSwgVFlQRVMuUkVBRF9PTkxZKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGN1cnJlbnQgcHJvdG90eXBlL2luc3RhbmNlIGhhcyBhIFwibm90aWZ5XCJcbiAgICAgKiBwcm9wZXJ0eSBlZmZlY3QgZm9yIHRoZSBnaXZlbiBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSBuYW1lXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgcHJvdG90eXBlL2luc3RhbmNlIGhhcyBhbiBlZmZlY3Qgb2YgdGhpc1xuICAgICAqICAgICB0eXBlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9oYXNOb3RpZnlFZmZlY3QocHJvcGVydHkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYXNQcm9wZXJ0eUVmZmVjdChwcm9wZXJ0eSwgVFlQRVMuTk9USUZZKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGN1cnJlbnQgcHJvdG90eXBlL2luc3RhbmNlIGhhcyBhIFwicmVmbGVjdCB0b1xuICAgICAqIGF0dHJpYnV0ZVwiIHByb3BlcnR5IGVmZmVjdCBmb3IgdGhlIGdpdmVuIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBwcm90b3R5cGUvaW5zdGFuY2UgaGFzIGFuIGVmZmVjdCBvZiB0aGlzXG4gICAgICogICAgIHR5cGVcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2hhc1JlZmxlY3RFZmZlY3QocHJvcGVydHkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYXNQcm9wZXJ0eUVmZmVjdChwcm9wZXJ0eSwgVFlQRVMuUkVGTEVDVCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBjdXJyZW50IHByb3RvdHlwZS9pbnN0YW5jZSBoYXMgYSBcImNvbXB1dGVkXCJcbiAgICAgKiBwcm9wZXJ0eSBlZmZlY3QgZm9yIHRoZSBnaXZlbiBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSBuYW1lXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgcHJvdG90eXBlL2luc3RhbmNlIGhhcyBhbiBlZmZlY3Qgb2YgdGhpc1xuICAgICAqICAgICB0eXBlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9oYXNDb21wdXRlZEVmZmVjdChwcm9wZXJ0eSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2hhc1Byb3BlcnR5RWZmZWN0KHByb3BlcnR5LCBUWVBFUy5DT01QVVRFKTtcbiAgICB9XG5cbiAgICAvLyBSdW50aW1lIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8qKlxuICAgICAqIFNldHMgYSBwZW5kaW5nIHByb3BlcnR5IG9yIHBhdGguICBJZiB0aGUgcm9vdCBwcm9wZXJ0eSBvZiB0aGUgcGF0aCBpblxuICAgICAqIHF1ZXN0aW9uIGhhZCBubyBhY2Nlc3NvciwgdGhlIHBhdGggaXMgc2V0LCBvdGhlcndpc2UgaXQgaXMgZW5xdWV1ZWRcbiAgICAgKiB2aWEgYF9zZXRQZW5kaW5nUHJvcGVydHlgLlxuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpc29sYXRlcyByZWxhdGl2ZWx5IGV4cGVuc2l2ZSBmdW5jdGlvbmFsaXR5IG5lY2Vzc2FyeVxuICAgICAqIGZvciB0aGUgcHVibGljIEFQSSAoYHNldGAsIGBzZXRQcm9wZXJ0aWVzYCwgYG5vdGlmeVBhdGhgLCBhbmQgcHJvcGVydHlcbiAgICAgKiBjaGFuZ2UgbGlzdGVuZXJzIHZpYSB7ey4uLn19IGJpbmRpbmdzKSwgc3VjaCB0aGF0IGl0IGlzIG9ubHkgZG9uZVxuICAgICAqIHdoZW4gcGF0aHMgZW50ZXIgdGhlIHN5c3RlbSwgYW5kIG5vdCBhdCBldmVyeSBwcm9wYWdhdGlvbiBzdGVwLiAgSXRcbiAgICAgKiBhbHNvIHNldHMgYSBgX19kYXRhSGFzUGF0aHNgIGZsYWcgb24gdGhlIGluc3RhbmNlIHdoaWNoIGlzIHVzZWQgdG9cbiAgICAgKiBmYXN0LXBhdGggc2xvd2VyIHBhdGgtbWF0Y2hpbmcgY29kZSBpbiB0aGUgcHJvcGVydHkgZWZmZWN0cyBob3N0IHBhdGhzLlxuICAgICAqXG4gICAgICogYHBhdGhgIGNhbiBiZSBhIHBhdGggc3RyaW5nIG9yIGFycmF5IG9mIHBhdGggcGFydHMgYXMgYWNjZXB0ZWQgYnkgdGhlXG4gICAgICogcHVibGljIEFQSS5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgIUFycmF5PG51bWJlcnxzdHJpbmc+fSBwYXRoIFBhdGggdG8gc2V0XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byBzZXRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBzaG91bGROb3RpZnkgU2V0IHRvIHRydWUgaWYgdGhpcyBjaGFuZ2Ugc2hvdWxkXG4gICAgICogIGNhdXNlIGEgcHJvcGVydHkgbm90aWZpY2F0aW9uIGV2ZW50IGRpc3BhdGNoXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gaXNQYXRoTm90aWZpY2F0aW9uIElmIHRoZSBwYXRoIGJlaW5nIHNldCBpcyBhIHBhdGhcbiAgICAgKiAgIG5vdGlmaWNhdGlvbiBvZiBhbiBhbHJlYWR5IGNoYW5nZWQgdmFsdWUsIGFzIG9wcG9zZWQgdG8gYSByZXF1ZXN0XG4gICAgICogICB0byBzZXQgYW5kIG5vdGlmeSB0aGUgY2hhbmdlLiAgSW4gdGhlIGxhdHRlciBgZmFsc2VgIGNhc2UsIGEgZGlydHlcbiAgICAgKiAgIGNoZWNrIGlzIHBlcmZvcm1lZCBhbmQgdGhlbiB0aGUgdmFsdWUgaXMgc2V0IHRvIHRoZSBwYXRoIGJlZm9yZVxuICAgICAqICAgZW5xdWV1aW5nIHRoZSBwZW5kaW5nIHByb3BlcnR5IGNoYW5nZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgdGhlIHByb3BlcnR5L3BhdGggd2FzIGVucXVldWVkIGluXG4gICAgICogICB0aGUgcGVuZGluZyBjaGFuZ2VzIGJhZy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX3NldFBlbmRpbmdQcm9wZXJ0eU9yUGF0aChwYXRoLCB2YWx1ZSwgc2hvdWxkTm90aWZ5LCBpc1BhdGhOb3RpZmljYXRpb24pIHtcbiAgICAgIGlmIChpc1BhdGhOb3RpZmljYXRpb24gfHxcbiAgICAgICAgICByb290KEFycmF5LmlzQXJyYXkocGF0aCkgPyBwYXRoWzBdIDogcGF0aCkgIT09IHBhdGgpIHtcbiAgICAgICAgLy8gRGlydHkgY2hlY2sgY2hhbmdlcyBiZWluZyBzZXQgdG8gYSBwYXRoIGFnYWluc3QgdGhlIGFjdHVhbCBvYmplY3QsXG4gICAgICAgIC8vIHNpbmNlIHRoaXMgaXMgdGhlIGVudHJ5IHBvaW50IGZvciBwYXRocyBpbnRvIHRoZSBzeXN0ZW07IGZyb20gaGVyZVxuICAgICAgICAvLyB0aGUgb25seSBkaXJ0eSBjaGVja3MgYXJlIGFnYWluc3QgdGhlIGBfX2RhdGFUZW1wYCBjYWNoZSB0byBwcmV2ZW50XG4gICAgICAgIC8vIGR1cGxpY2F0ZSB3b3JrIGluIHRoZSBzYW1lIHR1cm4gb25seS4gTm90ZSwgaWYgdGhpcyB3YXMgYSBub3RpZmljYXRpb25cbiAgICAgICAgLy8gb2YgYSBjaGFuZ2UgYWxyZWFkeSBzZXQgdG8gYSBwYXRoIChpc1BhdGhOb3RpZmljYXRpb246IHRydWUpLFxuICAgICAgICAvLyB3ZSBhbHdheXMgbGV0IHRoZSBjaGFuZ2UgdGhyb3VnaCBhbmQgc2tpcCB0aGUgYHNldGAgc2luY2UgaXQgd2FzXG4gICAgICAgIC8vIGFscmVhZHkgZGlydHkgY2hlY2tlZCBhdCB0aGUgcG9pbnQgb2YgZW50cnkgYW5kIHRoZSB1bmRlcmx5aW5nXG4gICAgICAgIC8vIG9iamVjdCBoYXMgYWxyZWFkeSBiZWVuIHVwZGF0ZWRcbiAgICAgICAgaWYgKCFpc1BhdGhOb3RpZmljYXRpb24pIHtcbiAgICAgICAgICBsZXQgb2xkID0gZ2V0KHRoaXMsIHBhdGgpO1xuICAgICAgICAgIHBhdGggPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKHNldCh0aGlzLCBwYXRoLCB2YWx1ZSkpO1xuICAgICAgICAgIC8vIFVzZSBwcm9wZXJ0eS1hY2Nlc3NvcidzIHNpbXBsZXIgZGlydHkgY2hlY2tcbiAgICAgICAgICBpZiAoIXBhdGggfHwgIXN1cGVyLl9zaG91bGRQcm9wZXJ0eUNoYW5nZShwYXRoLCB2YWx1ZSwgb2xkKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9fZGF0YUhhc1BhdGhzID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX3NldFBlbmRpbmdQcm9wZXJ0eSgvKipAdHlwZXtzdHJpbmd9Ki8ocGF0aCksIHZhbHVlLCBzaG91bGROb3RpZnkpKSB7XG4gICAgICAgICAgY29tcHV0ZUxpbmtlZFBhdGhzKHRoaXMsIC8qKkB0eXBle3N0cmluZ30qLyAocGF0aCksIHZhbHVlKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMuX19kYXRhSGFzQWNjZXNzb3IgJiYgdGhpcy5fX2RhdGFIYXNBY2Nlc3NvcltwYXRoXSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9zZXRQZW5kaW5nUHJvcGVydHkoLyoqQHR5cGV7c3RyaW5nfSovKHBhdGgpLCB2YWx1ZSwgc2hvdWxkTm90aWZ5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzW3BhdGhdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgdmFsdWUgdG8gYSBub24tUG9seW1lciBlbGVtZW50L25vZGUncyBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIFRoZSBpbXBsZW1lbnRhdGlvbiBtYWtlcyBhIGJlc3QtZWZmb3J0IGF0IGJpbmRpbmcgaW50ZXJvcDpcbiAgICAgKiBTb21lIG5hdGl2ZSBlbGVtZW50IHByb3BlcnRpZXMgaGF2ZSBzaWRlLWVmZmVjdHMgd2hlblxuICAgICAqIHJlLXNldHRpbmcgdGhlIHNhbWUgdmFsdWUgKGUuZy4gc2V0dGluZyBgPGlucHV0Pi52YWx1ZWAgcmVzZXRzIHRoZVxuICAgICAqIGN1cnNvciBwb3NpdGlvbiksIHNvIHdlIGRvIGEgZGlydHktY2hlY2sgYmVmb3JlIHNldHRpbmcgdGhlIHZhbHVlLlxuICAgICAqIEhvd2V2ZXIsIGZvciBiZXR0ZXIgaW50ZXJvcCB3aXRoIG5vbi1Qb2x5bWVyIGN1c3RvbSBlbGVtZW50cyB0aGF0XG4gICAgICogYWNjZXB0IG9iamVjdHMsIHdlIGV4cGxpY2l0bHkgcmUtc2V0IG9iamVjdCBjaGFuZ2VzIGNvbWluZyBmcm9tIHRoZVxuICAgICAqIFBvbHltZXIgd29ybGQgKHdoaWNoIG1heSBpbmNsdWRlIGRlZXAgb2JqZWN0IGNoYW5nZXMgd2l0aG91dCB0aGVcbiAgICAgKiB0b3AgcmVmZXJlbmNlIGNoYW5naW5nKSwgZXJyaW5nIG9uIHRoZSBzaWRlIG9mIHByb3ZpZGluZyBtb3JlXG4gICAgICogaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBVc2VycyBtYXkgb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gcHJvdmlkZSBhbHRlcm5hdGUgYXBwcm9hY2hlcy5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7IU5vZGV9IG5vZGUgVGhlIG5vZGUgdG8gc2V0IGEgcHJvcGVydHkgb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcCBUaGUgcHJvcGVydHkgdG8gc2V0XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX3NldFVubWFuYWdlZFByb3BlcnR5VG9Ob2RlKG5vZGUsIHByb3AsIHZhbHVlKSB7XG4gICAgICAvLyBJdCBpcyBhIGp1ZGdtZW50IGNhbGwgdGhhdCByZXNldHRpbmcgcHJpbWl0aXZlcyBpc1xuICAgICAgLy8gXCJiYWRcIiBhbmQgcmVzZXR0aW5ncyBvYmplY3RzIGlzIGFsc28gXCJnb29kXCI7IGFsdGVybmF0aXZlbHkgd2UgY291bGRcbiAgICAgIC8vIGltcGxlbWVudCBhIHdoaXRlbGlzdCBvZiB0YWcgJiBwcm9wZXJ0eSB2YWx1ZXMgdGhhdCBzaG91bGQgbmV2ZXJcbiAgICAgIC8vIGJlIHJlc2V0IChlLmcuIDxpbnB1dD4udmFsdWUgJiYgPHNlbGVjdD4udmFsdWUpXG4gICAgICBpZiAodmFsdWUgIT09IG5vZGVbcHJvcF0gfHwgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIE5vdGUsIGNsYXNzTmFtZSBuZWVkcyBzdHlsZSBzY29waW5nIHNvIHRoaXMgbmVlZHMgd3JhcHBpbmcuXG4gICAgICAgIGlmIChwcm9wID09PSAnY2xhc3NOYW1lJykge1xuICAgICAgICAgIG5vZGUgPSAvKiogQHR5cGUgeyFOb2RlfSAqLyh3cmFwKG5vZGUpKTtcbiAgICAgICAgfVxuICAgICAgICBub2RlW3Byb3BdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIHRoZSBgUHJvcGVydGllc0NoYW5nZWRgIGltcGxlbWVudGF0aW9uIHRvIGludHJvZHVjZSBzcGVjaWFsXG4gICAgICogZGlydHkgY2hlY2sgbG9naWMgZGVwZW5kaW5nIG9uIHRoZSBwcm9wZXJ0eSAmIHZhbHVlIGJlaW5nIHNldDpcbiAgICAgKlxuICAgICAqIDEuIEFueSB2YWx1ZSBzZXQgdG8gYSBwYXRoIChlLmcuICdvYmoucHJvcCc6IDQyIG9yICdvYmoucHJvcCc6IHsuLi59KVxuICAgICAqICAgIFN0b3JlZCBpbiBgX19kYXRhVGVtcGAsIGRpcnR5IGNoZWNrZWQgYWdhaW5zdCBgX19kYXRhVGVtcGBcbiAgICAgKiAyLiBPYmplY3Qgc2V0IHRvIHNpbXBsZSBwcm9wZXJ0eSAoZS5nLiAncHJvcCc6IHsuLi59KVxuICAgICAqICAgIFN0b3JlZCBpbiBgX19kYXRhVGVtcGAgYW5kIGBfX2RhdGFgLCBkaXJ0eSBjaGVja2VkIGFnYWluc3RcbiAgICAgKiAgICBgX19kYXRhVGVtcGAgYnkgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiBgX3Nob3VsZFByb3BlcnR5Q2hhbmdlYFxuICAgICAqIDMuIFByaW1pdGl2ZSB2YWx1ZSBzZXQgdG8gc2ltcGxlIHByb3BlcnR5IChlLmcuICdwcm9wJzogNDIpXG4gICAgICogICAgU3RvcmVkIGluIGBfX2RhdGFgLCBkaXJ0eSBjaGVja2VkIGFnYWluc3QgYF9fZGF0YWBcbiAgICAgKlxuICAgICAqIFRoZSBkaXJ0eS1jaGVjayBpcyBpbXBvcnRhbnQgdG8gcHJldmVudCBjeWNsZXMgZHVlIHRvIHR3by13YXlcbiAgICAgKiBub3RpZmljYXRpb24sIGJ1dCBwYXRocyBhbmQgb2JqZWN0cyBhcmUgb25seSBkaXJ0eSBjaGVja2VkIGFnYWluc3QgYW55XG4gICAgICogcHJldmlvdXMgdmFsdWUgc2V0IGR1cmluZyB0aGlzIHR1cm4gdmlhIGEgXCJ0ZW1wb3JhcnkgY2FjaGVcIiB0aGF0IGlzXG4gICAgICogY2xlYXJlZCB3aGVuIHRoZSBsYXN0IGBfcHJvcGVydGllc0NoYW5nZWRgIGV4aXRzLiBUaGlzIGlzIHNvOlxuICAgICAqIGEuIGFueSBjYWNoZWQgYXJyYXkgcGF0aHMgKGUuZy4gJ2FycmF5LjMucHJvcCcpIG1heSBiZSBpbnZhbGlkYXRlZFxuICAgICAqICAgIGR1ZSB0byBhcnJheSBtdXRhdGlvbnMgbGlrZSBzaGlmdC91bnNoaWZ0L3NwbGljZTsgdGhpcyBpcyBmaW5lXG4gICAgICogICAgc2luY2UgcGF0aCBjaGFuZ2VzIGFyZSBkaXJ0eS1jaGVja2VkIGF0IHVzZXIgZW50cnkgcG9pbnRzIGxpa2UgYHNldGBcbiAgICAgKiBiLiBkaXJ0eS1jaGVja2luZyBmb3Igb2JqZWN0cyBvbmx5IGxhc3RzIG9uZSB0dXJuIHRvIGFsbG93IHRoZSB1c2VyXG4gICAgICogICAgdG8gbXV0YXRlIHRoZSBvYmplY3QgaW4tcGxhY2UgYW5kIHJlLXNldCBpdCB3aXRoIHRoZSBzYW1lIGlkZW50aXR5XG4gICAgICogICAgYW5kIGhhdmUgYWxsIHN1Yi1wcm9wZXJ0aWVzIHJlLXByb3BhZ2F0ZWQgaW4gYSBzdWJzZXF1ZW50IHR1cm4uXG4gICAgICpcbiAgICAgKiBUaGUgdGVtcCBjYWNoZSBpcyBub3QgbmVjZXNzYXJpbHkgc3VmZmljaWVudCB0byBwcmV2ZW50IGludmFsaWQgYXJyYXlcbiAgICAgKiBwYXRocywgc2luY2UgYSBzcGxpY2UgY2FuIGhhcHBlbiBkdXJpbmcgdGhlIHNhbWUgdHVybiAod2l0aCBwYXRob2xvZ2ljYWxcbiAgICAgKiB1c2VyIGNvZGUpOyB3ZSBjb3VsZCBpbnRyb2R1Y2UgYSBcImZpeHVwXCIgZm9yIHRlbXBvcmFyaWx5IGNhY2hlZCBhcnJheVxuICAgICAqIHBhdGhzIGlmIG5lZWRlZDogaHR0cHM6Ly9naXRodWIuY29tL1BvbHltZXIvcG9seW1lci9pc3N1ZXMvNDIyN1xuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IE5hbWUgb2YgdGhlIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byBzZXRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBzaG91bGROb3RpZnkgVHJ1ZSBpZiBwcm9wZXJ0eSBzaG91bGQgZmlyZSBub3RpZmljYXRpb25cbiAgICAgKiAgIGV2ZW50IChhcHBsaWVzIG9ubHkgZm9yIGBub3RpZnk6IHRydWVgIHByb3BlcnRpZXMpXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoZSBwcm9wZXJ0eSBjaGFuZ2VkXG4gICAgICovXG4gICAgX3NldFBlbmRpbmdQcm9wZXJ0eShwcm9wZXJ0eSwgdmFsdWUsIHNob3VsZE5vdGlmeSkge1xuICAgICAgbGV0IHByb3BJc1BhdGggPSB0aGlzLl9fZGF0YUhhc1BhdGhzICYmIGlzUGF0aChwcm9wZXJ0eSk7XG4gICAgICBsZXQgcHJldlByb3BzID0gcHJvcElzUGF0aCA/IHRoaXMuX19kYXRhVGVtcCA6IHRoaXMuX19kYXRhO1xuICAgICAgaWYgKHRoaXMuX3Nob3VsZFByb3BlcnR5Q2hhbmdlKHByb3BlcnR5LCB2YWx1ZSwgcHJldlByb3BzW3Byb3BlcnR5XSkpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9fZGF0YVBlbmRpbmcpIHtcbiAgICAgICAgICB0aGlzLl9fZGF0YVBlbmRpbmcgPSB7fTtcbiAgICAgICAgICB0aGlzLl9fZGF0YU9sZCA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIC8vIEVuc3VyZSBvbGQgaXMgY2FwdHVyZWQgZnJvbSB0aGUgbGFzdCB0dXJuXG4gICAgICAgIGlmICghKHByb3BlcnR5IGluIHRoaXMuX19kYXRhT2xkKSkge1xuICAgICAgICAgIHRoaXMuX19kYXRhT2xkW3Byb3BlcnR5XSA9IHRoaXMuX19kYXRhW3Byb3BlcnR5XTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQYXRocyBhcmUgc3RvcmVkIGluIHRlbXBvcmFyeSBjYWNoZSAoY2xlYXJlZCBhdCBlbmQgb2YgdHVybiksXG4gICAgICAgIC8vIHdoaWNoIGlzIHVzZWQgZm9yIGRpcnR5LWNoZWNraW5nLCBhbGwgb3RoZXJzIHN0b3JlZCBpbiBfX2RhdGFcbiAgICAgICAgaWYgKHByb3BJc1BhdGgpIHtcbiAgICAgICAgICB0aGlzLl9fZGF0YVRlbXBbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fX2RhdGFbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWxsIGNoYW5nZXMgZ28gaW50byBwZW5kaW5nIHByb3BlcnR5IGJhZywgcGFzc2VkIHRvIF9wcm9wZXJ0aWVzQ2hhbmdlZFxuICAgICAgICB0aGlzLl9fZGF0YVBlbmRpbmdbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIC8vIFRyYWNrIHByb3BlcnRpZXMgdGhhdCBzaG91bGQgbm90aWZ5IHNlcGFyYXRlbHlcbiAgICAgICAgaWYgKHByb3BJc1BhdGggfHwgKHRoaXNbVFlQRVMuTk9USUZZXSAmJiB0aGlzW1RZUEVTLk5PVElGWV1bcHJvcGVydHldKSkge1xuICAgICAgICAgIHRoaXMuX19kYXRhVG9Ob3RpZnkgPSB0aGlzLl9fZGF0YVRvTm90aWZ5IHx8IHt9O1xuICAgICAgICAgIHRoaXMuX19kYXRhVG9Ob3RpZnlbcHJvcGVydHldID0gc2hvdWxkTm90aWZ5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyBiYXNlIGltcGxlbWVudGF0aW9uIHRvIGVuc3VyZSBhbGwgYWNjZXNzb3JzIHNldCBgc2hvdWxkTm90aWZ5YFxuICAgICAqIHRvIHRydWUsIGZvciBwZXItcHJvcGVydHkgbm90aWZpY2F0aW9uIHRyYWNraW5nLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IE5hbWUgb2YgdGhlIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byBzZXRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIF9zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgIGlmICh0aGlzLl9zZXRQZW5kaW5nUHJvcGVydHkocHJvcGVydHksIHZhbHVlLCB0cnVlKSkge1xuICAgICAgICB0aGlzLl9pbnZhbGlkYXRlUHJvcGVydGllcygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyBgUHJvcGVydHlBY2Nlc3NvcmAncyBkZWZhdWx0IGFzeW5jIHF1ZXVpbmcgb2ZcbiAgICAgKiBgX3Byb3BlcnRpZXNDaGFuZ2VkYDogaWYgYF9fZGF0YVJlYWR5YCBpcyBmYWxzZSAoaGFzIG5vdCB5ZXQgYmVlblxuICAgICAqIG1hbnVhbGx5IGZsdXNoZWQpLCB0aGUgZnVuY3Rpb24gbm8tb3BzOyBvdGhlcndpc2UgZmx1c2hlc1xuICAgICAqIGBfcHJvcGVydGllc0NoYW5nZWRgIHN5bmNocm9ub3VzbHkuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIF9pbnZhbGlkYXRlUHJvcGVydGllcygpIHtcbiAgICAgIGlmICh0aGlzLl9fZGF0YVJlYWR5KSB7XG4gICAgICAgIHRoaXMuX2ZsdXNoUHJvcGVydGllcygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVucXVldWVzIHRoZSBnaXZlbiBjbGllbnQgb24gYSBsaXN0IG9mIHBlbmRpbmcgY2xpZW50cywgd2hvc2VcbiAgICAgKiBwZW5kaW5nIHByb3BlcnR5IGNoYW5nZXMgY2FuIGxhdGVyIGJlIGZsdXNoZWQgdmlhIGEgY2FsbCB0b1xuICAgICAqIGBfZmx1c2hDbGllbnRzYC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjbGllbnQgUHJvcGVydHlFZmZlY3RzIGNsaWVudCB0byBlbnF1ZXVlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2VucXVldWVDbGllbnQoY2xpZW50KSB7XG4gICAgICB0aGlzLl9fZGF0YVBlbmRpbmdDbGllbnRzID0gdGhpcy5fX2RhdGFQZW5kaW5nQ2xpZW50cyB8fCBbXTtcbiAgICAgIGlmIChjbGllbnQgIT09IHRoaXMpIHtcbiAgICAgICAgdGhpcy5fX2RhdGFQZW5kaW5nQ2xpZW50cy5wdXNoKGNsaWVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIHN1cGVyY2xhc3MgaW1wbGVtZW50YXRpb24uXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfZmx1c2hQcm9wZXJ0aWVzKCkge1xuICAgICAgdGhpcy5fX2RhdGFDb3VudGVyKys7XG4gICAgICBzdXBlci5fZmx1c2hQcm9wZXJ0aWVzKCk7XG4gICAgICB0aGlzLl9fZGF0YUNvdW50ZXItLTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGbHVzaGVzIGFueSBjbGllbnRzIHByZXZpb3VzbHkgZW5xdWV1ZWQgdmlhIGBfZW5xdWV1ZUNsaWVudGAsIGNhdXNpbmdcbiAgICAgKiB0aGVpciBgX2ZsdXNoUHJvcGVydGllc2AgbWV0aG9kIHRvIHJ1bi5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9mbHVzaENsaWVudHMoKSB7XG4gICAgICBpZiAoIXRoaXMuX19kYXRhQ2xpZW50c1JlYWR5KSB7XG4gICAgICAgIHRoaXMuX19kYXRhQ2xpZW50c1JlYWR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcmVhZHlDbGllbnRzKCk7XG4gICAgICAgIC8vIE92ZXJyaWRlIHBvaW50IHdoZXJlIGFjY2Vzc29ycyBhcmUgdHVybmVkIG9uOyBpbXBvcnRhbnRseSxcbiAgICAgICAgLy8gdGhpcyBpcyBhZnRlciBjbGllbnRzIGhhdmUgZnVsbHkgcmVhZGllZCwgcHJvdmlkaW5nIGEgZ3VhcmFudGVlXG4gICAgICAgIC8vIHRoYXQgYW55IHByb3BlcnR5IGVmZmVjdHMgb2NjdXIgb25seSBhZnRlciBhbGwgY2xpZW50cyBhcmUgcmVhZHkuXG4gICAgICAgIHRoaXMuX19kYXRhUmVhZHkgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fX2VuYWJsZU9yRmx1c2hDbGllbnRzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTk9URTogV2UgZW5zdXJlIGNsaWVudHMgZWl0aGVyIGVuYWJsZSBvciBmbHVzaCBhcyBhcHByb3ByaWF0ZS4gVGhpc1xuICAgIC8vIGhhbmRsZXMgdHdvIGNvcm5lciBjYXNlczpcbiAgICAvLyAoMSkgY2xpZW50cyBmbHVzaCBwcm9wZXJseSB3aGVuIGNvbm5lY3RlZC9lbmFibGVkIGJlZm9yZSB0aGUgaG9zdFxuICAgIC8vIGVuYWJsZXM7IGUuZy5cbiAgICAvLyAgIChhKSBUZW1wbGF0aXplIHN0YW1wcyB3aXRoIG5vIHByb3BlcnRpZXMgYW5kIGRvZXMgbm90IGZsdXNoIGFuZFxuICAgIC8vICAgKGIpIHRoZSBpbnN0YW5jZSBpcyBpbnNlcnRlZCBpbnRvIGRvbSBhbmRcbiAgICAvLyAgIChjKSB0aGVuIHRoZSBpbnN0YW5jZSBmbHVzaGVzLlxuICAgIC8vICgyKSBjbGllbnRzIGVuYWJsZSBwcm9wZXJseSB3aGVuIG5vdCBjb25uZWN0ZWQvZW5hYmxlZCB3aGVuIHRoZSBob3N0XG4gICAgLy8gZmx1c2hlczsgZS5nLlxuICAgIC8vICAgKGEpIGEgdGVtcGxhdGUgaXMgcnVudGltZSBzdGFtcGVkIGFuZCBub3QgeWV0IGNvbm5lY3RlZC9lbmFibGVkXG4gICAgLy8gICAoYikgYSBob3N0IHNldHMgYSBwcm9wZXJ0eSwgY2F1c2luZyBzdGFtcGVkIGRvbSB0byBmbHVzaFxuICAgIC8vICAgKGMpIHRoZSBzdGFtcGVkIGRvbSBlbmFibGVzLlxuICAgIF9fZW5hYmxlT3JGbHVzaENsaWVudHMoKSB7XG4gICAgICBsZXQgY2xpZW50cyA9IHRoaXMuX19kYXRhUGVuZGluZ0NsaWVudHM7XG4gICAgICBpZiAoY2xpZW50cykge1xuICAgICAgICB0aGlzLl9fZGF0YVBlbmRpbmdDbGllbnRzID0gbnVsbDtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgY2xpZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGxldCBjbGllbnQgPSBjbGllbnRzW2ldO1xuICAgICAgICAgIGlmICghY2xpZW50Ll9fZGF0YUVuYWJsZWQpIHtcbiAgICAgICAgICAgIGNsaWVudC5fZW5hYmxlUHJvcGVydGllcygpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY2xpZW50Ll9fZGF0YVBlbmRpbmcpIHtcbiAgICAgICAgICAgIGNsaWVudC5fZmx1c2hQcm9wZXJ0aWVzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybSBhbnkgaW5pdGlhbCBzZXR1cCBvbiBjbGllbnQgZG9tLiBDYWxsZWQgYmVmb3JlIHRoZSBmaXJzdFxuICAgICAqIGBfZmx1c2hQcm9wZXJ0aWVzYCBjYWxsIG9uIGNsaWVudCBkb20gYW5kIGJlZm9yZSBhbnkgZWxlbWVudFxuICAgICAqIG9ic2VydmVycyBhcmUgY2FsbGVkLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX3JlYWR5Q2xpZW50cygpIHtcbiAgICAgIHRoaXMuX19lbmFibGVPckZsdXNoQ2xpZW50cygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgYSBiYWcgb2YgcHJvcGVydHkgY2hhbmdlcyB0byB0aGlzIGluc3RhbmNlLCBhbmRcbiAgICAgKiBzeW5jaHJvbm91c2x5IHByb2Nlc3NlcyBhbGwgZWZmZWN0cyBvZiB0aGUgcHJvcGVydGllcyBhcyBhIGJhdGNoLlxuICAgICAqXG4gICAgICogUHJvcGVydHkgbmFtZXMgbXVzdCBiZSBzaW1wbGUgcHJvcGVydGllcywgbm90IHBhdGhzLiAgQmF0Y2hlZFxuICAgICAqIHBhdGggcHJvcGFnYXRpb24gaXMgbm90IHN1cHBvcnRlZC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBCYWcgb2Ygb25lIG9yIG1vcmUga2V5LXZhbHVlIHBhaXJzIHdob3NlIGtleSBpc1xuICAgICAqICAgYSBwcm9wZXJ0eSBhbmQgdmFsdWUgaXMgdGhlIG5ldyB2YWx1ZSB0byBzZXQgZm9yIHRoYXQgcHJvcGVydHkuXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gc2V0UmVhZE9ubHkgV2hlbiB0cnVlLCBhbnkgcHJpdmF0ZSB2YWx1ZXMgc2V0IGluXG4gICAgICogICBgcHJvcHNgIHdpbGwgYmUgc2V0LiBCeSBkZWZhdWx0LCBgc2V0UHJvcGVydGllc2Agd2lsbCBub3Qgc2V0XG4gICAgICogICBgcmVhZE9ubHk6IHRydWVgIHJvb3QgcHJvcGVydGllcy5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBzZXRQcm9wZXJ0aWVzKHByb3BzLCBzZXRSZWFkT25seSkge1xuICAgICAgZm9yIChsZXQgcGF0aCBpbiBwcm9wcykge1xuICAgICAgICBpZiAoc2V0UmVhZE9ubHkgfHwgIXRoaXNbVFlQRVMuUkVBRF9PTkxZXSB8fCAhdGhpc1tUWVBFUy5SRUFEX09OTFldW3BhdGhdKSB7XG4gICAgICAgICAgLy9UT0RPKGtzY2hhYWYpOiBleHBsaWNpdGx5IGRpc2FsbG93IHBhdGhzIGluIHNldFByb3BlcnR5P1xuICAgICAgICAgIC8vIHdpbGRjYXJkIG9ic2VydmVycyBjdXJyZW50bHkgb25seSBwYXNzIHRoZSBmaXJzdCBjaGFuZ2VkIHBhdGhcbiAgICAgICAgICAvLyBpbiB0aGUgYGluZm9gIG9iamVjdCwgYW5kIHlvdSBjb3VsZCBkbyBzb21lIG9kZCB0aGluZ3MgYmF0Y2hpbmdcbiAgICAgICAgICAvLyBwYXRocywgZS5nLiB7J2Zvby5iYXInOiB7Li4ufSwgJ2Zvbyc6IG51bGx9XG4gICAgICAgICAgdGhpcy5fc2V0UGVuZGluZ1Byb3BlcnR5T3JQYXRoKHBhdGgsIHByb3BzW3BhdGhdLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5faW52YWxpZGF0ZVByb3BlcnRpZXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgYFByb3BlcnR5QWNjZXNzb3JzYCBzbyB0aGF0IHByb3BlcnR5IGFjY2Vzc29yXG4gICAgICogc2lkZSBlZmZlY3RzIGFyZSBub3QgZW5hYmxlZCB1bnRpbCBhZnRlciBjbGllbnQgZG9tIGlzIGZ1bGx5IHJlYWR5LlxuICAgICAqIEFsc28gY2FsbHMgYF9mbHVzaENsaWVudHNgIGNhbGxiYWNrIHRvIGVuc3VyZSBjbGllbnQgZG9tIGlzIGVuYWJsZWRcbiAgICAgKiB0aGF0IHdhcyBub3QgZW5hYmxlZCBhcyBhIHJlc3VsdCBvZiBmbHVzaGluZyBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICByZWFkeSgpIHtcbiAgICAgIC8vIEl0IGlzIGltcG9ydGFudCB0aGF0IGBzdXBlci5yZWFkeSgpYCBpcyBub3QgY2FsbGVkIGhlcmUgYXMgaXRcbiAgICAgIC8vIGltbWVkaWF0ZWx5IHR1cm5zIG9uIGFjY2Vzc29ycy4gSW5zdGVhZCwgd2Ugd2FpdCB1bnRpbCBgcmVhZHlDbGllbnRzYFxuICAgICAgLy8gdG8gZW5hYmxlIGFjY2Vzc29ycyB0byBwcm92aWRlIGEgZ3VhcmFudGVlIHRoYXQgY2xpZW50cyBhcmUgcmVhZHlcbiAgICAgIC8vIGJlZm9yZSBwcm9jZXNzaW5nIGFueSBhY2Nlc3NvcnMgc2lkZSBlZmZlY3RzLlxuICAgICAgdGhpcy5fZmx1c2hQcm9wZXJ0aWVzKCk7XG4gICAgICAvLyBJZiBubyBkYXRhIHdhcyBwZW5kaW5nLCBgX2ZsdXNoUHJvcGVydGllc2Agd2lsbCBub3QgYGZsdXNoQ2xpZW50c2BcbiAgICAgIC8vIHNvIGVuc3VyZSB0aGlzIGlzIGRvbmUuXG4gICAgICBpZiAoIXRoaXMuX19kYXRhQ2xpZW50c1JlYWR5KSB7XG4gICAgICAgIHRoaXMuX2ZsdXNoQ2xpZW50cygpO1xuICAgICAgfVxuICAgICAgLy8gQmVmb3JlIHJlYWR5LCBjbGllbnQgbm90aWZpY2F0aW9ucyBkbyBub3QgdHJpZ2dlciBfZmx1c2hQcm9wZXJ0aWVzLlxuICAgICAgLy8gVGhlcmVmb3JlIGEgZmx1c2ggaXMgbmVjZXNzYXJ5IGhlcmUgaWYgZGF0YSBoYXMgYmVlbiBzZXQuXG4gICAgICBpZiAodGhpcy5fX2RhdGFQZW5kaW5nKSB7XG4gICAgICAgIHRoaXMuX2ZsdXNoUHJvcGVydGllcygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEltcGxlbWVudHMgYFByb3BlcnR5QWNjZXNzb3JzYCdzIHByb3BlcnRpZXMgY2hhbmdlZCBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIFJ1bnMgZWFjaCBjbGFzcyBvZiBlZmZlY3RzIGZvciB0aGUgYmF0Y2ggb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIGluXG4gICAgICogYSBzcGVjaWZpYyBvcmRlciAoY29tcHV0ZSwgcHJvcGFnYXRlLCByZWZsZWN0LCBvYnNlcnZlLCBub3RpZnkpLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHshT2JqZWN0fSBjdXJyZW50UHJvcHMgQmFnIG9mIGFsbCBjdXJyZW50IGFjY2Vzc29yIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7P09iamVjdH0gY2hhbmdlZFByb3BzIEJhZyBvZiBwcm9wZXJ0aWVzIGNoYW5nZWQgc2luY2UgdGhlIGxhc3RcbiAgICAgKiAgIGNhbGwgdG8gYF9wcm9wZXJ0aWVzQ2hhbmdlZGBcbiAgICAgKiBAcGFyYW0gez9PYmplY3R9IG9sZFByb3BzIEJhZyBvZiBwcmV2aW91cyB2YWx1ZXMgZm9yIGVhY2ggcHJvcGVydHlcbiAgICAgKiAgIGluIGBjaGFuZ2VkUHJvcHNgXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBfcHJvcGVydGllc0NoYW5nZWQoY3VycmVudFByb3BzLCBjaGFuZ2VkUHJvcHMsIG9sZFByb3BzKSB7XG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvLyBsZXQgYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGNoYW5nZWRQcm9wcyB8fCB7fSk7XG4gICAgICAvLyB3aW5kb3cuZGVidWcgJiYgY29uc29sZS5ncm91cCh0aGlzLmxvY2FsTmFtZSArICcjJyArIHRoaXMuaWQgKyAnOiAnICsgYyk7XG4gICAgICAvLyBpZiAod2luZG93LmRlYnVnKSB7IGRlYnVnZ2VyOyB9XG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICBsZXQgaGFzUGF0aHMgPSB0aGlzLl9fZGF0YUhhc1BhdGhzO1xuICAgICAgdGhpcy5fX2RhdGFIYXNQYXRocyA9IGZhbHNlO1xuICAgICAgLy8gQ29tcHV0ZSBwcm9wZXJ0aWVzXG4gICAgICBydW5Db21wdXRlZEVmZmVjdHModGhpcywgY2hhbmdlZFByb3BzLCBvbGRQcm9wcywgaGFzUGF0aHMpO1xuICAgICAgLy8gQ2xlYXIgbm90aWZ5IHByb3BlcnRpZXMgcHJpb3IgdG8gcG9zc2libGUgcmVlbnRyeSAocHJvcGFnYXRlLCBvYnNlcnZlKSxcbiAgICAgIC8vIGJ1dCBhZnRlciBjb21wdXRpbmcgZWZmZWN0cyBoYXZlIGEgY2hhbmNlIHRvIGFkZCB0byB0aGVtXG4gICAgICBsZXQgbm90aWZ5UHJvcHMgPSB0aGlzLl9fZGF0YVRvTm90aWZ5O1xuICAgICAgdGhpcy5fX2RhdGFUb05vdGlmeSA9IG51bGw7XG4gICAgICAvLyBQcm9wYWdhdGUgcHJvcGVydGllcyB0byBjbGllbnRzXG4gICAgICB0aGlzLl9wcm9wYWdhdGVQcm9wZXJ0eUNoYW5nZXMoY2hhbmdlZFByb3BzLCBvbGRQcm9wcywgaGFzUGF0aHMpO1xuICAgICAgLy8gRmx1c2ggY2xpZW50c1xuICAgICAgdGhpcy5fZmx1c2hDbGllbnRzKCk7XG4gICAgICAvLyBSZWZsZWN0IHByb3BlcnRpZXNcbiAgICAgIHJ1bkVmZmVjdHModGhpcywgdGhpc1tUWVBFUy5SRUZMRUNUXSwgY2hhbmdlZFByb3BzLCBvbGRQcm9wcywgaGFzUGF0aHMpO1xuICAgICAgLy8gT2JzZXJ2ZSBwcm9wZXJ0aWVzXG4gICAgICBydW5FZmZlY3RzKHRoaXMsIHRoaXNbVFlQRVMuT0JTRVJWRV0sIGNoYW5nZWRQcm9wcywgb2xkUHJvcHMsIGhhc1BhdGhzKTtcbiAgICAgIC8vIE5vdGlmeSBwcm9wZXJ0aWVzIHRvIGhvc3RcbiAgICAgIGlmIChub3RpZnlQcm9wcykge1xuICAgICAgICBydW5Ob3RpZnlFZmZlY3RzKHRoaXMsIG5vdGlmeVByb3BzLCBjaGFuZ2VkUHJvcHMsIG9sZFByb3BzLCBoYXNQYXRocyk7XG4gICAgICB9XG4gICAgICAvLyBDbGVhciB0ZW1wb3JhcnkgY2FjaGUgYXQgZW5kIG9mIHR1cm5cbiAgICAgIGlmICh0aGlzLl9fZGF0YUNvdW50ZXIgPT0gMSkge1xuICAgICAgICB0aGlzLl9fZGF0YVRlbXAgPSB7fTtcbiAgICAgIH1cbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIHdpbmRvdy5kZWJ1ZyAmJiBjb25zb2xlLmdyb3VwRW5kKHRoaXMubG9jYWxOYW1lICsgJyMnICsgdGhpcy5pZCArICc6ICcgKyBjKTtcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdG8gcHJvcGFnYXRlIGFueSBwcm9wZXJ0eSBjaGFuZ2VzIHRvIHN0YW1wZWQgdGVtcGxhdGUgbm9kZXNcbiAgICAgKiBtYW5hZ2VkIGJ5IHRoaXMgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjaGFuZ2VkUHJvcHMgQmFnIG9mIGNoYW5nZWQgcHJvcGVydGllc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvbGRQcm9wcyBCYWcgb2YgcHJldmlvdXMgdmFsdWVzIGZvciBjaGFuZ2VkIHByb3BlcnRpZXNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhhc1BhdGhzIFRydWUgd2l0aCBgcHJvcHNgIGNvbnRhaW5zIG9uZSBvciBtb3JlIHBhdGhzXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX3Byb3BhZ2F0ZVByb3BlcnR5Q2hhbmdlcyhjaGFuZ2VkUHJvcHMsIG9sZFByb3BzLCBoYXNQYXRocykge1xuICAgICAgaWYgKHRoaXNbVFlQRVMuUFJPUEFHQVRFXSkge1xuICAgICAgICBydW5FZmZlY3RzKHRoaXMsIHRoaXNbVFlQRVMuUFJPUEFHQVRFXSwgY2hhbmdlZFByb3BzLCBvbGRQcm9wcywgaGFzUGF0aHMpO1xuICAgICAgfVxuICAgICAgbGV0IHRlbXBsYXRlSW5mbyA9IHRoaXMuX190ZW1wbGF0ZUluZm87XG4gICAgICB3aGlsZSAodGVtcGxhdGVJbmZvKSB7XG4gICAgICAgIHJ1bkVmZmVjdHModGhpcywgdGVtcGxhdGVJbmZvLnByb3BlcnR5RWZmZWN0cywgY2hhbmdlZFByb3BzLCBvbGRQcm9wcyxcbiAgICAgICAgICBoYXNQYXRocywgdGVtcGxhdGVJbmZvLm5vZGVMaXN0KTtcbiAgICAgICAgdGVtcGxhdGVJbmZvID0gdGVtcGxhdGVJbmZvLm5leHRUZW1wbGF0ZUluZm87XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxpYXNlcyBvbmUgZGF0YSBwYXRoIGFzIGFub3RoZXIsIHN1Y2ggdGhhdCBwYXRoIG5vdGlmaWNhdGlvbnMgZnJvbSBvbmVcbiAgICAgKiBhcmUgcm91dGVkIHRvIHRoZSBvdGhlci5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgIUFycmF5PHN0cmluZ3xudW1iZXI+fSB0byBUYXJnZXQgcGF0aCB0byBsaW5rLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgIUFycmF5PHN0cmluZ3xudW1iZXI+fSBmcm9tIFNvdXJjZSBwYXRoIHRvIGxpbmsuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgbGlua1BhdGhzKHRvLCBmcm9tKSB7XG4gICAgICB0byA9IG5vcm1hbGl6ZSh0byk7XG4gICAgICBmcm9tID0gbm9ybWFsaXplKGZyb20pO1xuICAgICAgdGhpcy5fX2RhdGFMaW5rZWRQYXRocyA9IHRoaXMuX19kYXRhTGlua2VkUGF0aHMgfHwge307XG4gICAgICB0aGlzLl9fZGF0YUxpbmtlZFBhdGhzW3RvXSA9IGZyb207XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGRhdGEgcGF0aCBhbGlhcyBwcmV2aW91c2x5IGVzdGFibGlzaGVkIHdpdGggYF9saW5rUGF0aHNgLlxuICAgICAqXG4gICAgICogTm90ZSwgdGhlIHBhdGggdG8gdW5saW5rIHNob3VsZCBiZSB0aGUgdGFyZ2V0IChgdG9gKSB1c2VkIHdoZW5cbiAgICAgKiBsaW5raW5nIHRoZSBwYXRocy5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgIUFycmF5PHN0cmluZ3xudW1iZXI+fSBwYXRoIFRhcmdldCBwYXRoIHRvIHVubGluay5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICB1bmxpbmtQYXRocyhwYXRoKSB7XG4gICAgICBwYXRoID0gbm9ybWFsaXplKHBhdGgpO1xuICAgICAgaWYgKHRoaXMuX19kYXRhTGlua2VkUGF0aHMpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX19kYXRhTGlua2VkUGF0aHNbcGF0aF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTm90aWZ5IHRoYXQgYW4gYXJyYXkgaGFzIGNoYW5nZWQuXG4gICAgICpcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqXG4gICAgICogICAgIHRoaXMuaXRlbXMgPSBbIHtuYW1lOiAnSmltJ30sIHtuYW1lOiAnVG9kZCd9LCB7bmFtZTogJ0JpbGwnfSBdO1xuICAgICAqICAgICAuLi5cbiAgICAgKiAgICAgdGhpcy5pdGVtcy5zcGxpY2UoMSwgMSwge25hbWU6ICdTYW0nfSk7XG4gICAgICogICAgIHRoaXMuaXRlbXMucHVzaCh7bmFtZTogJ0JvYid9KTtcbiAgICAgKiAgICAgdGhpcy5ub3RpZnlTcGxpY2VzKCdpdGVtcycsIFtcbiAgICAgKiAgICAgICB7IGluZGV4OiAxLCByZW1vdmVkOiBbe25hbWU6ICdUb2RkJ31dLCBhZGRlZENvdW50OiAxLFxuICAgICAqICAgICAgICAgb2JqZWN0OiB0aGlzLml0ZW1zLCB0eXBlOiAnc3BsaWNlJyB9LFxuICAgICAqICAgICAgIHsgaW5kZXg6IDMsIHJlbW92ZWQ6IFtdLCBhZGRlZENvdW50OiAxLFxuICAgICAqICAgICAgICAgb2JqZWN0OiB0aGlzLml0ZW1zLCB0eXBlOiAnc3BsaWNlJ31cbiAgICAgKiAgICAgXSk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBQYXRoIHRoYXQgc2hvdWxkIGJlIG5vdGlmaWVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHNwbGljZXMgQXJyYXkgb2Ygc3BsaWNlIHJlY29yZHMgaW5kaWNhdGluZyBvcmRlcmVkXG4gICAgICogICBjaGFuZ2VzIHRoYXQgb2NjdXJyZWQgdG8gdGhlIGFycmF5LiBFYWNoIHJlY29yZCBzaG91bGQgaGF2ZSB0aGVcbiAgICAgKiAgIGZvbGxvd2luZyBmaWVsZHM6XG4gICAgICogICAgKiBpbmRleDogaW5kZXggYXQgd2hpY2ggdGhlIGNoYW5nZSBvY2N1cnJlZFxuICAgICAqICAgICogcmVtb3ZlZDogYXJyYXkgb2YgaXRlbXMgdGhhdCB3ZXJlIHJlbW92ZWQgZnJvbSB0aGlzIGluZGV4XG4gICAgICogICAgKiBhZGRlZENvdW50OiBudW1iZXIgb2YgbmV3IGl0ZW1zIGFkZGVkIGF0IHRoaXMgaW5kZXhcbiAgICAgKiAgICAqIG9iamVjdDogYSByZWZlcmVuY2UgdG8gdGhlIGFycmF5IGluIHF1ZXN0aW9uXG4gICAgICogICAgKiB0eXBlOiB0aGUgc3RyaW5nIGxpdGVyYWwgJ3NwbGljZSdcbiAgICAgKlxuICAgICAqICAgTm90ZSB0aGF0IHNwbGljZSByZWNvcmRzIF9tdXN0XyBiZSBub3JtYWxpemVkIHN1Y2ggdGhhdCB0aGV5IGFyZVxuICAgICAqICAgcmVwb3J0ZWQgaW4gaW5kZXggb3JkZXIgKHJhdyByZXN1bHRzIGZyb20gYE9iamVjdC5vYnNlcnZlYCBhcmUgbm90XG4gICAgICogICBvcmRlcmVkIGFuZCBtdXN0IGJlIG5vcm1hbGl6ZWQvbWVyZ2VkIGJlZm9yZSBub3RpZnlpbmcpLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgbm90aWZ5U3BsaWNlcyhwYXRoLCBzcGxpY2VzKSB7XG4gICAgICBsZXQgaW5mbyA9IHtwYXRoOiAnJ307XG4gICAgICBsZXQgYXJyYXkgPSAvKiogQHR5cGUge0FycmF5fSAqLyhnZXQodGhpcywgcGF0aCwgaW5mbykpO1xuICAgICAgbm90aWZ5U3BsaWNlcyh0aGlzLCBhcnJheSwgaW5mby5wYXRoLCBzcGxpY2VzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgZm9yIHJlYWRpbmcgYSB2YWx1ZSBmcm9tIGEgcGF0aC5cbiAgICAgKlxuICAgICAqIE5vdGUsIGlmIGFueSBwYXJ0IGluIHRoZSBwYXRoIGlzIHVuZGVmaW5lZCwgdGhpcyBtZXRob2QgcmV0dXJuc1xuICAgICAqIGB1bmRlZmluZWRgICh0aGlzIG1ldGhvZCBkb2VzIG5vdCB0aHJvdyB3aGVuIGRlcmVmZXJlbmNpbmcgdW5kZWZpbmVkXG4gICAgICogcGF0aHMpLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHsoc3RyaW5nfCFBcnJheTwoc3RyaW5nfG51bWJlcik+KX0gcGF0aCBQYXRoIHRvIHRoZSB2YWx1ZVxuICAgICAqICAgdG8gcmVhZC4gIFRoZSBwYXRoIG1heSBiZSBzcGVjaWZpZWQgYXMgYSBzdHJpbmcgKGUuZy4gYGZvby5iYXIuYmF6YClcbiAgICAgKiAgIG9yIGFuIGFycmF5IG9mIHBhdGggcGFydHMgKGUuZy4gYFsnZm9vLmJhcicsICdiYXonXWApLiAgTm90ZSB0aGF0XG4gICAgICogICBicmFja2V0ZWQgZXhwcmVzc2lvbnMgYXJlIG5vdCBzdXBwb3J0ZWQ7IHN0cmluZy1iYXNlZCBwYXRoIHBhcnRzXG4gICAgICogICAqbXVzdCogYmUgc2VwYXJhdGVkIGJ5IGRvdHMuICBOb3RlIHRoYXQgd2hlbiBkZXJlZmVyZW5jaW5nIGFycmF5XG4gICAgICogICBpbmRpY2VzLCB0aGUgaW5kZXggbWF5IGJlIHVzZWQgYXMgYSBkb3R0ZWQgcGFydCBkaXJlY3RseVxuICAgICAqICAgKGUuZy4gYHVzZXJzLjEyLm5hbWVgIG9yIGBbJ3VzZXJzJywgMTIsICduYW1lJ11gKS5cbiAgICAgKiBAcGFyYW0ge09iamVjdD19IHJvb3QgUm9vdCBvYmplY3QgZnJvbSB3aGljaCB0aGUgcGF0aCBpcyBldmFsdWF0ZWQuXG4gICAgICogQHJldHVybiB7Kn0gVmFsdWUgYXQgdGhlIHBhdGgsIG9yIGB1bmRlZmluZWRgIGlmIGFueSBwYXJ0IG9mIHRoZSBwYXRoXG4gICAgICogICBpcyB1bmRlZmluZWQuXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGdldChwYXRoLCByb290KSB7XG4gICAgICByZXR1cm4gZ2V0KHJvb3QgfHwgdGhpcywgcGF0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgbWV0aG9kIGZvciBzZXR0aW5nIGEgdmFsdWUgdG8gYSBwYXRoIGFuZCBub3RpZnlpbmcgYW55XG4gICAgICogZWxlbWVudHMgYm91bmQgdG8gdGhlIHNhbWUgcGF0aC5cbiAgICAgKlxuICAgICAqIE5vdGUsIGlmIGFueSBwYXJ0IGluIHRoZSBwYXRoIGV4Y2VwdCBmb3IgdGhlIGxhc3QgaXMgdW5kZWZpbmVkLFxuICAgICAqIHRoaXMgbWV0aG9kIGRvZXMgbm90aGluZyAodGhpcyBtZXRob2QgZG9lcyBub3QgdGhyb3cgd2hlblxuICAgICAqIGRlcmVmZXJlbmNpbmcgdW5kZWZpbmVkIHBhdGhzKS5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7KHN0cmluZ3whQXJyYXk8KHN0cmluZ3xudW1iZXIpPil9IHBhdGggUGF0aCB0byB0aGUgdmFsdWVcbiAgICAgKiAgIHRvIHdyaXRlLiAgVGhlIHBhdGggbWF5IGJlIHNwZWNpZmllZCBhcyBhIHN0cmluZyAoZS5nLiBgJ2Zvby5iYXIuYmF6J2ApXG4gICAgICogICBvciBhbiBhcnJheSBvZiBwYXRoIHBhcnRzIChlLmcuIGBbJ2Zvby5iYXInLCAnYmF6J11gKS4gIE5vdGUgdGhhdFxuICAgICAqICAgYnJhY2tldGVkIGV4cHJlc3Npb25zIGFyZSBub3Qgc3VwcG9ydGVkOyBzdHJpbmctYmFzZWQgcGF0aCBwYXJ0c1xuICAgICAqICAgKm11c3QqIGJlIHNlcGFyYXRlZCBieSBkb3RzLiAgTm90ZSB0aGF0IHdoZW4gZGVyZWZlcmVuY2luZyBhcnJheVxuICAgICAqICAgaW5kaWNlcywgdGhlIGluZGV4IG1heSBiZSB1c2VkIGFzIGEgZG90dGVkIHBhcnQgZGlyZWN0bHlcbiAgICAgKiAgIChlLmcuIGAndXNlcnMuMTIubmFtZSdgIG9yIGBbJ3VzZXJzJywgMTIsICduYW1lJ11gKS5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIHNldCBhdCB0aGUgc3BlY2lmaWVkIHBhdGguXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSByb290IFJvb3Qgb2JqZWN0IGZyb20gd2hpY2ggdGhlIHBhdGggaXMgZXZhbHVhdGVkLlxuICAgICAqICAgV2hlbiBzcGVjaWZpZWQsIG5vIG5vdGlmaWNhdGlvbiB3aWxsIG9jY3VyLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIHNldChwYXRoLCB2YWx1ZSwgcm9vdCkge1xuICAgICAgaWYgKHJvb3QpIHtcbiAgICAgICAgc2V0KHJvb3QsIHBhdGgsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghdGhpc1tUWVBFUy5SRUFEX09OTFldIHx8ICF0aGlzW1RZUEVTLlJFQURfT05MWV1bLyoqIEB0eXBlIHtzdHJpbmd9ICovKHBhdGgpXSkge1xuICAgICAgICAgIGlmICh0aGlzLl9zZXRQZW5kaW5nUHJvcGVydHlPclBhdGgocGF0aCwgdmFsdWUsIHRydWUpKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnZhbGlkYXRlUHJvcGVydGllcygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgaXRlbXMgb250byB0aGUgZW5kIG9mIHRoZSBhcnJheSBhdCB0aGUgcGF0aCBzcGVjaWZpZWQuXG4gICAgICpcbiAgICAgKiBUaGUgYXJndW1lbnRzIGFmdGVyIGBwYXRoYCBhbmQgcmV0dXJuIHZhbHVlIG1hdGNoIHRoYXQgb2ZcbiAgICAgKiBgQXJyYXkucHJvdG90eXBlLnB1c2hgLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2Qgbm90aWZpZXMgb3RoZXIgcGF0aHMgdG8gdGhlIHNhbWUgYXJyYXkgdGhhdCBhXG4gICAgICogc3BsaWNlIG9jY3VycmVkIHRvIHRoZSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgIUFycmF5PHN0cmluZ3xudW1iZXI+fSBwYXRoIFBhdGggdG8gYXJyYXkuXG4gICAgICogQHBhcmFtIHsuLi4qfSBpdGVtcyBJdGVtcyB0byBwdXNoIG9udG8gYXJyYXlcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE5ldyBsZW5ndGggb2YgdGhlIGFycmF5LlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBwdXNoKHBhdGgsIC4uLml0ZW1zKSB7XG4gICAgICBsZXQgaW5mbyA9IHtwYXRoOiAnJ307XG4gICAgICBsZXQgYXJyYXkgPSAvKiogQHR5cGUge0FycmF5fSovKGdldCh0aGlzLCBwYXRoLCBpbmZvKSk7XG4gICAgICBsZXQgbGVuID0gYXJyYXkubGVuZ3RoO1xuICAgICAgbGV0IHJldCA9IGFycmF5LnB1c2goLi4uaXRlbXMpO1xuICAgICAgaWYgKGl0ZW1zLmxlbmd0aCkge1xuICAgICAgICBub3RpZnlTcGxpY2UodGhpcywgYXJyYXksIGluZm8ucGF0aCwgbGVuLCBpdGVtcy5sZW5ndGgsIFtdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbiBpdGVtIGZyb20gdGhlIGVuZCBvZiBhcnJheSBhdCB0aGUgcGF0aCBzcGVjaWZpZWQuXG4gICAgICpcbiAgICAgKiBUaGUgYXJndW1lbnRzIGFmdGVyIGBwYXRoYCBhbmQgcmV0dXJuIHZhbHVlIG1hdGNoIHRoYXQgb2ZcbiAgICAgKiBgQXJyYXkucHJvdG90eXBlLnBvcGAuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBub3RpZmllcyBvdGhlciBwYXRocyB0byB0aGUgc2FtZSBhcnJheSB0aGF0IGFcbiAgICAgKiBzcGxpY2Ugb2NjdXJyZWQgdG8gdGhlIGFycmF5LlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCAhQXJyYXk8c3RyaW5nfG51bWJlcj59IHBhdGggUGF0aCB0byBhcnJheS5cbiAgICAgKiBAcmV0dXJuIHsqfSBJdGVtIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIHBvcChwYXRoKSB7XG4gICAgICBsZXQgaW5mbyA9IHtwYXRoOiAnJ307XG4gICAgICBsZXQgYXJyYXkgPSAvKiogQHR5cGUge0FycmF5fSAqLyhnZXQodGhpcywgcGF0aCwgaW5mbykpO1xuICAgICAgbGV0IGhhZExlbmd0aCA9IEJvb2xlYW4oYXJyYXkubGVuZ3RoKTtcbiAgICAgIGxldCByZXQgPSBhcnJheS5wb3AoKTtcbiAgICAgIGlmIChoYWRMZW5ndGgpIHtcbiAgICAgICAgbm90aWZ5U3BsaWNlKHRoaXMsIGFycmF5LCBpbmZvLnBhdGgsIGFycmF5Lmxlbmd0aCwgMCwgW3JldF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdGFydGluZyBmcm9tIHRoZSBzdGFydCBpbmRleCBzcGVjaWZpZWQsIHJlbW92ZXMgMCBvciBtb3JlIGl0ZW1zXG4gICAgICogZnJvbSB0aGUgYXJyYXkgYW5kIGluc2VydHMgMCBvciBtb3JlIG5ldyBpdGVtcyBpbiB0aGVpciBwbGFjZS5cbiAgICAgKlxuICAgICAqIFRoZSBhcmd1bWVudHMgYWZ0ZXIgYHBhdGhgIGFuZCByZXR1cm4gdmFsdWUgbWF0Y2ggdGhhdCBvZlxuICAgICAqIGBBcnJheS5wcm90b3R5cGUuc3BsaWNlYC5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIG5vdGlmaWVzIG90aGVyIHBhdGhzIHRvIHRoZSBzYW1lIGFycmF5IHRoYXQgYVxuICAgICAqIHNwbGljZSBvY2N1cnJlZCB0byB0aGUgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8ICFBcnJheTxzdHJpbmd8bnVtYmVyPn0gcGF0aCBQYXRoIHRvIGFycmF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBJbmRleCBmcm9tIHdoaWNoIHRvIHN0YXJ0IHJlbW92aW5nL2luc2VydGluZy5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IGRlbGV0ZUNvdW50IE51bWJlciBvZiBpdGVtcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHsuLi4qfSBpdGVtcyBJdGVtcyB0byBpbnNlcnQgaW50byBhcnJheS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gQXJyYXkgb2YgcmVtb3ZlZCBpdGVtcy5cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgc3BsaWNlKHBhdGgsIHN0YXJ0LCBkZWxldGVDb3VudCwgLi4uaXRlbXMpIHtcbiAgICAgIGxldCBpbmZvID0ge3BhdGggOiAnJ307XG4gICAgICBsZXQgYXJyYXkgPSAvKiogQHR5cGUge0FycmF5fSAqLyhnZXQodGhpcywgcGF0aCwgaW5mbykpO1xuICAgICAgLy8gTm9ybWFsaXplIGZhbmN5IG5hdGl2ZSBzcGxpY2UgaGFuZGxpbmcgb2YgY3Jhenkgc3RhcnQgdmFsdWVzXG4gICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgIHN0YXJ0ID0gYXJyYXkubGVuZ3RoIC0gTWF0aC5mbG9vcigtc3RhcnQpO1xuICAgICAgfSBlbHNlIGlmIChzdGFydCkge1xuICAgICAgICBzdGFydCA9IE1hdGguZmxvb3Ioc3RhcnQpO1xuICAgICAgfVxuICAgICAgLy8gYXJyYXkuc3BsaWNlIGRvZXMgZGlmZmVyZW50IHRoaW5ncyBiYXNlZCBvbiB0aGUgbnVtYmVyIG9mIGFyZ3VtZW50c1xuICAgICAgLy8geW91IHBhc3MgaW4uIFRoZXJlZm9yZSwgYXJyYXkuc3BsaWNlKDApIGFuZCBhcnJheS5zcGxpY2UoMCwgdW5kZWZpbmVkKVxuICAgICAgLy8gZG8gZGlmZmVyZW50IHRoaW5ncy4gSW4gdGhlIGZvcm1lciwgdGhlIHdob2xlIGFycmF5IGlzIGNsZWFyZWQuIEluIHRoZVxuICAgICAgLy8gbGF0dGVyLCBubyBpdGVtcyBhcmUgcmVtb3ZlZC5cbiAgICAgIC8vIFRoaXMgbWVhbnMgdGhhdCB3ZSBuZWVkIHRvIGRldGVjdCB3aGV0aGVyIDEuIG9uZSBvZiB0aGUgYXJndW1lbnRzXG4gICAgICAvLyBpcyBhY3R1YWxseSBwYXNzZWQgaW4gYW5kIHRoZW4gMi4gZGV0ZXJtaW5lIGhvdyBtYW55IGFyZ3VtZW50c1xuICAgICAgLy8gd2Ugc2hvdWxkIHBhc3Mgb24gdG8gdGhlIG5hdGl2ZSBhcnJheS5zcGxpY2VcbiAgICAgIC8vXG4gICAgICBsZXQgcmV0O1xuICAgICAgLy8gT21pdCBhbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgaWYgdGhleSB3ZXJlIG5vdCBwYXNzZWQgaW5cbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHJldCA9IGFycmF5LnNwbGljZShzdGFydCk7XG4gICAgICAvLyBFaXRoZXIgc3RhcnQgd2FzIHVuZGVmaW5lZCBhbmQgdGhlIG90aGVycyB3ZXJlIGRlZmluZWQsIGJ1dCBpbiB0aGlzXG4gICAgICAvLyBjYXNlIHdlIGNhbiBzYWZlbHkgcGFzcyBvbiBhbGwgYXJndW1lbnRzXG4gICAgICAvL1xuICAgICAgLy8gTm90ZTogdGhpcyBpbmNsdWRlcyB0aGUgY2FzZSB3aGVyZSBub25lIG9mIHRoZSBhcmd1bWVudHMgd2VyZSBwYXNzZWQgaW4sXG4gICAgICAvLyBlLmcuIHRoaXMuc3BsaWNlKCdhcnJheScpLiBIb3dldmVyLCBpZiBib3RoIHN0YXJ0IGFuZCBkZWxldGVDb3VudFxuICAgICAgLy8gYXJlIHVuZGVmaW5lZCwgYXJyYXkuc3BsaWNlIHdpbGwgbm90IG1vZGlmeSB0aGUgYXJyYXkgKGFzIGV4cGVjdGVkKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0ID0gYXJyYXkuc3BsaWNlKHN0YXJ0LCBkZWxldGVDb3VudCwgLi4uaXRlbXMpO1xuICAgICAgfVxuICAgICAgLy8gQXQgdGhlIGVuZCwgY2hlY2sgd2hldGhlciBhbnkgaXRlbXMgd2VyZSBwYXNzZWQgaW4gKGUuZy4gaW5zZXJ0aW9ucylcbiAgICAgIC8vIG9yIGlmIHRoZSByZXR1cm4gYXJyYXkgY29udGFpbnMgaXRlbXMgKGUuZy4gZGVsZXRpb25zKS5cbiAgICAgIC8vIE9ubHkgbm90aWZ5IGlmIGl0ZW1zIHdlcmUgYWRkZWQgb3IgZGVsZXRlZC5cbiAgICAgIGlmIChpdGVtcy5sZW5ndGggfHwgcmV0Lmxlbmd0aCkge1xuICAgICAgICBub3RpZnlTcGxpY2UodGhpcywgYXJyYXksIGluZm8ucGF0aCwgc3RhcnQsIGl0ZW1zLmxlbmd0aCwgcmV0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbiBpdGVtIGZyb20gdGhlIGJlZ2lubmluZyBvZiBhcnJheSBhdCB0aGUgcGF0aCBzcGVjaWZpZWQuXG4gICAgICpcbiAgICAgKiBUaGUgYXJndW1lbnRzIGFmdGVyIGBwYXRoYCBhbmQgcmV0dXJuIHZhbHVlIG1hdGNoIHRoYXQgb2ZcbiAgICAgKiBgQXJyYXkucHJvdG90eXBlLnBvcGAuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBub3RpZmllcyBvdGhlciBwYXRocyB0byB0aGUgc2FtZSBhcnJheSB0aGF0IGFcbiAgICAgKiBzcGxpY2Ugb2NjdXJyZWQgdG8gdGhlIGFycmF5LlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCAhQXJyYXk8c3RyaW5nfG51bWJlcj59IHBhdGggUGF0aCB0byBhcnJheS5cbiAgICAgKiBAcmV0dXJuIHsqfSBJdGVtIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIHNoaWZ0KHBhdGgpIHtcbiAgICAgIGxldCBpbmZvID0ge3BhdGg6ICcnfTtcbiAgICAgIGxldCBhcnJheSA9IC8qKiBAdHlwZSB7QXJyYXl9ICovKGdldCh0aGlzLCBwYXRoLCBpbmZvKSk7XG4gICAgICBsZXQgaGFkTGVuZ3RoID0gQm9vbGVhbihhcnJheS5sZW5ndGgpO1xuICAgICAgbGV0IHJldCA9IGFycmF5LnNoaWZ0KCk7XG4gICAgICBpZiAoaGFkTGVuZ3RoKSB7XG4gICAgICAgIG5vdGlmeVNwbGljZSh0aGlzLCBhcnJheSwgaW5mby5wYXRoLCAwLCAwLCBbcmV0XSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgaXRlbXMgb250byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheSBhdCB0aGUgcGF0aCBzcGVjaWZpZWQuXG4gICAgICpcbiAgICAgKiBUaGUgYXJndW1lbnRzIGFmdGVyIGBwYXRoYCBhbmQgcmV0dXJuIHZhbHVlIG1hdGNoIHRoYXQgb2ZcbiAgICAgKiBgQXJyYXkucHJvdG90eXBlLnB1c2hgLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2Qgbm90aWZpZXMgb3RoZXIgcGF0aHMgdG8gdGhlIHNhbWUgYXJyYXkgdGhhdCBhXG4gICAgICogc3BsaWNlIG9jY3VycmVkIHRvIHRoZSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgIUFycmF5PHN0cmluZ3xudW1iZXI+fSBwYXRoIFBhdGggdG8gYXJyYXkuXG4gICAgICogQHBhcmFtIHsuLi4qfSBpdGVtcyBJdGVtcyB0byBpbnNlcnQgaW5mbyBhcnJheVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTmV3IGxlbmd0aCBvZiB0aGUgYXJyYXkuXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIHVuc2hpZnQocGF0aCwgLi4uaXRlbXMpIHtcbiAgICAgIGxldCBpbmZvID0ge3BhdGg6ICcnfTtcbiAgICAgIGxldCBhcnJheSA9IC8qKiBAdHlwZSB7QXJyYXl9ICovKGdldCh0aGlzLCBwYXRoLCBpbmZvKSk7XG4gICAgICBsZXQgcmV0ID0gYXJyYXkudW5zaGlmdCguLi5pdGVtcyk7XG4gICAgICBpZiAoaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIG5vdGlmeVNwbGljZSh0aGlzLCBhcnJheSwgaW5mby5wYXRoLCAwLCBpdGVtcy5sZW5ndGgsIFtdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTm90aWZ5IHRoYXQgYSBwYXRoIGhhcyBjaGFuZ2VkLlxuICAgICAqXG4gICAgICogRXhhbXBsZTpcbiAgICAgKlxuICAgICAqICAgICB0aGlzLml0ZW0udXNlci5uYW1lID0gJ0JvYic7XG4gICAgICogICAgIHRoaXMubm90aWZ5UGF0aCgnaXRlbS51c2VyLm5hbWUnKTtcbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFBhdGggdGhhdCBzaG91bGQgYmUgbm90aWZpZWQuXG4gICAgICogQHBhcmFtIHsqPX0gdmFsdWUgVmFsdWUgYXQgdGhlIHBhdGggKG9wdGlvbmFsKS5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBub3RpZnlQYXRoKHBhdGgsIHZhbHVlKSB7XG4gICAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICAgIGxldCBwcm9wUGF0aDtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgLy8gR2V0IHZhbHVlIGlmIG5vdCBzdXBwbGllZFxuICAgICAgICBsZXQgaW5mbyA9IHtwYXRoOiAnJ307XG4gICAgICAgIHZhbHVlID0gZ2V0KHRoaXMsIHBhdGgsIGluZm8pO1xuICAgICAgICBwcm9wUGF0aCA9IGluZm8ucGF0aDtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShwYXRoKSkge1xuICAgICAgICAvLyBOb3JtYWxpemUgcGF0aCBpZiBuZWVkZWRcbiAgICAgICAgcHJvcFBhdGggPSBub3JtYWxpemUocGF0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9wUGF0aCA9IC8qKiBAdHlwZXtzdHJpbmd9ICovKHBhdGgpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX3NldFBlbmRpbmdQcm9wZXJ0eU9yUGF0aChwcm9wUGF0aCwgdmFsdWUsIHRydWUsIHRydWUpKSB7XG4gICAgICAgIHRoaXMuX2ludmFsaWRhdGVQcm9wZXJ0aWVzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byBzdGF0aWMgYGNyZWF0ZVJlYWRPbmx5UHJvcGVydHlgIEFQSSBidXQgY2FuIGJlIGNhbGxlZCBvblxuICAgICAqIGFuIGluc3RhbmNlIHRvIGFkZCBlZmZlY3RzIGF0IHJ1bnRpbWUuICBTZWUgdGhhdCBtZXRob2QgZm9yXG4gICAgICogZnVsbCBBUEkgZG9jcy5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSBuYW1lXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gcHJvdGVjdGVkU2V0dGVyIENyZWF0ZXMgYSBjdXN0b20gcHJvdGVjdGVkIHNldHRlclxuICAgICAqICAgd2hlbiBgdHJ1ZWAuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2NyZWF0ZVJlYWRPbmx5UHJvcGVydHkocHJvcGVydHksIHByb3RlY3RlZFNldHRlcikge1xuICAgICAgdGhpcy5fYWRkUHJvcGVydHlFZmZlY3QocHJvcGVydHksIFRZUEVTLlJFQURfT05MWSk7XG4gICAgICBpZiAocHJvdGVjdGVkU2V0dGVyKSB7XG4gICAgICAgIHRoaXNbJ19zZXQnICsgdXBwZXIocHJvcGVydHkpXSA9IC8qKiBAdGhpcyB7UHJvcGVydHlFZmZlY3RzfSAqL2Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgdGhpcy5fc2V0UHJvcGVydHkocHJvcGVydHksIHZhbHVlKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFcXVpdmFsZW50IHRvIHN0YXRpYyBgY3JlYXRlUHJvcGVydHlPYnNlcnZlcmAgQVBJIGJ1dCBjYW4gYmUgY2FsbGVkIG9uXG4gICAgICogYW4gaW5zdGFuY2UgdG8gYWRkIGVmZmVjdHMgYXQgcnVudGltZS4gIFNlZSB0aGF0IG1ldGhvZCBmb3JcbiAgICAgKiBmdWxsIEFQSSBkb2NzLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xmdW5jdGlvbigqLCopfSBtZXRob2QgRnVuY3Rpb24gb3IgbmFtZSBvZiBvYnNlcnZlciBtZXRob2RcbiAgICAgKiAgICAgdG8gY2FsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGR5bmFtaWNGbiBXaGV0aGVyIHRoZSBtZXRob2QgbmFtZSBzaG91bGQgYmUgaW5jbHVkZWQgYXNcbiAgICAgKiAgIGEgZGVwZW5kZW5jeSB0byB0aGUgZWZmZWN0LlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9jcmVhdGVQcm9wZXJ0eU9ic2VydmVyKHByb3BlcnR5LCBtZXRob2QsIGR5bmFtaWNGbikge1xuICAgICAgbGV0IGluZm8gPSB7IHByb3BlcnR5LCBtZXRob2QsIGR5bmFtaWNGbjogQm9vbGVhbihkeW5hbWljRm4pIH07XG4gICAgICB0aGlzLl9hZGRQcm9wZXJ0eUVmZmVjdChwcm9wZXJ0eSwgVFlQRVMuT0JTRVJWRSwge1xuICAgICAgICBmbjogcnVuT2JzZXJ2ZXJFZmZlY3QsIGluZm8sIHRyaWdnZXI6IHtuYW1lOiBwcm9wZXJ0eX1cbiAgICAgIH0pO1xuICAgICAgaWYgKGR5bmFtaWNGbikge1xuICAgICAgICB0aGlzLl9hZGRQcm9wZXJ0eUVmZmVjdCgvKiogQHR5cGUge3N0cmluZ30gKi8obWV0aG9kKSwgVFlQRVMuT0JTRVJWRSwge1xuICAgICAgICAgIGZuOiBydW5PYnNlcnZlckVmZmVjdCwgaW5mbywgdHJpZ2dlcjoge25hbWU6IG1ldGhvZH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byBzdGF0aWMgYGNyZWF0ZU1ldGhvZE9ic2VydmVyYCBBUEkgYnV0IGNhbiBiZSBjYWxsZWQgb25cbiAgICAgKiBhbiBpbnN0YW5jZSB0byBhZGQgZWZmZWN0cyBhdCBydW50aW1lLiAgU2VlIHRoYXQgbWV0aG9kIGZvclxuICAgICAqIGZ1bGwgQVBJIGRvY3MuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBNZXRob2QgZXhwcmVzc2lvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxPYmplY3Q9fSBkeW5hbWljRm4gQm9vbGVhbiBvciBvYmplY3QgbWFwIGluZGljYXRpbmdcbiAgICAgKiAgIHdoZXRoZXIgbWV0aG9kIG5hbWVzIHNob3VsZCBiZSBpbmNsdWRlZCBhcyBhIGRlcGVuZGVuY3kgdG8gdGhlIGVmZmVjdC5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfY3JlYXRlTWV0aG9kT2JzZXJ2ZXIoZXhwcmVzc2lvbiwgZHluYW1pY0ZuKSB7XG4gICAgICBsZXQgc2lnID0gcGFyc2VNZXRob2QoZXhwcmVzc2lvbik7XG4gICAgICBpZiAoIXNpZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNYWxmb3JtZWQgb2JzZXJ2ZXIgZXhwcmVzc2lvbiAnXCIgKyBleHByZXNzaW9uICsgXCInXCIpO1xuICAgICAgfVxuICAgICAgY3JlYXRlTWV0aG9kRWZmZWN0KHRoaXMsIHNpZywgVFlQRVMuT0JTRVJWRSwgcnVuTWV0aG9kRWZmZWN0LCBudWxsLCBkeW5hbWljRm4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gc3RhdGljIGBjcmVhdGVOb3RpZnlpbmdQcm9wZXJ0eWAgQVBJIGJ1dCBjYW4gYmUgY2FsbGVkIG9uXG4gICAgICogYW4gaW5zdGFuY2UgdG8gYWRkIGVmZmVjdHMgYXQgcnVudGltZS4gIFNlZSB0aGF0IG1ldGhvZCBmb3JcbiAgICAgKiBmdWxsIEFQSSBkb2NzLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfY3JlYXRlTm90aWZ5aW5nUHJvcGVydHkocHJvcGVydHkpIHtcbiAgICAgIHRoaXMuX2FkZFByb3BlcnR5RWZmZWN0KHByb3BlcnR5LCBUWVBFUy5OT1RJRlksIHtcbiAgICAgICAgZm46IHJ1bk5vdGlmeUVmZmVjdCxcbiAgICAgICAgaW5mbzoge1xuICAgICAgICAgIGV2ZW50TmFtZTogY2FtZWxUb0Rhc2hDYXNlKHByb3BlcnR5KSArICctY2hhbmdlZCcsXG4gICAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gc3RhdGljIGBjcmVhdGVSZWZsZWN0ZWRQcm9wZXJ0eWAgQVBJIGJ1dCBjYW4gYmUgY2FsbGVkIG9uXG4gICAgICogYW4gaW5zdGFuY2UgdG8gYWRkIGVmZmVjdHMgYXQgcnVudGltZS4gIFNlZSB0aGF0IG1ldGhvZCBmb3JcbiAgICAgKiBmdWxsIEFQSSBkb2NzLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBnby9taXNzaW5nZm5wcm9wc1xuICAgICAqL1xuICAgIF9jcmVhdGVSZWZsZWN0ZWRQcm9wZXJ0eShwcm9wZXJ0eSkge1xuICAgICAgbGV0IGF0dHIgPSB0aGlzLmNvbnN0cnVjdG9yLmF0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShwcm9wZXJ0eSk7XG4gICAgICBpZiAoYXR0clswXSA9PT0gJy0nKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignUHJvcGVydHkgJyArIHByb3BlcnR5ICsgJyBjYW5ub3QgYmUgcmVmbGVjdGVkIHRvIGF0dHJpYnV0ZSAnICtcbiAgICAgICAgICBhdHRyICsgJyBiZWNhdXNlIFwiLVwiIGlzIG5vdCBhIHZhbGlkIHN0YXJ0aW5nIGF0dHJpYnV0ZSBuYW1lLiBVc2UgYSBsb3dlcmNhc2UgZmlyc3QgbGV0dGVyIGZvciB0aGUgcHJvcGVydHkgaW5zdGVhZC4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2FkZFByb3BlcnR5RWZmZWN0KHByb3BlcnR5LCBUWVBFUy5SRUZMRUNULCB7XG4gICAgICAgICAgZm46IHJ1blJlZmxlY3RFZmZlY3QsXG4gICAgICAgICAgaW5mbzoge1xuICAgICAgICAgICAgYXR0ck5hbWU6IGF0dHJcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gc3RhdGljIGBjcmVhdGVDb21wdXRlZFByb3BlcnR5YCBBUEkgYnV0IGNhbiBiZSBjYWxsZWQgb25cbiAgICAgKiBhbiBpbnN0YW5jZSB0byBhZGQgZWZmZWN0cyBhdCBydW50aW1lLiAgU2VlIHRoYXQgbWV0aG9kIGZvclxuICAgICAqIGZ1bGwgQVBJIGRvY3MuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgTmFtZSBvZiBjb21wdXRlZCBwcm9wZXJ0eSB0byBzZXRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBNZXRob2QgZXhwcmVzc2lvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxPYmplY3Q9fSBkeW5hbWljRm4gQm9vbGVhbiBvciBvYmplY3QgbWFwIGluZGljYXRpbmdcbiAgICAgKiAgIHdoZXRoZXIgbWV0aG9kIG5hbWVzIHNob3VsZCBiZSBpbmNsdWRlZCBhcyBhIGRlcGVuZGVuY3kgdG8gdGhlIGVmZmVjdC5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfY3JlYXRlQ29tcHV0ZWRQcm9wZXJ0eShwcm9wZXJ0eSwgZXhwcmVzc2lvbiwgZHluYW1pY0ZuKSB7XG4gICAgICBsZXQgc2lnID0gcGFyc2VNZXRob2QoZXhwcmVzc2lvbik7XG4gICAgICBpZiAoIXNpZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNYWxmb3JtZWQgY29tcHV0ZWQgZXhwcmVzc2lvbiAnXCIgKyBleHByZXNzaW9uICsgXCInXCIpO1xuICAgICAgfVxuICAgICAgY3JlYXRlTWV0aG9kRWZmZWN0KHRoaXMsIHNpZywgVFlQRVMuQ09NUFVURSwgcnVuQ29tcHV0ZWRFZmZlY3QsIHByb3BlcnR5LCBkeW5hbWljRm4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdhdGhlciB0aGUgYXJndW1lbnQgdmFsdWVzIGZvciBhIG1ldGhvZCBzcGVjaWZpZWQgaW4gdGhlIHByb3ZpZGVkIGFycmF5XG4gICAgICogb2YgYXJndW1lbnQgbWV0YWRhdGEuXG4gICAgICpcbiAgICAgKiBUaGUgYHBhdGhgIGFuZCBgdmFsdWVgIGFyZ3VtZW50cyBhcmUgdXNlZCB0byBmaWxsIGluIHdpbGRjYXJkIGRlc2NyaXB0b3JcbiAgICAgKiB3aGVuIHRoZSBtZXRob2QgaXMgYmVpbmcgY2FsbGVkIGFzIGEgcmVzdWx0IG9mIGEgcGF0aCBub3RpZmljYXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFBcnJheTwhTWV0aG9kQXJnPn0gYXJncyBBcnJheSBvZiBhcmd1bWVudCBtZXRhZGF0YVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFByb3BlcnR5L3BhdGggbmFtZSB0aGF0IHRyaWdnZXJlZCB0aGUgbWV0aG9kIGVmZmVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBCYWcgb2YgY3VycmVudCBwcm9wZXJ0eSBjaGFuZ2VzXG4gICAgICogQHJldHVybiB7QXJyYXk8Kj59IEFycmF5IG9mIGFyZ3VtZW50IHZhbHVlc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX21hcnNoYWxBcmdzKGFyZ3MsIHBhdGgsIHByb3BzKSB7XG4gICAgICBjb25zdCBkYXRhID0gdGhpcy5fX2RhdGE7XG4gICAgICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgICAgIGZvciAobGV0IGk9MCwgbD1hcmdzLmxlbmd0aDsgaTxsOyBpKyspIHtcbiAgICAgICAgbGV0IHtuYW1lLCBzdHJ1Y3R1cmVkLCB3aWxkY2FyZCwgdmFsdWUsIGxpdGVyYWx9ID0gYXJnc1tpXTtcbiAgICAgICAgaWYgKCFsaXRlcmFsKSB7XG4gICAgICAgICAgaWYgKHdpbGRjYXJkKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gaXNEZXNjZW5kYW50KG5hbWUsIHBhdGgpO1xuICAgICAgICAgICAgY29uc3QgcGF0aFZhbHVlID0gZ2V0QXJnVmFsdWUoZGF0YSwgcHJvcHMsIG1hdGNoZXMgPyBwYXRoIDogbmFtZSk7XG4gICAgICAgICAgICB2YWx1ZSA9IHtcbiAgICAgICAgICAgICAgcGF0aDogbWF0Y2hlcyA/IHBhdGggOiBuYW1lLFxuICAgICAgICAgICAgICB2YWx1ZTogcGF0aFZhbHVlLFxuICAgICAgICAgICAgICBiYXNlOiBtYXRjaGVzID8gZ2V0KGRhdGEsIG5hbWUpIDogcGF0aFZhbHVlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHN0cnVjdHVyZWQgPyBnZXRBcmdWYWx1ZShkYXRhLCBwcm9wcywgbmFtZSkgOiBkYXRhW25hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXNbaV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuXG4gICAgLy8gLS0gc3RhdGljIGNsYXNzIG1ldGhvZHMgLS0tLS0tLS0tLS0tXG5cbiAgICAvKipcbiAgICAgKiBFbnN1cmVzIGFuIGFjY2Vzc29yIGV4aXN0cyBmb3IgdGhlIHNwZWNpZmllZCBwcm9wZXJ0eSwgYW5kIGFkZHNcbiAgICAgKiB0byBhIGxpc3Qgb2YgXCJwcm9wZXJ0eSBlZmZlY3RzXCIgdGhhdCB3aWxsIHJ1biB3aGVuIHRoZSBhY2Nlc3NvciBmb3JcbiAgICAgKiB0aGUgc3BlY2lmaWVkIHByb3BlcnR5IGlzIHNldC4gIEVmZmVjdHMgYXJlIGdyb3VwZWQgYnkgXCJ0eXBlXCIsIHdoaWNoXG4gICAgICogcm91Z2hseSBjb3JyZXNwb25kcyB0byBhIHBoYXNlIGluIGVmZmVjdCBwcm9jZXNzaW5nLiAgVGhlIGVmZmVjdFxuICAgICAqIG1ldGFkYXRhIHNob3VsZCBiZSBpbiB0aGUgZm9sbG93aW5nIGZvcm06XG4gICAgICpcbiAgICAgKiAgICAge1xuICAgICAqICAgICAgIGZuOiBlZmZlY3RGdW5jdGlvbiwgLy8gUmVmZXJlbmNlIHRvIGZ1bmN0aW9uIHRvIGNhbGwgdG8gcGVyZm9ybSBlZmZlY3RcbiAgICAgKiAgICAgICBpbmZvOiB7IC4uLiB9ICAgICAgIC8vIEVmZmVjdCBtZXRhZGF0YSBwYXNzZWQgdG8gZnVuY3Rpb25cbiAgICAgKiAgICAgICB0cmlnZ2VyOiB7ICAgICAgICAgIC8vIE9wdGlvbmFsIHRyaWdnZXJpbmcgbWV0YWRhdGE7IGlmIG5vdCBwcm92aWRlZFxuICAgICAqICAgICAgICAgbmFtZTogc3RyaW5nICAgICAgLy8gdGhlIHByb3BlcnR5IGlzIHRyZWF0ZWQgYXMgYSB3aWxkY2FyZFxuICAgICAqICAgICAgICAgc3RydWN0dXJlZDogYm9vbGVhblxuICAgICAqICAgICAgICAgd2lsZGNhcmQ6IGJvb2xlYW5cbiAgICAgKiAgICAgICB9XG4gICAgICogICAgIH1cbiAgICAgKlxuICAgICAqIEVmZmVjdHMgYXJlIGNhbGxlZCBmcm9tIGBfcHJvcGVydGllc0NoYW5nZWRgIGluIHRoZSBmb2xsb3dpbmcgb3JkZXIgYnlcbiAgICAgKiB0eXBlOlxuICAgICAqXG4gICAgICogMS4gQ09NUFVURVxuICAgICAqIDIuIFBST1BBR0FURVxuICAgICAqIDMuIFJFRkxFQ1RcbiAgICAgKiA0LiBPQlNFUlZFXG4gICAgICogNS4gTk9USUZZXG4gICAgICpcbiAgICAgKiBFZmZlY3QgZnVuY3Rpb25zIGFyZSBjYWxsZWQgd2l0aCB0aGUgZm9sbG93aW5nIHNpZ25hdHVyZTpcbiAgICAgKlxuICAgICAqICAgICBlZmZlY3RGdW5jdGlvbihpbnN0LCBwYXRoLCBwcm9wcywgb2xkUHJvcHMsIGluZm8sIGhhc1BhdGhzKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IHRoYXQgc2hvdWxkIHRyaWdnZXIgdGhlIGVmZmVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIEVmZmVjdCB0eXBlLCBmcm9tIHRoaXMuUFJPUEVSVFlfRUZGRUNUX1RZUEVTXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBlZmZlY3QgRWZmZWN0IG1ldGFkYXRhIG9iamVjdFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIGFkZFByb3BlcnR5RWZmZWN0KHByb3BlcnR5LCB0eXBlLCBlZmZlY3QpIHtcbiAgICAgIHRoaXMucHJvdG90eXBlLl9hZGRQcm9wZXJ0eUVmZmVjdChwcm9wZXJ0eSwgdHlwZSwgZWZmZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2luZ2xlLXByb3BlcnR5IG9ic2VydmVyIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfGZ1bmN0aW9uKCosKil9IG1ldGhvZCBGdW5jdGlvbiBvciBuYW1lIG9mIG9ic2VydmVyIG1ldGhvZCB0byBjYWxsXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gZHluYW1pY0ZuIFdoZXRoZXIgdGhlIG1ldGhvZCBuYW1lIHNob3VsZCBiZSBpbmNsdWRlZCBhc1xuICAgICAqICAgYSBkZXBlbmRlbmN5IHRvIHRoZSBlZmZlY3QuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlUHJvcGVydHlPYnNlcnZlcihwcm9wZXJ0eSwgbWV0aG9kLCBkeW5hbWljRm4pIHtcbiAgICAgIHRoaXMucHJvdG90eXBlLl9jcmVhdGVQcm9wZXJ0eU9ic2VydmVyKHByb3BlcnR5LCBtZXRob2QsIGR5bmFtaWNGbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG11bHRpLXByb3BlcnR5IFwibWV0aG9kIG9ic2VydmVyXCIgYmFzZWQgb24gdGhlIHByb3ZpZGVkXG4gICAgICogZXhwcmVzc2lvbiwgd2hpY2ggc2hvdWxkIGJlIGEgc3RyaW5nIGluIHRoZSBmb3JtIG9mIGEgbm9ybWFsIEphdmFTY3JpcHRcbiAgICAgKiBmdW5jdGlvbiBzaWduYXR1cmU6IGAnbWV0aG9kTmFtZShhcmcxLCBbLi4uLCBhcmduXSknYC4gIEVhY2ggYXJndW1lbnRcbiAgICAgKiBzaG91bGQgY29ycmVzcG9uZCB0byBhIHByb3BlcnR5IG9yIHBhdGggaW4gdGhlIGNvbnRleHQgb2YgdGhpc1xuICAgICAqIHByb3RvdHlwZSAob3IgaW5zdGFuY2UpLCBvciBtYXkgYmUgYSBsaXRlcmFsIHN0cmluZyBvciBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBNZXRob2QgZXhwcmVzc2lvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxPYmplY3Q9fSBkeW5hbWljRm4gQm9vbGVhbiBvciBvYmplY3QgbWFwIGluZGljYXRpbmdcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqICAgd2hldGhlciBtZXRob2QgbmFtZXMgc2hvdWxkIGJlIGluY2x1ZGVkIGFzIGEgZGVwZW5kZW5jeSB0byB0aGUgZWZmZWN0LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVNZXRob2RPYnNlcnZlcihleHByZXNzaW9uLCBkeW5hbWljRm4pIHtcbiAgICAgIHRoaXMucHJvdG90eXBlLl9jcmVhdGVNZXRob2RPYnNlcnZlcihleHByZXNzaW9uLCBkeW5hbWljRm4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhdXNlcyB0aGUgc2V0dGVyIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkgdG8gZGlzcGF0Y2ggYDxwcm9wZXJ0eT4tY2hhbmdlZGBcbiAgICAgKiBldmVudHMgdG8gbm90aWZ5IG9mIGNoYW5nZXMgdG8gdGhlIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVOb3RpZnlpbmdQcm9wZXJ0eShwcm9wZXJ0eSkge1xuICAgICAgdGhpcy5wcm90b3R5cGUuX2NyZWF0ZU5vdGlmeWluZ1Byb3BlcnR5KHByb3BlcnR5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcmVhZC1vbmx5IGFjY2Vzc29yIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBUbyBzZXQgdGhlIHByb3BlcnR5LCB1c2UgdGhlIHByb3RlY3RlZCBgX3NldFByb3BlcnR5YCBBUEkuXG4gICAgICogVG8gY3JlYXRlIGEgY3VzdG9tIHByb3RlY3RlZCBzZXR0ZXIgKGUuZy4gYF9zZXRNeVByb3AoKWAgZm9yXG4gICAgICogcHJvcGVydHkgYG15UHJvcGApLCBwYXNzIGB0cnVlYCBmb3IgYHByb3RlY3RlZFNldHRlcmAuXG4gICAgICpcbiAgICAgKiBOb3RlLCBpZiB0aGUgcHJvcGVydHkgd2lsbCBoYXZlIG90aGVyIHByb3BlcnR5IGVmZmVjdHMsIHRoaXMgbWV0aG9kXG4gICAgICogc2hvdWxkIGJlIGNhbGxlZCBmaXJzdCwgYmVmb3JlIGFkZGluZyBvdGhlciBlZmZlY3RzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBwcm90ZWN0ZWRTZXR0ZXIgQ3JlYXRlcyBhIGN1c3RvbSBwcm90ZWN0ZWQgc2V0dGVyXG4gICAgICogICB3aGVuIGB0cnVlYC5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVSZWFkT25seVByb3BlcnR5KHByb3BlcnR5LCBwcm90ZWN0ZWRTZXR0ZXIpIHtcbiAgICAgIHRoaXMucHJvdG90eXBlLl9jcmVhdGVSZWFkT25seVByb3BlcnR5KHByb3BlcnR5LCBwcm90ZWN0ZWRTZXR0ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhdXNlcyB0aGUgc2V0dGVyIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkgdG8gcmVmbGVjdCB0aGUgcHJvcGVydHkgdmFsdWVcbiAgICAgKiB0byBhIChkYXNoLWNhc2VkKSBhdHRyaWJ1dGUgb2YgdGhlIHNhbWUgbmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSBuYW1lXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlUmVmbGVjdGVkUHJvcGVydHkocHJvcGVydHkpIHtcbiAgICAgIHRoaXMucHJvdG90eXBlLl9jcmVhdGVSZWZsZWN0ZWRQcm9wZXJ0eShwcm9wZXJ0eSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNvbXB1dGVkIHByb3BlcnR5IHdob3NlIHZhbHVlIGlzIHNldCB0byB0aGUgcmVzdWx0IG9mIHRoZVxuICAgICAqIG1ldGhvZCBkZXNjcmliZWQgYnkgdGhlIGdpdmVuIGBleHByZXNzaW9uYCBlYWNoIHRpbWUgb25lIG9yIG1vcmVcbiAgICAgKiBhcmd1bWVudHMgdG8gdGhlIG1ldGhvZCBjaGFuZ2VzLiAgVGhlIGV4cHJlc3Npb24gc2hvdWxkIGJlIGEgc3RyaW5nXG4gICAgICogaW4gdGhlIGZvcm0gb2YgYSBub3JtYWwgSmF2YVNjcmlwdCBmdW5jdGlvbiBzaWduYXR1cmU6XG4gICAgICogYCdtZXRob2ROYW1lKGFyZzEsIFsuLi4sIGFyZ25dKSdgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgTmFtZSBvZiBjb21wdXRlZCBwcm9wZXJ0eSB0byBzZXRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBNZXRob2QgZXhwcmVzc2lvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxPYmplY3Q9fSBkeW5hbWljRm4gQm9vbGVhbiBvciBvYmplY3QgbWFwIGluZGljYXRpbmcgd2hldGhlclxuICAgICAqICAgbWV0aG9kIG5hbWVzIHNob3VsZCBiZSBpbmNsdWRlZCBhcyBhIGRlcGVuZGVuY3kgdG8gdGhlIGVmZmVjdC5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVDb21wdXRlZFByb3BlcnR5KHByb3BlcnR5LCBleHByZXNzaW9uLCBkeW5hbWljRm4pIHtcbiAgICAgIHRoaXMucHJvdG90eXBlLl9jcmVhdGVDb21wdXRlZFByb3BlcnR5KHByb3BlcnR5LCBleHByZXNzaW9uLCBkeW5hbWljRm4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhcnNlcyB0aGUgcHJvdmlkZWQgdGVtcGxhdGUgdG8gZW5zdXJlIGJpbmRpbmcgZWZmZWN0cyBhcmUgY3JlYXRlZFxuICAgICAqIGZvciB0aGVtLCBhbmQgdGhlbiBlbnN1cmVzIHByb3BlcnR5IGFjY2Vzc29ycyBhcmUgY3JlYXRlZCBmb3IgYW55XG4gICAgICogZGVwZW5kZW50IHByb3BlcnRpZXMgaW4gdGhlIHRlbXBsYXRlLiAgQmluZGluZyBlZmZlY3RzIGZvciBib3VuZFxuICAgICAqIHRlbXBsYXRlcyBhcmUgc3RvcmVkIGluIGEgbGlua2VkIGxpc3Qgb24gdGhlIGluc3RhbmNlIHNvIHRoYXRcbiAgICAgKiB0ZW1wbGF0ZXMgY2FuIGJlIGVmZmljaWVudGx5IHN0YW1wZWQgYW5kIHVuc3RhbXBlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlIFRlbXBsYXRlIGNvbnRhaW5pbmcgYmluZGluZ1xuICAgICAqICAgYmluZGluZ3NcbiAgICAgKiBAcmV0dXJuIHshVGVtcGxhdGVJbmZvfSBUZW1wbGF0ZSBtZXRhZGF0YSBvYmplY3RcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgYmluZFRlbXBsYXRlKHRlbXBsYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm90b3R5cGUuX2JpbmRUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gICAgfVxuXG4gICAgLy8gLS0gYmluZGluZyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvKipcbiAgICAgKiBFcXVpdmFsZW50IHRvIHN0YXRpYyBgYmluZFRlbXBsYXRlYCBBUEkgYnV0IGNhbiBiZSBjYWxsZWQgb25cbiAgICAgKiBhbiBpbnN0YW5jZSB0byBhZGQgZWZmZWN0cyBhdCBydW50aW1lLiAgU2VlIHRoYXQgbWV0aG9kIGZvclxuICAgICAqIGZ1bGwgQVBJIGRvY3MuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBtYXkgYmUgY2FsbGVkIG9uIHRoZSBwcm90b3R5cGUgKGZvciBwcm90b3R5cGljYWwgdGVtcGxhdGVcbiAgICAgKiBiaW5kaW5nLCB0byBhdm9pZCBjcmVhdGluZyBhY2Nlc3NvcnMgZXZlcnkgaW5zdGFuY2UpIG9uY2UgcGVyIHByb3RvdHlwZSxcbiAgICAgKiBhbmQgd2lsbCBiZSBjYWxsZWQgd2l0aCBgcnVudGltZUJpbmRpbmc6IHRydWVgIGJ5IGBfc3RhbXBUZW1wbGF0ZWAgdG9cbiAgICAgKiBjcmVhdGUgYW5kIGxpbmsgYW4gaW5zdGFuY2Ugb2YgdGhlIHRlbXBsYXRlIG1ldGFkYXRhIGFzc29jaWF0ZWQgd2l0aCBhXG4gICAgICogcGFydGljdWxhciBzdGFtcGluZy5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlIFRlbXBsYXRlIGNvbnRhaW5pbmcgYmluZGluZ1xuICAgICAqICAgYmluZGluZ3NcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbnN0YW5jZUJpbmRpbmcgV2hlbiBmYWxzZSAoZGVmYXVsdCksIHBlcmZvcm1zXG4gICAgICogICBcInByb3RvdHlwaWNhbFwiIGJpbmRpbmcgb2YgdGhlIHRlbXBsYXRlIGFuZCBvdmVyd3JpdGVzIGFueSBwcmV2aW91c2x5XG4gICAgICogICBib3VuZCB0ZW1wbGF0ZSBmb3IgdGhlIGNsYXNzLiBXaGVuIHRydWUgKGFzIHBhc3NlZCBmcm9tXG4gICAgICogICBgX3N0YW1wVGVtcGxhdGVgKSwgdGhlIHRlbXBsYXRlIGluZm8gaXMgaW5zdGFuY2VkIGFuZCBsaW5rZWQgaW50b1xuICAgICAqICAgdGhlIGxpc3Qgb2YgYm91bmQgdGVtcGxhdGVzLlxuICAgICAqIEByZXR1cm4geyFUZW1wbGF0ZUluZm99IFRlbXBsYXRlIG1ldGFkYXRhIG9iamVjdDsgZm9yIGBydW50aW1lQmluZGluZ2AsXG4gICAgICogICB0aGlzIGlzIGFuIGluc3RhbmNlIG9mIHRoZSBwcm90b3R5cGljYWwgdGVtcGxhdGUgaW5mb1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBnby9taXNzaW5nZm5wcm9wc1xuICAgICAqL1xuICAgIF9iaW5kVGVtcGxhdGUodGVtcGxhdGUsIGluc3RhbmNlQmluZGluZykge1xuICAgICAgbGV0IHRlbXBsYXRlSW5mbyA9IHRoaXMuY29uc3RydWN0b3IuX3BhcnNlVGVtcGxhdGUodGVtcGxhdGUpO1xuICAgICAgbGV0IHdhc1ByZUJvdW5kID0gdGhpcy5fX3RlbXBsYXRlSW5mbyA9PSB0ZW1wbGF0ZUluZm87XG4gICAgICAvLyBPcHRpbWl6YXRpb246IHNpbmNlIHRoaXMgaXMgY2FsbGVkIHR3aWNlIGZvciBwcm90by1ib3VuZCB0ZW1wbGF0ZXMsXG4gICAgICAvLyBkb24ndCBhdHRlbXB0IHRvIHJlY3JlYXRlIGFjY2Vzc29ycyBpZiB0aGlzIHRlbXBsYXRlIHdhcyBwcmUtYm91bmRcbiAgICAgIGlmICghd2FzUHJlQm91bmQpIHtcbiAgICAgICAgZm9yIChsZXQgcHJvcCBpbiB0ZW1wbGF0ZUluZm8ucHJvcGVydHlFZmZlY3RzKSB7XG4gICAgICAgICAgdGhpcy5fY3JlYXRlUHJvcGVydHlBY2Nlc3Nvcihwcm9wKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGluc3RhbmNlQmluZGluZykge1xuICAgICAgICAvLyBGb3IgaW5zdGFuY2UtdGltZSBiaW5kaW5nLCBjcmVhdGUgaW5zdGFuY2Ugb2YgdGVtcGxhdGUgbWV0YWRhdGFcbiAgICAgICAgLy8gYW5kIGxpbmsgaW50byBsaXN0IG9mIHRlbXBsYXRlcyBpZiBuZWNlc3NhcnlcbiAgICAgICAgdGVtcGxhdGVJbmZvID0gLyoqIEB0eXBlIHshVGVtcGxhdGVJbmZvfSAqLyhPYmplY3QuY3JlYXRlKHRlbXBsYXRlSW5mbykpO1xuICAgICAgICB0ZW1wbGF0ZUluZm8ud2FzUHJlQm91bmQgPSB3YXNQcmVCb3VuZDtcbiAgICAgICAgaWYgKCF3YXNQcmVCb3VuZCAmJiB0aGlzLl9fdGVtcGxhdGVJbmZvKSB7XG4gICAgICAgICAgbGV0IGxhc3QgPSB0aGlzLl9fdGVtcGxhdGVJbmZvTGFzdCB8fCB0aGlzLl9fdGVtcGxhdGVJbmZvO1xuICAgICAgICAgIHRoaXMuX190ZW1wbGF0ZUluZm9MYXN0ID0gbGFzdC5uZXh0VGVtcGxhdGVJbmZvID0gdGVtcGxhdGVJbmZvO1xuICAgICAgICAgIHRlbXBsYXRlSW5mby5wcmV2aW91c1RlbXBsYXRlSW5mbyA9IGxhc3Q7XG4gICAgICAgICAgcmV0dXJuIHRlbXBsYXRlSW5mbztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX190ZW1wbGF0ZUluZm8gPSB0ZW1wbGF0ZUluZm87XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIHByb3BlcnR5IGVmZmVjdCB0byB0aGUgZ2l2ZW4gdGVtcGxhdGUgbWV0YWRhdGEsIHdoaWNoIGlzIHJ1blxuICAgICAqIGF0IHRoZSBcInByb3BhZ2F0ZVwiIHN0YWdlIG9mIGBfcHJvcGVydGllc0NoYW5nZWRgIHdoZW4gdGhlIHRlbXBsYXRlXG4gICAgICogaGFzIGJlZW4gYm91bmQgdG8gdGhlIGVsZW1lbnQgdmlhIGBfYmluZFRlbXBsYXRlYC5cbiAgICAgKlxuICAgICAqIFRoZSBgZWZmZWN0YCBvYmplY3Qgc2hvdWxkIG1hdGNoIHRoZSBmb3JtYXQgaW4gYF9hZGRQcm9wZXJ0eUVmZmVjdGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGVtcGxhdGVJbmZvIFRlbXBsYXRlIG1ldGFkYXRhIHRvIGFkZCBlZmZlY3QgdG9cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcCBQcm9wZXJ0eSB0aGF0IHNob3VsZCB0cmlnZ2VyIHRoZSBlZmZlY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGVmZmVjdCBFZmZlY3QgbWV0YWRhdGEgb2JqZWN0XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX2FkZFRlbXBsYXRlUHJvcGVydHlFZmZlY3QodGVtcGxhdGVJbmZvLCBwcm9wLCBlZmZlY3QpIHtcbiAgICAgIGxldCBob3N0UHJvcHMgPSB0ZW1wbGF0ZUluZm8uaG9zdFByb3BzID0gdGVtcGxhdGVJbmZvLmhvc3RQcm9wcyB8fCB7fTtcbiAgICAgIGhvc3RQcm9wc1twcm9wXSA9IHRydWU7XG4gICAgICBsZXQgZWZmZWN0cyA9IHRlbXBsYXRlSW5mby5wcm9wZXJ0eUVmZmVjdHMgPSB0ZW1wbGF0ZUluZm8ucHJvcGVydHlFZmZlY3RzIHx8IHt9O1xuICAgICAgbGV0IHByb3BFZmZlY3RzID0gZWZmZWN0c1twcm9wXSA9IGVmZmVjdHNbcHJvcF0gfHwgW107XG4gICAgICBwcm9wRWZmZWN0cy5wdXNoKGVmZmVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhbXBzIHRoZSBwcm92aWRlZCB0ZW1wbGF0ZSBhbmQgcGVyZm9ybXMgaW5zdGFuY2UtdGltZSBzZXR1cCBmb3JcbiAgICAgKiBQb2x5bWVyIHRlbXBsYXRlIGZlYXR1cmVzLCBpbmNsdWRpbmcgZGF0YSBiaW5kaW5ncywgZGVjbGFyYXRpdmUgZXZlbnRcbiAgICAgKiBsaXN0ZW5lcnMsIGFuZCB0aGUgYHRoaXMuJGAgbWFwIG9mIGBpZGAncyB0byBub2Rlcy4gIEEgZG9jdW1lbnQgZnJhZ21lbnRcbiAgICAgKiBpcyByZXR1cm5lZCBjb250YWluaW5nIHRoZSBzdGFtcGVkIERPTSwgcmVhZHkgZm9yIGluc2VydGlvbiBpbnRvIHRoZVxuICAgICAqIERPTS5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIG1heSBiZSBjYWxsZWQgbW9yZSB0aGFuIG9uY2U7IGhvd2V2ZXIgbm90ZSB0aGF0IGR1ZSB0b1xuICAgICAqIGBzaGFkeWNzc2AgcG9seWZpbGwgbGltaXRhdGlvbnMsIG9ubHkgc3R5bGVzIGZyb20gdGVtcGxhdGVzIHByZXBhcmVkXG4gICAgICogdXNpbmcgYFNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZWAgd2lsbCBiZSBjb3JyZWN0bHkgcG9seWZpbGxlZCAoc2NvcGVkXG4gICAgICogdG8gdGhlIHNoYWRvdyByb290IGFuZCBzdXBwb3J0IENTUyBjdXN0b20gcHJvcGVydGllcyksIGFuZCBub3RlIHRoYXRcbiAgICAgKiBgU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlYCBtYXkgb25seSBiZSBjYWxsZWQgb25jZSBwZXIgZWxlbWVudC4gQXMgc3VjaCxcbiAgICAgKiBhbnkgc3R5bGVzIHJlcXVpcmVkIGJ5IGluIHJ1bnRpbWUtc3RhbXBlZCB0ZW1wbGF0ZXMgbXVzdCBiZSBpbmNsdWRlZFxuICAgICAqIGluIHRoZSBtYWluIGVsZW1lbnQgdGVtcGxhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZSBUZW1wbGF0ZSB0byBzdGFtcFxuICAgICAqIEByZXR1cm4geyFTdGFtcGVkVGVtcGxhdGV9IENsb25lZCB0ZW1wbGF0ZSBjb250ZW50XG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9zdGFtcFRlbXBsYXRlKHRlbXBsYXRlKSB7XG4gICAgICAvLyBFbnN1cmVzIHRoYXQgY3JlYXRlZCBkb20gaXMgYF9lbnF1ZXVlQ2xpZW50YCdkIHRvIHRoaXMgZWxlbWVudCBzb1xuICAgICAgLy8gdGhhdCBpdCBjYW4gYmUgZmx1c2hlZCBvbiBuZXh0IGNhbGwgdG8gYF9mbHVzaFByb3BlcnRpZXNgXG4gICAgICBob3N0U3RhY2suYmVnaW5Ib3N0aW5nKHRoaXMpO1xuICAgICAgbGV0IGRvbSA9IHN1cGVyLl9zdGFtcFRlbXBsYXRlKHRlbXBsYXRlKTtcbiAgICAgIGhvc3RTdGFjay5lbmRIb3N0aW5nKHRoaXMpO1xuICAgICAgbGV0IHRlbXBsYXRlSW5mbyA9IC8qKiBAdHlwZSB7IVRlbXBsYXRlSW5mb30gKi8odGhpcy5fYmluZFRlbXBsYXRlKHRlbXBsYXRlLCB0cnVlKSk7XG4gICAgICAvLyBBZGQgdGVtcGxhdGUtaW5zdGFuY2Utc3BlY2lmaWMgZGF0YSB0byBpbnN0YW5jZWQgdGVtcGxhdGVJbmZvXG4gICAgICB0ZW1wbGF0ZUluZm8ubm9kZUxpc3QgPSBkb20ubm9kZUxpc3Q7XG4gICAgICAvLyBDYXB0dXJlIGNoaWxkIG5vZGVzIHRvIGFsbG93IHVuc3RhbXBpbmcgb2Ygbm9uLXByb3RvdHlwaWNhbCB0ZW1wbGF0ZXNcbiAgICAgIGlmICghdGVtcGxhdGVJbmZvLndhc1ByZUJvdW5kKSB7XG4gICAgICAgIGxldCBub2RlcyA9IHRlbXBsYXRlSW5mby5jaGlsZE5vZGVzID0gW107XG4gICAgICAgIGZvciAobGV0IG49ZG9tLmZpcnN0Q2hpbGQ7IG47IG49bi5uZXh0U2libGluZykge1xuICAgICAgICAgIG5vZGVzLnB1c2gobik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRvbS50ZW1wbGF0ZUluZm8gPSB0ZW1wbGF0ZUluZm87XG4gICAgICAvLyBTZXR1cCBjb21wb3VuZCBzdG9yYWdlLCAyLXdheSBsaXN0ZW5lcnMsIGFuZCBkYXRhSG9zdCBmb3IgYmluZGluZ3NcbiAgICAgIHNldHVwQmluZGluZ3ModGhpcywgdGVtcGxhdGVJbmZvKTtcbiAgICAgIC8vIEZsdXNoIHByb3BlcnRpZXMgaW50byB0ZW1wbGF0ZSBub2RlcyBpZiBhbHJlYWR5IGJvb3RlZFxuICAgICAgaWYgKHRoaXMuX19kYXRhUmVhZHkpIHtcbiAgICAgICAgcnVuRWZmZWN0cyh0aGlzLCB0ZW1wbGF0ZUluZm8ucHJvcGVydHlFZmZlY3RzLCB0aGlzLl9fZGF0YSwgbnVsbCxcbiAgICAgICAgICBmYWxzZSwgdGVtcGxhdGVJbmZvLm5vZGVMaXN0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkb207XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbmQgdW5iaW5kcyB0aGUgbm9kZXMgcHJldmlvdXNseSBjb250YWluZWQgaW4gdGhlIHByb3ZpZGVkXG4gICAgICogRG9jdW1lbnRGcmFnbWVudCByZXR1cm5lZCBmcm9tIGBfc3RhbXBUZW1wbGF0ZWAuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0geyFTdGFtcGVkVGVtcGxhdGV9IGRvbSBEb2N1bWVudEZyYWdtZW50IHByZXZpb3VzbHkgcmV0dXJuZWRcbiAgICAgKiAgIGZyb20gYF9zdGFtcFRlbXBsYXRlYCBhc3NvY2lhdGVkIHdpdGggdGhlIG5vZGVzIHRvIGJlIHJlbW92ZWRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfcmVtb3ZlQm91bmREb20oZG9tKSB7XG4gICAgICAvLyBVbmxpbmsgdGVtcGxhdGUgaW5mb1xuICAgICAgbGV0IHRlbXBsYXRlSW5mbyA9IGRvbS50ZW1wbGF0ZUluZm87XG4gICAgICBpZiAodGVtcGxhdGVJbmZvLnByZXZpb3VzVGVtcGxhdGVJbmZvKSB7XG4gICAgICAgIHRlbXBsYXRlSW5mby5wcmV2aW91c1RlbXBsYXRlSW5mby5uZXh0VGVtcGxhdGVJbmZvID1cbiAgICAgICAgICB0ZW1wbGF0ZUluZm8ubmV4dFRlbXBsYXRlSW5mbztcbiAgICAgIH1cbiAgICAgIGlmICh0ZW1wbGF0ZUluZm8ubmV4dFRlbXBsYXRlSW5mbykge1xuICAgICAgICB0ZW1wbGF0ZUluZm8ubmV4dFRlbXBsYXRlSW5mby5wcmV2aW91c1RlbXBsYXRlSW5mbyA9XG4gICAgICAgICAgdGVtcGxhdGVJbmZvLnByZXZpb3VzVGVtcGxhdGVJbmZvO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX190ZW1wbGF0ZUluZm9MYXN0ID09IHRlbXBsYXRlSW5mbykge1xuICAgICAgICB0aGlzLl9fdGVtcGxhdGVJbmZvTGFzdCA9IHRlbXBsYXRlSW5mby5wcmV2aW91c1RlbXBsYXRlSW5mbztcbiAgICAgIH1cbiAgICAgIHRlbXBsYXRlSW5mby5wcmV2aW91c1RlbXBsYXRlSW5mbyA9IHRlbXBsYXRlSW5mby5uZXh0VGVtcGxhdGVJbmZvID0gbnVsbDtcbiAgICAgIC8vIFJlbW92ZSBzdGFtcGVkIG5vZGVzXG4gICAgICBsZXQgbm9kZXMgPSB0ZW1wbGF0ZUluZm8uY2hpbGROb2RlcztcbiAgICAgIGZvciAobGV0IGk9MDsgaTxub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIGRlZmF1bHQgYFRlbXBsYXRlU3RhbXBgIGltcGxlbWVudGF0aW9uIHRvIGFkZCBzdXBwb3J0IGZvclxuICAgICAqIHBhcnNpbmcgYmluZGluZ3MgZnJvbSBgVGV4dE5vZGVgJ3MnIGB0ZXh0Q29udGVudGAuICBBIGBiaW5kaW5nc2BcbiAgICAgKiBhcnJheSBpcyBhZGRlZCB0byBgbm9kZUluZm9gIGFuZCBwb3B1bGF0ZWQgd2l0aCBiaW5kaW5nIG1ldGFkYXRhXG4gICAgICogd2l0aCBpbmZvcm1hdGlvbiBjYXB0dXJpbmcgdGhlIGJpbmRpbmcgdGFyZ2V0LCBhbmQgYSBgcGFydHNgIGFycmF5XG4gICAgICogd2l0aCBvbmUgb3IgbW9yZSBtZXRhZGF0YSBvYmplY3RzIGNhcHR1cmluZyB0aGUgc291cmNlKHMpIG9mIHRoZVxuICAgICAqIGJpbmRpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge05vZGV9IG5vZGUgTm9kZSB0byBwYXJzZVxuICAgICAqIEBwYXJhbSB7VGVtcGxhdGVJbmZvfSB0ZW1wbGF0ZUluZm8gVGVtcGxhdGUgbWV0YWRhdGEgZm9yIGN1cnJlbnQgdGVtcGxhdGVcbiAgICAgKiBAcGFyYW0ge05vZGVJbmZvfSBub2RlSW5mbyBOb2RlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlIG5vZGVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIHZpc2l0ZWQgbm9kZSBhZGRlZCBub2RlLXNwZWNpZmljXG4gICAgICogICBtZXRhZGF0YSB0byBgbm9kZUluZm9gXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9IEludGVyZmFjZXMgaW4gY2xvc3VyZSBkbyBub3QgaW5oZXJpdCBzdGF0aWNzLCBidXQgY2xhc3NlcyBkb1xuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9wYXJzZVRlbXBsYXRlTm9kZShub2RlLCB0ZW1wbGF0ZUluZm8sIG5vZGVJbmZvKSB7XG4gICAgICAvLyBUT0RPKGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1jb21waWxlci9pc3N1ZXMvMzI0MCk6XG4gICAgICAvLyAgICAgQ2hhbmdlIGJhY2sgdG8ganVzdCBzdXBlci5tZXRob2RDYWxsKClcbiAgICAgIGxldCBub3RlZCA9IHByb3BlcnR5RWZmZWN0c0Jhc2UuX3BhcnNlVGVtcGxhdGVOb2RlLmNhbGwoXG4gICAgICAgIHRoaXMsIG5vZGUsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8pO1xuICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XG4gICAgICAgIGxldCBwYXJ0cyA9IHRoaXMuX3BhcnNlQmluZGluZ3Mobm9kZS50ZXh0Q29udGVudCwgdGVtcGxhdGVJbmZvKTtcbiAgICAgICAgaWYgKHBhcnRzKSB7XG4gICAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgdGV4dENvbnRlbnQgd2l0aCBhbnkgbGl0ZXJhbCBwYXJ0c1xuICAgICAgICAgIC8vIE5PVEU6IGRlZmF1bHQgdG8gYSBzcGFjZSBoZXJlIHNvIHRoZSB0ZXh0Tm9kZSByZW1haW5zOyBzb21lIGJyb3dzZXJzXG4gICAgICAgICAgLy8gKElFKSBvbWl0IGFuIGVtcHR5IHRleHROb2RlIGZvbGxvd2luZyBjbG9uZU5vZGUvaW1wb3J0Tm9kZS5cbiAgICAgICAgICBub2RlLnRleHRDb250ZW50ID0gbGl0ZXJhbEZyb21QYXJ0cyhwYXJ0cykgfHwgJyAnO1xuICAgICAgICAgIGFkZEJpbmRpbmcodGhpcywgdGVtcGxhdGVJbmZvLCBub2RlSW5mbywgJ3RleHQnLCAndGV4dENvbnRlbnQnLCBwYXJ0cyk7XG4gICAgICAgICAgbm90ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbm90ZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIGRlZmF1bHQgYFRlbXBsYXRlU3RhbXBgIGltcGxlbWVudGF0aW9uIHRvIGFkZCBzdXBwb3J0IGZvclxuICAgICAqIHBhcnNpbmcgYmluZGluZ3MgZnJvbSBhdHRyaWJ1dGVzLiAgQSBgYmluZGluZ3NgXG4gICAgICogYXJyYXkgaXMgYWRkZWQgdG8gYG5vZGVJbmZvYCBhbmQgcG9wdWxhdGVkIHdpdGggYmluZGluZyBtZXRhZGF0YVxuICAgICAqIHdpdGggaW5mb3JtYXRpb24gY2FwdHVyaW5nIHRoZSBiaW5kaW5nIHRhcmdldCwgYW5kIGEgYHBhcnRzYCBhcnJheVxuICAgICAqIHdpdGggb25lIG9yIG1vcmUgbWV0YWRhdGEgb2JqZWN0cyBjYXB0dXJpbmcgdGhlIHNvdXJjZShzKSBvZiB0aGVcbiAgICAgKiBiaW5kaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBub2RlIE5vZGUgdG8gcGFyc2VcbiAgICAgKiBAcGFyYW0ge1RlbXBsYXRlSW5mb30gdGVtcGxhdGVJbmZvIFRlbXBsYXRlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlXG4gICAgICogQHBhcmFtIHtOb2RlSW5mb30gbm9kZUluZm8gTm9kZSBtZXRhZGF0YSBmb3IgY3VycmVudCB0ZW1wbGF0ZSBub2RlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgQXR0cmlidXRlIG5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgQXR0cmlidXRlIHZhbHVlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSB2aXNpdGVkIG5vZGUgYWRkZWQgbm9kZS1zcGVjaWZpY1xuICAgICAqICAgbWV0YWRhdGEgdG8gYG5vZGVJbmZvYFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBJbnRlcmZhY2VzIGluIGNsb3N1cmUgZG8gbm90IGluaGVyaXQgc3RhdGljcywgYnV0IGNsYXNzZXMgZG9cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfcGFyc2VUZW1wbGF0ZU5vZGVBdHRyaWJ1dGUobm9kZSwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbywgbmFtZSwgdmFsdWUpIHtcbiAgICAgIGxldCBwYXJ0cyA9IHRoaXMuX3BhcnNlQmluZGluZ3ModmFsdWUsIHRlbXBsYXRlSW5mbyk7XG4gICAgICBpZiAocGFydHMpIHtcbiAgICAgICAgLy8gQXR0cmlidXRlIG9yIHByb3BlcnR5XG4gICAgICAgIGxldCBvcmlnTmFtZSA9IG5hbWU7XG4gICAgICAgIGxldCBraW5kID0gJ3Byb3BlcnR5JztcbiAgICAgICAgLy8gVGhlIG9ubHkgd2F5IHdlIHNlZSBhIGNhcGl0YWwgbGV0dGVyIGhlcmUgaXMgaWYgdGhlIGF0dHIgaGFzXG4gICAgICAgIC8vIGEgY2FwaXRhbCBsZXR0ZXIgaW4gaXQgcGVyIHNwZWMuIEluIHRoaXMgY2FzZSwgdG8gbWFrZSBzdXJlXG4gICAgICAgIC8vIHRoaXMgYmluZGluZyB3b3Jrcywgd2UgZ28gYWhlYWQgYW5kIG1ha2UgdGhlIGJpbmRpbmcgdG8gdGhlIGF0dHJpYnV0ZS5cbiAgICAgICAgaWYgKGNhcGl0YWxBdHRyaWJ1dGVSZWdleC50ZXN0KG5hbWUpKSB7XG4gICAgICAgICAga2luZCA9ICdhdHRyaWJ1dGUnO1xuICAgICAgICB9IGVsc2UgaWYgKG5hbWVbbmFtZS5sZW5ndGgtMV0gPT0gJyQnKSB7XG4gICAgICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoMCwgLTEpO1xuICAgICAgICAgIGtpbmQgPSAnYXR0cmlidXRlJztcbiAgICAgICAgfVxuICAgICAgICAvLyBJbml0aWFsaXplIGF0dHJpYnV0ZSBiaW5kaW5ncyB3aXRoIGFueSBsaXRlcmFsIHBhcnRzXG4gICAgICAgIGxldCBsaXRlcmFsID0gbGl0ZXJhbEZyb21QYXJ0cyhwYXJ0cyk7XG4gICAgICAgIGlmIChsaXRlcmFsICYmIGtpbmQgPT0gJ2F0dHJpYnV0ZScpIHtcbiAgICAgICAgICAvLyBFbnN1cmUgYSBTaGFkeUNTUyB0ZW1wbGF0ZSBzY29wZWQgc3R5bGUgaXMgbm90IHJlbW92ZWRcbiAgICAgICAgICAvLyB3aGVuIGEgY2xhc3MkIGJpbmRpbmcncyBpbml0aWFsIGxpdGVyYWwgdmFsdWUgaXMgc2V0LlxuICAgICAgICAgIGlmIChuYW1lID09ICdjbGFzcycgJiYgbm9kZS5oYXNBdHRyaWJ1dGUoJ2NsYXNzJykpIHtcbiAgICAgICAgICAgIGxpdGVyYWwgKz0gJyAnICsgbm9kZS5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKG5hbWUsIGxpdGVyYWwpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENsZWFyIGF0dHJpYnV0ZSBiZWZvcmUgcmVtb3ZpbmcsIHNpbmNlIElFIHdvbid0IGFsbG93IHJlbW92aW5nXG4gICAgICAgIC8vIGB2YWx1ZWAgYXR0cmlidXRlIGlmIGl0IHByZXZpb3VzbHkgaGFkIGEgdmFsdWUgKGNhbid0XG4gICAgICAgIC8vIHVuY29uZGl0aW9uYWxseSBzZXQgJycgYmVmb3JlIHJlbW92aW5nIHNpbmNlIGF0dHJpYnV0ZXMgd2l0aCBgJGBcbiAgICAgICAgLy8gY2FuJ3QgYmUgc2V0IHVzaW5nIHNldEF0dHJpYnV0ZSlcbiAgICAgICAgaWYgKG5vZGUubG9jYWxOYW1lID09PSAnaW5wdXQnICYmIG9yaWdOYW1lID09PSAndmFsdWUnKSB7XG4gICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUob3JpZ05hbWUsICcnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZW1vdmUgYW5ub3RhdGlvblxuICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShvcmlnTmFtZSk7XG4gICAgICAgIC8vIENhc2UgaGFja2VyeTogYXR0cmlidXRlcyBhcmUgbG93ZXItY2FzZSwgYnV0IGJpbmQgdGFyZ2V0c1xuICAgICAgICAvLyAocHJvcGVydGllcykgYXJlIGNhc2Ugc2Vuc2l0aXZlLiBHYW1iaXQgaXMgdG8gbWFwIGRhc2gtY2FzZSB0b1xuICAgICAgICAvLyBjYW1lbC1jYXNlOiBgZm9vLWJhcmAgYmVjb21lcyBgZm9vQmFyYC5cbiAgICAgICAgLy8gQXR0cmlidXRlIGJpbmRpbmdzIGFyZSBleGNlcHRlZC5cbiAgICAgICAgaWYgKGtpbmQgPT09ICdwcm9wZXJ0eScpIHtcbiAgICAgICAgICBuYW1lID0gZGFzaFRvQ2FtZWxDYXNlKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGFkZEJpbmRpbmcodGhpcywgdGVtcGxhdGVJbmZvLCBub2RlSW5mbywga2luZCwgbmFtZSwgcGFydHMsIGxpdGVyYWwpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRPRE8oaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9jbG9zdXJlLWNvbXBpbGVyL2lzc3Vlcy8zMjQwKTpcbiAgICAgICAgLy8gICAgIENoYW5nZSBiYWNrIHRvIGp1c3Qgc3VwZXIubWV0aG9kQ2FsbCgpXG4gICAgICAgIHJldHVybiBwcm9wZXJ0eUVmZmVjdHNCYXNlLl9wYXJzZVRlbXBsYXRlTm9kZUF0dHJpYnV0ZS5jYWxsKFxuICAgICAgICAgIHRoaXMsIG5vZGUsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8sIG5hbWUsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgZGVmYXVsdCBgVGVtcGxhdGVTdGFtcGAgaW1wbGVtZW50YXRpb24gdG8gYWRkIHN1cHBvcnQgZm9yXG4gICAgICogYmluZGluZyB0aGUgcHJvcGVydGllcyB0aGF0IGEgbmVzdGVkIHRlbXBsYXRlIGRlcGVuZHMgb24gdG8gdGhlIHRlbXBsYXRlXG4gICAgICogYXMgYF9ob3N0Xzxwcm9wZXJ0eT5gLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtOb2RlfSBub2RlIE5vZGUgdG8gcGFyc2VcbiAgICAgKiBAcGFyYW0ge1RlbXBsYXRlSW5mb30gdGVtcGxhdGVJbmZvIFRlbXBsYXRlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlXG4gICAgICogQHBhcmFtIHtOb2RlSW5mb30gbm9kZUluZm8gTm9kZSBtZXRhZGF0YSBmb3IgY3VycmVudCB0ZW1wbGF0ZSBub2RlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSB2aXNpdGVkIG5vZGUgYWRkZWQgbm9kZS1zcGVjaWZpY1xuICAgICAqICAgbWV0YWRhdGEgdG8gYG5vZGVJbmZvYFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBJbnRlcmZhY2VzIGluIGNsb3N1cmUgZG8gbm90IGluaGVyaXQgc3RhdGljcywgYnV0IGNsYXNzZXMgZG9cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfcGFyc2VUZW1wbGF0ZU5lc3RlZFRlbXBsYXRlKG5vZGUsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8pIHtcbiAgICAgIC8vIFRPRE8oaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9jbG9zdXJlLWNvbXBpbGVyL2lzc3Vlcy8zMjQwKTpcbiAgICAgIC8vICAgICBDaGFuZ2UgYmFjayB0byBqdXN0IHN1cGVyLm1ldGhvZENhbGwoKVxuICAgICAgbGV0IG5vdGVkID0gcHJvcGVydHlFZmZlY3RzQmFzZS5fcGFyc2VUZW1wbGF0ZU5lc3RlZFRlbXBsYXRlLmNhbGwoXG4gICAgICAgIHRoaXMsIG5vZGUsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8pO1xuICAgICAgLy8gTWVyZ2UgaG9zdCBwcm9wcyBpbnRvIG91dGVyIHRlbXBsYXRlIGFuZCBhZGQgYmluZGluZ3NcbiAgICAgIGxldCBob3N0UHJvcHMgPSBub2RlSW5mby50ZW1wbGF0ZUluZm8uaG9zdFByb3BzO1xuICAgICAgbGV0IG1vZGUgPSAneyc7XG4gICAgICBmb3IgKGxldCBzb3VyY2UgaW4gaG9zdFByb3BzKSB7XG4gICAgICAgIGxldCBwYXJ0cyA9IFt7IG1vZGUsIHNvdXJjZSwgZGVwZW5kZW5jaWVzOiBbc291cmNlXSB9XTtcbiAgICAgICAgYWRkQmluZGluZyh0aGlzLCB0ZW1wbGF0ZUluZm8sIG5vZGVJbmZvLCAncHJvcGVydHknLCAnX2hvc3RfJyArIHNvdXJjZSwgcGFydHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vdGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB0byBwYXJzZSB0ZXh0IGluIGEgdGVtcGxhdGUgKGVpdGhlciBhdHRyaWJ1dGUgdmFsdWVzIG9yXG4gICAgICogdGV4dENvbnRlbnQpIGludG8gYmluZGluZyBtZXRhZGF0YS5cbiAgICAgKlxuICAgICAqIEFueSBvdmVycmlkZXMgb2YgdGhpcyBtZXRob2Qgc2hvdWxkIHJldHVybiBhbiBhcnJheSBvZiBiaW5kaW5nIHBhcnRcbiAgICAgKiBtZXRhZGF0YSAgcmVwcmVzZW50aW5nIG9uZSBvciBtb3JlIGJpbmRpbmdzIGZvdW5kIGluIHRoZSBwcm92aWRlZCB0ZXh0XG4gICAgICogYW5kIGFueSBcImxpdGVyYWxcIiB0ZXh0IGluIGJldHdlZW4uICBBbnkgbm9uLWxpdGVyYWwgcGFydHMgd2lsbCBiZSBwYXNzZWRcbiAgICAgKiB0byBgX2V2YWx1YXRlQmluZGluZ2Agd2hlbiBhbnkgZGVwZW5kZW5jaWVzIGNoYW5nZS4gIFRoZSBvbmx5IHJlcXVpcmVkXG4gICAgICogZmllbGRzIG9mIGVhY2ggXCJwYXJ0XCIgaW4gdGhlIHJldHVybmVkIGFycmF5IGFyZSBhcyBmb2xsb3dzOlxuICAgICAqXG4gICAgICogLSBgZGVwZW5kZW5jaWVzYCAtIEFycmF5IGNvbnRhaW5pbmcgdHJpZ2dlciBtZXRhZGF0YSBmb3IgZWFjaCBwcm9wZXJ0eVxuICAgICAqICAgdGhhdCBzaG91bGQgdHJpZ2dlciB0aGUgYmluZGluZyB0byB1cGRhdGVcbiAgICAgKiAtIGBsaXRlcmFsYCAtIFN0cmluZyBjb250YWluaW5nIHRleHQgaWYgdGhlIHBhcnQgcmVwcmVzZW50cyBhIGxpdGVyYWw7XG4gICAgICogICBpbiB0aGlzIGNhc2Ugbm8gYGRlcGVuZGVuY2llc2AgYXJlIG5lZWRlZFxuICAgICAqXG4gICAgICogQWRkaXRpb25hbCBtZXRhZGF0YSBmb3IgdXNlIGJ5IGBfZXZhbHVhdGVCaW5kaW5nYCBtYXkgYmUgcHJvdmlkZWQgaW5cbiAgICAgKiBlYWNoIHBhcnQgb2JqZWN0IGFzIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIGhhbmRsZXMgdGhlIGZvbGxvd2luZyB0eXBlcyBvZiBiaW5kaW5nc1xuICAgICAqIChvbmUgb3IgbW9yZSBtYXkgYmUgaW50ZXJtaXhlZCB3aXRoIGxpdGVyYWwgc3RyaW5ncyk6XG4gICAgICogLSBQcm9wZXJ0eSBiaW5kaW5nOiBgW1twcm9wXV1gXG4gICAgICogLSBQYXRoIGJpbmRpbmc6IGBbW29iamVjdC5wcm9wXV1gXG4gICAgICogLSBOZWdhdGVkIHByb3BlcnR5IG9yIHBhdGggYmluZGluZ3M6IGBbWyFwcm9wXV1gIG9yIGBbWyFvYmplY3QucHJvcF1dYFxuICAgICAqIC0gVHdvLXdheSBwcm9wZXJ0eSBvciBwYXRoIGJpbmRpbmdzIChzdXBwb3J0cyBuZWdhdGlvbik6XG4gICAgICogICBge3twcm9wfX1gLCBge3tvYmplY3QucHJvcH19YCwgYHt7IXByb3B9fWAgb3IgYHt7IW9iamVjdC5wcm9wfX1gXG4gICAgICogLSBJbmxpbmUgY29tcHV0ZWQgbWV0aG9kIChzdXBwb3J0cyBuZWdhdGlvbik6XG4gICAgICogICBgW1tjb21wdXRlKGEsICdsaXRlcmFsJywgYildXWAsIGBbWyFjb21wdXRlKGEsICdsaXRlcmFsJywgYildXWBcbiAgICAgKlxuICAgICAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHVzZXMgYSByZWd1bGFyIGV4cHJlc3Npb24gZm9yIGJlc3RcbiAgICAgKiBwZXJmb3JtYW5jZS4gSG93ZXZlciwgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiB1c2VzIGEgd2hpdGUtbGlzdCBvZlxuICAgICAqIGFsbG93ZWQgY2hhcmFjdGVycyBpbiBhIGRhdGEtYmluZGluZywgd2hpY2ggY2F1c2VzIHByb2JsZW1zIGZvclxuICAgICAqIGRhdGEtYmluZGluZ3MgdGhhdCBkbyB1c2UgY2hhcmFjdGVycyBub3QgaW4gdGhpcyB3aGl0ZS1saXN0LlxuICAgICAqXG4gICAgICogSW5zdGVhZCBvZiB1cGRhdGluZyB0aGUgd2hpdGUtbGlzdCB3aXRoIGFsbCBhbGxvd2VkIGNoYXJhY3RlcnMsXG4gICAgICogdGhlcmUgaXMgYSBTdHJpY3RCaW5kaW5nUGFyc2VyIChzZWUgbGliL21peGlucy9zdHJpY3QtYmluZGluZy1wYXJzZXIpXG4gICAgICogdGhhdCB1c2VzIGEgc3RhdGUgbWFjaGluZSBpbnN0ZWFkLiBUaGlzIHN0YXRlIG1hY2hpbmUgaXMgYWJsZSB0byBoYW5kbGVcbiAgICAgKiBhbGwgY2hhcmFjdGVycy4gSG93ZXZlciwgaXQgaXMgc2xpZ2h0bHkgbGVzcyBwZXJmb3JtYW50LCB0aGVyZWZvcmUgd2VcbiAgICAgKiBleHRyYWN0ZWQgaXQgaW50byBhIHNlcGFyYXRlIG9wdGlvbmFsIG1peGluLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGV4dCB0byBwYXJzZSBmcm9tIGF0dHJpYnV0ZSBvciB0ZXh0Q29udGVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0ZW1wbGF0ZUluZm8gQ3VycmVudCB0ZW1wbGF0ZSBtZXRhZGF0YVxuICAgICAqIEByZXR1cm4ge0FycmF5PCFCaW5kaW5nUGFydD59IEFycmF5IG9mIGJpbmRpbmcgcGFydCBtZXRhZGF0YVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfcGFyc2VCaW5kaW5ncyh0ZXh0LCB0ZW1wbGF0ZUluZm8pIHtcbiAgICAgIGxldCBwYXJ0cyA9IFtdO1xuICAgICAgbGV0IGxhc3RJbmRleCA9IDA7XG4gICAgICBsZXQgbTtcbiAgICAgIC8vIEV4YW1wbGU6IFwibGl0ZXJhbDF7e3Byb3B9fWxpdGVyYWwyW1shY29tcHV0ZShmb28sYmFyKV1dZmluYWxcIlxuICAgICAgLy8gUmVnZXggbWF0Y2hlczpcbiAgICAgIC8vICAgICAgICBJdGVyYXRpb24gMTogIEl0ZXJhdGlvbiAyOlxuICAgICAgLy8gbVsxXTogJ3t7JyAgICAgICAgICAnW1snXG4gICAgICAvLyBtWzJdOiAnJyAgICAgICAgICAgICchJ1xuICAgICAgLy8gbVszXTogJ3Byb3AnICAgICAgICAnY29tcHV0ZShmb28sYmFyKSdcbiAgICAgIHdoaWxlICgobSA9IGJpbmRpbmdSZWdleC5leGVjKHRleHQpKSAhPT0gbnVsbCkge1xuICAgICAgICAvLyBBZGQgbGl0ZXJhbCBwYXJ0XG4gICAgICAgIGlmIChtLmluZGV4ID4gbGFzdEluZGV4KSB7XG4gICAgICAgICAgcGFydHMucHVzaCh7bGl0ZXJhbDogdGV4dC5zbGljZShsYXN0SW5kZXgsIG0uaW5kZXgpfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIGJpbmRpbmcgcGFydFxuICAgICAgICBsZXQgbW9kZSA9IG1bMV1bMF07XG4gICAgICAgIGxldCBuZWdhdGUgPSBCb29sZWFuKG1bMl0pO1xuICAgICAgICBsZXQgc291cmNlID0gbVszXS50cmltKCk7XG4gICAgICAgIGxldCBjdXN0b21FdmVudCA9IGZhbHNlLCBub3RpZnlFdmVudCA9ICcnLCBjb2xvbiA9IC0xO1xuICAgICAgICBpZiAobW9kZSA9PSAneycgJiYgKGNvbG9uID0gc291cmNlLmluZGV4T2YoJzo6JykpID4gMCkge1xuICAgICAgICAgIG5vdGlmeUV2ZW50ID0gc291cmNlLnN1YnN0cmluZyhjb2xvbiArIDIpO1xuICAgICAgICAgIHNvdXJjZSA9IHNvdXJjZS5zdWJzdHJpbmcoMCwgY29sb24pO1xuICAgICAgICAgIGN1c3RvbUV2ZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2lnbmF0dXJlID0gcGFyc2VNZXRob2Qoc291cmNlKTtcbiAgICAgICAgbGV0IGRlcGVuZGVuY2llcyA9IFtdO1xuICAgICAgICBpZiAoc2lnbmF0dXJlKSB7XG4gICAgICAgICAgLy8gSW5saW5lIGNvbXB1dGVkIGZ1bmN0aW9uXG4gICAgICAgICAgbGV0IHthcmdzLCBtZXRob2ROYW1lfSA9IHNpZ25hdHVyZTtcbiAgICAgICAgICBmb3IgKGxldCBpPTA7IGk8YXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGFyZyA9IGFyZ3NbaV07XG4gICAgICAgICAgICBpZiAoIWFyZy5saXRlcmFsKSB7XG4gICAgICAgICAgICAgIGRlcGVuZGVuY2llcy5wdXNoKGFyZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBkeW5hbWljRm5zID0gdGVtcGxhdGVJbmZvLmR5bmFtaWNGbnM7XG4gICAgICAgICAgaWYgKGR5bmFtaWNGbnMgJiYgZHluYW1pY0Zuc1ttZXRob2ROYW1lXSB8fCBzaWduYXR1cmUuc3RhdGljKSB7XG4gICAgICAgICAgICBkZXBlbmRlbmNpZXMucHVzaChtZXRob2ROYW1lKTtcbiAgICAgICAgICAgIHNpZ25hdHVyZS5keW5hbWljRm4gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBQcm9wZXJ0eSBvciBwYXRoXG4gICAgICAgICAgZGVwZW5kZW5jaWVzLnB1c2goc291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJ0cy5wdXNoKHtcbiAgICAgICAgICBzb3VyY2UsIG1vZGUsIG5lZ2F0ZSwgY3VzdG9tRXZlbnQsIHNpZ25hdHVyZSwgZGVwZW5kZW5jaWVzLFxuICAgICAgICAgIGV2ZW50OiBub3RpZnlFdmVudFxuICAgICAgICB9KTtcbiAgICAgICAgbGFzdEluZGV4ID0gYmluZGluZ1JlZ2V4Lmxhc3RJbmRleDtcbiAgICAgIH1cbiAgICAgIC8vIEFkZCBhIGZpbmFsIGxpdGVyYWwgcGFydFxuICAgICAgaWYgKGxhc3RJbmRleCAmJiBsYXN0SW5kZXggPCB0ZXh0Lmxlbmd0aCkge1xuICAgICAgICBsZXQgbGl0ZXJhbCA9IHRleHQuc3Vic3RyaW5nKGxhc3RJbmRleCk7XG4gICAgICAgIGlmIChsaXRlcmFsKSB7XG4gICAgICAgICAgcGFydHMucHVzaCh7XG4gICAgICAgICAgICBsaXRlcmFsOiBsaXRlcmFsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHBhcnRzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHRvIGV2YWx1YXRlIGEgcHJldmlvdXNseSBwYXJzZWQgYmluZGluZyBwYXJ0IGJhc2VkIG9uIGEgc2V0IG9mXG4gICAgICogb25lIG9yIG1vcmUgY2hhbmdlZCBkZXBlbmRlbmNpZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gaW5zdCBFbGVtZW50IHRoYXQgc2hvdWxkIGJlIHVzZWQgYXNcbiAgICAgKiAgICAgc2NvcGUgZm9yIGJpbmRpbmcgZGVwZW5kZW5jaWVzXG4gICAgICogQHBhcmFtIHtCaW5kaW5nUGFydH0gcGFydCBCaW5kaW5nIHBhcnQgbWV0YWRhdGFcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBQcm9wZXJ0eS9wYXRoIHRoYXQgdHJpZ2dlcmVkIHRoaXMgZWZmZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BzIEJhZyBvZiBjdXJyZW50IHByb3BlcnR5IGNoYW5nZXNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2xkUHJvcHMgQmFnIG9mIHByZXZpb3VzIHZhbHVlcyBmb3IgY2hhbmdlZCBwcm9wZXJ0aWVzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoYXNQYXRocyBUcnVlIHdpdGggYHByb3BzYCBjb250YWlucyBvbmUgb3IgbW9yZSBwYXRoc1xuICAgICAqIEByZXR1cm4geyp9IFZhbHVlIHRoZSBiaW5kaW5nIHBhcnQgZXZhbHVhdGVkIHRvXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9ldmFsdWF0ZUJpbmRpbmcoaW5zdCwgcGFydCwgcGF0aCwgcHJvcHMsIG9sZFByb3BzLCBoYXNQYXRocykge1xuICAgICAgbGV0IHZhbHVlO1xuICAgICAgaWYgKHBhcnQuc2lnbmF0dXJlKSB7XG4gICAgICAgIHZhbHVlID0gcnVuTWV0aG9kRWZmZWN0KGluc3QsIHBhdGgsIHByb3BzLCBvbGRQcm9wcywgcGFydC5zaWduYXR1cmUpO1xuICAgICAgfSBlbHNlIGlmIChwYXRoICE9IHBhcnQuc291cmNlKSB7XG4gICAgICAgIHZhbHVlID0gZ2V0KGluc3QsIHBhcnQuc291cmNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChoYXNQYXRocyAmJiBpc1BhdGgocGF0aCkpIHtcbiAgICAgICAgICB2YWx1ZSA9IGdldChpbnN0LCBwYXRoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZSA9IGluc3QuX19kYXRhW3BhdGhdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocGFydC5uZWdhdGUpIHtcbiAgICAgICAgdmFsdWUgPSAhdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gIH1cblxuICByZXR1cm4gUHJvcGVydHlFZmZlY3RzO1xufSk7XG5cbi8qKlxuICogSGVscGVyIGFwaSBmb3IgZW5xdWV1aW5nIGNsaWVudCBkb20gY3JlYXRlZCBieSBhIGhvc3QgZWxlbWVudC5cbiAqXG4gKiBCeSBkZWZhdWx0IGVsZW1lbnRzIGFyZSBmbHVzaGVkIHZpYSBgX2ZsdXNoUHJvcGVydGllc2Agd2hlblxuICogYGNvbm5lY3RlZENhbGxiYWNrYCBpcyBjYWxsZWQuIEVsZW1lbnRzIGF0dGFjaCB0aGVpciBjbGllbnQgZG9tIHRvXG4gKiB0aGVtc2VsdmVzIGF0IGByZWFkeWAgdGltZSB3aGljaCByZXN1bHRzIGZyb20gdGhpcyBmaXJzdCBmbHVzaC5cbiAqIFRoaXMgcHJvdmlkZXMgYW4gb3JkZXJpbmcgZ3VhcmFudGVlIHRoYXQgdGhlIGNsaWVudCBkb20gYW4gZWxlbWVudFxuICogY3JlYXRlcyBpcyBmbHVzaGVkIGJlZm9yZSB0aGUgZWxlbWVudCBpdHNlbGYgKGkuZS4gY2xpZW50IGByZWFkeWBcbiAqIGZpcmVzIGJlZm9yZSBob3N0IGByZWFkeWApLlxuICpcbiAqIEhvd2V2ZXIsIGlmIGBfZmx1c2hQcm9wZXJ0aWVzYCBpcyBjYWxsZWQgKmJlZm9yZSogYW4gZWxlbWVudCBpcyBjb25uZWN0ZWQsXG4gKiBhcyBmb3IgZXhhbXBsZSBgVGVtcGxhdGl6ZWAgZG9lcywgdGhpcyBvcmRlcmluZyBndWFyYW50ZWUgY2Fubm90IGJlXG4gKiBzYXRpc2ZpZWQgYmVjYXVzZSBubyBlbGVtZW50cyBhcmUgY29ubmVjdGVkLiAoTm90ZTogQm91bmQgZWxlbWVudHMgdGhhdFxuICogcmVjZWl2ZSBkYXRhIGRvIGJlY29tZSBlbnF1ZXVlZCBjbGllbnRzIGFuZCBhcmUgcHJvcGVybHkgb3JkZXJlZCBidXRcbiAqIHVuYm91bmQgZWxlbWVudHMgYXJlIG5vdC4pXG4gKlxuICogVG8gbWFpbnRhaW4gdGhlIGRlc2lyZWQgXCJjbGllbnQgYmVmb3JlIGhvc3RcIiBvcmRlcmluZyBndWFyYW50ZWUgZm9yIHRoaXNcbiAqIGNhc2Ugd2UgcmVseSBvbiB0aGUgXCJob3N0IHN0YWNrLiBDbGllbnQgbm9kZXMgcmVnaXN0ZXJzIHRoZW1zZWx2ZXMgd2l0aFxuICogdGhlIGNyZWF0aW5nIGhvc3QgZWxlbWVudCB3aGVuIGNyZWF0ZWQuIFRoaXMgZW5zdXJlcyB0aGF0IGFsbCBjbGllbnQgZG9tXG4gKiBpcyByZWFkaWVkIGluIHRoZSBwcm9wZXIgb3JkZXIsIG1haW50YWluaW5nIHRoZSBkZXNpcmVkIGd1YXJhbnRlZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBIb3N0U3RhY2sge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnN0YWNrID0gW107XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHsqfSBpbnN0IEluc3RhbmNlIHRvIGFkZCB0byBob3N0U3RhY2tcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHJlZ2lzdGVySG9zdChpbnN0KSB7XG4gICAgaWYgKHRoaXMuc3RhY2subGVuZ3RoKSB7XG4gICAgICBsZXQgaG9zdCA9IHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGgtMV07XG4gICAgICBob3N0Ll9lbnF1ZXVlQ2xpZW50KGluc3QpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyp9IGluc3QgSW5zdGFuY2UgdG8gYmVnaW4gaG9zdGluZ1xuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgYmVnaW5Ib3N0aW5nKGluc3QpIHtcbiAgICB0aGlzLnN0YWNrLnB1c2goaW5zdCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHsqfSBpbnN0IEluc3RhbmNlIHRvIGVuZCBob3N0aW5nXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBlbmRIb3N0aW5nKGluc3QpIHtcbiAgICBsZXQgc3RhY2tMZW4gPSB0aGlzLnN0YWNrLmxlbmd0aDtcbiAgICBpZiAoc3RhY2tMZW4gJiYgdGhpcy5zdGFja1tzdGFja0xlbi0xXSA9PSBpbnN0KSB7XG4gICAgICB0aGlzLnN0YWNrLnBvcCgpO1xuICAgIH1cbiAgfVxufVxuY29uc3QgaG9zdFN0YWNrID0gbmV3IEhvc3RTdGFjaygpO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnLi4vdXRpbHMvYm9vdC5qcyc7XG5cbmltcG9ydCB7IGRlZHVwaW5nTWl4aW4gfSBmcm9tICcuLi91dGlscy9taXhpbi5qcyc7XG5pbXBvcnQgeyByZWdpc3RlciwgaW5jcmVtZW50SW5zdGFuY2VDb3VudCB9IGZyb20gJy4uL3V0aWxzL3RlbGVtZXRyeS5qcyc7XG5pbXBvcnQgeyBQcm9wZXJ0aWVzQ2hhbmdlZCB9IGZyb20gJy4vcHJvcGVydGllcy1jaGFuZ2VkLmpzJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgY29weSBvZiBgcHJvcHNgIHdpdGggZWFjaCBwcm9wZXJ0eSBub3JtYWxpemVkIHN1Y2ggdGhhdFxuICogdXBncmFkZWQgaXQgaXMgYW4gb2JqZWN0IHdpdGggYXQgbGVhc3QgYSB0eXBlIHByb3BlcnR5IHsgdHlwZTogVHlwZX0uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIFByb3BlcnRpZXMgdG8gbm9ybWFsaXplXG4gKiBAcmV0dXJuIHtPYmplY3R9IENvcHkgb2YgaW5wdXQgYHByb3BzYCB3aXRoIG5vcm1hbGl6ZWQgcHJvcGVydGllcyB0aGF0XG4gKiBhcmUgaW4gdGhlIGZvcm0ge3R5cGU6IFR5cGV9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBub3JtYWxpemVQcm9wZXJ0aWVzKHByb3BzKSB7XG4gIGNvbnN0IG91dHB1dCA9IHt9O1xuICBmb3IgKGxldCBwIGluIHByb3BzKSB7XG4gICAgY29uc3QgbyA9IHByb3BzW3BdO1xuICAgIG91dHB1dFtwXSA9ICh0eXBlb2YgbyA9PT0gJ2Z1bmN0aW9uJykgPyB7dHlwZTogb30gOiBvO1xuICB9XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cbi8qKlxuICogTWl4aW4gdGhhdCBwcm92aWRlcyBhIG1pbmltYWwgc3RhcnRpbmcgcG9pbnQgdG8gdXNpbmcgdGhlIFByb3BlcnRpZXNDaGFuZ2VkXG4gKiBtaXhpbiBieSBwcm92aWRpbmcgYSBtZWNoYW5pc20gdG8gZGVjbGFyZSBwcm9wZXJ0aWVzIGluIGEgc3RhdGljXG4gKiBnZXR0ZXIgKGUuZy4gc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkgeyByZXR1cm4geyBmb286IFN0cmluZyB9IH0pLiBDaGFuZ2VzXG4gKiBhcmUgcmVwb3J0ZWQgdmlhIHRoZSBgX3Byb3BlcnRpZXNDaGFuZ2VkYCBtZXRob2QuXG4gKlxuICogVGhpcyBtaXhpbiBwcm92aWRlcyBubyBzcGVjaWZpYyBzdXBwb3J0IGZvciByZW5kZXJpbmcuIFVzZXJzIGFyZSBleHBlY3RlZFxuICogdG8gY3JlYXRlIGEgU2hhZG93Um9vdCBhbmQgcHV0IGNvbnRlbnQgaW50byBpdCBhbmQgdXBkYXRlIGl0IGluIHdoYXRldmVyXG4gKiB3YXkgbWFrZXMgc2Vuc2UuIFRoaXMgY2FuIGJlIGRvbmUgaW4gcmVhY3Rpb24gdG8gcHJvcGVydGllcyBjaGFuZ2luZyBieVxuICogaW1wbGVtZW50aW5nIGBfcHJvcGVydGllc0NoYW5nZWRgLlxuICpcbiAqIEBtaXhpbkZ1bmN0aW9uXG4gKiBAcG9seW1lclxuICogQGFwcGxpZXNNaXhpbiBQcm9wZXJ0aWVzQ2hhbmdlZFxuICogQHN1bW1hcnkgTWl4aW4gdGhhdCBwcm92aWRlcyBhIG1pbmltYWwgc3RhcnRpbmcgcG9pbnQgZm9yIHVzaW5nXG4gKiB0aGUgUHJvcGVydGllc0NoYW5nZWQgbWl4aW4gYnkgcHJvdmlkaW5nIGEgZGVjbGFyYXRpdmUgYHByb3BlcnRpZXNgIG9iamVjdC5cbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKG5ldzpUKX0gc3VwZXJDbGFzcyBDbGFzcyB0byBhcHBseSBtaXhpbiB0by5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKG5ldzpUKX0gc3VwZXJDbGFzcyB3aXRoIG1peGluIGFwcGxpZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBQcm9wZXJ0aWVzTWl4aW4gPSBkZWR1cGluZ01peGluKHN1cGVyQ2xhc3MgPT4ge1xuXG4gLyoqXG4gICogQGNvbnN0cnVjdG9yXG4gICogQGltcGxlbWVudHMge1BvbHltZXJfUHJvcGVydGllc0NoYW5nZWR9XG4gICogQHByaXZhdGVcbiAgKi9cbiBjb25zdCBiYXNlID0gUHJvcGVydGllc0NoYW5nZWQoc3VwZXJDbGFzcyk7XG5cbiAvKipcbiAgKiBSZXR1cm5zIHRoZSBzdXBlciBjbGFzcyBjb25zdHJ1Y3RvciBmb3IgdGhlIGdpdmVuIGNsYXNzLCBpZiBpdCBpcyBhblxuICAqIGluc3RhbmNlIG9mIHRoZSBQcm9wZXJ0aWVzTWl4aW4uXG4gICpcbiAgKiBAcGFyYW0geyFQcm9wZXJ0aWVzTWl4aW5Db25zdHJ1Y3Rvcn0gY29uc3RydWN0b3IgUHJvcGVydGllc01peGluIGNvbnN0cnVjdG9yXG4gICogQHJldHVybiB7P1Byb3BlcnRpZXNNaXhpbkNvbnN0cnVjdG9yfSBTdXBlciBjbGFzcyBjb25zdHJ1Y3RvclxuICAqL1xuIGZ1bmN0aW9uIHN1cGVyUHJvcGVydGllc0NsYXNzKGNvbnN0cnVjdG9yKSB7XG4gICBjb25zdCBzdXBlckN0b3IgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY29uc3RydWN0b3IpO1xuXG4gICAvLyBOb3RlLCB0aGUgYFByb3BlcnRpZXNNaXhpbmAgY2xhc3MgYmVsb3cgb25seSByZWZlcnMgdG8gdGhlIGNsYXNzXG4gICAvLyBnZW5lcmF0ZWQgYnkgdGhpcyBjYWxsIHRvIHRoZSBtaXhpbjsgdGhlIGluc3RhbmNlb2YgdGVzdCBvbmx5IHdvcmtzXG4gICAvLyBiZWNhdXNlIHRoZSBtaXhpbiBpcyBkZWR1cGVkIGFuZCBndWFyYW50ZWVkIG9ubHkgdG8gYXBwbHkgb25jZSwgaGVuY2VcbiAgIC8vIGFsbCBjb25zdHJ1Y3RvcnMgaW4gYSBwcm90byBjaGFpbiB3aWxsIHNlZSB0aGUgc2FtZSBgUHJvcGVydGllc01peGluYFxuICAgcmV0dXJuIChzdXBlckN0b3IucHJvdG90eXBlIGluc3RhbmNlb2YgUHJvcGVydGllc01peGluKSA/XG4gICAgIC8qKiBAdHlwZSB7IVByb3BlcnRpZXNNaXhpbkNvbnN0cnVjdG9yfSAqLyAoc3VwZXJDdG9yKSA6IG51bGw7XG4gfVxuXG4gLyoqXG4gICogUmV0dXJucyBhIG1lbW9pemVkIHZlcnNpb24gb2YgdGhlIGBwcm9wZXJ0aWVzYCBvYmplY3QgZm9yIHRoZVxuICAqIGdpdmVuIGNsYXNzLiBQcm9wZXJ0aWVzIG5vdCBpbiBvYmplY3QgZm9ybWF0IGFyZSBjb252ZXJ0ZWQgdG8gYXRcbiAgKiBsZWFzdCB7dHlwZX0uXG4gICpcbiAgKiBAcGFyYW0ge1Byb3BlcnRpZXNNaXhpbkNvbnN0cnVjdG9yfSBjb25zdHJ1Y3RvciBQcm9wZXJ0aWVzTWl4aW4gY29uc3RydWN0b3JcbiAgKiBAcmV0dXJuIHtPYmplY3R9IE1lbW9pemVkIHByb3BlcnRpZXMgb2JqZWN0XG4gICovXG4gZnVuY3Rpb24gb3duUHJvcGVydGllcyhjb25zdHJ1Y3Rvcikge1xuICAgaWYgKCFjb25zdHJ1Y3Rvci5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdfX293blByb3BlcnRpZXMnLCBjb25zdHJ1Y3RvcikpKSB7XG4gICAgIGxldCBwcm9wcyA9IG51bGw7XG5cbiAgICAgaWYgKGNvbnN0cnVjdG9yLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ3Byb3BlcnRpZXMnLCBjb25zdHJ1Y3RvcikpKSB7XG4gICAgICAgY29uc3QgcHJvcGVydGllcyA9IGNvbnN0cnVjdG9yLnByb3BlcnRpZXM7XG5cbiAgICAgICBpZiAocHJvcGVydGllcykge1xuICAgICAgICBwcm9wcyA9IG5vcm1hbGl6ZVByb3BlcnRpZXMocHJvcGVydGllcyk7XG4gICAgICAgfVxuICAgICB9XG5cbiAgICAgY29uc3RydWN0b3IuX19vd25Qcm9wZXJ0aWVzID0gcHJvcHM7XG4gICB9XG4gICByZXR1cm4gY29uc3RydWN0b3IuX19vd25Qcm9wZXJ0aWVzO1xuIH1cblxuIC8qKlxuICAqIEBwb2x5bWVyXG4gICogQG1peGluQ2xhc3NcbiAgKiBAZXh0ZW5kcyB7YmFzZX1cbiAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9Qcm9wZXJ0aWVzTWl4aW59XG4gICogQHVucmVzdHJpY3RlZFxuICAqL1xuIGNsYXNzIFByb3BlcnRpZXNNaXhpbiBleHRlbmRzIGJhc2Uge1xuXG4gICAvKipcbiAgICAqIEltcGxlbWVudHMgc3RhbmRhcmQgY3VzdG9tIGVsZW1lbnRzIGdldHRlciB0byBvYnNlcnZlcyB0aGUgYXR0cmlidXRlc1xuICAgICogbGlzdGVkIGluIGBwcm9wZXJ0aWVzYC5cbiAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9IEludGVyZmFjZXMgaW4gY2xvc3VyZSBkbyBub3QgaW5oZXJpdCBzdGF0aWNzLCBidXQgY2xhc3NlcyBkb1xuICAgICogQG5vY29sbGFwc2VcbiAgICAqL1xuICAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG4gICAgIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdfX29ic2VydmVkQXR0cmlidXRlcycsIHRoaXMpKSkge1xuICAgICAgIHJlZ2lzdGVyKHRoaXMucHJvdG90eXBlKTtcbiAgICAgICBjb25zdCBwcm9wcyA9IHRoaXMuX3Byb3BlcnRpZXM7XG4gICAgICAgdGhpcy5fX29ic2VydmVkQXR0cmlidXRlcyA9IHByb3BzID8gT2JqZWN0LmtleXMocHJvcHMpLm1hcChwID0+IHRoaXMuYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KHApKSA6IFtdO1xuICAgICB9XG4gICAgIHJldHVybiB0aGlzLl9fb2JzZXJ2ZWRBdHRyaWJ1dGVzO1xuICAgfVxuXG4gICAvKipcbiAgICAqIEZpbmFsaXplcyBhbiBlbGVtZW50IGRlZmluaXRpb24sIGluY2x1ZGluZyBlbnN1cmluZyBhbnkgc3VwZXIgY2xhc3Nlc1xuICAgICogYXJlIGFsc28gZmluYWxpemVkLiBUaGlzIGluY2x1ZGVzIGVuc3VyaW5nIHByb3BlcnR5XG4gICAgKiBhY2Nlc3NvcnMgZXhpc3Qgb24gdGhlIGVsZW1lbnQgcHJvdG90eXBlLiBUaGlzIG1ldGhvZCBjYWxsc1xuICAgICogYF9maW5hbGl6ZUNsYXNzYCB0byBmaW5hbGl6ZSBlYWNoIGNvbnN0cnVjdG9yIGluIHRoZSBwcm90b3R5cGUgY2hhaW4uXG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICogQG5vY29sbGFwc2VcbiAgICAqL1xuICAgc3RhdGljIGZpbmFsaXplKCkge1xuICAgICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX19maW5hbGl6ZWQnLCB0aGlzKSkpIHtcbiAgICAgICBjb25zdCBzdXBlckN0b3IgPSBzdXBlclByb3BlcnRpZXNDbGFzcygvKiogQHR5cGUgeyFQcm9wZXJ0aWVzTWl4aW5Db25zdHJ1Y3Rvcn0gKi8odGhpcykpO1xuICAgICAgIGlmIChzdXBlckN0b3IpIHtcbiAgICAgICAgIHN1cGVyQ3Rvci5maW5hbGl6ZSgpO1xuICAgICAgIH1cbiAgICAgICB0aGlzLl9fZmluYWxpemVkID0gdHJ1ZTtcbiAgICAgICB0aGlzLl9maW5hbGl6ZUNsYXNzKCk7XG4gICAgIH1cbiAgIH1cblxuICAgLyoqXG4gICAgKiBGaW5hbGl6ZSBhbiBlbGVtZW50IGNsYXNzLiBUaGlzIGluY2x1ZGVzIGVuc3VyaW5nIHByb3BlcnR5XG4gICAgKiBhY2Nlc3NvcnMgZXhpc3Qgb24gdGhlIGVsZW1lbnQgcHJvdG90eXBlLiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgYnlcbiAgICAqIGBmaW5hbGl6ZWAgYW5kIGZpbmFsaXplcyB0aGUgY2xhc3MgY29uc3RydWN0b3IuXG4gICAgKlxuICAgICogQHByb3RlY3RlZFxuICAgICogQG5vY29sbGFwc2VcbiAgICAqL1xuICAgc3RhdGljIF9maW5hbGl6ZUNsYXNzKCkge1xuICAgICBjb25zdCBwcm9wcyA9IG93blByb3BlcnRpZXMoLyoqIEB0eXBlIHshUHJvcGVydGllc01peGluQ29uc3RydWN0b3J9ICovKHRoaXMpKTtcbiAgICAgaWYgKHByb3BzKSB7XG4gICAgICAgLyoqIEB0eXBlIHs/fSAqLyAodGhpcykuY3JlYXRlUHJvcGVydGllcyhwcm9wcyk7XG4gICAgIH1cbiAgIH1cblxuICAgLyoqXG4gICAgKiBSZXR1cm5zIGEgbWVtb2l6ZWQgdmVyc2lvbiBvZiBhbGwgcHJvcGVydGllcywgaW5jbHVkaW5nIHRob3NlIGluaGVyaXRlZFxuICAgICogZnJvbSBzdXBlciBjbGFzc2VzLiBQcm9wZXJ0aWVzIG5vdCBpbiBvYmplY3QgZm9ybWF0IGFyZSBjb252ZXJ0ZWQgdG9cbiAgICAqIGF0IGxlYXN0IHt0eXBlfS5cbiAgICAqXG4gICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCBjb250YWluaW5nIHByb3BlcnRpZXMgZm9yIHRoaXMgY2xhc3NcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAqIEBub2NvbGxhcHNlXG4gICAgKi9cbiAgIHN0YXRpYyBnZXQgX3Byb3BlcnRpZXMoKSB7XG4gICAgIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eShcbiAgICAgICBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdfX3Byb3BlcnRpZXMnLCB0aGlzKSkpIHtcbiAgICAgICBjb25zdCBzdXBlckN0b3IgPSBzdXBlclByb3BlcnRpZXNDbGFzcygvKiogQHR5cGUgeyFQcm9wZXJ0aWVzTWl4aW5Db25zdHJ1Y3Rvcn0gKi8odGhpcykpO1xuICAgICAgIHRoaXMuX19wcm9wZXJ0aWVzID0gT2JqZWN0LmFzc2lnbih7fSxcbiAgICAgICAgIHN1cGVyQ3RvciAmJiBzdXBlckN0b3IuX3Byb3BlcnRpZXMsXG4gICAgICAgICBvd25Qcm9wZXJ0aWVzKC8qKiBAdHlwZSB7UHJvcGVydGllc01peGluQ29uc3RydWN0b3J9ICovKHRoaXMpKSk7XG4gICAgIH1cbiAgICAgcmV0dXJuIHRoaXMuX19wcm9wZXJ0aWVzO1xuICAgfVxuXG4gICAvKipcbiAgICAqIE92ZXJyaWRlcyBgUHJvcGVydGllc0NoYW5nZWRgIG1ldGhvZCB0byByZXR1cm4gdHlwZSBzcGVjaWZpZWQgaW4gdGhlXG4gICAgKiBzdGF0aWMgYHByb3BlcnRpZXNgIG9iamVjdCBmb3IgdGhlIGdpdmVuIHByb3BlcnR5LlxuICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiBwcm9wZXJ0eVxuICAgICogQHJldHVybiB7Kn0gVHlwZSB0byB3aGljaCB0byBkZXNlcmlhbGl6ZSBhdHRyaWJ1dGVcbiAgICAqXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgKiBAbm9jb2xsYXBzZVxuICAgICovXG4gICBzdGF0aWMgdHlwZUZvclByb3BlcnR5KG5hbWUpIHtcbiAgICAgY29uc3QgaW5mbyA9IHRoaXMuX3Byb3BlcnRpZXNbbmFtZV07XG4gICAgIHJldHVybiBpbmZvICYmIGluZm8udHlwZTtcbiAgIH1cblxuICAgLyoqXG4gICAgKiBPdmVycmlkZXMgYFByb3BlcnRpZXNDaGFuZ2VkYCBtZXRob2QgYW5kIGFkZHMgYSBjYWxsIHRvXG4gICAgKiBgZmluYWxpemVgIHdoaWNoIGxhemlseSBjb25maWd1cmVzIHRoZSBlbGVtZW50J3MgcHJvcGVydHkgYWNjZXNzb3JzLlxuICAgICogQG92ZXJyaWRlXG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICovXG4gICBfaW5pdGlhbGl6ZVByb3BlcnRpZXMoKSB7XG4gICAgIGluY3JlbWVudEluc3RhbmNlQ291bnQoKTtcbiAgICAgdGhpcy5jb25zdHJ1Y3Rvci5maW5hbGl6ZSgpO1xuICAgICBzdXBlci5faW5pdGlhbGl6ZVByb3BlcnRpZXMoKTtcbiAgIH1cblxuICAgLyoqXG4gICAgKiBDYWxsZWQgd2hlbiB0aGUgZWxlbWVudCBpcyBhZGRlZCB0byBhIGRvY3VtZW50LlxuICAgICogQ2FsbHMgYF9lbmFibGVQcm9wZXJ0aWVzYCB0byB0dXJuIG9uIHByb3BlcnR5IHN5c3RlbSBmcm9tXG4gICAgKiBgUHJvcGVydGllc0NoYW5nZWRgLlxuICAgICogQHN1cHByZXNzIHttaXNzaW5nUHJvcGVydGllc30gU3VwZXIgbWF5IG9yIG1heSBub3QgaW1wbGVtZW50IHRoZSBjYWxsYmFja1xuICAgICogQHJldHVybiB7dm9pZH1cbiAgICAqIEBvdmVycmlkZVxuICAgICovXG4gICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgaWYgKHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKSB7XG4gICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgfVxuICAgICB0aGlzLl9lbmFibGVQcm9wZXJ0aWVzKCk7XG4gICB9XG5cbiAgIC8qKlxuICAgICogQ2FsbGVkIHdoZW4gdGhlIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIGEgZG9jdW1lbnRcbiAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9IFN1cGVyIG1heSBvciBtYXkgbm90IGltcGxlbWVudCB0aGUgY2FsbGJhY2tcbiAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgKiBAb3ZlcnJpZGVcbiAgICAqL1xuICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgIGlmIChzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaykge1xuICAgICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgIH1cbiAgIH1cblxuIH1cblxuIHJldHVybiBQcm9wZXJ0aWVzTWl4aW47XG5cbn0pO1xuIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3XG4gKiBAc3VwcHJlc3Mge2NoZWNrUHJvdG90eXBhbFR5cGVzfVxuICogQGxpY2Vuc2UgQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmRcbiAqIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXlcbiAqIGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnlcbiAqIEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVBcbiAqIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuaW1wb3J0ICcuLi91dGlscy9ib290LmpzJztcblxuaW1wb3J0IHsgcm9vdFBhdGgsIHN0cmljdFRlbXBsYXRlUG9saWN5LCBhbGxvd1RlbXBsYXRlRnJvbURvbU1vZHVsZSwgbGVnYWN5T3B0aW1pemF0aW9ucywgc3luY0luaXRpYWxSZW5kZXIgfSBmcm9tICcuLi91dGlscy9zZXR0aW5ncy5qcyc7XG5pbXBvcnQgeyBkZWR1cGluZ01peGluIH0gZnJvbSAnLi4vdXRpbHMvbWl4aW4uanMnO1xuaW1wb3J0IHsgc3R5bGVzRnJvbVRlbXBsYXRlLCBzdHlsZXNGcm9tTW9kdWxlSW1wb3J0cyB9IGZyb20gJy4uL3V0aWxzL3N0eWxlLWdhdGhlci5qcyc7XG5pbXBvcnQgeyBwYXRoRnJvbVVybCwgcmVzb2x2ZUNzcywgcmVzb2x2ZVVybCB9IGZyb20gJy4uL3V0aWxzL3Jlc29sdmUtdXJsLmpzJztcbmltcG9ydCB7IERvbU1vZHVsZSB9IGZyb20gJy4uL2VsZW1lbnRzL2RvbS1tb2R1bGUuanMnO1xuaW1wb3J0IHsgUHJvcGVydHlFZmZlY3RzIH0gZnJvbSAnLi9wcm9wZXJ0eS1lZmZlY3RzLmpzJztcbmltcG9ydCB7IFByb3BlcnRpZXNNaXhpbiB9IGZyb20gJy4vcHJvcGVydGllcy1taXhpbi5qcyc7XG5pbXBvcnQgeyB3cmFwIH0gZnJvbSAnLi4vdXRpbHMvd3JhcC5qcyc7XG5cbi8qKlxuICogQ3VycmVudCBQb2x5bWVyIHZlcnNpb24gaW4gU2VtdmVyIG5vdGF0aW9uLlxuICogQHR5cGUge3N0cmluZ30gU2VtdmVyIG5vdGF0aW9uIG9mIHRoZSBjdXJyZW50IHZlcnNpb24gb2YgUG9seW1lci5cbiAqL1xuZXhwb3J0IGNvbnN0IHZlcnNpb24gPSAnMy4zLjEnO1xuXG5jb25zdCBidWlsdENTUyA9IHdpbmRvdy5TaGFkeUNTUyAmJiB3aW5kb3cuU2hhZHlDU1NbJ2Nzc0J1aWxkJ107XG5cbi8qKlxuICogRWxlbWVudCBjbGFzcyBtaXhpbiB0aGF0IHByb3ZpZGVzIHRoZSBjb3JlIEFQSSBmb3IgUG9seW1lcidzIG1ldGEtcHJvZ3JhbW1pbmdcbiAqIGZlYXR1cmVzIGluY2x1ZGluZyB0ZW1wbGF0ZSBzdGFtcGluZywgZGF0YS1iaW5kaW5nLCBhdHRyaWJ1dGUgZGVzZXJpYWxpemF0aW9uLFxuICogYW5kIHByb3BlcnR5IGNoYW5nZSBvYnNlcnZhdGlvbi5cbiAqXG4gKiBTdWJjbGFzc2VycyBtYXkgcHJvdmlkZSB0aGUgZm9sbG93aW5nIHN0YXRpYyBnZXR0ZXJzIHRvIHJldHVybiBtZXRhZGF0YVxuICogdXNlZCB0byBjb25maWd1cmUgUG9seW1lcidzIGZlYXR1cmVzIGZvciB0aGUgY2xhc3M6XG4gKlxuICogLSBgc3RhdGljIGdldCBpcygpYDogV2hlbiB0aGUgdGVtcGxhdGUgaXMgcHJvdmlkZWQgdmlhIGEgYGRvbS1tb2R1bGVgLFxuICogICB1c2VycyBzaG91bGQgcmV0dXJuIHRoZSBgZG9tLW1vZHVsZWAgaWQgZnJvbSBhIHN0YXRpYyBgaXNgIGdldHRlci4gIElmXG4gKiAgIG5vIHRlbXBsYXRlIGlzIG5lZWRlZCBvciB0aGUgdGVtcGxhdGUgaXMgcHJvdmlkZWQgZGlyZWN0bHkgdmlhIHRoZVxuICogICBgdGVtcGxhdGVgIGdldHRlciwgdGhlcmUgaXMgbm8gbmVlZCB0byBkZWZpbmUgYGlzYCBmb3IgdGhlIGVsZW1lbnQuXG4gKlxuICogLSBgc3RhdGljIGdldCB0ZW1wbGF0ZSgpYDogVXNlcnMgbWF5IHByb3ZpZGUgdGhlIHRlbXBsYXRlIGRpcmVjdGx5IChhc1xuICogICBvcHBvc2VkIHRvIHZpYSBgZG9tLW1vZHVsZWApIGJ5IGltcGxlbWVudGluZyBhIHN0YXRpYyBgdGVtcGxhdGVgIGdldHRlci5cbiAqICAgVGhlIGdldHRlciBtdXN0IHJldHVybiBhbiBgSFRNTFRlbXBsYXRlRWxlbWVudGAuXG4gKlxuICogLSBgc3RhdGljIGdldCBwcm9wZXJ0aWVzKClgOiBTaG91bGQgcmV0dXJuIGFuIG9iamVjdCBkZXNjcmliaW5nXG4gKiAgIHByb3BlcnR5LXJlbGF0ZWQgbWV0YWRhdGEgdXNlZCBieSBQb2x5bWVyIGZlYXR1cmVzIChrZXk6IHByb3BlcnR5IG5hbWVcbiAqICAgdmFsdWU6IG9iamVjdCBjb250YWluaW5nIHByb3BlcnR5IG1ldGFkYXRhKS4gVmFsaWQga2V5cyBpbiBwZXItcHJvcGVydHlcbiAqICAgbWV0YWRhdGEgaW5jbHVkZTpcbiAqICAgLSBgdHlwZWAgKFN0cmluZ3xOdW1iZXJ8T2JqZWN0fEFycmF5fC4uLik6IFVzZWQgYnlcbiAqICAgICBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYCB0byBkZXRlcm1pbmUgaG93IHN0cmluZy1iYXNlZCBhdHRyaWJ1dGVzXG4gKiAgICAgYXJlIGRlc2VyaWFsaXplZCB0byBKYXZhU2NyaXB0IHByb3BlcnR5IHZhbHVlcy5cbiAqICAgLSBgbm90aWZ5YCAoYm9vbGVhbik6IENhdXNlcyBhIGNoYW5nZSBpbiB0aGUgcHJvcGVydHkgdG8gZmlyZSBhXG4gKiAgICAgbm9uLWJ1YmJsaW5nIGV2ZW50IGNhbGxlZCBgPHByb3BlcnR5Pi1jaGFuZ2VkYC4gRWxlbWVudHMgdGhhdCBoYXZlXG4gKiAgICAgZW5hYmxlZCB0d28td2F5IGJpbmRpbmcgdG8gdGhlIHByb3BlcnR5IHVzZSB0aGlzIGV2ZW50IHRvIG9ic2VydmUgY2hhbmdlcy5cbiAqICAgLSBgcmVhZE9ubHlgIChib29sZWFuKTogQ3JlYXRlcyBhIGdldHRlciBmb3IgdGhlIHByb3BlcnR5LCBidXQgbm8gc2V0dGVyLlxuICogICAgIFRvIHNldCBhIHJlYWQtb25seSBwcm9wZXJ0eSwgdXNlIHRoZSBwcml2YXRlIHNldHRlciBtZXRob2RcbiAqICAgICBgX3NldFByb3BlcnR5KHByb3BlcnR5LCB2YWx1ZSlgLlxuICogICAtIGBvYnNlcnZlcmAgKHN0cmluZyk6IE9ic2VydmVyIG1ldGhvZCBuYW1lIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlblxuICogICAgIHRoZSBwcm9wZXJ0eSBjaGFuZ2VzLiBUaGUgYXJndW1lbnRzIG9mIHRoZSBtZXRob2QgYXJlXG4gKiAgICAgYCh2YWx1ZSwgcHJldmlvdXNWYWx1ZSlgLlxuICogICAtIGBjb21wdXRlZGAgKHN0cmluZyk6IFN0cmluZyBkZXNjcmliaW5nIG1ldGhvZCBhbmQgZGVwZW5kZW50IHByb3BlcnRpZXNcbiAqICAgICBmb3IgY29tcHV0aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIHByb3BlcnR5IChlLmcuIGAnY29tcHV0ZUZvbyhiYXIsIHpvdCknYCkuXG4gKiAgICAgQ29tcHV0ZWQgcHJvcGVydGllcyBhcmUgcmVhZC1vbmx5IGJ5IGRlZmF1bHQgYW5kIGNhbiBvbmx5IGJlIGNoYW5nZWRcbiAqICAgICB2aWEgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgY29tcHV0aW5nIG1ldGhvZC5cbiAqXG4gKiAtIGBzdGF0aWMgZ2V0IG9ic2VydmVycygpYDogQXJyYXkgb2Ygc3RyaW5ncyBkZXNjcmliaW5nIG11bHRpLXByb3BlcnR5XG4gKiAgIG9ic2VydmVyIG1ldGhvZHMgYW5kIHRoZWlyIGRlcGVuZGVudCBwcm9wZXJ0aWVzIChlLmcuXG4gKiAgIGAnb2JzZXJ2ZUFCQyhhLCBiLCBjKSdgKS5cbiAqXG4gKiBUaGUgYmFzZSBjbGFzcyBwcm92aWRlcyBkZWZhdWx0IGltcGxlbWVudGF0aW9ucyBmb3IgdGhlIGZvbGxvd2luZyBzdGFuZGFyZFxuICogY3VzdG9tIGVsZW1lbnQgbGlmZWN5Y2xlIGNhbGxiYWNrczsgdXNlcnMgbWF5IG92ZXJyaWRlIHRoZXNlLCBidXQgc2hvdWxkXG4gKiBjYWxsIHRoZSBzdXBlciBtZXRob2QgdG8gZW5zdXJlXG4gKiAtIGBjb25zdHJ1Y3RvcmA6IFJ1biB3aGVuIHRoZSBlbGVtZW50IGlzIGNyZWF0ZWQgb3IgdXBncmFkZWRcbiAqIC0gYGNvbm5lY3RlZENhbGxiYWNrYDogUnVuIGVhY2ggdGltZSB0aGUgZWxlbWVudCBpcyBjb25uZWN0ZWQgdG8gdGhlXG4gKiAgIGRvY3VtZW50XG4gKiAtIGBkaXNjb25uZWN0ZWRDYWxsYmFja2A6IFJ1biBlYWNoIHRpbWUgdGhlIGVsZW1lbnQgaXMgZGlzY29ubmVjdGVkIGZyb21cbiAqICAgdGhlIGRvY3VtZW50XG4gKiAtIGBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tgOiBSdW4gZWFjaCB0aW1lIGFuIGF0dHJpYnV0ZSBpblxuICogICBgb2JzZXJ2ZWRBdHRyaWJ1dGVzYCBpcyBzZXQgb3IgcmVtb3ZlZCAobm90ZTogdGhpcyBlbGVtZW50J3MgZGVmYXVsdFxuICogICBgb2JzZXJ2ZWRBdHRyaWJ1dGVzYCBpbXBsZW1lbnRhdGlvbiB3aWxsIGF1dG9tYXRpY2FsbHkgcmV0dXJuIGFuIGFycmF5XG4gKiAgIG9mIGRhc2gtY2FzZWQgYXR0cmlidXRlcyBiYXNlZCBvbiBgcHJvcGVydGllc2ApXG4gKlxuICogQG1peGluRnVuY3Rpb25cbiAqIEBwb2x5bWVyXG4gKiBAYXBwbGllc01peGluIFByb3BlcnR5RWZmZWN0c1xuICogQGFwcGxpZXNNaXhpbiBQcm9wZXJ0aWVzTWl4aW5cbiAqIEBwcm9wZXJ0eSByb290UGF0aCB7c3RyaW5nfSBTZXQgdG8gdGhlIHZhbHVlIG9mIGByb290UGF0aGAsXG4gKiAgIHdoaWNoIGRlZmF1bHRzIHRvIHRoZSBtYWluIGRvY3VtZW50IHBhdGhcbiAqIEBwcm9wZXJ0eSBpbXBvcnRQYXRoIHtzdHJpbmd9IFNldCB0byB0aGUgdmFsdWUgb2YgdGhlIGNsYXNzJ3Mgc3RhdGljXG4gKiAgIGBpbXBvcnRQYXRoYCBwcm9wZXJ0eSwgd2hpY2ggZGVmYXVsdHMgdG8gdGhlIHBhdGggb2YgdGhpcyBlbGVtZW50J3NcbiAqICAgYGRvbS1tb2R1bGVgICh3aGVuIGBpc2AgaXMgdXNlZCksIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlbiBmb3Igb3RoZXJcbiAqICAgaW1wb3J0IHN0cmF0ZWdpZXMuXG4gKiBAc3VtbWFyeSBFbGVtZW50IGNsYXNzIG1peGluIHRoYXQgcHJvdmlkZXMgdGhlIGNvcmUgQVBJIGZvciBQb2x5bWVyJ3NcbiAqIG1ldGEtcHJvZ3JhbW1pbmcgZmVhdHVyZXMuXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3MgQ2xhc3MgdG8gYXBwbHkgbWl4aW4gdG8uXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3Mgd2l0aCBtaXhpbiBhcHBsaWVkLlxuICovXG5leHBvcnQgY29uc3QgRWxlbWVudE1peGluID0gZGVkdXBpbmdNaXhpbihiYXNlID0+IHtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9XG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX1Byb3BlcnRpZXNNaXhpbn1cbiAgICogQGV4dGVuZHMge0hUTUxFbGVtZW50fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29uc3QgcG9seW1lckVsZW1lbnRCYXNlID0gUHJvcGVydGllc01peGluKFByb3BlcnR5RWZmZWN0cyhiYXNlKSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBsaXN0IG9mIHByb3BlcnRpZXMgd2l0aCBkZWZhdWx0IHZhbHVlcy5cbiAgICogVGhpcyBsaXN0IGlzIGNyZWF0ZWQgYXMgYW4gb3B0aW1pemF0aW9uIHNpbmNlIGl0IGlzIGEgc3Vic2V0IG9mXG4gICAqIHRoZSBsaXN0IHJldHVybmVkIGZyb20gYF9wcm9wZXJ0aWVzYC5cbiAgICogVGhpcyBsaXN0IGlzIHVzZWQgaW4gYF9pbml0aWFsaXplUHJvcGVydGllc2AgdG8gc2V0IHByb3BlcnR5IGRlZmF1bHRzLlxuICAgKlxuICAgKiBAcGFyYW0ge1BvbHltZXJFbGVtZW50Q29uc3RydWN0b3J9IGNvbnN0cnVjdG9yIEVsZW1lbnQgY2xhc3NcbiAgICogQHJldHVybiB7UG9seW1lckVsZW1lbnRQcm9wZXJ0aWVzfSBGbGF0dGVuZWQgcHJvcGVydGllcyBmb3IgdGhpcyBjbGFzc1xuICAgKiAgIHRoYXQgaGF2ZSBkZWZhdWx0IHZhbHVlc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gcHJvcGVydHlEZWZhdWx0cyhjb25zdHJ1Y3Rvcikge1xuICAgIGlmICghY29uc3RydWN0b3IuaGFzT3duUHJvcGVydHkoXG4gICAgICBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdfX3Byb3BlcnR5RGVmYXVsdHMnLCBjb25zdHJ1Y3RvcikpKSB7XG4gICAgICBjb25zdHJ1Y3Rvci5fX3Byb3BlcnR5RGVmYXVsdHMgPSBudWxsO1xuICAgICAgbGV0IHByb3BzID0gY29uc3RydWN0b3IuX3Byb3BlcnRpZXM7XG4gICAgICBmb3IgKGxldCBwIGluIHByb3BzKSB7XG4gICAgICAgIGxldCBpbmZvID0gcHJvcHNbcF07XG4gICAgICAgIGlmICgndmFsdWUnIGluIGluZm8pIHtcbiAgICAgICAgICBjb25zdHJ1Y3Rvci5fX3Byb3BlcnR5RGVmYXVsdHMgPSBjb25zdHJ1Y3Rvci5fX3Byb3BlcnR5RGVmYXVsdHMgfHwge307XG4gICAgICAgICAgY29uc3RydWN0b3IuX19wcm9wZXJ0eURlZmF1bHRzW3BdID0gaW5mbztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29uc3RydWN0b3IuX19wcm9wZXJ0eURlZmF1bHRzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBtZW1vaXplZCB2ZXJzaW9uIG9mIHRoZSBgb2JzZXJ2ZXJzYCBhcnJheS5cbiAgICogQHBhcmFtIHtQb2x5bWVyRWxlbWVudENvbnN0cnVjdG9yfSBjb25zdHJ1Y3RvciBFbGVtZW50IGNsYXNzXG4gICAqIEByZXR1cm4ge0FycmF5fSBBcnJheSBjb250YWluaW5nIG93biBvYnNlcnZlcnMgZm9yIHRoZSBnaXZlbiBjbGFzc1xuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBmdW5jdGlvbiBvd25PYnNlcnZlcnMoY29uc3RydWN0b3IpIHtcbiAgICBpZiAoIWNvbnN0cnVjdG9yLmhhc093blByb3BlcnR5KFxuICAgICAgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX19vd25PYnNlcnZlcnMnLCBjb25zdHJ1Y3RvcikpKSB7XG4gICAgICBjb25zdHJ1Y3Rvci5fX293bk9ic2VydmVycyA9XG4gICAgICAgICAgY29uc3RydWN0b3IuaGFzT3duUHJvcGVydHkoXG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ29ic2VydmVycycsIGNvbnN0cnVjdG9yKSkgP1xuICAgICAgICAgIC8qKiBAdHlwZSB7UG9seW1lckVsZW1lbnRDb25zdHJ1Y3Rvcn0gKi8gKGNvbnN0cnVjdG9yKS5vYnNlcnZlcnMgOlxuICAgICAgICAgIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjb25zdHJ1Y3Rvci5fX293bk9ic2VydmVycztcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGVmZmVjdHMgZm9yIGEgcHJvcGVydHkuXG4gICAqXG4gICAqIE5vdGUsIG9uY2UgYSBwcm9wZXJ0eSBoYXMgYmVlbiBzZXQgdG9cbiAgICogYHJlYWRPbmx5YCwgYGNvbXB1dGVkYCwgYHJlZmxlY3RUb0F0dHJpYnV0ZWAsIG9yIGBub3RpZnlgXG4gICAqIHRoZXNlIHZhbHVlcyBtYXkgbm90IGJlIGNoYW5nZWQuIEZvciBleGFtcGxlLCBhIHN1YmNsYXNzIGNhbm5vdFxuICAgKiBhbHRlciB0aGVzZSBzZXR0aW5ncy4gSG93ZXZlciwgYWRkaXRpb25hbCBgb2JzZXJ2ZXJzYCBtYXkgYmUgYWRkZWRcbiAgICogYnkgc3ViY2xhc3Nlcy5cbiAgICpcbiAgICogVGhlIGluZm8gb2JqZWN0IHNob3VsZCBjb250YWluIHByb3BlcnR5IG1ldGFkYXRhIGFzIGZvbGxvd3M6XG4gICAqXG4gICAqICogYHR5cGVgOiB7ZnVuY3Rpb259IHR5cGUgdG8gd2hpY2ggYW4gYXR0cmlidXRlIG1hdGNoaW5nIHRoZSBwcm9wZXJ0eVxuICAgKiBpcyBkZXNlcmlhbGl6ZWQuIE5vdGUgdGhlIHByb3BlcnR5IGlzIGNhbWVsLWNhc2VkIGZyb20gYSBkYXNoLWNhc2VkXG4gICAqIGF0dHJpYnV0ZS4gRm9yIGV4YW1wbGUsICdmb28tYmFyJyBhdHRyaWJ1dGUgaXMgZGVzZXJpYWxpemVkIHRvIGFcbiAgICogcHJvcGVydHkgbmFtZWQgJ2Zvb0JhcicuXG4gICAqXG4gICAqICogYHJlYWRPbmx5YDoge2Jvb2xlYW59IGNyZWF0ZXMgYSByZWFkT25seSBwcm9wZXJ0eSBhbmRcbiAgICogbWFrZXMgYSBwcml2YXRlIHNldHRlciBmb3IgdGhlIHByaXZhdGUgb2YgdGhlIGZvcm0gJ19zZXRGb28nIGZvciBhXG4gICAqIHByb3BlcnR5ICdmb28nLFxuICAgKlxuICAgKiAqIGBjb21wdXRlZGA6IHtzdHJpbmd9IGNyZWF0ZXMgYSBjb21wdXRlZCBwcm9wZXJ0eS4gQSBjb21wdXRlZCBwcm9wZXJ0eVxuICAgKiBpcyBhbHNvIGF1dG9tYXRpY2FsbHkgc2V0IHRvIGByZWFkT25seTogdHJ1ZWAuIFRoZSB2YWx1ZSBpcyBjYWxjdWxhdGVkXG4gICAqIGJ5IHJ1bm5pbmcgYSBtZXRob2QgYW5kIGFyZ3VtZW50cyBwYXJzZWQgZnJvbSB0aGUgZ2l2ZW4gc3RyaW5nLiBGb3JcbiAgICogZXhhbXBsZSAnY29tcHV0ZShmb28pJyB3aWxsIGNvbXB1dGUgYSBnaXZlbiBwcm9wZXJ0eSB3aGVuIHRoZVxuICAgKiAnZm9vJyBwcm9wZXJ0eSBjaGFuZ2VzIGJ5IGV4ZWN1dGluZyB0aGUgJ2NvbXB1dGUnIG1ldGhvZC4gVGhpcyBtZXRob2RcbiAgICogbXVzdCByZXR1cm4gdGhlIGNvbXB1dGVkIHZhbHVlLlxuICAgKlxuICAgKiAqIGByZWZsZWN0VG9BdHRyaWJ1dGVgOiB7Ym9vbGVhbn0gSWYgdHJ1ZSwgdGhlIHByb3BlcnR5IHZhbHVlIGlzIHJlZmxlY3RlZFxuICAgKiB0byBhbiBhdHRyaWJ1dGUgb2YgdGhlIHNhbWUgbmFtZS4gTm90ZSwgdGhlIGF0dHJpYnV0ZSBpcyBkYXNoLWNhc2VkXG4gICAqIHNvIGEgcHJvcGVydHkgbmFtZWQgJ2Zvb0JhcicgaXMgcmVmbGVjdGVkIGFzICdmb28tYmFyJy5cbiAgICpcbiAgICogKiBgbm90aWZ5YDoge2Jvb2xlYW59IHNlbmRzIGEgbm9uLWJ1YmJsaW5nIG5vdGlmaWNhdGlvbiBldmVudCB3aGVuXG4gICAqIHRoZSBwcm9wZXJ0eSBjaGFuZ2VzLiBGb3IgZXhhbXBsZSwgYSBwcm9wZXJ0eSBuYW1lZCAnZm9vJyBzZW5kcyBhblxuICAgKiBldmVudCBuYW1lZCAnZm9vLWNoYW5nZWQnIHdpdGggYGV2ZW50LmRldGFpbGAgc2V0IHRvIHRoZSB2YWx1ZSBvZlxuICAgKiB0aGUgcHJvcGVydHkuXG4gICAqXG4gICAqICogb2JzZXJ2ZXI6IHtzdHJpbmd9IG5hbWUgb2YgYSBtZXRob2QgdGhhdCBydW5zIHdoZW4gdGhlIHByb3BlcnR5XG4gICAqIGNoYW5nZXMuIFRoZSBhcmd1bWVudHMgb2YgdGhlIG1ldGhvZCBhcmUgKHZhbHVlLCBwcmV2aW91c1ZhbHVlKS5cbiAgICpcbiAgICogTm90ZTogVXNlcnMgbWF5IHdhbnQgY29udHJvbCBvdmVyIG1vZGlmeWluZyBwcm9wZXJ0eVxuICAgKiBlZmZlY3RzIHZpYSBzdWJjbGFzc2luZy4gRm9yIGV4YW1wbGUsIGEgdXNlciBtaWdodCB3YW50IHRvIG1ha2UgYVxuICAgKiByZWZsZWN0VG9BdHRyaWJ1dGUgcHJvcGVydHkgbm90IGRvIHNvIGluIGEgc3ViY2xhc3MuIFdlJ3ZlIGNob3NlbiB0b1xuICAgKiBkaXNhYmxlIHRoaXMgYmVjYXVzZSBpdCBsZWFkcyB0byBhZGRpdGlvbmFsIGNvbXBsaWNhdGlvbi5cbiAgICogRm9yIGV4YW1wbGUsIGEgcmVhZE9ubHkgZWZmZWN0IGdlbmVyYXRlcyBhIHNwZWNpYWwgc2V0dGVyLiBJZiBhIHN1YmNsYXNzXG4gICAqIGRpc2FibGVzIHRoZSBlZmZlY3QsIHRoZSBzZXR0ZXIgd291bGQgZmFpbCB1bmV4cGVjdGVkbHkuXG4gICAqIEJhc2VkIG9uIGZlZWRiYWNrLCB3ZSBtYXkgd2FudCB0byB0cnkgdG8gbWFrZSBlZmZlY3RzIG1vcmUgbWFsbGVhYmxlXG4gICAqIGFuZC9vciBwcm92aWRlIGFuIGFkdmFuY2VkIGFwaSBmb3IgbWFuaXB1bGF0aW5nIHRoZW0uXG4gICAqXG4gICAqIEBwYXJhbSB7IVBvbHltZXJFbGVtZW50fSBwcm90byBFbGVtZW50IGNsYXNzIHByb3RvdHlwZSB0byBhZGQgYWNjZXNzb3JzXG4gICAqICAgYW5kIGVmZmVjdHMgdG9cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiB0aGUgcHJvcGVydHkuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpbmZvIEluZm8gb2JqZWN0IGZyb20gd2hpY2ggdG8gY3JlYXRlIHByb3BlcnR5IGVmZmVjdHMuXG4gICAqIFN1cHBvcnRlZCBrZXlzOlxuICAgKiBAcGFyYW0ge09iamVjdH0gYWxsUHJvcHMgRmxhdHRlbmVkIG1hcCBvZiBhbGwgcHJvcGVydGllcyBkZWZpbmVkIGluIHRoaXNcbiAgICogICBlbGVtZW50IChpbmNsdWRpbmcgaW5oZXJpdGVkIHByb3BlcnRpZXMpXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBjcmVhdGVQcm9wZXJ0eUZyb21Db25maWcocHJvdG8sIG5hbWUsIGluZm8sIGFsbFByb3BzKSB7XG4gICAgLy8gY29tcHV0ZWQgZm9yY2VzIHJlYWRPbmx5Li4uXG4gICAgaWYgKGluZm8uY29tcHV0ZWQpIHtcbiAgICAgIGluZm8ucmVhZE9ubHkgPSB0cnVlO1xuICAgIH1cbiAgICAvLyBOb3RlLCBzaW5jZSBhbGwgY29tcHV0ZWQgcHJvcGVydGllcyBhcmUgcmVhZE9ubHksIHRoaXMgcHJldmVudHNcbiAgICAvLyBhZGRpbmcgYWRkaXRpb25hbCBjb21wdXRlZCBwcm9wZXJ0eSBlZmZlY3RzICh3aGljaCBsZWFkcyB0byBhIGNvbmZ1c2luZ1xuICAgIC8vIHNldHVwIHdoZXJlIG11bHRpcGxlIHRyaWdnZXJzIGZvciBzZXR0aW5nIGEgcHJvcGVydHkpXG4gICAgLy8gV2hpbGUgd2UgZG8gaGF2ZSBgaGFzQ29tcHV0ZWRFZmZlY3RgIHRoaXMgaXMgc2V0IG9uIHRoZSBwcm9wZXJ0eSdzXG4gICAgLy8gZGVwZW5kZW5jaWVzIHJhdGhlciB0aGFuIGl0c2VsZi5cbiAgICBpZiAoaW5mby5jb21wdXRlZCkge1xuICAgICAgaWYgKHByb3RvLl9oYXNSZWFkT25seUVmZmVjdChuYW1lKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYENhbm5vdCByZWRlZmluZSBjb21wdXRlZCBwcm9wZXJ0eSAnJHtuYW1lfScuYCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm90by5fY3JlYXRlQ29tcHV0ZWRQcm9wZXJ0eShuYW1lLCBpbmZvLmNvbXB1dGVkLCBhbGxQcm9wcyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpbmZvLnJlYWRPbmx5ICYmICFwcm90by5faGFzUmVhZE9ubHlFZmZlY3QobmFtZSkpIHtcbiAgICAgIHByb3RvLl9jcmVhdGVSZWFkT25seVByb3BlcnR5KG5hbWUsICFpbmZvLmNvbXB1dGVkKTtcbiAgICB9IGVsc2UgaWYgKGluZm8ucmVhZE9ubHkgPT09IGZhbHNlICYmIHByb3RvLl9oYXNSZWFkT25seUVmZmVjdChuYW1lKSkge1xuICAgICAgY29uc29sZS53YXJuKGBDYW5ub3QgbWFrZSByZWFkT25seSBwcm9wZXJ0eSAnJHtuYW1lfScgbm9uLXJlYWRPbmx5LmApO1xuICAgIH1cbiAgICBpZiAoaW5mby5yZWZsZWN0VG9BdHRyaWJ1dGUgJiYgIXByb3RvLl9oYXNSZWZsZWN0RWZmZWN0KG5hbWUpKSB7XG4gICAgICBwcm90by5fY3JlYXRlUmVmbGVjdGVkUHJvcGVydHkobmFtZSk7XG4gICAgfSBlbHNlIGlmIChpbmZvLnJlZmxlY3RUb0F0dHJpYnV0ZSA9PT0gZmFsc2UgJiYgcHJvdG8uX2hhc1JlZmxlY3RFZmZlY3QobmFtZSkpIHtcbiAgICAgIGNvbnNvbGUud2FybihgQ2Fubm90IG1ha2UgcmVmbGVjdGVkIHByb3BlcnR5ICcke25hbWV9JyBub24tcmVmbGVjdGVkLmApO1xuICAgIH1cbiAgICBpZiAoaW5mby5ub3RpZnkgJiYgIXByb3RvLl9oYXNOb3RpZnlFZmZlY3QobmFtZSkpIHtcbiAgICAgIHByb3RvLl9jcmVhdGVOb3RpZnlpbmdQcm9wZXJ0eShuYW1lKTtcbiAgICB9IGVsc2UgaWYgKGluZm8ubm90aWZ5ID09PSBmYWxzZSAmJiBwcm90by5faGFzTm90aWZ5RWZmZWN0KG5hbWUpKSB7XG4gICAgICBjb25zb2xlLndhcm4oYENhbm5vdCBtYWtlIG5vdGlmeSBwcm9wZXJ0eSAnJHtuYW1lfScgbm9uLW5vdGlmeS5gKTtcbiAgICB9XG4gICAgLy8gYWx3YXlzIGFkZCBvYnNlcnZlclxuICAgIGlmIChpbmZvLm9ic2VydmVyKSB7XG4gICAgICBwcm90by5fY3JlYXRlUHJvcGVydHlPYnNlcnZlcihuYW1lLCBpbmZvLm9ic2VydmVyLCBhbGxQcm9wc1tpbmZvLm9ic2VydmVyXSk7XG4gICAgfVxuICAgIC8vIGFsd2F5cyBjcmVhdGUgdGhlIG1hcHBpbmcgZnJvbSBhdHRyaWJ1dGUgYmFjayB0byBwcm9wZXJ0eSBmb3IgZGVzZXJpYWxpemF0aW9uLlxuICAgIHByb3RvLl9hZGRQcm9wZXJ0eVRvQXR0cmlidXRlTWFwKG5hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb2Nlc3MgYWxsIHN0eWxlIGVsZW1lbnRzIGluIHRoZSBlbGVtZW50IHRlbXBsYXRlLiBTdHlsZXMgd2l0aCB0aGVcbiAgICogYGluY2x1ZGVgIGF0dHJpYnV0ZSBhcmUgcHJvY2Vzc2VkIHN1Y2ggdGhhdCBhbnkgc3R5bGVzIGluXG4gICAqIHRoZSBhc3NvY2lhdGVkIFwic3R5bGUgbW9kdWxlc1wiIGFyZSBpbmNsdWRlZCBpbiB0aGUgZWxlbWVudCB0ZW1wbGF0ZS5cbiAgICogQHBhcmFtIHtQb2x5bWVyRWxlbWVudENvbnN0cnVjdG9yfSBrbGFzcyBFbGVtZW50IGNsYXNzXG4gICAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlIFRlbXBsYXRlIHRvIHByb2Nlc3NcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlzIE5hbWUgb2YgZWxlbWVudFxuICAgKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSSSBCYXNlIFVSSSBmb3IgZWxlbWVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gcHJvY2Vzc0VsZW1lbnRTdHlsZXMoa2xhc3MsIHRlbXBsYXRlLCBpcywgYmFzZVVSSSkge1xuICAgIGlmICghYnVpbHRDU1MpIHtcbiAgICAgIGNvbnN0IHRlbXBsYXRlU3R5bGVzID0gdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yQWxsKCdzdHlsZScpO1xuICAgICAgY29uc3Qgc3R5bGVzV2l0aEltcG9ydHMgPSBzdHlsZXNGcm9tVGVtcGxhdGUodGVtcGxhdGUpO1xuICAgICAgLy8gaW5zZXJ0IHN0eWxlcyBmcm9tIDxsaW5rIHJlbD1cImltcG9ydFwiIHR5cGU9XCJjc3NcIj4gYXQgdGhlIHRvcCBvZiB0aGUgdGVtcGxhdGVcbiAgICAgIGNvbnN0IGxpbmtlZFN0eWxlcyA9IHN0eWxlc0Zyb21Nb2R1bGVJbXBvcnRzKGlzKTtcbiAgICAgIGNvbnN0IGZpcnN0VGVtcGxhdGVDaGlsZCA9IHRlbXBsYXRlLmNvbnRlbnQuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBsaW5rZWRTdHlsZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBsZXQgcyA9IGxpbmtlZFN0eWxlc1tpZHhdO1xuICAgICAgICBzLnRleHRDb250ZW50ID0ga2xhc3MuX3Byb2Nlc3NTdHlsZVRleHQocy50ZXh0Q29udGVudCwgYmFzZVVSSSk7XG4gICAgICAgIHRlbXBsYXRlLmNvbnRlbnQuaW5zZXJ0QmVmb3JlKHMsIGZpcnN0VGVtcGxhdGVDaGlsZCk7XG4gICAgICB9XG4gICAgICAvLyBrZWVwIHRyYWNrIG9mIHRoZSBsYXN0IFwiY29uY3JldGVcIiBzdHlsZSBpbiB0aGUgdGVtcGxhdGUgd2UgaGF2ZSBlbmNvdW50ZXJlZFxuICAgICAgbGV0IHRlbXBsYXRlU3R5bGVJbmRleCA9IDA7XG4gICAgICAvLyBlbnN1cmUgYWxsIGdhdGhlcmVkIHN0eWxlcyBhcmUgYWN0dWFsbHkgaW4gdGhpcyB0ZW1wbGF0ZS5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3R5bGVzV2l0aEltcG9ydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHMgPSBzdHlsZXNXaXRoSW1wb3J0c1tpXTtcbiAgICAgICAgbGV0IHRlbXBsYXRlU3R5bGUgPSB0ZW1wbGF0ZVN0eWxlc1t0ZW1wbGF0ZVN0eWxlSW5kZXhdO1xuICAgICAgICAvLyBpZiB0aGUgc3R5bGUgaXMgbm90IGluIHRoaXMgdGVtcGxhdGUsIGl0J3MgYmVlbiBcImluY2x1ZGVkXCIgYW5kXG4gICAgICAgIC8vIHdlIHB1dCBhIGNsb25lIG9mIGl0IGluIHRoZSB0ZW1wbGF0ZSBiZWZvcmUgdGhlIHN0eWxlIHRoYXQgaW5jbHVkZWQgaXRcbiAgICAgICAgaWYgKHRlbXBsYXRlU3R5bGUgIT09IHMpIHtcbiAgICAgICAgICBzID0gcy5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgICAgdGVtcGxhdGVTdHlsZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzLCB0ZW1wbGF0ZVN0eWxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZW1wbGF0ZVN0eWxlSW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICBzLnRleHRDb250ZW50ID0ga2xhc3MuX3Byb2Nlc3NTdHlsZVRleHQocy50ZXh0Q29udGVudCwgYmFzZVVSSSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh3aW5kb3cuU2hhZHlDU1MpIHtcbiAgICAgIHdpbmRvdy5TaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGUodGVtcGxhdGUsIGlzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTG9vayB1cCB0ZW1wbGF0ZSBmcm9tIGRvbS1tb2R1bGUgZm9yIGVsZW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlzIEVsZW1lbnQgbmFtZSB0byBsb29rIHVwXG4gICAqIEByZXR1cm4gez9IVE1MVGVtcGxhdGVFbGVtZW50fHVuZGVmaW5lZH0gVGVtcGxhdGUgZm91bmQgaW4gZG9tIG1vZHVsZSwgb3JcbiAgICogICB1bmRlZmluZWQgaWYgbm90IGZvdW5kXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGZ1bmN0aW9uIGdldFRlbXBsYXRlRnJvbURvbU1vZHVsZShpcykge1xuICAgIGxldCB0ZW1wbGF0ZSA9IG51bGw7XG4gICAgLy8gVW5kZXIgc3RyaWN0VGVtcGxhdGVQb2xpY3kgaW4gMy54KywgZG9tLW1vZHVsZSBsb29rdXAgaXMgb25seSBhbGxvd2VkXG4gICAgLy8gd2hlbiBvcHRlZC1pbiB2aWEgYWxsb3dUZW1wbGF0ZUZyb21Eb21Nb2R1bGVcbiAgICBpZiAoaXMgJiYgKCFzdHJpY3RUZW1wbGF0ZVBvbGljeSB8fCBhbGxvd1RlbXBsYXRlRnJvbURvbU1vZHVsZSkpIHtcbiAgICAgIHRlbXBsYXRlID0gLyoqIEB0eXBlIHs/SFRNTFRlbXBsYXRlRWxlbWVudH0gKi8gKFxuICAgICAgICAgIERvbU1vZHVsZS5pbXBvcnQoaXMsICd0ZW1wbGF0ZScpKTtcbiAgICAgIC8vIFVuZGVyIHN0cmljdFRlbXBsYXRlUG9saWN5LCByZXF1aXJlIGFueSBlbGVtZW50IHdpdGggYW4gYGlzYFxuICAgICAgLy8gc3BlY2lmaWVkIHRvIGhhdmUgYSBkb20tbW9kdWxlXG4gICAgICBpZiAoc3RyaWN0VGVtcGxhdGVQb2xpY3kgJiYgIXRlbXBsYXRlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgc3RyaWN0VGVtcGxhdGVQb2xpY3k6IGV4cGVjdGluZyBkb20tbW9kdWxlIG9yIG51bGwgdGVtcGxhdGUgZm9yICR7aXN9YCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcG9seW1lclxuICAgKiBAbWl4aW5DbGFzc1xuICAgKiBAdW5yZXN0cmljdGVkXG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX0VsZW1lbnRNaXhpbn1cbiAgICogQGV4dGVuZHMge3BvbHltZXJFbGVtZW50QmFzZX1cbiAgICovXG4gIGNsYXNzIFBvbHltZXJFbGVtZW50IGV4dGVuZHMgcG9seW1lckVsZW1lbnRCYXNlIHtcblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgUG9seW1lciB2ZXJzaW9uIGluIFNlbXZlciBub3RhdGlvbi5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfSBTZW12ZXIgbm90YXRpb24gb2YgdGhlIGN1cnJlbnQgdmVyc2lvbiBvZiBQb2x5bWVyLlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIGdldCBwb2x5bWVyRWxlbWVudFZlcnNpb24oKSB7XG4gICAgICByZXR1cm4gdmVyc2lvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSBvZiBQcm9wZXJ0aWVzTWl4aW4gX2ZpbmFsaXplQ2xhc3MgdG8gY3JlYXRlIG9ic2VydmVycyBhbmRcbiAgICAgKiBmaW5kIHRoZSB0ZW1wbGF0ZS5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBJbnRlcmZhY2VzIGluIGNsb3N1cmUgZG8gbm90IGluaGVyaXQgc3RhdGljcywgYnV0IGNsYXNzZXMgZG9cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfZmluYWxpemVDbGFzcygpIHtcbiAgICAgIC8vIFRPRE8oaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9jbG9zdXJlLWNvbXBpbGVyL2lzc3Vlcy8zMjQwKTpcbiAgICAgIC8vICAgICBDaGFuZ2UgYmFjayB0byBqdXN0IHN1cGVyLm1ldGhvZENhbGwoKVxuICAgICAgcG9seW1lckVsZW1lbnRCYXNlLl9maW5hbGl6ZUNsYXNzLmNhbGwodGhpcyk7XG4gICAgICBjb25zdCBvYnNlcnZlcnMgPSBvd25PYnNlcnZlcnModGhpcyk7XG4gICAgICBpZiAob2JzZXJ2ZXJzKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlT2JzZXJ2ZXJzKG9ic2VydmVycywgdGhpcy5fcHJvcGVydGllcyk7XG4gICAgICB9XG4gICAgICB0aGlzLl9wcmVwYXJlVGVtcGxhdGUoKTtcbiAgICB9XG5cbiAgICAvKiogQG5vY29sbGFwc2UgKi9cbiAgICBzdGF0aWMgX3ByZXBhcmVUZW1wbGF0ZSgpIHtcbiAgICAgIC8vIG5vdGU6IGNyZWF0ZSBcIndvcmtpbmdcIiB0ZW1wbGF0ZSB0aGF0IGlzIGZpbmFsaXplZCBhdCBpbnN0YW5jZSB0aW1lXG4gICAgICBsZXQgdGVtcGxhdGUgPSAvKiogQHR5cGUge1BvbHltZXJFbGVtZW50Q29uc3RydWN0b3J9ICovICh0aGlzKS50ZW1wbGF0ZTtcbiAgICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHRlbXBsYXRlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ3RlbXBsYXRlIGdldHRlciBtdXN0IHJldHVybiBIVE1MVGVtcGxhdGVFbGVtZW50Jyk7XG4gICAgICAgICAgdGVtcGxhdGUgPSBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKCFsZWdhY3lPcHRpbWl6YXRpb25zKSB7XG4gICAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqIEBvdmVycmlkZSAqL1xuICAgICAgdGhpcy5wcm90b3R5cGUuX3RlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgb2YgUHJvcGVydGllc0NoYW5nZWQgY3JlYXRlUHJvcGVydGllcyB0byBjcmVhdGUgYWNjZXNzb3JzXG4gICAgICogYW5kIHByb3BlcnR5IGVmZmVjdHMgZm9yIGFsbCBvZiB0aGUgcHJvcGVydGllcy5cbiAgICAgKiBAcGFyYW0geyFPYmplY3R9IHByb3BzIC5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVQcm9wZXJ0aWVzKHByb3BzKSB7XG4gICAgICBmb3IgKGxldCBwIGluIHByb3BzKSB7XG4gICAgICAgIGNyZWF0ZVByb3BlcnR5RnJvbUNvbmZpZyhcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7P30gKi8gKHRoaXMucHJvdG90eXBlKSwgcCwgcHJvcHNbcF0sIHByb3BzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG9ic2VydmVycyBmb3IgdGhlIGdpdmVuIGBvYnNlcnZlcnNgIGFycmF5LlxuICAgICAqIExldmVyYWdlcyBgUHJvcGVydHlFZmZlY3RzYCB0byBjcmVhdGUgb2JzZXJ2ZXJzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYnNlcnZlcnMgQXJyYXkgb2Ygb2JzZXJ2ZXIgZGVzY3JpcHRvcnMgZm9yXG4gICAgICogICB0aGlzIGNsYXNzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGR5bmFtaWNGbnMgT2JqZWN0IGNvbnRhaW5pbmcga2V5cyBmb3IgYW55IHByb3BlcnRpZXNcbiAgICAgKiAgIHRoYXQgYXJlIGZ1bmN0aW9ucyBhbmQgc2hvdWxkIHRyaWdnZXIgdGhlIGVmZmVjdCB3aGVuIHRoZSBmdW5jdGlvblxuICAgICAqICAgcmVmZXJlbmNlIGlzIGNoYW5nZWRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVPYnNlcnZlcnMob2JzZXJ2ZXJzLCBkeW5hbWljRm5zKSB7XG4gICAgICBjb25zdCBwcm90byA9IHRoaXMucHJvdG90eXBlO1xuICAgICAgZm9yIChsZXQgaT0wOyBpIDwgb2JzZXJ2ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHByb3RvLl9jcmVhdGVNZXRob2RPYnNlcnZlcihvYnNlcnZlcnNbaV0sIGR5bmFtaWNGbnMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHRlbXBsYXRlIHRoYXQgd2lsbCBiZSBzdGFtcGVkIGludG8gdGhpcyBlbGVtZW50J3Mgc2hhZG93IHJvb3QuXG4gICAgICpcbiAgICAgKiBJZiBhIGBzdGF0aWMgZ2V0IGlzKClgIGdldHRlciBpcyBkZWZpbmVkLCB0aGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvblxuICAgICAqIHdpbGwgcmV0dXJuIHRoZSBmaXJzdCBgPHRlbXBsYXRlPmAgaW4gYSBgZG9tLW1vZHVsZWAgd2hvc2UgYGlkYFxuICAgICAqIG1hdGNoZXMgdGhpcyBlbGVtZW50J3MgYGlzYC5cbiAgICAgKlxuICAgICAqIFVzZXJzIG1heSBvdmVycmlkZSB0aGlzIGdldHRlciB0byByZXR1cm4gYW4gYXJiaXRyYXJ5IHRlbXBsYXRlXG4gICAgICogKGluIHdoaWNoIGNhc2UgdGhlIGBpc2AgZ2V0dGVyIGlzIHVubmVjZXNzYXJ5KS4gVGhlIHRlbXBsYXRlIHJldHVybmVkXG4gICAgICogbXVzdCBiZSBhbiBgSFRNTFRlbXBsYXRlRWxlbWVudGAuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgd2hlbiBzdWJjbGFzc2luZywgaWYgdGhlIHN1cGVyIGNsYXNzIG92ZXJyb2RlIHRoZSBkZWZhdWx0XG4gICAgICogaW1wbGVtZW50YXRpb24gYW5kIHRoZSBzdWJjbGFzcyB3b3VsZCBsaWtlIHRvIHByb3ZpZGUgYW4gYWx0ZXJuYXRlXG4gICAgICogdGVtcGxhdGUgdmlhIGEgYGRvbS1tb2R1bGVgLCBpdCBzaG91bGQgb3ZlcnJpZGUgdGhpcyBnZXR0ZXIgYW5kXG4gICAgICogcmV0dXJuIGBEb21Nb2R1bGUuaW1wb3J0KHRoaXMuaXMsICd0ZW1wbGF0ZScpYC5cbiAgICAgKlxuICAgICAqIElmIGEgc3ViY2xhc3Mgd291bGQgbGlrZSB0byBtb2RpZnkgdGhlIHN1cGVyIGNsYXNzIHRlbXBsYXRlLCBpdCBzaG91bGRcbiAgICAgKiBjbG9uZSBpdCByYXRoZXIgdGhhbiBtb2RpZnkgaXQgaW4gcGxhY2UuICBJZiB0aGUgZ2V0dGVyIGRvZXMgZXhwZW5zaXZlXG4gICAgICogd29yayBzdWNoIGFzIGNsb25pbmcvbW9kaWZ5aW5nIGEgdGVtcGxhdGUsIGl0IHNob3VsZCBtZW1vaXplIHRoZVxuICAgICAqIHRlbXBsYXRlIGZvciBtYXhpbXVtIHBlcmZvcm1hbmNlOlxuICAgICAqXG4gICAgICogICBsZXQgbWVtb2l6ZWRUZW1wbGF0ZTtcbiAgICAgKiAgIGNsYXNzIE15U3ViQ2xhc3MgZXh0ZW5kcyBNeVN1cGVyQ2xhc3Mge1xuICAgICAqICAgICBzdGF0aWMgZ2V0IHRlbXBsYXRlKCkge1xuICAgICAqICAgICAgIGlmICghbWVtb2l6ZWRUZW1wbGF0ZSkge1xuICAgICAqICAgICAgICAgbWVtb2l6ZWRUZW1wbGF0ZSA9IHN1cGVyLnRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgKiAgICAgICAgIGxldCBzdWJDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICogICAgICAgICBzdWJDb250ZW50LnRleHRDb250ZW50ID0gJ1RoaXMgY2FtZSBmcm9tIE15U3ViQ2xhc3MnO1xuICAgICAqICAgICAgICAgbWVtb2l6ZWRUZW1wbGF0ZS5jb250ZW50LmFwcGVuZENoaWxkKHN1YkNvbnRlbnQpO1xuICAgICAqICAgICAgIH1cbiAgICAgKiAgICAgICByZXR1cm4gbWVtb2l6ZWRUZW1wbGF0ZTtcbiAgICAgKiAgICAgfVxuICAgICAqICAgfVxuICAgICAqXG4gICAgICogQHJldHVybiB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR8c3RyaW5nfSBUZW1wbGF0ZSB0byBiZSBzdGFtcGVkXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IHRlbXBsYXRlKCkge1xuICAgICAgLy8gRXhwbGFuYXRpb24gb2YgdGVtcGxhdGUtcmVsYXRlZCBwcm9wZXJ0aWVzOlxuICAgICAgLy8gLSBjb25zdHJ1Y3Rvci50ZW1wbGF0ZSAodGhpcyBnZXR0ZXIpOiB0aGUgdGVtcGxhdGUgZm9yIHRoZSBjbGFzcy5cbiAgICAgIC8vICAgICBUaGlzIGNhbiBjb21lIGZyb20gdGhlIHByb3RvdHlwZSAoZm9yIGxlZ2FjeSBlbGVtZW50cyksIGZyb20gYVxuICAgICAgLy8gICAgIGRvbS1tb2R1bGUsIG9yIGZyb20gdGhlIHN1cGVyIGNsYXNzJ3MgdGVtcGxhdGUgKG9yIGNhbiBiZSBvdmVycmlkZGVuXG4gICAgICAvLyAgICAgYWx0b2dldGhlciBieSB0aGUgdXNlcilcbiAgICAgIC8vIC0gY29uc3RydWN0b3IuX3RlbXBsYXRlOiBtZW1vaXplZCB2ZXJzaW9uIG9mIGNvbnN0cnVjdG9yLnRlbXBsYXRlXG4gICAgICAvLyAtIHByb3RvdHlwZS5fdGVtcGxhdGU6IHdvcmtpbmcgdGVtcGxhdGUgZm9yIHRoZSBlbGVtZW50LCB3aGljaCB3aWxsIGJlXG4gICAgICAvLyAgICAgcGFyc2VkIGFuZCBtb2RpZmllZCBpbiBwbGFjZS4gSXQgaXMgYSBjbG9uZWQgdmVyc2lvbiBvZlxuICAgICAgLy8gICAgIGNvbnN0cnVjdG9yLnRlbXBsYXRlLCBzYXZlZCBpbiBfZmluYWxpemVDbGFzcygpLiBOb3RlIHRoYXQgYmVmb3JlXG4gICAgICAvLyAgICAgdGhpcyBnZXR0ZXIgaXMgY2FsbGVkLCBmb3IgbGVnYWN5IGVsZW1lbnRzIHRoaXMgY291bGQgYmUgZnJvbSBhXG4gICAgICAvLyAgICAgX3RlbXBsYXRlIGZpZWxkIG9uIHRoZSBpbmZvIG9iamVjdCBwYXNzZWQgdG8gUG9seW1lcigpLCBhIGJlaGF2aW9yLFxuICAgICAgLy8gICAgIG9yIHNldCBpbiByZWdpc3RlcmVkKCk7IG9uY2UgdGhlIHN0YXRpYyBnZXR0ZXIgcnVucywgYSBjbG9uZSBvZiBpdFxuICAgICAgLy8gICAgIHdpbGwgb3ZlcndyaXRlIGl0IG9uIHRoZSBwcm90b3R5cGUgYXMgdGhlIHdvcmtpbmcgdGVtcGxhdGUuXG4gICAgICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX3RlbXBsYXRlJywgdGhpcykpKSB7XG4gICAgICAgIHRoaXMuX3RlbXBsYXRlID1cbiAgICAgICAgICAvLyBJZiB1c2VyIGhhcyBwdXQgdGVtcGxhdGUgb24gcHJvdG90eXBlIChlLmcuIGluIGxlZ2FjeSB2aWEgcmVnaXN0ZXJlZFxuICAgICAgICAgIC8vIGNhbGxiYWNrIG9yIGluZm8gb2JqZWN0KSwgcHJlZmVyIHRoYXQgZmlyc3RcbiAgICAgICAgICB0aGlzLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdfdGVtcGxhdGUnLCB0aGlzLnByb3RvdHlwZSkpID9cbiAgICAgICAgICB0aGlzLnByb3RvdHlwZS5fdGVtcGxhdGUgOlxuICAgICAgICAgIC8vIExvb2sgaW4gZG9tLW1vZHVsZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBlbGVtZW50J3MgaXNcbiAgICAgICAgICAoZ2V0VGVtcGxhdGVGcm9tRG9tTW9kdWxlKC8qKiBAdHlwZSB7UG9seW1lckVsZW1lbnRDb25zdHJ1Y3Rvcn0qLyAodGhpcykuaXMpIHx8XG4gICAgICAgICAgLy8gTmV4dCBsb29rIGZvciBzdXBlcmNsYXNzIHRlbXBsYXRlIChjYWxsIHRoZSBzdXBlciBpbXBsIHRoaXNcbiAgICAgICAgICAvLyB3YXkgc28gdGhhdCBgdGhpc2AgcG9pbnRzIHRvIHRoZSBzdXBlcmNsYXNzKVxuICAgICAgICAgIE9iamVjdC5nZXRQcm90b3R5cGVPZigvKiogQHR5cGUge1BvbHltZXJFbGVtZW50Q29uc3RydWN0b3J9Ki8gKHRoaXMpLnByb3RvdHlwZSkuY29uc3RydWN0b3IudGVtcGxhdGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX3RlbXBsYXRlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdGVtcGxhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fHN0cmluZ30gdmFsdWUgVGVtcGxhdGUgdG8gc2V0LlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIHNldCB0ZW1wbGF0ZSh2YWx1ZSkge1xuICAgICAgdGhpcy5fdGVtcGxhdGUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXRoIG1hdGNoaW5nIHRoZSB1cmwgZnJvbSB3aGljaCB0aGUgZWxlbWVudCB3YXMgaW1wb3J0ZWQuXG4gICAgICpcbiAgICAgKiBUaGlzIHBhdGggaXMgdXNlZCB0byByZXNvbHZlIHVybCdzIGluIHRlbXBsYXRlIHN0eWxlIGNzc1RleHQuXG4gICAgICogVGhlIGBpbXBvcnRQYXRoYCBwcm9wZXJ0eSBpcyBhbHNvIHNldCBvbiBlbGVtZW50IGluc3RhbmNlcyBhbmQgY2FuIGJlXG4gICAgICogdXNlZCB0byBjcmVhdGUgYmluZGluZ3MgcmVsYXRpdmUgdG8gdGhlIGltcG9ydCBwYXRoLlxuICAgICAqXG4gICAgICogRm9yIGVsZW1lbnRzIGRlZmluZWQgaW4gRVMgbW9kdWxlcywgdXNlcnMgc2hvdWxkIGltcGxlbWVudFxuICAgICAqIGBzdGF0aWMgZ2V0IGltcG9ydE1ldGEoKSB7IHJldHVybiBpbXBvcnQubWV0YTsgfWAsIGFuZCB0aGUgZGVmYXVsdFxuICAgICAqIGltcGxlbWVudGF0aW9uIG9mIGBpbXBvcnRQYXRoYCB3aWxsICByZXR1cm4gYGltcG9ydC5tZXRhLnVybGAncyBwYXRoLlxuICAgICAqIEZvciBlbGVtZW50cyBkZWZpbmVkIGluIEhUTUwgaW1wb3J0cywgdGhpcyBnZXR0ZXIgd2lsbCByZXR1cm4gdGhlIHBhdGhcbiAgICAgKiB0byB0aGUgZG9jdW1lbnQgY29udGFpbmluZyBhIGBkb20tbW9kdWxlYCBlbGVtZW50IG1hdGNoaW5nIHRoaXNcbiAgICAgKiBlbGVtZW50J3Mgc3RhdGljIGBpc2AgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBOb3RlLCB0aGlzIHBhdGggc2hvdWxkIGNvbnRhaW4gYSB0cmFpbGluZyBgL2AuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBpbXBvcnQgcGF0aCBmb3IgdGhpcyBlbGVtZW50IGNsYXNzXG4gICAgICogQHN1cHByZXNzIHttaXNzaW5nUHJvcGVydGllc31cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgaW1wb3J0UGF0aCgpIHtcbiAgICAgIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdfaW1wb3J0UGF0aCcsIHRoaXMpKSkge1xuICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5pbXBvcnRNZXRhO1xuICAgICAgICBpZiAobWV0YSkge1xuICAgICAgICAgIHRoaXMuX2ltcG9ydFBhdGggPSBwYXRoRnJvbVVybChtZXRhLnVybCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgbW9kdWxlID0gRG9tTW9kdWxlLmltcG9ydCgvKiogQHR5cGUge1BvbHltZXJFbGVtZW50Q29uc3RydWN0b3J9ICovICh0aGlzKS5pcyk7XG4gICAgICAgICAgdGhpcy5faW1wb3J0UGF0aCA9IChtb2R1bGUgJiYgbW9kdWxlLmFzc2V0cGF0aCkgfHxcbiAgICAgICAgICAgIE9iamVjdC5nZXRQcm90b3R5cGVPZigvKiogQHR5cGUge1BvbHltZXJFbGVtZW50Q29uc3RydWN0b3J9Ki8gKHRoaXMpLnByb3RvdHlwZSkuY29uc3RydWN0b3IuaW1wb3J0UGF0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX2ltcG9ydFBhdGg7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlcigpO1xuICAgICAgLyoqIEB0eXBlIHtIVE1MVGVtcGxhdGVFbGVtZW50fSAqL1xuICAgICAgdGhpcy5fdGVtcGxhdGU7XG4gICAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICAgIHRoaXMuX2ltcG9ydFBhdGg7XG4gICAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICAgIHRoaXMucm9vdFBhdGg7XG4gICAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICAgIHRoaXMuaW1wb3J0UGF0aDtcbiAgICAgIC8qKiBAdHlwZSB7U3RhbXBlZFRlbXBsYXRlIHwgSFRNTEVsZW1lbnQgfCBTaGFkb3dSb290fSAqL1xuICAgICAgdGhpcy5yb290O1xuICAgICAgLyoqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgIUVsZW1lbnQ+fSAqL1xuICAgICAgdGhpcy4kO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyB0aGUgZGVmYXVsdCBgUHJvcGVydHlBY2Nlc3NvcnNgIHRvIGVuc3VyZSBjbGFzc1xuICAgICAqIG1ldGFwcm9ncmFtbWluZyByZWxhdGVkIHRvIHByb3BlcnR5IGFjY2Vzc29ycyBhbmQgZWZmZWN0cyBoYXNcbiAgICAgKiBjb21wbGV0ZWQgKGNhbGxzIGBmaW5hbGl6ZWApLlxuICAgICAqXG4gICAgICogSXQgYWxzbyBpbml0aWFsaXplcyBhbnkgcHJvcGVydHkgZGVmYXVsdHMgcHJvdmlkZWQgdmlhIGB2YWx1ZWAgaW5cbiAgICAgKiBgcHJvcGVydGllc2AgbWV0YWRhdGEuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBzdXBwcmVzcyB7aW52YWxpZENhc3RzLG1pc3NpbmdQcm9wZXJ0aWVzfSBnby9taXNzaW5nZm5wcm9wc1xuICAgICAqL1xuICAgIF9pbml0aWFsaXplUHJvcGVydGllcygpIHtcbiAgICAgIHRoaXMuY29uc3RydWN0b3IuZmluYWxpemUoKTtcbiAgICAgIC8vIG5vdGU6IGZpbmFsaXplIHRlbXBsYXRlIHdoZW4gd2UgaGF2ZSBhY2Nlc3MgdG8gYGxvY2FsTmFtZWAgdG9cbiAgICAgIC8vIGF2b2lkIGRlcGVuZGVuY2Ugb24gYGlzYCBmb3IgcG9seWZpbGxpbmcgc3R5bGluZy5cbiAgICAgIHRoaXMuY29uc3RydWN0b3IuX2ZpbmFsaXplVGVtcGxhdGUoLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovKHRoaXMpLmxvY2FsTmFtZSk7XG4gICAgICBzdXBlci5faW5pdGlhbGl6ZVByb3BlcnRpZXMoKTtcbiAgICAgIC8vIHNldCBwYXRoIGRlZmF1bHRzXG4gICAgICB0aGlzLnJvb3RQYXRoID0gcm9vdFBhdGg7XG4gICAgICB0aGlzLmltcG9ydFBhdGggPSB0aGlzLmNvbnN0cnVjdG9yLmltcG9ydFBhdGg7XG4gICAgICAvLyBhcHBseSBwcm9wZXJ0eSBkZWZhdWx0cy4uLlxuICAgICAgbGV0IHAkID0gcHJvcGVydHlEZWZhdWx0cyh0aGlzLmNvbnN0cnVjdG9yKTtcbiAgICAgIGlmICghcCQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgcCBpbiBwJCkge1xuICAgICAgICBsZXQgaW5mbyA9IHAkW3BdO1xuICAgICAgICAvLyBEb24ndCBzZXQgZGVmYXVsdCB2YWx1ZSBpZiB0aGVyZSBpcyBhbHJlYWR5IGFuIG93biBwcm9wZXJ0eSwgd2hpY2hcbiAgICAgICAgLy8gaGFwcGVucyB3aGVuIGEgYHByb3BlcnRpZXNgIHByb3BlcnR5IHdpdGggZGVmYXVsdCBidXQgbm8gZWZmZWN0cyBoYWRcbiAgICAgICAgLy8gYSBwcm9wZXJ0eSBzZXQgKGUuZy4gYm91bmQpIGJ5IGl0cyBob3N0IGJlZm9yZSB1cGdyYWRlXG4gICAgICAgIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eShwKSkge1xuICAgICAgICAgIGxldCB2YWx1ZSA9IHR5cGVvZiBpbmZvLnZhbHVlID09ICdmdW5jdGlvbicgP1xuICAgICAgICAgICAgaW5mby52YWx1ZS5jYWxsKHRoaXMpIDpcbiAgICAgICAgICAgIGluZm8udmFsdWU7XG4gICAgICAgICAgLy8gU2V0IHZpYSBgX3NldFByb3BlcnR5YCBpZiB0aGVyZSBpcyBhbiBhY2Nlc3NvciwgdG8gZW5hYmxlXG4gICAgICAgICAgLy8gaW5pdGlhbGl6aW5nIHJlYWRPbmx5IHByb3BlcnR5IGRlZmF1bHRzXG4gICAgICAgICAgaWYgKHRoaXMuX2hhc0FjY2Vzc29yKHApKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRQZW5kaW5nUHJvcGVydHkocCwgdmFsdWUsIHRydWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzW3BdID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2F0aGVyIHN0eWxlIHRleHQgZm9yIGEgc3R5bGUgZWxlbWVudCBpbiB0aGUgdGVtcGxhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY3NzVGV4dCBUZXh0IGNvbnRhaW5pbmcgc3R5bGluZyB0byBwcm9jZXNzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkkgQmFzZSBVUkkgdG8gcmViYXNlIENTUyBwYXRocyBhZ2FpbnN0XG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgcHJvY2Vzc2VkIENTUyB0ZXh0XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9wcm9jZXNzU3R5bGVUZXh0KGNzc1RleHQsIGJhc2VVUkkpIHtcbiAgICAgIHJldHVybiByZXNvbHZlQ3NzKGNzc1RleHQsIGJhc2VVUkkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogQ29uZmlndXJlcyBhbiBlbGVtZW50IGBwcm90b2AgdG8gZnVuY3Rpb24gd2l0aCBhIGdpdmVuIGB0ZW1wbGF0ZWAuXG4gICAgKiBUaGUgZWxlbWVudCBuYW1lIGBpc2AgYW5kIGV4dGVuZHMgYGV4dGAgbXVzdCBiZSBzcGVjaWZpZWQgZm9yIFNoYWR5Q1NTXG4gICAgKiBzdHlsZSBzY29waW5nLlxuICAgICpcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBpcyBUYWcgbmFtZSAob3IgdHlwZSBleHRlbnNpb24gbmFtZSkgZm9yIHRoaXMgZWxlbWVudFxuICAgICogQHJldHVybiB7dm9pZH1cbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAqIEBub2NvbGxhcHNlXG4gICAgKi9cbiAgICBzdGF0aWMgX2ZpbmFsaXplVGVtcGxhdGUoaXMpIHtcbiAgICAgIC8qKiBAY29uc3Qge0hUTUxUZW1wbGF0ZUVsZW1lbnR9ICovXG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMucHJvdG90eXBlLl90ZW1wbGF0ZTtcbiAgICAgIGlmICh0ZW1wbGF0ZSAmJiAhdGVtcGxhdGUuX19wb2x5bWVyRmluYWxpemVkKSB7XG4gICAgICAgIHRlbXBsYXRlLl9fcG9seW1lckZpbmFsaXplZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IGltcG9ydFBhdGggPSB0aGlzLmltcG9ydFBhdGg7XG4gICAgICAgIGNvbnN0IGJhc2VVUkkgPSBpbXBvcnRQYXRoID8gcmVzb2x2ZVVybChpbXBvcnRQYXRoKSA6ICcnO1xuICAgICAgICAvLyBlLmcuIHN1cHBvcnQgYGluY2x1ZGU9XCJtb2R1bGUtbmFtZVwiYCwgYW5kIFNoYWR5Q1NTXG4gICAgICAgIHByb2Nlc3NFbGVtZW50U3R5bGVzKHRoaXMsIHRlbXBsYXRlLCBpcywgYmFzZVVSSSk7XG4gICAgICAgIHRoaXMucHJvdG90eXBlLl9iaW5kVGVtcGxhdGUodGVtcGxhdGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb3ZpZGVzIGEgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgc3RhbmRhcmQgQ3VzdG9tIEVsZW1lbnRzXG4gICAgICogYGNvbm5lY3RlZENhbGxiYWNrYC5cbiAgICAgKlxuICAgICAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIGVuYWJsZXMgdGhlIHByb3BlcnR5IGVmZmVjdHMgc3lzdGVtIGFuZFxuICAgICAqIGZsdXNoZXMgYW55IHBlbmRpbmcgcHJvcGVydGllcywgYW5kIHVwZGF0ZXMgc2hpbW1lZCBDU1MgcHJvcGVydGllc1xuICAgICAqIHdoZW4gdXNpbmcgdGhlIFNoYWR5Q1NTIHNjb3BpbmcvY3VzdG9tIHByb3BlcnRpZXMgcG9seWZpbGwuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzLCBpbnZhbGlkQ2FzdHN9IFN1cGVyIG1heSBvciBtYXkgbm90XG4gICAgICogICAgIGltcGxlbWVudCB0aGUgY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgaWYgKHdpbmRvdy5TaGFkeUNTUyAmJiB0aGlzLl90ZW1wbGF0ZSkge1xuICAgICAgICB3aW5kb3cuU2hhZHlDU1Muc3R5bGVFbGVtZW50KC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqLyh0aGlzKSk7XG4gICAgICB9XG4gICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0YW1wcyB0aGUgZWxlbWVudCB0ZW1wbGF0ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgcmVhZHkoKSB7XG4gICAgICBpZiAodGhpcy5fdGVtcGxhdGUpIHtcbiAgICAgICAgdGhpcy5yb290ID0gdGhpcy5fc3RhbXBUZW1wbGF0ZSh0aGlzLl90ZW1wbGF0ZSk7XG4gICAgICAgIHRoaXMuJCA9IHRoaXMucm9vdC4kO1xuICAgICAgfVxuICAgICAgc3VwZXIucmVhZHkoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbXBsZW1lbnRzIGBQcm9wZXJ0eUVmZmVjdHNgJ3MgYF9yZWFkeUNsaWVudHNgIGNhbGwuIEF0dGFjaGVzXG4gICAgICogZWxlbWVudCBkb20gYnkgY2FsbGluZyBgX2F0dGFjaERvbWAgd2l0aCB0aGUgZG9tIHN0YW1wZWQgZnJvbSB0aGVcbiAgICAgKiBlbGVtZW50J3MgdGVtcGxhdGUgdmlhIGBfc3RhbXBUZW1wbGF0ZWAuIE5vdGUgdGhhdCB0aGlzIGFsbG93c1xuICAgICAqIGNsaWVudCBkb20gdG8gYmUgYXR0YWNoZWQgdG8gdGhlIGVsZW1lbnQgcHJpb3IgdG8gYW55IG9ic2VydmVyc1xuICAgICAqIHJ1bm5pbmcuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9yZWFkeUNsaWVudHMoKSB7XG4gICAgICBpZiAodGhpcy5fdGVtcGxhdGUpIHtcbiAgICAgICAgdGhpcy5yb290ID0gdGhpcy5fYXR0YWNoRG9tKC8qKiBAdHlwZSB7U3RhbXBlZFRlbXBsYXRlfSAqLyh0aGlzLnJvb3QpKTtcbiAgICAgIH1cbiAgICAgIC8vIFRoZSBzdXBlci5fcmVhZHlDbGllbnRzIGhlcmUgc2V0cyB0aGUgY2xpZW50cyBpbml0aWFsaXplZCBmbGFnLlxuICAgICAgLy8gV2UgbXVzdCB3YWl0IHRvIGRvIHRoaXMgdW50aWwgYWZ0ZXIgY2xpZW50IGRvbSBpcyBjcmVhdGVkL2F0dGFjaGVkXG4gICAgICAvLyBzbyB0aGF0IHRoaXMgZmxhZyBjYW4gYmUgY2hlY2tlZCB0byBwcmV2ZW50IG5vdGlmaWNhdGlvbnMgZmlyZWRcbiAgICAgIC8vIGR1cmluZyB0aGlzIHByb2Nlc3MgZnJvbSBiZWluZyBoYW5kbGVkIGJlZm9yZSBjbGllbnRzIGFyZSByZWFkeS5cbiAgICAgIHN1cGVyLl9yZWFkeUNsaWVudHMoKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEF0dGFjaGVzIGFuIGVsZW1lbnQncyBzdGFtcGVkIGRvbSB0byBpdHNlbGYuIEJ5IGRlZmF1bHQsXG4gICAgICogdGhpcyBtZXRob2QgY3JlYXRlcyBhIGBzaGFkb3dSb290YCBhbmQgYWRkcyB0aGUgZG9tIHRvIGl0LlxuICAgICAqIEhvd2V2ZXIsIHRoaXMgbWV0aG9kIG1heSBiZSBvdmVycmlkZGVuIHRvIGFsbG93IGFuIGVsZW1lbnRcbiAgICAgKiB0byBwdXQgaXRzIGRvbSBpbiBhbm90aGVyIGxvY2F0aW9uLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHRocm93cyB7RXJyb3J9XG4gICAgICogQHN1cHByZXNzIHttaXNzaW5nUmV0dXJufVxuICAgICAqIEBwYXJhbSB7U3RhbXBlZFRlbXBsYXRlfSBkb20gdG8gYXR0YWNoIHRvIHRoZSBlbGVtZW50LlxuICAgICAqIEByZXR1cm4ge1NoYWRvd1Jvb3R9IG5vZGUgdG8gd2hpY2ggdGhlIGRvbSBoYXMgYmVlbiBhdHRhY2hlZC5cbiAgICAgKi9cbiAgICBfYXR0YWNoRG9tKGRvbSkge1xuICAgICAgY29uc3QgbiA9IHdyYXAodGhpcyk7XG4gICAgICBpZiAobi5hdHRhY2hTaGFkb3cpIHtcbiAgICAgICAgaWYgKGRvbSkge1xuICAgICAgICAgIGlmICghbi5zaGFkb3dSb290KSB7XG4gICAgICAgICAgICBuLmF0dGFjaFNoYWRvdyh7bW9kZTogJ29wZW4nLCBzaGFkeVVwZ3JhZGVGcmFnbWVudDogZG9tfSk7XG4gICAgICAgICAgICBuLnNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQoZG9tKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHN5bmNJbml0aWFsUmVuZGVyICYmIHdpbmRvdy5TaGFkeURPTSkge1xuICAgICAgICAgICAgd2luZG93LlNoYWR5RE9NLmZsdXNoSW5pdGlhbChuLnNoYWRvd1Jvb3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbi5zaGFkb3dSb290O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaGFkb3dET00gbm90IGF2YWlsYWJsZS4gJyArXG4gICAgICAgICAgLy8gVE9ETyhzb3J2ZWxsKTogbW92ZSB0byBjb21waWxlLXRpbWUgY29uZGl0aW9uYWwgd2hlbiBzdXBwb3J0ZWRcbiAgICAgICAgJ1BvbHltZXJFbGVtZW50IGNhbiBjcmVhdGUgZG9tIGFzIGNoaWxkcmVuIGluc3RlYWQgb2YgaW4gJyArXG4gICAgICAgICdTaGFkb3dET00gYnkgc2V0dGluZyBgdGhpcy5yb290ID0gdGhpcztcXGAgYmVmb3JlIFxcYHJlYWR5XFxgLicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdXNpbmcgdGhlIFNoYWR5Q1NTIHNjb3BpbmcgYW5kIGN1c3RvbSBwcm9wZXJ0eSBzaGltLCBjYXVzZXMgYWxsXG4gICAgICogc2hpbW1lZCBzdHlsZXMgaW4gdGhpcyBlbGVtZW50IChhbmQgaXRzIHN1YnRyZWUpIHRvIGJlIHVwZGF0ZWRcbiAgICAgKiBiYXNlZCBvbiBjdXJyZW50IGN1c3RvbSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBUaGUgb3B0aW9uYWwgcGFyYW1ldGVyIG92ZXJyaWRlcyBpbmxpbmUgY3VzdG9tIHByb3BlcnR5IHN0eWxlcyB3aXRoIGFuXG4gICAgICogb2JqZWN0IG9mIHByb3BlcnRpZXMgd2hlcmUgdGhlIGtleXMgYXJlIENTUyBwcm9wZXJ0aWVzLCBhbmQgdGhlIHZhbHVlc1xuICAgICAqIGFyZSBzdHJpbmdzLlxuICAgICAqXG4gICAgICogRXhhbXBsZTogYHRoaXMudXBkYXRlU3R5bGVzKHsnLS1jb2xvcic6ICdibHVlJ30pYFxuICAgICAqXG4gICAgICogVGhlc2UgcHJvcGVydGllcyBhcmUgcmV0YWluZWQgdW5sZXNzIGEgdmFsdWUgb2YgYG51bGxgIGlzIHNldC5cbiAgICAgKlxuICAgICAqIE5vdGU6IFRoaXMgZnVuY3Rpb24gZG9lcyBub3Qgc3VwcG9ydCB1cGRhdGluZyBDU1MgbWl4aW5zLlxuICAgICAqIFlvdSBjYW4gbm90IGR5bmFtaWNhbGx5IGNoYW5nZSB0aGUgdmFsdWUgb2YgYW4gYEBhcHBseWAuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IHByb3BlcnRpZXMgQmFnIG9mIGN1c3RvbSBwcm9wZXJ0eSBrZXkvdmFsdWVzIHRvXG4gICAgICogICBhcHBseSB0byB0aGlzIGVsZW1lbnQuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAc3VwcHJlc3Mge2ludmFsaWRDYXN0c31cbiAgICAgKi9cbiAgICB1cGRhdGVTdHlsZXMocHJvcGVydGllcykge1xuICAgICAgaWYgKHdpbmRvdy5TaGFkeUNTUykge1xuICAgICAgICB3aW5kb3cuU2hhZHlDU1Muc3R5bGVTdWJ0cmVlKC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqLyh0aGlzKSwgcHJvcGVydGllcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV3cml0ZXMgYSBnaXZlbiBVUkwgcmVsYXRpdmUgdG8gYSBiYXNlIFVSTC4gVGhlIGJhc2UgVVJMIGRlZmF1bHRzIHRvXG4gICAgICogdGhlIG9yaWdpbmFsIGxvY2F0aW9uIG9mIHRoZSBkb2N1bWVudCBjb250YWluaW5nIHRoZSBgZG9tLW1vZHVsZWAgZm9yXG4gICAgICogdGhpcyBlbGVtZW50LiBUaGlzIG1ldGhvZCB3aWxsIHJldHVybiB0aGUgc2FtZSBVUkwgYmVmb3JlIGFuZCBhZnRlclxuICAgICAqIGJ1bmRsaW5nLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gcGVyZm9ybXMgbm8gcmVzb2x1dGlvbiBmb3IgVVJMcyB0aGF0IHN0YXJ0XG4gICAgICogd2l0aCBgL2AgKGFic29sdXRlIFVSTHMpIG9yIGAjYCAoaGFzaCBpZGVudGlmaWVycykuICBGb3IgZ2VuZXJhbCBwdXJwb3NlXG4gICAgICogVVJMIHJlc29sdXRpb24sIHVzZSBgd2luZG93LlVSTGAuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFVSTCB0byByZXNvbHZlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gYmFzZSBPcHRpb25hbCBiYXNlIFVSTCB0byByZXNvbHZlIGFnYWluc3QsIGRlZmF1bHRzXG4gICAgICogdG8gdGhlIGVsZW1lbnQncyBgaW1wb3J0UGF0aGBcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFJld3JpdHRlbiBVUkwgcmVsYXRpdmUgdG8gYmFzZVxuICAgICAqL1xuICAgIHJlc29sdmVVcmwodXJsLCBiYXNlKSB7XG4gICAgICBpZiAoIWJhc2UgJiYgdGhpcy5pbXBvcnRQYXRoKSB7XG4gICAgICAgIGJhc2UgPSByZXNvbHZlVXJsKHRoaXMuaW1wb3J0UGF0aCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzb2x2ZVVybCh1cmwsIGJhc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyBgUHJvcGVydHlFZmZlY3RzYCB0byBhZGQgbWFwIG9mIGR5bmFtaWMgZnVuY3Rpb25zIG9uXG4gICAgICogdGVtcGxhdGUgaW5mbywgZm9yIGNvbnN1bXB0aW9uIGJ5IGBQcm9wZXJ0eUVmZmVjdHNgIHRlbXBsYXRlIGJpbmRpbmdcbiAgICAgKiBjb2RlLiBUaGlzIG1hcCBkZXRlcm1pbmVzIHdoaWNoIG1ldGhvZCB0ZW1wbGF0ZXMgc2hvdWxkIGhhdmUgYWNjZXNzb3JzXG4gICAgICogY3JlYXRlZCBmb3IgdGhlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlIFRlbXBsYXRlXG4gICAgICogQHBhcmFtIHshVGVtcGxhdGVJbmZvfSB0ZW1wbGF0ZUluZm8gVGVtcGxhdGUgbWV0YWRhdGEgZm9yIGN1cnJlbnQgdGVtcGxhdGVcbiAgICAgKiBAcGFyYW0geyFOb2RlSW5mb30gbm9kZUluZm8gTm9kZSBtZXRhZGF0YSBmb3IgY3VycmVudCB0ZW1wbGF0ZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSAuXG4gICAgICogQHN1cHByZXNzIHttaXNzaW5nUHJvcGVydGllc30gSW50ZXJmYWNlcyBpbiBjbG9zdXJlIGRvIG5vdCBpbmhlcml0IHN0YXRpY3MsIGJ1dCBjbGFzc2VzIGRvXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX3BhcnNlVGVtcGxhdGVDb250ZW50KHRlbXBsYXRlLCB0ZW1wbGF0ZUluZm8sIG5vZGVJbmZvKSB7XG4gICAgICB0ZW1wbGF0ZUluZm8uZHluYW1pY0ZucyA9IHRlbXBsYXRlSW5mby5keW5hbWljRm5zIHx8IHRoaXMuX3Byb3BlcnRpZXM7XG4gICAgICAvLyBUT0RPKGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1jb21waWxlci9pc3N1ZXMvMzI0MCk6XG4gICAgICAvLyAgICAgQ2hhbmdlIGJhY2sgdG8ganVzdCBzdXBlci5tZXRob2RDYWxsKClcbiAgICAgIHJldHVybiBwb2x5bWVyRWxlbWVudEJhc2UuX3BhcnNlVGVtcGxhdGVDb250ZW50LmNhbGwoXG4gICAgICAgIHRoaXMsIHRlbXBsYXRlLCB0ZW1wbGF0ZUluZm8sIG5vZGVJbmZvKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgYFByb3BlcnR5RWZmZWN0c2AgdG8gd2FybiBvbiB1c2Ugb2YgdW5kZWNsYXJlZCBwcm9wZXJ0aWVzIGluXG4gICAgICogdGVtcGxhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGVtcGxhdGVJbmZvIFRlbXBsYXRlIG1ldGFkYXRhIHRvIGFkZCBlZmZlY3QgdG9cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcCBQcm9wZXJ0eSB0aGF0IHNob3VsZCB0cmlnZ2VyIHRoZSBlZmZlY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGVmZmVjdCBFZmZlY3QgbWV0YWRhdGEgb2JqZWN0XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHN1cHByZXNzIHttaXNzaW5nUHJvcGVydGllc30gSW50ZXJmYWNlcyBpbiBjbG9zdXJlIGRvIG5vdCBpbmhlcml0IHN0YXRpY3MsIGJ1dCBjbGFzc2VzIGRvXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX2FkZFRlbXBsYXRlUHJvcGVydHlFZmZlY3QodGVtcGxhdGVJbmZvLCBwcm9wLCBlZmZlY3QpIHtcbiAgICAgIC8vIFdhcm4gaWYgcHJvcGVydGllcyBhcmUgdXNlZCBpbiB0ZW1wbGF0ZSB3aXRob3V0IGJlaW5nIGRlY2xhcmVkLlxuICAgICAgLy8gUHJvcGVydGllcyBtdXN0IGJlIGxpc3RlZCBpbiBgcHJvcGVydGllc2AgdG8gYmUgaW5jbHVkZWQgaW5cbiAgICAgIC8vIGBvYnNlcnZlZEF0dHJpYnV0ZXNgIHNpbmNlIENFIFYxIHJlYWRzIHRoYXQgYXQgcmVnaXN0cmF0aW9uIHRpbWUsIGFuZFxuICAgICAgLy8gc2luY2Ugd2Ugd2FudCB0byBrZWVwIHRlbXBsYXRlIHBhcnNpbmcgbGF6eSwgd2UgY2FuJ3QgYXV0b21hdGljYWxseVxuICAgICAgLy8gYWRkIHVuZGVjbGFyZWQgcHJvcGVydGllcyB1c2VkIGluIHRlbXBsYXRlcyB0byBgb2JzZXJ2ZWRBdHRyaWJ1dGVzYC5cbiAgICAgIC8vIFRoZSB3YXJuaW5nIGlzIG9ubHkgZW5hYmxlZCBpbiBgbGVnYWN5T3B0aW1pemF0aW9uc2AgbW9kZSwgc2luY2VcbiAgICAgIC8vIHdlIGRvbid0IHdhbnQgdG8gc3BhbSBleGlzdGluZyB1c2VycyB3aG8gbWlnaHQgaGF2ZSBhZG9wdGVkIHRoZVxuICAgICAgLy8gc2hvcnRoYW5kIHdoZW4gYXR0cmlidXRlIGRlc2VyaWFsaXphdGlvbiBpcyBub3QgaW1wb3J0YW50LlxuICAgICAgaWYgKGxlZ2FjeU9wdGltaXphdGlvbnMgJiYgIShwcm9wIGluIHRoaXMuX3Byb3BlcnRpZXMpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgUHJvcGVydHkgJyR7cHJvcH0nIHVzZWQgaW4gdGVtcGxhdGUgYnV0IG5vdCBkZWNsYXJlZCBpbiAncHJvcGVydGllcyc7IGAgK1xuICAgICAgICAgIGBhdHRyaWJ1dGUgd2lsbCBub3QgYmUgb2JzZXJ2ZWQuYCk7XG4gICAgICB9XG4gICAgICAvLyBUT0RPKGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1jb21waWxlci9pc3N1ZXMvMzI0MCk6XG4gICAgICAvLyAgICAgQ2hhbmdlIGJhY2sgdG8ganVzdCBzdXBlci5tZXRob2RDYWxsKClcbiAgICAgIHJldHVybiBwb2x5bWVyRWxlbWVudEJhc2UuX2FkZFRlbXBsYXRlUHJvcGVydHlFZmZlY3QuY2FsbChcbiAgICAgICAgdGhpcywgdGVtcGxhdGVJbmZvLCBwcm9wLCBlZmZlY3QpO1xuICAgIH1cblxuICB9XG5cbiAgcmV0dXJuIFBvbHltZXJFbGVtZW50O1xufSk7XG5cbi8qKlxuICogV2hlbiB1c2luZyB0aGUgU2hhZHlDU1Mgc2NvcGluZyBhbmQgY3VzdG9tIHByb3BlcnR5IHNoaW0sIGNhdXNlcyBhbGxcbiAqIHNoaW1tZWQgYHN0eWxlc2AgKHZpYSBgY3VzdG9tLXN0eWxlYCkgaW4gdGhlIGRvY3VtZW50IChhbmQgaXRzIHN1YnRyZWUpXG4gKiB0byBiZSB1cGRhdGVkIGJhc2VkIG9uIGN1cnJlbnQgY3VzdG9tIHByb3BlcnR5IHZhbHVlcy5cbiAqXG4gKiBUaGUgb3B0aW9uYWwgcGFyYW1ldGVyIG92ZXJyaWRlcyBpbmxpbmUgY3VzdG9tIHByb3BlcnR5IHN0eWxlcyB3aXRoIGFuXG4gKiBvYmplY3Qgb2YgcHJvcGVydGllcyB3aGVyZSB0aGUga2V5cyBhcmUgQ1NTIHByb3BlcnRpZXMsIGFuZCB0aGUgdmFsdWVzXG4gKiBhcmUgc3RyaW5ncy5cbiAqXG4gKiBFeGFtcGxlOiBgdXBkYXRlU3R5bGVzKHsnLS1jb2xvcic6ICdibHVlJ30pYFxuICpcbiAqIFRoZXNlIHByb3BlcnRpZXMgYXJlIHJldGFpbmVkIHVubGVzcyBhIHZhbHVlIG9mIGBudWxsYCBpcyBzZXQuXG4gKlxuICogQHBhcmFtIHtPYmplY3Q9fSBwcm9wcyBCYWcgb2YgY3VzdG9tIHByb3BlcnR5IGtleS92YWx1ZXMgdG9cbiAqICAgYXBwbHkgdG8gdGhlIGRvY3VtZW50LlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGNvbnN0IHVwZGF0ZVN0eWxlcyA9IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICh3aW5kb3cuU2hhZHlDU1MpIHtcbiAgICB3aW5kb3cuU2hhZHlDU1Muc3R5bGVEb2N1bWVudChwcm9wcyk7XG4gIH1cbn07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuL2Jvb3QuanMnO1xuXG5pbXBvcnQgJy4vbWl4aW4uanMnO1xuaW1wb3J0ICcuL2FzeW5jLmpzJztcblxuLyoqXG4gKiBAc3VtbWFyeSBDb2xsYXBzZSBtdWx0aXBsZSBjYWxsYmFja3MgaW50byBvbmUgaW52b2NhdGlvbiBhZnRlciBhIHRpbWVyLlxuICovXG5leHBvcnQgY2xhc3MgRGVib3VuY2VyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fYXN5bmNNb2R1bGUgPSBudWxsO1xuICAgIHRoaXMuX2NhbGxiYWNrID0gbnVsbDtcbiAgICB0aGlzLl90aW1lciA9IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIHNjaGVkdWxlcjsgdGhhdCBpcywgYSBtb2R1bGUgd2l0aCB0aGUgQXN5bmMgaW50ZXJmYWNlLFxuICAgKiBhIGNhbGxiYWNrIGFuZCBvcHRpb25hbCBhcmd1bWVudHMgdG8gYmUgcGFzc2VkIHRvIHRoZSBydW4gZnVuY3Rpb25cbiAgICogZnJvbSB0aGUgYXN5bmMgbW9kdWxlLlxuICAgKlxuICAgKiBAcGFyYW0geyFBc3luY0ludGVyZmFjZX0gYXN5bmNNb2R1bGUgT2JqZWN0IHdpdGggQXN5bmMgaW50ZXJmYWNlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGNhbGxiYWNrIENhbGxiYWNrIHRvIHJ1bi5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHNldENvbmZpZyhhc3luY01vZHVsZSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLl9hc3luY01vZHVsZSA9IGFzeW5jTW9kdWxlO1xuICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgdGhpcy5fdGltZXIgPSB0aGlzLl9hc3luY01vZHVsZS5ydW4oKCkgPT4ge1xuICAgICAgdGhpcy5fdGltZXIgPSBudWxsO1xuICAgICAgZGVib3VuY2VyUXVldWUuZGVsZXRlKHRoaXMpO1xuICAgICAgdGhpcy5fY2FsbGJhY2soKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ2FuY2VscyBhbiBhY3RpdmUgZGVib3VuY2VyIGFuZCByZXR1cm5zIGEgcmVmZXJlbmNlIHRvIGl0c2VsZi5cbiAgICpcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGNhbmNlbCgpIHtcbiAgICBpZiAodGhpcy5pc0FjdGl2ZSgpKSB7XG4gICAgICB0aGlzLl9jYW5jZWxBc3luYygpO1xuICAgICAgLy8gQ2FuY2VsaW5nIGEgZGVib3VuY2VyIHJlbW92ZXMgaXRzIHNwb3QgZnJvbSB0aGUgZmx1c2ggcXVldWUsXG4gICAgICAvLyBzbyBpZiBhIGRlYm91bmNlciBpcyBtYW51YWxseSBjYW5jZWxlZCBhbmQgcmUtZGVib3VuY2VkLCBpdFxuICAgICAgLy8gd2lsbCByZXNldCBpdHMgZmx1c2ggb3JkZXIgKHRoaXMgaXMgYSB2ZXJ5IG1pbm9yIGRpZmZlcmVuY2UgZnJvbSAxLngpXG4gICAgICAvLyBSZS1kZWJvdW5jaW5nIHZpYSB0aGUgYGRlYm91bmNlYCBBUEkgcmV0YWlucyB0aGUgMS54IEZJRk8gZmx1c2ggb3JkZXJcbiAgICAgIGRlYm91bmNlclF1ZXVlLmRlbGV0ZSh0aGlzKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENhbmNlbHMgYSBkZWJvdW5jZXIncyBhc3luYyBjYWxsYmFjay5cbiAgICpcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIF9jYW5jZWxBc3luYygpIHtcbiAgICBpZiAodGhpcy5pc0FjdGl2ZSgpKSB7XG4gICAgICB0aGlzLl9hc3luY01vZHVsZS5jYW5jZWwoLyoqIEB0eXBlIHtudW1iZXJ9ICovKHRoaXMuX3RpbWVyKSk7XG4gICAgICB0aGlzLl90aW1lciA9IG51bGw7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBGbHVzaGVzIGFuIGFjdGl2ZSBkZWJvdW5jZXIgYW5kIHJldHVybnMgYSByZWZlcmVuY2UgdG8gaXRzZWxmLlxuICAgKlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgZmx1c2goKSB7XG4gICAgaWYgKHRoaXMuaXNBY3RpdmUoKSkge1xuICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgIHRoaXMuX2NhbGxiYWNrKCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGRlYm91bmNlciBpcyBhY3RpdmUuXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYWN0aXZlLlxuICAgKi9cbiAgaXNBY3RpdmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RpbWVyICE9IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBkZWJvdW5jZXIgaWYgbm8gZGVib3VuY2VyIGlzIHBhc3NlZCBhcyBhIHBhcmFtZXRlclxuICAgKiBvciBpdCBjYW5jZWxzIGFuIGFjdGl2ZSBkZWJvdW5jZXIgb3RoZXJ3aXNlLiBUaGUgZm9sbG93aW5nXG4gICAqIGV4YW1wbGUgc2hvd3MgaG93IGEgZGVib3VuY2VyIGNhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgd2l0aGluIGFcbiAgICogbWljcm90YXNrIGFuZCBcImRlYm91bmNlZFwiIHN1Y2ggdGhhdCB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gaXNcbiAgICogY2FsbGVkIG9uY2UuIEFkZCB0aGlzIG1ldGhvZCB0byBhIGN1c3RvbSBlbGVtZW50OlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBpbXBvcnQge21pY3JvVGFza30gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvYXN5bmMuanMnO1xuICAgKiBpbXBvcnQge0RlYm91bmNlcn0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvZGVib3VuY2UuanMnO1xuICAgKiAvLyAuLi5cbiAgICpcbiAgICogX2RlYm91bmNlV29yaygpIHtcbiAgICogICB0aGlzLl9kZWJvdW5jZUpvYiA9IERlYm91bmNlci5kZWJvdW5jZSh0aGlzLl9kZWJvdW5jZUpvYixcbiAgICogICAgICAgbWljcm9UYXNrLCAoKSA9PiB0aGlzLl9kb1dvcmsoKSk7XG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIElmIHRoZSBgX2RlYm91bmNlV29ya2AgbWV0aG9kIGlzIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyB3aXRoaW4gdGhlIHNhbWVcbiAgICogbWljcm90YXNrLCB0aGUgYF9kb1dvcmtgIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIG9ubHkgb25jZSBhdCB0aGUgbmV4dFxuICAgKiBtaWNyb3Rhc2sgY2hlY2twb2ludC5cbiAgICpcbiAgICogTm90ZTogSW4gdGVzdGluZyBpdCBpcyBvZnRlbiBjb252ZW5pZW50IHRvIGF2b2lkIGFzeW5jaHJvbnkuIFRvIGFjY29tcGxpc2hcbiAgICogdGhpcyB3aXRoIGEgZGVib3VuY2VyLCB5b3UgY2FuIHVzZSBgZW5xdWV1ZURlYm91bmNlcmAgYW5kXG4gICAqIGBmbHVzaGAuIEZvciBleGFtcGxlLCBleHRlbmQgdGhlIGFib3ZlIGV4YW1wbGUgYnkgYWRkaW5nXG4gICAqIGBlbnF1ZXVlRGVib3VuY2VyKHRoaXMuX2RlYm91bmNlSm9iKWAgYXQgdGhlIGVuZCBvZiB0aGVcbiAgICogYF9kZWJvdW5jZVdvcmtgIG1ldGhvZC4gVGhlbiBpbiBhIHRlc3QsIGNhbGwgYGZsdXNoYCB0byBlbnN1cmVcbiAgICogdGhlIGRlYm91bmNlciBoYXMgY29tcGxldGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge0RlYm91bmNlcj99IGRlYm91bmNlciBEZWJvdW5jZXIgb2JqZWN0LlxuICAgKiBAcGFyYW0geyFBc3luY0ludGVyZmFjZX0gYXN5bmNNb2R1bGUgT2JqZWN0IHdpdGggQXN5bmMgaW50ZXJmYWNlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gcnVuLlxuICAgKiBAcmV0dXJuIHshRGVib3VuY2VyfSBSZXR1cm5zIGEgZGVib3VuY2VyIG9iamVjdC5cbiAgICovXG4gIHN0YXRpYyBkZWJvdW5jZShkZWJvdW5jZXIsIGFzeW5jTW9kdWxlLCBjYWxsYmFjaykge1xuICAgIGlmIChkZWJvdW5jZXIgaW5zdGFuY2VvZiBEZWJvdW5jZXIpIHtcbiAgICAgIC8vIENhbmNlbCB0aGUgYXN5bmMgY2FsbGJhY2ssIGJ1dCBsZWF2ZSBpbiBkZWJvdW5jZXJRdWV1ZSBpZiBpdCB3YXNcbiAgICAgIC8vIGVucXVldWVkLCB0byBtYWludGFpbiAxLnggZmx1c2ggb3JkZXJcbiAgICAgIGRlYm91bmNlci5fY2FuY2VsQXN5bmMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVib3VuY2VyID0gbmV3IERlYm91bmNlcigpO1xuICAgIH1cbiAgICBkZWJvdW5jZXIuc2V0Q29uZmlnKGFzeW5jTW9kdWxlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIGRlYm91bmNlcjtcbiAgfVxufVxuXG5sZXQgZGVib3VuY2VyUXVldWUgPSBuZXcgU2V0KCk7XG5cbi8qKlxuICogQWRkcyBhIGBEZWJvdW5jZXJgIHRvIGEgbGlzdCBvZiBnbG9iYWxseSBmbHVzaGFibGUgdGFza3MuXG4gKlxuICogQHBhcmFtIHshRGVib3VuY2VyfSBkZWJvdW5jZXIgRGVib3VuY2VyIHRvIGVucXVldWVcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmV4cG9ydCBjb25zdCBlbnF1ZXVlRGVib3VuY2VyID0gZnVuY3Rpb24oZGVib3VuY2VyKSB7XG4gIGRlYm91bmNlclF1ZXVlLmFkZChkZWJvdW5jZXIpO1xufTtcblxuLyoqXG4gKiBGbHVzaGVzIGFueSBlbnF1ZXVlZCBkZWJvdW5jZXJzXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB3aGV0aGVyIGFueSBkZWJvdW5jZXJzIHdlcmUgZmx1c2hlZFxuICovXG5leHBvcnQgY29uc3QgZmx1c2hEZWJvdW5jZXJzID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IGRpZEZsdXNoID0gQm9vbGVhbihkZWJvdW5jZXJRdWV1ZS5zaXplKTtcbiAgLy8gSWYgbmV3IGRlYm91bmNlcnMgYXJlIGFkZGVkIHdoaWxlIGZsdXNoaW5nLCBTZXQuZm9yRWFjaCB3aWxsIGVuc3VyZVxuICAvLyBuZXdseSBhZGRlZCBvbmVzIGFyZSBhbHNvIGZsdXNoZWRcbiAgZGVib3VuY2VyUXVldWUuZm9yRWFjaChkZWJvdW5jZXIgPT4ge1xuICAgIHRyeSB7XG4gICAgICBkZWJvdW5jZXIuZmx1c2goKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGRpZEZsdXNoO1xufTsiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXdcbiAqXG4gKiBNb2R1bGUgZm9yIGFkZGluZyBsaXN0ZW5lcnMgdG8gYSBub2RlIGZvciB0aGUgZm9sbG93aW5nIG5vcm1hbGl6ZWRcbiAqIGNyb3NzLXBsYXRmb3JtIFwiZ2VzdHVyZVwiIGV2ZW50czpcbiAqIC0gYGRvd25gIC0gbW91c2Ugb3IgdG91Y2ggd2VudCBkb3duXG4gKiAtIGB1cGAgLSBtb3VzZSBvciB0b3VjaCB3ZW50IHVwXG4gKiAtIGB0YXBgIC0gbW91c2UgY2xpY2sgb3IgZmluZ2VyIHRhcFxuICogLSBgdHJhY2tgIC0gbW91c2UgZHJhZyBvciB0b3VjaCBtb3ZlXG4gKlxuICogQHN1bW1hcnkgTW9kdWxlIGZvciBhZGRpbmcgY3Jvc3MtcGxhdGZvcm0gZ2VzdHVyZSBldmVudCBsaXN0ZW5lcnMuXG4gKi9cblxuaW1wb3J0ICcuL2Jvb3QuanMnO1xuXG5pbXBvcnQgeyB0aW1lT3V0LCBtaWNyb1Rhc2sgfSBmcm9tICcuL2FzeW5jLmpzJztcbmltcG9ydCB7IERlYm91bmNlciB9IGZyb20gJy4vZGVib3VuY2UuanMnO1xuaW1wb3J0IHsgcGFzc2l2ZVRvdWNoR2VzdHVyZXMsIGNhbmNlbFN5bnRoZXRpY0NsaWNrRXZlbnRzIH0gZnJvbSAnLi9zZXR0aW5ncy5qcyc7XG5pbXBvcnQgeyB3cmFwIH0gZnJvbSAnLi93cmFwLmpzJztcblxuLy8gZGV0ZWN0IG5hdGl2ZSB0b3VjaCBhY3Rpb24gc3VwcG9ydFxubGV0IEhBU19OQVRJVkVfVEEgPSB0eXBlb2YgZG9jdW1lbnQuaGVhZC5zdHlsZS50b3VjaEFjdGlvbiA9PT0gJ3N0cmluZyc7XG5sZXQgR0VTVFVSRV9LRVkgPSAnX19wb2x5bWVyR2VzdHVyZXMnO1xubGV0IEhBTkRMRURfT0JKID0gJ19fcG9seW1lckdlc3R1cmVzSGFuZGxlZCc7XG5sZXQgVE9VQ0hfQUNUSU9OID0gJ19fcG9seW1lckdlc3R1cmVzVG91Y2hBY3Rpb24nO1xuLy8gcmFkaXVzIGZvciB0YXAgYW5kIHRyYWNrXG5sZXQgVEFQX0RJU1RBTkNFID0gMjU7XG5sZXQgVFJBQ0tfRElTVEFOQ0UgPSA1O1xuLy8gbnVtYmVyIG9mIGxhc3QgTiB0cmFjayBwb3NpdGlvbnMgdG8ga2VlcFxubGV0IFRSQUNLX0xFTkdUSCA9IDI7XG5cbi8vIERpc2FibGluZyBcIm1vdXNlXCIgaGFuZGxlcnMgZm9yIDI1MDBtcyBpcyBlbm91Z2hcbmxldCBNT1VTRV9USU1FT1VUID0gMjUwMDtcbmxldCBNT1VTRV9FVkVOVFMgPSBbJ21vdXNlZG93bicsICdtb3VzZW1vdmUnLCAnbW91c2V1cCcsICdjbGljayddO1xuLy8gYW4gYXJyYXkgb2YgYml0bWFzayB2YWx1ZXMgZm9yIG1hcHBpbmcgTW91c2VFdmVudC53aGljaCB0byBNb3VzZUV2ZW50LmJ1dHRvbnNcbmxldCBNT1VTRV9XSElDSF9UT19CVVRUT05TID0gWzAsIDEsIDQsIDJdO1xubGV0IE1PVVNFX0hBU19CVVRUT05TID0gKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgTW91c2VFdmVudCgndGVzdCcsIHtidXR0b25zOiAxfSkuYnV0dG9ucyA9PT0gMTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSkoKTtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBQb3NzaWJsZSBtb3VzZSBldmVudCBuYW1lXG4gKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIG1vdXNlIGV2ZW50LCBmYWxzZSBpZiBub3RcbiAqL1xuZnVuY3Rpb24gaXNNb3VzZUV2ZW50KG5hbWUpIHtcbiAgcmV0dXJuIE1PVVNFX0VWRU5UUy5pbmRleE9mKG5hbWUpID4gLTE7XG59XG5cbi8qIGVzbGludCBuby1lbXB0eTogW1wiZXJyb3JcIiwgeyBcImFsbG93RW1wdHlDYXRjaFwiOiB0cnVlIH1dICovXG4vLyBjaGVjayBmb3IgcGFzc2l2ZSBldmVudCBsaXN0ZW5lcnNcbmxldCBzdXBwb3J0c1Bhc3NpdmUgPSBmYWxzZTtcbihmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICBsZXQgb3B0cyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7Z2V0KCkge3N1cHBvcnRzUGFzc2l2ZSA9IHRydWU7fX0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0JywgbnVsbCwgb3B0cyk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBudWxsLCBvcHRzKTtcbiAgfSBjYXRjaChlKSB7fVxufSkoKTtcblxuLyoqXG4gKiBHZW5lcmF0ZSBzZXR0aW5ncyBmb3IgZXZlbnQgbGlzdGVuZXJzLCBkZXBlbmRhbnQgb24gYHBhc3NpdmVUb3VjaEdlc3R1cmVzYFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgRXZlbnQgbmFtZSB0byBkZXRlcm1pbmUgaWYgYHtwYXNzaXZlfWAgb3B0aW9uIGlzXG4gKiAgIG5lZWRlZFxuICogQHJldHVybiB7e3Bhc3NpdmU6IGJvb2xlYW59IHwgdW5kZWZpbmVkfSBPcHRpb25zIHRvIHVzZSBmb3IgYWRkRXZlbnRMaXN0ZW5lclxuICogICBhbmQgcmVtb3ZlRXZlbnRMaXN0ZW5lclxuICovXG5mdW5jdGlvbiBQQVNTSVZFX1RPVUNIKGV2ZW50TmFtZSkge1xuICBpZiAoaXNNb3VzZUV2ZW50KGV2ZW50TmFtZSkgfHwgZXZlbnROYW1lID09PSAndG91Y2hlbmQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChIQVNfTkFUSVZFX1RBICYmIHN1cHBvcnRzUGFzc2l2ZSAmJiBwYXNzaXZlVG91Y2hHZXN0dXJlcykge1xuICAgIHJldHVybiB7cGFzc2l2ZTogdHJ1ZX07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuO1xuICB9XG59XG5cbi8vIENoZWNrIGZvciB0b3VjaC1vbmx5IGRldmljZXNcbmxldCBJU19UT1VDSF9PTkxZID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvaVAoPzpbb2FdZHxob25lKXxBbmRyb2lkLyk7XG5cbi8vIGtlZXAgdHJhY2sgb2YgYW55IGxhYmVscyBoaXQgYnkgdGhlIG1vdXNlQ2FuY2VsbGVyXG4vKiogQHR5cGUgeyFBcnJheTwhSFRNTExhYmVsRWxlbWVudD59ICovXG5jb25zdCBjbGlja2VkTGFiZWxzID0gW107XG5cbi8qKiBAdHlwZSB7IU9iamVjdDxib29sZWFuPn0gKi9cbmNvbnN0IGxhYmVsbGFibGUgPSB7XG4gICdidXR0b24nOiB0cnVlLFxuICAnaW5wdXQnOiB0cnVlLFxuICAna2V5Z2VuJzogdHJ1ZSxcbiAgJ21ldGVyJzogdHJ1ZSxcbiAgJ291dHB1dCc6IHRydWUsXG4gICd0ZXh0YXJlYSc6IHRydWUsXG4gICdwcm9ncmVzcyc6IHRydWUsXG4gICdzZWxlY3QnOiB0cnVlXG59O1xuXG4vLyBEZWZpbmVkIGF0IGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm0tY29udHJvbC1pbmZyYXN0cnVjdHVyZS5odG1sI2VuYWJsaW5nLWFuZC1kaXNhYmxpbmctZm9ybS1jb250cm9sczotdGhlLWRpc2FibGVkLWF0dHJpYnV0ZVxuLyoqIEB0eXBlIHshT2JqZWN0PGJvb2xlYW4+fSAqL1xuY29uc3QgY2FuQmVEaXNhYmxlZCA9IHtcbiAgJ2J1dHRvbic6IHRydWUsXG4gICdjb21tYW5kJzogdHJ1ZSxcbiAgJ2ZpZWxkc2V0JzogdHJ1ZSxcbiAgJ2lucHV0JzogdHJ1ZSxcbiAgJ2tleWdlbic6IHRydWUsXG4gICdvcHRncm91cCc6IHRydWUsXG4gICdvcHRpb24nOiB0cnVlLFxuICAnc2VsZWN0JzogdHJ1ZSxcbiAgJ3RleHRhcmVhJzogdHJ1ZVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCBFbGVtZW50IHRvIGNoZWNrIGxhYmVsbGluZyBzdGF0dXNcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGVsZW1lbnQgY2FuIGhhdmUgbGFiZWxzXG4gKi9cbmZ1bmN0aW9uIGNhbkJlTGFiZWxsZWQoZWwpIHtcbiAgcmV0dXJuIGxhYmVsbGFibGVbZWwubG9jYWxOYW1lXSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCBFbGVtZW50IHRoYXQgbWF5IGJlIGxhYmVsbGVkLlxuICogQHJldHVybiB7IUFycmF5PCFIVE1MTGFiZWxFbGVtZW50Pn0gUmVsZXZhbnQgbGFiZWwgZm9yIGBlbGBcbiAqL1xuZnVuY3Rpb24gbWF0Y2hpbmdMYWJlbHMoZWwpIHtcbiAgbGV0IGxhYmVscyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKC8qKiBAdHlwZSB7SFRNTElucHV0RWxlbWVudH0gKi8oZWwpLmxhYmVscyB8fCBbXSk7XG4gIC8vIElFIGRvZXNuJ3QgaGF2ZSBgbGFiZWxzYCBhbmQgU2FmYXJpIGRvZXNuJ3QgcG9wdWxhdGUgYGxhYmVsc2BcbiAgLy8gaWYgZWxlbWVudCBpcyBpbiBhIHNoYWRvd3Jvb3QuXG4gIC8vIEluIHRoaXMgaW5zdGFuY2UsIGZpbmRpbmcgdGhlIG5vbi1hbmNlc3RvciBsYWJlbHMgaXMgZW5vdWdoLFxuICAvLyBhcyB0aGUgbW91c2VDYW5jZWxsb3IgY29kZSB3aWxsIGhhbmRsZSBhbmNzdG9yIGxhYmVsc1xuICBpZiAoIWxhYmVscy5sZW5ndGgpIHtcbiAgICBsYWJlbHMgPSBbXTtcbiAgICBsZXQgcm9vdCA9IGVsLmdldFJvb3ROb2RlKCk7XG4gICAgLy8gaWYgdGhlcmUgaXMgYW4gaWQgb24gYGVsYCwgY2hlY2sgZm9yIGFsbCBsYWJlbHMgd2l0aCBhIG1hdGNoaW5nIGBmb3JgIGF0dHJpYnV0ZVxuICAgIGlmIChlbC5pZCkge1xuICAgICAgbGV0IG1hdGNoaW5nID0gcm9vdC5xdWVyeVNlbGVjdG9yQWxsKGBsYWJlbFtmb3IgPSAke2VsLmlkfV1gKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0Y2hpbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGFiZWxzLnB1c2goLyoqIEB0eXBlIHshSFRNTExhYmVsRWxlbWVudH0gKi8obWF0Y2hpbmdbaV0pKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxhYmVscztcbn1cblxuLy8gdG91Y2ggd2lsbCBtYWtlIHN5bnRoZXRpYyBtb3VzZSBldmVudHNcbi8vIGBwcmV2ZW50RGVmYXVsdGAgb24gdG91Y2hlbmQgd2lsbCBjYW5jZWwgdGhlbSxcbi8vIGJ1dCB0aGlzIGJyZWFrcyBgPGlucHV0PmAgZm9jdXMgYW5kIGxpbmsgY2xpY2tzXG4vLyBkaXNhYmxlIG1vdXNlIGhhbmRsZXJzIGZvciBNT1VTRV9USU1FT1VUIG1zIGFmdGVyXG4vLyBhIHRvdWNoZW5kIHRvIGlnbm9yZSBzeW50aGV0aWMgbW91c2UgZXZlbnRzXG5sZXQgbW91c2VDYW5jZWxsZXIgPSBmdW5jdGlvbihtb3VzZUV2ZW50KSB7XG4gIC8vIENoZWNrIGZvciBzb3VyY2VDYXBhYmlsaXRpZXMsIHVzZWQgdG8gZGlzdGluZ3Vpc2ggc3ludGhldGljIGV2ZW50c1xuICAvLyBpZiBtb3VzZUV2ZW50IGRpZCBub3QgY29tZSBmcm9tIGEgZGV2aWNlIHRoYXQgZmlyZXMgdG91Y2ggZXZlbnRzLFxuICAvLyBpdCB3YXMgbWFkZSBieSBhIHJlYWwgbW91c2UgYW5kIHNob3VsZCBiZSBjb3VudGVkXG4gIC8vIGh0dHA6Ly93aWNnLmdpdGh1Yi5pby9JbnB1dERldmljZUNhcGFiaWxpdGllcy8jZG9tLWlucHV0ZGV2aWNlY2FwYWJpbGl0aWVzLWZpcmVzdG91Y2hldmVudHNcbiAgbGV0IHNjID0gbW91c2VFdmVudC5zb3VyY2VDYXBhYmlsaXRpZXM7XG4gIGlmIChzYyAmJiAhc2MuZmlyZXNUb3VjaEV2ZW50cykge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBza2lwIHN5bnRoZXRpYyBtb3VzZSBldmVudHNcbiAgbW91c2VFdmVudFtIQU5ETEVEX09CSl0gPSB7c2tpcDogdHJ1ZX07XG4gIC8vIGRpc2FibGUgXCJnaG9zdCBjbGlja3NcIlxuICBpZiAobW91c2VFdmVudC50eXBlID09PSAnY2xpY2snKSB7XG4gICAgbGV0IGNsaWNrRnJvbUxhYmVsID0gZmFsc2U7XG4gICAgbGV0IHBhdGggPSBnZXRDb21wb3NlZFBhdGgobW91c2VFdmVudCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocGF0aFtpXS5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgaWYgKHBhdGhbaV0ubG9jYWxOYW1lID09PSAnbGFiZWwnKSB7XG4gICAgICAgICAgY2xpY2tlZExhYmVscy5wdXNoKC8qKiBAdHlwZSB7IUhUTUxMYWJlbEVsZW1lbnR9ICovIChwYXRoW2ldKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2FuQmVMYWJlbGxlZCgvKiogQHR5cGUgeyFIVE1MRWxlbWVudH0gKi8gKHBhdGhbaV0pKSkge1xuICAgICAgICAgIGxldCBvd25lckxhYmVscyA9XG4gICAgICAgICAgICAgIG1hdGNoaW5nTGFiZWxzKC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqLyAocGF0aFtpXSkpO1xuICAgICAgICAgIC8vIGNoZWNrIGlmIG9uZSBvZiB0aGUgY2xpY2tlZCBsYWJlbHMgaXMgbGFiZWxsaW5nIHRoaXMgZWxlbWVudFxuICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgb3duZXJMYWJlbHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNsaWNrRnJvbUxhYmVsID0gY2xpY2tGcm9tTGFiZWwgfHwgY2xpY2tlZExhYmVscy5pbmRleE9mKG93bmVyTGFiZWxzW2pdKSA+IC0xO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHBhdGhbaV0gPT09IFBPSU5URVJTVEFURS5tb3VzZS50YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBpZiBvbmUgb2YgdGhlIGNsaWNrZWQgbGFiZWxzIHdhcyBsYWJlbGxpbmcgdGhlIHRhcmdldCBlbGVtZW50LFxuICAgIC8vIHRoaXMgaXMgbm90IGEgZ2hvc3QgY2xpY2tcbiAgICBpZiAoY2xpY2tGcm9tTGFiZWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbW91c2VFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIG1vdXNlRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtib29sZWFuPX0gc2V0dXAgVHJ1ZSB0byBhZGQsIGZhbHNlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHNldHVwVGVhcmRvd25Nb3VzZUNhbmNlbGxlcihzZXR1cCkge1xuICBsZXQgZXZlbnRzID0gSVNfVE9VQ0hfT05MWSA/IFsnY2xpY2snXSA6IE1PVVNFX0VWRU5UUztcbiAgZm9yIChsZXQgaSA9IDAsIGVuOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgZW4gPSBldmVudHNbaV07XG4gICAgaWYgKHNldHVwKSB7XG4gICAgICAvLyByZXNldCBjbGlja0xhYmVscyBhcnJheVxuICAgICAgY2xpY2tlZExhYmVscy5sZW5ndGggPSAwO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihlbiwgbW91c2VDYW5jZWxsZXIsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGVuLCBtb3VzZUNhbmNlbGxlciwgdHJ1ZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGlnbm9yZU1vdXNlKGUpIHtcbiAgaWYgKCFjYW5jZWxTeW50aGV0aWNDbGlja0V2ZW50cykge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIVBPSU5URVJTVEFURS5tb3VzZS5tb3VzZUlnbm9yZUpvYikge1xuICAgIHNldHVwVGVhcmRvd25Nb3VzZUNhbmNlbGxlcih0cnVlKTtcbiAgfVxuICBsZXQgdW5zZXQgPSBmdW5jdGlvbigpIHtcbiAgICBzZXR1cFRlYXJkb3duTW91c2VDYW5jZWxsZXIoKTtcbiAgICBQT0lOVEVSU1RBVEUubW91c2UudGFyZ2V0ID0gbnVsbDtcbiAgICBQT0lOVEVSU1RBVEUubW91c2UubW91c2VJZ25vcmVKb2IgPSBudWxsO1xuICB9O1xuICBQT0lOVEVSU1RBVEUubW91c2UudGFyZ2V0ID0gZ2V0Q29tcG9zZWRQYXRoKGUpWzBdO1xuICBQT0lOVEVSU1RBVEUubW91c2UubW91c2VJZ25vcmVKb2IgPSBEZWJvdW5jZXIuZGVib3VuY2UoXG4gICAgICAgIFBPSU5URVJTVEFURS5tb3VzZS5tb3VzZUlnbm9yZUpvYlxuICAgICAgLCB0aW1lT3V0LmFmdGVyKE1PVVNFX1RJTUVPVVQpXG4gICAgICAsIHVuc2V0KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2IGV2ZW50IHRvIHRlc3QgZm9yIGxlZnQgbW91c2UgYnV0dG9uIGRvd25cbiAqIEByZXR1cm4ge2Jvb2xlYW59IGhhcyBsZWZ0IG1vdXNlIGJ1dHRvbiBkb3duXG4gKi9cbmZ1bmN0aW9uIGhhc0xlZnRNb3VzZUJ1dHRvbihldikge1xuICBsZXQgdHlwZSA9IGV2LnR5cGU7XG4gIC8vIGV4aXQgZWFybHkgaWYgdGhlIGV2ZW50IGlzIG5vdCBhIG1vdXNlIGV2ZW50XG4gIGlmICghaXNNb3VzZUV2ZW50KHR5cGUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIGV2LmJ1dHRvbiBpcyBub3QgcmVsaWFibGUgZm9yIG1vdXNlbW92ZSAoMCBpcyBvdmVybG9hZGVkIGFzIGJvdGggbGVmdCBidXR0b24gYW5kIG5vIGJ1dHRvbnMpXG4gIC8vIGluc3RlYWQgd2UgdXNlIGV2LmJ1dHRvbnMgKGJpdG1hc2sgb2YgYnV0dG9ucykgb3IgZmFsbCBiYWNrIHRvIGV2LndoaWNoIChkZXByZWNhdGVkLCAwIGZvciBubyBidXR0b25zLCAxIGZvciBsZWZ0IGJ1dHRvbilcbiAgaWYgKHR5cGUgPT09ICdtb3VzZW1vdmUnKSB7XG4gICAgLy8gYWxsb3cgdW5kZWZpbmVkIGZvciB0ZXN0aW5nIGV2ZW50c1xuICAgIGxldCBidXR0b25zID0gZXYuYnV0dG9ucyA9PT0gdW5kZWZpbmVkID8gMSA6IGV2LmJ1dHRvbnM7XG4gICAgaWYgKChldiBpbnN0YW5jZW9mIHdpbmRvdy5Nb3VzZUV2ZW50KSAmJiAhTU9VU0VfSEFTX0JVVFRPTlMpIHtcbiAgICAgIGJ1dHRvbnMgPSBNT1VTRV9XSElDSF9UT19CVVRUT05TW2V2LndoaWNoXSB8fCAwO1xuICAgIH1cbiAgICAvLyBidXR0b25zIGlzIGEgYml0bWFzaywgY2hlY2sgdGhhdCB0aGUgbGVmdCBidXR0b24gYml0IGlzIHNldCAoMSlcbiAgICByZXR1cm4gQm9vbGVhbihidXR0b25zICYgMSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYWxsb3cgdW5kZWZpbmVkIGZvciB0ZXN0aW5nIGV2ZW50c1xuICAgIGxldCBidXR0b24gPSBldi5idXR0b24gPT09IHVuZGVmaW5lZCA/IDAgOiBldi5idXR0b247XG4gICAgLy8gZXYuYnV0dG9uIGlzIDAgaW4gbW91c2Vkb3duL21vdXNldXAvY2xpY2sgZm9yIGxlZnQgYnV0dG9uIGFjdGl2YXRpb25cbiAgICByZXR1cm4gYnV0dG9uID09PSAwO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzU3ludGhldGljQ2xpY2soZXYpIHtcbiAgaWYgKGV2LnR5cGUgPT09ICdjbGljaycpIHtcbiAgICAvLyBldi5kZXRhaWwgaXMgMCBmb3IgSFRNTEVsZW1lbnQuY2xpY2sgaW4gbW9zdCBicm93c2Vyc1xuICAgIGlmIChldi5kZXRhaWwgPT09IDApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBpbiB0aGUgd29yc3QgY2FzZSwgY2hlY2sgdGhhdCB0aGUgeC95IHBvc2l0aW9uIG9mIHRoZSBjbGljayBpcyB3aXRoaW5cbiAgICAvLyB0aGUgYm91bmRpbmcgYm94IG9mIHRoZSB0YXJnZXQgb2YgdGhlIGV2ZW50XG4gICAgLy8gVGhhbmtzIElFIDEwID46KFxuICAgIGxldCB0ID0gX2ZpbmRPcmlnaW5hbFRhcmdldChldik7XG4gICAgLy8gbWFrZSBzdXJlIHRoZSB0YXJnZXQgb2YgdGhlIGV2ZW50IGlzIGFuIGVsZW1lbnQgc28gd2UgY2FuIHVzZSBnZXRCb3VuZGluZ0NsaWVudFJlY3QsXG4gICAgLy8gaWYgbm90LCBqdXN0IGFzc3VtZSBpdCBpcyBhIHN5bnRoZXRpYyBjbGlja1xuICAgIGlmICghdC5ub2RlVHlwZSB8fCAvKiogQHR5cGUge0VsZW1lbnR9ICovKHQpLm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxldCBiY3IgPSAvKiogQHR5cGUge0VsZW1lbnR9ICovKHQpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIC8vIHVzZSBwYWdlIHgveSB0byBhY2NvdW50IGZvciBzY3JvbGxpbmdcbiAgICBsZXQgeCA9IGV2LnBhZ2VYLCB5ID0gZXYucGFnZVk7XG4gICAgLy8gZXYgaXMgYSBzeW50aGV0aWMgY2xpY2sgaWYgdGhlIHBvc2l0aW9uIGlzIG91dHNpZGUgdGhlIGJvdW5kaW5nIGJveCBvZiB0aGUgdGFyZ2V0XG4gICAgcmV0dXJuICEoKHggPj0gYmNyLmxlZnQgJiYgeCA8PSBiY3IucmlnaHQpICYmICh5ID49IGJjci50b3AgJiYgeSA8PSBiY3IuYm90dG9tKSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5sZXQgUE9JTlRFUlNUQVRFID0ge1xuICBtb3VzZToge1xuICAgIHRhcmdldDogbnVsbCxcbiAgICBtb3VzZUlnbm9yZUpvYjogbnVsbFxuICB9LFxuICB0b3VjaDoge1xuICAgIHg6IDAsXG4gICAgeTogMCxcbiAgICBpZDogLTEsXG4gICAgc2Nyb2xsRGVjaWRlZDogZmFsc2VcbiAgfVxufTtcblxuZnVuY3Rpb24gZmlyc3RUb3VjaEFjdGlvbihldikge1xuICBsZXQgdGEgPSAnYXV0byc7XG4gIGxldCBwYXRoID0gZ2V0Q29tcG9zZWRQYXRoKGV2KTtcbiAgZm9yIChsZXQgaSA9IDAsIG47IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgbiA9IHBhdGhbaV07XG4gICAgaWYgKG5bVE9VQ0hfQUNUSU9OXSkge1xuICAgICAgdGEgPSBuW1RPVUNIX0FDVElPTl07XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhO1xufVxuXG5mdW5jdGlvbiB0cmFja0RvY3VtZW50KHN0YXRlT2JqLCBtb3ZlZm4sIHVwZm4pIHtcbiAgc3RhdGVPYmoubW92ZWZuID0gbW92ZWZuO1xuICBzdGF0ZU9iai51cGZuID0gdXBmbjtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgbW92ZWZuKTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHVwZm4pO1xufVxuXG5mdW5jdGlvbiB1bnRyYWNrRG9jdW1lbnQoc3RhdGVPYmopIHtcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgc3RhdGVPYmoubW92ZWZuKTtcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHN0YXRlT2JqLnVwZm4pO1xuICBzdGF0ZU9iai5tb3ZlZm4gPSBudWxsO1xuICBzdGF0ZU9iai51cGZuID0gbnVsbDtcbn1cblxuaWYgKGNhbmNlbFN5bnRoZXRpY0NsaWNrRXZlbnRzKSB7XG4gIC8vIHVzZSBhIGRvY3VtZW50LXdpZGUgdG91Y2hlbmQgbGlzdGVuZXIgdG8gc3RhcnQgdGhlIGdob3N0LWNsaWNrIHByZXZlbnRpb24gbWVjaGFuaXNtXG4gIC8vIFVzZSBwYXNzaXZlIGV2ZW50IGxpc3RlbmVycywgaWYgc3VwcG9ydGVkLCB0byBub3QgYWZmZWN0IHNjcm9sbGluZyBwZXJmb3JtYW5jZVxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGlnbm9yZU1vdXNlLCBzdXBwb3J0c1Bhc3NpdmUgPyB7cGFzc2l2ZTogdHJ1ZX0gOiBmYWxzZSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY29tcG9zZWRQYXRoIGZvciB0aGUgZ2l2ZW4gZXZlbnQuXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudCB0byBwcm9jZXNzXG4gKiBAcmV0dXJuIHshQXJyYXk8IUV2ZW50VGFyZ2V0Pn0gUGF0aCBvZiB0aGUgZXZlbnRcbiAqL1xuY29uc3QgZ2V0Q29tcG9zZWRQYXRoID0gd2luZG93LlNoYWR5RE9NICYmIHdpbmRvdy5TaGFkeURPTS5ub1BhdGNoID9cbiAgd2luZG93LlNoYWR5RE9NLmNvbXBvc2VkUGF0aCA6XG4gIChldmVudCkgPT4gZXZlbnQuY29tcG9zZWRQYXRoICYmIGV2ZW50LmNvbXBvc2VkUGF0aCgpIHx8IFtdO1xuXG4vKiogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCAhR2VzdHVyZVJlY29nbml6ZXI+fSAqL1xuZXhwb3J0IGNvbnN0IGdlc3R1cmVzID0ge307XG5cbi8qKiBAdHlwZSB7IUFycmF5PCFHZXN0dXJlUmVjb2duaXplcj59ICovXG5leHBvcnQgY29uc3QgcmVjb2duaXplcnMgPSBbXTtcblxuLyoqXG4gKiBGaW5kcyB0aGUgZWxlbWVudCByZW5kZXJlZCBvbiB0aGUgc2NyZWVuIGF0IHRoZSBwcm92aWRlZCBjb29yZGluYXRlcy5cbiAqXG4gKiBTaW1pbGFyIHRvIGBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50YCwgYnV0IHBpZXJjZXMgdGhyb3VnaFxuICogc2hhZG93IHJvb3RzLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IEhvcml6b250YWwgcGl4ZWwgY29vcmRpbmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHkgVmVydGljYWwgcGl4ZWwgY29vcmRpbmF0ZVxuICogQHJldHVybiB7RWxlbWVudH0gUmV0dXJucyB0aGUgZGVlcGVzdCBzaGFkb3dSb290IGluY2x1c2l2ZSBlbGVtZW50XG4gKiBmb3VuZCBhdCB0aGUgc2NyZWVuIHBvc2l0aW9uIGdpdmVuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVlcFRhcmdldEZpbmQoeCwgeSkge1xuICBsZXQgbm9kZSA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoeCwgeSk7XG4gIGxldCBuZXh0ID0gbm9kZTtcbiAgLy8gdGhpcyBjb2RlIHBhdGggaXMgb25seSB0YWtlbiB3aGVuIG5hdGl2ZSBTaGFkb3dET00gaXMgdXNlZFxuICAvLyBpZiB0aGVyZSBpcyBhIHNoYWRvd3Jvb3QsIGl0IG1heSBoYXZlIGEgbm9kZSBhdCB4L3lcbiAgLy8gaWYgdGhlcmUgaXMgbm90IGEgc2hhZG93cm9vdCwgZXhpdCB0aGUgbG9vcFxuICB3aGlsZSAobmV4dCAmJiBuZXh0LnNoYWRvd1Jvb3QgJiYgIXdpbmRvdy5TaGFkeURPTSkge1xuICAgIC8vIGlmIHRoZXJlIGlzIGEgbm9kZSBhdCB4L3kgaW4gdGhlIHNoYWRvd3Jvb3QsIGxvb2sgZGVlcGVyXG4gICAgbGV0IG9sZE5leHQgPSBuZXh0O1xuICAgIG5leHQgPSBuZXh0LnNoYWRvd1Jvb3QuZWxlbWVudEZyb21Qb2ludCh4LCB5KTtcbiAgICAvLyBvbiBTYWZhcmksIGVsZW1lbnRGcm9tUG9pbnQgbWF5IHJldHVybiB0aGUgc2hhZG93Um9vdCBob3N0XG4gICAgaWYgKG9sZE5leHQgPT09IG5leHQpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAobmV4dCkge1xuICAgICAgbm9kZSA9IG5leHQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBub2RlO1xufVxuXG4vKipcbiAqIGEgY2hlYXBlciBjaGVjayB0aGFuIGV2LmNvbXBvc2VkUGF0aCgpWzBdO1xuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0V2ZW50fFRvdWNofSBldiBFdmVudC5cbiAqIEByZXR1cm4ge0V2ZW50VGFyZ2V0fSBSZXR1cm5zIHRoZSBldmVudCB0YXJnZXQuXG4gKi9cbmZ1bmN0aW9uIF9maW5kT3JpZ2luYWxUYXJnZXQoZXYpIHtcbiAgY29uc3QgcGF0aCA9IGdldENvbXBvc2VkUGF0aCgvKiogQHR5cGUgez9FdmVudH0gKi8gKGV2KSk7XG4gIC8vIEl0IHNob3VsZG4ndCBiZSwgYnV0IHNvbWV0aW1lcyBwYXRoIGlzIGVtcHR5ICh3aW5kb3cgb24gU2FmYXJpKS5cbiAgcmV0dXJuIHBhdGgubGVuZ3RoID4gMCA/IHBhdGhbMF0gOiBldi50YXJnZXQ7XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RXZlbnR9IGV2IEV2ZW50LlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gX2hhbmRsZU5hdGl2ZShldikge1xuICBsZXQgaGFuZGxlZDtcbiAgbGV0IHR5cGUgPSBldi50eXBlO1xuICBsZXQgbm9kZSA9IGV2LmN1cnJlbnRUYXJnZXQ7XG4gIGxldCBnb2JqID0gbm9kZVtHRVNUVVJFX0tFWV07XG4gIGlmICghZ29iaikge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgZ3MgPSBnb2JqW3R5cGVdO1xuICBpZiAoIWdzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghZXZbSEFORExFRF9PQkpdKSB7XG4gICAgZXZbSEFORExFRF9PQkpdID0ge307XG4gICAgaWYgKHR5cGUuc2xpY2UoMCwgNSkgPT09ICd0b3VjaCcpIHtcbiAgICAgIGV2ID0gLyoqIEB0eXBlIHtUb3VjaEV2ZW50fSAqLyhldik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1hc3NpZ25cbiAgICAgIGxldCB0ID0gZXYuY2hhbmdlZFRvdWNoZXNbMF07XG4gICAgICBpZiAodHlwZSA9PT0gJ3RvdWNoc3RhcnQnKSB7XG4gICAgICAgIC8vIG9ubHkgaGFuZGxlIHRoZSBmaXJzdCBmaW5nZXJcbiAgICAgICAgaWYgKGV2LnRvdWNoZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgUE9JTlRFUlNUQVRFLnRvdWNoLmlkID0gdC5pZGVudGlmaWVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoUE9JTlRFUlNUQVRFLnRvdWNoLmlkICE9PSB0LmlkZW50aWZpZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFIQVNfTkFUSVZFX1RBKSB7XG4gICAgICAgIGlmICh0eXBlID09PSAndG91Y2hzdGFydCcgfHwgdHlwZSA9PT0gJ3RvdWNobW92ZScpIHtcbiAgICAgICAgICBfaGFuZGxlVG91Y2hBY3Rpb24oZXYpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGhhbmRsZWQgPSBldltIQU5ETEVEX09CSl07XG4gIC8vIHVzZWQgdG8gaWdub3JlIHN5bnRoZXRpYyBtb3VzZSBldmVudHNcbiAgaWYgKGhhbmRsZWQuc2tpcCkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyByZXNldCByZWNvZ25pemVyIHN0YXRlXG4gIGZvciAobGV0IGkgPSAwLCByOyBpIDwgcmVjb2duaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICByID0gcmVjb2duaXplcnNbaV07XG4gICAgaWYgKGdzW3IubmFtZV0gJiYgIWhhbmRsZWRbci5uYW1lXSkge1xuICAgICAgaWYgKHIuZmxvdyAmJiByLmZsb3cuc3RhcnQuaW5kZXhPZihldi50eXBlKSA+IC0xICYmIHIucmVzZXQpIHtcbiAgICAgICAgci5yZXNldCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBlbmZvcmNlIGdlc3R1cmUgcmVjb2duaXplciBvcmRlclxuICBmb3IgKGxldCBpID0gMCwgcjsgaSA8IHJlY29nbml6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgciA9IHJlY29nbml6ZXJzW2ldO1xuICAgIGlmIChnc1tyLm5hbWVdICYmICFoYW5kbGVkW3IubmFtZV0pIHtcbiAgICAgIGhhbmRsZWRbci5uYW1lXSA9IHRydWU7XG4gICAgICByW3R5cGVdKGV2KTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtUb3VjaEV2ZW50fSBldiBFdmVudC5cbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIF9oYW5kbGVUb3VjaEFjdGlvbihldikge1xuICBsZXQgdCA9IGV2LmNoYW5nZWRUb3VjaGVzWzBdO1xuICBsZXQgdHlwZSA9IGV2LnR5cGU7XG4gIGlmICh0eXBlID09PSAndG91Y2hzdGFydCcpIHtcbiAgICBQT0lOVEVSU1RBVEUudG91Y2gueCA9IHQuY2xpZW50WDtcbiAgICBQT0lOVEVSU1RBVEUudG91Y2gueSA9IHQuY2xpZW50WTtcbiAgICBQT0lOVEVSU1RBVEUudG91Y2guc2Nyb2xsRGVjaWRlZCA9IGZhbHNlO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICd0b3VjaG1vdmUnKSB7XG4gICAgaWYgKFBPSU5URVJTVEFURS50b3VjaC5zY3JvbGxEZWNpZGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFBPSU5URVJTVEFURS50b3VjaC5zY3JvbGxEZWNpZGVkID0gdHJ1ZTtcbiAgICBsZXQgdGEgPSBmaXJzdFRvdWNoQWN0aW9uKGV2KTtcbiAgICBsZXQgc2hvdWxkUHJldmVudCA9IGZhbHNlO1xuICAgIGxldCBkeCA9IE1hdGguYWJzKFBPSU5URVJTVEFURS50b3VjaC54IC0gdC5jbGllbnRYKTtcbiAgICBsZXQgZHkgPSBNYXRoLmFicyhQT0lOVEVSU1RBVEUudG91Y2gueSAtIHQuY2xpZW50WSk7XG4gICAgaWYgKCFldi5jYW5jZWxhYmxlKSB7XG4gICAgICAvLyBzY3JvbGxpbmcgaXMgaGFwcGVuaW5nXG4gICAgfSBlbHNlIGlmICh0YSA9PT0gJ25vbmUnKSB7XG4gICAgICBzaG91bGRQcmV2ZW50ID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHRhID09PSAncGFuLXgnKSB7XG4gICAgICBzaG91bGRQcmV2ZW50ID0gZHkgPiBkeDtcbiAgICB9IGVsc2UgaWYgKHRhID09PSAncGFuLXknKSB7XG4gICAgICBzaG91bGRQcmV2ZW50ID0gZHggPiBkeTtcbiAgICB9XG4gICAgaWYgKHNob3VsZFByZXZlbnQpIHtcbiAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByZXZlbnQoJ3RyYWNrJyk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciB0byBhIG5vZGUgZm9yIHRoZSBnaXZlbiBnZXN0dXJlIHR5cGUuXG4gKlxuICogQHBhcmFtIHshRXZlbnRUYXJnZXR9IG5vZGUgTm9kZSB0byBhZGQgbGlzdGVuZXIgb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBldlR5cGUgR2VzdHVyZSB0eXBlOiBgZG93bmAsIGB1cGAsIGB0cmFja2AsIG9yIGB0YXBgXG4gKiBAcGFyYW0geyFmdW5jdGlvbighRXZlbnQpOnZvaWR9IGhhbmRsZXIgRXZlbnQgbGlzdGVuZXIgZnVuY3Rpb24gdG8gY2FsbFxuICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIGEgZ2VzdHVyZSBldmVudCBsaXN0ZW5lciB3YXMgYWRkZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRMaXN0ZW5lcihub2RlLCBldlR5cGUsIGhhbmRsZXIpIHtcbiAgaWYgKGdlc3R1cmVzW2V2VHlwZV0pIHtcbiAgICBfYWRkKG5vZGUsIGV2VHlwZSwgaGFuZGxlcik7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYW4gZXZlbnQgbGlzdGVuZXIgZnJvbSBhIG5vZGUgZm9yIHRoZSBnaXZlbiBnZXN0dXJlIHR5cGUuXG4gKlxuICogQHBhcmFtIHshRXZlbnRUYXJnZXR9IG5vZGUgTm9kZSB0byByZW1vdmUgbGlzdGVuZXIgZnJvbVxuICogQHBhcmFtIHtzdHJpbmd9IGV2VHlwZSBHZXN0dXJlIHR5cGU6IGBkb3duYCwgYHVwYCwgYHRyYWNrYCwgb3IgYHRhcGBcbiAqIEBwYXJhbSB7IWZ1bmN0aW9uKCFFdmVudCk6dm9pZH0gaGFuZGxlciBFdmVudCBsaXN0ZW5lciBmdW5jdGlvbiBwcmV2aW91c2x5IHBhc3NlZCB0b1xuICogIGBhZGRMaXN0ZW5lcmAuXG4gKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgYSBnZXN0dXJlIGV2ZW50IGxpc3RlbmVyIHdhcyByZW1vdmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIobm9kZSwgZXZUeXBlLCBoYW5kbGVyKSB7XG4gIGlmIChnZXN0dXJlc1tldlR5cGVdKSB7XG4gICAgX3JlbW92ZShub2RlLCBldlR5cGUsIGhhbmRsZXIpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBhdXRvbWF0ZSB0aGUgZXZlbnQgbGlzdGVuZXJzIGZvciB0aGUgbmF0aXZlIGV2ZW50c1xuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyFFdmVudFRhcmdldH0gbm9kZSBOb2RlIG9uIHdoaWNoIHRvIGFkZCB0aGUgZXZlbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZUeXBlIEV2ZW50IHR5cGUgdG8gYWRkLlxuICogQHBhcmFtIHtmdW5jdGlvbighRXZlbnQpfSBoYW5kbGVyIEV2ZW50IGhhbmRsZXIgZnVuY3Rpb24uXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5mdW5jdGlvbiBfYWRkKG5vZGUsIGV2VHlwZSwgaGFuZGxlcikge1xuICBsZXQgcmVjb2duaXplciA9IGdlc3R1cmVzW2V2VHlwZV07XG4gIGxldCBkZXBzID0gcmVjb2duaXplci5kZXBzO1xuICBsZXQgbmFtZSA9IHJlY29nbml6ZXIubmFtZTtcbiAgbGV0IGdvYmogPSBub2RlW0dFU1RVUkVfS0VZXTtcbiAgaWYgKCFnb2JqKSB7XG4gICAgbm9kZVtHRVNUVVJFX0tFWV0gPSBnb2JqID0ge307XG4gIH1cbiAgZm9yIChsZXQgaSA9IDAsIGRlcCwgZ2Q7IGkgPCBkZXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgZGVwID0gZGVwc1tpXTtcbiAgICAvLyBkb24ndCBhZGQgbW91c2UgaGFuZGxlcnMgb24gaU9TIGJlY2F1c2UgdGhleSBjYXVzZSBncmF5IHNlbGVjdGlvbiBvdmVybGF5c1xuICAgIGlmIChJU19UT1VDSF9PTkxZICYmIGlzTW91c2VFdmVudChkZXApICYmIGRlcCAhPT0gJ2NsaWNrJykge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGdkID0gZ29ialtkZXBdO1xuICAgIGlmICghZ2QpIHtcbiAgICAgIGdvYmpbZGVwXSA9IGdkID0ge19jb3VudDogMH07XG4gICAgfVxuICAgIGlmIChnZC5fY291bnQgPT09IDApIHtcbiAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihkZXAsIF9oYW5kbGVOYXRpdmUsIFBBU1NJVkVfVE9VQ0goZGVwKSk7XG4gICAgfVxuICAgIGdkW25hbWVdID0gKGdkW25hbWVdIHx8IDApICsgMTtcbiAgICBnZC5fY291bnQgPSAoZ2QuX2NvdW50IHx8IDApICsgMTtcbiAgfVxuICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZUeXBlLCBoYW5kbGVyKTtcbiAgaWYgKHJlY29nbml6ZXIudG91Y2hBY3Rpb24pIHtcbiAgICBzZXRUb3VjaEFjdGlvbihub2RlLCByZWNvZ25pemVyLnRvdWNoQWN0aW9uKTtcbiAgfVxufVxuXG4vKipcbiAqIGF1dG9tYXRlIGV2ZW50IGxpc3RlbmVyIHJlbW92YWwgZm9yIG5hdGl2ZSBldmVudHNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHshRXZlbnRUYXJnZXR9IG5vZGUgTm9kZSBvbiB3aGljaCB0byByZW1vdmUgdGhlIGV2ZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IGV2VHlwZSBFdmVudCB0eXBlIHRvIHJlbW92ZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oIUV2ZW50KTogdm9pZH0gaGFuZGxlciBFdmVudCBoYW5kbGVyIGZ1bmN0aW9uLlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gX3JlbW92ZShub2RlLCBldlR5cGUsIGhhbmRsZXIpIHtcbiAgbGV0IHJlY29nbml6ZXIgPSBnZXN0dXJlc1tldlR5cGVdO1xuICBsZXQgZGVwcyA9IHJlY29nbml6ZXIuZGVwcztcbiAgbGV0IG5hbWUgPSByZWNvZ25pemVyLm5hbWU7XG4gIGxldCBnb2JqID0gbm9kZVtHRVNUVVJFX0tFWV07XG4gIGlmIChnb2JqKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGRlcCwgZ2Q7IGkgPCBkZXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkZXAgPSBkZXBzW2ldO1xuICAgICAgZ2QgPSBnb2JqW2RlcF07XG4gICAgICBpZiAoZ2QgJiYgZ2RbbmFtZV0pIHtcbiAgICAgICAgZ2RbbmFtZV0gPSAoZ2RbbmFtZV0gfHwgMSkgLSAxO1xuICAgICAgICBnZC5fY291bnQgPSAoZ2QuX2NvdW50IHx8IDEpIC0gMTtcbiAgICAgICAgaWYgKGdkLl9jb3VudCA9PT0gMCkge1xuICAgICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihkZXAsIF9oYW5kbGVOYXRpdmUsIFBBU1NJVkVfVE9VQ0goZGVwKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2VHlwZSwgaGFuZGxlcik7XG59XG5cbi8qKlxuICogUmVnaXN0ZXJzIGEgbmV3IGdlc3R1cmUgZXZlbnQgcmVjb2duaXplciBmb3IgYWRkaW5nIG5ldyBjdXN0b21cbiAqIGdlc3R1cmUgZXZlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHshR2VzdHVyZVJlY29nbml6ZXJ9IHJlY29nIEdlc3R1cmUgcmVjb2duaXplciBkZXNjcmlwdG9yXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXIocmVjb2cpIHtcbiAgcmVjb2duaXplcnMucHVzaChyZWNvZyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmVjb2cuZW1pdHMubGVuZ3RoOyBpKyspIHtcbiAgICBnZXN0dXJlc1tyZWNvZy5lbWl0c1tpXV0gPSByZWNvZztcbiAgfVxufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZOYW1lIEV2ZW50IG5hbWUuXG4gKiBAcmV0dXJuIHtPYmplY3R9IFJldHVybnMgdGhlIGdlc3R1cmUgZm9yIHRoZSBnaXZlbiBldmVudCBuYW1lLlxuICovXG5mdW5jdGlvbiBfZmluZFJlY29nbml6ZXJCeUV2ZW50KGV2TmFtZSkge1xuICBmb3IgKGxldCBpID0gMCwgcjsgaSA8IHJlY29nbml6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgciA9IHJlY29nbml6ZXJzW2ldO1xuICAgIGZvciAobGV0IGogPSAwLCBuOyBqIDwgci5lbWl0cy5sZW5ndGg7IGorKykge1xuICAgICAgbiA9IHIuZW1pdHNbal07XG4gICAgICBpZiAobiA9PT0gZXZOYW1lKSB7XG4gICAgICAgIHJldHVybiByO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBTZXRzIHNjcm9sbGluZyBkaXJlY3Rpb24gb24gbm9kZS5cbiAqXG4gKiBUaGlzIHZhbHVlIGlzIGNoZWNrZWQgb24gZmlyc3QgbW92ZSwgdGh1cyBpdCBzaG91bGQgYmUgY2FsbGVkIHByaW9yIHRvXG4gKiBhZGRpbmcgZXZlbnQgbGlzdGVuZXJzLlxuICpcbiAqIEBwYXJhbSB7IUV2ZW50VGFyZ2V0fSBub2RlIE5vZGUgdG8gc2V0IHRvdWNoIGFjdGlvbiBzZXR0aW5nIG9uXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVG91Y2ggYWN0aW9uIHZhbHVlXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0VG91Y2hBY3Rpb24obm9kZSwgdmFsdWUpIHtcbiAgaWYgKEhBU19OQVRJVkVfVEEgJiYgbm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgLy8gTk9URTogYWRkIHRvdWNoQWN0aW9uIGFzeW5jIHNvIHRoYXQgZXZlbnRzIGNhbiBiZSBhZGRlZCBpblxuICAgIC8vIGN1c3RvbSBlbGVtZW50IGNvbnN0cnVjdG9ycy4gT3RoZXJ3aXNlIHdlIHJ1biBhZm91bCBvZiBjdXN0b21cbiAgICAvLyBlbGVtZW50cyByZXN0cmljdGlvbiBhZ2FpbnN0IHNldHRpbmdzIGF0dHJpYnV0ZXMgKHN0eWxlKSBpbiB0aGVcbiAgICAvLyBjb25zdHJ1Y3Rvci5cbiAgICBtaWNyb1Rhc2sucnVuKCgpID0+IHtcbiAgICAgIG5vZGUuc3R5bGUudG91Y2hBY3Rpb24gPSB2YWx1ZTtcbiAgICB9KTtcbiAgfVxuICBub2RlW1RPVUNIX0FDVElPTl0gPSB2YWx1ZTtcbn1cblxuLyoqXG4gKiBEaXNwYXRjaGVzIGFuIGV2ZW50IG9uIHRoZSBgdGFyZ2V0YCBlbGVtZW50IG9mIGB0eXBlYCB3aXRoIHRoZSBnaXZlblxuICogYGRldGFpbGAuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHshRXZlbnRUYXJnZXR9IHRhcmdldCBUaGUgZWxlbWVudCBvbiB3aGljaCB0byBmaXJlIGFuIGV2ZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIHR5cGUgb2YgZXZlbnQgdG8gZmlyZS5cbiAqIEBwYXJhbSB7IU9iamVjdD19IGRldGFpbCBUaGUgZGV0YWlsIG9iamVjdCB0byBwb3B1bGF0ZSBvbiB0aGUgZXZlbnQuXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5mdW5jdGlvbiBfZmlyZSh0YXJnZXQsIHR5cGUsIGRldGFpbCkge1xuICBsZXQgZXYgPSBuZXcgRXZlbnQodHlwZSwgeyBidWJibGVzOiB0cnVlLCBjYW5jZWxhYmxlOiB0cnVlLCBjb21wb3NlZDogdHJ1ZSB9KTtcbiAgZXYuZGV0YWlsID0gZGV0YWlsO1xuICB3cmFwKC8qKiBAdHlwZSB7IU5vZGV9ICovKHRhcmdldCkpLmRpc3BhdGNoRXZlbnQoZXYpO1xuICAvLyBmb3J3YXJkIGBwcmV2ZW50RGVmYXVsdGAgaW4gYSBjbGVhbiB3YXlcbiAgaWYgKGV2LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICBsZXQgcHJldmVudGVyID0gZGV0YWlsLnByZXZlbnRlciB8fCBkZXRhaWwuc291cmNlRXZlbnQ7XG4gICAgaWYgKHByZXZlbnRlciAmJiBwcmV2ZW50ZXIucHJldmVudERlZmF1bHQpIHtcbiAgICAgIHByZXZlbnRlci5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFByZXZlbnRzIHRoZSBkaXNwYXRjaCBhbmQgZGVmYXVsdCBhY3Rpb24gb2YgdGhlIGdpdmVuIGV2ZW50IG5hbWUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGV2TmFtZSBFdmVudCBuYW1lLlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXZlbnQoZXZOYW1lKSB7XG4gIGxldCByZWNvZ25pemVyID0gX2ZpbmRSZWNvZ25pemVyQnlFdmVudChldk5hbWUpO1xuICBpZiAocmVjb2duaXplci5pbmZvKSB7XG4gICAgcmVjb2duaXplci5pbmZvLnByZXZlbnQgPSB0cnVlO1xuICB9XG59XG5cbi8qKlxuICogUmVzZXQgdGhlIDI1MDBtcyB0aW1lb3V0IG9uIHByb2Nlc3NpbmcgbW91c2UgaW5wdXQgYWZ0ZXIgZGV0ZWN0aW5nIHRvdWNoIGlucHV0LlxuICpcbiAqIFRvdWNoIGlucHV0cyBjcmVhdGUgc3ludGhlc2l6ZWQgbW91c2UgaW5wdXRzIGFueXdoZXJlIGZyb20gMCB0byAyMDAwbXMgYWZ0ZXIgdGhlIHRvdWNoLlxuICogVGhpcyBtZXRob2Qgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIGR1cmluZyB0ZXN0aW5nIHdpdGggc2ltdWxhdGVkIHRvdWNoIGlucHV0cy5cbiAqIENhbGxpbmcgdGhpcyBtZXRob2QgaW4gcHJvZHVjdGlvbiBtYXkgY2F1c2UgZHVwbGljYXRlIHRhcHMgb3Igb3RoZXIgR2VzdHVyZXMuXG4gKlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0TW91c2VDYW5jZWxsZXIoKSB7XG4gIGlmIChQT0lOVEVSU1RBVEUubW91c2UubW91c2VJZ25vcmVKb2IpIHtcbiAgICBQT0lOVEVSU1RBVEUubW91c2UubW91c2VJZ25vcmVKb2IuZmx1c2goKTtcbiAgfVxufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSB2YWxpZC1qc2RvYyAqL1xuXG5yZWdpc3Rlcih7XG4gIG5hbWU6ICdkb3dudXAnLFxuICBkZXBzOiBbJ21vdXNlZG93bicsICd0b3VjaHN0YXJ0JywgJ3RvdWNoZW5kJ10sXG4gIGZsb3c6IHtcbiAgICBzdGFydDogWydtb3VzZWRvd24nLCAndG91Y2hzdGFydCddLFxuICAgIGVuZDogWydtb3VzZXVwJywgJ3RvdWNoZW5kJ11cbiAgfSxcbiAgZW1pdHM6IFsnZG93bicsICd1cCddLFxuXG4gIGluZm86IHtcbiAgICBtb3ZlZm46IG51bGwsXG4gICAgdXBmbjogbnVsbFxuICB9LFxuXG4gIC8qKlxuICAgKiBAdGhpcyB7R2VzdHVyZVJlY29nbml6ZXJ9XG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgdW50cmFja0RvY3VtZW50KHRoaXMuaW5mbyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEB0aGlzIHtHZXN0dXJlUmVjb2duaXplcn1cbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBtb3VzZWRvd246IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoIWhhc0xlZnRNb3VzZUJ1dHRvbihlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgdCA9IF9maW5kT3JpZ2luYWxUYXJnZXQoZSk7XG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBtb3ZlZm4gPSBmdW5jdGlvbiBtb3ZlZm4oZSkge1xuICAgICAgaWYgKCFoYXNMZWZ0TW91c2VCdXR0b24oZSkpIHtcbiAgICAgICAgZG93bnVwRmlyZSgndXAnLCB0LCBlKTtcbiAgICAgICAgdW50cmFja0RvY3VtZW50KHNlbGYuaW5mbyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBsZXQgdXBmbiA9IGZ1bmN0aW9uIHVwZm4oZSkge1xuICAgICAgaWYgKGhhc0xlZnRNb3VzZUJ1dHRvbihlKSkge1xuICAgICAgICBkb3dudXBGaXJlKCd1cCcsIHQsIGUpO1xuICAgICAgfVxuICAgICAgdW50cmFja0RvY3VtZW50KHNlbGYuaW5mbyk7XG4gICAgfTtcbiAgICB0cmFja0RvY3VtZW50KHRoaXMuaW5mbywgbW92ZWZuLCB1cGZuKTtcbiAgICBkb3dudXBGaXJlKCdkb3duJywgdCwgZSk7XG4gIH0sXG4gIC8qKlxuICAgKiBAdGhpcyB7R2VzdHVyZVJlY29nbml6ZXJ9XG4gICAqIEBwYXJhbSB7VG91Y2hFdmVudH0gZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgdG91Y2hzdGFydDogZnVuY3Rpb24oZSkge1xuICAgIGRvd251cEZpcmUoJ2Rvd24nLCBfZmluZE9yaWdpbmFsVGFyZ2V0KGUpLCBlLmNoYW5nZWRUb3VjaGVzWzBdLCBlKTtcbiAgfSxcbiAgLyoqXG4gICAqIEB0aGlzIHtHZXN0dXJlUmVjb2duaXplcn1cbiAgICogQHBhcmFtIHtUb3VjaEV2ZW50fSBlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICB0b3VjaGVuZDogZnVuY3Rpb24oZSkge1xuICAgIGRvd251cEZpcmUoJ3VwJywgX2ZpbmRPcmlnaW5hbFRhcmdldChlKSwgZS5jaGFuZ2VkVG91Y2hlc1swXSwgZSk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSB0YXJnZXRcbiAqIEBwYXJhbSB7RXZlbnR8VG91Y2h9IGV2ZW50XG4gKiBAcGFyYW0ge0V2ZW50PX0gcHJldmVudGVyXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5mdW5jdGlvbiBkb3dudXBGaXJlKHR5cGUsIHRhcmdldCwgZXZlbnQsIHByZXZlbnRlcikge1xuICBpZiAoIXRhcmdldCkge1xuICAgIHJldHVybjtcbiAgfVxuICBfZmlyZSh0YXJnZXQsIHR5cGUsIHtcbiAgICB4OiBldmVudC5jbGllbnRYLFxuICAgIHk6IGV2ZW50LmNsaWVudFksXG4gICAgc291cmNlRXZlbnQ6IGV2ZW50LFxuICAgIHByZXZlbnRlcjogcHJldmVudGVyLFxuICAgIHByZXZlbnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHJldHVybiBwcmV2ZW50KGUpO1xuICAgIH1cbiAgfSk7XG59XG5cbnJlZ2lzdGVyKHtcbiAgbmFtZTogJ3RyYWNrJyxcbiAgdG91Y2hBY3Rpb246ICdub25lJyxcbiAgZGVwczogWydtb3VzZWRvd24nLCAndG91Y2hzdGFydCcsICd0b3VjaG1vdmUnLCAndG91Y2hlbmQnXSxcbiAgZmxvdzoge1xuICAgIHN0YXJ0OiBbJ21vdXNlZG93bicsICd0b3VjaHN0YXJ0J10sXG4gICAgZW5kOiBbJ21vdXNldXAnLCAndG91Y2hlbmQnXVxuICB9LFxuICBlbWl0czogWyd0cmFjayddLFxuXG4gIGluZm86IHtcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgc3RhdGU6ICdzdGFydCcsXG4gICAgc3RhcnRlZDogZmFsc2UsXG4gICAgbW92ZXM6IFtdLFxuICAgIC8qKiBAdGhpcyB7R2VzdHVyZUluZm99ICovXG4gICAgYWRkTW92ZTogZnVuY3Rpb24obW92ZSkge1xuICAgICAgaWYgKHRoaXMubW92ZXMubGVuZ3RoID4gVFJBQ0tfTEVOR1RIKSB7XG4gICAgICAgIHRoaXMubW92ZXMuc2hpZnQoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMubW92ZXMucHVzaChtb3ZlKTtcbiAgICB9LFxuICAgIG1vdmVmbjogbnVsbCxcbiAgICB1cGZuOiBudWxsLFxuICAgIHByZXZlbnQ6IGZhbHNlXG4gIH0sXG5cbiAgLyoqXG4gICAqIEB0aGlzIHtHZXN0dXJlUmVjb2duaXplcn1cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmluZm8uc3RhdGUgPSAnc3RhcnQnO1xuICAgIHRoaXMuaW5mby5zdGFydGVkID0gZmFsc2U7XG4gICAgdGhpcy5pbmZvLm1vdmVzID0gW107XG4gICAgdGhpcy5pbmZvLnggPSAwO1xuICAgIHRoaXMuaW5mby55ID0gMDtcbiAgICB0aGlzLmluZm8ucHJldmVudCA9IGZhbHNlO1xuICAgIHVudHJhY2tEb2N1bWVudCh0aGlzLmluZm8pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAdGhpcyB7R2VzdHVyZVJlY29nbml6ZXJ9XG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgbW91c2Vkb3duOiBmdW5jdGlvbihlKSB7XG4gICAgaWYgKCFoYXNMZWZ0TW91c2VCdXR0b24oZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHQgPSBfZmluZE9yaWdpbmFsVGFyZ2V0KGUpO1xuICAgIGxldCBzZWxmID0gdGhpcztcbiAgICBsZXQgbW92ZWZuID0gZnVuY3Rpb24gbW92ZWZuKGUpIHtcbiAgICAgIGxldCB4ID0gZS5jbGllbnRYLCB5ID0gZS5jbGllbnRZO1xuICAgICAgaWYgKHRyYWNrSGFzTW92ZWRFbm91Z2goc2VsZi5pbmZvLCB4LCB5KSkge1xuICAgICAgICAvLyBmaXJzdCBtb3ZlIGlzICdzdGFydCcsIHN1YnNlcXVlbnQgbW92ZXMgYXJlICdtb3ZlJywgbW91c2V1cCBpcyAnZW5kJ1xuICAgICAgICBzZWxmLmluZm8uc3RhdGUgPSBzZWxmLmluZm8uc3RhcnRlZCA/IChlLnR5cGUgPT09ICdtb3VzZXVwJyA/ICdlbmQnIDogJ3RyYWNrJykgOiAnc3RhcnQnO1xuICAgICAgICBpZiAoc2VsZi5pbmZvLnN0YXRlID09PSAnc3RhcnQnKSB7XG4gICAgICAgICAgLy8gaWYgYW5kIG9ubHkgaWYgdHJhY2tpbmcsIGFsd2F5cyBwcmV2ZW50IHRhcFxuICAgICAgICAgIHByZXZlbnQoJ3RhcCcpO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuaW5mby5hZGRNb3ZlKHt4OiB4LCB5OiB5fSk7XG4gICAgICAgIGlmICghaGFzTGVmdE1vdXNlQnV0dG9uKGUpKSB7XG4gICAgICAgICAgLy8gYWx3YXlzIGZpcmUgXCJlbmRcIlxuICAgICAgICAgIHNlbGYuaW5mby5zdGF0ZSA9ICdlbmQnO1xuICAgICAgICAgIHVudHJhY2tEb2N1bWVudChzZWxmLmluZm8pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0KSB7XG4gICAgICAgICAgdHJhY2tGaXJlKHNlbGYuaW5mbywgdCwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5pbmZvLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG4gICAgbGV0IHVwZm4gPSBmdW5jdGlvbiB1cGZuKGUpIHtcbiAgICAgIGlmIChzZWxmLmluZm8uc3RhcnRlZCkge1xuICAgICAgICBtb3ZlZm4oZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIHJlbW92ZSB0aGUgdGVtcG9yYXJ5IGxpc3RlbmVyc1xuICAgICAgdW50cmFja0RvY3VtZW50KHNlbGYuaW5mbyk7XG4gICAgfTtcbiAgICAvLyBhZGQgdGVtcG9yYXJ5IGRvY3VtZW50IGxpc3RlbmVycyBhcyBtb3VzZSByZXRhcmdldHNcbiAgICB0cmFja0RvY3VtZW50KHRoaXMuaW5mbywgbW92ZWZuLCB1cGZuKTtcbiAgICB0aGlzLmluZm8ueCA9IGUuY2xpZW50WDtcbiAgICB0aGlzLmluZm8ueSA9IGUuY2xpZW50WTtcbiAgfSxcbiAgLyoqXG4gICAqIEB0aGlzIHtHZXN0dXJlUmVjb2duaXplcn1cbiAgICogQHBhcmFtIHtUb3VjaEV2ZW50fSBlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICB0b3VjaHN0YXJ0OiBmdW5jdGlvbihlKSB7XG4gICAgbGV0IGN0ID0gZS5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgICB0aGlzLmluZm8ueCA9IGN0LmNsaWVudFg7XG4gICAgdGhpcy5pbmZvLnkgPSBjdC5jbGllbnRZO1xuICB9LFxuICAvKipcbiAgICogQHRoaXMge0dlc3R1cmVSZWNvZ25pemVyfVxuICAgKiBAcGFyYW0ge1RvdWNoRXZlbnR9IGVcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHRvdWNobW92ZTogZnVuY3Rpb24oZSkge1xuICAgIGxldCB0ID0gX2ZpbmRPcmlnaW5hbFRhcmdldChlKTtcbiAgICBsZXQgY3QgPSBlLmNoYW5nZWRUb3VjaGVzWzBdO1xuICAgIGxldCB4ID0gY3QuY2xpZW50WCwgeSA9IGN0LmNsaWVudFk7XG4gICAgaWYgKHRyYWNrSGFzTW92ZWRFbm91Z2godGhpcy5pbmZvLCB4LCB5KSkge1xuICAgICAgaWYgKHRoaXMuaW5mby5zdGF0ZSA9PT0gJ3N0YXJ0Jykge1xuICAgICAgICAvLyBpZiBhbmQgb25seSBpZiB0cmFja2luZywgYWx3YXlzIHByZXZlbnQgdGFwXG4gICAgICAgIHByZXZlbnQoJ3RhcCcpO1xuICAgICAgfVxuICAgICAgdGhpcy5pbmZvLmFkZE1vdmUoe3g6IHgsIHk6IHl9KTtcbiAgICAgIHRyYWNrRmlyZSh0aGlzLmluZm8sIHQsIGN0KTtcbiAgICAgIHRoaXMuaW5mby5zdGF0ZSA9ICd0cmFjayc7XG4gICAgICB0aGlzLmluZm8uc3RhcnRlZCA9IHRydWU7XG4gICAgfVxuICB9LFxuICAvKipcbiAgICogQHRoaXMge0dlc3R1cmVSZWNvZ25pemVyfVxuICAgKiBAcGFyYW0ge1RvdWNoRXZlbnR9IGVcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHRvdWNoZW5kOiBmdW5jdGlvbihlKSB7XG4gICAgbGV0IHQgPSBfZmluZE9yaWdpbmFsVGFyZ2V0KGUpO1xuICAgIGxldCBjdCA9IGUuY2hhbmdlZFRvdWNoZXNbMF07XG4gICAgLy8gb25seSB0cmFja2VuZCBpZiB0cmFjayB3YXMgc3RhcnRlZCBhbmQgbm90IGFib3J0ZWRcbiAgICBpZiAodGhpcy5pbmZvLnN0YXJ0ZWQpIHtcbiAgICAgIC8vIHJlc2V0IHN0YXJ0ZWQgc3RhdGUgb24gdXBcbiAgICAgIHRoaXMuaW5mby5zdGF0ZSA9ICdlbmQnO1xuICAgICAgdGhpcy5pbmZvLmFkZE1vdmUoe3g6IGN0LmNsaWVudFgsIHk6IGN0LmNsaWVudFl9KTtcbiAgICAgIHRyYWNrRmlyZSh0aGlzLmluZm8sIHQsIGN0KTtcbiAgICB9XG4gIH1cbn0pO1xuXG4vKipcbiAqIEBwYXJhbSB7IUdlc3R1cmVJbmZvfSBpbmZvXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHBhcmFtIHtudW1iZXJ9IHlcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHRyYWNrSGFzTW92ZWRFbm91Z2goaW5mbywgeCwgeSkge1xuICBpZiAoaW5mby5wcmV2ZW50KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChpbmZvLnN0YXJ0ZWQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBsZXQgZHggPSBNYXRoLmFicyhpbmZvLnggLSB4KTtcbiAgbGV0IGR5ID0gTWF0aC5hYnMoaW5mby55IC0geSk7XG4gIHJldHVybiAoZHggPj0gVFJBQ0tfRElTVEFOQ0UgfHwgZHkgPj0gVFJBQ0tfRElTVEFOQ0UpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7IUdlc3R1cmVJbmZvfSBpbmZvXG4gKiBAcGFyYW0gez9FdmVudFRhcmdldH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1RvdWNofSB0b3VjaFxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gdHJhY2tGaXJlKGluZm8sIHRhcmdldCwgdG91Y2gpIHtcbiAgaWYgKCF0YXJnZXQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IHNlY29uZGxhc3QgPSBpbmZvLm1vdmVzW2luZm8ubW92ZXMubGVuZ3RoIC0gMl07XG4gIGxldCBsYXN0bW92ZSA9IGluZm8ubW92ZXNbaW5mby5tb3Zlcy5sZW5ndGggLSAxXTtcbiAgbGV0IGR4ID0gbGFzdG1vdmUueCAtIGluZm8ueDtcbiAgbGV0IGR5ID0gbGFzdG1vdmUueSAtIGluZm8ueTtcbiAgbGV0IGRkeCwgZGR5ID0gMDtcbiAgaWYgKHNlY29uZGxhc3QpIHtcbiAgICBkZHggPSBsYXN0bW92ZS54IC0gc2Vjb25kbGFzdC54O1xuICAgIGRkeSA9IGxhc3Rtb3ZlLnkgLSBzZWNvbmRsYXN0Lnk7XG4gIH1cbiAgX2ZpcmUodGFyZ2V0LCAndHJhY2snLCB7XG4gICAgc3RhdGU6IGluZm8uc3RhdGUsXG4gICAgeDogdG91Y2guY2xpZW50WCxcbiAgICB5OiB0b3VjaC5jbGllbnRZLFxuICAgIGR4OiBkeCxcbiAgICBkeTogZHksXG4gICAgZGR4OiBkZHgsXG4gICAgZGR5OiBkZHksXG4gICAgc291cmNlRXZlbnQ6IHRvdWNoLFxuICAgIGhvdmVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBkZWVwVGFyZ2V0RmluZCh0b3VjaC5jbGllbnRYLCB0b3VjaC5jbGllbnRZKTtcbiAgICB9XG4gIH0pO1xufVxuXG5yZWdpc3Rlcih7XG4gIG5hbWU6ICd0YXAnLFxuICBkZXBzOiBbJ21vdXNlZG93bicsICdjbGljaycsICd0b3VjaHN0YXJ0JywgJ3RvdWNoZW5kJ10sXG4gIGZsb3c6IHtcbiAgICBzdGFydDogWydtb3VzZWRvd24nLCAndG91Y2hzdGFydCddLFxuICAgIGVuZDogWydjbGljaycsICd0b3VjaGVuZCddXG4gIH0sXG4gIGVtaXRzOiBbJ3RhcCddLFxuICBpbmZvOiB7XG4gICAgeDogTmFOLFxuICAgIHk6IE5hTixcbiAgICBwcmV2ZW50OiBmYWxzZVxuICB9LFxuICAvKipcbiAgICogQHRoaXMge0dlc3R1cmVSZWNvZ25pemVyfVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5mby54ID0gTmFOO1xuICAgIHRoaXMuaW5mby55ID0gTmFOO1xuICAgIHRoaXMuaW5mby5wcmV2ZW50ID0gZmFsc2U7XG4gIH0sXG4gIC8qKlxuICAgKiBAdGhpcyB7R2VzdHVyZVJlY29nbml6ZXJ9XG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgbW91c2Vkb3duOiBmdW5jdGlvbihlKSB7XG4gICAgaWYgKGhhc0xlZnRNb3VzZUJ1dHRvbihlKSkge1xuICAgICAgdGhpcy5pbmZvLnggPSBlLmNsaWVudFg7XG4gICAgICB0aGlzLmluZm8ueSA9IGUuY2xpZW50WTtcbiAgICB9XG4gIH0sXG4gIC8qKlxuICAgKiBAdGhpcyB7R2VzdHVyZVJlY29nbml6ZXJ9XG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgY2xpY2s6IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoaGFzTGVmdE1vdXNlQnV0dG9uKGUpKSB7XG4gICAgICB0cmFja0ZvcndhcmQodGhpcy5pbmZvLCBlKTtcbiAgICB9XG4gIH0sXG4gIC8qKlxuICAgKiBAdGhpcyB7R2VzdHVyZVJlY29nbml6ZXJ9XG4gICAqIEBwYXJhbSB7VG91Y2hFdmVudH0gZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgdG91Y2hzdGFydDogZnVuY3Rpb24oZSkge1xuICAgIGNvbnN0IHRvdWNoID0gZS5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgICB0aGlzLmluZm8ueCA9IHRvdWNoLmNsaWVudFg7XG4gICAgdGhpcy5pbmZvLnkgPSB0b3VjaC5jbGllbnRZO1xuICB9LFxuICAvKipcbiAgICogQHRoaXMge0dlc3R1cmVSZWNvZ25pemVyfVxuICAgKiBAcGFyYW0ge1RvdWNoRXZlbnR9IGVcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHRvdWNoZW5kOiBmdW5jdGlvbihlKSB7XG4gICAgdHJhY2tGb3J3YXJkKHRoaXMuaW5mbywgZS5jaGFuZ2VkVG91Y2hlc1swXSwgZSk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIEBwYXJhbSB7IUdlc3R1cmVJbmZvfSBpbmZvXG4gKiBAcGFyYW0ge0V2ZW50IHwgVG91Y2h9IGVcbiAqIEBwYXJhbSB7RXZlbnQ9fSBwcmV2ZW50ZXJcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHRyYWNrRm9yd2FyZChpbmZvLCBlLCBwcmV2ZW50ZXIpIHtcbiAgbGV0IGR4ID0gTWF0aC5hYnMoZS5jbGllbnRYIC0gaW5mby54KTtcbiAgbGV0IGR5ID0gTWF0aC5hYnMoZS5jbGllbnRZIC0gaW5mby55KTtcbiAgLy8gZmluZCBvcmlnaW5hbCB0YXJnZXQgZnJvbSBgcHJldmVudGVyYCBmb3IgVG91Y2hFdmVudHMsIG9yIGBlYCBmb3IgTW91c2VFdmVudHNcbiAgbGV0IHQgPSBfZmluZE9yaWdpbmFsVGFyZ2V0KChwcmV2ZW50ZXIgfHwgZSkpO1xuICBpZiAoIXQgfHwgKGNhbkJlRGlzYWJsZWRbLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovKHQpLmxvY2FsTmFtZV0gJiYgdC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGR4LGR5IGNhbiBiZSBOYU4gaWYgYGNsaWNrYCBoYXMgYmVlbiBzaW11bGF0ZWQgYW5kIHRoZXJlIHdhcyBubyBgZG93bmAgZm9yIGBzdGFydGBcbiAgaWYgKGlzTmFOKGR4KSB8fCBpc05hTihkeSkgfHwgKGR4IDw9IFRBUF9ESVNUQU5DRSAmJiBkeSA8PSBUQVBfRElTVEFOQ0UpIHx8IGlzU3ludGhldGljQ2xpY2soZSkpIHtcbiAgICAvLyBwcmV2ZW50IHRhcHMgZnJvbSBiZWluZyBnZW5lcmF0ZWQgaWYgYW4gZXZlbnQgaGFzIGNhbmNlbGVkIHRoZW1cbiAgICBpZiAoIWluZm8ucHJldmVudCkge1xuICAgICAgX2ZpcmUodCwgJ3RhcCcsIHtcbiAgICAgICAgeDogZS5jbGllbnRYLFxuICAgICAgICB5OiBlLmNsaWVudFksXG4gICAgICAgIHNvdXJjZUV2ZW50OiBlLFxuICAgICAgICBwcmV2ZW50ZXI6IHByZXZlbnRlclxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbi8qIGVzbGludC1lbmFibGUgdmFsaWQtanNkb2MgKi9cblxuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgY29uc3QgZmluZE9yaWdpbmFsVGFyZ2V0ID0gX2ZpbmRPcmlnaW5hbFRhcmdldDtcblxuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgY29uc3QgYWRkID0gYWRkTGlzdGVuZXI7XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGNvbnN0IHJlbW92ZSA9IHJlbW92ZUxpc3RlbmVyO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnLi4vdXRpbHMvYm9vdC5qcyc7XG5cbmltcG9ydCB7IGRlZHVwaW5nTWl4aW4gfSBmcm9tICcuLi91dGlscy9taXhpbi5qcyc7XG5pbXBvcnQgeyBhZGRMaXN0ZW5lciwgcmVtb3ZlTGlzdGVuZXIgfSBmcm9tICcuLi91dGlscy9nZXN0dXJlcy5qcyc7XG5cbi8qKlxuICogRWxlbWVudCBjbGFzcyBtaXhpbiB0aGF0IHByb3ZpZGVzIEFQSSBmb3IgYWRkaW5nIFBvbHltZXIncyBjcm9zcy1wbGF0Zm9ybVxuICogZ2VzdHVyZSBldmVudHMgdG8gbm9kZXMuXG4gKlxuICogVGhlIEFQSSBpcyBkZXNpZ25lZCB0byBiZSBjb21wYXRpYmxlIHdpdGggb3ZlcnJpZGUgcG9pbnRzIGltcGxlbWVudGVkXG4gKiBpbiBgVGVtcGxhdGVTdGFtcGAgc3VjaCB0aGF0IGRlY2xhcmF0aXZlIGV2ZW50IGxpc3RlbmVycyBpblxuICogdGVtcGxhdGVzIHdpbGwgc3VwcG9ydCBnZXN0dXJlIGV2ZW50cyB3aGVuIHRoaXMgbWl4aW4gaXMgYXBwbGllZCBhbG9uZyB3aXRoXG4gKiBgVGVtcGxhdGVTdGFtcGAuXG4gKlxuICogQG1peGluRnVuY3Rpb25cbiAqIEBwb2x5bWVyXG4gKiBAc3VtbWFyeSBFbGVtZW50IGNsYXNzIG1peGluIHRoYXQgcHJvdmlkZXMgQVBJIGZvciBhZGRpbmcgUG9seW1lcidzXG4gKiAgIGNyb3NzLXBsYXRmb3JtIGdlc3R1cmUgZXZlbnRzIHRvIG5vZGVzXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3MgQ2xhc3MgdG8gYXBwbHkgbWl4aW4gdG8uXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3Mgd2l0aCBtaXhpbiBhcHBsaWVkLlxuICovXG5leHBvcnQgY29uc3QgR2VzdHVyZUV2ZW50TGlzdGVuZXJzID0gZGVkdXBpbmdNaXhpbigoc3VwZXJDbGFzcykgPT4ge1xuICAvKipcbiAgICogQHBvbHltZXJcbiAgICogQG1peGluQ2xhc3NcbiAgICogQGltcGxlbWVudHMge1BvbHltZXJfR2VzdHVyZUV2ZW50TGlzdGVuZXJzfVxuICAgKi9cbiAgY2xhc3MgR2VzdHVyZUV2ZW50TGlzdGVuZXJzIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG4gICAgLyoqXG4gICAgICogQWRkIHRoZSBldmVudCBsaXN0ZW5lciB0byB0aGUgbm9kZSBpZiBpdCBpcyBhIGdlc3R1cmVzIGV2ZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHshRXZlbnRUYXJnZXR9IG5vZGUgTm9kZSB0byBhZGQgZXZlbnQgbGlzdGVuZXIgdG9cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIE5hbWUgb2YgZXZlbnRcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCFFdmVudCk6dm9pZH0gaGFuZGxlciBMaXN0ZW5lciBmdW5jdGlvbiB0byBhZGRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9hZGRFdmVudExpc3RlbmVyVG9Ob2RlKG5vZGUsIGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgICAgaWYgKCFhZGRMaXN0ZW5lcihub2RlLCBldmVudE5hbWUsIGhhbmRsZXIpKSB7XG4gICAgICAgIHN1cGVyLl9hZGRFdmVudExpc3RlbmVyVG9Ob2RlKG5vZGUsIGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lciB0byB0aGUgbm9kZSBpZiBpdCBpcyBhIGdlc3R1cmVzIGV2ZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHshRXZlbnRUYXJnZXR9IG5vZGUgTm9kZSB0byByZW1vdmUgZXZlbnQgbGlzdGVuZXIgZnJvbVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgTmFtZSBvZiBldmVudFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oIUV2ZW50KTp2b2lkfSBoYW5kbGVyIExpc3RlbmVyIGZ1bmN0aW9uIHRvIHJlbW92ZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX3JlbW92ZUV2ZW50TGlzdGVuZXJGcm9tTm9kZShub2RlLCBldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICAgIGlmICghcmVtb3ZlTGlzdGVuZXIobm9kZSwgZXZlbnROYW1lLCBoYW5kbGVyKSkge1xuICAgICAgICBzdXBlci5fcmVtb3ZlRXZlbnRMaXN0ZW5lckZyb21Ob2RlKG5vZGUsIGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIEdlc3R1cmVFdmVudExpc3RlbmVycztcbn0pO1xuIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3XG4gKiBAc3VwcHJlc3Mge2NoZWNrUHJvdG90eXBhbFR5cGVzfVxuICogQGxpY2Vuc2UgQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmRcbiAqIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXlcbiAqIGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnlcbiAqIEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVBcbiAqIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuaW1wb3J0IHsgUHJvcGVydHlBY2Nlc3NvcnMgfSBmcm9tICcuL3Byb3BlcnR5LWFjY2Vzc29ycy5qcyc7XG5cbmltcG9ydCB7IGRlZHVwaW5nTWl4aW4gfSBmcm9tICcuLi91dGlscy9taXhpbi5qcyc7XG5cbmNvbnN0IEhPU1RfRElSID0gLzpob3N0XFwoOmRpclxcKChsdHJ8cnRsKVxcKVxcKS9nO1xuY29uc3QgSE9TVF9ESVJfUkVQTEFDTUVOVCA9ICc6aG9zdChbZGlyPVwiJDFcIl0pJztcblxuY29uc3QgRUxfRElSID0gLyhbXFxzXFx3LSNcXC5cXFtcXF1cXCpdKik6ZGlyXFwoKGx0cnxydGwpXFwpL2c7XG5jb25zdCBFTF9ESVJfUkVQTEFDTUVOVCA9ICc6aG9zdChbZGlyPVwiJDJcIl0pICQxJztcblxuY29uc3QgRElSX0NIRUNLID0gLzpkaXJcXCgoPzpsdHJ8cnRsKVxcKS87XG5cbmNvbnN0IFNISU1fU0hBRE9XID0gQm9vbGVhbih3aW5kb3dbJ1NoYWR5RE9NJ10gJiYgd2luZG93WydTaGFkeURPTSddWydpblVzZSddKTtcblxuLyoqXG4gKiBAdHlwZSB7IUFycmF5PCFQb2x5bWVyX0Rpck1peGluPn1cbiAqL1xuY29uc3QgRElSX0lOU1RBTkNFUyA9IFtdO1xuXG4vKiogQHR5cGUgez9NdXRhdGlvbk9ic2VydmVyfSAqL1xubGV0IG9ic2VydmVyID0gbnVsbDtcblxubGV0IGRvY3VtZW50RGlyID0gJyc7XG5cbmZ1bmN0aW9uIGdldFJUTCgpIHtcbiAgZG9jdW1lbnREaXIgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkaXInKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geyFQb2x5bWVyX0Rpck1peGlufSBpbnN0YW5jZSBJbnN0YW5jZSB0byBzZXQgUlRMIHN0YXR1cyBvblxuICovXG5mdW5jdGlvbiBzZXRSVEwoaW5zdGFuY2UpIHtcbiAgaWYgKCFpbnN0YW5jZS5fX2F1dG9EaXJPcHRPdXQpIHtcbiAgICBjb25zdCBlbCA9IC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqLyhpbnN0YW5jZSk7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdkaXInLCBkb2N1bWVudERpcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlRGlyZWN0aW9uKCkge1xuICBnZXRSVEwoKTtcbiAgZG9jdW1lbnREaXIgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkaXInKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBESVJfSU5TVEFOQ0VTLmxlbmd0aDsgaSsrKSB7XG4gICAgc2V0UlRMKERJUl9JTlNUQU5DRVNbaV0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRha2VSZWNvcmRzKCkge1xuICBpZiAob2JzZXJ2ZXIgJiYgb2JzZXJ2ZXIudGFrZVJlY29yZHMoKS5sZW5ndGgpIHtcbiAgICB1cGRhdGVEaXJlY3Rpb24oKTtcbiAgfVxufVxuXG4vKipcbiAqIEVsZW1lbnQgY2xhc3MgbWl4aW4gdGhhdCBhbGxvd3MgZWxlbWVudHMgdG8gdXNlIHRoZSBgOmRpcmAgQ1NTIFNlbGVjdG9yIHRvXG4gKiBoYXZlIHRleHQgZGlyZWN0aW9uIHNwZWNpZmljIHN0eWxpbmcuXG4gKlxuICogV2l0aCB0aGlzIG1peGluLCBhbnkgc3R5bGVzaGVldCBwcm92aWRlZCBpbiB0aGUgdGVtcGxhdGUgd2lsbCB0cmFuc2Zvcm1cbiAqIGA6ZGlyYCBpbnRvIGA6aG9zdChbZGlyXSlgIGFuZCBzeW5jIGRpcmVjdGlvbiB3aXRoIHRoZSBwYWdlIHZpYSB0aGVcbiAqIGVsZW1lbnQncyBgZGlyYCBhdHRyaWJ1dGUuXG4gKlxuICogRWxlbWVudHMgY2FuIG9wdCBvdXQgb2YgdGhlIGdsb2JhbCBwYWdlIHRleHQgZGlyZWN0aW9uIGJ5IHNldHRpbmcgdGhlIGBkaXJgXG4gKiBhdHRyaWJ1dGUgZGlyZWN0bHkgaW4gYHJlYWR5KClgIG9yIGluIEhUTUwuXG4gKlxuICogQ2F2ZWF0czpcbiAqIC0gQXBwbGljYXRpb25zIG11c3Qgc2V0IGA8aHRtbCBkaXI9XCJsdHJcIj5gIG9yIGA8aHRtbCBkaXI9XCJydGxcIj5gIHRvIHN5bmNcbiAqICAgZGlyZWN0aW9uXG4gKiAtIEF1dG9tYXRpYyBsZWZ0LXRvLXJpZ2h0IG9yIHJpZ2h0LXRvLWxlZnQgc3R5bGluZyBpcyBzeW5jJ2Qgd2l0aCB0aGVcbiAqICAgYDxodG1sPmAgZWxlbWVudCBvbmx5LlxuICogLSBDaGFuZ2luZyBgZGlyYCBhdCBydW50aW1lIGlzIHN1cHBvcnRlZC5cbiAqIC0gT3B0aW5nIG91dCBvZiB0aGUgZ2xvYmFsIGRpcmVjdGlvbiBzdHlsaW5nIGlzIHBlcm1hbmVudFxuICpcbiAqIEBtaXhpbkZ1bmN0aW9uXG4gKiBAcG9seW1lclxuICogQGFwcGxpZXNNaXhpbiBQcm9wZXJ0eUFjY2Vzc29yc1xuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3OlQpfSBzdXBlckNsYXNzIENsYXNzIHRvIGFwcGx5IG1peGluIHRvLlxuICogQHJldHVybiB7ZnVuY3Rpb24obmV3OlQpfSBzdXBlckNsYXNzIHdpdGggbWl4aW4gYXBwbGllZC5cbiAqL1xuZXhwb3J0IGNvbnN0IERpck1peGluID0gZGVkdXBpbmdNaXhpbigoYmFzZSkgPT4ge1xuXG4gIGlmICghU0hJTV9TSEFET1cpIHtcbiAgICBpZiAoIW9ic2VydmVyKSB7XG4gICAgICBnZXRSVEwoKTtcbiAgICAgIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIodXBkYXRlRGlyZWN0aW9uKTtcbiAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB7YXR0cmlidXRlczogdHJ1ZSwgYXR0cmlidXRlRmlsdGVyOiBbJ2RpciddfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9Qcm9wZXJ0eUFjY2Vzc29yc31cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbnN0IGVsZW1lbnRCYXNlID0gUHJvcGVydHlBY2Nlc3NvcnMoYmFzZSk7XG5cbiAgLyoqXG4gICAqIEBwb2x5bWVyXG4gICAqIEBtaXhpbkNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX0Rpck1peGlufVxuICAgKi9cbiAgY2xhc3MgRGlyIGV4dGVuZHMgZWxlbWVudEJhc2Uge1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHQgLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJJIC5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IC5cbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBJbnRlcmZhY2VzIGluIGNsb3N1cmUgZG8gbm90IGluaGVyaXQgc3RhdGljcywgYnV0IGNsYXNzZXMgZG9cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfcHJvY2Vzc1N0eWxlVGV4dChjc3NUZXh0LCBiYXNlVVJJKSB7XG4gICAgICAvLyBUT0RPKGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1jb21waWxlci9pc3N1ZXMvMzI0MCk6XG4gICAgICAvLyAgICAgQ2hhbmdlIGJhY2sgdG8ganVzdCBzdXBlci5tZXRob2RDYWxsKClcbiAgICAgIGNzc1RleHQgPSBlbGVtZW50QmFzZS5fcHJvY2Vzc1N0eWxlVGV4dC5jYWxsKHRoaXMsIGNzc1RleHQsIGJhc2VVUkkpO1xuICAgICAgaWYgKCFTSElNX1NIQURPVyAmJiBESVJfQ0hFQ0sudGVzdChjc3NUZXh0KSkge1xuICAgICAgICBjc3NUZXh0ID0gdGhpcy5fcmVwbGFjZURpckluQ3NzVGV4dChjc3NUZXh0KTtcbiAgICAgICAgdGhpcy5fX2FjdGl2YXRlRGlyID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjc3NUZXh0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcGxhY2UgYDpkaXJgIGluIHRoZSBnaXZlbiBDU1MgdGV4dFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgQ1NTIHRleHQgdG8gcmVwbGFjZSBESVJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IE1vZGlmaWVkIENTU1xuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9yZXBsYWNlRGlySW5Dc3NUZXh0KHRleHQpIHtcbiAgICAgIGxldCByZXBsYWNlZFRleHQgPSB0ZXh0O1xuICAgICAgcmVwbGFjZWRUZXh0ID0gcmVwbGFjZWRUZXh0LnJlcGxhY2UoSE9TVF9ESVIsIEhPU1RfRElSX1JFUExBQ01FTlQpO1xuICAgICAgcmVwbGFjZWRUZXh0ID0gcmVwbGFjZWRUZXh0LnJlcGxhY2UoRUxfRElSLCBFTF9ESVJfUkVQTEFDTUVOVCk7XG4gICAgICByZXR1cm4gcmVwbGFjZWRUZXh0O1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIoKTtcbiAgICAgIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cbiAgICAgIHRoaXMuX19hdXRvRGlyT3B0T3V0ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHN1cHByZXNzIHtpbnZhbGlkQ2FzdHN9IENsb3N1cmUgZG9lc24ndCB1bmRlcnN0YW5kIHRoYXQgYHRoaXNgIGlzIGFuXG4gICAgICogICAgIEhUTUxFbGVtZW50XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICByZWFkeSgpIHtcbiAgICAgIHN1cGVyLnJlYWR5KCk7XG4gICAgICB0aGlzLl9fYXV0b0Rpck9wdE91dCA9IC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqLyh0aGlzKS5oYXNBdHRyaWJ1dGUoJ2RpcicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9IElmIGl0IGV4aXN0cyBvbiBlbGVtZW50QmFzZSwgaXQgY2FuIGJlXG4gICAgICogICBzdXBlcidkXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgIGlmIChlbGVtZW50QmFzZS5wcm90b3R5cGUuY29ubmVjdGVkQ2FsbGJhY2spIHtcbiAgICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yLl9fYWN0aXZhdGVEaXIpIHtcbiAgICAgICAgdGFrZVJlY29yZHMoKTtcbiAgICAgICAgRElSX0lOU1RBTkNFUy5wdXNoKHRoaXMpO1xuICAgICAgICBzZXRSVEwodGhpcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHN1cHByZXNzIHttaXNzaW5nUHJvcGVydGllc30gSWYgaXQgZXhpc3RzIG9uIGVsZW1lbnRCYXNlLCBpdCBjYW4gYmVcbiAgICAgKiAgIHN1cGVyJ2RcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgaWYgKGVsZW1lbnRCYXNlLnByb3RvdHlwZS5kaXNjb25uZWN0ZWRDYWxsYmFjaykge1xuICAgICAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuY29uc3RydWN0b3IuX19hY3RpdmF0ZURpcikge1xuICAgICAgICBjb25zdCBpZHggPSBESVJfSU5TVEFOQ0VTLmluZGV4T2YodGhpcyk7XG4gICAgICAgIGlmIChpZHggPiAtMSkge1xuICAgICAgICAgIERJUl9JTlNUQU5DRVMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBEaXIuX19hY3RpdmF0ZURpciA9IGZhbHNlO1xuXG4gIHJldHVybiBEaXI7XG59KTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbmZ1bmN0aW9uIHJlc29sdmUoKSB7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlQXR0cmlidXRlKCd1bnJlc29sdmVkJyk7XG59XG5cbmlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnaW50ZXJhY3RpdmUnIHx8IGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgcmVzb2x2ZSgpO1xufSBlbHNlIHtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCByZXNvbHZlKTtcbn1cblxuZXhwb3J0IHt9O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnLi9ib290LmpzJztcblxuZnVuY3Rpb24gbmV3U3BsaWNlKGluZGV4LCByZW1vdmVkLCBhZGRlZENvdW50KSB7XG4gIHJldHVybiB7XG4gICAgaW5kZXg6IGluZGV4LFxuICAgIHJlbW92ZWQ6IHJlbW92ZWQsXG4gICAgYWRkZWRDb3VudDogYWRkZWRDb3VudFxuICB9O1xufVxuXG5jb25zdCBFRElUX0xFQVZFID0gMDtcbmNvbnN0IEVESVRfVVBEQVRFID0gMTtcbmNvbnN0IEVESVRfQUREID0gMjtcbmNvbnN0IEVESVRfREVMRVRFID0gMztcblxuLy8gTm90ZTogVGhpcyBmdW5jdGlvbiBpcyAqYmFzZWQqIG9uIHRoZSBjb21wdXRhdGlvbiBvZiB0aGUgTGV2ZW5zaHRlaW5cbi8vIFwiZWRpdFwiIGRpc3RhbmNlLiBUaGUgb25lIGNoYW5nZSBpcyB0aGF0IFwidXBkYXRlc1wiIGFyZSB0cmVhdGVkIGFzIHR3b1xuLy8gZWRpdHMgLSBub3Qgb25lLiBXaXRoIEFycmF5IHNwbGljZXMsIGFuIHVwZGF0ZSBpcyByZWFsbHkgYSBkZWxldGVcbi8vIGZvbGxvd2VkIGJ5IGFuIGFkZC4gQnkgcmV0YWluaW5nIHRoaXMsIHdlIG9wdGltaXplIGZvciBcImtlZXBpbmdcIiB0aGVcbi8vIG1heGltdW0gYXJyYXkgaXRlbXMgaW4gdGhlIG9yaWdpbmFsIGFycmF5LiBGb3IgZXhhbXBsZTpcbi8vXG4vLyAgICd4eHh4MTIzJyAtPiAnMTIzeXl5eSdcbi8vXG4vLyBXaXRoIDEtZWRpdCB1cGRhdGVzLCB0aGUgc2hvcnRlc3QgcGF0aCB3b3VsZCBiZSBqdXN0IHRvIHVwZGF0ZSBhbGwgc2V2ZW5cbi8vIGNoYXJhY3RlcnMuIFdpdGggMi1lZGl0IHVwZGF0ZXMsIHdlIGRlbGV0ZSA0LCBsZWF2ZSAzLCBhbmQgYWRkIDQuIFRoaXNcbi8vIGxlYXZlcyB0aGUgc3Vic3RyaW5nICcxMjMnIGludGFjdC5cbmZ1bmN0aW9uIGNhbGNFZGl0RGlzdGFuY2VzKGN1cnJlbnQsIGN1cnJlbnRTdGFydCwgY3VycmVudEVuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGQsIG9sZFN0YXJ0LCBvbGRFbmQpIHtcbiAgLy8gXCJEZWxldGlvblwiIGNvbHVtbnNcbiAgbGV0IHJvd0NvdW50ID0gb2xkRW5kIC0gb2xkU3RhcnQgKyAxO1xuICBsZXQgY29sdW1uQ291bnQgPSBjdXJyZW50RW5kIC0gY3VycmVudFN0YXJ0ICsgMTtcbiAgbGV0IGRpc3RhbmNlcyA9IG5ldyBBcnJheShyb3dDb3VudCk7XG5cbiAgLy8gXCJBZGRpdGlvblwiIHJvd3MuIEluaXRpYWxpemUgbnVsbCBjb2x1bW4uXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcm93Q291bnQ7IGkrKykge1xuICAgIGRpc3RhbmNlc1tpXSA9IG5ldyBBcnJheShjb2x1bW5Db3VudCk7XG4gICAgZGlzdGFuY2VzW2ldWzBdID0gaTtcbiAgfVxuXG4gIC8vIEluaXRpYWxpemUgbnVsbCByb3dcbiAgZm9yIChsZXQgaiA9IDA7IGogPCBjb2x1bW5Db3VudDsgaisrKVxuICAgIGRpc3RhbmNlc1swXVtqXSA9IGo7XG5cbiAgZm9yIChsZXQgaSA9IDE7IGkgPCByb3dDb3VudDsgaSsrKSB7XG4gICAgZm9yIChsZXQgaiA9IDE7IGogPCBjb2x1bW5Db3VudDsgaisrKSB7XG4gICAgICBpZiAoZXF1YWxzKGN1cnJlbnRbY3VycmVudFN0YXJ0ICsgaiAtIDFdLCBvbGRbb2xkU3RhcnQgKyBpIC0gMV0pKVxuICAgICAgICBkaXN0YW5jZXNbaV1bal0gPSBkaXN0YW5jZXNbaSAtIDFdW2ogLSAxXTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBsZXQgbm9ydGggPSBkaXN0YW5jZXNbaSAtIDFdW2pdICsgMTtcbiAgICAgICAgbGV0IHdlc3QgPSBkaXN0YW5jZXNbaV1baiAtIDFdICsgMTtcbiAgICAgICAgZGlzdGFuY2VzW2ldW2pdID0gbm9ydGggPCB3ZXN0ID8gbm9ydGggOiB3ZXN0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkaXN0YW5jZXM7XG59XG5cbi8vIFRoaXMgc3RhcnRzIGF0IHRoZSBmaW5hbCB3ZWlnaHQsIGFuZCB3YWxrcyBcImJhY2t3YXJkXCIgYnkgZmluZGluZ1xuLy8gdGhlIG1pbmltdW0gcHJldmlvdXMgd2VpZ2h0IHJlY3Vyc2l2ZWx5IHVudGlsIHRoZSBvcmlnaW4gb2YgdGhlIHdlaWdodFxuLy8gbWF0cml4LlxuZnVuY3Rpb24gc3BsaWNlT3BlcmF0aW9uc0Zyb21FZGl0RGlzdGFuY2VzKGRpc3RhbmNlcykge1xuICBsZXQgaSA9IGRpc3RhbmNlcy5sZW5ndGggLSAxO1xuICBsZXQgaiA9IGRpc3RhbmNlc1swXS5sZW5ndGggLSAxO1xuICBsZXQgY3VycmVudCA9IGRpc3RhbmNlc1tpXVtqXTtcbiAgbGV0IGVkaXRzID0gW107XG4gIHdoaWxlIChpID4gMCB8fCBqID4gMCkge1xuICAgIGlmIChpID09IDApIHtcbiAgICAgIGVkaXRzLnB1c2goRURJVF9BREQpO1xuICAgICAgai0tO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChqID09IDApIHtcbiAgICAgIGVkaXRzLnB1c2goRURJVF9ERUxFVEUpO1xuICAgICAgaS0tO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGxldCBub3J0aFdlc3QgPSBkaXN0YW5jZXNbaSAtIDFdW2ogLSAxXTtcbiAgICBsZXQgd2VzdCA9IGRpc3RhbmNlc1tpIC0gMV1bal07XG4gICAgbGV0IG5vcnRoID0gZGlzdGFuY2VzW2ldW2ogLSAxXTtcblxuICAgIGxldCBtaW47XG4gICAgaWYgKHdlc3QgPCBub3J0aClcbiAgICAgIG1pbiA9IHdlc3QgPCBub3J0aFdlc3QgPyB3ZXN0IDogbm9ydGhXZXN0O1xuICAgIGVsc2VcbiAgICAgIG1pbiA9IG5vcnRoIDwgbm9ydGhXZXN0ID8gbm9ydGggOiBub3J0aFdlc3Q7XG5cbiAgICBpZiAobWluID09IG5vcnRoV2VzdCkge1xuICAgICAgaWYgKG5vcnRoV2VzdCA9PSBjdXJyZW50KSB7XG4gICAgICAgIGVkaXRzLnB1c2goRURJVF9MRUFWRSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlZGl0cy5wdXNoKEVESVRfVVBEQVRFKTtcbiAgICAgICAgY3VycmVudCA9IG5vcnRoV2VzdDtcbiAgICAgIH1cbiAgICAgIGktLTtcbiAgICAgIGotLTtcbiAgICB9IGVsc2UgaWYgKG1pbiA9PSB3ZXN0KSB7XG4gICAgICBlZGl0cy5wdXNoKEVESVRfREVMRVRFKTtcbiAgICAgIGktLTtcbiAgICAgIGN1cnJlbnQgPSB3ZXN0O1xuICAgIH0gZWxzZSB7XG4gICAgICBlZGl0cy5wdXNoKEVESVRfQUREKTtcbiAgICAgIGotLTtcbiAgICAgIGN1cnJlbnQgPSBub3J0aDtcbiAgICB9XG4gIH1cblxuICBlZGl0cy5yZXZlcnNlKCk7XG4gIHJldHVybiBlZGl0cztcbn1cblxuLyoqXG4gKiBTcGxpY2UgUHJvamVjdGlvbiBmdW5jdGlvbnM6XG4gKlxuICogQSBzcGxpY2UgbWFwIGlzIGEgcmVwcmVzZW50YXRpb24gb2YgaG93IGEgcHJldmlvdXMgYXJyYXkgb2YgaXRlbXNcbiAqIHdhcyB0cmFuc2Zvcm1lZCBpbnRvIGEgbmV3IGFycmF5IG9mIGl0ZW1zLiBDb25jZXB0dWFsbHkgaXQgaXMgYSBsaXN0IG9mXG4gKiB0dXBsZXMgb2ZcbiAqXG4gKiAgIDxpbmRleCwgcmVtb3ZlZCwgYWRkZWRDb3VudD5cbiAqXG4gKiB3aGljaCBhcmUga2VwdCBpbiBhc2NlbmRpbmcgaW5kZXggb3JkZXIgb2YuIFRoZSB0dXBsZSByZXByZXNlbnRzIHRoYXQgYXRcbiAqIHRoZSB8aW5kZXh8LCB8cmVtb3ZlZHwgc2VxdWVuY2Ugb2YgaXRlbXMgd2VyZSByZW1vdmVkLCBhbmQgY291bnRpbmcgZm9yd2FyZFxuICogZnJvbSB8aW5kZXh8LCB8YWRkZWRDb3VudHwgaXRlbXMgd2VyZSBhZGRlZC5cbiAqL1xuXG4vKipcbiAqIExhY2tpbmcgaW5kaXZpZHVhbCBzcGxpY2UgbXV0YXRpb24gaW5mb3JtYXRpb24sIHRoZSBtaW5pbWFsIHNldCBvZlxuICogc3BsaWNlcyBjYW4gYmUgc3ludGhlc2l6ZWQgZ2l2ZW4gdGhlIHByZXZpb3VzIHN0YXRlIGFuZCBmaW5hbCBzdGF0ZSBvZiBhblxuICogYXJyYXkuIFRoZSBiYXNpYyBhcHByb2FjaCBpcyB0byBjYWxjdWxhdGUgdGhlIGVkaXQgZGlzdGFuY2UgbWF0cml4IGFuZFxuICogY2hvb3NlIHRoZSBzaG9ydGVzdCBwYXRoIHRocm91Z2ggaXQuXG4gKlxuICogQ29tcGxleGl0eTogTyhsICogcClcbiAqICAgbDogVGhlIGxlbmd0aCBvZiB0aGUgY3VycmVudCBhcnJheVxuICogICBwOiBUaGUgbGVuZ3RoIG9mIHRoZSBvbGQgYXJyYXlcbiAqXG4gKiBAcGFyYW0geyFBcnJheX0gY3VycmVudCBUaGUgY3VycmVudCBcImNoYW5nZWRcIiBhcnJheSBmb3Igd2hpY2ggdG9cbiAqIGNhbGN1bGF0ZSBzcGxpY2VzLlxuICogQHBhcmFtIHtudW1iZXJ9IGN1cnJlbnRTdGFydCBTdGFydGluZyBpbmRleCBpbiB0aGUgYGN1cnJlbnRgIGFycmF5IGZvclxuICogd2hpY2ggc3BsaWNlcyBhcmUgY2FsY3VsYXRlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBjdXJyZW50RW5kIEVuZGluZyBpbmRleCBpbiB0aGUgYGN1cnJlbnRgIGFycmF5IGZvclxuICogd2hpY2ggc3BsaWNlcyBhcmUgY2FsY3VsYXRlZC5cbiAqIEBwYXJhbSB7IUFycmF5fSBvbGQgVGhlIG9yaWdpbmFsIFwidW5jaGFuZ2VkXCIgYXJyYXkgdG8gY29tcGFyZSBgY3VycmVudGBcbiAqIGFnYWluc3QgdG8gZGV0ZXJtaW5lIHNwbGljZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2xkU3RhcnQgU3RhcnRpbmcgaW5kZXggaW4gdGhlIGBvbGRgIGFycmF5IGZvclxuICogd2hpY2ggc3BsaWNlcyBhcmUgY2FsY3VsYXRlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvbGRFbmQgRW5kaW5nIGluZGV4IGluIHRoZSBgb2xkYCBhcnJheSBmb3JcbiAqIHdoaWNoIHNwbGljZXMgYXJlIGNhbGN1bGF0ZWQuXG4gKiBAcmV0dXJuIHshQXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2Ygc3BsaWNlIHJlY29yZCBvYmplY3RzLiBFYWNoIG9mIHRoZXNlXG4gKiBjb250YWluczogYGluZGV4YCB0aGUgbG9jYXRpb24gd2hlcmUgdGhlIHNwbGljZSBvY2N1cnJlZDsgYHJlbW92ZWRgXG4gKiB0aGUgYXJyYXkgb2YgcmVtb3ZlZCBpdGVtcyBmcm9tIHRoaXMgbG9jYXRpb247IGBhZGRlZENvdW50YCB0aGUgbnVtYmVyXG4gKiBvZiBpdGVtcyBhZGRlZCBhdCB0aGlzIGxvY2F0aW9uLlxuICovXG5mdW5jdGlvbiBjYWxjU3BsaWNlcyhjdXJyZW50LCBjdXJyZW50U3RhcnQsIGN1cnJlbnRFbmQsXG4gICAgICAgICAgICAgICAgICAgICAgb2xkLCBvbGRTdGFydCwgb2xkRW5kKSB7XG4gIGxldCBwcmVmaXhDb3VudCA9IDA7XG4gIGxldCBzdWZmaXhDb3VudCA9IDA7XG4gIGxldCBzcGxpY2U7XG5cbiAgbGV0IG1pbkxlbmd0aCA9IE1hdGgubWluKGN1cnJlbnRFbmQgLSBjdXJyZW50U3RhcnQsIG9sZEVuZCAtIG9sZFN0YXJ0KTtcbiAgaWYgKGN1cnJlbnRTdGFydCA9PSAwICYmIG9sZFN0YXJ0ID09IDApXG4gICAgcHJlZml4Q291bnQgPSBzaGFyZWRQcmVmaXgoY3VycmVudCwgb2xkLCBtaW5MZW5ndGgpO1xuXG4gIGlmIChjdXJyZW50RW5kID09IGN1cnJlbnQubGVuZ3RoICYmIG9sZEVuZCA9PSBvbGQubGVuZ3RoKVxuICAgIHN1ZmZpeENvdW50ID0gc2hhcmVkU3VmZml4KGN1cnJlbnQsIG9sZCwgbWluTGVuZ3RoIC0gcHJlZml4Q291bnQpO1xuXG4gIGN1cnJlbnRTdGFydCArPSBwcmVmaXhDb3VudDtcbiAgb2xkU3RhcnQgKz0gcHJlZml4Q291bnQ7XG4gIGN1cnJlbnRFbmQgLT0gc3VmZml4Q291bnQ7XG4gIG9sZEVuZCAtPSBzdWZmaXhDb3VudDtcblxuICBpZiAoY3VycmVudEVuZCAtIGN1cnJlbnRTdGFydCA9PSAwICYmIG9sZEVuZCAtIG9sZFN0YXJ0ID09IDApXG4gICAgcmV0dXJuIFtdO1xuXG4gIGlmIChjdXJyZW50U3RhcnQgPT0gY3VycmVudEVuZCkge1xuICAgIHNwbGljZSA9IG5ld1NwbGljZShjdXJyZW50U3RhcnQsIFtdLCAwKTtcbiAgICB3aGlsZSAob2xkU3RhcnQgPCBvbGRFbmQpXG4gICAgICBzcGxpY2UucmVtb3ZlZC5wdXNoKG9sZFtvbGRTdGFydCsrXSk7XG5cbiAgICByZXR1cm4gWyBzcGxpY2UgXTtcbiAgfSBlbHNlIGlmIChvbGRTdGFydCA9PSBvbGRFbmQpXG4gICAgcmV0dXJuIFsgbmV3U3BsaWNlKGN1cnJlbnRTdGFydCwgW10sIGN1cnJlbnRFbmQgLSBjdXJyZW50U3RhcnQpIF07XG5cbiAgbGV0IG9wcyA9IHNwbGljZU9wZXJhdGlvbnNGcm9tRWRpdERpc3RhbmNlcyhcbiAgICAgIGNhbGNFZGl0RGlzdGFuY2VzKGN1cnJlbnQsIGN1cnJlbnRTdGFydCwgY3VycmVudEVuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkLCBvbGRTdGFydCwgb2xkRW5kKSk7XG5cbiAgc3BsaWNlID0gdW5kZWZpbmVkO1xuICBsZXQgc3BsaWNlcyA9IFtdO1xuICBsZXQgaW5kZXggPSBjdXJyZW50U3RhcnQ7XG4gIGxldCBvbGRJbmRleCA9IG9sZFN0YXJ0O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG9wcy5sZW5ndGg7IGkrKykge1xuICAgIHN3aXRjaChvcHNbaV0pIHtcbiAgICAgIGNhc2UgRURJVF9MRUFWRTpcbiAgICAgICAgaWYgKHNwbGljZSkge1xuICAgICAgICAgIHNwbGljZXMucHVzaChzcGxpY2UpO1xuICAgICAgICAgIHNwbGljZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGluZGV4Kys7XG4gICAgICAgIG9sZEluZGV4Kys7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBFRElUX1VQREFURTpcbiAgICAgICAgaWYgKCFzcGxpY2UpXG4gICAgICAgICAgc3BsaWNlID0gbmV3U3BsaWNlKGluZGV4LCBbXSwgMCk7XG5cbiAgICAgICAgc3BsaWNlLmFkZGVkQ291bnQrKztcbiAgICAgICAgaW5kZXgrKztcblxuICAgICAgICBzcGxpY2UucmVtb3ZlZC5wdXNoKG9sZFtvbGRJbmRleF0pO1xuICAgICAgICBvbGRJbmRleCsrO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRURJVF9BREQ6XG4gICAgICAgIGlmICghc3BsaWNlKVxuICAgICAgICAgIHNwbGljZSA9IG5ld1NwbGljZShpbmRleCwgW10sIDApO1xuXG4gICAgICAgIHNwbGljZS5hZGRlZENvdW50Kys7XG4gICAgICAgIGluZGV4Kys7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBFRElUX0RFTEVURTpcbiAgICAgICAgaWYgKCFzcGxpY2UpXG4gICAgICAgICAgc3BsaWNlID0gbmV3U3BsaWNlKGluZGV4LCBbXSwgMCk7XG5cbiAgICAgICAgc3BsaWNlLnJlbW92ZWQucHVzaChvbGRbb2xkSW5kZXhdKTtcbiAgICAgICAgb2xkSW5kZXgrKztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKHNwbGljZSkge1xuICAgIHNwbGljZXMucHVzaChzcGxpY2UpO1xuICB9XG4gIHJldHVybiBzcGxpY2VzO1xufVxuXG5mdW5jdGlvbiBzaGFyZWRQcmVmaXgoY3VycmVudCwgb2xkLCBzZWFyY2hMZW5ndGgpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWFyY2hMZW5ndGg7IGkrKylcbiAgICBpZiAoIWVxdWFscyhjdXJyZW50W2ldLCBvbGRbaV0pKVxuICAgICAgcmV0dXJuIGk7XG4gIHJldHVybiBzZWFyY2hMZW5ndGg7XG59XG5cbmZ1bmN0aW9uIHNoYXJlZFN1ZmZpeChjdXJyZW50LCBvbGQsIHNlYXJjaExlbmd0aCkge1xuICBsZXQgaW5kZXgxID0gY3VycmVudC5sZW5ndGg7XG4gIGxldCBpbmRleDIgPSBvbGQubGVuZ3RoO1xuICBsZXQgY291bnQgPSAwO1xuICB3aGlsZSAoY291bnQgPCBzZWFyY2hMZW5ndGggJiYgZXF1YWxzKGN1cnJlbnRbLS1pbmRleDFdLCBvbGRbLS1pbmRleDJdKSlcbiAgICBjb3VudCsrO1xuXG4gIHJldHVybiBjb3VudDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGFuIGFycmF5IG9mIHNwbGljZSByZWNvcmRzIGluZGljYXRpbmcgdGhlIG1pbmltdW0gZWRpdHMgcmVxdWlyZWRcbiAqIHRvIHRyYW5zZm9ybSB0aGUgYHByZXZpb3VzYCBhcnJheSBpbnRvIHRoZSBgY3VycmVudGAgYXJyYXkuXG4gKlxuICogU3BsaWNlIHJlY29yZHMgYXJlIG9yZGVyZWQgYnkgaW5kZXggYW5kIGNvbnRhaW4gdGhlIGZvbGxvd2luZyBmaWVsZHM6XG4gKiAtIGBpbmRleGA6IGluZGV4IHdoZXJlIGVkaXQgc3RhcnRlZFxuICogLSBgcmVtb3ZlZGA6IGFycmF5IG9mIHJlbW92ZWQgaXRlbXMgZnJvbSB0aGlzIGluZGV4XG4gKiAtIGBhZGRlZENvdW50YDogbnVtYmVyIG9mIGl0ZW1zIGFkZGVkIGF0IHRoaXMgaW5kZXhcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGJhc2VkIG9uIHRoZSBMZXZlbnNodGVpbiBcIm1pbmltdW0gZWRpdCBkaXN0YW5jZVwiXG4gKiBhbGdvcml0aG0uIE5vdGUgdGhhdCB1cGRhdGVzIGFyZSB0cmVhdGVkIGFzIHJlbW92YWwgZm9sbG93ZWQgYnkgYWRkaXRpb24uXG4gKlxuICogVGhlIHdvcnN0LWNhc2UgdGltZSBjb21wbGV4aXR5IG9mIHRoaXMgYWxnb3JpdGhtIGlzIGBPKGwgKiBwKWBcbiAqICAgbDogVGhlIGxlbmd0aCBvZiB0aGUgY3VycmVudCBhcnJheVxuICogICBwOiBUaGUgbGVuZ3RoIG9mIHRoZSBwcmV2aW91cyBhcnJheVxuICpcbiAqIEhvd2V2ZXIsIHRoZSB3b3JzdC1jYXNlIGNvbXBsZXhpdHkgaXMgcmVkdWNlZCBieSBhbiBgTyhuKWAgb3B0aW1pemF0aW9uXG4gKiB0byBkZXRlY3QgYW55IHNoYXJlZCBwcmVmaXggJiBzdWZmaXggYmV0d2VlbiB0aGUgdHdvIGFycmF5cyBhbmQgb25seVxuICogcGVyZm9ybSB0aGUgbW9yZSBleHBlbnNpdmUgbWluaW11bSBlZGl0IGRpc3RhbmNlIGNhbGN1bGF0aW9uIG92ZXIgdGhlXG4gKiBub24tc2hhcmVkIHBvcnRpb25zIG9mIHRoZSBhcnJheXMuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyFBcnJheX0gY3VycmVudCBUaGUgXCJjaGFuZ2VkXCIgYXJyYXkgZm9yIHdoaWNoIHNwbGljZXMgd2lsbCBiZVxuICogY2FsY3VsYXRlZC5cbiAqIEBwYXJhbSB7IUFycmF5fSBwcmV2aW91cyBUaGUgXCJ1bmNoYW5nZWRcIiBvcmlnaW5hbCBhcnJheSB0byBjb21wYXJlXG4gKiBgY3VycmVudGAgYWdhaW5zdCB0byBkZXRlcm1pbmUgdGhlIHNwbGljZXMuXG4gKiBAcmV0dXJuIHshQXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2Ygc3BsaWNlIHJlY29yZCBvYmplY3RzLiBFYWNoIG9mIHRoZXNlXG4gKiBjb250YWluczogYGluZGV4YCB0aGUgbG9jYXRpb24gd2hlcmUgdGhlIHNwbGljZSBvY2N1cnJlZDsgYHJlbW92ZWRgXG4gKiB0aGUgYXJyYXkgb2YgcmVtb3ZlZCBpdGVtcyBmcm9tIHRoaXMgbG9jYXRpb247IGBhZGRlZENvdW50YCB0aGUgbnVtYmVyXG4gKiBvZiBpdGVtcyBhZGRlZCBhdCB0aGlzIGxvY2F0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlU3BsaWNlcyhjdXJyZW50LCBwcmV2aW91cykge1xuICByZXR1cm4gY2FsY1NwbGljZXMoY3VycmVudCwgMCwgY3VycmVudC5sZW5ndGgsIHByZXZpb3VzLCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91cy5sZW5ndGgpO1xufVxuXG5mdW5jdGlvbiBlcXVhbHMoY3VycmVudFZhbHVlLCBwcmV2aW91c1ZhbHVlKSB7XG4gIHJldHVybiBjdXJyZW50VmFsdWUgPT09IHByZXZpb3VzVmFsdWU7XG59XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuL2Jvb3QuanMnO1xuXG5pbXBvcnQgeyBjYWxjdWxhdGVTcGxpY2VzIH0gZnJvbSAnLi9hcnJheS1zcGxpY2UuanMnO1xuaW1wb3J0IHsgbWljcm9UYXNrIH0gZnJvbSAnLi9hc3luYy5qcyc7XG5pbXBvcnQgeyB3cmFwIH0gZnJvbSAnLi93cmFwLmpzJztcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYG5vZGVgIGlzIGEgc2xvdCBlbGVtZW50XG4gKiBAcGFyYW0geyFOb2RlfSBub2RlIE5vZGUgdG8gdGVzdC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gYG5vZGVgIGlzIGEgc2xvdFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gaXNTbG90KG5vZGUpIHtcbiAgcmV0dXJuIChub2RlLmxvY2FsTmFtZSA9PT0gJ3Nsb3QnKTtcbn1cblxuLyoqXG4gKiBDbGFzcyB0aGF0IGxpc3RlbnMgZm9yIGNoYW5nZXMgKGFkZGl0aW9ucyBvciByZW1vdmFscykgdG9cbiAqIFwiZmxhdHRlbmVkIG5vZGVzXCIgb24gYSBnaXZlbiBgbm9kZWAuIFRoZSBsaXN0IG9mIGZsYXR0ZW5lZCBub2RlcyBjb25zaXN0c1xuICogb2YgYSBub2RlJ3MgY2hpbGRyZW4gYW5kLCBmb3IgYW55IGNoaWxkcmVuIHRoYXQgYXJlIGA8c2xvdD5gIGVsZW1lbnRzLFxuICogdGhlIGV4cGFuZGVkIGZsYXR0ZW5lZCBsaXN0IG9mIGBhc3NpZ25lZE5vZGVzYC5cbiAqIEZvciBleGFtcGxlLCBpZiB0aGUgb2JzZXJ2ZWQgbm9kZSBoYXMgY2hpbGRyZW4gYDxhPjwvYT48c2xvdD48L3Nsb3Q+PGI+PC9iPmBcbiAqIGFuZCB0aGUgYDxzbG90PmAgaGFzIG9uZSBgPGRpdj5gIGFzc2lnbmVkIHRvIGl0LCB0aGVuIHRoZSBmbGF0dGVuZWRcbiAqIG5vZGVzIGxpc3QgaXMgYDxhPjwvYT48ZGl2PjwvZGl2PjxiPjwvYj5gLiBJZiB0aGUgYDxzbG90PmAgaGFzIG90aGVyXG4gKiBgPHNsb3Q+YCBlbGVtZW50cyBhc3NpZ25lZCB0byBpdCwgdGhlc2UgYXJlIGZsYXR0ZW5lZCBhcyB3ZWxsLlxuICpcbiAqIFRoZSBwcm92aWRlZCBgY2FsbGJhY2tgIGlzIGNhbGxlZCB3aGVuZXZlciBhbnkgY2hhbmdlIHRvIHRoaXMgbGlzdFxuICogb2YgZmxhdHRlbmVkIG5vZGVzIG9jY3Vycywgd2hlcmUgYW4gYWRkaXRpb24gb3IgcmVtb3ZhbCBvZiBhIG5vZGUgaXNcbiAqIGNvbnNpZGVyZWQgYSBjaGFuZ2UuIFRoZSBgY2FsbGJhY2tgIGlzIGNhbGxlZCB3aXRoIG9uZSBhcmd1bWVudCwgYW4gb2JqZWN0XG4gKiBjb250YWluaW5nIGFuIGFycmF5IG9mIGFueSBgYWRkZWROb2Rlc2AgYW5kIGByZW1vdmVkTm9kZXNgLlxuICpcbiAqIE5vdGU6IHRoZSBjYWxsYmFjayBpcyBjYWxsZWQgYXN5bmNocm9ub3VzIHRvIGFueSBjaGFuZ2VzXG4gKiBhdCBhIG1pY3JvdGFzayBjaGVja3BvaW50LiBUaGlzIGlzIGJlY2F1c2Ugb2JzZXJ2YXRpb24gaXMgcGVyZm9ybWVkIHVzaW5nXG4gKiBgTXV0YXRpb25PYnNlcnZlcmAgYW5kIHRoZSBgPHNsb3Q+YCBlbGVtZW50J3MgYHNsb3RjaGFuZ2VgIGV2ZW50IHdoaWNoXG4gKiBhcmUgYXN5bmNocm9ub3VzLlxuICpcbiAqIEFuIGV4YW1wbGU6XG4gKiBgYGBqc1xuICogY2xhc3MgVGVzdFNlbGZPYnNlcnZlIGV4dGVuZHMgUG9seW1lckVsZW1lbnQge1xuICogICBzdGF0aWMgZ2V0IGlzKCkgeyByZXR1cm4gJ3Rlc3Qtc2VsZi1vYnNlcnZlJzt9XG4gKiAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICogICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gKiAgICAgdGhpcy5fb2JzZXJ2ZXIgPSBuZXcgRmxhdHRlbmVkTm9kZXNPYnNlcnZlcih0aGlzLCAoaW5mbykgPT4ge1xuICogICAgICAgdGhpcy5pbmZvID0gaW5mbztcbiAqICAgICB9KTtcbiAqICAgfVxuICogICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAqICAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICogICAgIHRoaXMuX29ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAqICAgfVxuICogfVxuICogY3VzdG9tRWxlbWVudHMuZGVmaW5lKFRlc3RTZWxmT2JzZXJ2ZS5pcywgVGVzdFNlbGZPYnNlcnZlKTtcbiAqIGBgYFxuICpcbiAqIEBzdW1tYXJ5IENsYXNzIHRoYXQgbGlzdGVucyBmb3IgY2hhbmdlcyAoYWRkaXRpb25zIG9yIHJlbW92YWxzKSB0b1xuICogXCJmbGF0dGVuZWQgbm9kZXNcIiBvbiBhIGdpdmVuIGBub2RlYC5cbiAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyRG9tQXBpLk9ic2VydmVIYW5kbGV9XG4gKi9cbmV4cG9ydCBsZXQgRmxhdHRlbmVkTm9kZXNPYnNlcnZlciA9IGNsYXNzIHtcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbGlzdCBvZiBmbGF0dGVuZWQgbm9kZXMgZm9yIHRoZSBnaXZlbiBgbm9kZWAuXG4gICAqIFRoaXMgbGlzdCBjb25zaXN0cyBvZiBhIG5vZGUncyBjaGlsZHJlbiBhbmQsIGZvciBhbnkgY2hpbGRyZW5cbiAgICogdGhhdCBhcmUgYDxzbG90PmAgZWxlbWVudHMsIHRoZSBleHBhbmRlZCBmbGF0dGVuZWQgbGlzdCBvZiBgYXNzaWduZWROb2Rlc2AuXG4gICAqIEZvciBleGFtcGxlLCBpZiB0aGUgb2JzZXJ2ZWQgbm9kZSBoYXMgY2hpbGRyZW4gYDxhPjwvYT48c2xvdD48L3Nsb3Q+PGI+PC9iPmBcbiAgICogYW5kIHRoZSBgPHNsb3Q+YCBoYXMgb25lIGA8ZGl2PmAgYXNzaWduZWQgdG8gaXQsIHRoZW4gdGhlIGZsYXR0ZW5lZFxuICAgKiBub2RlcyBsaXN0IGlzIGA8YT48L2E+PGRpdj48L2Rpdj48Yj48L2I+YC4gSWYgdGhlIGA8c2xvdD5gIGhhcyBvdGhlclxuICAgKiBgPHNsb3Q+YCBlbGVtZW50cyBhc3NpZ25lZCB0byBpdCwgdGhlc2UgYXJlIGZsYXR0ZW5lZCBhcyB3ZWxsLlxuICAgKlxuICAgKiBAcGFyYW0geyFIVE1MRWxlbWVudHwhSFRNTFNsb3RFbGVtZW50fSBub2RlIFRoZSBub2RlIGZvciB3aGljaCB0b1xuICAgKiAgICAgIHJldHVybiB0aGUgbGlzdCBvZiBmbGF0dGVuZWQgbm9kZXMuXG4gICAqIEByZXR1cm4geyFBcnJheTwhTm9kZT59IFRoZSBsaXN0IG9mIGZsYXR0ZW5lZCBub2RlcyBmb3IgdGhlIGdpdmVuIGBub2RlYC5cbiAgICogQG5vY29sbGFwc2UgU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1jb21waWxlci9pc3N1ZXMvMjc2M1xuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIHN0YXRpYyBnZXRGbGF0dGVuZWROb2Rlcyhub2RlKSB7XG4gICAgY29uc3Qgd3JhcHBlZCA9IHdyYXAobm9kZSk7XG4gICAgaWYgKGlzU2xvdChub2RlKSkge1xuICAgICAgbm9kZSA9IC8qKiBAdHlwZSB7IUhUTUxTbG90RWxlbWVudH0gKi8obm9kZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1hc3NpZ25cbiAgICAgIHJldHVybiB3cmFwcGVkLmFzc2lnbmVkTm9kZXMoe2ZsYXR0ZW46IHRydWV9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIEFycmF5LmZyb20od3JhcHBlZC5jaGlsZE5vZGVzKS5tYXAoKG5vZGUpID0+IHtcbiAgICAgICAgaWYgKGlzU2xvdChub2RlKSkge1xuICAgICAgICAgIG5vZGUgPSAvKiogQHR5cGUgeyFIVE1MU2xvdEVsZW1lbnR9ICovKG5vZGUpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtYXNzaWduXG4gICAgICAgICAgcmV0dXJuIHdyYXAobm9kZSkuYXNzaWduZWROb2Rlcyh7ZmxhdHRlbjogdHJ1ZX0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBbbm9kZV07XG4gICAgICAgIH1cbiAgICAgIH0pLnJlZHVjZSgoYSwgYikgPT4gYS5jb25jYXQoYiksIFtdKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IHRhcmdldCBOb2RlIG9uIHdoaWNoIHRvIGxpc3RlbiBmb3IgY2hhbmdlcy5cbiAgICogQHBhcmFtIHs/ZnVuY3Rpb24odGhpczogRWxlbWVudCwgeyB0YXJnZXQ6ICFIVE1MRWxlbWVudCwgYWRkZWROb2RlczogIUFycmF5PCFFbGVtZW50PiwgcmVtb3ZlZE5vZGVzOiAhQXJyYXk8IUVsZW1lbnQ+IH0pOnZvaWR9IGNhbGxiYWNrIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIHRoZXJlIGFyZSBhZGRpdGlvbnNcbiAgICogb3IgcmVtb3ZhbHMgZnJvbSB0aGUgdGFyZ2V0J3MgbGlzdCBvZiBmbGF0dGVuZWQgbm9kZXMuXG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgY29uc3RydWN0b3IodGFyZ2V0LCBjYWxsYmFjaykge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtNdXRhdGlvbk9ic2VydmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fc2hhZHlDaGlsZHJlbk9ic2VydmVyID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7TXV0YXRpb25PYnNlcnZlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX25hdGl2ZUNoaWxkcmVuT2JzZXJ2ZXIgPSBudWxsO1xuICAgIHRoaXMuX2Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHshSFRNTEVsZW1lbnR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl90YXJnZXQgPSB0YXJnZXQ7XG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHRoaXMuX2VmZmVjdGl2ZU5vZGVzID0gW107XG4gICAgdGhpcy5fb2JzZXJ2ZXIgPSBudWxsO1xuICAgIHRoaXMuX3NjaGVkdWxlZCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtmdW5jdGlvbigpfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fYm91bmRTY2hlZHVsZSA9ICgpID0+IHtcbiAgICAgIHRoaXMuX3NjaGVkdWxlKCk7XG4gICAgfTtcbiAgICB0aGlzLmNvbm5lY3QoKTtcbiAgICB0aGlzLl9zY2hlZHVsZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFjdGl2YXRlcyBhbiBvYnNlcnZlci4gVGhpcyBtZXRob2QgaXMgYXV0b21hdGljYWxseSBjYWxsZWQgd2hlblxuICAgKiBhIGBGbGF0dGVuZWROb2Rlc09ic2VydmVyYCBpcyBjcmVhdGVkLiBJdCBzaG91bGQgb25seSBiZSBjYWxsZWQgdG9cbiAgICogcmUtYWN0aXZhdGUgYW4gb2JzZXJ2ZXIgdGhhdCBoYXMgYmVlbiBkZWFjdGl2YXRlZCB2aWEgdGhlIGBkaXNjb25uZWN0YCBtZXRob2QuXG4gICAqXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBjb25uZWN0KCkge1xuICAgIGlmIChpc1Nsb3QodGhpcy5fdGFyZ2V0KSkge1xuICAgICAgdGhpcy5fbGlzdGVuU2xvdHMoW3RoaXMuX3RhcmdldF0pO1xuICAgIH0gZWxzZSBpZiAod3JhcCh0aGlzLl90YXJnZXQpLmNoaWxkcmVuKSB7XG4gICAgICB0aGlzLl9saXN0ZW5TbG90cyhcbiAgICAgICAgICAvKiogQHR5cGUgeyFOb2RlTGlzdDwhTm9kZT59ICovICh3cmFwKHRoaXMuX3RhcmdldCkuY2hpbGRyZW4pKTtcbiAgICAgIGlmICh3aW5kb3cuU2hhZHlET00pIHtcbiAgICAgICAgdGhpcy5fc2hhZHlDaGlsZHJlbk9ic2VydmVyID1cbiAgICAgICAgICB3aW5kb3cuU2hhZHlET00ub2JzZXJ2ZUNoaWxkcmVuKHRoaXMuX3RhcmdldCwgKG11dGF0aW9ucykgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc011dGF0aW9ucyhtdXRhdGlvbnMpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fbmF0aXZlQ2hpbGRyZW5PYnNlcnZlciA9XG4gICAgICAgICAgbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9ucykgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc011dGF0aW9ucyhtdXRhdGlvbnMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9uYXRpdmVDaGlsZHJlbk9ic2VydmVyLm9ic2VydmUodGhpcy5fdGFyZ2V0LCB7Y2hpbGRMaXN0OiB0cnVlfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2Nvbm5lY3RlZCA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogRGVhY3RpdmF0ZXMgdGhlIGZsYXR0ZW5lZCBub2RlcyBvYnNlcnZlci4gQWZ0ZXIgY2FsbGluZyB0aGlzIG1ldGhvZFxuICAgKiB0aGUgb2JzZXJ2ZXIgY2FsbGJhY2sgd2lsbCBub3QgYmUgY2FsbGVkIHdoZW4gY2hhbmdlcyB0byBmbGF0dGVuZWQgbm9kZXNcbiAgICogb2NjdXIuIFRoZSBgY29ubmVjdGAgbWV0aG9kIG1heSBiZSBzdWJzZXF1ZW50bHkgY2FsbGVkIHRvIHJlYWN0aXZhdGVcbiAgICogdGhlIG9ic2VydmVyLlxuICAgKlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGRpc2Nvbm5lY3QoKSB7XG4gICAgaWYgKGlzU2xvdCh0aGlzLl90YXJnZXQpKSB7XG4gICAgICB0aGlzLl91bmxpc3RlblNsb3RzKFt0aGlzLl90YXJnZXRdKTtcbiAgICB9IGVsc2UgaWYgKHdyYXAodGhpcy5fdGFyZ2V0KS5jaGlsZHJlbikge1xuICAgICAgdGhpcy5fdW5saXN0ZW5TbG90cyhcbiAgICAgICAgICAvKiogQHR5cGUgeyFOb2RlTGlzdDwhTm9kZT59ICovICh3cmFwKHRoaXMuX3RhcmdldCkuY2hpbGRyZW4pKTtcbiAgICAgIGlmICh3aW5kb3cuU2hhZHlET00gJiYgdGhpcy5fc2hhZHlDaGlsZHJlbk9ic2VydmVyKSB7XG4gICAgICAgIHdpbmRvdy5TaGFkeURPTS51bm9ic2VydmVDaGlsZHJlbih0aGlzLl9zaGFkeUNoaWxkcmVuT2JzZXJ2ZXIpO1xuICAgICAgICB0aGlzLl9zaGFkeUNoaWxkcmVuT2JzZXJ2ZXIgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9uYXRpdmVDaGlsZHJlbk9ic2VydmVyKSB7XG4gICAgICAgIHRoaXMuX25hdGl2ZUNoaWxkcmVuT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLl9uYXRpdmVDaGlsZHJlbk9ic2VydmVyID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fY29ubmVjdGVkID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zY2hlZHVsZSgpIHtcbiAgICBpZiAoIXRoaXMuX3NjaGVkdWxlZCkge1xuICAgICAgdGhpcy5fc2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgIG1pY3JvVGFzay5ydW4oKCkgPT4gdGhpcy5mbHVzaCgpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheTxNdXRhdGlvblJlY29yZD59IG11dGF0aW9ucyBNdXRhdGlvbnMgc2lnbmFsZWQgYnkgdGhlIG11dGF0aW9uIG9ic2VydmVyXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcHJvY2Vzc011dGF0aW9ucyhtdXRhdGlvbnMpIHtcbiAgICB0aGlzLl9wcm9jZXNzU2xvdE11dGF0aW9ucyhtdXRhdGlvbnMpO1xuICAgIHRoaXMuZmx1c2goKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PE11dGF0aW9uUmVjb3JkPn0gbXV0YXRpb25zIE11dGF0aW9ucyBzaWduYWxlZCBieSB0aGUgbXV0YXRpb24gb2JzZXJ2ZXJcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9wcm9jZXNzU2xvdE11dGF0aW9ucyhtdXRhdGlvbnMpIHtcbiAgICBpZiAobXV0YXRpb25zKSB7XG4gICAgICBmb3IgKGxldCBpPTA7IGkgPCBtdXRhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IG11dGF0aW9uID0gbXV0YXRpb25zW2ldO1xuICAgICAgICBpZiAobXV0YXRpb24uYWRkZWROb2Rlcykge1xuICAgICAgICAgIHRoaXMuX2xpc3RlblNsb3RzKG11dGF0aW9uLmFkZGVkTm9kZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtdXRhdGlvbi5yZW1vdmVkTm9kZXMpIHtcbiAgICAgICAgICB0aGlzLl91bmxpc3RlblNsb3RzKG11dGF0aW9uLnJlbW92ZWROb2Rlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRmx1c2hlcyB0aGUgb2JzZXJ2ZXIgY2F1c2luZyBhbnkgcGVuZGluZyBjaGFuZ2VzIHRvIGJlIGltbWVkaWF0ZWx5XG4gICAqIGRlbGl2ZXJlZCB0aGUgb2JzZXJ2ZXIgY2FsbGJhY2suIEJ5IGRlZmF1bHQgdGhlc2UgY2hhbmdlcyBhcmUgZGVsaXZlcmVkXG4gICAqIGFzeW5jaHJvbm91c2x5IGF0IHRoZSBuZXh0IG1pY3JvdGFzayBjaGVja3BvaW50LlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgYW55IHBlbmRpbmcgY2hhbmdlcyBjYXVzZWQgdGhlIG9ic2VydmVyXG4gICAqIGNhbGxiYWNrIHRvIHJ1bi5cbiAgICovXG4gIGZsdXNoKCkge1xuICAgIGlmICghdGhpcy5fY29ubmVjdGVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh3aW5kb3cuU2hhZHlET00pIHtcbiAgICAgIFNoYWR5RE9NLmZsdXNoKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9uYXRpdmVDaGlsZHJlbk9ic2VydmVyKSB7XG4gICAgICB0aGlzLl9wcm9jZXNzU2xvdE11dGF0aW9ucyh0aGlzLl9uYXRpdmVDaGlsZHJlbk9ic2VydmVyLnRha2VSZWNvcmRzKCkpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fc2hhZHlDaGlsZHJlbk9ic2VydmVyKSB7XG4gICAgICB0aGlzLl9wcm9jZXNzU2xvdE11dGF0aW9ucyh0aGlzLl9zaGFkeUNoaWxkcmVuT2JzZXJ2ZXIudGFrZVJlY29yZHMoKSk7XG4gICAgfVxuICAgIHRoaXMuX3NjaGVkdWxlZCA9IGZhbHNlO1xuICAgIGxldCBpbmZvID0ge1xuICAgICAgdGFyZ2V0OiB0aGlzLl90YXJnZXQsXG4gICAgICBhZGRlZE5vZGVzOiBbXSxcbiAgICAgIHJlbW92ZWROb2RlczogW11cbiAgICB9O1xuICAgIGxldCBuZXdOb2RlcyA9IHRoaXMuY29uc3RydWN0b3IuZ2V0RmxhdHRlbmVkTm9kZXModGhpcy5fdGFyZ2V0KTtcbiAgICBsZXQgc3BsaWNlcyA9IGNhbGN1bGF0ZVNwbGljZXMobmV3Tm9kZXMsXG4gICAgICB0aGlzLl9lZmZlY3RpdmVOb2Rlcyk7XG4gICAgLy8gcHJvY2VzcyByZW1vdmFsc1xuICAgIGZvciAobGV0IGk9MCwgczsgKGk8c3BsaWNlcy5sZW5ndGgpICYmIChzPXNwbGljZXNbaV0pOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGo9MCwgbjsgKGogPCBzLnJlbW92ZWQubGVuZ3RoKSAmJiAobj1zLnJlbW92ZWRbal0pOyBqKyspIHtcbiAgICAgICAgaW5mby5yZW1vdmVkTm9kZXMucHVzaChuKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gcHJvY2VzcyBhZGRzXG4gICAgZm9yIChsZXQgaT0wLCBzOyAoaTxzcGxpY2VzLmxlbmd0aCkgJiYgKHM9c3BsaWNlc1tpXSk7IGkrKykge1xuICAgICAgZm9yIChsZXQgaj1zLmluZGV4OyBqIDwgcy5pbmRleCArIHMuYWRkZWRDb3VudDsgaisrKSB7XG4gICAgICAgIGluZm8uYWRkZWROb2Rlcy5wdXNoKG5ld05vZGVzW2pdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gdXBkYXRlIGNhY2hlXG4gICAgdGhpcy5fZWZmZWN0aXZlTm9kZXMgPSBuZXdOb2RlcztcbiAgICBsZXQgZGlkRmx1c2ggPSBmYWxzZTtcbiAgICBpZiAoaW5mby5hZGRlZE5vZGVzLmxlbmd0aCB8fCBpbmZvLnJlbW92ZWROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIGRpZEZsdXNoID0gdHJ1ZTtcbiAgICAgIHRoaXMuY2FsbGJhY2suY2FsbCh0aGlzLl90YXJnZXQsIGluZm8pO1xuICAgIH1cbiAgICByZXR1cm4gZGlkRmx1c2g7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshQXJyYXk8IU5vZGU+fCFOb2RlTGlzdDwhTm9kZT59IG5vZGVMaXN0IE5vZGVzIHRoYXQgY291bGQgY2hhbmdlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfbGlzdGVuU2xvdHMobm9kZUxpc3QpIHtcbiAgICBmb3IgKGxldCBpPTA7IGkgPCBub2RlTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IG4gPSBub2RlTGlzdFtpXTtcbiAgICAgIGlmIChpc1Nsb3QobikpIHtcbiAgICAgICAgbi5hZGRFdmVudExpc3RlbmVyKCdzbG90Y2hhbmdlJywgdGhpcy5fYm91bmRTY2hlZHVsZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFycmF5PCFOb2RlPnwhTm9kZUxpc3Q8IU5vZGU+fSBub2RlTGlzdCBOb2RlcyB0aGF0IGNvdWxkIGNoYW5nZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VubGlzdGVuU2xvdHMobm9kZUxpc3QpIHtcbiAgICBmb3IgKGxldCBpPTA7IGkgPCBub2RlTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IG4gPSBub2RlTGlzdFtpXTtcbiAgICAgIGlmIChpc1Nsb3QobikpIHtcbiAgICAgICAgbi5yZW1vdmVFdmVudExpc3RlbmVyKCdzbG90Y2hhbmdlJywgdGhpcy5fYm91bmRTY2hlZHVsZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbn07IiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnLi9ib290LmpzJztcbmltcG9ydCB7ZW5xdWV1ZURlYm91bmNlciwgZmx1c2hEZWJvdW5jZXJzfSBmcm9tICcuLi91dGlscy9kZWJvdW5jZS5qcyc7XG5leHBvcnQge2VucXVldWVEZWJvdW5jZXJ9O1xuXG4vKipcbiAqIEZvcmNlcyBzZXZlcmFsIGNsYXNzZXMgb2YgYXN5bmNocm9ub3VzbHkgcXVldWVkIHRhc2tzIHRvIGZsdXNoOlxuICogLSBEZWJvdW5jZXJzIGFkZGVkIHZpYSBgZW5xdWV1ZURlYm91bmNlcmBcbiAqIC0gU2hhZHlET00gZGlzdHJpYnV0aW9uXG4gKlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGNvbnN0IGZsdXNoID0gZnVuY3Rpb24oKSB7XG4gIGxldCBzaGFkeURPTSwgZGVib3VuY2VycztcbiAgZG8ge1xuICAgIHNoYWR5RE9NID0gd2luZG93LlNoYWR5RE9NICYmIFNoYWR5RE9NLmZsdXNoKCk7XG4gICAgaWYgKHdpbmRvdy5TaGFkeUNTUyAmJiB3aW5kb3cuU2hhZHlDU1MuU2NvcGluZ1NoaW0pIHtcbiAgICAgIHdpbmRvdy5TaGFkeUNTUy5TY29waW5nU2hpbS5mbHVzaCgpO1xuICAgIH1cbiAgICBkZWJvdW5jZXJzID0gZmx1c2hEZWJvdW5jZXJzKCk7XG4gIH0gd2hpbGUgKHNoYWR5RE9NIHx8IGRlYm91bmNlcnMpO1xufTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJy4uL3V0aWxzL2Jvb3QuanMnO1xuaW1wb3J0IHsgd3JhcCB9IGZyb20gJy4uL3V0aWxzL3dyYXAuanMnO1xuaW1wb3J0ICcuLi91dGlscy9zZXR0aW5ncy5qcyc7XG5pbXBvcnQgeyBGbGF0dGVuZWROb2Rlc09ic2VydmVyIH0gZnJvbSAnLi4vdXRpbHMvZmxhdHRlbmVkLW5vZGVzLW9ic2VydmVyLmpzJztcbmV4cG9ydCB7IGZsdXNoLCBlbnF1ZXVlRGVib3VuY2VyIGFzIGFkZERlYm91bmNlciB9IGZyb20gJy4uL3V0aWxzL2ZsdXNoLmpzJztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5pbXBvcnQgeyBEZWJvdW5jZXIgfSBmcm9tICcuLi91dGlscy9kZWJvdW5jZS5qcyc7ICAvLyB1c2VkIGluIHR5cGUgYW5ub3RhdGlvbnNcbi8qIGVzbGludC1lbmFibGUgbm8tdW51c2VkLXZhcnMgKi9cblxuY29uc3QgcCA9IEVsZW1lbnQucHJvdG90eXBlO1xuLyoqXG4gKiBAY29uc3Qge2Z1bmN0aW9uKHRoaXM6Tm9kZSwgc3RyaW5nKTogYm9vbGVhbn1cbiAqL1xuY29uc3Qgbm9ybWFsaXplZE1hdGNoZXNTZWxlY3RvciA9IHAubWF0Y2hlcyB8fCBwLm1hdGNoZXNTZWxlY3RvciB8fFxuICBwLm1vek1hdGNoZXNTZWxlY3RvciB8fCBwLm1zTWF0Y2hlc1NlbGVjdG9yIHx8XG4gIHAub01hdGNoZXNTZWxlY3RvciB8fCBwLndlYmtpdE1hdGNoZXNTZWxlY3RvcjtcblxuLyoqXG4gKiBDcm9zcy1wbGF0Zm9ybSBgZWxlbWVudC5tYXRjaGVzYCBzaGltLlxuICpcbiAqIEBmdW5jdGlvbiBtYXRjaGVzU2VsZWN0b3JcbiAqIEBwYXJhbSB7IU5vZGV9IG5vZGUgTm9kZSB0byBjaGVjayBzZWxlY3RvciBhZ2FpbnN0XG4gKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgU2VsZWN0b3IgdG8gbWF0Y2hcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgbm9kZSBtYXRjaGVkIHNlbGVjdG9yXG4gKi9cbmV4cG9ydCBjb25zdCBtYXRjaGVzU2VsZWN0b3IgPSBmdW5jdGlvbihub2RlLCBzZWxlY3Rvcikge1xuICByZXR1cm4gbm9ybWFsaXplZE1hdGNoZXNTZWxlY3Rvci5jYWxsKG5vZGUsIHNlbGVjdG9yKTtcbn07XG5cbi8qKlxuICogTm9kZSBBUEkgd3JhcHBlciBjbGFzcyByZXR1cm5lZCBmcm9tIGBQb2x5bWVyLmRvbS4odGFyZ2V0KWAgd2hlblxuICogYHRhcmdldGAgaXMgYSBgTm9kZWAuXG4gKiBAaW1wbGVtZW50cyB7UG9seW1lckRvbUFwaX1cbiAqIEB1bnJlc3RyaWN0ZWRcbiAqL1xuY2xhc3MgRG9tQXBpTmF0aXZlIHtcblxuICAvKipcbiAgICogQHBhcmFtIHshTm9kZX0gbm9kZSBOb2RlIGZvciB3aGljaCB0byBjcmVhdGUgYSBQb2x5bWVyLmRvbSBoZWxwZXIgb2JqZWN0LlxuICAgKi9cbiAgY29uc3RydWN0b3Iobm9kZSkge1xuICAgIGlmICh3aW5kb3dbJ1NoYWR5RE9NJ10gJiYgd2luZG93WydTaGFkeURPTSddWydpblVzZSddKSB7XG4gICAgICB3aW5kb3dbJ1NoYWR5RE9NJ11bJ3BhdGNoJ10obm9kZSk7XG4gICAgfVxuICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbiBpbnN0YW5jZSBvZiBgRmxhdHRlbmVkTm9kZXNPYnNlcnZlcmAgdGhhdFxuICAgKiBsaXN0ZW5zIGZvciBub2RlIGNoYW5nZXMgb24gdGhpcyBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6SFRNTEVsZW1lbnQsIHsgdGFyZ2V0OiAhSFRNTEVsZW1lbnQsIGFkZGVkTm9kZXM6ICFBcnJheTwhRWxlbWVudD4sIHJlbW92ZWROb2RlczogIUFycmF5PCFFbGVtZW50PiB9KTp2b2lkfSBjYWxsYmFjayBDYWxsZWQgd2hlbiBkaXJlY3Qgb3IgZGlzdHJpYnV0ZWQgY2hpbGRyZW5cbiAgICogICBvZiB0aGlzIGVsZW1lbnQgY2hhbmdlc1xuICAgKiBAcmV0dXJuIHshUG9seW1lckRvbUFwaS5PYnNlcnZlSGFuZGxlfSBPYnNlcnZlciBpbnN0YW5jZVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIG9ic2VydmVOb2RlcyhjYWxsYmFjaykge1xuICAgIHJldHVybiBuZXcgRmxhdHRlbmVkTm9kZXNPYnNlcnZlcihcbiAgICAgICAgLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovKHRoaXMubm9kZSksIGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNjb25uZWN0cyBhbiBvYnNlcnZlciBwcmV2aW91c2x5IGNyZWF0ZWQgdmlhIGBvYnNlcnZlTm9kZXNgXG4gICAqXG4gICAqIEBwYXJhbSB7IVBvbHltZXJEb21BcGkuT2JzZXJ2ZUhhbmRsZX0gb2JzZXJ2ZXJIYW5kbGUgT2JzZXJ2ZXIgaW5zdGFuY2VcbiAgICogICB0byBkaXNjb25uZWN0LlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHVub2JzZXJ2ZU5vZGVzKG9ic2VydmVySGFuZGxlKSB7XG4gICAgb2JzZXJ2ZXJIYW5kbGUuZGlzY29ubmVjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3ZpZGVkIGFzIGEgYmFja3dhcmRzLWNvbXBhdGlibGUgQVBJIG9ubHkuICBUaGlzIG1ldGhvZCBkb2VzIG5vdGhpbmcuXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBub3RpZnlPYnNlcnZlcigpIHt9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcHJvdmlkZWQgbm9kZSBpcyBjb250YWluZWQgd2l0aCB0aGlzIGVsZW1lbnQnc1xuICAgKiBsaWdodC1ET00gY2hpbGRyZW4gb3Igc2hhZG93IHJvb3QsIGluY2x1ZGluZyBhbnkgbmVzdGVkIHNoYWRvdyByb290c1xuICAgKiBvZiBjaGlsZHJlbiB0aGVyZWluLlxuICAgKlxuICAgKiBAcGFyYW0ge05vZGV9IG5vZGUgTm9kZSB0byB0ZXN0XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gYG5vZGVgIGlzIGNvbnRhaW5lZCB3aXRoaW5cbiAgICogICB0aGlzIGVsZW1lbnQncyBsaWdodCBvciBzaGFkb3cgRE9NLlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGRlZXBDb250YWlucyhub2RlKSB7XG4gICAgaWYgKHdyYXAodGhpcy5ub2RlKS5jb250YWlucyhub2RlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxldCBuID0gbm9kZTtcbiAgICBsZXQgZG9jID0gbm9kZS5vd25lckRvY3VtZW50O1xuICAgIC8vIHdhbGsgZnJvbSBub2RlIHRvIGB0aGlzYCBvciBgZG9jdW1lbnRgXG4gICAgd2hpbGUgKG4gJiYgbiAhPT0gZG9jICYmIG4gIT09IHRoaXMubm9kZSkge1xuICAgICAgLy8gdXNlIGxvZ2ljYWwgcGFyZW50bm9kZSwgb3IgbmF0aXZlIFNoYWRvd1Jvb3QgaG9zdFxuICAgICAgbiA9IHdyYXAobikucGFyZW50Tm9kZSB8fCB3cmFwKG4pLmhvc3Q7XG4gICAgfVxuICAgIHJldHVybiBuID09PSB0aGlzLm5vZGU7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcm9vdCBub2RlIG9mIHRoaXMgbm9kZS4gIEVxdWl2YWxlbnQgdG8gYGdldFJvb3ROb2RlKClgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtOb2RlfSBUb3AgbW9zdCBlbGVtZW50IGluIHRoZSBkb20gdHJlZSBpbiB3aGljaCB0aGUgbm9kZVxuICAgKiBleGlzdHMuIElmIHRoZSBub2RlIGlzIGNvbm5lY3RlZCB0byBhIGRvY3VtZW50IHRoaXMgaXMgZWl0aGVyIGFcbiAgICogc2hhZG93Um9vdCBvciB0aGUgZG9jdW1lbnQ7IG90aGVyd2lzZSwgaXQgbWF5IGJlIHRoZSBub2RlXG4gICAqIGl0c2VsZiBvciBhIG5vZGUgb3IgZG9jdW1lbnQgZnJhZ21lbnQgY29udGFpbmluZyBpdC5cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPd25lclJvb3QoKSB7XG4gICAgcmV0dXJuIHdyYXAodGhpcy5ub2RlKS5nZXRSb290Tm9kZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvciBzbG90IGVsZW1lbnRzLCByZXR1cm5zIHRoZSBub2RlcyBhc3NpZ25lZCB0byB0aGUgc2xvdDsgb3RoZXJ3aXNlXG4gICAqIGFuIGVtcHR5IGFycmF5LiBJdCBpcyBlcXVpdmFsZW50IHRvIGA8c2xvdD4uYWRkaWduZWROb2Rlcyh7ZmxhdHRlbjp0cnVlfSlgLlxuICAgKlxuICAgKiBAcmV0dXJuIHshQXJyYXk8IU5vZGU+fSBBcnJheSBvZiBhc3NpZ25lZCBub2Rlc1xuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldERpc3RyaWJ1dGVkTm9kZXMoKSB7XG4gICAgcmV0dXJuICh0aGlzLm5vZGUubG9jYWxOYW1lID09PSAnc2xvdCcpID9cbiAgICAgIHdyYXAodGhpcy5ub2RlKS5hc3NpZ25lZE5vZGVzKHtmbGF0dGVuOiB0cnVlfSkgOlxuICAgICAgW107XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbiBhcnJheSBvZiBhbGwgc2xvdHMgdGhpcyBlbGVtZW50IHdhcyBkaXN0cmlidXRlZCB0by5cbiAgICpcbiAgICogQHJldHVybiB7IUFycmF5PCFIVE1MU2xvdEVsZW1lbnQ+fSBEZXNjcmlwdGlvblxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldERlc3RpbmF0aW9uSW5zZXJ0aW9uUG9pbnRzKCkge1xuICAgIGxldCBpcCQgPSBbXTtcbiAgICBsZXQgbiA9IHdyYXAodGhpcy5ub2RlKS5hc3NpZ25lZFNsb3Q7XG4gICAgd2hpbGUgKG4pIHtcbiAgICAgIGlwJC5wdXNoKG4pO1xuICAgICAgbiA9IHdyYXAobikuYXNzaWduZWRTbG90O1xuICAgIH1cbiAgICByZXR1cm4gaXAkO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxzIGBpbXBvcnROb2RlYCBvbiB0aGUgYG93bmVyRG9jdW1lbnRgIGZvciB0aGlzIG5vZGUuXG4gICAqXG4gICAqIEBwYXJhbSB7IU5vZGV9IG5vZGUgTm9kZSB0byBpbXBvcnRcbiAgICogQHBhcmFtIHtib29sZWFufSBkZWVwIFRydWUgaWYgdGhlIG5vZGUgc2hvdWxkIGJlIGNsb25lZCBkZWVwbHkgZHVyaW5nXG4gICAqICAgaW1wb3J0XG4gICAqIEByZXR1cm4ge05vZGV9IENsb25lIG9mIGdpdmVuIG5vZGUgaW1wb3J0ZWQgdG8gdGhpcyBvd25lciBkb2N1bWVudFxuICAgKi9cbiAgaW1wb3J0Tm9kZShub2RlLCBkZWVwKSB7XG4gICAgbGV0IGRvYyA9IHRoaXMubm9kZSBpbnN0YW5jZW9mIERvY3VtZW50ID8gdGhpcy5ub2RlIDpcbiAgICAgIHRoaXMubm9kZS5vd25lckRvY3VtZW50O1xuICAgIHJldHVybiB3cmFwKGRvYykuaW1wb3J0Tm9kZShub2RlLCBkZWVwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshQXJyYXk8IU5vZGU+fSBSZXR1cm5zIGEgZmxhdHRlbmVkIGxpc3Qgb2YgYWxsIGNoaWxkIG5vZGVzIGFuZFxuICAgKiBub2RlcyBhc3NpZ25lZCB0byBjaGlsZCBzbG90cy5cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRFZmZlY3RpdmVDaGlsZE5vZGVzKCkge1xuICAgIHJldHVybiBGbGF0dGVuZWROb2Rlc09ic2VydmVyLmdldEZsYXR0ZW5lZE5vZGVzKFxuICAgICAgICAvKiogQHR5cGUgeyFIVE1MRWxlbWVudH0gKi8gKHRoaXMubm9kZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBmaWx0ZXJlZCBsaXN0IG9mIGZsYXR0ZW5lZCBjaGlsZCBlbGVtZW50cyBmb3IgdGhpcyBlbGVtZW50IGJhc2VkXG4gICAqIG9uIHRoZSBnaXZlbiBzZWxlY3Rvci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIFNlbGVjdG9yIHRvIGZpbHRlciBub2RlcyBhZ2FpbnN0XG4gICAqIEByZXR1cm4geyFBcnJheTwhSFRNTEVsZW1lbnQ+fSBMaXN0IG9mIGZsYXR0ZW5lZCBjaGlsZCBlbGVtZW50c1xuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHF1ZXJ5RGlzdHJpYnV0ZWRFbGVtZW50cyhzZWxlY3Rvcikge1xuICAgIGxldCBjJCA9IHRoaXMuZ2V0RWZmZWN0aXZlQ2hpbGROb2RlcygpO1xuICAgIGxldCBsaXN0ID0gW107XG4gICAgZm9yIChsZXQgaT0wLCBsPWMkLmxlbmd0aCwgYzsgKGk8bCkgJiYgKGM9YyRbaV0pOyBpKyspIHtcbiAgICAgIGlmICgoYy5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpICYmXG4gICAgICAgICAgbWF0Y2hlc1NlbGVjdG9yKGMsIHNlbGVjdG9yKSkge1xuICAgICAgICBsaXN0LnB1c2goYyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsaXN0O1xuICB9XG5cbiAgLyoqXG4gICAqIEZvciBzaGFkb3cgcm9vdHMsIHJldHVybnMgdGhlIGN1cnJlbnRseSBmb2N1c2VkIGVsZW1lbnQgd2l0aGluIHRoaXNcbiAgICogc2hhZG93IHJvb3QuXG4gICAqXG4gICAqIHJldHVybiB7Tm9kZXx1bmRlZmluZWR9IEN1cnJlbnRseSBmb2N1c2VkIGVsZW1lbnRcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXQgYWN0aXZlRWxlbWVudCgpIHtcbiAgICBsZXQgbm9kZSA9IHRoaXMubm9kZTtcbiAgICByZXR1cm4gbm9kZS5fYWN0aXZlRWxlbWVudCAhPT0gdW5kZWZpbmVkID8gbm9kZS5fYWN0aXZlRWxlbWVudCA6IG5vZGUuYWN0aXZlRWxlbWVudDtcbiAgfVxufVxuXG5mdW5jdGlvbiBmb3J3YXJkTWV0aG9kcyhwcm90bywgbWV0aG9kcykge1xuICBmb3IgKGxldCBpPTA7IGkgPCBtZXRob2RzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IG1ldGhvZCA9IG1ldGhvZHNbaV07XG4gICAgLyogZXNsaW50LWRpc2FibGUgdmFsaWQtanNkb2MgKi9cbiAgICBwcm90b1ttZXRob2RdID0gLyoqIEB0aGlzIHtEb21BcGlOYXRpdmV9ICovIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMubm9kZVttZXRob2RdLmFwcGx5KHRoaXMubm9kZSwgYXJndW1lbnRzKTtcbiAgICB9O1xuICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgfVxufVxuXG5mdW5jdGlvbiBmb3J3YXJkUmVhZE9ubHlQcm9wZXJ0aWVzKHByb3RvLCBwcm9wZXJ0aWVzKSB7XG4gIGZvciAobGV0IGk9MDsgaSA8IHByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgbmFtZSA9IHByb3BlcnRpZXNbaV07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLCBuYW1lLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zdCBkb21BcGkgPSAvKiogQHR5cGUge0RvbUFwaU5hdGl2ZX0gKi8odGhpcyk7XG4gICAgICAgIHJldHVybiBkb21BcGkubm9kZVtuYW1lXTtcbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmb3J3YXJkUHJvcGVydGllcyhwcm90bywgcHJvcGVydGllcykge1xuICBmb3IgKGxldCBpPTA7IGkgPCBwcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IG5hbWUgPSBwcm9wZXJ0aWVzW2ldO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywgbmFtZSwge1xuICAgICAgLyoqXG4gICAgICAgKiBAdGhpcyB7RG9tQXBpTmF0aXZlfVxuICAgICAgICogQHJldHVybiB7Kn0gLlxuICAgICAgICovXG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ub2RlW25hbWVdO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgICogQHRoaXMge0RvbUFwaU5hdGl2ZX1cbiAgICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgLlxuICAgICAgICovXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMubm9kZVtuYW1lXSA9IHZhbHVlO1xuICAgICAgfSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9XG59XG5cblxuLyoqXG4gKiBFdmVudCBBUEkgd3JhcHBlciBjbGFzcyByZXR1cm5lZCBmcm9tIGBkb20uKHRhcmdldClgIHdoZW5cbiAqIGB0YXJnZXRgIGlzIGFuIGBFdmVudGAuXG4gKi9cbmV4cG9ydCBjbGFzcyBFdmVudEFwaSB7XG4gIGNvbnN0cnVjdG9yKGV2ZW50KSB7XG4gICAgdGhpcy5ldmVudCA9IGV2ZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGZpcnN0IG5vZGUgb24gdGhlIGBjb21wb3NlZFBhdGhgIG9mIHRoaXMgZXZlbnQuXG4gICAqXG4gICAqIEByZXR1cm4geyFFdmVudFRhcmdldH0gVGhlIG5vZGUgdGhpcyBldmVudCB3YXMgZGlzcGF0Y2hlZCB0b1xuICAgKi9cbiAgZ2V0IHJvb3RUYXJnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMucGF0aFswXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBsb2NhbCAocmUtdGFyZ2V0ZWQpIHRhcmdldCBmb3IgdGhpcyBldmVudC5cbiAgICpcbiAgICogQHJldHVybiB7IUV2ZW50VGFyZ2V0fSBUaGUgbG9jYWwgKHJlLXRhcmdldGVkKSB0YXJnZXQgZm9yIHRoaXMgZXZlbnQuXG4gICAqL1xuICBnZXQgbG9jYWxUYXJnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnQudGFyZ2V0O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGBjb21wb3NlZFBhdGhgIGZvciB0aGlzIGV2ZW50LlxuICAgKiBAcmV0dXJuIHshQXJyYXk8IUV2ZW50VGFyZ2V0Pn0gVGhlIG5vZGVzIHRoaXMgZXZlbnQgcHJvcGFnYXRlZCB0aHJvdWdoXG4gICAqL1xuICBnZXQgcGF0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5ldmVudC5jb21wb3NlZFBhdGgoKTtcbiAgfVxufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtib29sZWFuPX0gZGVlcFxuICogQHJldHVybiB7IU5vZGV9XG4gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUuY2xvbmVOb2RlO1xuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IU5vZGV9IG5vZGVcbiAqIEByZXR1cm4geyFOb2RlfVxuICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLmFwcGVuZENoaWxkO1xuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IU5vZGV9IG5ld0NoaWxkXG4gKiBAcGFyYW0ge05vZGV9IHJlZkNoaWxkXG4gKiBAcmV0dXJuIHshTm9kZX1cbiAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5pbnNlcnRCZWZvcmU7XG4vKipcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTm9kZX0gbm9kZVxuICogQHJldHVybiB7IU5vZGV9XG4gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUucmVtb3ZlQ2hpbGQ7XG4vKipcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTm9kZX0gb2xkQ2hpbGRcbiAqIEBwYXJhbSB7IU5vZGV9IG5ld0NoaWxkXG4gKiBAcmV0dXJuIHshTm9kZX1cbiAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5yZXBsYWNlQ2hpbGQ7XG4vKipcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5zZXRBdHRyaWJ1dGU7XG4vKipcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUucmVtb3ZlQXR0cmlidXRlO1xuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvclxuICogQHJldHVybiB7P0VsZW1lbnR9XG4gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUucXVlcnlTZWxlY3Rvcjtcbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3JcbiAqIEByZXR1cm4geyFOb2RlTGlzdDwhRWxlbWVudD59XG4gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUucXVlcnlTZWxlY3RvckFsbDtcblxuLyoqIEB0eXBlIHs/Tm9kZX0gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUucGFyZW50Tm9kZTtcbi8qKiBAdHlwZSB7P05vZGV9ICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLmZpcnN0Q2hpbGQ7XG4vKiogQHR5cGUgez9Ob2RlfSAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5sYXN0Q2hpbGQ7XG4vKiogQHR5cGUgez9Ob2RlfSAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5uZXh0U2libGluZztcbi8qKiBAdHlwZSB7P05vZGV9ICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLnByZXZpb3VzU2libGluZztcbi8qKiBAdHlwZSB7P0hUTUxFbGVtZW50fSAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5maXJzdEVsZW1lbnRDaGlsZDtcbi8qKiBAdHlwZSB7P0hUTUxFbGVtZW50fSAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5sYXN0RWxlbWVudENoaWxkO1xuLyoqIEB0eXBlIHs/SFRNTEVsZW1lbnR9ICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLm5leHRFbGVtZW50U2libGluZztcbi8qKiBAdHlwZSB7P0hUTUxFbGVtZW50fSAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuLyoqIEB0eXBlIHshQXJyYXk8IU5vZGU+fSAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5jaGlsZE5vZGVzO1xuLyoqIEB0eXBlIHshQXJyYXk8IUhUTUxFbGVtZW50Pn0gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUuY2hpbGRyZW47XG4vKiogQHR5cGUgez9ET01Ub2tlbkxpc3R9ICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLmNsYXNzTGlzdDtcblxuLyoqIEB0eXBlIHtzdHJpbmd9ICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLnRleHRDb250ZW50O1xuLyoqIEB0eXBlIHtzdHJpbmd9ICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLmlubmVySFRNTDtcblxubGV0IERvbUFwaUltcGwgPSBEb21BcGlOYXRpdmU7XG5cbmlmICh3aW5kb3dbJ1NoYWR5RE9NJ10gJiYgd2luZG93WydTaGFkeURPTSddWydpblVzZSddICYmIHdpbmRvd1snU2hhZHlET00nXVsnbm9QYXRjaCddICYmIHdpbmRvd1snU2hhZHlET00nXVsnV3JhcHBlciddKSB7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBleHRlbmRzIHtIVE1MRWxlbWVudH1cbiAgICovXG4gIGNsYXNzIFdyYXBwZXIgZXh0ZW5kcyB3aW5kb3dbJ1NoYWR5RE9NJ11bJ1dyYXBwZXInXSB7fVxuXG4gIC8vIGNvcHkgYmVzcG9rZSBBUEkgb250byB3cmFwcGVyXG4gIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKERvbUFwaU5hdGl2ZS5wcm90b3R5cGUpLmZvckVhY2goKHByb3ApID0+IHtcbiAgICBpZiAocHJvcCAhPSAnYWN0aXZlRWxlbWVudCcpIHtcbiAgICAgIFdyYXBwZXIucHJvdG90eXBlW3Byb3BdID0gRG9tQXBpTmF0aXZlLnByb3RvdHlwZVtwcm9wXTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIE5vdGUsIGBjbGFzc0xpc3RgIGlzIGhlcmUgb25seSBmb3IgbGVnYWN5IGNvbXBhdGliaWxpdHkgc2luY2UgaXQgZG9lcyBub3RcbiAgLy8gdHJpZ2dlciBkaXN0cmlidXRpb24gaW4gdjEgU2hhZG93IERPTS5cbiAgZm9yd2FyZFJlYWRPbmx5UHJvcGVydGllcyhXcmFwcGVyLnByb3RvdHlwZSwgW1xuICAgICdjbGFzc0xpc3QnXG4gIF0pO1xuXG4gIERvbUFwaUltcGwgPSBXcmFwcGVyO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEV2ZW50QXBpLnByb3RvdHlwZSwge1xuXG4gICAgLy8gUmV0dXJucyB0aGUgXCJsb3dlc3RcIiBub2RlIGluIHRoZSBzYW1lIHJvb3QgYXMgdGhlIGV2ZW50J3MgY3VycmVudFRhcmdldC5cbiAgICAvLyBXaGVuIGluIGBub1BhdGNoYCBtb2RlLCB0aGlzIG11c3QgYmUgY2FsY3VsYXRlZCBieSB3YWxraW5nIHRoZSBldmVudCdzXG4gICAgLy8gcGF0aC5cbiAgICBsb2NhbFRhcmdldDoge1xuICAgICAgZ2V0KCkge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5ldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICBjb25zdCBjdXJyZW50Um9vdCA9IGN1cnJlbnQgJiYgZG9tKGN1cnJlbnQpLmdldE93bmVyUm9vdCgpO1xuICAgICAgICBjb25zdCBwJCA9IHRoaXMucGF0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwJC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGUgPSBwJFtpXTtcbiAgICAgICAgICBpZiAoZG9tKGUpLmdldE93bmVyUm9vdCgpID09PSBjdXJyZW50Um9vdCkge1xuICAgICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSxcblxuICAgIHBhdGg6IHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvd1snU2hhZHlET00nXVsnY29tcG9zZWRQYXRoJ10odGhpcy5ldmVudCk7XG4gICAgICB9LFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcblxufSBlbHNlIHtcblxuICAvLyBNZXRob2RzIHRoYXQgY2FuIHByb3Zva2UgZGlzdHJpYnV0aW9uIG9yIG11c3QgcmV0dXJuIHRoZSBsb2dpY2FsLCBub3RcbiAgLy8gY29tcG9zZWQgdHJlZS5cbiAgZm9yd2FyZE1ldGhvZHMoRG9tQXBpTmF0aXZlLnByb3RvdHlwZSwgW1xuICAgICdjbG9uZU5vZGUnLCAnYXBwZW5kQ2hpbGQnLCAnaW5zZXJ0QmVmb3JlJywgJ3JlbW92ZUNoaWxkJyxcbiAgICAncmVwbGFjZUNoaWxkJywgJ3NldEF0dHJpYnV0ZScsICdyZW1vdmVBdHRyaWJ1dGUnLFxuICAgICdxdWVyeVNlbGVjdG9yJywgJ3F1ZXJ5U2VsZWN0b3JBbGwnXG4gIF0pO1xuXG4gIC8vIFByb3BlcnRpZXMgdGhhdCBzaG91bGQgcmV0dXJuIHRoZSBsb2dpY2FsLCBub3QgY29tcG9zZWQgdHJlZS4gTm90ZSwgYGNsYXNzTGlzdGBcbiAgLy8gaXMgaGVyZSBvbmx5IGZvciBsZWdhY3kgY29tcGF0aWJpbGl0eSBzaW5jZSBpdCBkb2VzIG5vdCB0cmlnZ2VyIGRpc3RyaWJ1dGlvblxuICAvLyBpbiB2MSBTaGFkb3cgRE9NLlxuICBmb3J3YXJkUmVhZE9ubHlQcm9wZXJ0aWVzKERvbUFwaU5hdGl2ZS5wcm90b3R5cGUsIFtcbiAgICAncGFyZW50Tm9kZScsICdmaXJzdENoaWxkJywgJ2xhc3RDaGlsZCcsXG4gICAgJ25leHRTaWJsaW5nJywgJ3ByZXZpb3VzU2libGluZycsICdmaXJzdEVsZW1lbnRDaGlsZCcsXG4gICAgJ2xhc3RFbGVtZW50Q2hpbGQnLCAnbmV4dEVsZW1lbnRTaWJsaW5nJywgJ3ByZXZpb3VzRWxlbWVudFNpYmxpbmcnLFxuICAgICdjaGlsZE5vZGVzJywgJ2NoaWxkcmVuJywgJ2NsYXNzTGlzdCdcbiAgXSk7XG5cbiAgZm9yd2FyZFByb3BlcnRpZXMoRG9tQXBpTmF0aXZlLnByb3RvdHlwZSwgW1xuICAgICd0ZXh0Q29udGVudCcsICdpbm5lckhUTUwnLCAnY2xhc3NOYW1lJ1xuICBdKTtcbn1cblxuZXhwb3J0IGNvbnN0IERvbUFwaSA9IERvbUFwaUltcGw7XG5cbi8qKlxuICogTGVnYWN5IERPTSBhbmQgRXZlbnQgbWFuaXB1bGF0aW9uIEFQSSB3cmFwcGVyIGZhY3RvcnkgdXNlZCB0byBhYnN0cmFjdFxuICogZGlmZmVyZW5jZXMgYmV0d2VlbiBuYXRpdmUgU2hhZG93IERPTSBhbmQgXCJTaGFkeSBET01cIiB3aGVuIHBvbHlmaWxsaW5nIG9uXG4gKiBvbGRlciBicm93c2Vycy5cbiAqXG4gKiBOb3RlIHRoYXQgaW4gUG9seW1lciAyLnggdXNlIG9mIGBQb2x5bWVyLmRvbWAgaXMgbm8gbG9uZ2VyIHJlcXVpcmVkIGFuZFxuICogaW4gdGhlIG1ham9yaXR5IG9mIGNhc2VzIHNpbXBseSBmYWNhZGVzIGRpcmVjdGx5IHRvIHRoZSBzdGFuZGFyZCBuYXRpdmVcbiAqIEFQSS5cbiAqXG4gKiBAc3VtbWFyeSBMZWdhY3kgRE9NIGFuZCBFdmVudCBtYW5pcHVsYXRpb24gQVBJIHdyYXBwZXIgZmFjdG9yeSB1c2VkIHRvXG4gKiBhYnN0cmFjdCBkaWZmZXJlbmNlcyBiZXR3ZWVuIG5hdGl2ZSBTaGFkb3cgRE9NIGFuZCBcIlNoYWR5IERPTS5cIlxuICogQHBhcmFtIHsoTm9kZXxFdmVudHxEb21BcGlOYXRpdmV8RXZlbnRBcGkpPX0gb2JqIE5vZGUgb3IgZXZlbnQgdG8gb3BlcmF0ZSBvblxuICogQHJldHVybiB7IURvbUFwaU5hdGl2ZXwhRXZlbnRBcGl9IFdyYXBwZXIgcHJvdmlkaW5nIGVpdGhlciBub2RlIEFQSSBvciBldmVudCBBUElcbiAqL1xuZXhwb3J0IGNvbnN0IGRvbSA9IGZ1bmN0aW9uKG9iaikge1xuICBvYmogPSBvYmogfHwgZG9jdW1lbnQ7XG4gIGlmIChvYmogaW5zdGFuY2VvZiBEb21BcGlJbXBsKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IURvbUFwaX0gKi8ob2JqKTtcbiAgfVxuICBpZiAob2JqIGluc3RhbmNlb2YgRXZlbnRBcGkpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshRXZlbnRBcGl9ICovKG9iaik7XG4gIH1cbiAgbGV0IGhlbHBlciA9IG9ialsnX19kb21BcGknXTtcbiAgaWYgKCFoZWxwZXIpIHtcbiAgICBpZiAob2JqIGluc3RhbmNlb2YgRXZlbnQpIHtcbiAgICAgIGhlbHBlciA9IG5ldyBFdmVudEFwaShvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWxwZXIgPSBuZXcgRG9tQXBpSW1wbCgvKiogQHR5cGUge05vZGV9ICovKG9iaikpO1xuICAgIH1cbiAgICBvYmpbJ19fZG9tQXBpJ10gPSBoZWxwZXI7XG4gIH1cbiAgcmV0dXJuIGhlbHBlcjtcbn07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTkgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG5pbXBvcnQgJy4vYm9vdC5qcyc7XG5pbXBvcnQge3dyYXB9IGZyb20gJy4vd3JhcC5qcyc7XG5cbmNvbnN0IFNoYWR5RE9NID0gd2luZG93LlNoYWR5RE9NO1xuY29uc3QgU2hhZHlDU1MgPSB3aW5kb3cuU2hhZHlDU1M7XG5cbi8qKlxuICogUmV0dXJuIHRydWUgaWYgbm9kZSBzY29wZSBpcyBjb3JyZWN0LlxuICpcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IG5vZGUgTm9kZSB0byBjaGVjayBzY29wZVxuICogQHBhcmFtIHshTm9kZX0gc2NvcGUgU2NvcGUgcmVmZXJlbmNlXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIG5vZGUgaXMgaW4gc2NvcGVcbiAqL1xuZnVuY3Rpb24gc2FtZVNjb3BlKG5vZGUsIHNjb3BlKSB7XG4gIHJldHVybiB3cmFwKG5vZGUpLmdldFJvb3ROb2RlKCkgPT09IHNjb3BlO1xufVxuXG4vKipcbiAqIEVuc3VyZSB0aGF0IGVsZW1lbnRzIGluIGEgU2hhZG93RE9NIGNvbnRhaW5lciBhcmUgc2NvcGVkIGNvcnJlY3RseS5cbiAqIFRoaXMgZnVuY3Rpb24gaXMgb25seSBuZWVkZWQgd2hlbiBTaGFkeURPTSBpcyB1c2VkIGFuZCB1bnBhdGNoZWQgRE9NIEFQSXMgYXJlIHVzZWQgaW4gdGhpcmQgcGFydHkgY29kZS5cbiAqIFRoaXMgY2FuIGhhcHBlbiBpbiBub1BhdGNoIG1vZGUgb3Igd2hlbiBzcGVjaWFsaXplZCBBUElzIGxpa2UgcmFuZ2VzIG9yIHRhYmxlcyBhcmUgdXNlZCB0byBtdXRhdGUgRE9NLlxuICpcbiAqIEBwYXJhbSAgeyFFbGVtZW50fSBjb250YWluZXIgQ29udGFpbmVyIGVsZW1lbnQgdG8gc2NvcGVcbiAqIEBwYXJhbSAge2Jvb2xlYW49fSBzaG91bGRPYnNlcnZlIGlmIHRydWUsIHN0YXJ0IGEgbXV0YXRpb24gb2JzZXJ2ZXIgZm9yIGFkZGVkIG5vZGVzIHRvIHRoZSBjb250YWluZXJcbiAqIEByZXR1cm4gez9NdXRhdGlvbk9ic2VydmVyfSBSZXR1cm5zIGEgbmV3IE11dGF0aW9uT2JzZXJ2ZXIgb24gYGNvbnRhaW5lcmAgaWYgYHNob3VsZE9ic2VydmVgIGlzIHRydWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY29wZVN1YnRyZWUoY29udGFpbmVyLCBzaG91bGRPYnNlcnZlID0gZmFsc2UpIHtcbiAgLy8gSWYgdXNpbmcgbmF0aXZlIFNoYWRvd0RPTSwgYWJvcnRcbiAgaWYgKCFTaGFkeURPTSB8fCAhU2hhZHlDU1MpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICAvLyBTaGFkeUNTUyBoYW5kbGVzIERPTSBtdXRhdGlvbnMgd2hlbiBTaGFkeURPTSBkb2VzIG5vdCBoYW5kbGUgc2NvcGluZyBpdHNlbGZcbiAgaWYgKCFTaGFkeURPTVsnaGFuZGxlc0R5bmFtaWNTY29waW5nJ10pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBTY29waW5nU2hpbSA9IFNoYWR5Q1NTWydTY29waW5nU2hpbSddO1xuICAvLyBpZiBTY29waW5nU2hpbSBpcyBub3QgYXZhaWxhYmxlLCBhYm9ydFxuICBpZiAoIVNjb3BpbmdTaGltKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgLy8gY2FwdHVyZSBjb3JyZWN0IHNjb3BlIGZvciBjb250YWluZXJcbiAgY29uc3QgY29udGFpbmVyU2NvcGUgPSBTY29waW5nU2hpbVsnc2NvcGVGb3JOb2RlJ10oY29udGFpbmVyKTtcbiAgY29uc3Qgcm9vdCA9IHdyYXAoY29udGFpbmVyKS5nZXRSb290Tm9kZSgpO1xuXG4gIGNvbnN0IHNjb3BpZnkgPSAobm9kZSkgPT4ge1xuICAgIGlmICghc2FtZVNjb3BlKG5vZGUsIHJvb3QpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIE5PVEU6IG5hdGl2ZSBxU0EgZG9lcyBub3QgaG9ub3Igc2NvcGVkIERPTSwgYnV0IGl0IGlzIGZhc3RlciwgYW5kIHRoZSBzYW1lIGJlaGF2aW9yIGFzIFBvbHltZXIgdjFcbiAgICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oU2hhZHlET01bJ25hdGl2ZU1ldGhvZHMnXVsncXVlcnlTZWxlY3RvckFsbCddLmNhbGwobm9kZSwgJyonKSk7XG4gICAgZWxlbWVudHMucHVzaChub2RlKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBlbCA9IGVsZW1lbnRzW2ldO1xuICAgICAgaWYgKCFzYW1lU2NvcGUoZWwsIHJvb3QpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgY3VycmVudFNjb3BlID0gU2NvcGluZ1NoaW1bJ2N1cnJlbnRTY29wZUZvck5vZGUnXShlbCk7XG4gICAgICBpZiAoY3VycmVudFNjb3BlICE9PSBjb250YWluZXJTY29wZSkge1xuICAgICAgICBpZiAoY3VycmVudFNjb3BlICE9PSAnJykge1xuICAgICAgICAgIFNjb3BpbmdTaGltWyd1bnNjb3BlTm9kZSddKGVsLCBjdXJyZW50U2NvcGUpO1xuICAgICAgICB9XG4gICAgICAgIFNjb3BpbmdTaGltWydzY29wZU5vZGUnXShlbCwgY29udGFpbmVyU2NvcGUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBzY29wZSBldmVyeXRoaW5nIGluIGNvbnRhaW5lclxuICBzY29waWZ5KGNvbnRhaW5lcik7XG5cbiAgaWYgKHNob3VsZE9ic2VydmUpIHtcbiAgICBjb25zdCBtbyA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChteG5zKSA9PiB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG14bnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgbXhuID0gbXhuc1tpXTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBteG4uYWRkZWROb2Rlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGNvbnN0IGFkZGVkTm9kZSA9IG14bi5hZGRlZE5vZGVzW2pdO1xuICAgICAgICAgIGlmIChhZGRlZE5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICBzY29waWZ5KGFkZGVkTm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgbW8ub2JzZXJ2ZShjb250YWluZXIsIHtjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWV9KTtcbiAgICByZXR1cm4gbW87XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICdAd2ViY29tcG9uZW50cy9zaGFkeWNzcy9lbnRyeXBvaW50cy9hcHBseS1zaGltLmpzJztcbmltcG9ydCB7IEVsZW1lbnRNaXhpbiB9IGZyb20gJy4uL21peGlucy9lbGVtZW50LW1peGluLmpzJztcbmltcG9ydCB7IEdlc3R1cmVFdmVudExpc3RlbmVycyB9IGZyb20gJy4uL21peGlucy9nZXN0dXJlLWV2ZW50LWxpc3RlbmVycy5qcyc7XG5pbXBvcnQgeyBEaXJNaXhpbiB9IGZyb20gJy4uL21peGlucy9kaXItbWl4aW4uanMnO1xuaW1wb3J0IHsgZGVkdXBpbmdNaXhpbiB9IGZyb20gJy4uL3V0aWxzL21peGluLmpzJztcbmltcG9ydCAnLi4vdXRpbHMvcmVuZGVyLXN0YXR1cy5qcyc7XG5pbXBvcnQgJy4uL3V0aWxzL3VucmVzb2x2ZWQuanMnO1xuaW1wb3J0IHsgZG9tLCBtYXRjaGVzU2VsZWN0b3IgfSBmcm9tICcuL3BvbHltZXIuZG9tLmpzJztcbmltcG9ydCB7IHNldFRvdWNoQWN0aW9uIH0gZnJvbSAnLi4vdXRpbHMvZ2VzdHVyZXMuanMnO1xuaW1wb3J0IHsgRGVib3VuY2VyIH0gZnJvbSAnLi4vdXRpbHMvZGVib3VuY2UuanMnO1xuaW1wb3J0IHsgdGltZU91dCwgbWljcm9UYXNrIH0gZnJvbSAnLi4vdXRpbHMvYXN5bmMuanMnO1xuaW1wb3J0IHsgZ2V0IH0gZnJvbSAnLi4vdXRpbHMvcGF0aC5qcyc7XG5pbXBvcnQgeyB3cmFwIH0gZnJvbSAnLi4vdXRpbHMvd3JhcC5qcyc7XG5pbXBvcnQgeyBzY29wZVN1YnRyZWUgfSBmcm9tICcuLi91dGlscy9zY29wZS1zdWJ0cmVlLmpzJztcblxubGV0IHN0eWxlSW50ZXJmYWNlID0gd2luZG93LlNoYWR5Q1NTO1xuXG4vKipcbiAqIEVsZW1lbnQgY2xhc3MgbWl4aW4gdGhhdCBwcm92aWRlcyBQb2x5bWVyJ3MgXCJsZWdhY3lcIiBBUEkgaW50ZW5kZWQgdG8gYmVcbiAqIGJhY2t3YXJkLWNvbXBhdGlibGUgdG8gdGhlIGdyZWF0ZXN0IGV4dGVudCBwb3NzaWJsZSB3aXRoIHRoZSBBUElcbiAqIGZvdW5kIG9uIHRoZSBQb2x5bWVyIDEueCBgUG9seW1lci5CYXNlYCBwcm90b3R5cGUgYXBwbGllZCB0byBhbGwgZWxlbWVudHNcbiAqIGRlZmluZWQgdXNpbmcgdGhlIGBQb2x5bWVyKHsuLi59KWAgZnVuY3Rpb24uXG4gKlxuICogQG1peGluRnVuY3Rpb25cbiAqIEBwb2x5bWVyXG4gKiBAYXBwbGllc01peGluIEVsZW1lbnRNaXhpblxuICogQGFwcGxpZXNNaXhpbiBHZXN0dXJlRXZlbnRMaXN0ZW5lcnNcbiAqIEBwcm9wZXJ0eSBpc0F0dGFjaGVkIHtib29sZWFufSBTZXQgdG8gYHRydWVgIGluIHRoaXMgZWxlbWVudCdzXG4gKiAgIGBjb25uZWN0ZWRDYWxsYmFja2AgYW5kIGBmYWxzZWAgaW4gYGRpc2Nvbm5lY3RlZENhbGxiYWNrYFxuICogQHN1bW1hcnkgRWxlbWVudCBjbGFzcyBtaXhpbiB0aGF0IHByb3ZpZGVzIFBvbHltZXIncyBcImxlZ2FjeVwiIEFQSVxuICovXG5leHBvcnQgY29uc3QgTGVnYWN5RWxlbWVudE1peGluID0gZGVkdXBpbmdNaXhpbigoYmFzZSkgPT4ge1xuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX0VsZW1lbnRNaXhpbn1cbiAgICogQGltcGxlbWVudHMge1BvbHltZXJfR2VzdHVyZUV2ZW50TGlzdGVuZXJzfVxuICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9EaXJNaXhpbn1cbiAgICogQGV4dGVuZHMge0hUTUxFbGVtZW50fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29uc3QgbGVnYWN5RWxlbWVudEJhc2UgPSBEaXJNaXhpbihHZXN0dXJlRXZlbnRMaXN0ZW5lcnMoRWxlbWVudE1peGluKGJhc2UpKSk7XG5cbiAgLyoqXG4gICAqIE1hcCBvZiBzaW1wbGUgbmFtZXMgdG8gdG91Y2ggYWN0aW9uIG5hbWVzXG4gICAqIEBkaWN0XG4gICAqL1xuICBjb25zdCBESVJFQ1RJT05fTUFQID0ge1xuICAgICd4JzogJ3Bhbi14JyxcbiAgICAneSc6ICdwYW4teScsXG4gICAgJ25vbmUnOiAnbm9uZScsXG4gICAgJ2FsbCc6ICdhdXRvJ1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcG9seW1lclxuICAgKiBAbWl4aW5DbGFzc1xuICAgKiBAZXh0ZW5kcyB7bGVnYWN5RWxlbWVudEJhc2V9XG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX0xlZ2FjeUVsZW1lbnRNaXhpbn1cbiAgICogQHVucmVzdHJpY3RlZFxuICAgKi9cbiAgY2xhc3MgTGVnYWN5RWxlbWVudCBleHRlbmRzIGxlZ2FjeUVsZW1lbnRCYXNlIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIoKTtcbiAgICAgIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cbiAgICAgIHRoaXMuaXNBdHRhY2hlZDtcbiAgICAgIC8qKiBAdHlwZSB7P1dlYWtNYXA8IUVsZW1lbnQsICFPYmplY3Q8c3RyaW5nLCAhRnVuY3Rpb24+Pn0gKi9cbiAgICAgIHRoaXMuX19ib3VuZExpc3RlbmVycztcbiAgICAgIC8qKiBAdHlwZSB7P09iamVjdDxzdHJpbmcsID9GdW5jdGlvbj59ICovXG4gICAgICB0aGlzLl9kZWJvdW5jZXJzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZvcndhcmRzIGBpbXBvcnRNZXRhYCBmcm9tIHRoZSBwcm90b3R5cGUgKGkuZS4gZnJvbSB0aGUgaW5mbyBvYmplY3RcbiAgICAgKiBwYXNzZWQgdG8gYFBvbHltZXIoey4uLn0pYCkgdG8gdGhlIHN0YXRpYyBBUEkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHshT2JqZWN0fSBUaGUgYGltcG9ydC5tZXRhYCBvYmplY3Qgc2V0IG9uIHRoZSBwcm90b3R5cGVcbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBgdGhpc2AgaXMgYWx3YXlzIGluIHRoZSBpbnN0YW5jZSBpblxuICAgICAqICBjbG9zdXJlIGZvciBzb21lIHJlYXNvbiBldmVuIGluIGEgc3RhdGljIG1ldGhvZCwgcmF0aGVyIHRoYW4gdGhlIGNsYXNzXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IGltcG9ydE1ldGEoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm90b3R5cGUuaW1wb3J0TWV0YTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMZWdhY3kgY2FsbGJhY2sgY2FsbGVkIGR1cmluZyB0aGUgYGNvbnN0cnVjdG9yYCwgZm9yIG92ZXJyaWRpbmdcbiAgICAgKiBieSB0aGUgdXNlci5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGNyZWF0ZWQoKSB7fVxuXG4gICAgLyoqXG4gICAgICogUHJvdmlkZXMgYW4gaW1wbGVtZW50YXRpb24gb2YgYGNvbm5lY3RlZENhbGxiYWNrYFxuICAgICAqIHdoaWNoIGFkZHMgUG9seW1lciBsZWdhY3kgQVBJJ3MgYGF0dGFjaGVkYCBtZXRob2QuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICB0aGlzLmlzQXR0YWNoZWQgPSB0cnVlO1xuICAgICAgdGhpcy5hdHRhY2hlZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExlZ2FjeSBjYWxsYmFjayBjYWxsZWQgZHVyaW5nIGBjb25uZWN0ZWRDYWxsYmFja2AsIGZvciBvdmVycmlkaW5nXG4gICAgICogYnkgdGhlIHVzZXIuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBhdHRhY2hlZCgpIHt9XG5cbiAgICAvKipcbiAgICAgKiBQcm92aWRlcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiBgZGlzY29ubmVjdGVkQ2FsbGJhY2tgXG4gICAgICogd2hpY2ggYWRkcyBQb2x5bWVyIGxlZ2FjeSBBUEkncyBgZGV0YWNoZWRgIG1ldGhvZC5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgIHRoaXMuaXNBdHRhY2hlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5kZXRhY2hlZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExlZ2FjeSBjYWxsYmFjayBjYWxsZWQgZHVyaW5nIGBkaXNjb25uZWN0ZWRDYWxsYmFja2AsIGZvciBvdmVycmlkaW5nXG4gICAgICogYnkgdGhlIHVzZXIuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBkZXRhY2hlZCgpIHt9XG5cbiAgICAvKipcbiAgICAgKiBQcm92aWRlcyBhbiBvdmVycmlkZSBpbXBsZW1lbnRhdGlvbiBvZiBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYFxuICAgICAqIHdoaWNoIGFkZHMgdGhlIFBvbHltZXIgbGVnYWN5IEFQSSdzIGBhdHRyaWJ1dGVDaGFuZ2VkYCBtZXRob2QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiBhdHRyaWJ1dGUuXG4gICAgICogQHBhcmFtIHs/c3RyaW5nfSBvbGQgT2xkIHZhbHVlIG9mIGF0dHJpYnV0ZS5cbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IHZhbHVlIEN1cnJlbnQgdmFsdWUgb2YgYXR0cmlidXRlLlxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gbmFtZXNwYWNlIEF0dHJpYnV0ZSBuYW1lc3BhY2UuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkLCB2YWx1ZSwgbmFtZXNwYWNlKSB7XG4gICAgICBpZiAob2xkICE9PSB2YWx1ZSkge1xuICAgICAgICBzdXBlci5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkLCB2YWx1ZSwgbmFtZXNwYWNlKTtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVDaGFuZ2VkKG5hbWUsIG9sZCwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExlZ2FjeSBjYWxsYmFjayBjYWxsZWQgZHVyaW5nIGBhdHRyaWJ1dGVDaGFuZ2VkQ2hhbGxiYWNrYCwgZm9yIG92ZXJyaWRpbmdcbiAgICAgKiBieSB0aGUgdXNlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIG9mIGF0dHJpYnV0ZS5cbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IG9sZCBPbGQgdmFsdWUgb2YgYXR0cmlidXRlLlxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gdmFsdWUgQ3VycmVudCB2YWx1ZSBvZiBhdHRyaWJ1dGUuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBhdHRyaWJ1dGVDaGFuZ2VkKG5hbWUsIG9sZCwgdmFsdWUpIHt9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyB0aGUgZGVmYXVsdCBgUG9seW1lci5Qcm9wZXJ0eUVmZmVjdHNgIGltcGxlbWVudGF0aW9uIHRvXG4gICAgICogYWRkIHN1cHBvcnQgZm9yIGNsYXNzIGluaXRpYWxpemF0aW9uIHZpYSB0aGUgYF9yZWdpc3RlcmVkYCBjYWxsYmFjay5cbiAgICAgKiBUaGlzIGlzIGNhbGxlZCBvbmx5IHdoZW4gdGhlIGZpcnN0IGluc3RhbmNlIG9mIHRoZSBlbGVtZW50IGlzIGNyZWF0ZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBzdXBwcmVzcyB7aW52YWxpZENhc3RzfVxuICAgICAqL1xuICAgIF9pbml0aWFsaXplUHJvcGVydGllcygpIHtcbiAgICAgIGxldCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKTtcbiAgICAgIGlmICghcHJvdG8uaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX19oYXNSZWdpc3RlckZpbmlzaGVkJywgcHJvdG8pKSkge1xuICAgICAgICB0aGlzLl9yZWdpc3RlcmVkKCk7XG4gICAgICAgIC8vIGJhY2tzdG9wIGluIGNhc2UgdGhlIGBfcmVnaXN0ZXJlZGAgaW1wbGVtZW50YXRpb24gZG9lcyBub3Qgc2V0IHRoaXNcbiAgICAgICAgcHJvdG8uX19oYXNSZWdpc3RlckZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHN1cGVyLl9pbml0aWFsaXplUHJvcGVydGllcygpO1xuICAgICAgdGhpcy5yb290ID0gLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi8odGhpcyk7XG4gICAgICB0aGlzLmNyZWF0ZWQoKTtcbiAgICAgIC8vIEVuc3VyZSBsaXN0ZW5lcnMgYXJlIGFwcGxpZWQgaW1tZWRpYXRlbHkgc28gdGhhdCB0aGV5IGFyZVxuICAgICAgLy8gYWRkZWQgYmVmb3JlIGRlY2xhcmF0aXZlIGV2ZW50IGxpc3RlbmVycy4gVGhpcyBhbGxvd3MgYW4gZWxlbWVudCB0b1xuICAgICAgLy8gZGVjb3JhdGUgaXRzZWxmIHZpYSBhbiBldmVudCBwcmlvciB0byBhbnkgZGVjbGFyYXRpdmUgbGlzdGVuZXJzXG4gICAgICAvLyBzZWVpbmcgdGhlIGV2ZW50LiBOb3RlLCB0aGlzIGVuc3VyZXMgY29tcGF0aWJpbGl0eSB3aXRoIDEueCBvcmRlcmluZy5cbiAgICAgIHRoaXMuX2FwcGx5TGlzdGVuZXJzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGF1dG9tYXRpY2FsbHkgd2hlbiBhbiBlbGVtZW50IGlzIGluaXRpYWxpemluZy5cbiAgICAgKiBVc2VycyBtYXkgb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gcGVyZm9ybSBjbGFzcyByZWdpc3RyYXRpb24gdGltZVxuICAgICAqIHdvcmsuIFRoZSBpbXBsZW1lbnRhdGlvbiBzaG91bGQgZW5zdXJlIHRoZSB3b3JrIGlzIHBlcmZvcm1lZFxuICAgICAqIG9ubHkgb25jZSBmb3IgdGhlIGNsYXNzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9yZWdpc3RlcmVkKCkge31cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyB0aGUgZGVmYXVsdCBgUG9seW1lci5Qcm9wZXJ0eUVmZmVjdHNgIGltcGxlbWVudGF0aW9uIHRvXG4gICAgICogYWRkIHN1cHBvcnQgZm9yIGluc3RhbGxpbmcgYGhvc3RBdHRyaWJ1dGVzYCBhbmQgYGxpc3RlbmVyc2AuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHJlYWR5KCkge1xuICAgICAgdGhpcy5fZW5zdXJlQXR0cmlidXRlcygpO1xuICAgICAgc3VwZXIucmVhZHkoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbnN1cmVzIGFuIGVsZW1lbnQgaGFzIHJlcXVpcmVkIGF0dHJpYnV0ZXMuIENhbGxlZCB3aGVuIHRoZSBlbGVtZW50XG4gICAgICogaXMgYmVpbmcgcmVhZGllZCB2aWEgYHJlYWR5YC4gVXNlcnMgc2hvdWxkIG92ZXJyaWRlIHRvIHNldCB0aGVcbiAgICAgKiBlbGVtZW50J3MgcmVxdWlyZWQgYXR0cmlidXRlcy4gVGhlIGltcGxlbWVudGF0aW9uIHNob3VsZCBiZSBzdXJlXG4gICAgICogdG8gY2hlY2sgYW5kIG5vdCBvdmVycmlkZSBleGlzdGluZyBhdHRyaWJ1dGVzIGFkZGVkIGJ5XG4gICAgICogdGhlIHVzZXIgb2YgdGhlIGVsZW1lbnQuIFR5cGljYWxseSwgc2V0dGluZyBhdHRyaWJ1dGVzIHNob3VsZCBiZSBsZWZ0XG4gICAgICogdG8gdGhlIGVsZW1lbnQgdXNlciBhbmQgbm90IGRvbmUgaGVyZTsgcmVhc29uYWJsZSBleGNlcHRpb25zIGluY2x1ZGVcbiAgICAgKiBzZXR0aW5nIGFyaWEgcm9sZXMgYW5kIGZvY3VzYWJpbGl0eS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfZW5zdXJlQXR0cmlidXRlcygpIHt9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGVsZW1lbnQgZXZlbnQgbGlzdGVuZXJzLiBDYWxsZWQgd2hlbiB0aGUgZWxlbWVudFxuICAgICAqIGlzIGJlaW5nIHJlYWRpZWQgdmlhIGByZWFkeWAuIFVzZXJzIHNob3VsZCBvdmVycmlkZSB0b1xuICAgICAqIGFkZCBhbnkgcmVxdWlyZWQgZWxlbWVudCBldmVudCBsaXN0ZW5lcnMuXG4gICAgICogSW4gcGVyZm9ybWFuY2UgY3JpdGljYWwgZWxlbWVudHMsIHRoZSB3b3JrIGRvbmUgaGVyZSBzaG91bGQgYmUga2VwdFxuICAgICAqIHRvIGEgbWluaW11bSBzaW5jZSBpdCBpcyBkb25lIGJlZm9yZSB0aGUgZWxlbWVudCBpcyByZW5kZXJlZC4gSW5cbiAgICAgKiB0aGVzZSBlbGVtZW50cywgY29uc2lkZXIgYWRkaW5nIGxpc3RlbmVycyBhc3luY2hyb25vdXNseSBzbyBhcyBub3QgdG9cbiAgICAgKiBibG9jayByZW5kZXIuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2FwcGx5TGlzdGVuZXJzKCkge31cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGEgdHlwZWQgSmF2YVNjcmlwdCB2YWx1ZSB0byBhIHN0cmluZy5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhpcyBtZXRob2QgaXMgcHJvdmlkZWQgYXMgYmFja3dhcmQtY29tcGF0aWJsZSBsZWdhY3kgQVBJXG4gICAgICogb25seS4gIEl0IGlzIG5vdCBkaXJlY3RseSBjYWxsZWQgYnkgYW55IFBvbHltZXIgZmVhdHVyZXMuIFRvIGN1c3RvbWl6ZVxuICAgICAqIGhvdyBwcm9wZXJ0aWVzIGFyZSBzZXJpYWxpemVkIHRvIGF0dHJpYnV0ZXMgZm9yIGF0dHJpYnV0ZSBiaW5kaW5ncyBhbmRcbiAgICAgKiBgcmVmbGVjdFRvQXR0cmlidXRlOiB0cnVlYCBwcm9wZXJ0aWVzIGFzIHdlbGwgYXMgdGhpcyBtZXRob2QsIG92ZXJyaWRlXG4gICAgICogdGhlIGBfc2VyaWFsaXplVmFsdWVgIG1ldGhvZCBwcm92aWRlZCBieSBgUG9seW1lci5Qcm9wZXJ0eUFjY2Vzc29yc2AuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIGRlc2VyaWFsaXplXG4gICAgICogQHJldHVybiB7c3RyaW5nIHwgdW5kZWZpbmVkfSBTZXJpYWxpemVkIHZhbHVlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgc2VyaWFsaXplKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2VyaWFsaXplVmFsdWUodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGEgc3RyaW5nIHRvIGEgdHlwZWQgSmF2YVNjcmlwdCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhpcyBtZXRob2QgaXMgcHJvdmlkZWQgYXMgYmFja3dhcmQtY29tcGF0aWJsZSBsZWdhY3kgQVBJXG4gICAgICogb25seS4gIEl0IGlzIG5vdCBkaXJlY3RseSBjYWxsZWQgYnkgYW55IFBvbHltZXIgZmVhdHVyZXMuICBUbyBjdXN0b21pemVcbiAgICAgKiBob3cgYXR0cmlidXRlcyBhcmUgZGVzZXJpYWxpemVkIHRvIHByb3BlcnRpZXMgZm9yIGluXG4gICAgICogYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2AsIG92ZXJyaWRlIGBfZGVzZXJpYWxpemVWYWx1ZWAgbWV0aG9kXG4gICAgICogcHJvdmlkZWQgYnkgYFBvbHltZXIuUHJvcGVydHlBY2Nlc3NvcnNgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIFN0cmluZyB0byBkZXNlcmlhbGl6ZVxuICAgICAqIEBwYXJhbSB7Kn0gdHlwZSBUeXBlIHRvIGRlc2VyaWFsaXplIHRoZSBzdHJpbmcgdG9cbiAgICAgKiBAcmV0dXJuIHsqfSBSZXR1cm5zIHRoZSBkZXNlcmlhbGl6ZWQgdmFsdWUgaW4gdGhlIGB0eXBlYCBnaXZlbi5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBkZXNlcmlhbGl6ZSh2YWx1ZSwgdHlwZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2Rlc2VyaWFsaXplVmFsdWUodmFsdWUsIHR5cGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZXMgYSBwcm9wZXJ0eSB0byBpdHMgYXNzb2NpYXRlZCBhdHRyaWJ1dGUuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoaXMgbWV0aG9kIGlzIHByb3ZpZGVkIGFzIGJhY2t3YXJkLWNvbXBhdGlibGUgbGVnYWN5IEFQSVxuICAgICAqIG9ubHkuICBJdCBpcyBub3QgZGlyZWN0bHkgY2FsbGVkIGJ5IGFueSBQb2x5bWVyIGZlYXR1cmVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWUgdG8gcmVmbGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGF0dHJpYnV0ZSBBdHRyaWJ1dGUgbmFtZSB0byByZWZsZWN0LlxuICAgICAqIEBwYXJhbSB7Kj19IHZhbHVlIFByb3BlcnR5IHZhbHVlIHRvIHJlZmxlY3QuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICByZWZsZWN0UHJvcGVydHlUb0F0dHJpYnV0ZShwcm9wZXJ0eSwgYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgICAgdGhpcy5fcHJvcGVydHlUb0F0dHJpYnV0ZShwcm9wZXJ0eSwgYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBhIHR5cGVkIHZhbHVlIHRvIGFuIEhUTUwgYXR0cmlidXRlIG9uIGEgbm9kZS5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhpcyBtZXRob2QgaXMgcHJvdmlkZWQgYXMgYmFja3dhcmQtY29tcGF0aWJsZSBsZWdhY3kgQVBJXG4gICAgICogb25seS4gIEl0IGlzIG5vdCBkaXJlY3RseSBjYWxsZWQgYnkgYW55IFBvbHltZXIgZmVhdHVyZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIHNlcmlhbGl6ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlIEF0dHJpYnV0ZSBuYW1lIHRvIHNlcmlhbGl6ZSB0by5cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGUgRWxlbWVudCB0byBzZXQgYXR0cmlidXRlIHRvLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgc2VyaWFsaXplVmFsdWVUb0F0dHJpYnV0ZSh2YWx1ZSwgYXR0cmlidXRlLCBub2RlKSB7XG4gICAgICB0aGlzLl92YWx1ZVRvTm9kZUF0dHJpYnV0ZSgvKiogQHR5cGUge0VsZW1lbnR9ICovIChub2RlIHx8IHRoaXMpLCB2YWx1ZSwgYXR0cmlidXRlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgb3duIHByb3BlcnRpZXMgKGluY2x1ZGluZyBhY2Nlc3NvciBkZXNjcmlwdG9ycykgZnJvbSBhIHNvdXJjZVxuICAgICAqIG9iamVjdCB0byBhIHRhcmdldCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG90eXBlIFRhcmdldCBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIHRvLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhcGkgU291cmNlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbS5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHByb3RvdHlwZSBvYmplY3QgdGhhdCB3YXMgcGFzc2VkIGFzIGZpcnN0IGFyZ3VtZW50LlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGV4dGVuZChwcm90b3R5cGUsIGFwaSkge1xuICAgICAgaWYgKCEocHJvdG90eXBlICYmIGFwaSkpIHtcbiAgICAgICAgcmV0dXJuIHByb3RvdHlwZSB8fCBhcGk7XG4gICAgICB9XG4gICAgICBsZXQgbiQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhcGkpO1xuICAgICAgZm9yIChsZXQgaT0wLCBuOyAoaTxuJC5sZW5ndGgpICYmIChuPW4kW2ldKTsgaSsrKSB7XG4gICAgICAgIGxldCBwZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYXBpLCBuKTtcbiAgICAgICAgaWYgKHBkKSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvdHlwZSwgbiwgcGQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvdG90eXBlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBwcm9wcyBmcm9tIGEgc291cmNlIG9iamVjdCB0byBhIHRhcmdldCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBOb3RlLCB0aGlzIG1ldGhvZCB1c2VzIGEgc2ltcGxlIGBmb3IuLi5pbmAgc3RyYXRlZ3kgZm9yIGVudW1lcmF0aW5nXG4gICAgICogcHJvcGVydGllcy4gIFRvIGVuc3VyZSBvbmx5IGBvd25Qcm9wZXJ0aWVzYCBhcmUgY29waWVkIGZyb20gc291cmNlXG4gICAgICogdG8gdGFyZ2V0IGFuZCB0aGF0IGFjY2Vzc29yIGltcGxlbWVudGF0aW9ucyBhcmUgY29waWVkLCB1c2UgYGV4dGVuZGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFPYmplY3R9IHRhcmdldCBUYXJnZXQgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0by5cbiAgICAgKiBAcGFyYW0geyFPYmplY3R9IHNvdXJjZSBTb3VyY2Ugb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICAgICAqIEByZXR1cm4geyFPYmplY3R9IFRhcmdldCBvYmplY3QgdGhhdCB3YXMgcGFzc2VkIGFzIGZpcnN0IGFyZ3VtZW50LlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIG1peGluKHRhcmdldCwgc291cmNlKSB7XG4gICAgICBmb3IgKGxldCBpIGluIHNvdXJjZSkge1xuICAgICAgICB0YXJnZXRbaV0gPSBzb3VyY2VbaV07XG4gICAgICB9XG4gICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHByb3RvdHlwZSBvZiBhbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoaXMgbWV0aG9kIGlzIHByb3ZpZGVkIGFzIGJhY2t3YXJkLWNvbXBhdGlibGUgbGVnYWN5IEFQSVxuICAgICAqIG9ubHkuICBJdCBpcyBub3QgZGlyZWN0bHkgY2FsbGVkIGJ5IGFueSBQb2x5bWVyIGZlYXR1cmVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCBvbiB3aGljaCB0byBzZXQgdGhlIHByb3RvdHlwZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG90eXBlIFRoZSBwcm90b3R5cGUgdGhhdCB3aWxsIGJlIHNldCBvbiB0aGUgZ2l2ZW5cbiAgICAgKiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFJldHVybnMgdGhlIGdpdmVuIGBvYmplY3RgIHdpdGggaXRzIHByb3RvdHlwZSBzZXRcbiAgICAgKiB0byB0aGUgZ2l2ZW4gYHByb3RvdHlwZWAgb2JqZWN0LlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGNoYWluT2JqZWN0KG9iamVjdCwgcHJvdG90eXBlKSB7XG4gICAgICBpZiAob2JqZWN0ICYmIHByb3RvdHlwZSAmJiBvYmplY3QgIT09IHByb3RvdHlwZSkge1xuICAgICAgICBvYmplY3QuX19wcm90b19fID0gcHJvdG90eXBlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKiAqKioqIEJlZ2luIFRlbXBsYXRlICoqKiogKi9cblxuICAgIC8qKlxuICAgICAqIENhbGxzIGBpbXBvcnROb2RlYCBvbiB0aGUgYGNvbnRlbnRgIG9mIHRoZSBgdGVtcGxhdGVgIHNwZWNpZmllZCBhbmRcbiAgICAgKiByZXR1cm5zIGEgZG9jdW1lbnQgZnJhZ21lbnQgY29udGFpbmluZyB0aGUgaW1wb3J0ZWQgY29udGVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGUgSFRNTCB0ZW1wbGF0ZSBlbGVtZW50IHRvIGluc3RhbmNlLlxuICAgICAqIEByZXR1cm4geyFEb2N1bWVudEZyYWdtZW50fSBEb2N1bWVudCBmcmFnbWVudCBjb250YWluaW5nIHRoZSBpbXBvcnRlZFxuICAgICAqICAgdGVtcGxhdGUgY29udGVudC5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBnby9taXNzaW5nZm5wcm9wc1xuICAgICAqL1xuICAgIGluc3RhbmNlVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgIGxldCBjb250ZW50ID0gdGhpcy5jb25zdHJ1Y3Rvci5fY29udGVudEZvclRlbXBsYXRlKHRlbXBsYXRlKTtcbiAgICAgIGxldCBkb20gPSAvKiogQHR5cGUgeyFEb2N1bWVudEZyYWdtZW50fSAqL1xuICAgICAgICAoZG9jdW1lbnQuaW1wb3J0Tm9kZShjb250ZW50LCB0cnVlKSk7XG4gICAgICByZXR1cm4gZG9tO1xuICAgIH1cblxuICAgIC8qICoqKiogQmVnaW4gRXZlbnRzICoqKiogKi9cblxuXG5cbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVzIGEgY3VzdG9tIGV2ZW50IHdpdGggYW4gb3B0aW9uYWwgZGV0YWlsIHZhbHVlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgTmFtZSBvZiBldmVudCB0eXBlLlxuICAgICAqIEBwYXJhbSB7Kj19IGRldGFpbCBEZXRhaWwgdmFsdWUgY29udGFpbmluZyBldmVudC1zcGVjaWZpY1xuICAgICAqICAgcGF5bG9hZC5cbiAgICAgKiBAcGFyYW0ge3sgYnViYmxlczogKGJvb2xlYW58dW5kZWZpbmVkKSwgY2FuY2VsYWJsZTogKGJvb2xlYW58dW5kZWZpbmVkKSxcbiAgICAgKiAgICAgY29tcG9zZWQ6IChib29sZWFufHVuZGVmaW5lZCkgfT19XG4gICAgICogIG9wdGlvbnMgT2JqZWN0IHNwZWNpZnlpbmcgb3B0aW9ucy4gIFRoZXNlIG1heSBpbmNsdWRlOlxuICAgICAqICBgYnViYmxlc2AgKGJvb2xlYW4sIGRlZmF1bHRzIHRvIGB0cnVlYCksXG4gICAgICogIGBjYW5jZWxhYmxlYCAoYm9vbGVhbiwgZGVmYXVsdHMgdG8gZmFsc2UpLCBhbmRcbiAgICAgKiAgYG5vZGVgIG9uIHdoaWNoIHRvIGZpcmUgdGhlIGV2ZW50IChIVE1MRWxlbWVudCwgZGVmYXVsdHMgdG8gYHRoaXNgKS5cbiAgICAgKiBAcmV0dXJuIHshRXZlbnR9IFRoZSBuZXcgZXZlbnQgdGhhdCB3YXMgZmlyZWQuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgZmlyZSh0eXBlLCBkZXRhaWwsIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgZGV0YWlsID0gKGRldGFpbCA9PT0gbnVsbCB8fCBkZXRhaWwgPT09IHVuZGVmaW5lZCkgPyB7fSA6IGRldGFpbDtcbiAgICAgIGxldCBldmVudCA9IG5ldyBFdmVudCh0eXBlLCB7XG4gICAgICAgIGJ1YmJsZXM6IG9wdGlvbnMuYnViYmxlcyA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IG9wdGlvbnMuYnViYmxlcyxcbiAgICAgICAgY2FuY2VsYWJsZTogQm9vbGVhbihvcHRpb25zLmNhbmNlbGFibGUpLFxuICAgICAgICBjb21wb3NlZDogb3B0aW9ucy5jb21wb3NlZCA9PT0gdW5kZWZpbmVkID8gdHJ1ZTogb3B0aW9ucy5jb21wb3NlZFxuICAgICAgfSk7XG4gICAgICBldmVudC5kZXRhaWwgPSBkZXRhaWw7XG4gICAgICBsZXQgbm9kZSA9IG9wdGlvbnMubm9kZSB8fCB0aGlzO1xuICAgICAgd3JhcChub2RlKS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgIHJldHVybiBldmVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgdG8gYWRkIGFuIGV2ZW50IGxpc3RlbmVyIG9uIGEgZ2l2ZW4gZWxlbWVudCxcbiAgICAgKiBsYXRlIGJvdW5kIHRvIGEgbmFtZWQgbWV0aG9kIG9uIHRoaXMgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7P0V2ZW50VGFyZ2V0fSBub2RlIEVsZW1lbnQgdG8gYWRkIGV2ZW50IGxpc3RlbmVyIHRvLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgTmFtZSBvZiBldmVudCB0byBsaXN0ZW4gZm9yLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIE5hbWUgb2YgaGFuZGxlciBtZXRob2Qgb24gYHRoaXNgIHRvIGNhbGwuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBsaXN0ZW4obm9kZSwgZXZlbnROYW1lLCBtZXRob2ROYW1lKSB7XG4gICAgICBub2RlID0gLyoqIEB0eXBlIHshRXZlbnRUYXJnZXR9ICovIChub2RlIHx8IHRoaXMpO1xuICAgICAgbGV0IGhibCA9IHRoaXMuX19ib3VuZExpc3RlbmVycyB8fFxuICAgICAgICAodGhpcy5fX2JvdW5kTGlzdGVuZXJzID0gbmV3IFdlYWtNYXAoKSk7XG4gICAgICBsZXQgYmwgPSBoYmwuZ2V0KG5vZGUpO1xuICAgICAgaWYgKCFibCkge1xuICAgICAgICBibCA9IHt9O1xuICAgICAgICBoYmwuc2V0KG5vZGUsIGJsKTtcbiAgICAgIH1cbiAgICAgIGxldCBrZXkgPSBldmVudE5hbWUgKyBtZXRob2ROYW1lO1xuICAgICAgaWYgKCFibFtrZXldKSB7XG4gICAgICAgIGJsW2tleV0gPSB0aGlzLl9hZGRNZXRob2RFdmVudExpc3RlbmVyVG9Ob2RlKFxuICAgICAgICAgICAgLyoqIEB0eXBlIHshTm9kZX0gKi8gKG5vZGUpLCBldmVudE5hbWUsIG1ldGhvZE5hbWUsIHRoaXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCB0byByZW1vdmUgYW4gZXZlbnQgbGlzdGVuZXIgZnJvbSBhIGdpdmVuIGVsZW1lbnQsXG4gICAgICogbGF0ZSBib3VuZCB0byBhIG5hbWVkIG1ldGhvZCBvbiB0aGlzIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gez9FdmVudFRhcmdldH0gbm9kZSBFbGVtZW50IHRvIHJlbW92ZSBldmVudCBsaXN0ZW5lciBmcm9tLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgTmFtZSBvZiBldmVudCB0byBzdG9wIGxpc3RlbmluZyB0by5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBOYW1lIG9mIGhhbmRsZXIgbWV0aG9kIG9uIGB0aGlzYCB0byBub3QgY2FsbFxuICAgICBhbnltb3JlLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgdW5saXN0ZW4obm9kZSwgZXZlbnROYW1lLCBtZXRob2ROYW1lKSB7XG4gICAgICBub2RlID0gLyoqIEB0eXBlIHshRXZlbnRUYXJnZXR9ICovIChub2RlIHx8IHRoaXMpO1xuICAgICAgbGV0IGJsID0gdGhpcy5fX2JvdW5kTGlzdGVuZXJzICYmXG4gICAgICAgICAgdGhpcy5fX2JvdW5kTGlzdGVuZXJzLmdldCgvKiogQHR5cGUgeyFFbGVtZW50fSAqLyAobm9kZSkpO1xuICAgICAgbGV0IGtleSA9IGV2ZW50TmFtZSArIG1ldGhvZE5hbWU7XG4gICAgICBsZXQgaGFuZGxlciA9IGJsICYmIGJsW2tleV07XG4gICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICB0aGlzLl9yZW1vdmVFdmVudExpc3RlbmVyRnJvbU5vZGUoXG4gICAgICAgICAgICAvKiogQHR5cGUgeyFOb2RlfSAqLyAobm9kZSksIGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICAgIGJsW2tleV0gPSAvKiogQHR5cGUgez99ICovIChudWxsKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSBzY3JvbGxpbmcgYmVoYXZpb3IgdG8gYWxsIGRpcmVjdGlvbiwgb25lIGRpcmVjdGlvbiwgb3Igbm9uZS5cbiAgICAgKlxuICAgICAqIFZhbGlkIHNjcm9sbCBkaXJlY3Rpb25zOlxuICAgICAqICAgLSAnYWxsJzogc2Nyb2xsIGluIGFueSBkaXJlY3Rpb25cbiAgICAgKiAgIC0gJ3gnOiBzY3JvbGwgb25seSBpbiB0aGUgJ3gnIGRpcmVjdGlvblxuICAgICAqICAgLSAneSc6IHNjcm9sbCBvbmx5IGluIHRoZSAneScgZGlyZWN0aW9uXG4gICAgICogICAtICdub25lJzogZGlzYWJsZSBzY3JvbGxpbmcgZm9yIHRoaXMgbm9kZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBkaXJlY3Rpb24gRGlyZWN0aW9uIHRvIGFsbG93IHNjcm9sbGluZ1xuICAgICAqIERlZmF1bHRzIHRvIGBhbGxgLlxuICAgICAqIEBwYXJhbSB7RWxlbWVudD19IG5vZGUgRWxlbWVudCB0byBhcHBseSBzY3JvbGwgZGlyZWN0aW9uIHNldHRpbmcuXG4gICAgICogRGVmYXVsdHMgdG8gYHRoaXNgLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgc2V0U2Nyb2xsRGlyZWN0aW9uKGRpcmVjdGlvbiwgbm9kZSkge1xuICAgICAgc2V0VG91Y2hBY3Rpb24oXG4gICAgICAgICAgLyoqIEB0eXBlIHshRWxlbWVudH0gKi8gKG5vZGUgfHwgdGhpcyksXG4gICAgICAgICAgRElSRUNUSU9OX01BUFtkaXJlY3Rpb25dIHx8ICdhdXRvJyk7XG4gICAgfVxuICAgIC8qICoqKiogRW5kIEV2ZW50cyAqKioqICovXG5cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgdG8gcnVuIGBxdWVyeVNlbGVjdG9yYCBvbiB0aGlzIGxvY2FsIERPTSBzY29wZS5cbiAgICAgKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gY2FsbHMgYFBvbHltZXIuZG9tKHRoaXMucm9vdCkucXVlcnlTZWxlY3RvcihzbGN0cilgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNsY3RyIFNlbGVjdG9yIHRvIHJ1biBvbiB0aGlzIGxvY2FsIERPTSBzY29wZVxuICAgICAqIEByZXR1cm4ge0VsZW1lbnR9IEVsZW1lbnQgZm91bmQgYnkgdGhlIHNlbGVjdG9yLCBvciBudWxsIGlmIG5vdCBmb3VuZC5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICAkJChzbGN0cikge1xuICAgICAgLy8gTm90ZSwgbm8gbmVlZCB0byBgd3JhcGAgdGhpcyBiZWNhdXNlIHJvb3QgaXMgYWx3YXlzIHBhdGNoZWRcbiAgICAgIHJldHVybiB0aGlzLnJvb3QucXVlcnlTZWxlY3RvcihzbGN0cik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBlbGVtZW50IHdob3NlIGxvY2FsIGRvbSB3aXRoaW4gd2hpY2ggdGhpcyBlbGVtZW50XG4gICAgICogaXMgY29udGFpbmVkLiBUaGlzIGlzIGEgc2hvcnRoYW5kIGZvclxuICAgICAqIGB0aGlzLmdldFJvb3ROb2RlKCkuaG9zdGAuXG4gICAgICogQHRoaXMge0VsZW1lbnR9XG4gICAgICogQHJldHVybiB7P05vZGV9IFRoZSBlbGVtZW50IHdob3NlIGxvY2FsIGRvbSB3aXRoaW4gd2hpY2ggdGhpcyBlbGVtZW50IGlzXG4gICAgICogY29udGFpbmVkLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGdldCBkb21Ib3N0KCkge1xuICAgICAgbGV0IHJvb3QgPSB3cmFwKHRoaXMpLmdldFJvb3ROb2RlKCk7XG4gICAgICByZXR1cm4gKHJvb3QgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KSA/IC8qKiBAdHlwZSB7U2hhZG93Um9vdH0gKi8gKHJvb3QpLmhvc3QgOiByb290O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZvcmNlIHRoaXMgZWxlbWVudCB0byBkaXN0cmlidXRlIGl0cyBjaGlsZHJlbiB0byBpdHMgbG9jYWwgZG9tLlxuICAgICAqIFRoaXMgc2hvdWxkIG5vdCBiZSBuZWNlc3NhcnkgYXMgb2YgUG9seW1lciAyLjAuMiBhbmQgaXMgcHJvdmlkZWQgb25seVxuICAgICAqIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGRpc3RyaWJ1dGVDb250ZW50KCkge1xuICAgICAgY29uc3QgdGhpc0VsID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAodGhpcyk7XG4gICAgICBjb25zdCBkb21BcGkgPSAvKiogQHR5cGUge1BvbHltZXJEb21BcGl9ICovKGRvbSh0aGlzRWwpKTtcbiAgICAgIGlmICh3aW5kb3cuU2hhZHlET00gJiYgZG9tQXBpLnNoYWRvd1Jvb3QpIHtcbiAgICAgICAgU2hhZHlET00uZmx1c2goKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBub2RlcyB0aGF0IGFyZSB0aGUgZWZmZWN0aXZlIGNoaWxkTm9kZXMuIFRoZSBlZmZlY3RpdmVcbiAgICAgKiBjaGlsZE5vZGVzIGxpc3QgaXMgdGhlIHNhbWUgYXMgdGhlIGVsZW1lbnQncyBjaGlsZE5vZGVzIGV4Y2VwdCB0aGF0XG4gICAgICogYW55IGA8Y29udGVudD5gIGVsZW1lbnRzIGFyZSByZXBsYWNlZCB3aXRoIHRoZSBsaXN0IG9mIG5vZGVzIGRpc3RyaWJ1dGVkXG4gICAgICogdG8gdGhlIGA8Y29udGVudD5gLCB0aGUgcmVzdWx0IG9mIGl0cyBgZ2V0RGlzdHJpYnV0ZWROb2Rlc2AgbWV0aG9kLlxuICAgICAqIEByZXR1cm4geyFBcnJheTwhTm9kZT59IExpc3Qgb2YgZWZmZWN0aXZlIGNoaWxkIG5vZGVzLlxuICAgICAqIEBzdXBwcmVzcyB7aW52YWxpZENhc3RzfSBMZWdhY3lFbGVtZW50TWl4aW4gbXVzdCBiZSBhcHBsaWVkIHRvIGFuXG4gICAgICogICAgIEhUTUxFbGVtZW50XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgZ2V0RWZmZWN0aXZlQ2hpbGROb2RlcygpIHtcbiAgICAgIGNvbnN0IHRoaXNFbCA9IC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKHRoaXMpO1xuICAgICAgY29uc3QgZG9tQXBpID0gLyoqIEB0eXBlIHtQb2x5bWVyRG9tQXBpfSAqLyAoZG9tKHRoaXNFbCkpO1xuICAgICAgcmV0dXJuIGRvbUFwaS5nZXRFZmZlY3RpdmVDaGlsZE5vZGVzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2Ygbm9kZXMgZGlzdHJpYnV0ZWQgd2l0aGluIHRoaXMgZWxlbWVudCB0aGF0IG1hdGNoXG4gICAgICogYHNlbGVjdG9yYC4gVGhlc2UgY2FuIGJlIGRvbSBjaGlsZHJlbiBvciBlbGVtZW50cyBkaXN0cmlidXRlZCB0b1xuICAgICAqIGNoaWxkcmVuIHRoYXQgYXJlIGluc2VydGlvbiBwb2ludHMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIFNlbGVjdG9yIHRvIHJ1bi5cbiAgICAgKiBAcmV0dXJuIHshQXJyYXk8IU5vZGU+fSBMaXN0IG9mIGRpc3RyaWJ1dGVkIGVsZW1lbnRzIHRoYXQgbWF0Y2ggc2VsZWN0b3IuXG4gICAgICogQHN1cHByZXNzIHtpbnZhbGlkQ2FzdHN9IExlZ2FjeUVsZW1lbnRNaXhpbiBtdXN0IGJlIGFwcGxpZWQgdG8gYW5cbiAgICAgKiBIVE1MRWxlbWVudFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHF1ZXJ5RGlzdHJpYnV0ZWRFbGVtZW50cyhzZWxlY3Rvcikge1xuICAgICAgY29uc3QgdGhpc0VsID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAodGhpcyk7XG4gICAgICBjb25zdCBkb21BcGkgPSAvKiogQHR5cGUge1BvbHltZXJEb21BcGl9ICovIChkb20odGhpc0VsKSk7XG4gICAgICByZXR1cm4gZG9tQXBpLnF1ZXJ5RGlzdHJpYnV0ZWRFbGVtZW50cyhzZWxlY3Rvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgZWxlbWVudHMgdGhhdCBhcmUgdGhlIGVmZmVjdGl2ZSBjaGlsZHJlbi4gVGhlIGVmZmVjdGl2ZVxuICAgICAqIGNoaWxkcmVuIGxpc3QgaXMgdGhlIHNhbWUgYXMgdGhlIGVsZW1lbnQncyBjaGlsZHJlbiBleGNlcHQgdGhhdFxuICAgICAqIGFueSBgPGNvbnRlbnQ+YCBlbGVtZW50cyBhcmUgcmVwbGFjZWQgd2l0aCB0aGUgbGlzdCBvZiBlbGVtZW50c1xuICAgICAqIGRpc3RyaWJ1dGVkIHRvIHRoZSBgPGNvbnRlbnQ+YC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4geyFBcnJheTwhTm9kZT59IExpc3Qgb2YgZWZmZWN0aXZlIGNoaWxkcmVuLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGdldEVmZmVjdGl2ZUNoaWxkcmVuKCkge1xuICAgICAgbGV0IGxpc3QgPSB0aGlzLmdldEVmZmVjdGl2ZUNoaWxkTm9kZXMoKTtcbiAgICAgIHJldHVybiBsaXN0LmZpbHRlcihmdW5jdGlvbigvKiogQHR5cGUgeyFOb2RlfSAqLyBuKSB7XG4gICAgICAgIHJldHVybiAobi5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyBvZiB0ZXh0IGNvbnRlbnQgdGhhdCBpcyB0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGVcbiAgICAgKiB0ZXh0IGNvbnRlbnQncyBvZiB0aGUgZWxlbWVudCdzIGVmZmVjdGl2ZSBjaGlsZE5vZGVzICh0aGUgZWxlbWVudHNcbiAgICAgKiByZXR1cm5lZCBieSA8YSBocmVmPVwiI2dldEVmZmVjdGl2ZUNoaWxkTm9kZXM+Z2V0RWZmZWN0aXZlQ2hpbGROb2RlczwvYT4uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IExpc3Qgb2YgZWZmZWN0aXZlIGNoaWxkcmVuLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGdldEVmZmVjdGl2ZVRleHRDb250ZW50KCkge1xuICAgICAgbGV0IGNuID0gdGhpcy5nZXRFZmZlY3RpdmVDaGlsZE5vZGVzKCk7XG4gICAgICBsZXQgdGMgPSBbXTtcbiAgICAgIGZvciAobGV0IGk9MCwgYzsgKGMgPSBjbltpXSk7IGkrKykge1xuICAgICAgICBpZiAoYy5ub2RlVHlwZSAhPT0gTm9kZS5DT01NRU5UX05PREUpIHtcbiAgICAgICAgICB0Yy5wdXNoKGMudGV4dENvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGMuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZmlyc3QgZWZmZWN0aXZlIGNoaWxkTm9kZSB3aXRoaW4gdGhpcyBlbGVtZW50IHRoYXRcbiAgICAgKiBtYXRjaCBgc2VsZWN0b3JgLiBUaGVzZSBjYW4gYmUgZG9tIGNoaWxkIG5vZGVzIG9yIGVsZW1lbnRzIGRpc3RyaWJ1dGVkXG4gICAgICogdG8gY2hpbGRyZW4gdGhhdCBhcmUgaW5zZXJ0aW9uIHBvaW50cy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgU2VsZWN0b3IgdG8gcnVuLlxuICAgICAqIEByZXR1cm4ge05vZGV9IEZpcnN0IGVmZmVjdGl2ZSBjaGlsZCBub2RlIHRoYXQgbWF0Y2hlcyBzZWxlY3Rvci5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBxdWVyeUVmZmVjdGl2ZUNoaWxkcmVuKHNlbGVjdG9yKSB7XG4gICAgICBsZXQgZSQgPSB0aGlzLnF1ZXJ5RGlzdHJpYnV0ZWRFbGVtZW50cyhzZWxlY3Rvcik7XG4gICAgICByZXR1cm4gZSQgJiYgZSRbMF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgZWZmZWN0aXZlIGNoaWxkTm9kZXMgd2l0aGluIHRoaXMgZWxlbWVudCB0aGF0XG4gICAgICogbWF0Y2ggYHNlbGVjdG9yYC4gVGhlc2UgY2FuIGJlIGRvbSBjaGlsZCBub2RlcyBvciBlbGVtZW50cyBkaXN0cmlidXRlZFxuICAgICAqIHRvIGNoaWxkcmVuIHRoYXQgYXJlIGluc2VydGlvbiBwb2ludHMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIFNlbGVjdG9yIHRvIHJ1bi5cbiAgICAgKiBAcmV0dXJuIHshQXJyYXk8IU5vZGU+fSBMaXN0IG9mIGVmZmVjdGl2ZSBjaGlsZCBub2RlcyB0aGF0IG1hdGNoXG4gICAgICogICAgIHNlbGVjdG9yLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHF1ZXJ5QWxsRWZmZWN0aXZlQ2hpbGRyZW4oc2VsZWN0b3IpIHtcbiAgICAgIHJldHVybiB0aGlzLnF1ZXJ5RGlzdHJpYnV0ZWRFbGVtZW50cyhzZWxlY3Rvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2Ygbm9kZXMgZGlzdHJpYnV0ZWQgdG8gdGhpcyBlbGVtZW50J3MgYDxzbG90PmAuXG4gICAgICpcbiAgICAgKiBJZiB0aGlzIGVsZW1lbnQgY29udGFpbnMgbW9yZSB0aGFuIG9uZSBgPHNsb3Q+YCBpbiBpdHMgbG9jYWwgRE9NLFxuICAgICAqIGFuIG9wdGlvbmFsIHNlbGVjdG9yIG1heSBiZSBwYXNzZWQgdG8gY2hvb3NlIHRoZSBkZXNpcmVkIGNvbnRlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IHNsY3RyIENTUyBzZWxlY3RvciB0byBjaG9vc2UgdGhlIGRlc2lyZWRcbiAgICAgKiAgIGA8c2xvdD5gLiAgRGVmYXVsdHMgdG8gYGNvbnRlbnRgLlxuICAgICAqIEByZXR1cm4geyFBcnJheTwhTm9kZT59IExpc3Qgb2YgZGlzdHJpYnV0ZWQgbm9kZXMgZm9yIHRoZSBgPHNsb3Q+YC5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBnZXRDb250ZW50Q2hpbGROb2RlcyhzbGN0cikge1xuICAgICAgLy8gTm90ZSwgbm8gbmVlZCB0byBgd3JhcGAgdGhpcyBiZWNhdXNlIHJvb3QgaXMgYWx3YXlzXG4gICAgICBsZXQgY29udGVudCA9IHRoaXMucm9vdC5xdWVyeVNlbGVjdG9yKHNsY3RyIHx8ICdzbG90Jyk7XG4gICAgICByZXR1cm4gY29udGVudCA/XG4gICAgICAgICAgLyoqIEB0eXBlIHtQb2x5bWVyRG9tQXBpfSAqLyAoZG9tKGNvbnRlbnQpKS5nZXREaXN0cmlidXRlZE5vZGVzKCkgOlxuICAgICAgICAgIFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaXN0IG9mIGVsZW1lbnQgY2hpbGRyZW4gZGlzdHJpYnV0ZWQgdG8gdGhpcyBlbGVtZW50J3NcbiAgICAgKiBgPHNsb3Q+YC5cbiAgICAgKlxuICAgICAqIElmIHRoaXMgZWxlbWVudCBjb250YWlucyBtb3JlIHRoYW4gb25lIGA8c2xvdD5gIGluIGl0c1xuICAgICAqIGxvY2FsIERPTSwgYW4gb3B0aW9uYWwgc2VsZWN0b3IgbWF5IGJlIHBhc3NlZCB0byBjaG9vc2UgdGhlIGRlc2lyZWRcbiAgICAgKiBjb250ZW50LiAgVGhpcyBtZXRob2QgZGlmZmVycyBmcm9tIGBnZXRDb250ZW50Q2hpbGROb2Rlc2AgaW4gdGhhdCBvbmx5XG4gICAgICogZWxlbWVudHMgYXJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBzbGN0ciBDU1Mgc2VsZWN0b3IgdG8gY2hvb3NlIHRoZSBkZXNpcmVkXG4gICAgICogICBgPGNvbnRlbnQ+YC4gIERlZmF1bHRzIHRvIGBjb250ZW50YC5cbiAgICAgKiBAcmV0dXJuIHshQXJyYXk8IUhUTUxFbGVtZW50Pn0gTGlzdCBvZiBkaXN0cmlidXRlZCBub2RlcyBmb3IgdGhlXG4gICAgICogICBgPHNsb3Q+YC5cbiAgICAgKiBAc3VwcHJlc3Mge2ludmFsaWRDYXN0c31cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBnZXRDb250ZW50Q2hpbGRyZW4oc2xjdHIpIHtcbiAgICAgIGxldCBjaGlsZHJlbiA9IC8qKiBAdHlwZSB7IUFycmF5PCFIVE1MRWxlbWVudD59ICovKHRoaXMuZ2V0Q29udGVudENoaWxkTm9kZXMoc2xjdHIpLmZpbHRlcihmdW5jdGlvbihuKSB7XG4gICAgICAgIHJldHVybiAobi5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpO1xuICAgICAgfSkpO1xuICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIGFuIGVsZW1lbnQgaXMgaW4gdGhpcyBlbGVtZW50J3MgbGlnaHQgRE9NIHRyZWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gez9Ob2RlfSBub2RlIFRoZSBlbGVtZW50IHRvIGJlIGNoZWNrZWQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBub2RlIGlzIGluIHRoaXMgZWxlbWVudCdzIGxpZ2h0IERPTSB0cmVlLlxuICAgICAqIEBzdXBwcmVzcyB7aW52YWxpZENhc3RzfSBMZWdhY3lFbGVtZW50TWl4aW4gbXVzdCBiZSBhcHBsaWVkIHRvIGFuXG4gICAgICogSFRNTEVsZW1lbnRcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBpc0xpZ2h0RGVzY2VuZGFudChub2RlKSB7XG4gICAgICBjb25zdCB0aGlzTm9kZSA9IC8qKiBAdHlwZSB7Tm9kZX0gKi8gKHRoaXMpO1xuICAgICAgcmV0dXJuIHRoaXNOb2RlICE9PSBub2RlICYmIHdyYXAodGhpc05vZGUpLmNvbnRhaW5zKG5vZGUpICYmXG4gICAgICAgIHdyYXAodGhpc05vZGUpLmdldFJvb3ROb2RlKCkgPT09IHdyYXAobm9kZSkuZ2V0Um9vdE5vZGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciBhbiBlbGVtZW50IGlzIGluIHRoaXMgZWxlbWVudCdzIGxvY2FsIERPTSB0cmVlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHshRWxlbWVudH0gbm9kZSBUaGUgZWxlbWVudCB0byBiZSBjaGVja2VkLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgbm9kZSBpcyBpbiB0aGlzIGVsZW1lbnQncyBsb2NhbCBET00gdHJlZS5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBpc0xvY2FsRGVzY2VuZGFudChub2RlKSB7XG4gICAgICByZXR1cm4gdGhpcy5yb290ID09PSB3cmFwKG5vZGUpLmdldFJvb3ROb2RlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTm8tb3AgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LiBUaGlzIHNob3VsZCBub3cgYmUgaGFuZGxlZCBieVxuICAgICAqIFNoYWR5Q3NzIGxpYnJhcnkuXG4gICAgICogQHBhcmFtICB7IUVsZW1lbnR9IGNvbnRhaW5lciBDb250YWluZXIgZWxlbWVudCB0byBzY29wZVxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW49fSBzaG91bGRPYnNlcnZlIGlmIHRydWUsIHN0YXJ0IGEgbXV0YXRpb24gb2JzZXJ2ZXIgZm9yIGFkZGVkIG5vZGVzIHRvIHRoZSBjb250YWluZXJcbiAgICAgKiBAcmV0dXJuIHs/TXV0YXRpb25PYnNlcnZlcn0gUmV0dXJucyBhIG5ldyBNdXRhdGlvbk9ic2VydmVyIG9uIGBjb250YWluZXJgIGlmIGBzaG91bGRPYnNlcnZlYCBpcyB0cnVlLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHNjb3BlU3VidHJlZShjb250YWluZXIsIHNob3VsZE9ic2VydmUgPSBmYWxzZSkge1xuICAgICAgcmV0dXJuIHNjb3BlU3VidHJlZShjb250YWluZXIsIHNob3VsZE9ic2VydmUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvbXB1dGVkIHN0eWxlIHZhbHVlIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFRoZSBjc3MgcHJvcGVydHkgbmFtZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbXB1dGVkIGNzcyBwcm9wZXJ0eSB2YWx1ZSBmb3IgdGhlIGdpdmVuXG4gICAgICogYHByb3BlcnR5YC5cbiAgICAgKiBAc3VwcHJlc3Mge2ludmFsaWRDYXN0c30gTGVnYWN5RWxlbWVudE1peGluIG11c3QgYmUgYXBwbGllZCB0byBhblxuICAgICAqICAgICBIVE1MRWxlbWVudFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGdldENvbXB1dGVkU3R5bGVWYWx1ZShwcm9wZXJ0eSkge1xuICAgICAgcmV0dXJuIHN0eWxlSW50ZXJmYWNlLmdldENvbXB1dGVkU3R5bGVWYWx1ZSgvKiogQHR5cGUgeyFFbGVtZW50fSAqLyh0aGlzKSwgcHJvcGVydHkpO1xuICAgIH1cblxuICAgIC8vIGRlYm91bmNlXG5cbiAgICAvKipcbiAgICAgKiBDYWxsIGBkZWJvdW5jZWAgdG8gY29sbGFwc2UgbXVsdGlwbGUgcmVxdWVzdHMgZm9yIGEgbmFtZWQgdGFzayBpbnRvXG4gICAgICogb25lIGludm9jYXRpb24gd2hpY2ggaXMgbWFkZSBhZnRlciB0aGUgd2FpdCB0aW1lIGhhcyBlbGFwc2VkIHdpdGhcbiAgICAgKiBubyBuZXcgcmVxdWVzdC4gIElmIG5vIHdhaXQgdGltZSBpcyBnaXZlbiwgdGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkXG4gICAgICogYXQgbWljcm90YXNrIHRpbWluZyAoZ3VhcmFudGVlZCBiZWZvcmUgcGFpbnQpLlxuICAgICAqXG4gICAgICogICAgIGRlYm91bmNlZENsaWNrQWN0aW9uKGUpIHtcbiAgICAgKiAgICAgICAvLyB3aWxsIG5vdCBjYWxsIGBwcm9jZXNzQ2xpY2tgIG1vcmUgdGhhbiBvbmNlIHBlciAxMDBtc1xuICAgICAqICAgICAgIHRoaXMuZGVib3VuY2UoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICogICAgICAgIHRoaXMucHJvY2Vzc0NsaWNrKCk7XG4gICAgICogICAgICAgfSAxMDApO1xuICAgICAqICAgICB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gam9iTmFtZSBTdHJpbmcgdG8gaWRlbnRpZnkgdGhlIGRlYm91bmNlIGpvYi5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk6dm9pZH0gY2FsbGJhY2sgRnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgKHdpdGggYHRoaXNgXG4gICAgICogICBjb250ZXh0KSB3aGVuIHRoZSB3YWl0IHRpbWUgZWxhcHNlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IHdhaXQgT3B0aW9uYWwgd2FpdCB0aW1lIGluIG1pbGxpc2Vjb25kcyAobXMpIGFmdGVyIHRoZVxuICAgICAqICAgbGFzdCBzaWduYWwgdGhhdCBtdXN0IGVsYXBzZSBiZWZvcmUgaW52b2tpbmcgYGNhbGxiYWNrYFxuICAgICAqIEByZXR1cm4geyFPYmplY3R9IFJldHVybnMgYSBkZWJvdW5jZXIgb2JqZWN0IG9uIHdoaWNoIGV4aXN0cyB0aGVcbiAgICAgKiBmb2xsb3dpbmcgbWV0aG9kczogYGlzQWN0aXZlKClgIHJldHVybnMgdHJ1ZSBpZiB0aGUgZGVib3VuY2VyIGlzXG4gICAgICogYWN0aXZlOyBgY2FuY2VsKClgIGNhbmNlbHMgdGhlIGRlYm91bmNlciBpZiBpdCBpcyBhY3RpdmU7XG4gICAgICogYGZsdXNoKClgIGltbWVkaWF0ZWx5IGludm9rZXMgdGhlIGRlYm91bmNlZCBjYWxsYmFjayBpZiB0aGUgZGVib3VuY2VyXG4gICAgICogaXMgYWN0aXZlLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGRlYm91bmNlKGpvYk5hbWUsIGNhbGxiYWNrLCB3YWl0KSB7XG4gICAgICB0aGlzLl9kZWJvdW5jZXJzID0gdGhpcy5fZGVib3VuY2VycyB8fCB7fTtcbiAgICAgIHJldHVybiB0aGlzLl9kZWJvdW5jZXJzW2pvYk5hbWVdID0gRGVib3VuY2VyLmRlYm91bmNlKFxuICAgICAgICAgICAgdGhpcy5fZGVib3VuY2Vyc1tqb2JOYW1lXVxuICAgICAgICAgICwgd2FpdCA+IDAgPyB0aW1lT3V0LmFmdGVyKHdhaXQpIDogbWljcm9UYXNrXG4gICAgICAgICAgLCBjYWxsYmFjay5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgYSBuYW1lZCBkZWJvdW5jZXIgaXMgYWN0aXZlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGpvYk5hbWUgVGhlIG5hbWUgb2YgdGhlIGRlYm91bmNlciBzdGFydGVkIHdpdGggYGRlYm91bmNlYFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGRlYm91bmNlciBpcyBhY3RpdmUgKGhhcyBub3QgeWV0IGZpcmVkKS5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBpc0RlYm91bmNlckFjdGl2ZShqb2JOYW1lKSB7XG4gICAgICB0aGlzLl9kZWJvdW5jZXJzID0gdGhpcy5fZGVib3VuY2VycyB8fCB7fTtcbiAgICAgIGxldCBkZWJvdW5jZXIgPSB0aGlzLl9kZWJvdW5jZXJzW2pvYk5hbWVdO1xuICAgICAgcmV0dXJuICEhKGRlYm91bmNlciAmJiBkZWJvdW5jZXIuaXNBY3RpdmUoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW1tZWRpYXRlbHkgY2FsbHMgdGhlIGRlYm91bmNlciBgY2FsbGJhY2tgIGFuZCBpbmFjdGl2YXRlcyBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBqb2JOYW1lIFRoZSBuYW1lIG9mIHRoZSBkZWJvdW5jZXIgc3RhcnRlZCB3aXRoIGBkZWJvdW5jZWBcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGZsdXNoRGVib3VuY2VyKGpvYk5hbWUpIHtcbiAgICAgIHRoaXMuX2RlYm91bmNlcnMgPSB0aGlzLl9kZWJvdW5jZXJzIHx8IHt9O1xuICAgICAgbGV0IGRlYm91bmNlciA9IHRoaXMuX2RlYm91bmNlcnNbam9iTmFtZV07XG4gICAgICBpZiAoZGVib3VuY2VyKSB7XG4gICAgICAgIGRlYm91bmNlci5mbHVzaCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbmNlbHMgYW4gYWN0aXZlIGRlYm91bmNlci4gIFRoZSBgY2FsbGJhY2tgIHdpbGwgbm90IGJlIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBqb2JOYW1lIFRoZSBuYW1lIG9mIHRoZSBkZWJvdW5jZXIgc3RhcnRlZCB3aXRoIGBkZWJvdW5jZWBcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGNhbmNlbERlYm91bmNlcihqb2JOYW1lKSB7XG4gICAgICB0aGlzLl9kZWJvdW5jZXJzID0gdGhpcy5fZGVib3VuY2VycyB8fCB7fTtcbiAgICAgIGxldCBkZWJvdW5jZXIgPSB0aGlzLl9kZWJvdW5jZXJzW2pvYk5hbWVdO1xuICAgICAgaWYgKGRlYm91bmNlcikge1xuICAgICAgICBkZWJvdW5jZXIuY2FuY2VsKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUnVucyBhIGNhbGxiYWNrIGZ1bmN0aW9uIGFzeW5jaHJvbm91c2x5LlxuICAgICAqXG4gICAgICogQnkgZGVmYXVsdCAoaWYgbm8gd2FpdFRpbWUgaXMgc3BlY2lmaWVkKSwgYXN5bmMgY2FsbGJhY2tzIGFyZSBydW4gYXRcbiAgICAgKiBtaWNyb3Rhc2sgdGltaW5nLCB3aGljaCB3aWxsIG9jY3VyIGJlZm9yZSBwYWludC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7IUZ1bmN0aW9ufSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcnVuLCBib3VuZCB0b1xuICAgICAqICAgICBgdGhpc2AuXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSB3YWl0VGltZSBUaW1lIHRvIHdhaXQgYmVmb3JlIGNhbGxpbmcgdGhlXG4gICAgICogICBgY2FsbGJhY2tgLiAgSWYgdW5zcGVjaWZpZWQgb3IgMCwgdGhlIGNhbGxiYWNrIHdpbGwgYmUgcnVuIGF0IG1pY3JvdGFza1xuICAgICAqICAgdGltaW5nIChiZWZvcmUgcGFpbnQpLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gSGFuZGxlIHRoYXQgbWF5IGJlIHVzZWQgdG8gY2FuY2VsIHRoZSBhc3luYyBqb2IuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgYXN5bmMoY2FsbGJhY2ssIHdhaXRUaW1lKSB7XG4gICAgICByZXR1cm4gd2FpdFRpbWUgPiAwID8gdGltZU91dC5ydW4oY2FsbGJhY2suYmluZCh0aGlzKSwgd2FpdFRpbWUpIDpcbiAgICAgICAgICB+bWljcm9UYXNrLnJ1bihjYWxsYmFjay5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYW5jZWxzIGFuIGFzeW5jIG9wZXJhdGlvbiBzdGFydGVkIHdpdGggYGFzeW5jYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGUgSGFuZGxlIHJldHVybmVkIGZyb20gb3JpZ2luYWwgYGFzeW5jYCBjYWxsIHRvXG4gICAgICogICBjYW5jZWwuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBjYW5jZWxBc3luYyhoYW5kbGUpIHtcbiAgICAgIGhhbmRsZSA8IDAgPyBtaWNyb1Rhc2suY2FuY2VsKH5oYW5kbGUpIDpcbiAgICAgICAgICB0aW1lT3V0LmNhbmNlbChoYW5kbGUpO1xuICAgIH1cblxuICAgIC8vIG90aGVyXG5cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgZm9yIGNyZWF0aW5nIGFuIGVsZW1lbnQgYW5kIGNvbmZpZ3VyaW5nIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhZyBIVE1MIGVsZW1lbnQgdGFnIHRvIGNyZWF0ZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdD19IHByb3BzIE9iamVjdCBvZiBwcm9wZXJ0aWVzIHRvIGNvbmZpZ3VyZSBvbiB0aGVcbiAgICAgKiAgICBpbnN0YW5jZS5cbiAgICAgKiBAcmV0dXJuIHshRWxlbWVudH0gTmV3bHkgY3JlYXRlZCBhbmQgY29uZmlndXJlZCBlbGVtZW50LlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGNyZWF0ZSh0YWcsIHByb3BzKSB7XG4gICAgICBsZXQgZWx0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgICAgaWYgKHByb3BzKSB7XG4gICAgICAgIGlmIChlbHQuc2V0UHJvcGVydGllcykge1xuICAgICAgICAgIGVsdC5zZXRQcm9wZXJ0aWVzKHByb3BzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKGxldCBuIGluIHByb3BzKSB7XG4gICAgICAgICAgICBlbHRbbl0gPSBwcm9wc1tuXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBlbHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUG9seWZpbGwgZm9yIEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMsIHdoaWNoIGlzIHNvbWV0aW1lcyBzdGlsbFxuICAgICAqIHByZWZpeGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIFNlbGVjdG9yIHRvIHRlc3QuXG4gICAgICogQHBhcmFtIHshRWxlbWVudD19IG5vZGUgRWxlbWVudCB0byB0ZXN0IHRoZSBzZWxlY3RvciBhZ2FpbnN0LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGVsZW1lbnQgbWF0Y2hlcyB0aGUgc2VsZWN0b3IuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgZWxlbWVudE1hdGNoZXMoc2VsZWN0b3IsIG5vZGUpIHtcbiAgICAgIHJldHVybiBtYXRjaGVzU2VsZWN0b3IoIChub2RlIHx8IHRoaXMpLCBzZWxlY3Rvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVG9nZ2xlcyBhbiBIVE1MIGF0dHJpYnV0ZSBvbiBvciBvZmYuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBIVE1MIGF0dHJpYnV0ZSBuYW1lXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gYm9vbCBCb29sZWFuIHRvIGZvcmNlIHRoZSBhdHRyaWJ1dGUgb24gb3Igb2ZmLlxuICAgICAqICAgIFdoZW4gdW5zcGVjaWZpZWQsIHRoZSBzdGF0ZSBvZiB0aGUgYXR0cmlidXRlIHdpbGwgYmUgcmV2ZXJzZWQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgYXR0cmlidXRlIG5vdyBleGlzdHNcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICB0b2dnbGVBdHRyaWJ1dGUobmFtZSwgYm9vbCkge1xuICAgICAgbGV0IG5vZGUgPSAvKiogQHR5cGUge0VsZW1lbnR9ICovKHRoaXMpO1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgbm9kZSA9IC8qKiBAdHlwZSB7RWxlbWVudH0gKi8oYXJndW1lbnRzWzJdKTtcbiAgICAgIH1cbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgYm9vbCA9ICFub2RlLmhhc0F0dHJpYnV0ZShuYW1lKTtcbiAgICAgIH1cbiAgICAgIGlmIChib29sKSB7XG4gICAgICAgIHdyYXAobm9kZSkuc2V0QXR0cmlidXRlKG5hbWUsICcnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3cmFwKG5vZGUpLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVG9nZ2xlcyBhIENTUyBjbGFzcyBvbiBvciBvZmYuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBDU1MgY2xhc3MgbmFtZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGJvb2wgQm9vbGVhbiB0byBmb3JjZSB0aGUgY2xhc3Mgb24gb3Igb2ZmLlxuICAgICAqICAgIFdoZW4gdW5zcGVjaWZpZWQsIHRoZSBzdGF0ZSBvZiB0aGUgY2xhc3Mgd2lsbCBiZSByZXZlcnNlZC5cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnQ9fSBub2RlIE5vZGUgdG8gdGFyZ2V0LiAgRGVmYXVsdHMgdG8gYHRoaXNgLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgdG9nZ2xlQ2xhc3MobmFtZSwgYm9vbCwgbm9kZSkge1xuICAgICAgbm9kZSA9IC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKG5vZGUgfHwgdGhpcyk7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgIGJvb2wgPSAhbm9kZS5jbGFzc0xpc3QuY29udGFpbnMobmFtZSk7XG4gICAgICB9XG4gICAgICBpZiAoYm9vbCkge1xuICAgICAgICBub2RlLmNsYXNzTGlzdC5hZGQobmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUobmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3Jvc3MtcGxhdGZvcm0gaGVscGVyIGZvciBzZXR0aW5nIGFuIGVsZW1lbnQncyBDU1MgYHRyYW5zZm9ybWAgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHJhbnNmb3JtVGV4dCBUcmFuc2Zvcm0gc2V0dGluZy5cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnQ9fSBub2RlIEVsZW1lbnQgdG8gYXBwbHkgdGhlIHRyYW5zZm9ybSB0by5cbiAgICAgKiBEZWZhdWx0cyB0byBgdGhpc2BcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHRyYW5zZm9ybSh0cmFuc2Zvcm1UZXh0LCBub2RlKSB7XG4gICAgICBub2RlID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAobm9kZSB8fCB0aGlzKTtcbiAgICAgIG5vZGUuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gdHJhbnNmb3JtVGV4dDtcbiAgICAgIG5vZGUuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtVGV4dDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcm9zcy1wbGF0Zm9ybSBoZWxwZXIgZm9yIHNldHRpbmcgYW4gZWxlbWVudCdzIENTUyBgdHJhbnNsYXRlM2RgXG4gICAgICogcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IHggWCBvZmZzZXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSB5IFkgb2Zmc2V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30geiBaIG9mZnNldC5cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnQ9fSBub2RlIEVsZW1lbnQgdG8gYXBwbHkgdGhlIHRyYW5zZm9ybSB0by5cbiAgICAgKiBEZWZhdWx0cyB0byBgdGhpc2AuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICB0cmFuc2xhdGUzZCh4LCB5LCB6LCBub2RlKSB7XG4gICAgICBub2RlID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAobm9kZSB8fCB0aGlzKTtcbiAgICAgIHRoaXMudHJhbnNmb3JtKCd0cmFuc2xhdGUzZCgnICsgeCArICcsJyArIHkgKyAnLCcgKyB6ICsgJyknLCBub2RlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFuIGl0ZW0gZnJvbSBhbiBhcnJheSwgaWYgaXQgZXhpc3RzLlxuICAgICAqXG4gICAgICogSWYgdGhlIGFycmF5IGlzIHNwZWNpZmllZCBieSBwYXRoLCBhIGNoYW5nZSBub3RpZmljYXRpb24gaXNcbiAgICAgKiBnZW5lcmF0ZWQsIHNvIHRoYXQgb2JzZXJ2ZXJzLCBkYXRhIGJpbmRpbmdzIGFuZCBjb21wdXRlZFxuICAgICAqIHByb3BlcnRpZXMgd2F0Y2hpbmcgdGhhdCBwYXRoIGNhbiB1cGRhdGUuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgYXJyYXkgaXMgcGFzc2VkIGRpcmVjdGx5LCAqKm5vIGNoYW5nZVxuICAgICAqIG5vdGlmaWNhdGlvbiBpcyBnZW5lcmF0ZWQqKi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgIUFycmF5PG51bWJlcnxzdHJpbmc+fSBhcnJheU9yUGF0aCBQYXRoIHRvIGFycmF5IGZyb21cbiAgICAgKiAgICAgd2hpY2ggdG8gcmVtb3ZlIHRoZSBpdGVtXG4gICAgICogICAob3IgdGhlIGFycmF5IGl0c2VsZikuXG4gICAgICogQHBhcmFtIHsqfSBpdGVtIEl0ZW0gdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm4ge0FycmF5fSBBcnJheSBjb250YWluaW5nIGl0ZW0gcmVtb3ZlZC5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBhcnJheURlbGV0ZShhcnJheU9yUGF0aCwgaXRlbSkge1xuICAgICAgbGV0IGluZGV4O1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyYXlPclBhdGgpKSB7XG4gICAgICAgIGluZGV4ID0gYXJyYXlPclBhdGguaW5kZXhPZihpdGVtKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICByZXR1cm4gYXJyYXlPclBhdGguc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGFyciA9IGdldCh0aGlzLCBhcnJheU9yUGF0aCk7XG4gICAgICAgIGluZGV4ID0gYXJyLmluZGV4T2YoaXRlbSk7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc3BsaWNlKGFycmF5T3JQYXRoLCBpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIGxvZ2dpbmdcblxuICAgIC8qKlxuICAgICAqIEZhY2FkZXMgYGNvbnNvbGUubG9nYC9gd2FybmAvYGVycm9yYCBhcyBvdmVycmlkZSBwb2ludC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsZXZlbCBPbmUgb2YgJ2xvZycsICd3YXJuJywgJ2Vycm9yJ1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgQXJyYXkgb2Ygc3RyaW5ncyBvciBvYmplY3RzIHRvIGxvZ1xuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2xvZ2dlcihsZXZlbCwgYXJncykge1xuICAgICAgLy8gYWNjZXB0IFsnZm9vJywgJ2JhciddIGFuZCBbWydmb28nLCAnYmFyJ11dXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShhcmdzKSAmJiBhcmdzLmxlbmd0aCA9PT0gMSAmJiBBcnJheS5pc0FycmF5KGFyZ3NbMF0pKSB7XG4gICAgICAgIGFyZ3MgPSBhcmdzWzBdO1xuICAgICAgfVxuICAgICAgc3dpdGNoKGxldmVsKSB7XG4gICAgICAgIGNhc2UgJ2xvZyc6XG4gICAgICAgIGNhc2UgJ3dhcm4nOlxuICAgICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgICAgY29uc29sZVtsZXZlbF0oLi4uYXJncyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmFjYWRlcyBgY29uc29sZS5sb2dgIGFzIGFuIG92ZXJyaWRlIHBvaW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHsuLi4qfSBhcmdzIEFycmF5IG9mIHN0cmluZ3Mgb3Igb2JqZWN0cyB0byBsb2dcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9sb2coLi4uYXJncykge1xuICAgICAgdGhpcy5fbG9nZ2VyKCdsb2cnLCBhcmdzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGYWNhZGVzIGBjb25zb2xlLndhcm5gIGFzIGFuIG92ZXJyaWRlIHBvaW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHsuLi4qfSBhcmdzIEFycmF5IG9mIHN0cmluZ3Mgb3Igb2JqZWN0cyB0byBsb2dcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF93YXJuKC4uLmFyZ3MpIHtcbiAgICAgIHRoaXMuX2xvZ2dlcignd2FybicsIGFyZ3MpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZhY2FkZXMgYGNvbnNvbGUuZXJyb3JgIGFzIGFuIG92ZXJyaWRlIHBvaW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHsuLi4qfSBhcmdzIEFycmF5IG9mIHN0cmluZ3Mgb3Igb2JqZWN0cyB0byBsb2dcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9lcnJvciguLi5hcmdzKSB7XG4gICAgICB0aGlzLl9sb2dnZXIoJ2Vycm9yJywgYXJncyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9ybWF0cyBhIG1lc3NhZ2UgdXNpbmcgdGhlIGVsZW1lbnQgdHlwZSBhbiBhIG1ldGhvZCBuYW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgTWV0aG9kIG5hbWUgdG8gYXNzb2NpYXRlIHdpdGggbWVzc2FnZVxuICAgICAqIEBwYXJhbSB7Li4uKn0gYXJncyBBcnJheSBvZiBzdHJpbmdzIG9yIG9iamVjdHMgdG8gbG9nXG4gICAgICogQHJldHVybiB7QXJyYXl9IEFycmF5IHdpdGggZm9ybWF0dGluZyBpbmZvcm1hdGlvbiBmb3IgYGNvbnNvbGVgXG4gICAgICogICBsb2dnaW5nLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9sb2dmKG1ldGhvZE5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgIHJldHVybiBbJ1slczo6JXNdJywgdGhpcy5pcywgbWV0aG9kTmFtZSwgLi4uYXJnc107XG4gICAgfVxuXG4gIH1cblxuICBMZWdhY3lFbGVtZW50LnByb3RvdHlwZS5pcyA9ICcnO1xuXG4gIHJldHVybiBMZWdhY3lFbGVtZW50O1xufSk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG5pbXBvcnQgeyBMZWdhY3lFbGVtZW50TWl4aW4gfSBmcm9tICcuL2xlZ2FjeS1lbGVtZW50LW1peGluLmpzJztcbmltcG9ydCB7IGxlZ2FjeU9wdGltaXphdGlvbnMgfSBmcm9tICcuLi91dGlscy9zZXR0aW5ncy5qcyc7XG5cbmNvbnN0IGxpZmVjeWNsZVByb3BzID0ge1xuICBhdHRhY2hlZDogdHJ1ZSxcbiAgZGV0YWNoZWQ6IHRydWUsXG4gIHJlYWR5OiB0cnVlLFxuICBjcmVhdGVkOiB0cnVlLFxuICBiZWZvcmVSZWdpc3RlcjogdHJ1ZSxcbiAgcmVnaXN0ZXJlZDogdHJ1ZSxcbiAgYXR0cmlidXRlQ2hhbmdlZDogdHJ1ZSxcbiAgbGlzdGVuZXJzOiB0cnVlLFxuICBob3N0QXR0cmlidXRlczogdHJ1ZVxufTtcblxuY29uc3QgZXhjbHVkZU9uSW5mbyA9IHtcbiAgYXR0YWNoZWQ6IHRydWUsXG4gIGRldGFjaGVkOiB0cnVlLFxuICByZWFkeTogdHJ1ZSxcbiAgY3JlYXRlZDogdHJ1ZSxcbiAgYmVmb3JlUmVnaXN0ZXI6IHRydWUsXG4gIHJlZ2lzdGVyZWQ6IHRydWUsXG4gIGF0dHJpYnV0ZUNoYW5nZWQ6IHRydWUsXG4gIGJlaGF2aW9yczogdHJ1ZSxcbiAgX25vQWNjZXNzb3JzOiB0cnVlXG59O1xuXG5jb25zdCBleGNsdWRlT25CZWhhdmlvcnMgPSBPYmplY3QuYXNzaWduKHtcbiAgbGlzdGVuZXJzOiB0cnVlLFxuICBob3N0QXR0cmlidXRlczogdHJ1ZSxcbiAgcHJvcGVydGllczogdHJ1ZSxcbiAgb2JzZXJ2ZXJzOiB0cnVlLFxufSwgZXhjbHVkZU9uSW5mbyk7XG5cbmZ1bmN0aW9uIGNvcHlQcm9wZXJ0aWVzKHNvdXJjZSwgdGFyZ2V0LCBleGNsdWRlUHJvcHMpIHtcbiAgY29uc3Qgbm9BY2Nlc3NvcnMgPSBzb3VyY2UuX25vQWNjZXNzb3JzO1xuICBjb25zdCBwcm9wZXJ0eU5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc291cmNlKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wZXJ0eU5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IHAgPSBwcm9wZXJ0eU5hbWVzW2ldO1xuICAgIGlmIChwIGluIGV4Y2x1ZGVQcm9wcykge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChub0FjY2Vzc29ycykge1xuICAgICAgdGFyZ2V0W3BdID0gc291cmNlW3BdO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcGQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgcCk7XG4gICAgICBpZiAocGQpIHtcbiAgICAgICAgLy8gZW5zdXJlIHByb3BlcnR5IGlzIGNvbmZpZ3VyYWJsZSBzbyB0aGF0IGEgbGF0ZXIgYmVoYXZpb3IgY2FuXG4gICAgICAgIC8vIHJlLWNvbmZpZ3VyZSBpdC5cbiAgICAgICAgcGQuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcCwgcGQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEFwcGxpZXMgYSBcImxlZ2FjeVwiIGJlaGF2aW9yIG9yIGFycmF5IG9mIGJlaGF2aW9ycyB0byB0aGUgcHJvdmlkZWQgY2xhc3MuXG4gKlxuICogTm90ZTogdGhpcyBtZXRob2Qgd2lsbCBhdXRvbWF0aWNhbGx5IGFsc28gYXBwbHkgdGhlIGBMZWdhY3lFbGVtZW50TWl4aW5gXG4gKiB0byBlbnN1cmUgdGhhdCBhbnkgbGVnYWN5IGJlaGF2aW9ycyBjYW4gcmVseSBvbiBsZWdhY3kgUG9seW1lciBBUEkgb25cbiAqIHRoZSB1bmRlcmx5aW5nIGVsZW1lbnQuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHshT2JqZWN0fCFBcnJheTwhT2JqZWN0Pn0gYmVoYXZpb3JzIEJlaGF2aW9yIG9iamVjdCBvciBhcnJheSBvZiBiZWhhdmlvcnMuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKG5ldzpUKX0ga2xhc3MgRWxlbWVudCBjbGFzcy5cbiAqIEByZXR1cm4gez99IFJldHVybnMgYSBuZXcgRWxlbWVudCBjbGFzcyBleHRlbmRlZCBieSB0aGVcbiAqIHBhc3NlZCBpbiBgYmVoYXZpb3JzYCBhbmQgYWxzbyBieSBgTGVnYWN5RWxlbWVudE1peGluYC5cbiAqIEBzdXBwcmVzcyB7aW52YWxpZENhc3RzLCBjaGVja1R5cGVzfVxuICovXG5leHBvcnQgZnVuY3Rpb24gbWl4aW5CZWhhdmlvcnMoYmVoYXZpb3JzLCBrbGFzcykge1xuICByZXR1cm4gR2VuZXJhdGVDbGFzc0Zyb21JbmZvKHt9LCBMZWdhY3lFbGVtZW50TWl4aW4oa2xhc3MpLCBiZWhhdmlvcnMpO1xufVxuXG4vLyBOT1RFOlxuLy8gMS54XG4vLyBCZWhhdmlvcnMgd2VyZSBtaXhlZCBpbiAqaW4gcmV2ZXJzZSBvcmRlciogYW5kIGRlLWR1cGVkIG9uIHRoZSBmbHkuXG4vLyBUaGUgcnVsZSB3YXMgdGhhdCBiZWhhdmlvciBwcm9wZXJ0aWVzIHdlcmUgY29waWVkIG9udG8gdGhlIGVsZW1lbnRcbi8vIHByb3RvdHlwZSBpZiBhbmQgb25seSBpZiB0aGUgcHJvcGVydHkgZGlkIG5vdCBhbHJlYWR5IGV4aXN0LlxuLy8gR2l2ZW46IFBvbHltZXJ7IGJlaGF2aW9yczogW0EsIEIsIEMsIEEsIEJdfSwgcHJvcGVydHkgY29weSBvcmRlciB3YXM6XG4vLyAoMSksIEIsICgyKSwgQSwgKDMpIEMuIFRoaXMgbWVhbnMgcHJvdG90eXBlIHByb3BlcnRpZXMgd2luIG92ZXJcbi8vIEIgcHJvcGVydGllcyB3aW4gb3ZlciBBIHdpbiBvdmVyIEMuIFRoaXMgbWlycm9ycyB3aGF0IHdvdWxkIGhhcHBlblxuLy8gd2l0aCBpbmhlcml0YW5jZSBpZiBlbGVtZW50IGV4dGVuZGVkIEIgZXh0ZW5kZWQgQSBleHRlbmRlZCBDLlxuLy9cbi8vIEFnYWluIGdpdmVuLCBQb2x5bWVyeyBiZWhhdmlvcnM6IFtBLCBCLCBDLCBBLCBCXX0sIHRoZSByZXN1bHRpbmdcbi8vIGBiZWhhdmlvcnNgIGFycmF5IHdhcyBbQywgQSwgQl0uXG4vLyBCZWhhdmlvciBsaWZlY3ljbGUgbWV0aG9kcyB3ZXJlIGNhbGxlZCBpbiBiZWhhdmlvciBhcnJheSBvcmRlclxuLy8gZm9sbG93ZWQgYnkgdGhlIGVsZW1lbnQsIGUuZy4gKDEpIEMuY3JlYXRlZCwgKDIpIEEuY3JlYXRlZCxcbi8vICgzKSBCLmNyZWF0ZWQsICg0KSBlbGVtZW50LmNyZWF0ZWQuIFRoZXJlIHdhcyBubyBzdXBwb3J0IGZvclxuLy8gc3VwZXIsIGFuZCBcInN1cGVyLWJlaGF2aW9yXCIgbWV0aG9kcyB3ZXJlIGNhbGxhYmxlIG9ubHkgYnkgbmFtZSkuXG4vL1xuLy8gMi54XG4vLyBCZWhhdmlvcnMgYXJlIG1hZGUgaW50byBwcm9wZXIgbWl4aW5zIHdoaWNoIGxpdmUgaW4gdGhlXG4vLyBlbGVtZW50J3MgcHJvdG90eXBlIGNoYWluLiBCZWhhdmlvcnMgYXJlIHBsYWNlZCBpbiB0aGUgZWxlbWVudCBwcm90b3R5cGVcbi8vIGVsZGVzdCB0byB5b3VuZ2VzdCBhbmQgZGUtZHVwZWQgeW91bmdlc3QgdG8gb2xkZXN0OlxuLy8gU28sIGZpcnN0IFtBLCBCLCBDLCBBLCBCXSBiZWNvbWVzIFtDLCBBLCBCXSB0aGVuLFxuLy8gdGhlIGVsZW1lbnQgcHJvdG90eXBlIGJlY29tZXMgKG9sZGVzdCkgKDEpIFBvbHltZXJFbGVtZW50LCAoMikgY2xhc3MoQyksXG4vLyAoMykgY2xhc3MoQSksICg0KSBjbGFzcyhCKSwgKDUpIGNsYXNzKFBvbHltZXIoey4uLn0pKS5cbi8vIFJlc3VsdDpcbi8vIFRoaXMgbWVhbnMgZWxlbWVudCBwcm9wZXJ0aWVzIHdpbiBvdmVyIEIgcHJvcGVydGllcyB3aW4gb3ZlciBBIHdpblxuLy8gb3ZlciBDLiAoc2FtZSBhcyAxLngpXG4vLyBJZiBsaWZlY3ljbGUgaXMgY2FsbGVkIChzdXBlciB0aGVuIG1lKSwgb3JkZXIgaXNcbi8vICgxKSBDLmNyZWF0ZWQsICgyKSBBLmNyZWF0ZWQsICgzKSBCLmNyZWF0ZWQsICg0KSBlbGVtZW50LmNyZWF0ZWRcbi8vIChhZ2FpbiBzYW1lIGFzIDEueClcbmZ1bmN0aW9uIGFwcGx5QmVoYXZpb3JzKHByb3RvLCBiZWhhdmlvcnMsIGxpZmVjeWNsZSkge1xuICBmb3IgKGxldCBpPTA7IGk8YmVoYXZpb3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgYXBwbHlJbmZvKHByb3RvLCBiZWhhdmlvcnNbaV0sIGxpZmVjeWNsZSwgZXhjbHVkZU9uQmVoYXZpb3JzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseUluZm8ocHJvdG8sIGluZm8sIGxpZmVjeWNsZSwgZXhjbHVkZVByb3BzKSB7XG4gIGNvcHlQcm9wZXJ0aWVzKGluZm8sIHByb3RvLCBleGNsdWRlUHJvcHMpO1xuICBmb3IgKGxldCBwIGluIGxpZmVjeWNsZVByb3BzKSB7XG4gICAgaWYgKGluZm9bcF0pIHtcbiAgICAgIGxpZmVjeWNsZVtwXSA9IGxpZmVjeWNsZVtwXSB8fCBbXTtcbiAgICAgIGxpZmVjeWNsZVtwXS5wdXNoKGluZm9bcF0pO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXl9IGJlaGF2aW9ycyBMaXN0IG9mIGJlaGF2aW9ycyB0byBmbGF0dGVuLlxuICogQHBhcmFtIHtBcnJheT19IGxpc3QgVGFyZ2V0IGxpc3QgdG8gZmxhdHRlbiBiZWhhdmlvcnMgaW50by5cbiAqIEBwYXJhbSB7QXJyYXk9fSBleGNsdWRlIExpc3Qgb2YgYmVoYXZpb3JzIHRvIGV4Y2x1ZGUgZnJvbSB0aGUgbGlzdC5cbiAqIEByZXR1cm4geyFBcnJheX0gUmV0dXJucyB0aGUgbGlzdCBvZiBmbGF0dGVuZWQgYmVoYXZpb3JzLlxuICovXG5mdW5jdGlvbiBmbGF0dGVuQmVoYXZpb3JzKGJlaGF2aW9ycywgbGlzdCwgZXhjbHVkZSkge1xuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgZm9yIChsZXQgaT1iZWhhdmlvcnMubGVuZ3RoLTE7IGkgPj0gMDsgaS0tKSB7XG4gICAgbGV0IGIgPSBiZWhhdmlvcnNbaV07XG4gICAgaWYgKGIpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGIpKSB7XG4gICAgICAgIGZsYXR0ZW5CZWhhdmlvcnMoYiwgbGlzdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBkZWR1cFxuICAgICAgICBpZiAobGlzdC5pbmRleE9mKGIpIDwgMCAmJiAoIWV4Y2x1ZGUgfHwgZXhjbHVkZS5pbmRleE9mKGIpIDwgMCkpIHtcbiAgICAgICAgICBsaXN0LnVuc2hpZnQoYik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKCdiZWhhdmlvciBpcyBudWxsLCBjaGVjayBmb3IgbWlzc2luZyBvciA0MDQgaW1wb3J0Jyk7XG4gICAgfVxuICB9XG4gIHJldHVybiBsaXN0O1xufVxuXG4vKipcbiAqIENvcGllcyBwcm9wZXJ0eSBkZXNjcmlwdG9ycyBmcm9tIHNvdXJjZSB0byB0YXJnZXQsIG92ZXJ3cml0aW5nIGFsbCBmaWVsZHNcbiAqIG9mIGFueSBwcmV2aW91cyBkZXNjcmlwdG9yIGZvciBhIHByb3BlcnR5ICpleGNlcHQqIGZvciBgdmFsdWVgLCB3aGljaCBpc1xuICogbWVyZ2VkIGluIGZyb20gdGhlIHRhcmdldCBpZiBpdCBkb2VzIG5vdCBleGlzdCBvbiB0aGUgc291cmNlLlxuICpcbiAqIEBwYXJhbSB7Kn0gdGFyZ2V0IFRhcmdldCBwcm9wZXJ0aWVzIG9iamVjdFxuICogQHBhcmFtIHsqfSBzb3VyY2UgU291cmNlIHByb3BlcnRpZXMgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIG1lcmdlUHJvcGVydGllcyh0YXJnZXQsIHNvdXJjZSkge1xuICBmb3IgKGNvbnN0IHAgaW4gc291cmNlKSB7XG4gICAgY29uc3QgdGFyZ2V0SW5mbyA9IHRhcmdldFtwXTtcbiAgICBjb25zdCBzb3VyY2VJbmZvID0gc291cmNlW3BdO1xuICAgIGlmICghKCd2YWx1ZScgaW4gc291cmNlSW5mbykgJiYgdGFyZ2V0SW5mbyAmJiAoJ3ZhbHVlJyBpbiB0YXJnZXRJbmZvKSkge1xuICAgICAgdGFyZ2V0W3BdID0gT2JqZWN0LmFzc2lnbih7dmFsdWU6IHRhcmdldEluZm8udmFsdWV9LCBzb3VyY2VJbmZvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0W3BdID0gc291cmNlSW5mbztcbiAgICB9XG4gIH1cbn1cblxuLyogTm90ZSBhYm91dCBjb25zdHJ1Y3Rpb24gYW5kIGV4dGVuc2lvbiBvZiBsZWdhY3kgY2xhc3Nlcy5cbiAgW0NoYW5nZWQgaW4gUTQgMjAxOCB0byBvcHRpbWl6ZSBwZXJmb3JtYW5jZS5dXG5cbiAgV2hlbiBjYWxsaW5nIGBQb2x5bWVyYCBvciBgbWl4aW5CZWhhdmlvcnNgLCB0aGUgZ2VuZXJhdGVkIGNsYXNzIGJlbG93IGlzXG4gIG1hZGUuIFRoZSBsaXN0IG9mIGJlaGF2aW9ycyB3YXMgcHJldmlvdXNseSBtYWRlIGludG8gb25lIGdlbmVyYXRlZCBjbGFzcyBwZXJcbiAgYmVoYXZpb3IsIGJ1dCB0aGlzIGlzIG5vIGxvbmdlciB0aGUgY2FzZSBhcyBiZWhhdmlvcnMgYXJlIG5vdyBjYWxsZWRcbiAgbWFudWFsbHkuIE5vdGUsIHRoZXJlIG1heSAqc3RpbGwqIGJlIG11bHRpcGxlIGdlbmVyYXRlZCBjbGFzc2VzIGluIHRoZVxuICBlbGVtZW50J3MgcHJvdG90eXBlIGNoYWluIGlmIGV4dGVuc2lvbiBpcyB1c2VkIHdpdGggYG1peGluQmVoYXZpb3JzYC5cblxuICBUaGUgZ2VuZXJhdGVkIGNsYXNzIGlzIGRpcmVjdGx5IHRpZWQgdG8gdGhlIGluZm8gb2JqZWN0IGFuZCBiZWhhdmlvcnNcbiAgdXNlZCB0byBjcmVhdGUgaXQuIFRoYXQgbGlzdCBvZiBiZWhhdmlvcnMgaXMgZmlsdGVyZWQgc28gaXQncyBvbmx5IHRoZVxuICBiZWhhdmlvcnMgbm90IGFjdGl2ZSBvbiB0aGUgc3VwZXJjbGFzcy4gSW4gb3JkZXIgdG8gY2FsbCB0aHJvdWdoIHRvIHRoZVxuICBlbnRpcmUgbGlzdCBvZiBsaWZlY3ljbGUgbWV0aG9kcywgaXQncyBpbXBvcnRhbnQgdG8gY2FsbCBgc3VwZXJgLlxuXG4gIFRoZSBlbGVtZW50J3MgYHByb3BlcnRpZXNgIGFuZCBgb2JzZXJ2ZXJzYCBhcmUgY29udHJvbGxlZCB2aWEgdGhlIGZpbmFsaXphdGlvblxuICBtZWNoYW5pc20gcHJvdmlkZWQgYnkgYFByb3BlcnRpZXNNaXhpbmAuIGBQcm9wZXJ0aWVzYCBhbmQgYG9ic2VydmVyc2AgYXJlXG4gIGNvbGxlY3RlZCBieSBtYW51YWxseSB0cmF2ZXJzaW5nIHRoZSBwcm90b3R5cGUgY2hhaW4gYW5kIG1lcmdpbmcuXG5cbiAgVG8gbGltaXQgY2hhbmdlcywgdGhlIGBfcmVnaXN0ZXJlZGAgbWV0aG9kIGlzIGNhbGxlZCB2aWEgYF9pbml0aWFsaXplUHJvcGVydGllc2BcbiAgYW5kIG5vdCBgX2ZpbmFsaXplQ2xhc3NgLlxuXG4qL1xuLyoqXG4gKiBAcGFyYW0geyFQb2x5bWVySW5pdH0gaW5mbyBQb2x5bWVyIGluZm8gb2JqZWN0XG4gKiBAcGFyYW0ge2Z1bmN0aW9uKG5ldzpIVE1MRWxlbWVudCl9IEJhc2UgYmFzZSBjbGFzcyB0byBleHRlbmQgd2l0aCBpbmZvIG9iamVjdFxuICogQHBhcmFtIHtPYmplY3Q9fSBiZWhhdmlvcnMgYmVoYXZpb3JzIHRvIGNvcHkgaW50byB0aGUgZWxlbWVudFxuICogQHJldHVybiB7ZnVuY3Rpb24obmV3OkhUTUxFbGVtZW50KX0gR2VuZXJhdGVkIGNsYXNzXG4gKiBAc3VwcHJlc3Mge2NoZWNrVHlwZXN9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBHZW5lcmF0ZUNsYXNzRnJvbUluZm8oaW5mbywgQmFzZSwgYmVoYXZpb3JzKSB7XG5cbiAgLy8gbWFuYWdlcyBiZWhhdmlvciBhbmQgbGlmZWN5Y2xlIHByb2Nlc3NpbmcgKGZpbGxlZCBpbiBhZnRlciBjbGFzcyBkZWZpbml0aW9uKVxuICBsZXQgYmVoYXZpb3JMaXN0O1xuICBjb25zdCBsaWZlY3ljbGUgPSB7fTtcblxuICAvKiogQHByaXZhdGUgKi9cbiAgY2xhc3MgUG9seW1lckdlbmVyYXRlZCBleHRlbmRzIEJhc2Uge1xuXG4gICAgLy8gZXhwbGljaXRseSBub3QgY2FsbGluZyBzdXBlci5fZmluYWxpemVDbGFzc1xuICAgIC8qKiBAbm9jb2xsYXBzZSAqL1xuICAgIHN0YXRpYyBfZmluYWxpemVDbGFzcygpIHtcbiAgICAgIC8vIGlmIGNhbGxpbmcgdmlhIGEgc3ViY2xhc3MgdGhhdCBoYXNuJ3QgYmVlbiBnZW5lcmF0ZWQsIHBhc3MgdGhyb3VnaCB0byBzdXBlclxuICAgICAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2dlbmVyYXRlZEZyb20nLCB0aGlzKSkpIHtcbiAgICAgICAgLy8gVE9ETyhodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtY29tcGlsZXIvaXNzdWVzLzMyNDApOlxuICAgICAgICAvLyAgICAgQ2hhbmdlIGJhY2sgdG8ganVzdCBzdXBlci5tZXRob2RDYWxsKClcbiAgICAgICAgQmFzZS5fZmluYWxpemVDbGFzcy5jYWxsKHRoaXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaW50ZXJsZWF2ZSBwcm9wZXJ0aWVzIGFuZCBvYnNlcnZlcnMgcGVyIGJlaGF2aW9yIGFuZCBgaW5mb2BcbiAgICAgICAgaWYgKGJlaGF2aW9yTGlzdCkge1xuICAgICAgICAgIGZvciAobGV0IGk9MCwgYjsgaSA8IGJlaGF2aW9yTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYiA9IGJlaGF2aW9yTGlzdFtpXTtcbiAgICAgICAgICAgIGlmIChiLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgdGhpcy5jcmVhdGVQcm9wZXJ0aWVzKGIucHJvcGVydGllcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYi5vYnNlcnZlcnMpIHtcbiAgICAgICAgICAgICAgdGhpcy5jcmVhdGVPYnNlcnZlcnMoYi5vYnNlcnZlcnMsIGIucHJvcGVydGllcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpbmZvLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICB0aGlzLmNyZWF0ZVByb3BlcnRpZXMoaW5mby5wcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5mby5vYnNlcnZlcnMpIHtcbiAgICAgICAgICB0aGlzLmNyZWF0ZU9ic2VydmVycyhpbmZvLm9ic2VydmVycywgaW5mby5wcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtYWtlIHN1cmUgdG8gcHJlcGFyZSB0aGUgZWxlbWVudCB0ZW1wbGF0ZVxuICAgICAgICB0aGlzLl9wcmVwYXJlVGVtcGxhdGUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogQG5vY29sbGFwc2UgKi9cbiAgICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XG4gICAgICBjb25zdCBwcm9wZXJ0aWVzID0ge307XG4gICAgICBpZiAoYmVoYXZpb3JMaXN0KSB7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaSA8IGJlaGF2aW9yTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIG1lcmdlUHJvcGVydGllcyhwcm9wZXJ0aWVzLCBiZWhhdmlvckxpc3RbaV0ucHJvcGVydGllcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG1lcmdlUHJvcGVydGllcyhwcm9wZXJ0aWVzLCBpbmZvLnByb3BlcnRpZXMpO1xuICAgICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gICAgfVxuXG4gICAgLyoqIEBub2NvbGxhcHNlICovXG4gICAgc3RhdGljIGdldCBvYnNlcnZlcnMoKSB7XG4gICAgICBsZXQgb2JzZXJ2ZXJzID0gW107XG4gICAgICBpZiAoYmVoYXZpb3JMaXN0KSB7XG4gICAgICAgIGZvciAobGV0IGk9MCwgYjsgaSA8IGJlaGF2aW9yTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGIgPSBiZWhhdmlvckxpc3RbaV07XG4gICAgICAgICAgaWYgKGIub2JzZXJ2ZXJzKSB7XG4gICAgICAgICAgICBvYnNlcnZlcnMgPSBvYnNlcnZlcnMuY29uY2F0KGIub2JzZXJ2ZXJzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpbmZvLm9ic2VydmVycykge1xuICAgICAgICBvYnNlcnZlcnMgPSBvYnNlcnZlcnMuY29uY2F0KGluZm8ub2JzZXJ2ZXJzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYnNlcnZlcnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBjcmVhdGVkKCkge1xuICAgICAgc3VwZXIuY3JlYXRlZCgpO1xuICAgICAgY29uc3QgbGlzdCA9IGxpZmVjeWNsZS5jcmVhdGVkO1xuICAgICAgaWYgKGxpc3QpIHtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGxpc3RbaV0uY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgX3JlZ2lzdGVyZWQoKSB7XG4gICAgICAvKiBOT1RFOiBgYmVmb3JlUmVnaXN0ZXJgIGlzIGNhbGxlZCBoZXJlIGZvciBiYywgYnV0IHRoZSBiZWhhdmlvclxuICAgICAgICBpcyBkaWZmZXJlbnQgdGhhbiBpbiAxLnguIEluIDEuMCwgdGhlIG1ldGhvZCB3YXMgY2FsbGVkICphZnRlcipcbiAgICAgICAgbWl4aW5nIHByb3RvdHlwZXMgdG9nZXRoZXIgYnV0ICpiZWZvcmUqIHByb2Nlc3Npbmcgb2YgbWV0YS1vYmplY3RzLlxuICAgICAgICBIb3dldmVyLCBkeW5hbWljIGVmZmVjdHMgY2FuIHN0aWxsIGJlIHNldCBoZXJlIGFuZCBjYW4gYmUgZG9uZSBlaXRoZXJcbiAgICAgICAgaW4gYGJlZm9yZVJlZ2lzdGVyYCBvciBgcmVnaXN0ZXJlZGAuIEl0IGlzIG5vIGxvbmdlciBwb3NzaWJsZSB0byBzZXRcbiAgICAgICAgYGlzYCBpbiBgYmVmb3JlUmVnaXN0ZXJgIGFzIHlvdSBjb3VsZCBpbiAxLnguXG4gICAgICAqL1xuICAgICAgLy8gb25seSBwcm9jZWVkIGlmIHRoZSBnZW5lcmF0ZWQgY2xhc3MnIHByb3RvdHlwZSBoYXMgbm90IGJlZW4gcmVnaXN0ZXJlZC5cbiAgICAgIGNvbnN0IGdlbmVyYXRlZFByb3RvID0gUG9seW1lckdlbmVyYXRlZC5wcm90b3R5cGU7XG4gICAgICBpZiAoIWdlbmVyYXRlZFByb3RvLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ19faGFzUmVnaXN0ZXJGaW5pc2hlZCcsIGdlbmVyYXRlZFByb3RvKSkpIHtcbiAgICAgICAgZ2VuZXJhdGVkUHJvdG8uX19oYXNSZWdpc3RlckZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgLy8gZW5zdXJlIHN1cGVyY2xhc3MgaXMgcmVnaXN0ZXJlZCBmaXJzdC5cbiAgICAgICAgc3VwZXIuX3JlZ2lzdGVyZWQoKTtcbiAgICAgICAgLy8gY29weSBwcm9wZXJ0aWVzIG9udG8gdGhlIGdlbmVyYXRlZCBjbGFzcyBsYXppbHkgaWYgd2UncmUgb3B0aW1pemluZyxcbiAgICAgICAgaWYgKGxlZ2FjeU9wdGltaXphdGlvbnMpIHtcbiAgICAgICAgICBjb3B5UHJvcGVydGllc1RvUHJvdG8oZ2VuZXJhdGVkUHJvdG8pO1xuICAgICAgICB9XG4gICAgICAgIC8vIG1ha2Ugc3VyZSBsZWdhY3kgbGlmZWN5Y2xlIGlzIGNhbGxlZCBvbiB0aGUgKmVsZW1lbnQqJ3MgcHJvdG90eXBlXG4gICAgICAgIC8vIGFuZCBub3QgdGhlIGdlbmVyYXRlZCBjbGFzcyBwcm90b3R5cGU7IGlmIHRoZSBlbGVtZW50IGhhcyBiZWVuXG4gICAgICAgIC8vIGV4dGVuZGVkLCB0aGVzZSBhcmUgKm5vdCogdGhlIHNhbWUuXG4gICAgICAgIGNvbnN0IHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpO1xuICAgICAgICBsZXQgbGlzdCA9IGxpZmVjeWNsZS5iZWZvcmVSZWdpc3RlcjtcbiAgICAgICAgaWYgKGxpc3QpIHtcbiAgICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsaXN0W2ldLmNhbGwocHJvdG8pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsaXN0ID0gbGlmZWN5Y2xlLnJlZ2lzdGVyZWQ7XG4gICAgICAgIGlmIChsaXN0KSB7XG4gICAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGlzdFtpXS5jYWxsKHByb3RvKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIF9hcHBseUxpc3RlbmVycygpIHtcbiAgICAgIHN1cGVyLl9hcHBseUxpc3RlbmVycygpO1xuICAgICAgY29uc3QgbGlzdCA9IGxpZmVjeWNsZS5saXN0ZW5lcnM7XG4gICAgICBpZiAobGlzdCkge1xuICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gbGlzdFtpXTtcbiAgICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBsIGluIGxpc3RlbmVycykge1xuICAgICAgICAgICAgICB0aGlzLl9hZGRNZXRob2RFdmVudExpc3RlbmVyVG9Ob2RlKHRoaXMsIGwsIGxpc3RlbmVyc1tsXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gbm90ZTogZXhjZXB0aW9uIHRvIFwic3VwZXIgdGhlbiBtZVwiIHJ1bGU7XG4gICAgLy8gZG8gd29yayBiZWZvcmUgY2FsbGluZyBzdXBlciBzbyB0aGF0IHN1cGVyIGF0dHJpYnV0ZXNcbiAgICAvLyBvbmx5IGFwcGx5IGlmIG5vdCBhbHJlYWR5IHNldC5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIF9lbnN1cmVBdHRyaWJ1dGVzKCkge1xuICAgICAgY29uc3QgbGlzdCA9IGxpZmVjeWNsZS5ob3N0QXR0cmlidXRlcztcbiAgICAgIGlmIChsaXN0KSB7XG4gICAgICAgIGZvciAobGV0IGk9bGlzdC5sZW5ndGgtMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBjb25zdCBob3N0QXR0cmlidXRlcyA9IGxpc3RbaV07XG4gICAgICAgICAgZm9yIChsZXQgYSBpbiBob3N0QXR0cmlidXRlcykge1xuICAgICAgICAgICAgICB0aGlzLl9lbnN1cmVBdHRyaWJ1dGUoYSwgaG9zdEF0dHJpYnV0ZXNbYV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdXBlci5fZW5zdXJlQXR0cmlidXRlcygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgcmVhZHkoKSB7XG4gICAgICBzdXBlci5yZWFkeSgpO1xuICAgICAgbGV0IGxpc3QgPSBsaWZlY3ljbGUucmVhZHk7XG4gICAgICBpZiAobGlzdCkge1xuICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGlzdFtpXS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBhdHRhY2hlZCgpIHtcbiAgICAgIHN1cGVyLmF0dGFjaGVkKCk7XG4gICAgICBsZXQgbGlzdCA9IGxpZmVjeWNsZS5hdHRhY2hlZDtcbiAgICAgIGlmIChsaXN0KSB7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBsaXN0W2ldLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGRldGFjaGVkKCkge1xuICAgICAgc3VwZXIuZGV0YWNoZWQoKTtcbiAgICAgIGxldCBsaXN0ID0gbGlmZWN5Y2xlLmRldGFjaGVkO1xuICAgICAgaWYgKGxpc3QpIHtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGxpc3RbaV0uY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEltcGxlbWVudHMgbmF0aXZlIEN1c3RvbSBFbGVtZW50cyBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYCB0b1xuICAgICAqIHNldCBhbiBhdHRyaWJ1dGUgdmFsdWUgdG8gYSBwcm9wZXJ0eSB2aWEgYF9hdHRyaWJ1dGVUb1Byb3BlcnR5YC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgYXR0cmlidXRlIHRoYXQgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gb2xkIE9sZCBhdHRyaWJ1dGUgdmFsdWVcbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IHZhbHVlIE5ldyBhdHRyaWJ1dGUgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGF0dHJpYnV0ZUNoYW5nZWQobmFtZSwgb2xkLCB2YWx1ZSkge1xuICAgICAgc3VwZXIuYXR0cmlidXRlQ2hhbmdlZCgpO1xuICAgICAgbGV0IGxpc3QgPSBsaWZlY3ljbGUuYXR0cmlidXRlQ2hhbmdlZDtcbiAgICAgIGlmIChsaXN0KSB7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBsaXN0W2ldLmNhbGwodGhpcywgbmFtZSwgb2xkLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBhcHBseSBiZWhhdmlvcnMsIG5vdGUgYWN0dWFsIGNvcHlpbmcgaXMgZG9uZSBsYXppbHkgYXQgZmlyc3QgaW5zdGFuY2UgY3JlYXRpb25cbiAgaWYgKGJlaGF2aW9ycykge1xuICAgIC8vIE5PVEU6IGVuc3VyZSB0aGUgYmVoYXZpb3IgaXMgZXh0ZW5kaW5nIGEgY2xhc3Mgd2l0aFxuICAgIC8vIGxlZ2FjeSBlbGVtZW50IGFwaS4gVGhpcyBpcyBuZWNlc3Nhcnkgc2luY2UgYmVoYXZpb3JzIGV4cGVjdCB0byBiZSBhYmxlXG4gICAgLy8gdG8gYWNjZXNzIDEueCBsZWdhY3kgYXBpLlxuICAgIGlmICghQXJyYXkuaXNBcnJheShiZWhhdmlvcnMpKSB7XG4gICAgICBiZWhhdmlvcnMgPSBbYmVoYXZpb3JzXTtcbiAgICB9XG4gICAgbGV0IHN1cGVyQmVoYXZpb3JzID0gQmFzZS5wcm90b3R5cGUuYmVoYXZpb3JzO1xuICAgIC8vIGdldCBmbGF0dGVuZWQsIGRlZHVwZWQgbGlzdCBvZiBiZWhhdmlvcnMgKm5vdCogYWxyZWFkeSBvbiBzdXBlciBjbGFzc1xuICAgIGJlaGF2aW9yTGlzdCA9IGZsYXR0ZW5CZWhhdmlvcnMoYmVoYXZpb3JzLCBudWxsLCBzdXBlckJlaGF2aW9ycyk7XG4gICAgUG9seW1lckdlbmVyYXRlZC5wcm90b3R5cGUuYmVoYXZpb3JzID0gc3VwZXJCZWhhdmlvcnMgP1xuICAgICAgc3VwZXJCZWhhdmlvcnMuY29uY2F0KGJlaGF2aW9ycykgOiBiZWhhdmlvckxpc3Q7XG4gIH1cblxuICBjb25zdCBjb3B5UHJvcGVydGllc1RvUHJvdG8gPSAocHJvdG8pID0+IHtcbiAgICBpZiAoYmVoYXZpb3JMaXN0KSB7XG4gICAgICBhcHBseUJlaGF2aW9ycyhwcm90bywgYmVoYXZpb3JMaXN0LCBsaWZlY3ljbGUpO1xuICAgIH1cbiAgICBhcHBseUluZm8ocHJvdG8sIGluZm8sIGxpZmVjeWNsZSwgZXhjbHVkZU9uSW5mbyk7XG4gIH07XG5cbiAgLy8gY29weSBwcm9wZXJ0aWVzIGlmIHdlJ3JlIG5vdCBvcHRpbWl6aW5nXG4gIGlmICghbGVnYWN5T3B0aW1pemF0aW9ucykge1xuICAgIGNvcHlQcm9wZXJ0aWVzVG9Qcm90byhQb2x5bWVyR2VuZXJhdGVkLnByb3RvdHlwZSk7XG4gIH1cblxuICBQb2x5bWVyR2VuZXJhdGVkLmdlbmVyYXRlZEZyb20gPSBpbmZvO1xuXG4gIHJldHVybiBQb2x5bWVyR2VuZXJhdGVkO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBhIGNsYXNzIHRoYXQgZXh0ZW5kcyBgTGVnYWN5RWxlbWVudGAgYmFzZWQgb24gdGhlXG4gKiBwcm92aWRlZCBpbmZvIG9iamVjdC4gIE1ldGFkYXRhIG9iamVjdHMgb24gdGhlIGBpbmZvYCBvYmplY3RcbiAqIChgcHJvcGVydGllc2AsIGBvYnNlcnZlcnNgLCBgbGlzdGVuZXJzYCwgYGJlaGF2aW9yc2AsIGBpc2ApIGFyZSB1c2VkXG4gKiBmb3IgUG9seW1lcidzIG1ldGEtcHJvZ3JhbW1pbmcgc3lzdGVtcywgYW5kIGFueSBmdW5jdGlvbnMgYXJlIGNvcGllZFxuICogdG8gdGhlIGdlbmVyYXRlZCBjbGFzcy5cbiAqXG4gKiBWYWxpZCBcIm1ldGFkYXRhXCIgdmFsdWVzIGFyZSBhcyBmb2xsb3dzOlxuICpcbiAqIGBpc2A6IFN0cmluZyBwcm92aWRpbmcgdGhlIHRhZyBuYW1lIHRvIHJlZ2lzdGVyIHRoZSBlbGVtZW50IHVuZGVyLiBJblxuICogYWRkaXRpb24sIGlmIGEgYGRvbS1tb2R1bGVgIHdpdGggdGhlIHNhbWUgaWQgZXhpc3RzLCB0aGUgZmlyc3QgdGVtcGxhdGVcbiAqIGluIHRoYXQgYGRvbS1tb2R1bGVgIHdpbGwgYmUgc3RhbXBlZCBpbnRvIHRoZSBzaGFkb3cgcm9vdCBvZiB0aGlzIGVsZW1lbnQsXG4gKiB3aXRoIHN1cHBvcnQgZm9yIGRlY2xhcmF0aXZlIGV2ZW50IGxpc3RlbmVycyAoYG9uLS4uLmApLCBQb2x5bWVyIGRhdGFcbiAqIGJpbmRpbmdzIChgW1suLi5dXWAgYW5kIGB7ey4uLn19YCksIGFuZCBpZC1iYXNlZCBub2RlIGZpbmRpbmcgaW50b1xuICogYHRoaXMuJGAuXG4gKlxuICogYHByb3BlcnRpZXNgOiBPYmplY3QgZGVzY3JpYmluZyBwcm9wZXJ0eS1yZWxhdGVkIG1ldGFkYXRhIHVzZWQgYnkgUG9seW1lclxuICogZmVhdHVyZXMgKGtleTogcHJvcGVydHkgbmFtZXMsIHZhbHVlOiBvYmplY3QgY29udGFpbmluZyBwcm9wZXJ0eSBtZXRhZGF0YSkuXG4gKiBWYWxpZCBrZXlzIGluIHBlci1wcm9wZXJ0eSBtZXRhZGF0YSBpbmNsdWRlOlxuICogLSBgdHlwZWAgKFN0cmluZ3xOdW1iZXJ8T2JqZWN0fEFycmF5fC4uLik6IFVzZWQgYnlcbiAqICAgYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2AgdG8gZGV0ZXJtaW5lIGhvdyBzdHJpbmctYmFzZWQgYXR0cmlidXRlc1xuICogICBhcmUgZGVzZXJpYWxpemVkIHRvIEphdmFTY3JpcHQgcHJvcGVydHkgdmFsdWVzLlxuICogLSBgbm90aWZ5YCAoYm9vbGVhbik6IENhdXNlcyBhIGNoYW5nZSBpbiB0aGUgcHJvcGVydHkgdG8gZmlyZSBhXG4gKiAgIG5vbi1idWJibGluZyBldmVudCBjYWxsZWQgYDxwcm9wZXJ0eT4tY2hhbmdlZGAuIEVsZW1lbnRzIHRoYXQgaGF2ZVxuICogICBlbmFibGVkIHR3by13YXkgYmluZGluZyB0byB0aGUgcHJvcGVydHkgdXNlIHRoaXMgZXZlbnQgdG8gb2JzZXJ2ZSBjaGFuZ2VzLlxuICogLSBgcmVhZE9ubHlgIChib29sZWFuKTogQ3JlYXRlcyBhIGdldHRlciBmb3IgdGhlIHByb3BlcnR5LCBidXQgbm8gc2V0dGVyLlxuICogICBUbyBzZXQgYSByZWFkLW9ubHkgcHJvcGVydHksIHVzZSB0aGUgcHJpdmF0ZSBzZXR0ZXIgbWV0aG9kXG4gKiAgIGBfc2V0UHJvcGVydHkocHJvcGVydHksIHZhbHVlKWAuXG4gKiAtIGBvYnNlcnZlcmAgKHN0cmluZyk6IE9ic2VydmVyIG1ldGhvZCBuYW1lIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlblxuICogICB0aGUgcHJvcGVydHkgY2hhbmdlcy4gVGhlIGFyZ3VtZW50cyBvZiB0aGUgbWV0aG9kIGFyZVxuICogICBgKHZhbHVlLCBwcmV2aW91c1ZhbHVlKWAuXG4gKiAtIGBjb21wdXRlZGAgKHN0cmluZyk6IFN0cmluZyBkZXNjcmliaW5nIG1ldGhvZCBhbmQgZGVwZW5kZW50IHByb3BlcnRpZXNcbiAqICAgZm9yIGNvbXB1dGluZyB0aGUgdmFsdWUgb2YgdGhpcyBwcm9wZXJ0eSAoZS5nLiBgJ2NvbXB1dGVGb28oYmFyLCB6b3QpJ2ApLlxuICogICBDb21wdXRlZCBwcm9wZXJ0aWVzIGFyZSByZWFkLW9ubHkgYnkgZGVmYXVsdCBhbmQgY2FuIG9ubHkgYmUgY2hhbmdlZFxuICogICB2aWEgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgY29tcHV0aW5nIG1ldGhvZC5cbiAqXG4gKiBgb2JzZXJ2ZXJzYDogQXJyYXkgb2Ygc3RyaW5ncyBkZXNjcmliaW5nIG11bHRpLXByb3BlcnR5IG9ic2VydmVyIG1ldGhvZHNcbiAqICBhbmQgdGhlaXIgZGVwZW5kZW50IHByb3BlcnRpZXMgKGUuZy4gYCdvYnNlcnZlQUJDKGEsIGIsIGMpJ2ApLlxuICpcbiAqIGBsaXN0ZW5lcnNgOiBPYmplY3QgZGVzY3JpYmluZyBldmVudCBsaXN0ZW5lcnMgdG8gYmUgYWRkZWQgdG8gZWFjaFxuICogIGluc3RhbmNlIG9mIHRoaXMgZWxlbWVudCAoa2V5OiBldmVudCBuYW1lLCB2YWx1ZTogbWV0aG9kIG5hbWUpLlxuICpcbiAqIGBiZWhhdmlvcnNgOiBBcnJheSBvZiBhZGRpdGlvbmFsIGBpbmZvYCBvYmplY3RzIGNvbnRhaW5pbmcgbWV0YWRhdGFcbiAqIGFuZCBjYWxsYmFja3MgaW4gdGhlIHNhbWUgZm9ybWF0IGFzIHRoZSBgaW5mb2Agb2JqZWN0IGhlcmUgd2hpY2ggYXJlXG4gKiBtZXJnZWQgaW50byB0aGlzIGVsZW1lbnQuXG4gKlxuICogYGhvc3RBdHRyaWJ1dGVzYDogT2JqZWN0IGxpc3RpbmcgYXR0cmlidXRlcyB0byBiZSBhcHBsaWVkIHRvIHRoZSBob3N0XG4gKiAgb25jZSBjcmVhdGVkIChrZXk6IGF0dHJpYnV0ZSBuYW1lLCB2YWx1ZTogYXR0cmlidXRlIHZhbHVlKS4gIFZhbHVlc1xuICogIGFyZSBzZXJpYWxpemVkIGJhc2VkIG9uIHRoZSB0eXBlIG9mIHRoZSB2YWx1ZS4gIEhvc3QgYXR0cmlidXRlcyBzaG91bGRcbiAqICBnZW5lcmFsbHkgYmUgbGltaXRlZCB0byBhdHRyaWJ1dGVzIHN1Y2ggYXMgYHRhYkluZGV4YCBhbmQgYGFyaWEtLi4uYC5cbiAqICBBdHRyaWJ1dGVzIGluIGBob3N0QXR0cmlidXRlc2AgYXJlIG9ubHkgYXBwbGllZCBpZiBhIHVzZXItc3VwcGxpZWRcbiAqICBhdHRyaWJ1dGUgaXMgbm90IGFscmVhZHkgcHJlc2VudCAoYXR0cmlidXRlcyBpbiBtYXJrdXAgb3ZlcnJpZGVcbiAqICBgaG9zdEF0dHJpYnV0ZXNgKS5cbiAqXG4gKiBJbiBhZGRpdGlvbiwgdGhlIGZvbGxvd2luZyBQb2x5bWVyLXNwZWNpZmljIGNhbGxiYWNrcyBtYXkgYmUgcHJvdmlkZWQ6XG4gKiAtIGByZWdpc3RlcmVkYDogY2FsbGVkIGFmdGVyIGZpcnN0IGluc3RhbmNlIG9mIHRoaXMgZWxlbWVudCxcbiAqIC0gYGNyZWF0ZWRgOiBjYWxsZWQgZHVyaW5nIGBjb25zdHJ1Y3RvcmBcbiAqIC0gYGF0dGFjaGVkYDogY2FsbGVkIGR1cmluZyBgY29ubmVjdGVkQ2FsbGJhY2tgXG4gKiAtIGBkZXRhY2hlZGA6IGNhbGxlZCBkdXJpbmcgYGRpc2Nvbm5lY3RlZENhbGxiYWNrYFxuICogLSBgcmVhZHlgOiBjYWxsZWQgYmVmb3JlIGZpcnN0IGBhdHRhY2hlZGAsIGFmdGVyIGFsbCBwcm9wZXJ0aWVzIG9mXG4gKiAgIHRoaXMgZWxlbWVudCBoYXZlIGJlZW4gcHJvcGFnYXRlZCB0byBpdHMgdGVtcGxhdGUgYW5kIGFsbCBvYnNlcnZlcnNcbiAqICAgaGF2ZSBydW5cbiAqXG4gKiBAcGFyYW0geyFQb2x5bWVySW5pdH0gaW5mbyBPYmplY3QgY29udGFpbmluZyBQb2x5bWVyIG1ldGFkYXRhIGFuZCBmdW5jdGlvbnNcbiAqICAgdG8gYmVjb21lIGNsYXNzIG1ldGhvZHMuXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtmdW5jdGlvbihUKTpUfSBtaXhpbiBPcHRpb25hbCBtaXhpbiB0byBhcHBseSB0byBsZWdhY3kgYmFzZSBjbGFzc1xuICogICBiZWZvcmUgZXh0ZW5kaW5nIHdpdGggUG9seW1lciBtZXRhcHJvZ3JhbW1pbmcuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6SFRNTEVsZW1lbnQpfSBHZW5lcmF0ZWQgY2xhc3NcbiAqL1xuZXhwb3J0IGNvbnN0IENsYXNzID0gZnVuY3Rpb24oaW5mbywgbWl4aW4pIHtcbiAgaWYgKCFpbmZvKSB7XG4gICAgY29uc29sZS53YXJuKCdQb2x5bWVyLkNsYXNzIHJlcXVpcmVzIGBpbmZvYCBhcmd1bWVudCcpO1xuICB9XG4gIGxldCBrbGFzcyA9IG1peGluID8gbWl4aW4oTGVnYWN5RWxlbWVudE1peGluKEhUTUxFbGVtZW50KSkgOlxuICAgICAgTGVnYWN5RWxlbWVudE1peGluKEhUTUxFbGVtZW50KTtcbiAga2xhc3MgPSBHZW5lcmF0ZUNsYXNzRnJvbUluZm8oaW5mbywga2xhc3MsIGluZm8uYmVoYXZpb3JzKTtcbiAgLy8gZGVjb3JhdGUga2xhc3Mgd2l0aCByZWdpc3RyYXRpb24gaW5mb1xuICBrbGFzcy5pcyA9IGtsYXNzLnByb3RvdHlwZS5pcyA9IGluZm8uaXM7XG4gIHJldHVybiBrbGFzcztcbn07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuL2NsYXNzLmpzJztcblxuaW1wb3J0ICcuLi91dGlscy9ib290LmpzJztcblxuLyoqXG4gKiBMZWdhY3kgY2xhc3MgZmFjdG9yeSBhbmQgcmVnaXN0cmF0aW9uIGhlbHBlciBmb3IgZGVmaW5pbmcgUG9seW1lclxuICogZWxlbWVudHMuXG4gKlxuICogVGhpcyBtZXRob2QgaXMgZXF1aXZhbGVudCB0b1xuICpcbiAqICAgICBpbXBvcnQge0NsYXNzfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi9sZWdhY3kvY2xhc3MuanMnO1xuICogICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZShpbmZvLmlzLCBDbGFzcyhpbmZvKSk7XG4gKlxuICogU2VlIGBDbGFzc2AgZm9yIGRldGFpbHMgb24gdmFsaWQgbGVnYWN5IG1ldGFkYXRhIGZvcm1hdCBmb3IgYGluZm9gLlxuICpcbiAqIEBnbG9iYWxcbiAqIEBvdmVycmlkZVxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyFQb2x5bWVySW5pdH0gaW5mbyBPYmplY3QgY29udGFpbmluZyBQb2x5bWVyIG1ldGFkYXRhIGFuZCBmdW5jdGlvbnNcbiAqICAgdG8gYmVjb21lIGNsYXNzIG1ldGhvZHMuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6IEhUTUxFbGVtZW50KX0gR2VuZXJhdGVkIGNsYXNzXG4gKiBAc3VwcHJlc3Mge2R1cGxpY2F0ZSwgaW52YWxpZENhc3RzLCBjaGVja1R5cGVzfVxuICovXG5jb25zdCBQb2x5bWVyID0gZnVuY3Rpb24oaW5mbykge1xuICAvLyBpZiBpbnB1dCBpcyBhIGBjbGFzc2AgKGFrYSBhIGZ1bmN0aW9uIHdpdGggYSBwcm90b3R5cGUpLCB1c2UgdGhlIHByb3RvdHlwZVxuICAvLyByZW1lbWJlciB0aGF0IHRoZSBgY29uc3RydWN0b3JgIHdpbGwgbmV2ZXIgYmUgY2FsbGVkXG4gIGxldCBrbGFzcztcbiAgaWYgKHR5cGVvZiBpbmZvID09PSAnZnVuY3Rpb24nKSB7XG4gICAga2xhc3MgPSBpbmZvO1xuICB9IGVsc2Uge1xuICAgIGtsYXNzID0gUG9seW1lci5DbGFzcyhpbmZvKTtcbiAgfVxuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoa2xhc3MuaXMsIC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqLyhrbGFzcykpO1xuICByZXR1cm4ga2xhc3M7XG59O1xuXG5Qb2x5bWVyLkNsYXNzID0gQ2xhc3M7XG5cbmV4cG9ydCB7IFBvbHltZXIgfTsiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0IHsgZGVkdXBpbmdNaXhpbiB9IGZyb20gJy4uL3V0aWxzL21peGluLmpzJztcblxuLy8gQ29tbW9uIGltcGxlbWVudGF0aW9uIGZvciBtaXhpbiAmIGJlaGF2aW9yXG5mdW5jdGlvbiBtdXRhYmxlUHJvcGVydHlDaGFuZ2UoaW5zdCwgcHJvcGVydHksIHZhbHVlLCBvbGQsIG11dGFibGVEYXRhKSB7XG4gIGxldCBpc09iamVjdDtcbiAgaWYgKG11dGFibGVEYXRhKSB7XG4gICAgaXNPYmplY3QgPSAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCk7XG4gICAgLy8gUHVsbCBgb2xkYCBmb3IgT2JqZWN0cyBmcm9tIHRlbXAgY2FjaGUsIGJ1dCB0cmVhdCBgbnVsbGAgYXMgYSBwcmltaXRpdmVcbiAgICBpZiAoaXNPYmplY3QpIHtcbiAgICAgIG9sZCA9IGluc3QuX19kYXRhVGVtcFtwcm9wZXJ0eV07XG4gICAgfVxuICB9XG4gIC8vIFN0cmljdCBlcXVhbGl0eSBjaGVjaywgYnV0IHJldHVybiBmYWxzZSBmb3IgTmFOPT09TmFOXG4gIGxldCBzaG91bGRDaGFuZ2UgPSAob2xkICE9PSB2YWx1ZSAmJiAob2xkID09PSBvbGQgfHwgdmFsdWUgPT09IHZhbHVlKSk7XG4gIC8vIE9iamVjdHMgYXJlIHN0b3JlZCBpbiB0ZW1wb3JhcnkgY2FjaGUgKGNsZWFyZWQgYXQgZW5kIG9mXG4gIC8vIHR1cm4pLCB3aGljaCBpcyB1c2VkIGZvciBkaXJ0eS1jaGVja2luZ1xuICBpZiAoaXNPYmplY3QgJiYgc2hvdWxkQ2hhbmdlKSB7XG4gICAgaW5zdC5fX2RhdGFUZW1wW3Byb3BlcnR5XSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiBzaG91bGRDaGFuZ2U7XG59XG5cbi8qKlxuICogRWxlbWVudCBjbGFzcyBtaXhpbiB0byBza2lwIHN0cmljdCBkaXJ0eS1jaGVja2luZyBmb3Igb2JqZWN0cyBhbmQgYXJyYXlzXG4gKiAoYWx3YXlzIGNvbnNpZGVyIHRoZW0gdG8gYmUgXCJkaXJ0eVwiKSwgZm9yIHVzZSBvbiBlbGVtZW50cyB1dGlsaXppbmdcbiAqIGBQcm9wZXJ0eUVmZmVjdHNgXG4gKlxuICogQnkgZGVmYXVsdCwgYFByb3BlcnR5RWZmZWN0c2AgcGVyZm9ybXMgc3RyaWN0IGRpcnR5IGNoZWNraW5nIG9uXG4gKiBvYmplY3RzLCB3aGljaCBtZWFucyB0aGF0IGFueSBkZWVwIG1vZGlmaWNhdGlvbnMgdG8gYW4gb2JqZWN0IG9yIGFycmF5IHdpbGxcbiAqIG5vdCBiZSBwcm9wYWdhdGVkIHVubGVzcyBcImltbXV0YWJsZVwiIGRhdGEgcGF0dGVybnMgYXJlIHVzZWQgKGkuZS4gYWxsIG9iamVjdFxuICogcmVmZXJlbmNlcyBmcm9tIHRoZSByb290IHRvIHRoZSBtdXRhdGlvbiB3ZXJlIGNoYW5nZWQpLlxuICpcbiAqIFBvbHltZXIgYWxzbyBwcm92aWRlcyBhIHByb3ByaWV0YXJ5IGRhdGEgbXV0YXRpb24gYW5kIHBhdGggbm90aWZpY2F0aW9uIEFQSVxuICogKGUuZy4gYG5vdGlmeVBhdGhgLCBgc2V0YCwgYW5kIGFycmF5IG11dGF0aW9uIEFQSSdzKSB0aGF0IGFsbG93IGVmZmljaWVudFxuICogbXV0YXRpb24gYW5kIG5vdGlmaWNhdGlvbiBvZiBkZWVwIGNoYW5nZXMgaW4gYW4gb2JqZWN0IGdyYXBoIHRvIGFsbCBlbGVtZW50c1xuICogYm91bmQgdG8gdGhlIHNhbWUgb2JqZWN0IGdyYXBoLlxuICpcbiAqIEluIGNhc2VzIHdoZXJlIG5laXRoZXIgaW1tdXRhYmxlIHBhdHRlcm5zIG5vciB0aGUgZGF0YSBtdXRhdGlvbiBBUEkgY2FuIGJlXG4gKiB1c2VkLCBhcHBseWluZyB0aGlzIG1peGluIHdpbGwgY2F1c2UgUG9seW1lciB0byBza2lwIGRpcnR5IGNoZWNraW5nIGZvclxuICogb2JqZWN0cyBhbmQgYXJyYXlzIChhbHdheXMgY29uc2lkZXIgdGhlbSB0byBiZSBcImRpcnR5XCIpLiAgVGhpcyBhbGxvd3MgYVxuICogdXNlciB0byBtYWtlIGEgZGVlcCBtb2RpZmljYXRpb24gdG8gYSBib3VuZCBvYmplY3QgZ3JhcGgsIGFuZCB0aGVuIGVpdGhlclxuICogc2ltcGx5IHJlLXNldCB0aGUgb2JqZWN0IChlLmcuIGB0aGlzLml0ZW1zID0gdGhpcy5pdGVtc2ApIG9yIGNhbGwgYG5vdGlmeVBhdGhgXG4gKiAoZS5nLiBgdGhpcy5ub3RpZnlQYXRoKCdpdGVtcycpYCkgdG8gdXBkYXRlIHRoZSB0cmVlLiAgTm90ZSB0aGF0IGFsbFxuICogZWxlbWVudHMgdGhhdCB3aXNoIHRvIGJlIHVwZGF0ZWQgYmFzZWQgb24gZGVlcCBtdXRhdGlvbnMgbXVzdCBhcHBseSB0aGlzXG4gKiBtaXhpbiBvciBvdGhlcndpc2Ugc2tpcCBzdHJpY3QgZGlydHkgY2hlY2tpbmcgZm9yIG9iamVjdHMvYXJyYXlzLlxuICogU3BlY2lmaWNhbGx5LCBhbnkgZWxlbWVudHMgaW4gdGhlIGJpbmRpbmcgdHJlZSBiZXR3ZWVuIHRoZSBzb3VyY2Ugb2YgYVxuICogbXV0YXRpb24gYW5kIHRoZSBjb25zdW1wdGlvbiBvZiBpdCBtdXN0IGFwcGx5IHRoaXMgbWl4aW4gb3IgZW5hYmxlIHRoZVxuICogYE9wdGlvbmFsTXV0YWJsZURhdGFgIG1peGluLlxuICpcbiAqIEluIG9yZGVyIHRvIG1ha2UgdGhlIGRpcnR5IGNoZWNrIHN0cmF0ZWd5IGNvbmZpZ3VyYWJsZSwgc2VlXG4gKiBgT3B0aW9uYWxNdXRhYmxlRGF0YWAuXG4gKlxuICogTm90ZSwgdGhlIHBlcmZvcm1hbmNlIGNoYXJhY3RlcmlzdGljcyBvZiBwcm9wYWdhdGluZyBsYXJnZSBvYmplY3QgZ3JhcGhzXG4gKiB3aWxsIGJlIHdvcnNlIGFzIG9wcG9zZWQgdG8gdXNpbmcgc3RyaWN0IGRpcnR5IGNoZWNraW5nIHdpdGggaW1tdXRhYmxlXG4gKiBwYXR0ZXJucyBvciBQb2x5bWVyJ3MgcGF0aCBub3RpZmljYXRpb24gQVBJLlxuICpcbiAqIEBtaXhpbkZ1bmN0aW9uXG4gKiBAcG9seW1lclxuICogQHN1bW1hcnkgRWxlbWVudCBjbGFzcyBtaXhpbiB0byBza2lwIHN0cmljdCBkaXJ0eS1jaGVja2luZyBmb3Igb2JqZWN0c1xuICogICBhbmQgYXJyYXlzXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3MgQ2xhc3MgdG8gYXBwbHkgbWl4aW4gdG8uXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3Mgd2l0aCBtaXhpbiBhcHBsaWVkLlxuICovXG5leHBvcnQgY29uc3QgTXV0YWJsZURhdGEgPSBkZWR1cGluZ01peGluKHN1cGVyQ2xhc3MgPT4ge1xuXG4gIC8qKlxuICAgKiBAcG9seW1lclxuICAgKiBAbWl4aW5DbGFzc1xuICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9NdXRhYmxlRGF0YX1cbiAgICovXG4gIGNsYXNzIE11dGFibGVEYXRhIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIGBQcm9wZXJ0eUVmZmVjdHNgIHRvIHByb3ZpZGUgb3B0aW9uIGZvciBza2lwcGluZ1xuICAgICAqIHN0cmljdCBlcXVhbGl0eSBjaGVja2luZyBmb3IgT2JqZWN0cyBhbmQgQXJyYXlzLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgcHVsbHMgdGhlIHZhbHVlIHRvIGRpcnR5IGNoZWNrIGFnYWluc3QgZnJvbSB0aGUgYF9fZGF0YVRlbXBgXG4gICAgICogY2FjaGUgKHJhdGhlciB0aGFuIHRoZSBub3JtYWwgYF9fZGF0YWAgY2FjaGUpIGZvciBPYmplY3RzLiAgU2luY2UgdGhlIHRlbXBcbiAgICAgKiBjYWNoZSBpcyBjbGVhcmVkIGF0IHRoZSBlbmQgb2YgYSB0dXJuLCB0aGlzIGltcGxlbWVudGF0aW9uIGFsbG93c1xuICAgICAqIHNpZGUtZWZmZWN0cyBvZiBkZWVwIG9iamVjdCBjaGFuZ2VzIHRvIGJlIHByb2Nlc3NlZCBieSByZS1zZXR0aW5nIHRoZVxuICAgICAqIHNhbWUgb2JqZWN0ICh1c2luZyB0aGUgdGVtcCBjYWNoZSBhcyBhbiBpbi10dXJuIGJhY2tzdG9wIHRvIHByZXZlbnRcbiAgICAgKiBjeWNsZXMgZHVlIHRvIDItd2F5IG5vdGlmaWNhdGlvbikuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgTmV3IHByb3BlcnR5IHZhbHVlXG4gICAgICogQHBhcmFtIHsqfSBvbGQgUHJldmlvdXMgcHJvcGVydHkgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBwcm9wZXJ0eSBzaG91bGQgYmUgY29uc2lkZXJlZCBhIGNoYW5nZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfc2hvdWxkUHJvcGVydHlDaGFuZ2UocHJvcGVydHksIHZhbHVlLCBvbGQpIHtcbiAgICAgIHJldHVybiBtdXRhYmxlUHJvcGVydHlDaGFuZ2UodGhpcywgcHJvcGVydHksIHZhbHVlLCBvbGQsIHRydWUpO1xuICAgIH1cblxuICB9XG5cbiAgcmV0dXJuIE11dGFibGVEYXRhO1xuXG59KTtcblxuLyoqXG4gKiBFbGVtZW50IGNsYXNzIG1peGluIHRvIGFkZCB0aGUgb3B0aW9uYWwgYWJpbGl0eSB0byBza2lwIHN0cmljdFxuICogZGlydHktY2hlY2tpbmcgZm9yIG9iamVjdHMgYW5kIGFycmF5cyAoYWx3YXlzIGNvbnNpZGVyIHRoZW0gdG8gYmVcbiAqIFwiZGlydHlcIikgYnkgc2V0dGluZyBhIGBtdXRhYmxlLWRhdGFgIGF0dHJpYnV0ZSBvbiBhbiBlbGVtZW50IGluc3RhbmNlLlxuICpcbiAqIEJ5IGRlZmF1bHQsIGBQcm9wZXJ0eUVmZmVjdHNgIHBlcmZvcm1zIHN0cmljdCBkaXJ0eSBjaGVja2luZyBvblxuICogb2JqZWN0cywgd2hpY2ggbWVhbnMgdGhhdCBhbnkgZGVlcCBtb2RpZmljYXRpb25zIHRvIGFuIG9iamVjdCBvciBhcnJheSB3aWxsXG4gKiBub3QgYmUgcHJvcGFnYXRlZCB1bmxlc3MgXCJpbW11dGFibGVcIiBkYXRhIHBhdHRlcm5zIGFyZSB1c2VkIChpLmUuIGFsbCBvYmplY3RcbiAqIHJlZmVyZW5jZXMgZnJvbSB0aGUgcm9vdCB0byB0aGUgbXV0YXRpb24gd2VyZSBjaGFuZ2VkKS5cbiAqXG4gKiBQb2x5bWVyIGFsc28gcHJvdmlkZXMgYSBwcm9wcmlldGFyeSBkYXRhIG11dGF0aW9uIGFuZCBwYXRoIG5vdGlmaWNhdGlvbiBBUElcbiAqIChlLmcuIGBub3RpZnlQYXRoYCwgYHNldGAsIGFuZCBhcnJheSBtdXRhdGlvbiBBUEkncykgdGhhdCBhbGxvdyBlZmZpY2llbnRcbiAqIG11dGF0aW9uIGFuZCBub3RpZmljYXRpb24gb2YgZGVlcCBjaGFuZ2VzIGluIGFuIG9iamVjdCBncmFwaCB0byBhbGwgZWxlbWVudHNcbiAqIGJvdW5kIHRvIHRoZSBzYW1lIG9iamVjdCBncmFwaC5cbiAqXG4gKiBJbiBjYXNlcyB3aGVyZSBuZWl0aGVyIGltbXV0YWJsZSBwYXR0ZXJucyBub3IgdGhlIGRhdGEgbXV0YXRpb24gQVBJIGNhbiBiZVxuICogdXNlZCwgYXBwbHlpbmcgdGhpcyBtaXhpbiB3aWxsIGFsbG93IFBvbHltZXIgdG8gc2tpcCBkaXJ0eSBjaGVja2luZyBmb3JcbiAqIG9iamVjdHMgYW5kIGFycmF5cyAoYWx3YXlzIGNvbnNpZGVyIHRoZW0gdG8gYmUgXCJkaXJ0eVwiKS4gIFRoaXMgYWxsb3dzIGFcbiAqIHVzZXIgdG8gbWFrZSBhIGRlZXAgbW9kaWZpY2F0aW9uIHRvIGEgYm91bmQgb2JqZWN0IGdyYXBoLCBhbmQgdGhlbiBlaXRoZXJcbiAqIHNpbXBseSByZS1zZXQgdGhlIG9iamVjdCAoZS5nLiBgdGhpcy5pdGVtcyA9IHRoaXMuaXRlbXNgKSBvciBjYWxsIGBub3RpZnlQYXRoYFxuICogKGUuZy4gYHRoaXMubm90aWZ5UGF0aCgnaXRlbXMnKWApIHRvIHVwZGF0ZSB0aGUgdHJlZS4gIE5vdGUgdGhhdCBhbGxcbiAqIGVsZW1lbnRzIHRoYXQgd2lzaCB0byBiZSB1cGRhdGVkIGJhc2VkIG9uIGRlZXAgbXV0YXRpb25zIG11c3QgYXBwbHkgdGhpc1xuICogbWl4aW4gb3Igb3RoZXJ3aXNlIHNraXAgc3RyaWN0IGRpcnR5IGNoZWNraW5nIGZvciBvYmplY3RzL2FycmF5cy5cbiAqIFNwZWNpZmljYWxseSwgYW55IGVsZW1lbnRzIGluIHRoZSBiaW5kaW5nIHRyZWUgYmV0d2VlbiB0aGUgc291cmNlIG9mIGFcbiAqIG11dGF0aW9uIGFuZCB0aGUgY29uc3VtcHRpb24gb2YgaXQgbXVzdCBlbmFibGUgdGhpcyBtaXhpbiBvciBhcHBseSB0aGVcbiAqIGBNdXRhYmxlRGF0YWAgbWl4aW4uXG4gKlxuICogV2hpbGUgdGhpcyBtaXhpbiBhZGRzIHRoZSBhYmlsaXR5IHRvIGZvcmdvIE9iamVjdC9BcnJheSBkaXJ0eSBjaGVja2luZyxcbiAqIHRoZSBgbXV0YWJsZURhdGFgIGZsYWcgZGVmYXVsdHMgdG8gZmFsc2UgYW5kIG11c3QgYmUgc2V0IG9uIHRoZSBpbnN0YW5jZS5cbiAqXG4gKiBOb3RlLCB0aGUgcGVyZm9ybWFuY2UgY2hhcmFjdGVyaXN0aWNzIG9mIHByb3BhZ2F0aW5nIGxhcmdlIG9iamVjdCBncmFwaHNcbiAqIHdpbGwgYmUgd29yc2UgYnkgcmVseWluZyBvbiBgbXV0YWJsZURhdGE6IHRydWVgIGFzIG9wcG9zZWQgdG8gdXNpbmdcbiAqIHN0cmljdCBkaXJ0eSBjaGVja2luZyB3aXRoIGltbXV0YWJsZSBwYXR0ZXJucyBvciBQb2x5bWVyJ3MgcGF0aCBub3RpZmljYXRpb25cbiAqIEFQSS5cbiAqXG4gKiBAbWl4aW5GdW5jdGlvblxuICogQHBvbHltZXJcbiAqIEBzdW1tYXJ5IEVsZW1lbnQgY2xhc3MgbWl4aW4gdG8gb3B0aW9uYWxseSBza2lwIHN0cmljdCBkaXJ0eS1jaGVja2luZ1xuICogICBmb3Igb2JqZWN0cyBhbmQgYXJyYXlzXG4gKi9cbmV4cG9ydCBjb25zdCBPcHRpb25hbE11dGFibGVEYXRhID0gZGVkdXBpbmdNaXhpbihzdXBlckNsYXNzID0+IHtcblxuICAvKipcbiAgICogQG1peGluQ2xhc3NcbiAgICogQHBvbHltZXJcbiAgICogQGltcGxlbWVudHMge1BvbHltZXJfT3B0aW9uYWxNdXRhYmxlRGF0YX1cbiAgICovXG4gIGNsYXNzIE9wdGlvbmFsTXV0YWJsZURhdGEgZXh0ZW5kcyBzdXBlckNsYXNzIHtcblxuICAgIC8qKiBAbm9jb2xsYXBzZSAqL1xuICAgIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnN0YW5jZS1sZXZlbCBmbGFnIGZvciBjb25maWd1cmluZyB0aGUgZGlydHktY2hlY2tpbmcgc3RyYXRlZ3lcbiAgICAgICAgICogZm9yIHRoaXMgZWxlbWVudC4gIFdoZW4gdHJ1ZSwgT2JqZWN0cyBhbmQgQXJyYXlzIHdpbGwgc2tpcCBkaXJ0eVxuICAgICAgICAgKiBjaGVja2luZywgb3RoZXJ3aXNlIHN0cmljdCBlcXVhbGl0eSBjaGVja2luZyB3aWxsIGJlIHVzZWQuXG4gICAgICAgICAqL1xuICAgICAgICBtdXRhYmxlRGF0YTogQm9vbGVhblxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgYFByb3BlcnR5RWZmZWN0c2AgdG8gcHJvdmlkZSBvcHRpb24gZm9yIHNraXBwaW5nXG4gICAgICogc3RyaWN0IGVxdWFsaXR5IGNoZWNraW5nIGZvciBPYmplY3RzIGFuZCBBcnJheXMuXG4gICAgICpcbiAgICAgKiBXaGVuIGB0aGlzLm11dGFibGVEYXRhYCBpcyB0cnVlIG9uIHRoaXMgaW5zdGFuY2UsIHRoaXMgbWV0aG9kXG4gICAgICogcHVsbHMgdGhlIHZhbHVlIHRvIGRpcnR5IGNoZWNrIGFnYWluc3QgZnJvbSB0aGUgYF9fZGF0YVRlbXBgIGNhY2hlXG4gICAgICogKHJhdGhlciB0aGFuIHRoZSBub3JtYWwgYF9fZGF0YWAgY2FjaGUpIGZvciBPYmplY3RzLiAgU2luY2UgdGhlIHRlbXBcbiAgICAgKiBjYWNoZSBpcyBjbGVhcmVkIGF0IHRoZSBlbmQgb2YgYSB0dXJuLCB0aGlzIGltcGxlbWVudGF0aW9uIGFsbG93c1xuICAgICAqIHNpZGUtZWZmZWN0cyBvZiBkZWVwIG9iamVjdCBjaGFuZ2VzIHRvIGJlIHByb2Nlc3NlZCBieSByZS1zZXR0aW5nIHRoZVxuICAgICAqIHNhbWUgb2JqZWN0ICh1c2luZyB0aGUgdGVtcCBjYWNoZSBhcyBhbiBpbi10dXJuIGJhY2tzdG9wIHRvIHByZXZlbnRcbiAgICAgKiBjeWNsZXMgZHVlIHRvIDItd2F5IG5vdGlmaWNhdGlvbikuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgTmV3IHByb3BlcnR5IHZhbHVlXG4gICAgICogQHBhcmFtIHsqfSBvbGQgUHJldmlvdXMgcHJvcGVydHkgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBwcm9wZXJ0eSBzaG91bGQgYmUgY29uc2lkZXJlZCBhIGNoYW5nZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfc2hvdWxkUHJvcGVydHlDaGFuZ2UocHJvcGVydHksIHZhbHVlLCBvbGQpIHtcbiAgICAgIHJldHVybiBtdXRhYmxlUHJvcGVydHlDaGFuZ2UodGhpcywgcHJvcGVydHksIHZhbHVlLCBvbGQsIHRoaXMubXV0YWJsZURhdGEpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBPcHRpb25hbE11dGFibGVEYXRhO1xuXG59KTtcblxuLy8gRXhwb3J0IGZvciB1c2UgYnkgbGVnYWN5IGJlaGF2aW9yXG5NdXRhYmxlRGF0YS5fbXV0YWJsZVByb3BlcnR5Q2hhbmdlID0gbXV0YWJsZVByb3BlcnR5Q2hhbmdlO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuLyoqXG4gKiBNb2R1bGUgZm9yIHByZXBhcmluZyBhbmQgc3RhbXBpbmcgaW5zdGFuY2VzIG9mIHRlbXBsYXRlcyB0aGF0IHV0aWxpemVcbiAqIFBvbHltZXIncyBkYXRhLWJpbmRpbmcgYW5kIGRlY2xhcmF0aXZlIGV2ZW50IGxpc3RlbmVyIGZlYXR1cmVzLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogICAgIC8vIEdldCBhIHRlbXBsYXRlIGZyb20gc29tZXdoZXJlLCBlLmcuIGxpZ2h0IERPTVxuICogICAgIGxldCB0ZW1wbGF0ZSA9IHRoaXMucXVlcnlTZWxlY3RvcigndGVtcGxhdGUnKTtcbiAqICAgICAvLyBQcmVwYXJlIHRoZSB0ZW1wbGF0ZVxuICogICAgIGxldCBUZW1wbGF0ZUNsYXNzID0gVGVtcGxhdGl6ZS50ZW1wbGF0aXplKHRlbXBsYXRlKTtcbiAqICAgICAvLyBJbnN0YW5jZSB0aGUgdGVtcGxhdGUgd2l0aCBhbiBpbml0aWFsIGRhdGEgbW9kZWxcbiAqICAgICBsZXQgaW5zdGFuY2UgPSBuZXcgVGVtcGxhdGVDbGFzcyh7bXlQcm9wOiAnaW5pdGlhbCd9KTtcbiAqICAgICAvLyBJbnNlcnQgdGhlIGluc3RhbmNlJ3MgRE9NIHNvbWV3aGVyZSwgZS5nLiBlbGVtZW50J3Mgc2hhZG93IERPTVxuICogICAgIHRoaXMuc2hhZG93Um9vdC5hcHBlbmRDaGlsZChpbnN0YW5jZS5yb290KTtcbiAqICAgICAvLyBDaGFuZ2luZyBhIHByb3BlcnR5IG9uIHRoZSBpbnN0YW5jZSB3aWxsIHByb3BhZ2F0ZSB0byBiaW5kaW5nc1xuICogICAgIC8vIGluIHRoZSB0ZW1wbGF0ZVxuICogICAgIGluc3RhbmNlLm15UHJvcCA9ICduZXcgdmFsdWUnO1xuICpcbiAqIFRoZSBgb3B0aW9uc2AgZGljdGlvbmFyeSBwYXNzZWQgdG8gYHRlbXBsYXRpemVgIGFsbG93cyBmb3IgY3VzdG9taXppbmdcbiAqIGZlYXR1cmVzIG9mIHRoZSBnZW5lcmF0ZWQgdGVtcGxhdGUgY2xhc3MsIGluY2x1ZGluZyBob3cgb3V0ZXItc2NvcGUgaG9zdFxuICogcHJvcGVydGllcyBzaG91bGQgYmUgZm9yd2FyZGVkIGludG8gdGVtcGxhdGUgaW5zdGFuY2VzLCBob3cgYW55IGluc3RhbmNlXG4gKiBwcm9wZXJ0aWVzIGFkZGVkIGludG8gdGhlIHRlbXBsYXRlJ3Mgc2NvcGUgc2hvdWxkIGJlIG5vdGlmaWVkIG91dCB0b1xuICogdGhlIGhvc3QsIGFuZCB3aGV0aGVyIHRoZSBpbnN0YW5jZSBzaG91bGQgYmUgZGVjb3JhdGVkIGFzIGEgXCJwYXJlbnQgbW9kZWxcIlxuICogb2YgYW55IGV2ZW50IGhhbmRsZXJzLlxuICpcbiAqICAgICAvLyBDdXN0b21pemUgcHJvcGVydHkgZm9yd2FyZGluZyBhbmQgZXZlbnQgbW9kZWwgZGVjb3JhdGlvblxuICogICAgIGxldCBUZW1wbGF0ZUNsYXNzID0gVGVtcGxhdGl6ZS50ZW1wbGF0aXplKHRlbXBsYXRlLCB0aGlzLCB7XG4gKiAgICAgICBwYXJlbnRNb2RlbDogdHJ1ZSxcbiAqICAgICAgIGZvcndhcmRIb3N0UHJvcChwcm9wZXJ0eSwgdmFsdWUpIHsuLi59LFxuICogICAgICAgaW5zdGFuY2VQcm9wczogey4uLn0sXG4gKiAgICAgICBub3RpZnlJbnN0YW5jZVByb3AoaW5zdGFuY2UsIHByb3BlcnR5LCB2YWx1ZSkgey4uLn0sXG4gKiAgICAgfSk7XG4gKlxuICogQHN1bW1hcnkgTW9kdWxlIGZvciBwcmVwYXJpbmcgYW5kIHN0YW1waW5nIGluc3RhbmNlcyBvZiB0ZW1wbGF0ZXNcbiAqICAgdXRpbGl6aW5nIFBvbHltZXIgdGVtcGxhdGluZyBmZWF0dXJlcy5cbiAqL1xuXG5pbXBvcnQgJy4vYm9vdC5qcyc7XG5cbmltcG9ydCB7IFByb3BlcnR5RWZmZWN0cyB9IGZyb20gJy4uL21peGlucy9wcm9wZXJ0eS1lZmZlY3RzLmpzJztcbmltcG9ydCB7IE11dGFibGVEYXRhIH0gZnJvbSAnLi4vbWl4aW5zL211dGFibGUtZGF0YS5qcyc7XG5pbXBvcnQgeyBzdHJpY3RUZW1wbGF0ZVBvbGljeSB9IGZyb20gJy4vc2V0dGluZ3MuanMnO1xuaW1wb3J0IHsgd3JhcCB9IGZyb20gJy4vd3JhcC5qcyc7XG5cbi8vIEJhc2UgY2xhc3MgZm9yIEhUTUxUZW1wbGF0ZUVsZW1lbnQgZXh0ZW5zaW9uIHRoYXQgaGFzIHByb3BlcnR5IGVmZmVjdHNcbi8vIG1hY2hpbmVyeSBmb3IgcHJvcGFnYXRpbmcgaG9zdCBwcm9wZXJ0aWVzIHRvIGNoaWxkcmVuLiBUaGlzIGlzIGFuIEVTNVxuLy8gY2xhc3Mgb25seSBiZWNhdXNlIEJhYmVsIChpbmNvcnJlY3RseSkgcmVxdWlyZXMgc3VwZXIoKSBpbiB0aGUgY2xhc3Ncbi8vIGNvbnN0cnVjdG9yIGV2ZW4gdGhvdWdoIG5vIGB0aGlzYCBpcyB1c2VkIGFuZCBpdCByZXR1cm5zIGFuIGluc3RhbmNlLlxubGV0IG5ld0luc3RhbmNlID0gbnVsbDtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIHtIVE1MVGVtcGxhdGVFbGVtZW50fVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gSFRNTFRlbXBsYXRlRWxlbWVudEV4dGVuc2lvbigpIHsgcmV0dXJuIG5ld0luc3RhbmNlOyB9XG5IVE1MVGVtcGxhdGVFbGVtZW50RXh0ZW5zaW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGUsIHtcbiAgY29uc3RydWN0b3I6IHtcbiAgICB2YWx1ZTogSFRNTFRlbXBsYXRlRWxlbWVudEV4dGVuc2lvbixcbiAgICB3cml0YWJsZTogdHJ1ZVxuICB9XG59KTtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c31cbiAqIEBleHRlbmRzIHtIVE1MVGVtcGxhdGVFbGVtZW50RXh0ZW5zaW9ufVxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgRGF0YVRlbXBsYXRlID0gUHJvcGVydHlFZmZlY3RzKEhUTUxUZW1wbGF0ZUVsZW1lbnRFeHRlbnNpb24pO1xuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQGltcGxlbWVudHMge1BvbHltZXJfTXV0YWJsZURhdGF9XG4gKiBAZXh0ZW5kcyB7RGF0YVRlbXBsYXRlfVxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgTXV0YWJsZURhdGFUZW1wbGF0ZSA9IE11dGFibGVEYXRhKERhdGFUZW1wbGF0ZSk7XG5cbi8vIEFwcGxpZXMgYSBEYXRhVGVtcGxhdGUgc3ViY2xhc3MgdG8gYSA8dGVtcGxhdGU+IGluc3RhbmNlXG5mdW5jdGlvbiB1cGdyYWRlVGVtcGxhdGUodGVtcGxhdGUsIGNvbnN0cnVjdG9yKSB7XG4gIG5ld0luc3RhbmNlID0gdGVtcGxhdGU7XG4gIE9iamVjdC5zZXRQcm90b3R5cGVPZih0ZW1wbGF0ZSwgY29uc3RydWN0b3IucHJvdG90eXBlKTtcbiAgbmV3IGNvbnN0cnVjdG9yKCk7XG4gIG5ld0luc3RhbmNlID0gbnVsbDtcbn1cblxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBUZW1wbGF0ZUluc3RhbmNlLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyB7SFRNTEVsZW1lbnR9XG4gKiBAaW1wbGVtZW50cyB7UG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9XG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCB0ZW1wbGF0ZUluc3RhbmNlQmFzZSA9IFByb3BlcnR5RWZmZWN0cyhcbiAgICAvLyBUaGlzIGNhc3Qgc2hvdWxkbid0IGJlIG5lY2Nlc3NhcnksIGJ1dCBDbG9zdXJlIGRvZXNuJ3QgdW5kZXJzdGFuZCB0aGF0XG4gICAgLy8gXCJjbGFzcyB7fVwiIGlzIGEgY29uc3RydWN0b3IgZnVuY3Rpb24uXG4gICAgLyoqIEB0eXBlIHtmdW5jdGlvbihuZXc6T2JqZWN0KX0gKi8oY2xhc3Mge30pKTtcblxuLyoqXG4gKiBAcG9seW1lclxuICogQGN1c3RvbUVsZW1lbnRcbiAqIEBhcHBsaWVzTWl4aW4gUHJvcGVydHlFZmZlY3RzXG4gKiBAdW5yZXN0cmljdGVkXG4gKi9cbmNsYXNzIFRlbXBsYXRlSW5zdGFuY2VCYXNlIGV4dGVuZHMgdGVtcGxhdGVJbnN0YW5jZUJhc2Uge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fY29uZmlndXJlUHJvcGVydGllcyhwcm9wcyk7XG4gICAgLyoqIEB0eXBlIHshU3RhbXBlZFRlbXBsYXRlfSAqL1xuICAgIHRoaXMucm9vdCA9IHRoaXMuX3N0YW1wVGVtcGxhdGUodGhpcy5fX2RhdGFIb3N0KTtcbiAgICAvLyBTYXZlIGxpc3Qgb2Ygc3RhbXBlZCBjaGlsZHJlblxuICAgIGxldCBjaGlsZHJlbiA9IFtdO1xuICAgIC8qKiBAc3VwcHJlc3Mge2ludmFsaWRDYXN0c30gKi9cbiAgICB0aGlzLmNoaWxkcmVuID0gLyoqIEB0eXBlIHshTm9kZUxpc3R9ICovIChjaGlsZHJlbik7XG4gICAgLy8gUG9seW1lciAxLnggZGlkIG5vdCB1c2UgYFBvbHltZXIuZG9tYCBoZXJlIHNvIG5vdCBib3RoZXJpbmcuXG4gICAgZm9yIChsZXQgbiA9IHRoaXMucm9vdC5maXJzdENoaWxkOyBuOyBuPW4ubmV4dFNpYmxpbmcpIHtcbiAgICAgIGNoaWxkcmVuLnB1c2gobik7XG4gICAgICBuLl9fdGVtcGxhdGl6ZUluc3RhbmNlID0gdGhpcztcbiAgICB9XG4gICAgaWYgKHRoaXMuX190ZW1wbGF0aXplT3duZXIgJiZcbiAgICAgIHRoaXMuX190ZW1wbGF0aXplT3duZXIuX19oaWRlVGVtcGxhdGVDaGlsZHJlbl9fKSB7XG4gICAgICB0aGlzLl9zaG93SGlkZUNoaWxkcmVuKHRydWUpO1xuICAgIH1cbiAgICAvLyBGbHVzaCBwcm9wcyBvbmx5IHdoZW4gcHJvcHMgYXJlIHBhc3NlZCBpZiBpbnN0YW5jZSBwcm9wcyBleGlzdFxuICAgIC8vIG9yIHdoZW4gdGhlcmUgaXNuJ3QgaW5zdGFuY2UgcHJvcHMuXG4gICAgbGV0IG9wdGlvbnMgPSB0aGlzLl9fdGVtcGxhdGl6ZU9wdGlvbnM7XG4gICAgaWYgKChwcm9wcyAmJiBvcHRpb25zLmluc3RhbmNlUHJvcHMpIHx8ICFvcHRpb25zLmluc3RhbmNlUHJvcHMpIHtcbiAgICAgIHRoaXMuX2VuYWJsZVByb3BlcnRpZXMoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENvbmZpZ3VyZSB0aGUgZ2l2ZW4gYHByb3BzYCBieSBjYWxsaW5nIGBfc2V0UGVuZGluZ1Byb3BlcnR5YC4gQWxzb1xuICAgKiBzZXRzIGFueSBwcm9wZXJ0aWVzIHN0b3JlZCBpbiBgX19ob3N0UHJvcHNgLlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgT2JqZWN0IG9mIHByb3BlcnR5IG5hbWUtdmFsdWUgcGFpcnMgdG8gc2V0LlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgX2NvbmZpZ3VyZVByb3BlcnRpZXMocHJvcHMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IHRoaXMuX190ZW1wbGF0aXplT3B0aW9ucztcbiAgICBpZiAob3B0aW9ucy5mb3J3YXJkSG9zdFByb3ApIHtcbiAgICAgIGZvciAobGV0IGhwcm9wIGluIHRoaXMuX19ob3N0UHJvcHMpIHtcbiAgICAgICAgdGhpcy5fc2V0UGVuZGluZ1Byb3BlcnR5KGhwcm9wLCB0aGlzLl9fZGF0YUhvc3RbJ19ob3N0XycgKyBocHJvcF0pO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBBbnkgaW5zdGFuY2UgcHJvcHMgcGFzc2VkIGluIHRoZSBjb25zdHJ1Y3RvciB3aWxsIG92ZXJ3cml0ZSBob3N0IHByb3BzO1xuICAgIC8vIG5vcm1hbGx5IHRoaXMgd291bGQgYmUgYSB1c2VyIGVycm9yIGJ1dCB3ZSBkb24ndCBzcGVjaWZpY2FsbHkgZmlsdGVyIHRoZW1cbiAgICBmb3IgKGxldCBpcHJvcCBpbiBwcm9wcykge1xuICAgICAgdGhpcy5fc2V0UGVuZGluZ1Byb3BlcnR5KGlwcm9wLCBwcm9wc1tpcHJvcF0pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRm9yd2FyZHMgYSBob3N0IHByb3BlcnR5IHRvIHRoaXMgaW5zdGFuY2UuICBUaGlzIG1ldGhvZCBzaG91bGQgYmVcbiAgICogY2FsbGVkIG9uIGluc3RhbmNlcyBmcm9tIHRoZSBgb3B0aW9ucy5mb3J3YXJkSG9zdFByb3BgIGNhbGxiYWNrXG4gICAqIHRvIHByb3BhZ2F0ZSBjaGFuZ2VzIG9mIGhvc3QgcHJvcGVydGllcyB0byBlYWNoIGluc3RhbmNlLlxuICAgKlxuICAgKiBOb3RlIHRoaXMgbWV0aG9kIGVucXVldWVzIHRoZSBjaGFuZ2UsIHdoaWNoIGFyZSBmbHVzaGVkIGFzIGEgYmF0Y2guXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIFByb3BlcnR5IG9yIHBhdGggbmFtZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIG9mIHRoZSBwcm9wZXJ0eSB0byBmb3J3YXJkXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBmb3J3YXJkSG9zdFByb3AocHJvcCwgdmFsdWUpIHtcbiAgICBpZiAodGhpcy5fc2V0UGVuZGluZ1Byb3BlcnR5T3JQYXRoKHByb3AsIHZhbHVlLCBmYWxzZSwgdHJ1ZSkpIHtcbiAgICAgIHRoaXMuX19kYXRhSG9zdC5fZW5xdWV1ZUNsaWVudCh0aGlzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogT3ZlcnJpZGUgcG9pbnQgZm9yIGFkZGluZyBjdXN0b20gb3Igc2ltdWxhdGVkIGV2ZW50IGhhbmRsaW5nLlxuICAgKlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQHBhcmFtIHshTm9kZX0gbm9kZSBOb2RlIHRvIGFkZCBldmVudCBsaXN0ZW5lciB0b1xuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIE5hbWUgb2YgZXZlbnRcbiAgICogQHBhcmFtIHtmdW5jdGlvbighRXZlbnQpOnZvaWR9IGhhbmRsZXIgTGlzdGVuZXIgZnVuY3Rpb24gdG8gYWRkXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBfYWRkRXZlbnRMaXN0ZW5lclRvTm9kZShub2RlLCBldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICBpZiAodGhpcy5fbWV0aG9kSG9zdCAmJiB0aGlzLl9fdGVtcGxhdGl6ZU9wdGlvbnMucGFyZW50TW9kZWwpIHtcbiAgICAgIC8vIElmIHRoaXMgaW5zdGFuY2Ugc2hvdWxkIGJlIGNvbnNpZGVyZWQgYSBwYXJlbnQgbW9kZWwsIGRlY29yYXRlXG4gICAgICAvLyBldmVudHMgdGhpcyB0ZW1wbGF0ZSBpbnN0YW5jZSBhcyBgbW9kZWxgXG4gICAgICB0aGlzLl9tZXRob2RIb3N0Ll9hZGRFdmVudExpc3RlbmVyVG9Ob2RlKG5vZGUsIGV2ZW50TmFtZSwgKGUpID0+IHtcbiAgICAgICAgZS5tb2RlbCA9IHRoaXM7XG4gICAgICAgIGhhbmRsZXIoZSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gT3RoZXJ3aXNlIGRlbGVnYXRlIHRvIHRoZSB0ZW1wbGF0ZSdzIGhvc3QgKHdoaWNoIGNvdWxkIGJlKVxuICAgICAgLy8gYW5vdGhlciB0ZW1wbGF0ZSBpbnN0YW5jZVxuICAgICAgbGV0IHRlbXBsYXRlSG9zdCA9IHRoaXMuX19kYXRhSG9zdC5fX2RhdGFIb3N0O1xuICAgICAgaWYgKHRlbXBsYXRlSG9zdCkge1xuICAgICAgICB0ZW1wbGF0ZUhvc3QuX2FkZEV2ZW50TGlzdGVuZXJUb05vZGUobm9kZSwgZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFNob3dzIG9yIGhpZGVzIHRoZSB0ZW1wbGF0ZSBpbnN0YW5jZSB0b3AgbGV2ZWwgY2hpbGQgZWxlbWVudHMuIEZvclxuICAgKiB0ZXh0IG5vZGVzLCBgdGV4dENvbnRlbnRgIGlzIHJlbW92ZWQgd2hpbGUgXCJoaWRkZW5cIiBhbmQgcmVwbGFjZWQgd2hlblxuICAgKiBcInNob3duLlwiXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGlkZSBTZXQgdG8gdHJ1ZSB0byBoaWRlIHRoZSBjaGlsZHJlbjtcbiAgICogc2V0IHRvIGZhbHNlIHRvIHNob3cgdGhlbS5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3Nob3dIaWRlQ2hpbGRyZW4oaGlkZSkge1xuICAgIGxldCBjID0gdGhpcy5jaGlsZHJlbjtcbiAgICBmb3IgKGxldCBpPTA7IGk8Yy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IG4gPSBjW2ldO1xuICAgICAgLy8gSWdub3JlIG5vbi1jaGFuZ2VzXG4gICAgICBpZiAoQm9vbGVhbihoaWRlKSAhPSBCb29sZWFuKG4uX19oaWRlVGVtcGxhdGVDaGlsZHJlbl9fKSkge1xuICAgICAgICBpZiAobi5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcbiAgICAgICAgICBpZiAoaGlkZSkge1xuICAgICAgICAgICAgbi5fX3BvbHltZXJUZXh0Q29udGVudF9fID0gbi50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIG4udGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbi50ZXh0Q29udGVudCA9IG4uX19wb2x5bWVyVGV4dENvbnRlbnRfXztcbiAgICAgICAgICB9XG4gICAgICAgIC8vIHJlbW92ZSBhbmQgcmVwbGFjZSBzbG90XG4gICAgICAgIH0gZWxzZSBpZiAobi5sb2NhbE5hbWUgPT09ICdzbG90Jykge1xuICAgICAgICAgIGlmIChoaWRlKSB7XG4gICAgICAgICAgICBuLl9fcG9seW1lclJlcGxhY2VkX18gPSBkb2N1bWVudC5jcmVhdGVDb21tZW50KCdoaWRkZW4tc2xvdCcpO1xuICAgICAgICAgICAgd3JhcCh3cmFwKG4pLnBhcmVudE5vZGUpLnJlcGxhY2VDaGlsZChuLl9fcG9seW1lclJlcGxhY2VkX18sIG4pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCByZXBsYWNlID0gbi5fX3BvbHltZXJSZXBsYWNlZF9fO1xuICAgICAgICAgICAgaWYgKHJlcGxhY2UpIHtcbiAgICAgICAgICAgICAgd3JhcCh3cmFwKHJlcGxhY2UpLnBhcmVudE5vZGUpLnJlcGxhY2VDaGlsZChuLCByZXBsYWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChuLnN0eWxlKSB7XG4gICAgICAgICAgaWYgKGhpZGUpIHtcbiAgICAgICAgICAgIG4uX19wb2x5bWVyRGlzcGxheV9fID0gbi5zdHlsZS5kaXNwbGF5O1xuICAgICAgICAgICAgbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuLnN0eWxlLmRpc3BsYXkgPSBuLl9fcG9seW1lckRpc3BsYXlfXztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG4uX19oaWRlVGVtcGxhdGVDaGlsZHJlbl9fID0gaGlkZTtcbiAgICAgIGlmIChuLl9zaG93SGlkZUNoaWxkcmVuKSB7XG4gICAgICAgIG4uX3Nob3dIaWRlQ2hpbGRyZW4oaGlkZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBPdmVycmlkZXMgZGVmYXVsdCBwcm9wZXJ0eS1lZmZlY3RzIGltcGxlbWVudGF0aW9uIHRvIGludGVyY2VwdFxuICAgKiB0ZXh0Q29udGVudCBiaW5kaW5ncyB3aGlsZSBjaGlsZHJlbiBhcmUgXCJoaWRkZW5cIiBhbmQgY2FjaGUgaW5cbiAgICogcHJpdmF0ZSBzdG9yYWdlIGZvciBsYXRlciByZXRyaWV2YWwuXG4gICAqXG4gICAqIEBvdmVycmlkZVxuICAgKiBAcGFyYW0geyFOb2RlfSBub2RlIFRoZSBub2RlIHRvIHNldCBhIHByb3BlcnR5IG9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIFRoZSBwcm9wZXJ0eSB0byBzZXRcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0XG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9zZXRVbm1hbmFnZWRQcm9wZXJ0eVRvTm9kZShub2RlLCBwcm9wLCB2YWx1ZSkge1xuICAgIGlmIChub2RlLl9faGlkZVRlbXBsYXRlQ2hpbGRyZW5fXyAmJlxuICAgICAgICBub2RlLm5vZGVUeXBlID09IE5vZGUuVEVYVF9OT0RFICYmIHByb3AgPT0gJ3RleHRDb250ZW50Jykge1xuICAgICAgbm9kZS5fX3BvbHltZXJUZXh0Q29udGVudF9fID0gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN1cGVyLl9zZXRVbm1hbmFnZWRQcm9wZXJ0eVRvTm9kZShub2RlLCBwcm9wLCB2YWx1ZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBGaW5kIHRoZSBwYXJlbnQgbW9kZWwgb2YgdGhpcyB0ZW1wbGF0ZSBpbnN0YW5jZS4gIFRoZSBwYXJlbnQgbW9kZWxcbiAgICogaXMgZWl0aGVyIGFub3RoZXIgdGVtcGxhdGl6ZSBpbnN0YW5jZSB0aGF0IGhhZCBvcHRpb24gYHBhcmVudE1vZGVsOiB0cnVlYCxcbiAgICogb3IgZWxzZSB0aGUgaG9zdCBlbGVtZW50LlxuICAgKlxuICAgKiBAcmV0dXJuIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IFRoZSBwYXJlbnQgbW9kZWwgb2YgdGhpcyBpbnN0YW5jZVxuICAgKi9cbiAgZ2V0IHBhcmVudE1vZGVsKCkge1xuICAgIGxldCBtb2RlbCA9IHRoaXMuX19wYXJlbnRNb2RlbDtcbiAgICBpZiAoIW1vZGVsKSB7XG4gICAgICBsZXQgb3B0aW9ucztcbiAgICAgIG1vZGVsID0gdGhpcztcbiAgICAgIGRvIHtcbiAgICAgICAgLy8gQSB0ZW1wbGF0ZSBpbnN0YW5jZSdzIGBfX2RhdGFIb3N0YCBpcyBhIDx0ZW1wbGF0ZT5cbiAgICAgICAgLy8gYG1vZGVsLl9fZGF0YUhvc3QuX19kYXRhSG9zdGAgaXMgdGhlIHRlbXBsYXRlJ3MgaG9zdFxuICAgICAgICBtb2RlbCA9IG1vZGVsLl9fZGF0YUhvc3QuX19kYXRhSG9zdDtcbiAgICAgIH0gd2hpbGUgKChvcHRpb25zID0gbW9kZWwuX190ZW1wbGF0aXplT3B0aW9ucykgJiYgIW9wdGlvbnMucGFyZW50TW9kZWwpO1xuICAgICAgdGhpcy5fX3BhcmVudE1vZGVsID0gbW9kZWw7XG4gICAgfVxuICAgIHJldHVybiBtb2RlbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdHViIG9mIEhUTUxFbGVtZW50J3MgYGRpc3BhdGNoRXZlbnRgLCBzbyB0aGF0IGVmZmVjdHMgdGhhdCBtYXlcbiAgICogZGlzcGF0Y2ggZXZlbnRzIHNhZmVseSBuby1vcC5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgRXZlbnQgdG8gZGlzcGF0Y2hcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gQWx3YXlzIHRydWUuXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgIGRpc3BhdGNoRXZlbnQoZXZlbnQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG4vKiogQHR5cGUgeyFEYXRhVGVtcGxhdGV9ICovXG5UZW1wbGF0ZUluc3RhbmNlQmFzZS5wcm90b3R5cGUuX19kYXRhSG9zdDtcbi8qKiBAdHlwZSB7IVRlbXBsYXRpemVPcHRpb25zfSAqL1xuVGVtcGxhdGVJbnN0YW5jZUJhc2UucHJvdG90eXBlLl9fdGVtcGxhdGl6ZU9wdGlvbnM7XG4vKiogQHR5cGUgeyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gKi9cblRlbXBsYXRlSW5zdGFuY2VCYXNlLnByb3RvdHlwZS5fbWV0aG9kSG9zdDtcbi8qKiBAdHlwZSB7IU9iamVjdH0gKi9cblRlbXBsYXRlSW5zdGFuY2VCYXNlLnByb3RvdHlwZS5fX3RlbXBsYXRpemVPd25lcjtcbi8qKiBAdHlwZSB7IU9iamVjdH0gKi9cblRlbXBsYXRlSW5zdGFuY2VCYXNlLnByb3RvdHlwZS5fX2hvc3RQcm9wcztcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIHtUZW1wbGF0ZUluc3RhbmNlQmFzZX1cbiAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX011dGFibGVEYXRhfVxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgTXV0YWJsZVRlbXBsYXRlSW5zdGFuY2VCYXNlID0gTXV0YWJsZURhdGEoXG4gICAgLy8gVGhpcyBjYXN0IHNob3VsZG4ndCBiZSBuZWNlc3NhcnksIGJ1dCBDbG9zdXJlIGRvZXNuJ3Qgc2VlbSB0byB1bmRlcnN0YW5kXG4gICAgLy8gdGhpcyBjb25zdHJ1Y3Rvci5cbiAgICAvKiogQHR5cGUge2Z1bmN0aW9uKG5ldzpUZW1wbGF0ZUluc3RhbmNlQmFzZSl9ICovKFRlbXBsYXRlSW5zdGFuY2VCYXNlKSk7XG5cbmZ1bmN0aW9uIGZpbmRNZXRob2RIb3N0KHRlbXBsYXRlKSB7XG4gIC8vIFRlY2huaWNhbGx5IHRoaXMgc2hvdWxkIGJlIHRoZSBvd25lciBvZiB0aGUgb3V0ZXJtb3N0IHRlbXBsYXRlLlxuICAvLyBJbiBzaGFkb3cgZG9tLCB0aGlzIGlzIGFsd2F5cyBnZXRSb290Tm9kZSgpLmhvc3QsIGJ1dCB3ZSBjYW5cbiAgLy8gYXBwcm94aW1hdGUgdGhpcyB2aWEgY29vcGVyYXRpb24gd2l0aCBvdXIgZGF0YUhvc3QgYWx3YXlzIHNldHRpbmdcbiAgLy8gYF9tZXRob2RIb3N0YCBhcyBsb25nIGFzIHRoZXJlIHdlcmUgYmluZGluZ3MgKG9yIGlkJ3MpIG9uIHRoaXNcbiAgLy8gaW5zdGFuY2UgY2F1c2luZyBpdCB0byBnZXQgYSBkYXRhSG9zdC5cbiAgbGV0IHRlbXBsYXRlSG9zdCA9IHRlbXBsYXRlLl9fZGF0YUhvc3Q7XG4gIHJldHVybiB0ZW1wbGF0ZUhvc3QgJiYgdGVtcGxhdGVIb3N0Ll9tZXRob2RIb3N0IHx8IHRlbXBsYXRlSG9zdDtcbn1cblxuLyogZXNsaW50LWRpc2FibGUgdmFsaWQtanNkb2MgKi9cbi8qKlxuICogQHN1cHByZXNzIHttaXNzaW5nUHJvcGVydGllc30gY2xhc3MucHJvdG90eXBlIGlzIG5vdCBkZWZpbmVkIGZvciBzb21lIHJlYXNvblxuICovXG5mdW5jdGlvbiBjcmVhdGVUZW1wbGF0aXplckNsYXNzKHRlbXBsYXRlLCB0ZW1wbGF0ZUluZm8sIG9wdGlvbnMpIHtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAZXh0ZW5kcyB7VGVtcGxhdGVJbnN0YW5jZUJhc2V9XG4gICAqL1xuICBsZXQgdGVtcGxhdGl6ZXJCYXNlID0gb3B0aW9ucy5tdXRhYmxlRGF0YSA/XG4gICAgTXV0YWJsZVRlbXBsYXRlSW5zdGFuY2VCYXNlIDogVGVtcGxhdGVJbnN0YW5jZUJhc2U7XG5cbiAgLy8gQWZmb3JkYW5jZSBmb3IgZ2xvYmFsIG1peGlucyBvbnRvIFRlbXBsYXRpemVJbnN0YW5jZVxuICBpZiAodGVtcGxhdGl6ZS5taXhpbikge1xuICAgIHRlbXBsYXRpemVyQmFzZSA9IHRlbXBsYXRpemUubWl4aW4odGVtcGxhdGl6ZXJCYXNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbm9ueW1vdXMgY2xhc3MgY3JlYXRlZCBieSB0aGUgdGVtcGxhdGl6ZVxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGxldCBrbGFzcyA9IGNsYXNzIGV4dGVuZHMgdGVtcGxhdGl6ZXJCYXNlIHsgfTtcbiAgLyoqIEBvdmVycmlkZSAqL1xuICBrbGFzcy5wcm90b3R5cGUuX190ZW1wbGF0aXplT3B0aW9ucyA9IG9wdGlvbnM7XG4gIGtsYXNzLnByb3RvdHlwZS5fYmluZFRlbXBsYXRlKHRlbXBsYXRlKTtcbiAgYWRkTm90aWZ5RWZmZWN0cyhrbGFzcywgdGVtcGxhdGUsIHRlbXBsYXRlSW5mbywgb3B0aW9ucyk7XG4gIHJldHVybiBrbGFzcztcbn1cblxuLyoqXG4gKiBBZGRzIHByb3BhZ2F0ZSBlZmZlY3RzIGZyb20gdGhlIHRlbXBsYXRlIHRvIHRoZSB0ZW1wbGF0ZSBpbnN0YW5jZSBmb3JcbiAqIHByb3BlcnRpZXMgdGhhdCB0aGUgaG9zdCBiaW5kcyB0byB0aGUgdGVtcGxhdGUgdXNpbmcgdGhlIGBfaG9zdF9gIHByZWZpeC5cbiAqIFxuICogQHN1cHByZXNzIHttaXNzaW5nUHJvcGVydGllc30gY2xhc3MucHJvdG90eXBlIGlzIG5vdCBkZWZpbmVkIGZvciBzb21lIHJlYXNvblxuICovXG5mdW5jdGlvbiBhZGRQcm9wYWdhdGVFZmZlY3RzKHRlbXBsYXRlLCB0ZW1wbGF0ZUluZm8sIG9wdGlvbnMpIHtcbiAgbGV0IHVzZXJGb3J3YXJkSG9zdFByb3AgPSBvcHRpb25zLmZvcndhcmRIb3N0UHJvcDtcbiAgaWYgKHVzZXJGb3J3YXJkSG9zdFByb3AgJiYgdGVtcGxhdGVJbmZvLmhhc0hvc3RQcm9wcykge1xuICAgIC8vIFByb3ZpZGUgZGF0YSBBUEkgYW5kIHByb3BlcnR5IGVmZmVjdHMgb24gbWVtb2l6ZWQgdGVtcGxhdGUgY2xhc3NcbiAgICBsZXQga2xhc3MgPSB0ZW1wbGF0ZUluZm8udGVtcGxhdGl6ZVRlbXBsYXRlQ2xhc3M7XG4gICAgaWYgKCFrbGFzcykge1xuICAgICAgLyoqXG4gICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAqIEBleHRlbmRzIHtEYXRhVGVtcGxhdGV9XG4gICAgICAgKi9cbiAgICAgIGxldCB0ZW1wbGF0aXplZEJhc2UgPSBvcHRpb25zLm11dGFibGVEYXRhID8gTXV0YWJsZURhdGFUZW1wbGF0ZSA6IERhdGFUZW1wbGF0ZTtcbiAgICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgICAga2xhc3MgPSB0ZW1wbGF0ZUluZm8udGVtcGxhdGl6ZVRlbXBsYXRlQ2xhc3MgPVxuICAgICAgICBjbGFzcyBUZW1wbGF0aXplZFRlbXBsYXRlIGV4dGVuZHMgdGVtcGxhdGl6ZWRCYXNlIHt9O1xuICAgICAgLy8gQWRkIHRlbXBsYXRlIC0gPmluc3RhbmNlcyBlZmZlY3RzXG4gICAgICAvLyBhbmQgaG9zdCA8LSB0ZW1wbGF0ZSBlZmZlY3RzXG4gICAgICBsZXQgaG9zdFByb3BzID0gdGVtcGxhdGVJbmZvLmhvc3RQcm9wcztcbiAgICAgIGZvciAobGV0IHByb3AgaW4gaG9zdFByb3BzKSB7XG4gICAgICAgIGtsYXNzLnByb3RvdHlwZS5fYWRkUHJvcGVydHlFZmZlY3QoJ19ob3N0XycgKyBwcm9wLFxuICAgICAgICAgIGtsYXNzLnByb3RvdHlwZS5QUk9QRVJUWV9FRkZFQ1RfVFlQRVMuUFJPUEFHQVRFLFxuICAgICAgICAgIHtmbjogY3JlYXRlRm9yd2FyZEhvc3RQcm9wRWZmZWN0KHByb3AsIHVzZXJGb3J3YXJkSG9zdFByb3ApfSk7XG4gICAgICAgIGtsYXNzLnByb3RvdHlwZS5fY3JlYXRlTm90aWZ5aW5nUHJvcGVydHkoJ19ob3N0XycgKyBwcm9wKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdXBncmFkZVRlbXBsYXRlKHRlbXBsYXRlLCBrbGFzcyk7XG4gICAgLy8gTWl4IGFueSBwcmUtYm91bmQgZGF0YSBpbnRvIF9fZGF0YTsgbm8gbmVlZCB0byBmbHVzaCB0aGlzIHRvXG4gICAgLy8gaW5zdGFuY2VzIHNpbmNlIHRoZXkgcHVsbCBmcm9tIHRoZSB0ZW1wbGF0ZSBhdCBpbnN0YW5jZS10aW1lXG4gICAgaWYgKHRlbXBsYXRlLl9fZGF0YVByb3RvKSB7XG4gICAgICAvLyBOb3RlLCBnZW5lcmFsbHkgYF9fZGF0YVByb3RvYCBjb3VsZCBiZSBjaGFpbmVkLCBidXQgaXQncyBndWFyYW50ZWVkXG4gICAgICAvLyB0byBub3QgYmUgc2luY2UgdGhpcyBpcyBhIHZhbmlsbGEgdGVtcGxhdGUgd2UganVzdCBhZGRlZCBlZmZlY3RzIHRvXG4gICAgICBPYmplY3QuYXNzaWduKHRlbXBsYXRlLl9fZGF0YSwgdGVtcGxhdGUuX19kYXRhUHJvdG8pO1xuICAgIH1cbiAgICAvLyBDbGVhciBhbnkgcGVuZGluZyBkYXRhIGZvciBwZXJmb3JtYW5jZVxuICAgIHRlbXBsYXRlLl9fZGF0YVRlbXAgPSB7fTtcbiAgICB0ZW1wbGF0ZS5fX2RhdGFQZW5kaW5nID0gbnVsbDtcbiAgICB0ZW1wbGF0ZS5fX2RhdGFPbGQgPSBudWxsO1xuICAgIHRlbXBsYXRlLl9lbmFibGVQcm9wZXJ0aWVzKCk7XG4gIH1cbn1cbi8qIGVzbGludC1lbmFibGUgdmFsaWQtanNkb2MgKi9cblxuZnVuY3Rpb24gY3JlYXRlRm9yd2FyZEhvc3RQcm9wRWZmZWN0KGhvc3RQcm9wLCB1c2VyRm9yd2FyZEhvc3RQcm9wKSB7XG4gIHJldHVybiBmdW5jdGlvbiBmb3J3YXJkSG9zdFByb3AodGVtcGxhdGUsIHByb3AsIHByb3BzKSB7XG4gICAgdXNlckZvcndhcmRIb3N0UHJvcC5jYWxsKHRlbXBsYXRlLl9fdGVtcGxhdGl6ZU93bmVyLFxuICAgICAgcHJvcC5zdWJzdHJpbmcoJ19ob3N0XycubGVuZ3RoKSwgcHJvcHNbcHJvcF0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhZGROb3RpZnlFZmZlY3RzKGtsYXNzLCB0ZW1wbGF0ZSwgdGVtcGxhdGVJbmZvLCBvcHRpb25zKSB7XG4gIGxldCBob3N0UHJvcHMgPSB0ZW1wbGF0ZUluZm8uaG9zdFByb3BzIHx8IHt9O1xuICBmb3IgKGxldCBpcHJvcCBpbiBvcHRpb25zLmluc3RhbmNlUHJvcHMpIHtcbiAgICBkZWxldGUgaG9zdFByb3BzW2lwcm9wXTtcbiAgICBsZXQgdXNlck5vdGlmeUluc3RhbmNlUHJvcCA9IG9wdGlvbnMubm90aWZ5SW5zdGFuY2VQcm9wO1xuICAgIGlmICh1c2VyTm90aWZ5SW5zdGFuY2VQcm9wKSB7XG4gICAgICBrbGFzcy5wcm90b3R5cGUuX2FkZFByb3BlcnR5RWZmZWN0KGlwcm9wLFxuICAgICAgICBrbGFzcy5wcm90b3R5cGUuUFJPUEVSVFlfRUZGRUNUX1RZUEVTLk5PVElGWSxcbiAgICAgICAge2ZuOiBjcmVhdGVOb3RpZnlJbnN0YW5jZVByb3BFZmZlY3QoaXByb3AsIHVzZXJOb3RpZnlJbnN0YW5jZVByb3ApfSk7XG4gICAgfVxuICB9XG4gIGlmIChvcHRpb25zLmZvcndhcmRIb3N0UHJvcCAmJiB0ZW1wbGF0ZS5fX2RhdGFIb3N0KSB7XG4gICAgZm9yIChsZXQgaHByb3AgaW4gaG9zdFByb3BzKSB7XG4gICAgICAvLyBBcyB3ZSdyZSBpdGVyYXRpbmcgaG9zdFByb3BzIGluIHRoaXMgZnVuY3Rpb24sIG5vdGUgd2hldGhlclxuICAgICAgLy8gdGhlcmUgd2VyZSBhbnksIGZvciBhbiBvcHRpbWl6YXRpb24gaW4gYWRkUHJvcGFnYXRlRWZmZWN0c1xuICAgICAgaWYgKCF0ZW1wbGF0ZUluZm8uaGFzSG9zdFByb3BzKSB7XG4gICAgICAgIHRlbXBsYXRlSW5mby5oYXNIb3N0UHJvcHMgPSB0cnVlO1xuICAgICAgfVxuICAgICAga2xhc3MucHJvdG90eXBlLl9hZGRQcm9wZXJ0eUVmZmVjdChocHJvcCxcbiAgICAgICAga2xhc3MucHJvdG90eXBlLlBST1BFUlRZX0VGRkVDVF9UWVBFUy5OT1RJRlksXG4gICAgICAgIHtmbjogY3JlYXRlTm90aWZ5SG9zdFByb3BFZmZlY3QoKX0pO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVOb3RpZnlJbnN0YW5jZVByb3BFZmZlY3QoaW5zdFByb3AsIHVzZXJOb3RpZnlJbnN0YW5jZVByb3ApIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIG5vdGlmeUluc3RhbmNlUHJvcChpbnN0LCBwcm9wLCBwcm9wcykge1xuICAgIHVzZXJOb3RpZnlJbnN0YW5jZVByb3AuY2FsbChpbnN0Ll9fdGVtcGxhdGl6ZU93bmVyLFxuICAgICAgaW5zdCwgcHJvcCwgcHJvcHNbcHJvcF0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVOb3RpZnlIb3N0UHJvcEVmZmVjdCgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIG5vdGlmeUhvc3RQcm9wKGluc3QsIHByb3AsIHByb3BzKSB7XG4gICAgaW5zdC5fX2RhdGFIb3N0Ll9zZXRQZW5kaW5nUHJvcGVydHlPclBhdGgoJ19ob3N0XycgKyBwcm9wLCBwcm9wc1twcm9wXSwgdHJ1ZSwgdHJ1ZSk7XG4gIH07XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIGFuIGFub255bW91cyBgUHJvcGVydHlFZmZlY3RzYCBjbGFzcyBib3VuZCB0byB0aGVcbiAqIGA8dGVtcGxhdGU+YCBwcm92aWRlZC4gIEluc3RhbmNpbmcgdGhlIGNsYXNzIHdpbGwgcmVzdWx0IGluIHRoZVxuICogdGVtcGxhdGUgYmVpbmcgc3RhbXBlZCBpbnRvIGEgZG9jdW1lbnQgZnJhZ21lbnQgc3RvcmVkIGFzIHRoZSBpbnN0YW5jZSdzXG4gKiBgcm9vdGAgcHJvcGVydHksIGFmdGVyIHdoaWNoIGl0IGNhbiBiZSBhcHBlbmRlZCB0byB0aGUgRE9NLlxuICpcbiAqIFRlbXBsYXRlcyBtYXkgdXRpbGl6ZSBhbGwgUG9seW1lciBkYXRhLWJpbmRpbmcgZmVhdHVyZXMgYXMgd2VsbCBhc1xuICogZGVjbGFyYXRpdmUgZXZlbnQgbGlzdGVuZXJzLiAgRXZlbnQgbGlzdGVuZXJzIGFuZCBpbmxpbmUgY29tcHV0aW5nXG4gKiBmdW5jdGlvbnMgaW4gdGhlIHRlbXBsYXRlIHdpbGwgYmUgY2FsbGVkIG9uIHRoZSBob3N0IG9mIHRoZSB0ZW1wbGF0ZS5cbiAqXG4gKiBUaGUgY29uc3RydWN0b3IgcmV0dXJuZWQgdGFrZXMgYSBzaW5nbGUgYXJndW1lbnQgZGljdGlvbmFyeSBvZiBpbml0aWFsXG4gKiBwcm9wZXJ0eSB2YWx1ZXMgdG8gcHJvcGFnYXRlIGludG8gdGVtcGxhdGUgYmluZGluZ3MuICBBZGRpdGlvbmFsbHlcbiAqIGhvc3QgcHJvcGVydGllcyBjYW4gYmUgZm9yd2FyZGVkIGluLCBhbmQgaW5zdGFuY2UgcHJvcGVydGllcyBjYW4gYmVcbiAqIG5vdGlmaWVkIG91dCBieSBwcm92aWRpbmcgb3B0aW9uYWwgY2FsbGJhY2tzIGluIHRoZSBgb3B0aW9uc2AgZGljdGlvbmFyeS5cbiAqXG4gKiBWYWxpZCBjb25maWd1cmF0aW9uIGluIGBvcHRpb25zYCBhcmUgYXMgZm9sbG93czpcbiAqXG4gKiAtIGBmb3J3YXJkSG9zdFByb3AocHJvcGVydHksIHZhbHVlKWA6IENhbGxlZCB3aGVuIGEgcHJvcGVydHkgcmVmZXJlbmNlZFxuICogICBpbiB0aGUgdGVtcGxhdGUgY2hhbmdlZCBvbiB0aGUgdGVtcGxhdGUncyBob3N0LiBBcyB0aGlzIGxpYnJhcnkgZG9lc1xuICogICBub3QgcmV0YWluIHJlZmVyZW5jZXMgdG8gdGVtcGxhdGVzIGluc3RhbmNlZCBieSB0aGUgdXNlciwgaXQgaXMgdGhlXG4gKiAgIHRlbXBsYXRpemUgb3duZXIncyByZXNwb25zaWJpbGl0eSB0byBmb3J3YXJkIGhvc3QgcHJvcGVydHkgY2hhbmdlcyBpbnRvXG4gKiAgIHVzZXItc3RhbXBlZCBpbnN0YW5jZXMuICBUaGUgYGluc3RhbmNlLmZvcndhcmRIb3N0UHJvcChwcm9wZXJ0eSwgdmFsdWUpYFxuICogICAgbWV0aG9kIG9uIHRoZSBnZW5lcmF0ZWQgY2xhc3Mgc2hvdWxkIGJlIGNhbGxlZCB0byBmb3J3YXJkIGhvc3RcbiAqICAgcHJvcGVydGllcyBpbnRvIHRoZSB0ZW1wbGF0ZSB0byBwcmV2ZW50IHVubmVjZXNzYXJ5IHByb3BlcnR5LWNoYW5nZWRcbiAqICAgbm90aWZpY2F0aW9ucy4gQW55IHByb3BlcnRpZXMgcmVmZXJlbmNlZCBpbiB0aGUgdGVtcGxhdGUgdGhhdCBhcmUgbm90XG4gKiAgIGRlZmluZWQgaW4gYGluc3RhbmNlUHJvcHNgIHdpbGwgYmUgbm90aWZpZWQgdXAgdG8gdGhlIHRlbXBsYXRlJ3MgaG9zdFxuICogICBhdXRvbWF0aWNhbGx5LlxuICogLSBgaW5zdGFuY2VQcm9wc2A6IERpY3Rpb25hcnkgb2YgcHJvcGVydHkgbmFtZXMgdGhhdCB3aWxsIGJlIGFkZGVkXG4gKiAgIHRvIHRoZSBpbnN0YW5jZSBieSB0aGUgdGVtcGxhdGl6ZSBvd25lci4gIFRoZXNlIHByb3BlcnRpZXMgc2hhZG93IGFueVxuICogICBob3N0IHByb3BlcnRpZXMsIGFuZCBjaGFuZ2VzIHdpdGhpbiB0aGUgdGVtcGxhdGUgdG8gdGhlc2UgcHJvcGVydGllc1xuICogICB3aWxsIHJlc3VsdCBpbiBgbm90aWZ5SW5zdGFuY2VQcm9wYCBiZWluZyBjYWxsZWQuXG4gKiAtIGBtdXRhYmxlRGF0YWA6IFdoZW4gYHRydWVgLCB0aGUgZ2VuZXJhdGVkIGNsYXNzIHdpbGwgc2tpcCBzdHJpY3RcbiAqICAgZGlydHktY2hlY2tpbmcgZm9yIG9iamVjdHMgYW5kIGFycmF5cyAoYWx3YXlzIGNvbnNpZGVyIHRoZW0gdG8gYmVcbiAqICAgXCJkaXJ0eVwiKS5cbiAqIC0gYG5vdGlmeUluc3RhbmNlUHJvcChpbnN0YW5jZSwgcHJvcGVydHksIHZhbHVlKWA6IENhbGxlZCB3aGVuXG4gKiAgIGFuIGluc3RhbmNlIHByb3BlcnR5IGNoYW5nZXMuICBVc2VycyBtYXkgY2hvb3NlIHRvIGNhbGwgYG5vdGlmeVBhdGhgXG4gKiAgIG9uIGUuZy4gdGhlIG93bmVyIHRvIG5vdGlmeSB0aGUgY2hhbmdlLlxuICogLSBgcGFyZW50TW9kZWxgOiBXaGVuIGB0cnVlYCwgZXZlbnRzIGhhbmRsZWQgYnkgZGVjbGFyYXRpdmUgZXZlbnQgbGlzdGVuZXJzXG4gKiAgIChgb24tZXZlbnQ9XCJoYW5kbGVyXCJgKSB3aWxsIGJlIGRlY29yYXRlZCB3aXRoIGEgYG1vZGVsYCBwcm9wZXJ0eSBwb2ludGluZ1xuICogICB0byB0aGUgdGVtcGxhdGUgaW5zdGFuY2UgdGhhdCBzdGFtcGVkIGl0LiAgSXQgd2lsbCBhbHNvIGJlIHJldHVybmVkXG4gKiAgIGZyb20gYGluc3RhbmNlLnBhcmVudE1vZGVsYCBpbiBjYXNlcyB3aGVyZSB0ZW1wbGF0ZSBpbnN0YW5jZSBuZXN0aW5nXG4gKiAgIGNhdXNlcyBhbiBpbm5lciBtb2RlbCB0byBzaGFkb3cgYW4gb3V0ZXIgbW9kZWwuXG4gKlxuICogQWxsIGNhbGxiYWNrcyBhcmUgY2FsbGVkIGJvdW5kIHRvIHRoZSBgb3duZXJgLiBBbnkgY29udGV4dFxuICogbmVlZGVkIGZvciB0aGUgY2FsbGJhY2tzIChzdWNoIGFzIHJlZmVyZW5jZXMgdG8gYGluc3RhbmNlc2Agc3RhbXBlZClcbiAqIHNob3VsZCBiZSBzdG9yZWQgb24gdGhlIGBvd25lcmAgc3VjaCB0aGF0IHRoZXkgY2FuIGJlIHJldHJpZXZlZCB2aWFcbiAqIGB0aGlzYC5cbiAqXG4gKiBXaGVuIGBvcHRpb25zLmZvcndhcmRIb3N0UHJvcGAgaXMgZGVjbGFyZWQgYXMgYW4gb3B0aW9uLCBhbnkgcHJvcGVydGllc1xuICogcmVmZXJlbmNlZCBpbiB0aGUgdGVtcGxhdGUgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGZvcndhcmRlZCBmcm9tIHRoZSBob3N0IG9mXG4gKiB0aGUgYDx0ZW1wbGF0ZT5gIHRvIGluc3RhbmNlcywgd2l0aCB0aGUgZXhjZXB0aW9uIG9mIGFueSBwcm9wZXJ0aWVzIGxpc3RlZCBpblxuICogdGhlIGBvcHRpb25zLmluc3RhbmNlUHJvcHNgIG9iamVjdC4gIGBpbnN0YW5jZVByb3BzYCBhcmUgYXNzdW1lZCB0byBiZVxuICogbWFuYWdlZCBieSB0aGUgb3duZXIgb2YgdGhlIGluc3RhbmNlcywgZWl0aGVyIHBhc3NlZCBpbnRvIHRoZSBjb25zdHJ1Y3RvclxuICogb3Igc2V0IGFmdGVyIHRoZSBmYWN0LiAgTm90ZSwgYW55IHByb3BlcnRpZXMgcGFzc2VkIGludG8gdGhlIGNvbnN0cnVjdG9yIHdpbGxcbiAqIGFsd2F5cyBiZSBzZXQgdG8gdGhlIGluc3RhbmNlIChyZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhleSB3b3VsZCBub3JtYWxseVxuICogYmUgZm9yd2FyZGVkIGZyb20gdGhlIGhvc3QpLlxuICpcbiAqIE5vdGUgdGhhdCBgdGVtcGxhdGl6ZSgpYCBjYW4gYmUgcnVuIG9ubHkgb25jZSBmb3IgYSBnaXZlbiBgPHRlbXBsYXRlPmAuXG4gKiBGdXJ0aGVyIGNhbGxzIHdpbGwgcmVzdWx0IGluIGFuIGVycm9yLiBBbHNvLCB0aGVyZSBpcyBhIHNwZWNpYWxcbiAqIGJlaGF2aW9yIGlmIHRoZSB0ZW1wbGF0ZSB3YXMgZHVwbGljYXRlZCB0aHJvdWdoIGEgbWVjaGFuaXNtIHN1Y2ggYXNcbiAqIGA8ZG9tLXJlcGVhdD5gIG9yIGA8dGVzdC1maXh0dXJlPmAuIEluIHRoaXMgY2FzZSwgYWxsIGNhbGxzIHRvXG4gKiBgdGVtcGxhdGl6ZSgpYCByZXR1cm4gdGhlIHNhbWUgY2xhc3MgZm9yIGFsbCBkdXBsaWNhdGVzIG9mIGEgdGVtcGxhdGUuXG4gKiBUaGUgY2xhc3MgcmV0dXJuZWQgZnJvbSBgdGVtcGxhdGl6ZSgpYCBpcyBnZW5lcmF0ZWQgb25seSBvbmNlIHVzaW5nXG4gKiB0aGUgYG9wdGlvbnNgIGZyb20gdGhlIGZpcnN0IGNhbGwuIFRoaXMgbWVhbnMgdGhhdCBhbnkgYG9wdGlvbnNgXG4gKiBwcm92aWRlZCB0byBzdWJzZXF1ZW50IGNhbGxzIHdpbGwgYmUgaWdub3JlZC4gVGhlcmVmb3JlLCBpdCBpcyB2ZXJ5XG4gKiBpbXBvcnRhbnQgbm90IHRvIGNsb3NlIG92ZXIgYW55IHZhcmlhYmxlcyBpbnNpZGUgdGhlIGNhbGxiYWNrcy4gQWxzbyxcbiAqIGFycm93IGZ1bmN0aW9ucyBtdXN0IGJlIGF2b2lkZWQgYmVjYXVzZSB0aGV5IGJpbmQgdGhlIG91dGVyIGB0aGlzYC5cbiAqIEluc2lkZSB0aGUgY2FsbGJhY2tzLCBhbnkgY29udGV4dHVhbCBpbmZvcm1hdGlvbiBjYW4gYmUgYWNjZXNzZWRcbiAqIHRocm91Z2ggYHRoaXNgLCB3aGljaCBwb2ludHMgdG8gdGhlIGBvd25lcmAuXG4gKlxuICogQHBhcmFtIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGUgVGVtcGxhdGUgdG8gdGVtcGxhdGl6ZVxuICogQHBhcmFtIHtQb2x5bWVyX1Byb3BlcnR5RWZmZWN0cz19IG93bmVyIE93bmVyIG9mIHRoZSB0ZW1wbGF0ZSBpbnN0YW5jZXM7XG4gKiAgIGFueSBvcHRpb25hbCBjYWxsYmFja3Mgd2lsbCBiZSBib3VuZCB0byB0aGlzIG93bmVyLlxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zIE9wdGlvbnMgZGljdGlvbmFyeSAoc2VlIHN1bW1hcnkgZm9yIGRldGFpbHMpXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6VGVtcGxhdGVJbnN0YW5jZUJhc2UsIE9iamVjdD0pfSBHZW5lcmF0ZWQgY2xhc3MgYm91bmRcbiAqICAgdG8gdGhlIHRlbXBsYXRlIHByb3ZpZGVkXG4gKiBAc3VwcHJlc3Mge2ludmFsaWRDYXN0c31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRpemUodGVtcGxhdGUsIG93bmVyLCBvcHRpb25zKSB7XG4gIC8vIFVuZGVyIHN0cmljdFRlbXBsYXRlUG9saWN5LCB0aGUgdGVtcGxhdGl6ZWQgZWxlbWVudCBtdXN0IGJlIG93bmVkXG4gIC8vIGJ5IGEgKHRydXN0ZWQpIFBvbHltZXIgZWxlbWVudCwgaW5kaWNhdGVkIGJ5IGV4aXN0ZW5jZSBvZiBfbWV0aG9kSG9zdDtcbiAgLy8gZS5nLiBmb3IgZG9tLWlmICYgZG9tLXJlcGVhdCBpbiBtYWluIGRvY3VtZW50LCBfbWV0aG9kSG9zdCBpcyBudWxsXG4gIGlmIChzdHJpY3RUZW1wbGF0ZVBvbGljeSAmJiAhZmluZE1ldGhvZEhvc3QodGVtcGxhdGUpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzdHJpY3RUZW1wbGF0ZVBvbGljeTogdGVtcGxhdGUgb3duZXIgbm90IHRydXN0ZWQnKTtcbiAgfVxuICBvcHRpb25zID0gLyoqIEB0eXBlIHshVGVtcGxhdGl6ZU9wdGlvbnN9ICovKG9wdGlvbnMgfHwge30pO1xuICBpZiAodGVtcGxhdGUuX190ZW1wbGF0aXplT3duZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgPHRlbXBsYXRlPiBjYW4gb25seSBiZSB0ZW1wbGF0aXplZCBvbmNlJyk7XG4gIH1cbiAgdGVtcGxhdGUuX190ZW1wbGF0aXplT3duZXIgPSBvd25lcjtcbiAgY29uc3QgY3RvciA9IG93bmVyID8gb3duZXIuY29uc3RydWN0b3IgOiBUZW1wbGF0ZUluc3RhbmNlQmFzZTtcbiAgbGV0IHRlbXBsYXRlSW5mbyA9IGN0b3IuX3BhcnNlVGVtcGxhdGUodGVtcGxhdGUpO1xuICAvLyBHZXQgbWVtb2l6ZWQgYmFzZSBjbGFzcyBmb3IgdGhlIHByb3RvdHlwaWNhbCB0ZW1wbGF0ZSwgd2hpY2hcbiAgLy8gaW5jbHVkZXMgcHJvcGVydHkgZWZmZWN0cyBmb3IgYmluZGluZyB0ZW1wbGF0ZSAmIGZvcndhcmRpbmdcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAZXh0ZW5kcyB7VGVtcGxhdGVJbnN0YW5jZUJhc2V9XG4gICAqL1xuICBsZXQgYmFzZUNsYXNzID0gdGVtcGxhdGVJbmZvLnRlbXBsYXRpemVJbnN0YW5jZUNsYXNzO1xuICBpZiAoIWJhc2VDbGFzcykge1xuICAgIGJhc2VDbGFzcyA9IGNyZWF0ZVRlbXBsYXRpemVyQ2xhc3ModGVtcGxhdGUsIHRlbXBsYXRlSW5mbywgb3B0aW9ucyk7XG4gICAgdGVtcGxhdGVJbmZvLnRlbXBsYXRpemVJbnN0YW5jZUNsYXNzID0gYmFzZUNsYXNzO1xuICB9XG4gIC8vIEhvc3QgcHJvcGVydHkgZm9yd2FyZGluZyBtdXN0IGJlIGluc3RhbGxlZCBvbnRvIHRlbXBsYXRlIGluc3RhbmNlXG4gIGFkZFByb3BhZ2F0ZUVmZmVjdHModGVtcGxhdGUsIHRlbXBsYXRlSW5mbywgb3B0aW9ucyk7XG4gIC8vIFN1YmNsYXNzIGJhc2UgY2xhc3MgYW5kIGFkZCByZWZlcmVuY2UgZm9yIHRoaXMgc3BlY2lmaWMgdGVtcGxhdGVcbiAgLyoqIEBwcml2YXRlICovXG4gIGxldCBrbGFzcyA9IGNsYXNzIFRlbXBsYXRlSW5zdGFuY2UgZXh0ZW5kcyBiYXNlQ2xhc3Mge307XG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAga2xhc3MucHJvdG90eXBlLl9tZXRob2RIb3N0ID0gZmluZE1ldGhvZEhvc3QodGVtcGxhdGUpO1xuICAvKiogQG92ZXJyaWRlICovXG4gIGtsYXNzLnByb3RvdHlwZS5fX2RhdGFIb3N0ID0gLyoqIEB0eXBlIHshRGF0YVRlbXBsYXRlfSAqLyAodGVtcGxhdGUpO1xuICAvKiogQG92ZXJyaWRlICovXG4gIGtsYXNzLnByb3RvdHlwZS5fX3RlbXBsYXRpemVPd25lciA9IC8qKiBAdHlwZSB7IU9iamVjdH0gKi8gKG93bmVyKTtcbiAgLyoqIEBvdmVycmlkZSAqL1xuICBrbGFzcy5wcm90b3R5cGUuX19ob3N0UHJvcHMgPSB0ZW1wbGF0ZUluZm8uaG9zdFByb3BzO1xuICBrbGFzcyA9IC8qKiBAdHlwZSB7ZnVuY3Rpb24obmV3OlRlbXBsYXRlSW5zdGFuY2VCYXNlKX0gKi8oa2xhc3MpOyAvL2VzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1hc3NpZ25cbiAgcmV0dXJuIGtsYXNzO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHRlbXBsYXRlIFwibW9kZWxcIiBhc3NvY2lhdGVkIHdpdGggYSBnaXZlbiBlbGVtZW50LCB3aGljaFxuICogc2VydmVzIGFzIHRoZSBiaW5kaW5nIHNjb3BlIGZvciB0aGUgdGVtcGxhdGUgaW5zdGFuY2UgdGhlIGVsZW1lbnQgaXNcbiAqIGNvbnRhaW5lZCBpbi4gQSB0ZW1wbGF0ZSBtb2RlbCBpcyBhbiBpbnN0YW5jZSBvZlxuICogYFRlbXBsYXRlSW5zdGFuY2VCYXNlYCwgYW5kIHNob3VsZCBiZSB1c2VkIHRvIG1hbmlwdWxhdGUgZGF0YVxuICogYXNzb2NpYXRlZCB3aXRoIHRoaXMgdGVtcGxhdGUgaW5zdGFuY2UuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgIGxldCBtb2RlbCA9IG1vZGVsRm9yRWxlbWVudChlbCk7XG4gKiAgIGlmIChtb2RlbC5pbmRleCA8IDEwKSB7XG4gKiAgICAgbW9kZWwuc2V0KCdpdGVtLmNoZWNrZWQnLCB0cnVlKTtcbiAqICAgfVxuICpcbiAqIEBwYXJhbSB7SFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGUgVGhlIG1vZGVsIHdpbGwgYmUgcmV0dXJuZWQgZm9yXG4gKiAgIGVsZW1lbnRzIHN0YW1wZWQgZnJvbSB0aGlzIHRlbXBsYXRlXG4gKiBAcGFyYW0ge05vZGU9fSBub2RlIE5vZGUgZm9yIHdoaWNoIHRvIHJldHVybiBhIHRlbXBsYXRlIG1vZGVsLlxuICogQHJldHVybiB7VGVtcGxhdGVJbnN0YW5jZUJhc2V9IFRlbXBsYXRlIGluc3RhbmNlIHJlcHJlc2VudGluZyB0aGVcbiAqICAgYmluZGluZyBzY29wZSBmb3IgdGhlIGVsZW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vZGVsRm9yRWxlbWVudCh0ZW1wbGF0ZSwgbm9kZSkge1xuICBsZXQgbW9kZWw7XG4gIHdoaWxlIChub2RlKSB7XG4gICAgLy8gQW4gZWxlbWVudCB3aXRoIGEgX190ZW1wbGF0aXplSW5zdGFuY2UgbWFya3MgdGhlIHRvcCBib3VuZGFyeVxuICAgIC8vIG9mIGEgc2NvcGU7IHdhbGsgdXAgdW50aWwgd2UgZmluZCBvbmUsIGFuZCB0aGVuIGVuc3VyZSB0aGF0XG4gICAgLy8gaXRzIF9fZGF0YUhvc3QgbWF0Y2hlcyBgdGhpc2AsIG1lYW5pbmcgdGhpcyBkb20tcmVwZWF0IHN0YW1wZWQgaXRcbiAgICBpZiAoKG1vZGVsID0gbm9kZS5fX3RlbXBsYXRpemVJbnN0YW5jZSkpIHtcbiAgICAgIC8vIEZvdW5kIGFuIGVsZW1lbnQgc3RhbXBlZCBieSBhbm90aGVyIHRlbXBsYXRlOyBrZWVwIHdhbGtpbmcgdXBcbiAgICAgIC8vIGZyb20gaXRzIF9fZGF0YUhvc3RcbiAgICAgIGlmIChtb2RlbC5fX2RhdGFIb3N0ICE9IHRlbXBsYXRlKSB7XG4gICAgICAgIG5vZGUgPSBtb2RlbC5fX2RhdGFIb3N0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG1vZGVsO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTdGlsbCBpbiBhIHRlbXBsYXRlIHNjb3BlLCBrZWVwIGdvaW5nIHVwIHVudGlsXG4gICAgICAvLyBhIF9fdGVtcGxhdGl6ZUluc3RhbmNlIGlzIGZvdW5kXG4gICAgICBub2RlID0gd3JhcChub2RlKS5wYXJlbnROb2RlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IHsgVGVtcGxhdGVJbnN0YW5jZUJhc2UgfTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJy4uL3V0aWxzL2Jvb3QuanMnO1xuXG5pbXBvcnQgeyBQcm9wZXJ0eUVmZmVjdHMgfSBmcm9tICcuLi9taXhpbnMvcHJvcGVydHktZWZmZWN0cy5qcyc7XG5pbXBvcnQgeyBPcHRpb25hbE11dGFibGVEYXRhIH0gZnJvbSAnLi4vbWl4aW5zL211dGFibGUtZGF0YS5qcyc7XG5pbXBvcnQgeyBHZXN0dXJlRXZlbnRMaXN0ZW5lcnMgfSBmcm9tICcuLi9taXhpbnMvZ2VzdHVyZS1ldmVudC1saXN0ZW5lcnMuanMnO1xuaW1wb3J0IHsgc3RyaWN0VGVtcGxhdGVQb2xpY3kgfSBmcm9tICcuLi91dGlscy9zZXR0aW5ncy5qcyc7XG5pbXBvcnQgeyB3cmFwIH0gZnJvbSAnLi4vdXRpbHMvd3JhcC5qcyc7XG5pbXBvcnQgeyBoaWRlRWxlbWVudHNHbG9iYWxseSB9IGZyb20gJy4uL3V0aWxzL2hpZGUtdGVtcGxhdGUtY29udHJvbHMuanMnO1xuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMge0hUTUxFbGVtZW50fVxuICogQGltcGxlbWVudHMge1BvbHltZXJfUHJvcGVydHlFZmZlY3RzfVxuICogQGltcGxlbWVudHMge1BvbHltZXJfT3B0aW9uYWxNdXRhYmxlRGF0YX1cbiAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX0dlc3R1cmVFdmVudExpc3RlbmVyc31cbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IGRvbUJpbmRCYXNlID1cbiAgR2VzdHVyZUV2ZW50TGlzdGVuZXJzKFxuICAgIE9wdGlvbmFsTXV0YWJsZURhdGEoXG4gICAgICBQcm9wZXJ0eUVmZmVjdHMoSFRNTEVsZW1lbnQpKSk7XG5cbi8qKlxuICogQ3VzdG9tIGVsZW1lbnQgdG8gYWxsb3cgdXNpbmcgUG9seW1lcidzIHRlbXBsYXRlIGZlYXR1cmVzIChkYXRhIGJpbmRpbmcsXG4gKiBkZWNsYXJhdGl2ZSBldmVudCBsaXN0ZW5lcnMsIGV0Yy4pIGluIHRoZSBtYWluIGRvY3VtZW50IHdpdGhvdXQgZGVmaW5pbmdcbiAqIGEgbmV3IGN1c3RvbSBlbGVtZW50LlxuICpcbiAqIGA8dGVtcGxhdGU+YCB0YWdzIHV0aWxpemluZyBiaW5kaW5ncyBtYXkgYmUgd3JhcHBlZCB3aXRoIHRoZSBgPGRvbS1iaW5kPmBcbiAqIGVsZW1lbnQsIHdoaWNoIHdpbGwgaW1tZWRpYXRlbHkgc3RhbXAgdGhlIHdyYXBwZWQgdGVtcGxhdGUgaW50byB0aGUgbWFpblxuICogZG9jdW1lbnQgYW5kIGJpbmQgZWxlbWVudHMgdG8gdGhlIGBkb20tYmluZGAgZWxlbWVudCBpdHNlbGYgYXMgdGhlXG4gKiBiaW5kaW5nIHNjb3BlLlxuICpcbiAqIEBwb2x5bWVyXG4gKiBAY3VzdG9tRWxlbWVudFxuICogQGFwcGxpZXNNaXhpbiBQcm9wZXJ0eUVmZmVjdHNcbiAqIEBhcHBsaWVzTWl4aW4gT3B0aW9uYWxNdXRhYmxlRGF0YVxuICogQGFwcGxpZXNNaXhpbiBHZXN0dXJlRXZlbnRMaXN0ZW5lcnNcbiAqIEBleHRlbmRzIHtkb21CaW5kQmFzZX1cbiAqIEBzdW1tYXJ5IEN1c3RvbSBlbGVtZW50IHRvIGFsbG93IHVzaW5nIFBvbHltZXIncyB0ZW1wbGF0ZSBmZWF0dXJlcyAoZGF0YVxuICogICBiaW5kaW5nLCBkZWNsYXJhdGl2ZSBldmVudCBsaXN0ZW5lcnMsIGV0Yy4pIGluIHRoZSBtYWluIGRvY3VtZW50LlxuICovXG5leHBvcnQgY2xhc3MgRG9tQmluZCBleHRlbmRzIGRvbUJpbmRCYXNlIHtcblxuICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHsgcmV0dXJuIFsnbXV0YWJsZS1kYXRhJ107IH1cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIGlmIChzdHJpY3RUZW1wbGF0ZVBvbGljeSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBzdHJpY3RUZW1wbGF0ZVBvbGljeTogZG9tLWJpbmQgbm90IGFsbG93ZWRgKTtcbiAgICB9XG4gICAgdGhpcy5yb290ID0gbnVsbDtcbiAgICB0aGlzLiQgPSBudWxsO1xuICAgIHRoaXMuX19jaGlsZHJlbiA9IG51bGw7XG4gIH1cblxuICAvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgYXR0cmlidXRlIHRoYXQgY2hhbmdlZFxuICAgKiBAcGFyYW0gez9zdHJpbmd9IG9sZCBPbGQgYXR0cmlidXRlIHZhbHVlXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gdmFsdWUgTmV3IGF0dHJpYnV0ZSB2YWx1ZVxuICAgKiBAcGFyYW0gez9zdHJpbmd9IG5hbWVzcGFjZSBBdHRyaWJ1dGUgbmFtZXNwYWNlLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZCwgdmFsdWUsIG5hbWVzcGFjZSkge1xuICAgIC8vIGFzc3VtZXMgb25seSBvbmUgb2JzZXJ2ZWQgYXR0cmlidXRlXG4gICAgdGhpcy5tdXRhYmxlRGF0YSA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBpZiAoIWhpZGVFbGVtZW50c0dsb2JhbGx5KCkpIHtcbiAgICAgIHRoaXMuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuX19yZW1vdmVDaGlsZHJlbigpO1xuICB9XG5cbiAgX19pbnNlcnRDaGlsZHJlbigpIHtcbiAgICB3cmFwKHdyYXAodGhpcykucGFyZW50Tm9kZSkuaW5zZXJ0QmVmb3JlKHRoaXMucm9vdCwgdGhpcyk7XG4gIH1cblxuICBfX3JlbW92ZUNoaWxkcmVuKCkge1xuICAgIGlmICh0aGlzLl9fY2hpbGRyZW4pIHtcbiAgICAgIGZvciAobGV0IGk9MDsgaTx0aGlzLl9fY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5yb290LmFwcGVuZENoaWxkKHRoaXMuX19jaGlsZHJlbltpXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZvcmNlcyB0aGUgZWxlbWVudCB0byByZW5kZXIgaXRzIGNvbnRlbnQuIFRoaXMgaXMgdHlwaWNhbGx5IG9ubHlcbiAgICogbmVjZXNzYXJ5IHRvIGNhbGwgaWYgSFRNTEltcG9ydHMgd2l0aCB0aGUgYXN5bmMgYXR0cmlidXRlIGFyZSB1c2VkLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIGxldCB0ZW1wbGF0ZTtcbiAgICBpZiAoIXRoaXMuX19jaGlsZHJlbikge1xuICAgICAgdGVtcGxhdGUgPSAvKiogQHR5cGUgez9IVE1MVGVtcGxhdGVFbGVtZW50fSAqLyh0ZW1wbGF0ZSB8fCB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ3RlbXBsYXRlJykpO1xuICAgICAgaWYgKCF0ZW1wbGF0ZSkge1xuICAgICAgICAvLyBXYWl0IHVudGlsIGNoaWxkTGlzdCBjaGFuZ2VzIGFuZCB0ZW1wbGF0ZSBzaG91bGQgYmUgdGhlcmUgYnkgdGhlblxuICAgICAgICBsZXQgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoKSA9PiB7XG4gICAgICAgICAgdGVtcGxhdGUgPSAvKiogQHR5cGUge0hUTUxUZW1wbGF0ZUVsZW1lbnR9ICovKHRoaXMucXVlcnlTZWxlY3RvcigndGVtcGxhdGUnKSk7XG4gICAgICAgICAgaWYgKHRlbXBsYXRlKSB7XG4gICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RvbS1iaW5kIHJlcXVpcmVzIGEgPHRlbXBsYXRlPiBjaGlsZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUodGhpcywge2NoaWxkTGlzdDogdHJ1ZX0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnJvb3QgPSB0aGlzLl9zdGFtcFRlbXBsYXRlKFxuICAgICAgICAvKiogQHR5cGUgeyFIVE1MVGVtcGxhdGVFbGVtZW50fSAqLyh0ZW1wbGF0ZSkpO1xuICAgICAgdGhpcy4kID0gdGhpcy5yb290LiQ7XG4gICAgICB0aGlzLl9fY2hpbGRyZW4gPSBbXTtcbiAgICAgIGZvciAobGV0IG49dGhpcy5yb290LmZpcnN0Q2hpbGQ7IG47IG49bi5uZXh0U2libGluZykge1xuICAgICAgICB0aGlzLl9fY2hpbGRyZW5bdGhpcy5fX2NoaWxkcmVuLmxlbmd0aF0gPSBuO1xuICAgICAgfVxuICAgICAgdGhpcy5fZW5hYmxlUHJvcGVydGllcygpO1xuICAgIH1cbiAgICB0aGlzLl9faW5zZXJ0Q2hpbGRyZW4oKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdkb20tY2hhbmdlJywge1xuICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgIGNvbXBvc2VkOiB0cnVlXG4gICAgfSkpO1xuICB9XG5cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdkb20tYmluZCcsIERvbUJpbmQpO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnLi9ib290LmpzJztcblxuLyoqXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgYSBzdGF0aWMgc3RyaW5nIHZhbHVlIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGZpbHRlclxuICogc3RyaW5ncyBieSBhc3NldGluZyB0aGF0IHRoZXkgaGF2ZSBiZWVuIGNyZWF0ZWQgdmlhIHRoaXMgY2xhc3MuIFRoZVxuICogYHZhbHVlYCBwcm9wZXJ0eSByZXR1cm5zIHRoZSBzdHJpbmcgcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAqL1xuY2xhc3MgTGl0ZXJhbFN0cmluZyB7XG4gIGNvbnN0cnVjdG9yKHN0cmluZykge1xuICAgIC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xuICAgIHRoaXMudmFsdWUgPSBzdHJpbmcudG9TdHJpbmcoKTtcbiAgfVxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfSBMaXRlcmFsU3RyaW5nIHN0cmluZyB2YWx1ZVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHsqfSB2YWx1ZSBPYmplY3QgdG8gc3RyaW5naWZ5IGludG8gSFRNTFxuICogQHJldHVybiB7c3RyaW5nfSBIVE1MIHN0cmluZ2lmaWVkIGZvcm0gb2YgYG9iamBcbiAqL1xuZnVuY3Rpb24gbGl0ZXJhbFZhbHVlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIExpdGVyYWxTdHJpbmcpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshTGl0ZXJhbFN0cmluZ30gKi8odmFsdWUpLnZhbHVlO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYG5vbi1saXRlcmFsIHZhbHVlIHBhc3NlZCB0byBQb2x5bWVyJ3MgaHRtbExpdGVyYWwgZnVuY3Rpb246ICR7dmFsdWV9YFxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0geyp9IHZhbHVlIE9iamVjdCB0byBzdHJpbmdpZnkgaW50byBIVE1MXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEhUTUwgc3RyaW5naWZpZWQgZm9ybSBvZiBgb2JqYFxuICovXG5mdW5jdGlvbiBodG1sVmFsdWUodmFsdWUpIHtcbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgSFRNTFRlbXBsYXRlRWxlbWVudCkge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyFIVE1MVGVtcGxhdGVFbGVtZW50IH0gKi8odmFsdWUpLmlubmVySFRNTDtcbiAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIExpdGVyYWxTdHJpbmcpIHtcbiAgICByZXR1cm4gbGl0ZXJhbFZhbHVlKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBub24tdGVtcGxhdGUgdmFsdWUgcGFzc2VkIHRvIFBvbHltZXIncyBodG1sIGZ1bmN0aW9uOiAke3ZhbHVlfWApO1xuICB9XG59XG5cbi8qKlxuICogQSB0ZW1wbGF0ZSBsaXRlcmFsIHRhZyB0aGF0IGNyZWF0ZXMgYW4gSFRNTCA8dGVtcGxhdGU+IGVsZW1lbnQgZnJvbSB0aGVcbiAqIGNvbnRlbnRzIG9mIHRoZSBzdHJpbmcuXG4gKlxuICogVGhpcyBhbGxvd3MgeW91IHRvIHdyaXRlIGEgUG9seW1lciBUZW1wbGF0ZSBpbiBKYXZhU2NyaXB0LlxuICpcbiAqIFRlbXBsYXRlcyBjYW4gYmUgY29tcG9zZWQgYnkgaW50ZXJwb2xhdGluZyBgSFRNTFRlbXBsYXRlRWxlbWVudGBzIGluXG4gKiBleHByZXNzaW9ucyBpbiB0aGUgSmF2YVNjcmlwdCB0ZW1wbGF0ZSBsaXRlcmFsLiBUaGUgbmVzdGVkIHRlbXBsYXRlJ3NcbiAqIGBpbm5lckhUTUxgIGlzIGluY2x1ZGVkIGluIHRoZSBjb250YWluaW5nIHRlbXBsYXRlLiAgVGhlIG9ubHkgb3RoZXJcbiAqIHZhbHVlcyBhbGxvd2VkIGluIGV4cHJlc3Npb25zIGFyZSB0aG9zZSByZXR1cm5lZCBmcm9tIGBodG1sTGl0ZXJhbGBcbiAqIHdoaWNoIGVuc3VyZXMgb25seSBsaXRlcmFsIHZhbHVlcyBmcm9tIEpTIHNvdXJjZSBldmVyIHJlYWNoIHRoZSBIVE1MLCB0b1xuICogZ3VhcmQgYWdhaW5zdCBYU1Mgcmlza3MuXG4gKlxuICogQWxsIG90aGVyIHZhbHVlcyBhcmUgZGlzYWxsb3dlZCBpbiBleHByZXNzaW9ucyB0byBoZWxwIHByZXZlbnQgWFNTXG4gKiBhdHRhY2tzOyBob3dldmVyLCBgaHRtbExpdGVyYWxgIGNhbiBiZSB1c2VkIHRvIGNvbXBvc2Ugc3RhdGljXG4gKiBzdHJpbmcgdmFsdWVzIGludG8gdGVtcGxhdGVzLiBUaGlzIGlzIHVzZWZ1bCB0byBjb21wb3NlIHN0cmluZ3MgaW50b1xuICogcGxhY2VzIHRoYXQgZG8gbm90IGFjY2VwdCBodG1sLCBsaWtlIHRoZSBjc3MgdGV4dCBvZiBhIGBzdHlsZWBcbiAqIGVsZW1lbnQuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgc3RhdGljIGdldCB0ZW1wbGF0ZSgpIHtcbiAqICAgICAgIHJldHVybiBodG1sYFxuICogICAgICAgICA8c3R5bGU+Omhvc3R7IGNvbnRlbnQ6XCIuLi5cIiB9PC9zdHlsZT5cbiAqICAgICAgICAgPGRpdiBjbGFzcz1cInNoYWRvd2VkXCI+JHt0aGlzLnBhcnRpYWxUZW1wbGF0ZX08L2Rpdj5cbiAqICAgICAgICAgJHtzdXBlci50ZW1wbGF0ZX1cbiAqICAgICAgIGA7XG4gKiAgICAgfVxuICogICAgIHN0YXRpYyBnZXQgcGFydGlhbFRlbXBsYXRlKCkgeyByZXR1cm4gaHRtbGA8c3Bhbj5QYXJ0aWFsITwvc3Bhbj5gOyB9XG4gKlxuICogQHBhcmFtIHshSVRlbXBsYXRlQXJyYXl9IHN0cmluZ3MgQ29uc3RhbnQgcGFydHMgb2YgdGFnZ2VkIHRlbXBsYXRlIGxpdGVyYWxcbiAqIEBwYXJhbSB7Li4uKn0gdmFsdWVzIFZhcmlhYmxlIHBhcnRzIG9mIHRhZ2dlZCB0ZW1wbGF0ZSBsaXRlcmFsXG4gKiBAcmV0dXJuIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gQ29uc3RydWN0ZWQgSFRNTFRlbXBsYXRlRWxlbWVudFxuICovXG5leHBvcnQgY29uc3QgaHRtbCA9IGZ1bmN0aW9uIGh0bWwoc3RyaW5ncywgLi4udmFsdWVzKSB7XG4gIGNvbnN0IHRlbXBsYXRlID0gLyoqIEB0eXBlIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gKi8oZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKSk7XG4gIHRlbXBsYXRlLmlubmVySFRNTCA9IHZhbHVlcy5yZWR1Y2UoKGFjYywgdiwgaWR4KSA9PlxuICAgICAgYWNjICsgaHRtbFZhbHVlKHYpICsgc3RyaW5nc1tpZHggKyAxXSwgc3RyaW5nc1swXSk7XG4gIHJldHVybiB0ZW1wbGF0ZTtcbn07XG5cbi8qKlxuICogQW4gaHRtbCBsaXRlcmFsIHRhZyB0aGF0IGNhbiBiZSB1c2VkIHdpdGggYGh0bWxgIHRvIGNvbXBvc2UuXG4gKiBhIGxpdGVyYWwgc3RyaW5nLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogICAgIHN0YXRpYyBnZXQgdGVtcGxhdGUoKSB7XG4gKiAgICAgICByZXR1cm4gaHRtbGBcbiAqICAgICAgICAgPHN0eWxlPlxuICogICAgICAgICAgIDpob3N0IHsgZGlzcGxheTogYmxvY2s7IH1cbiAqICAgICAgICAgICAke3RoaXMuc3R5bGVUZW1wbGF0ZSgpfVxuICogICAgICAgICA8L3N0eWxlPlxuICogICAgICAgICA8ZGl2IGNsYXNzPVwic2hhZG93ZWRcIj4ke3N0YXRpY1ZhbHVlfTwvZGl2PlxuICogICAgICAgICAke3N1cGVyLnRlbXBsYXRlfVxuICogICAgICAgYDtcbiAqICAgICB9XG4gKiAgICAgc3RhdGljIGdldCBzdHlsZVRlbXBsYXRlKCkge1xuICogICAgICAgIHJldHVybiBodG1sTGl0ZXJhbGAuc2hhZG93ZWQgeyBiYWNrZ3JvdW5kOiBncmF5OyB9YDtcbiAqICAgICB9XG4gKlxuICogQHBhcmFtIHshSVRlbXBsYXRlQXJyYXl9IHN0cmluZ3MgQ29uc3RhbnQgcGFydHMgb2YgdGFnZ2VkIHRlbXBsYXRlIGxpdGVyYWxcbiAqIEBwYXJhbSB7Li4uKn0gdmFsdWVzIFZhcmlhYmxlIHBhcnRzIG9mIHRhZ2dlZCB0ZW1wbGF0ZSBsaXRlcmFsXG4gKiBAcmV0dXJuIHshTGl0ZXJhbFN0cmluZ30gQ29uc3RydWN0ZWQgbGl0ZXJhbCBzdHJpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IGh0bWxMaXRlcmFsID0gZnVuY3Rpb24oc3RyaW5ncywgLi4udmFsdWVzKSB7XG4gIHJldHVybiBuZXcgTGl0ZXJhbFN0cmluZyh2YWx1ZXMucmVkdWNlKChhY2MsIHYsIGlkeCkgPT5cbiAgICAgIGFjYyArIGxpdGVyYWxWYWx1ZSh2KSArIHN0cmluZ3NbaWR4ICsgMV0sIHN0cmluZ3NbMF0pKTtcbn07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG5pbXBvcnQgeyBFbGVtZW50TWl4aW4sIHZlcnNpb24gfSBmcm9tICcuL2xpYi9taXhpbnMvZWxlbWVudC1taXhpbi5qcyc7XG5leHBvcnQgeyBodG1sIH0gZnJvbSAnLi9saWIvdXRpbHMvaHRtbC10YWcuanMnO1xuXG5leHBvcnQgeyB2ZXJzaW9uIH07XG5cbi8qKlxuICogQmFzZSBjbGFzcyB0aGF0IHByb3ZpZGVzIHRoZSBjb3JlIEFQSSBmb3IgUG9seW1lcidzIG1ldGEtcHJvZ3JhbW1pbmdcbiAqIGZlYXR1cmVzIGluY2x1ZGluZyB0ZW1wbGF0ZSBzdGFtcGluZywgZGF0YS1iaW5kaW5nLCBhdHRyaWJ1dGUgZGVzZXJpYWxpemF0aW9uLFxuICogYW5kIHByb3BlcnR5IGNoYW5nZSBvYnNlcnZhdGlvbi5cbiAqXG4gKiBAY3VzdG9tRWxlbWVudFxuICogQHBvbHltZXJcbiAqIEBjb25zdHJ1Y3RvclxuICogQGltcGxlbWVudHMge1BvbHltZXJfRWxlbWVudE1peGlufVxuICogQGV4dGVuZHMgSFRNTEVsZW1lbnRcbiAqIEBhcHBsaWVzTWl4aW4gRWxlbWVudE1peGluXG4gKiBAc3VtbWFyeSBDdXN0b20gZWxlbWVudCBiYXNlIGNsYXNzIHRoYXQgcHJvdmlkZXMgdGhlIGNvcmUgQVBJIGZvciBQb2x5bWVyJ3NcbiAqICAga2V5IG1ldGEtcHJvZ3JhbW1pbmcgZmVhdHVyZXMgaW5jbHVkaW5nIHRlbXBsYXRlIHN0YW1waW5nLCBkYXRhLWJpbmRpbmcsXG4gKiAgIGF0dHJpYnV0ZSBkZXNlcmlhbGl6YXRpb24sIGFuZCBwcm9wZXJ0eSBjaGFuZ2Ugb2JzZXJ2YXRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IFBvbHltZXJFbGVtZW50ID0gRWxlbWVudE1peGluKEhUTUxFbGVtZW50KTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgeyBQb2x5bWVyRWxlbWVudCB9IGZyb20gJy4uLy4uL3BvbHltZXItZWxlbWVudC5qcyc7XG5cbmltcG9ydCB7IFRlbXBsYXRlSW5zdGFuY2VCYXNlLCB0ZW1wbGF0aXplLCBtb2RlbEZvckVsZW1lbnQgfSBmcm9tICcuLi91dGlscy90ZW1wbGF0aXplLmpzJzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuaW1wb3J0IHsgRGVib3VuY2VyIH0gZnJvbSAnLi4vdXRpbHMvZGVib3VuY2UuanMnO1xuaW1wb3J0IHsgZW5xdWV1ZURlYm91bmNlciwgZmx1c2ggfSBmcm9tICcuLi91dGlscy9mbHVzaC5qcyc7XG5pbXBvcnQgeyBPcHRpb25hbE11dGFibGVEYXRhIH0gZnJvbSAnLi4vbWl4aW5zL211dGFibGUtZGF0YS5qcyc7XG5pbXBvcnQgeyBtYXRjaGVzLCB0cmFuc2xhdGUgfSBmcm9tICcuLi91dGlscy9wYXRoLmpzJztcbmltcG9ydCB7IHRpbWVPdXQsIG1pY3JvVGFzayB9IGZyb20gJy4uL3V0aWxzL2FzeW5jLmpzJztcbmltcG9ydCB7IHdyYXAgfSBmcm9tICcuLi91dGlscy93cmFwLmpzJztcbmltcG9ydCB7IGhpZGVFbGVtZW50c0dsb2JhbGx5IH0gZnJvbSAnLi4vdXRpbHMvaGlkZS10ZW1wbGF0ZS1jb250cm9scy5qcyc7XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAaW1wbGVtZW50cyB7UG9seW1lcl9PcHRpb25hbE11dGFibGVEYXRhfVxuICogQGV4dGVuZHMge1BvbHltZXJFbGVtZW50fVxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgZG9tUmVwZWF0QmFzZSA9IE9wdGlvbmFsTXV0YWJsZURhdGEoUG9seW1lckVsZW1lbnQpO1xuXG4vKipcbiAqIFRoZSBgPGRvbS1yZXBlYXQ+YCBlbGVtZW50IHdpbGwgYXV0b21hdGljYWxseSBzdGFtcCBhbmQgYmluZHMgb25lIGluc3RhbmNlXG4gKiBvZiB0ZW1wbGF0ZSBjb250ZW50IHRvIGVhY2ggb2JqZWN0IGluIGEgdXNlci1wcm92aWRlZCBhcnJheS5cbiAqIGBkb20tcmVwZWF0YCBhY2NlcHRzIGFuIGBpdGVtc2AgcHJvcGVydHksIGFuZCBvbmUgaW5zdGFuY2Ugb2YgdGhlIHRlbXBsYXRlXG4gKiBpcyBzdGFtcGVkIGZvciBlYWNoIGl0ZW0gaW50byB0aGUgRE9NIGF0IHRoZSBsb2NhdGlvbiBvZiB0aGUgYGRvbS1yZXBlYXRgXG4gKiBlbGVtZW50LiAgVGhlIGBpdGVtYCBwcm9wZXJ0eSB3aWxsIGJlIHNldCBvbiBlYWNoIGluc3RhbmNlJ3MgYmluZGluZ1xuICogc2NvcGUsIHRodXMgdGVtcGxhdGVzIHNob3VsZCBiaW5kIHRvIHN1Yi1wcm9wZXJ0aWVzIG9mIGBpdGVtYC5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkb20tbW9kdWxlIGlkPVwiZW1wbG95ZWUtbGlzdFwiPlxuICpcbiAqICAgPHRlbXBsYXRlPlxuICpcbiAqICAgICA8ZGl2PiBFbXBsb3llZSBsaXN0OiA8L2Rpdj5cbiAqICAgICA8ZG9tLXJlcGVhdCBpdGVtcz1cInt7ZW1wbG95ZWVzfX1cIj5cbiAqICAgICAgIDx0ZW1wbGF0ZT5cbiAqICAgICAgICAgPGRpdj5GaXJzdCBuYW1lOiA8c3Bhbj57e2l0ZW0uZmlyc3R9fTwvc3Bhbj48L2Rpdj5cbiAqICAgICAgICAgPGRpdj5MYXN0IG5hbWU6IDxzcGFuPnt7aXRlbS5sYXN0fX08L3NwYW4+PC9kaXY+XG4gKiAgICAgICA8L3RlbXBsYXRlPlxuICogICAgIDwvZG9tLXJlcGVhdD5cbiAqXG4gKiAgIDwvdGVtcGxhdGU+XG4gKlxuICogPC9kb20tbW9kdWxlPlxuICogYGBgXG4gKlxuICogV2l0aCB0aGUgZm9sbG93aW5nIGN1c3RvbSBlbGVtZW50IGRlZmluaXRpb246XG4gKlxuICogYGBganNcbiAqIGNsYXNzIEVtcGxveWVlTGlzdCBleHRlbmRzIFBvbHltZXJFbGVtZW50IHtcbiAqICAgc3RhdGljIGdldCBpcygpIHsgcmV0dXJuICdlbXBsb3llZS1saXN0JzsgfVxuICogICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XG4gKiAgICAgcmV0dXJuIHtcbiAqICAgICAgIGVtcGxveWVlczoge1xuICogICAgICAgICB2YWx1ZSgpIHtcbiAqICAgICAgICAgICByZXR1cm4gW1xuICogICAgICAgICAgICAge2ZpcnN0OiAnQm9iJywgbGFzdDogJ1NtaXRoJ30sXG4gKiAgICAgICAgICAgICB7Zmlyc3Q6ICdTYWxseScsIGxhc3Q6ICdKb2huc29uJ30sXG4gKiAgICAgICAgICAgICAuLi5cbiAqICAgICAgICAgICBdO1xuICogICAgICAgICB9XG4gKiAgICAgICB9XG4gKiAgICAgfTtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogTm90aWZpY2F0aW9ucyBmb3IgY2hhbmdlcyB0byBpdGVtcyBzdWItcHJvcGVydGllcyB3aWxsIGJlIGZvcndhcmRlZCB0byB0ZW1wbGF0ZVxuICogaW5zdGFuY2VzLCB3aGljaCB3aWxsIHVwZGF0ZSB2aWEgdGhlIG5vcm1hbCBzdHJ1Y3R1cmVkIGRhdGEgbm90aWZpY2F0aW9uIHN5c3RlbS5cbiAqXG4gKiBNdXRhdGlvbnMgdG8gdGhlIGBpdGVtc2AgYXJyYXkgaXRzZWxmIHNob3VsZCBiZSBtYWRlIHVzaW5nIHRoZSBBcnJheVxuICogbXV0YXRpb24gQVBJJ3Mgb24gdGhlIFByb3BlcnR5RWZmZWN0cyBtaXhpbiAoYHB1c2hgLCBgcG9wYCwgYHNwbGljZWAsXG4gKiBgc2hpZnRgLCBgdW5zaGlmdGApLCBhbmQgdGVtcGxhdGUgaW5zdGFuY2VzIHdpbGwgYmUga2VwdCBpbiBzeW5jIHdpdGggdGhlXG4gKiBkYXRhIGluIHRoZSBhcnJheS5cbiAqXG4gKiBFdmVudHMgY2F1Z2h0IGJ5IGV2ZW50IGhhbmRsZXJzIHdpdGhpbiB0aGUgYGRvbS1yZXBlYXRgIHRlbXBsYXRlIHdpbGwgYmVcbiAqIGRlY29yYXRlZCB3aXRoIGEgYG1vZGVsYCBwcm9wZXJ0eSwgd2hpY2ggcmVwcmVzZW50cyB0aGUgYmluZGluZyBzY29wZSBmb3JcbiAqIGVhY2ggdGVtcGxhdGUgaW5zdGFuY2UuICBUaGUgbW9kZWwgc2hvdWxkIGJlIHVzZWQgdG8gbWFuaXB1bGF0ZSBkYXRhIG9uIHRoZVxuICogaW5zdGFuY2UsIGZvciBleGFtcGxlIGBldmVudC5tb2RlbC5zZXQoJ2l0ZW0uY2hlY2tlZCcsIHRydWUpO2AuXG4gKlxuICogQWx0ZXJuYXRpdmVseSwgdGhlIG1vZGVsIGZvciBhIHRlbXBsYXRlIGluc3RhbmNlIGZvciBhbiBlbGVtZW50IHN0YW1wZWQgYnlcbiAqIGEgYGRvbS1yZXBlYXRgIGNhbiBiZSBvYnRhaW5lZCB1c2luZyB0aGUgYG1vZGVsRm9yRWxlbWVudGAgQVBJIG9uIHRoZVxuICogYGRvbS1yZXBlYXRgIHRoYXQgc3RhbXBlZCBpdCwgZm9yIGV4YW1wbGVcbiAqIGB0aGlzLiQuZG9tUmVwZWF0Lm1vZGVsRm9yRWxlbWVudChldmVudC50YXJnZXQpLnNldCgnaXRlbS5jaGVja2VkJywgdHJ1ZSk7YC5cbiAqIFRoaXMgbWF5IGJlIHVzZWZ1bCBmb3IgbWFuaXB1bGF0aW5nIGluc3RhbmNlIGRhdGEgb2YgZXZlbnQgdGFyZ2V0cyBvYnRhaW5lZFxuICogYnkgZXZlbnQgaGFuZGxlcnMgb24gcGFyZW50cyBvZiB0aGUgYGRvbS1yZXBlYXRgIChldmVudCBkZWxlZ2F0aW9uKS5cbiAqXG4gKiBBIHZpZXctc3BlY2lmaWMgZmlsdGVyL3NvcnQgbWF5IGJlIGFwcGxpZWQgdG8gZWFjaCBgZG9tLXJlcGVhdGAgYnkgc3VwcGx5aW5nIGFcbiAqIGBmaWx0ZXJgIGFuZC9vciBgc29ydGAgcHJvcGVydHkuICBUaGlzIG1heSBiZSBhIHN0cmluZyB0aGF0IG5hbWVzIGEgZnVuY3Rpb24gb25cbiAqIHRoZSBob3N0LCBvciBhIGZ1bmN0aW9uIG1heSBiZSBhc3NpZ25lZCB0byB0aGUgcHJvcGVydHkgZGlyZWN0bHkuICBUaGUgZnVuY3Rpb25zXG4gKiBzaG91bGQgaW1wbGVtZW50ZWQgZm9sbG93aW5nIHRoZSBzdGFuZGFyZCBgQXJyYXlgIGZpbHRlci9zb3J0IEFQSS5cbiAqXG4gKiBJbiBvcmRlciB0byByZS1ydW4gdGhlIGZpbHRlciBvciBzb3J0IGZ1bmN0aW9ucyBiYXNlZCBvbiBjaGFuZ2VzIHRvIHN1Yi1maWVsZHNcbiAqIG9mIGBpdGVtc2AsIHRoZSBgb2JzZXJ2ZWAgcHJvcGVydHkgbWF5IGJlIHNldCBhcyBhIHNwYWNlLXNlcGFyYXRlZCBsaXN0IG9mXG4gKiBgaXRlbWAgc3ViLWZpZWxkcyB0aGF0IHNob3VsZCBjYXVzZSBhIHJlLWZpbHRlci9zb3J0IHdoZW4gbW9kaWZpZWQuICBJZlxuICogdGhlIGZpbHRlciBvciBzb3J0IGZ1bmN0aW9uIGRlcGVuZHMgb24gcHJvcGVydGllcyBub3QgY29udGFpbmVkIGluIGBpdGVtc2AsXG4gKiB0aGUgdXNlciBzaG91bGQgb2JzZXJ2ZSBjaGFuZ2VzIHRvIHRob3NlIHByb3BlcnRpZXMgYW5kIGNhbGwgYHJlbmRlcmAgdG8gdXBkYXRlXG4gKiB0aGUgdmlldyBiYXNlZCBvbiB0aGUgZGVwZW5kZW5jeSBjaGFuZ2UuXG4gKlxuICogRm9yIGV4YW1wbGUsIGZvciBhbiBgZG9tLXJlcGVhdGAgd2l0aCBhIGZpbHRlciBvZiB0aGUgZm9sbG93aW5nOlxuICpcbiAqIGBgYGpzXG4gKiBpc0VuZ2luZWVyKGl0ZW0pIHtcbiAqICAgcmV0dXJuIGl0ZW0udHlwZSA9PSAnZW5naW5lZXInIHx8IGl0ZW0ubWFuYWdlci50eXBlID09ICdlbmdpbmVlcic7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBUaGVuIHRoZSBgb2JzZXJ2ZWAgcHJvcGVydHkgc2hvdWxkIGJlIGNvbmZpZ3VyZWQgYXMgZm9sbG93czpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZG9tLXJlcGVhdCBpdGVtcz1cInt7ZW1wbG95ZWVzfX1cIiBmaWx0ZXI9XCJpc0VuZ2luZWVyXCIgb2JzZXJ2ZT1cInR5cGUgbWFuYWdlci50eXBlXCI+XG4gKiBgYGBcbiAqXG4gKiBAY3VzdG9tRWxlbWVudFxuICogQHBvbHltZXJcbiAqIEBleHRlbmRzIHtkb21SZXBlYXRCYXNlfVxuICogQGFwcGxpZXNNaXhpbiBPcHRpb25hbE11dGFibGVEYXRhXG4gKiBAc3VtbWFyeSBDdXN0b20gZWxlbWVudCBmb3Igc3RhbXBpbmcgaW5zdGFuY2Ugb2YgYSB0ZW1wbGF0ZSBib3VuZCB0b1xuICogICBpdGVtcyBpbiBhbiBhcnJheS5cbiAqL1xuZXhwb3J0IGNsYXNzIERvbVJlcGVhdCBleHRlbmRzIGRvbVJlcGVhdEJhc2Uge1xuXG4gIC8vIE5vdCBuZWVkZWQgdG8gZmluZCB0ZW1wbGF0ZTsgY2FuIGJlIHJlbW92ZWQgb25jZSB0aGUgYW5hbHl6ZXJcbiAgLy8gY2FuIGZpbmQgdGhlIHRhZyBuYW1lIGZyb20gY3VzdG9tRWxlbWVudHMuZGVmaW5lIGNhbGxcbiAgc3RhdGljIGdldCBpcygpIHsgcmV0dXJuICdkb20tcmVwZWF0JzsgfVxuXG4gIHN0YXRpYyBnZXQgdGVtcGxhdGUoKSB7IHJldHVybiBudWxsOyB9XG5cbiAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbmV2ZXIgRE9NIGlzIGFkZGVkIG9yIHJlbW92ZWQgYnkgdGhpcyB0ZW1wbGF0ZSAoYnlcbiAgICAgKiBkZWZhdWx0LCByZW5kZXJpbmcgb2NjdXJzIGxhemlseSkuICBUbyBmb3JjZSBpbW1lZGlhdGUgcmVuZGVyaW5nLCBjYWxsXG4gICAgICogYHJlbmRlcmAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgZG9tLWNoYW5nZVxuICAgICAqL1xuICAgIHJldHVybiB7XG5cbiAgICAgIC8qKlxuICAgICAgICogQW4gYXJyYXkgY29udGFpbmluZyBpdGVtcyBkZXRlcm1pbmluZyBob3cgbWFueSBpbnN0YW5jZXMgb2YgdGhlIHRlbXBsYXRlXG4gICAgICAgKiB0byBzdGFtcCBhbmQgdGhhdCB0aGF0IGVhY2ggdGVtcGxhdGUgaW5zdGFuY2Ugc2hvdWxkIGJpbmQgdG8uXG4gICAgICAgKi9cbiAgICAgIGl0ZW1zOiB7XG4gICAgICAgIHR5cGU6IEFycmF5XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSB2YXJpYWJsZSB0byBhZGQgdG8gdGhlIGJpbmRpbmcgc2NvcGUgZm9yIHRoZSBhcnJheVxuICAgICAgICogZWxlbWVudCBhc3NvY2lhdGVkIHdpdGggYSBnaXZlbiB0ZW1wbGF0ZSBpbnN0YW5jZS5cbiAgICAgICAqL1xuICAgICAgYXM6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICB2YWx1ZTogJ2l0ZW0nXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSB2YXJpYWJsZSB0byBhZGQgdG8gdGhlIGJpbmRpbmcgc2NvcGUgd2l0aCB0aGUgaW5kZXhcbiAgICAgICAqIG9mIHRoZSBpbnN0YW5jZSBpbiB0aGUgc29ydGVkIGFuZCBmaWx0ZXJlZCBsaXN0IG9mIHJlbmRlcmVkIGl0ZW1zLlxuICAgICAgICogTm90ZSwgZm9yIHRoZSBpbmRleCBpbiB0aGUgYHRoaXMuaXRlbXNgIGFycmF5LCB1c2UgdGhlIHZhbHVlIG9mIHRoZVxuICAgICAgICogYGl0ZW1zSW5kZXhBc2AgcHJvcGVydHkuXG4gICAgICAgKi9cbiAgICAgIGluZGV4QXM6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICB2YWx1ZTogJ2luZGV4J1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgdmFyaWFibGUgdG8gYWRkIHRvIHRoZSBiaW5kaW5nIHNjb3BlIHdpdGggdGhlIGluZGV4XG4gICAgICAgKiBvZiB0aGUgaW5zdGFuY2UgaW4gdGhlIGB0aGlzLml0ZW1zYCBhcnJheS4gTm90ZSwgZm9yIHRoZSBpbmRleCBvZlxuICAgICAgICogdGhpcyBpbnN0YW5jZSBpbiB0aGUgc29ydGVkIGFuZCBmaWx0ZXJlZCBsaXN0IG9mIHJlbmRlcmVkIGl0ZW1zLFxuICAgICAgICogdXNlIHRoZSB2YWx1ZSBvZiB0aGUgYGluZGV4QXNgIHByb3BlcnR5LlxuICAgICAgICovXG4gICAgICBpdGVtc0luZGV4QXM6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICB2YWx1ZTogJ2l0ZW1zSW5kZXgnXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEEgZnVuY3Rpb24gdGhhdCBzaG91bGQgZGV0ZXJtaW5lIHRoZSBzb3J0IG9yZGVyIG9mIHRoZSBpdGVtcy4gIFRoaXNcbiAgICAgICAqIHByb3BlcnR5IHNob3VsZCBlaXRoZXIgYmUgcHJvdmlkZWQgYXMgYSBzdHJpbmcsIGluZGljYXRpbmcgYSBtZXRob2RcbiAgICAgICAqIG5hbWUgb24gdGhlIGVsZW1lbnQncyBob3N0LCBvciBlbHNlIGJlIGFuIGFjdHVhbCBmdW5jdGlvbi4gIFRoZVxuICAgICAgICogZnVuY3Rpb24gc2hvdWxkIG1hdGNoIHRoZSBzb3J0IGZ1bmN0aW9uIHBhc3NlZCB0byBgQXJyYXkuc29ydGAuXG4gICAgICAgKiBVc2luZyBhIHNvcnQgZnVuY3Rpb24gaGFzIG5vIGVmZmVjdCBvbiB0aGUgdW5kZXJseWluZyBgaXRlbXNgIGFycmF5LlxuICAgICAgICovXG4gICAgICBzb3J0OiB7XG4gICAgICAgIHR5cGU6IEZ1bmN0aW9uLFxuICAgICAgICBvYnNlcnZlcjogJ19fc29ydENoYW5nZWQnXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEEgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBmaWx0ZXIgaXRlbXMgb3V0IG9mIHRoZSB2aWV3LiAgVGhpc1xuICAgICAgICogcHJvcGVydHkgc2hvdWxkIGVpdGhlciBiZSBwcm92aWRlZCBhcyBhIHN0cmluZywgaW5kaWNhdGluZyBhIG1ldGhvZFxuICAgICAgICogbmFtZSBvbiB0aGUgZWxlbWVudCdzIGhvc3QsIG9yIGVsc2UgYmUgYW4gYWN0dWFsIGZ1bmN0aW9uLiAgVGhlXG4gICAgICAgKiBmdW5jdGlvbiBzaG91bGQgbWF0Y2ggdGhlIHNvcnQgZnVuY3Rpb24gcGFzc2VkIHRvIGBBcnJheS5maWx0ZXJgLlxuICAgICAgICogVXNpbmcgYSBmaWx0ZXIgZnVuY3Rpb24gaGFzIG5vIGVmZmVjdCBvbiB0aGUgdW5kZXJseWluZyBgaXRlbXNgIGFycmF5LlxuICAgICAgICovXG4gICAgICBmaWx0ZXI6IHtcbiAgICAgICAgdHlwZTogRnVuY3Rpb24sXG4gICAgICAgIG9ic2VydmVyOiAnX19maWx0ZXJDaGFuZ2VkJ1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBXaGVuIHVzaW5nIGEgYGZpbHRlcmAgb3IgYHNvcnRgIGZ1bmN0aW9uLCB0aGUgYG9ic2VydmVgIHByb3BlcnR5XG4gICAgICAgKiBzaG91bGQgYmUgc2V0IHRvIGEgc3BhY2Utc2VwYXJhdGVkIGxpc3Qgb2YgdGhlIG5hbWVzIG9mIGl0ZW1cbiAgICAgICAqIHN1Yi1maWVsZHMgdGhhdCBzaG91bGQgdHJpZ2dlciBhIHJlLXNvcnQgb3IgcmUtZmlsdGVyIHdoZW4gY2hhbmdlZC5cbiAgICAgICAqIFRoZXNlIHNob3VsZCBnZW5lcmFsbHkgYmUgZmllbGRzIG9mIGBpdGVtYCB0aGF0IHRoZSBzb3J0IG9yIGZpbHRlclxuICAgICAgICogZnVuY3Rpb24gZGVwZW5kcyBvbi5cbiAgICAgICAqL1xuICAgICAgb2JzZXJ2ZToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIG9ic2VydmVyOiAnX19vYnNlcnZlQ2hhbmdlZCdcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogV2hlbiB1c2luZyBhIGBmaWx0ZXJgIG9yIGBzb3J0YCBmdW5jdGlvbiwgdGhlIGBkZWxheWAgcHJvcGVydHlcbiAgICAgICAqIGRldGVybWluZXMgYSBkZWJvdW5jZSB0aW1lIGluIG1zIGFmdGVyIGEgY2hhbmdlIHRvIG9ic2VydmVkIGl0ZW1cbiAgICAgICAqIHByb3BlcnRpZXMgdGhhdCBtdXN0IHBhc3MgYmVmb3JlIHRoZSBmaWx0ZXIgb3Igc29ydCBpcyByZS1ydW4uXG4gICAgICAgKiBUaGlzIGlzIHVzZWZ1bCBpbiByYXRlLWxpbWl0aW5nIHNodWZmbGluZyBvZiB0aGUgdmlldyB3aGVuXG4gICAgICAgKiBpdGVtIGNoYW5nZXMgbWF5IGJlIGZyZXF1ZW50LlxuICAgICAgICovXG4gICAgICBkZWxheTogTnVtYmVyLFxuXG4gICAgICAvKipcbiAgICAgICAqIENvdW50IG9mIGN1cnJlbnRseSByZW5kZXJlZCBpdGVtcyBhZnRlciBgZmlsdGVyYCAoaWYgYW55KSBoYXMgYmVlbiBhcHBsaWVkLlxuICAgICAgICogSWYgXCJjaHVua2luZyBtb2RlXCIgaXMgZW5hYmxlZCwgYHJlbmRlcmVkSXRlbUNvdW50YCBpcyB1cGRhdGVkIGVhY2ggdGltZSBhXG4gICAgICAgKiBzZXQgb2YgdGVtcGxhdGUgaW5zdGFuY2VzIGlzIHJlbmRlcmVkLlxuICAgICAgICpcbiAgICAgICAqL1xuICAgICAgcmVuZGVyZWRJdGVtQ291bnQ6IHtcbiAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICBub3RpZnk6IHRydWUsXG4gICAgICAgIHJlYWRPbmx5OiB0cnVlXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIERlZmluZXMgYW4gaW5pdGlhbCBjb3VudCBvZiB0ZW1wbGF0ZSBpbnN0YW5jZXMgdG8gcmVuZGVyIGFmdGVyIHNldHRpbmdcbiAgICAgICAqIHRoZSBgaXRlbXNgIGFycmF5LCBiZWZvcmUgdGhlIG5leHQgcGFpbnQsIGFuZCBwdXRzIHRoZSBgZG9tLXJlcGVhdGBcbiAgICAgICAqIGludG8gXCJjaHVua2luZyBtb2RlXCIuICBUaGUgcmVtYWluaW5nIGl0ZW1zIHdpbGwgYmUgY3JlYXRlZCBhbmQgcmVuZGVyZWRcbiAgICAgICAqIGluY3JlbWVudGFsbHkgYXQgZWFjaCBhbmltYXRpb24gZnJhbWUgdGhlcm9mIHVudGlsIGFsbCBpbnN0YW5jZXMgaGF2ZVxuICAgICAgICogYmVlbiByZW5kZXJlZC5cbiAgICAgICAqL1xuICAgICAgaW5pdGlhbENvdW50OiB7XG4gICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgb2JzZXJ2ZXI6ICdfX2luaXRpYWxpemVDaHVua2luZydcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogV2hlbiBgaW5pdGlhbENvdW50YCBpcyB1c2VkLCB0aGlzIHByb3BlcnR5IGRlZmluZXMgYSBmcmFtZSByYXRlIChpblxuICAgICAgICogZnBzKSB0byB0YXJnZXQgYnkgdGhyb3R0bGluZyB0aGUgbnVtYmVyIG9mIGluc3RhbmNlcyByZW5kZXJlZCBlYWNoXG4gICAgICAgKiBmcmFtZSB0byBub3QgZXhjZWVkIHRoZSBidWRnZXQgZm9yIHRoZSB0YXJnZXQgZnJhbWUgcmF0ZS4gIFRoZVxuICAgICAgICogZnJhbWVyYXRlIGlzIGVmZmVjdGl2ZWx5IHRoZSBudW1iZXIgb2YgYHJlcXVlc3RBbmltYXRpb25GcmFtZWBzIHRoYXRcbiAgICAgICAqIGl0IHRyaWVzIHRvIGFsbG93IHRvIGFjdHVhbGx5IGZpcmUgaW4gYSBnaXZlbiBzZWNvbmQuIEl0IGRvZXMgdGhpc1xuICAgICAgICogYnkgbWVhc3VyaW5nIHRoZSB0aW1lIGJldHdlZW4gYHJBRmBzIGFuZCBjb250aW51b3VzbHkgYWRqdXN0aW5nIHRoZVxuICAgICAgICogbnVtYmVyIG9mIGl0ZW1zIGNyZWF0ZWQgZWFjaCBgckFGYCB0byBtYWludGFpbiB0aGUgdGFyZ2V0IGZyYW1lcmF0ZS5cbiAgICAgICAqIFNldHRpbmcgdGhpcyB0byBhIGhpZ2hlciBudW1iZXIgYWxsb3dzIGxvd2VyIGxhdGVuY3kgYW5kIGhpZ2hlclxuICAgICAgICogdGhyb3VnaHB1dCBmb3IgZXZlbnQgaGFuZGxlcnMgYW5kIG90aGVyIHRhc2tzLCBidXQgcmVzdWx0cyBpbiBhXG4gICAgICAgKiBsb25nZXIgdGltZSBmb3IgdGhlIHJlbWFpbmluZyBpdGVtcyB0byBjb21wbGV0ZSByZW5kZXJpbmcuXG4gICAgICAgKi9cbiAgICAgIHRhcmdldEZyYW1lcmF0ZToge1xuICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgIHZhbHVlOiAyMFxuICAgICAgfSxcblxuICAgICAgX3RhcmdldEZyYW1lVGltZToge1xuICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgIGNvbXB1dGVkOiAnX19jb21wdXRlRnJhbWVUaW1lKHRhcmdldEZyYW1lcmF0ZSknXG4gICAgICB9XG5cbiAgICB9O1xuXG4gIH1cblxuICBzdGF0aWMgZ2V0IG9ic2VydmVycygpIHtcbiAgICByZXR1cm4gWyAnX19pdGVtc0NoYW5nZWQoaXRlbXMuKiknIF07XG4gIH1cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19pbnN0YW5jZXMgPSBbXTtcbiAgICB0aGlzLl9fbGltaXQgPSBJbmZpbml0eTtcbiAgICB0aGlzLl9fcG9vbCA9IFtdO1xuICAgIHRoaXMuX19yZW5kZXJEZWJvdW5jZXIgPSBudWxsO1xuICAgIHRoaXMuX19pdGVtc0lkeFRvSW5zdElkeCA9IHt9O1xuICAgIHRoaXMuX19jaHVua0NvdW50ID0gbnVsbDtcbiAgICB0aGlzLl9fbGFzdENodW5rVGltZSA9IG51bGw7XG4gICAgdGhpcy5fX3NvcnRGbiA9IG51bGw7XG4gICAgdGhpcy5fX2ZpbHRlckZuID0gbnVsbDtcbiAgICB0aGlzLl9fb2JzZXJ2ZVBhdGhzID0gbnVsbDtcbiAgICAvKiogQHR5cGUgez9mdW5jdGlvbihuZXc6VGVtcGxhdGVJbnN0YW5jZUJhc2UsIE9iamVjdD0pfSAqL1xuICAgIHRoaXMuX19jdG9yID0gbnVsbDtcbiAgICB0aGlzLl9faXNEZXRhY2hlZCA9IHRydWU7XG4gICAgdGhpcy50ZW1wbGF0ZSA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIHRoaXMuX19pc0RldGFjaGVkID0gdHJ1ZTtcbiAgICBmb3IgKGxldCBpPTA7IGk8dGhpcy5fX2luc3RhbmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5fX2RldGFjaEluc3RhbmNlKGkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgaWYgKCFoaWRlRWxlbWVudHNHbG9iYWxseSgpKSB7XG4gICAgICB0aGlzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxuICAgIC8vIG9ubHkgcGVyZm9ybSBhdHRhY2htZW50IGlmIHRoZSBlbGVtZW50IHdhcyBwcmV2aW91c2x5IGRldGFjaGVkLlxuICAgIGlmICh0aGlzLl9faXNEZXRhY2hlZCkge1xuICAgICAgdGhpcy5fX2lzRGV0YWNoZWQgPSBmYWxzZTtcbiAgICAgIGxldCB3cmFwcGVkUGFyZW50ID0gd3JhcCh3cmFwKHRoaXMpLnBhcmVudE5vZGUpO1xuICAgICAgZm9yIChsZXQgaT0wOyBpPHRoaXMuX19pbnN0YW5jZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5fX2F0dGFjaEluc3RhbmNlKGksIHdyYXBwZWRQYXJlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9fZW5zdXJlVGVtcGxhdGl6ZWQoKSB7XG4gICAgLy8gVGVtcGxhdGl6aW5nIChnZW5lcmF0aW5nIHRoZSBpbnN0YW5jZSBjb25zdHJ1Y3RvcikgbmVlZHMgdG8gd2FpdFxuICAgIC8vIHVudGlsIHJlYWR5LCBzaW5jZSB3b24ndCBoYXZlIGl0cyB0ZW1wbGF0ZSBjb250ZW50IGhhbmRlZCBiYWNrIHRvXG4gICAgLy8gaXQgdW50aWwgdGhlblxuICAgIGlmICghdGhpcy5fX2N0b3IpIHtcbiAgICAgIGxldCB0ZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGUgPSAvKiogQHR5cGUge0hUTUxUZW1wbGF0ZUVsZW1lbnR9ICovKHRoaXMucXVlcnlTZWxlY3RvcigndGVtcGxhdGUnKSk7XG4gICAgICBpZiAoIXRlbXBsYXRlKSB7XG4gICAgICAgIC8vIC8vIFdhaXQgdW50aWwgY2hpbGRMaXN0IGNoYW5nZXMgYW5kIHRlbXBsYXRlIHNob3VsZCBiZSB0aGVyZSBieSB0aGVuXG4gICAgICAgIGxldCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5xdWVyeVNlbGVjdG9yKCd0ZW1wbGF0ZScpKSB7XG4gICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICB0aGlzLl9fcmVuZGVyKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZG9tLXJlcGVhdCByZXF1aXJlcyBhIDx0ZW1wbGF0ZT4gY2hpbGQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHRoaXMsIHtjaGlsZExpc3Q6IHRydWV9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gVGVtcGxhdGUgaW5zdGFuY2UgcHJvcHMgdGhhdCBzaG91bGQgYmUgZXhjbHVkZWQgZnJvbSBmb3J3YXJkaW5nXG4gICAgICBsZXQgaW5zdGFuY2VQcm9wcyA9IHt9O1xuICAgICAgaW5zdGFuY2VQcm9wc1t0aGlzLmFzXSA9IHRydWU7XG4gICAgICBpbnN0YW5jZVByb3BzW3RoaXMuaW5kZXhBc10gPSB0cnVlO1xuICAgICAgaW5zdGFuY2VQcm9wc1t0aGlzLml0ZW1zSW5kZXhBc10gPSB0cnVlO1xuICAgICAgdGhpcy5fX2N0b3IgPSB0ZW1wbGF0aXplKHRlbXBsYXRlLCB0aGlzLCB7XG4gICAgICAgIG11dGFibGVEYXRhOiB0aGlzLm11dGFibGVEYXRhLFxuICAgICAgICBwYXJlbnRNb2RlbDogdHJ1ZSxcbiAgICAgICAgaW5zdGFuY2VQcm9wczogaW5zdGFuY2VQcm9wcyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0aGlzIHtEb21SZXBlYXR9XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIFByb3BlcnR5IHRvIHNldFxuICAgICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIHNldCBwcm9wZXJ0eSB0b1xuICAgICAgICAgKi9cbiAgICAgICAgZm9yd2FyZEhvc3RQcm9wOiBmdW5jdGlvbihwcm9wLCB2YWx1ZSkge1xuICAgICAgICAgIGxldCBpJCA9IHRoaXMuX19pbnN0YW5jZXM7XG4gICAgICAgICAgZm9yIChsZXQgaT0wLCBpbnN0OyAoaTxpJC5sZW5ndGgpICYmIChpbnN0PWkkW2ldKTsgaSsrKSB7XG4gICAgICAgICAgICBpbnN0LmZvcndhcmRIb3N0UHJvcChwcm9wLCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQHRoaXMge0RvbVJlcGVhdH1cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3QgSW5zdGFuY2UgdG8gbm90aWZ5XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIFByb3BlcnR5IHRvIG5vdGlmeVxuICAgICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIG5vdGlmeVxuICAgICAgICAgKi9cbiAgICAgICAgbm90aWZ5SW5zdGFuY2VQcm9wOiBmdW5jdGlvbihpbnN0LCBwcm9wLCB2YWx1ZSkge1xuICAgICAgICAgIGlmIChtYXRjaGVzKHRoaXMuYXMsIHByb3ApKSB7XG4gICAgICAgICAgICBsZXQgaWR4ID0gaW5zdFt0aGlzLml0ZW1zSW5kZXhBc107XG4gICAgICAgICAgICBpZiAocHJvcCA9PSB0aGlzLmFzKSB7XG4gICAgICAgICAgICAgIHRoaXMuaXRlbXNbaWR4XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHBhdGggPSB0cmFuc2xhdGUodGhpcy5hcywgYCR7SlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnaXRlbXMnLCB0aGlzKX0uJHtpZHh9YCwgcHJvcCk7XG4gICAgICAgICAgICB0aGlzLm5vdGlmeVBhdGgocGF0aCwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgX19nZXRNZXRob2RIb3N0KCkge1xuICAgIC8vIFRlY2huaWNhbGx5IHRoaXMgc2hvdWxkIGJlIHRoZSBvd25lciBvZiB0aGUgb3V0ZXJtb3N0IHRlbXBsYXRlLlxuICAgIC8vIEluIHNoYWRvdyBkb20sIHRoaXMgaXMgYWx3YXlzIGdldFJvb3ROb2RlKCkuaG9zdCwgYnV0IHdlIGNhblxuICAgIC8vIGFwcHJveGltYXRlIHRoaXMgdmlhIGNvb3BlcmF0aW9uIHdpdGggb3VyIGRhdGFIb3N0IGFsd2F5cyBzZXR0aW5nXG4gICAgLy8gYF9tZXRob2RIb3N0YCBhcyBsb25nIGFzIHRoZXJlIHdlcmUgYmluZGluZ3MgKG9yIGlkJ3MpIG9uIHRoaXNcbiAgICAvLyBpbnN0YW5jZSBjYXVzaW5nIGl0IHRvIGdldCBhIGRhdGFIb3N0LlxuICAgIHJldHVybiB0aGlzLl9fZGF0YUhvc3QuX21ldGhvZEhvc3QgfHwgdGhpcy5fX2RhdGFIb3N0O1xuICB9XG5cbiAgX19mdW5jdGlvbkZyb21Qcm9wZXJ0eVZhbHVlKGZ1bmN0aW9uT3JNZXRob2ROYW1lKSB7XG4gICAgaWYgKHR5cGVvZiBmdW5jdGlvbk9yTWV0aG9kTmFtZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGxldCBtZXRob2ROYW1lID0gZnVuY3Rpb25Pck1ldGhvZE5hbWU7XG4gICAgICBsZXQgb2JqID0gdGhpcy5fX2dldE1ldGhvZEhvc3QoKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHsgcmV0dXJuIG9ialttZXRob2ROYW1lXS5hcHBseShvYmosIGFyZ3VtZW50cyk7IH07XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uT3JNZXRob2ROYW1lO1xuICB9XG5cbiAgX19zb3J0Q2hhbmdlZChzb3J0KSB7XG4gICAgdGhpcy5fX3NvcnRGbiA9IHRoaXMuX19mdW5jdGlvbkZyb21Qcm9wZXJ0eVZhbHVlKHNvcnQpO1xuICAgIGlmICh0aGlzLml0ZW1zKSB7IHRoaXMuX19kZWJvdW5jZVJlbmRlcih0aGlzLl9fcmVuZGVyKTsgfVxuICB9XG5cbiAgX19maWx0ZXJDaGFuZ2VkKGZpbHRlcikge1xuICAgIHRoaXMuX19maWx0ZXJGbiA9IHRoaXMuX19mdW5jdGlvbkZyb21Qcm9wZXJ0eVZhbHVlKGZpbHRlcik7XG4gICAgaWYgKHRoaXMuaXRlbXMpIHsgdGhpcy5fX2RlYm91bmNlUmVuZGVyKHRoaXMuX19yZW5kZXIpOyB9XG4gIH1cblxuICBfX2NvbXB1dGVGcmFtZVRpbWUocmF0ZSkge1xuICAgIHJldHVybiBNYXRoLmNlaWwoMTAwMC9yYXRlKTtcbiAgfVxuXG4gIF9faW5pdGlhbGl6ZUNodW5raW5nKCkge1xuICAgIGlmICh0aGlzLmluaXRpYWxDb3VudCkge1xuICAgICAgdGhpcy5fX2xpbWl0ID0gdGhpcy5pbml0aWFsQ291bnQ7XG4gICAgICB0aGlzLl9fY2h1bmtDb3VudCA9IHRoaXMuaW5pdGlhbENvdW50O1xuICAgICAgdGhpcy5fX2xhc3RDaHVua1RpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9XG4gIH1cblxuICBfX3RyeVJlbmRlckNodW5rKCkge1xuICAgIC8vIERlYm91bmNlZCBzbyB0aGF0IG11bHRpcGxlIGNhbGxzIHRocm91Z2ggYF9yZW5kZXJgIGJldHdlZW4gYW5pbWF0aW9uXG4gICAgLy8gZnJhbWVzIG9ubHkgcXVldWUgb25lIG5ldyByQUYgKGUuZy4gYXJyYXkgbXV0YXRpb24gJiBjaHVua2VkIHJlbmRlcilcbiAgICBpZiAodGhpcy5pdGVtcyAmJiB0aGlzLl9fbGltaXQgPCB0aGlzLml0ZW1zLmxlbmd0aCkge1xuICAgICAgdGhpcy5fX2RlYm91bmNlUmVuZGVyKHRoaXMuX19yZXF1ZXN0UmVuZGVyQ2h1bmspO1xuICAgIH1cbiAgfVxuXG4gIF9fcmVxdWVzdFJlbmRlckNodW5rKCkge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+dGhpcy5fX3JlbmRlckNodW5rKCkpO1xuICB9XG5cbiAgX19yZW5kZXJDaHVuaygpIHtcbiAgICAvLyBTaW1wbGUgYXV0byBjaHVua1NpemUgdGhyb3R0bGluZyBhbGdvcml0aG0gYmFzZWQgb24gZmVlZGJhY2sgbG9vcDpcbiAgICAvLyBtZWFzdXJlIGFjdHVhbCB0aW1lIGJldHdlZW4gZnJhbWVzIGFuZCBzY2FsZSBjaHVuayBjb3VudCBieSByYXRpb1xuICAgIC8vIG9mIHRhcmdldC9hY3R1YWwgZnJhbWUgdGltZVxuICAgIGxldCBjdXJyQ2h1bmtUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgbGV0IHJhdGlvID0gdGhpcy5fdGFyZ2V0RnJhbWVUaW1lIC8gKGN1cnJDaHVua1RpbWUgLSB0aGlzLl9fbGFzdENodW5rVGltZSk7XG4gICAgdGhpcy5fX2NodW5rQ291bnQgPSBNYXRoLnJvdW5kKHRoaXMuX19jaHVua0NvdW50ICogcmF0aW8pIHx8IDE7XG4gICAgdGhpcy5fX2xpbWl0ICs9IHRoaXMuX19jaHVua0NvdW50O1xuICAgIHRoaXMuX19sYXN0Q2h1bmtUaW1lID0gY3VyckNodW5rVGltZTtcbiAgICB0aGlzLl9fZGVib3VuY2VSZW5kZXIodGhpcy5fX3JlbmRlcik7XG4gIH1cblxuICBfX29ic2VydmVDaGFuZ2VkKCkge1xuICAgIHRoaXMuX19vYnNlcnZlUGF0aHMgPSB0aGlzLm9ic2VydmUgJiZcbiAgICAgIHRoaXMub2JzZXJ2ZS5yZXBsYWNlKCcuKicsICcuJykuc3BsaXQoJyAnKTtcbiAgfVxuXG4gIF9faXRlbXNDaGFuZ2VkKGNoYW5nZSkge1xuICAgIGlmICh0aGlzLml0ZW1zICYmICFBcnJheS5pc0FycmF5KHRoaXMuaXRlbXMpKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ2RvbS1yZXBlYXQgZXhwZWN0ZWQgYXJyYXkgZm9yIGBpdGVtc2AsIGZvdW5kJywgdGhpcy5pdGVtcyk7XG4gICAgfVxuICAgIC8vIElmIHBhdGggd2FzIHRvIGFuIGl0ZW0gKGUuZy4gJ2l0ZW1zLjMnIG9yICdpdGVtcy4zLmZvbycpLCBmb3J3YXJkIHRoZVxuICAgIC8vIHBhdGggdG8gdGhhdCBpbnN0YW5jZSBzeW5jaHJvbm91c2x5IChyZXR1cm5zIGZhbHNlIGZvciBub24taXRlbSBwYXRocylcbiAgICBpZiAoIXRoaXMuX19oYW5kbGVJdGVtUGF0aChjaGFuZ2UucGF0aCwgY2hhbmdlLnZhbHVlKSkge1xuICAgICAgLy8gT3RoZXJ3aXNlLCB0aGUgYXJyYXkgd2FzIHJlc2V0ICgnaXRlbXMnKSBvciBzcGxpY2VkICgnaXRlbXMuc3BsaWNlcycpLFxuICAgICAgLy8gc28gcXVldWUgYSBmdWxsIHJlZnJlc2hcbiAgICAgIHRoaXMuX19pbml0aWFsaXplQ2h1bmtpbmcoKTtcbiAgICAgIHRoaXMuX19kZWJvdW5jZVJlbmRlcih0aGlzLl9fcmVuZGVyKTtcbiAgICB9XG4gIH1cblxuICBfX2hhbmRsZU9ic2VydmVkUGF0aHMocGF0aCkge1xuICAgIC8vIEhhbmRsZSBjYXNlcyB3aGVyZSBwYXRoIGNoYW5nZXMgc2hvdWxkIGNhdXNlIGEgcmUtc29ydC9maWx0ZXJcbiAgICBpZiAodGhpcy5fX3NvcnRGbiB8fCB0aGlzLl9fZmlsdGVyRm4pIHtcbiAgICAgIGlmICghcGF0aCkge1xuICAgICAgICAvLyBBbHdheXMgcmUtcmVuZGVyIGlmIHRoZSBpdGVtIGl0c2VsZiBjaGFuZ2VkXG4gICAgICAgIHRoaXMuX19kZWJvdW5jZVJlbmRlcih0aGlzLl9fcmVuZGVyLCB0aGlzLmRlbGF5KTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fX29ic2VydmVQYXRocykge1xuICAgICAgICAvLyBPdGhlcndpc2UsIHJlLXJlbmRlciBpZiB0aGUgcGF0aCBjaGFuZ2VkIG1hdGNoZXMgYW4gb2JzZXJ2ZWQgcGF0aFxuICAgICAgICBsZXQgcGF0aHMgPSB0aGlzLl9fb2JzZXJ2ZVBhdGhzO1xuICAgICAgICBmb3IgKGxldCBpPTA7IGk8cGF0aHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAocGF0aC5pbmRleE9mKHBhdGhzW2ldKSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fX2RlYm91bmNlUmVuZGVyKHRoaXMuX19yZW5kZXIsIHRoaXMuZGVsYXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6RG9tUmVwZWF0KX0gZm4gRnVuY3Rpb24gdG8gZGVib3VuY2UuXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gZGVsYXkgRGVsYXkgaW4gbXMgdG8gZGVib3VuY2UgYnkuXG4gICAqL1xuICBfX2RlYm91bmNlUmVuZGVyKGZuLCBkZWxheSA9IDApIHtcbiAgICB0aGlzLl9fcmVuZGVyRGVib3VuY2VyID0gRGVib3VuY2VyLmRlYm91bmNlKFxuICAgICAgICAgIHRoaXMuX19yZW5kZXJEZWJvdW5jZXJcbiAgICAgICAgLCBkZWxheSA+IDAgPyB0aW1lT3V0LmFmdGVyKGRlbGF5KSA6IG1pY3JvVGFza1xuICAgICAgICAsIGZuLmJpbmQodGhpcykpO1xuICAgIGVucXVldWVEZWJvdW5jZXIodGhpcy5fX3JlbmRlckRlYm91bmNlcik7XG4gIH1cblxuICAvKipcbiAgICogRm9yY2VzIHRoZSBlbGVtZW50IHRvIHJlbmRlciBpdHMgY29udGVudC4gTm9ybWFsbHkgcmVuZGVyaW5nIGlzXG4gICAqIGFzeW5jaHJvbm91cyB0byBhIHByb3Zva2luZyBjaGFuZ2UuIFRoaXMgaXMgZG9uZSBmb3IgZWZmaWNpZW5jeSBzb1xuICAgKiB0aGF0IG11bHRpcGxlIGNoYW5nZXMgdHJpZ2dlciBvbmx5IGEgc2luZ2xlIHJlbmRlci4gVGhlIHJlbmRlciBtZXRob2RcbiAgICogc2hvdWxkIGJlIGNhbGxlZCBpZiwgZm9yIGV4YW1wbGUsIHRlbXBsYXRlIHJlbmRlcmluZyBpcyByZXF1aXJlZCB0b1xuICAgKiB2YWxpZGF0ZSBhcHBsaWNhdGlvbiBzdGF0ZS5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICAvLyBRdWV1ZSB0aGlzIHJlcGVhdGVyLCB0aGVuIGZsdXNoIGFsbCBpbiBvcmRlclxuICAgIHRoaXMuX19kZWJvdW5jZVJlbmRlcih0aGlzLl9fcmVuZGVyKTtcbiAgICBmbHVzaCgpO1xuICB9XG5cbiAgX19yZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLl9fZW5zdXJlVGVtcGxhdGl6ZWQoKSkge1xuICAgICAgLy8gTm8gdGVtcGxhdGUgZm91bmQgeWV0XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX19hcHBseUZ1bGxSZWZyZXNoKCk7XG4gICAgLy8gUmVzZXQgdGhlIHBvb2xcbiAgICAvLyBUT0RPKGtzY2hhYWYpOiBSZXVzZSBwb29sIGFjcm9zcyB0dXJucyBhbmQgbmVzdGVkIHRlbXBsYXRlc1xuICAgIC8vIE5vdyB0aGF0IG9iamVjdHMvYXJyYXlzIGFyZSByZS1ldmFsdWF0ZWQgd2hlbiBzZXQsIHdlIGNhbiBzYWZlbHlcbiAgICAvLyByZXVzZSBwb29sZWQgaW5zdGFuY2VzIGFjcm9zcyB0dXJucywgaG93ZXZlciB3ZSBzdGlsbCBuZWVkIHRvIGRlY2lkZVxuICAgIC8vIHNlbWFudGljcyByZWdhcmRpbmcgaG93IGxvbmcgdG8gaG9sZCwgaG93IG1hbnkgdG8gaG9sZCwgZXRjLlxuICAgIHRoaXMuX19wb29sLmxlbmd0aCA9IDA7XG4gICAgLy8gU2V0IHJlbmRlcmVkIGl0ZW0gY291bnRcbiAgICB0aGlzLl9zZXRSZW5kZXJlZEl0ZW1Db3VudCh0aGlzLl9faW5zdGFuY2VzLmxlbmd0aCk7XG4gICAgLy8gTm90aWZ5IHVzZXJzXG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnZG9tLWNoYW5nZScsIHtcbiAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICBjb21wb3NlZDogdHJ1ZVxuICAgIH0pKTtcbiAgICAvLyBDaGVjayB0byBzZWUgaWYgd2UgbmVlZCB0byByZW5kZXIgbW9yZSBpdGVtc1xuICAgIHRoaXMuX190cnlSZW5kZXJDaHVuaygpO1xuICB9XG5cbiAgX19hcHBseUZ1bGxSZWZyZXNoKCkge1xuICAgIGxldCBpdGVtcyA9IHRoaXMuaXRlbXMgfHwgW107XG4gICAgbGV0IGlzbnRJZHhUb0l0ZW1zSWR4ID0gbmV3IEFycmF5KGl0ZW1zLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaT0wOyBpPGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpc250SWR4VG9JdGVtc0lkeFtpXSA9IGk7XG4gICAgfVxuICAgIC8vIEFwcGx5IHVzZXIgZmlsdGVyXG4gICAgaWYgKHRoaXMuX19maWx0ZXJGbikge1xuICAgICAgaXNudElkeFRvSXRlbXNJZHggPSBpc250SWR4VG9JdGVtc0lkeC5maWx0ZXIoKGksIGlkeCwgYXJyYXkpID0+XG4gICAgICAgIHRoaXMuX19maWx0ZXJGbihpdGVtc1tpXSwgaWR4LCBhcnJheSkpO1xuICAgIH1cbiAgICAvLyBBcHBseSB1c2VyIHNvcnRcbiAgICBpZiAodGhpcy5fX3NvcnRGbikge1xuICAgICAgaXNudElkeFRvSXRlbXNJZHguc29ydCgoYSwgYikgPT4gdGhpcy5fX3NvcnRGbihpdGVtc1thXSwgaXRlbXNbYl0pKTtcbiAgICB9XG4gICAgLy8gaXRlbXMtPmluc3QgbWFwIGtlcHQgZm9yIGl0ZW0gcGF0aCBmb3J3YXJkaW5nXG4gICAgY29uc3QgaXRlbXNJZHhUb0luc3RJZHggPSB0aGlzLl9faXRlbXNJZHhUb0luc3RJZHggPSB7fTtcbiAgICBsZXQgaW5zdElkeCA9IDA7XG4gICAgLy8gR2VuZXJhdGUgaW5zdGFuY2VzIGFuZCBhc3NpZ24gaXRlbXNcbiAgICBjb25zdCBsaW1pdCA9IE1hdGgubWluKGlzbnRJZHhUb0l0ZW1zSWR4Lmxlbmd0aCwgdGhpcy5fX2xpbWl0KTtcbiAgICBmb3IgKDsgaW5zdElkeDxsaW1pdDsgaW5zdElkeCsrKSB7XG4gICAgICBsZXQgaW5zdCA9IHRoaXMuX19pbnN0YW5jZXNbaW5zdElkeF07XG4gICAgICBsZXQgaXRlbUlkeCA9IGlzbnRJZHhUb0l0ZW1zSWR4W2luc3RJZHhdO1xuICAgICAgbGV0IGl0ZW0gPSBpdGVtc1tpdGVtSWR4XTtcbiAgICAgIGl0ZW1zSWR4VG9JbnN0SWR4W2l0ZW1JZHhdID0gaW5zdElkeDtcbiAgICAgIGlmIChpbnN0KSB7XG4gICAgICAgIGluc3QuX3NldFBlbmRpbmdQcm9wZXJ0eSh0aGlzLmFzLCBpdGVtKTtcbiAgICAgICAgaW5zdC5fc2V0UGVuZGluZ1Byb3BlcnR5KHRoaXMuaW5kZXhBcywgaW5zdElkeCk7XG4gICAgICAgIGluc3QuX3NldFBlbmRpbmdQcm9wZXJ0eSh0aGlzLml0ZW1zSW5kZXhBcywgaXRlbUlkeCk7XG4gICAgICAgIGluc3QuX2ZsdXNoUHJvcGVydGllcygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fX2luc2VydEluc3RhbmNlKGl0ZW0sIGluc3RJZHgsIGl0ZW1JZHgpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBSZW1vdmUgYW55IGV4dHJhIGluc3RhbmNlcyBmcm9tIHByZXZpb3VzIHN0YXRlXG4gICAgZm9yIChsZXQgaT10aGlzLl9faW5zdGFuY2VzLmxlbmd0aC0xOyBpPj1pbnN0SWR4OyBpLS0pIHtcbiAgICAgIHRoaXMuX19kZXRhY2hBbmRSZW1vdmVJbnN0YW5jZShpKTtcbiAgICB9XG4gIH1cblxuICBfX2RldGFjaEluc3RhbmNlKGlkeCkge1xuICAgIGxldCBpbnN0ID0gdGhpcy5fX2luc3RhbmNlc1tpZHhdO1xuICAgIGNvbnN0IHdyYXBwZWRSb290ID0gd3JhcChpbnN0LnJvb3QpO1xuICAgIGZvciAobGV0IGk9MDsgaTxpbnN0LmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWwgPSBpbnN0LmNoaWxkcmVuW2ldO1xuICAgICAgd3JhcHBlZFJvb3QuYXBwZW5kQ2hpbGQoZWwpO1xuICAgIH1cbiAgICByZXR1cm4gaW5zdDtcbiAgfVxuXG4gIF9fYXR0YWNoSW5zdGFuY2UoaWR4LCBwYXJlbnQpIHtcbiAgICBsZXQgaW5zdCA9IHRoaXMuX19pbnN0YW5jZXNbaWR4XTtcbiAgICAvLyBOb3RlLCB0aGlzIGlzIHByZS13cmFwcGVkIGFzIGFuIG9wdGltaXphdGlvblxuICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoaW5zdC5yb290LCB0aGlzKTtcbiAgfVxuXG4gIF9fZGV0YWNoQW5kUmVtb3ZlSW5zdGFuY2UoaWR4KSB7XG4gICAgbGV0IGluc3QgPSB0aGlzLl9fZGV0YWNoSW5zdGFuY2UoaWR4KTtcbiAgICBpZiAoaW5zdCkge1xuICAgICAgdGhpcy5fX3Bvb2wucHVzaChpbnN0KTtcbiAgICB9XG4gICAgdGhpcy5fX2luc3RhbmNlcy5zcGxpY2UoaWR4LCAxKTtcbiAgfVxuXG4gIF9fc3RhbXBJbnN0YW5jZShpdGVtLCBpbnN0SWR4LCBpdGVtSWR4KSB7XG4gICAgbGV0IG1vZGVsID0ge307XG4gICAgbW9kZWxbdGhpcy5hc10gPSBpdGVtO1xuICAgIG1vZGVsW3RoaXMuaW5kZXhBc10gPSBpbnN0SWR4O1xuICAgIG1vZGVsW3RoaXMuaXRlbXNJbmRleEFzXSA9IGl0ZW1JZHg7XG4gICAgcmV0dXJuIG5ldyB0aGlzLl9fY3Rvcihtb2RlbCk7XG4gIH1cblxuICBfX2luc2VydEluc3RhbmNlKGl0ZW0sIGluc3RJZHgsIGl0ZW1JZHgpIHtcbiAgICBsZXQgaW5zdCA9IHRoaXMuX19wb29sLnBvcCgpO1xuICAgIGlmIChpbnN0KSB7XG4gICAgICAvLyBUT0RPKGtzY2hhYWYpOiBJZiB0aGUgcG9vbCBpcyBzaGFyZWQgYWNyb3NzIHR1cm5zLCBob3N0UHJvcHNcbiAgICAgIC8vIG5lZWQgdG8gYmUgcmUtc2V0IHRvIHJldXNlZCBpbnN0YW5jZXMgaW4gYWRkaXRpb24gdG8gaXRlbVxuICAgICAgaW5zdC5fc2V0UGVuZGluZ1Byb3BlcnR5KHRoaXMuYXMsIGl0ZW0pO1xuICAgICAgaW5zdC5fc2V0UGVuZGluZ1Byb3BlcnR5KHRoaXMuaW5kZXhBcywgaW5zdElkeCk7XG4gICAgICBpbnN0Ll9zZXRQZW5kaW5nUHJvcGVydHkodGhpcy5pdGVtc0luZGV4QXMsIGl0ZW1JZHgpO1xuICAgICAgaW5zdC5fZmx1c2hQcm9wZXJ0aWVzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3QgPSB0aGlzLl9fc3RhbXBJbnN0YW5jZShpdGVtLCBpbnN0SWR4LCBpdGVtSWR4KTtcbiAgICB9XG4gICAgbGV0IGJlZm9yZVJvdyA9IHRoaXMuX19pbnN0YW5jZXNbaW5zdElkeCArIDFdO1xuICAgIGxldCBiZWZvcmVOb2RlID0gYmVmb3JlUm93ID8gYmVmb3JlUm93LmNoaWxkcmVuWzBdIDogdGhpcztcbiAgICB3cmFwKHdyYXAodGhpcykucGFyZW50Tm9kZSkuaW5zZXJ0QmVmb3JlKGluc3Qucm9vdCwgYmVmb3JlTm9kZSk7XG4gICAgdGhpcy5fX2luc3RhbmNlc1tpbnN0SWR4XSA9IGluc3Q7XG4gICAgcmV0dXJuIGluc3Q7XG4gIH1cblxuICAvLyBJbXBsZW1lbnRzIGV4dGVuc2lvbiBwb2ludCBmcm9tIFRlbXBsYXRpemUgbWl4aW5cbiAgLyoqXG4gICAqIFNob3dzIG9yIGhpZGVzIHRoZSB0ZW1wbGF0ZSBpbnN0YW5jZSB0b3AgbGV2ZWwgY2hpbGQgZWxlbWVudHMuIEZvclxuICAgKiB0ZXh0IG5vZGVzLCBgdGV4dENvbnRlbnRgIGlzIHJlbW92ZWQgd2hpbGUgXCJoaWRkZW5cIiBhbmQgcmVwbGFjZWQgd2hlblxuICAgKiBcInNob3duLlwiXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGlkZGVuIFNldCB0byB0cnVlIHRvIGhpZGUgdGhlIGNoaWxkcmVuO1xuICAgKiBzZXQgdG8gZmFsc2UgdG8gc2hvdyB0aGVtLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfc2hvd0hpZGVDaGlsZHJlbihoaWRkZW4pIHtcbiAgICBmb3IgKGxldCBpPTA7IGk8dGhpcy5fX2luc3RhbmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5fX2luc3RhbmNlc1tpXS5fc2hvd0hpZGVDaGlsZHJlbihoaWRkZW4pO1xuICAgIH1cbiAgfVxuXG4gIC8vIENhbGxlZCBhcyBhIHNpZGUgZWZmZWN0IG9mIGEgaG9zdCBpdGVtcy48a2V5Pi48cGF0aD4gcGF0aCBjaGFuZ2UsXG4gIC8vIHJlc3BvbnNpYmxlIGZvciBub3RpZnlpbmcgaXRlbS48cGF0aD4gY2hhbmdlcyB0byBpbnN0IGZvciBrZXlcbiAgX19oYW5kbGVJdGVtUGF0aChwYXRoLCB2YWx1ZSkge1xuICAgIGxldCBpdGVtc1BhdGggPSBwYXRoLnNsaWNlKDYpOyAvLyAnaXRlbXMuJy5sZW5ndGggPT0gNlxuICAgIGxldCBkb3QgPSBpdGVtc1BhdGguaW5kZXhPZignLicpO1xuICAgIGxldCBpdGVtc0lkeCA9IGRvdCA8IDAgPyBpdGVtc1BhdGggOiBpdGVtc1BhdGguc3Vic3RyaW5nKDAsIGRvdCk7XG4gICAgLy8gSWYgcGF0aCB3YXMgaW5kZXggaW50byBhcnJheS4uLlxuICAgIGlmIChpdGVtc0lkeCA9PSBwYXJzZUludChpdGVtc0lkeCwgMTApKSB7XG4gICAgICBsZXQgaXRlbVN1YlBhdGggPSBkb3QgPCAwID8gJycgOiBpdGVtc1BhdGguc3Vic3RyaW5nKGRvdCsxKTtcbiAgICAgIC8vIElmIHRoZSBwYXRoIGlzIG9ic2VydmVkLCBpdCB3aWxsIHRyaWdnZXIgYSBmdWxsIHJlZnJlc2hcbiAgICAgIHRoaXMuX19oYW5kbGVPYnNlcnZlZFBhdGhzKGl0ZW1TdWJQYXRoKTtcbiAgICAgIC8vIE5vdGUsIGV2ZW4gaWYgYSBydWxsIHJlZnJlc2ggaXMgdHJpZ2dlcmVkLCBhbHdheXMgZG8gdGhlIHBhdGhcbiAgICAgIC8vIG5vdGlmaWNhdGlvbiBiZWNhdXNlIHVubGVzcyBtdXRhYmxlRGF0YSBpcyB1c2VkIGZvciBkb20tcmVwZWF0XG4gICAgICAvLyBhbmQgYWxsIGVsZW1lbnRzIGluIHRoZSBpbnN0YW5jZSBzdWJ0cmVlLCBhIGZ1bGwgcmVmcmVzaCBtYXlcbiAgICAgIC8vIG5vdCB0cmlnZ2VyIHRoZSBwcm9wZXIgdXBkYXRlLlxuICAgICAgbGV0IGluc3RJZHggPSB0aGlzLl9faXRlbXNJZHhUb0luc3RJZHhbaXRlbXNJZHhdO1xuICAgICAgbGV0IGluc3QgPSB0aGlzLl9faW5zdGFuY2VzW2luc3RJZHhdO1xuICAgICAgaWYgKGluc3QpIHtcbiAgICAgICAgbGV0IGl0ZW1QYXRoID0gdGhpcy5hcyArIChpdGVtU3ViUGF0aCA/ICcuJyArIGl0ZW1TdWJQYXRoIDogJycpO1xuICAgICAgICAvLyBUaGlzIGlzIGVmZmVjdGl2ZWx5IGBub3RpZnlQYXRoYCwgYnV0IGF2b2lkcyBzb21lIG9mIHRoZSBvdmVyaGVhZFxuICAgICAgICAvLyBvZiB0aGUgcHVibGljIEFQSVxuICAgICAgICBpbnN0Ll9zZXRQZW5kaW5nUHJvcGVydHlPclBhdGgoaXRlbVBhdGgsIHZhbHVlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIGluc3QuX2ZsdXNoUHJvcGVydGllcygpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGl0ZW0gYXNzb2NpYXRlZCB3aXRoIGEgZ2l2ZW4gZWxlbWVudCBzdGFtcGVkIGJ5XG4gICAqIHRoaXMgYGRvbS1yZXBlYXRgLlxuICAgKlxuICAgKiBOb3RlLCB0byBtb2RpZnkgc3ViLXByb3BlcnRpZXMgb2YgdGhlIGl0ZW0sXG4gICAqIGBtb2RlbEZvckVsZW1lbnQoZWwpLnNldCgnaXRlbS48c3ViLXByb3A+JywgdmFsdWUpYFxuICAgKiBzaG91bGQgYmUgdXNlZC5cbiAgICpcbiAgICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IGVsIEVsZW1lbnQgZm9yIHdoaWNoIHRvIHJldHVybiB0aGUgaXRlbS5cbiAgICogQHJldHVybiB7Kn0gSXRlbSBhc3NvY2lhdGVkIHdpdGggdGhlIGVsZW1lbnQuXG4gICAqL1xuICBpdGVtRm9yRWxlbWVudChlbCkge1xuICAgIGxldCBpbnN0YW5jZSA9IHRoaXMubW9kZWxGb3JFbGVtZW50KGVsKTtcbiAgICByZXR1cm4gaW5zdGFuY2UgJiYgaW5zdGFuY2VbdGhpcy5hc107XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgaW5zdCBpbmRleCBmb3IgYSBnaXZlbiBlbGVtZW50IHN0YW1wZWQgYnkgdGhpcyBgZG9tLXJlcGVhdGAuXG4gICAqIElmIGBzb3J0YCBpcyBwcm92aWRlZCwgdGhlIGluZGV4IHdpbGwgcmVmbGVjdCB0aGUgc29ydGVkIG9yZGVyIChyYXRoZXJcbiAgICogdGhhbiB0aGUgb3JpZ2luYWwgYXJyYXkgb3JkZXIpLlxuICAgKlxuICAgKiBAcGFyYW0geyFIVE1MRWxlbWVudH0gZWwgRWxlbWVudCBmb3Igd2hpY2ggdG8gcmV0dXJuIHRoZSBpbmRleC5cbiAgICogQHJldHVybiB7P251bWJlcn0gUm93IGluZGV4IGFzc29jaWF0ZWQgd2l0aCB0aGUgZWxlbWVudCAobm90ZSB0aGlzIG1heVxuICAgKiAgIG5vdCBjb3JyZXNwb25kIHRvIHRoZSBhcnJheSBpbmRleCBpZiBhIHVzZXIgYHNvcnRgIGlzIGFwcGxpZWQpLlxuICAgKi9cbiAgaW5kZXhGb3JFbGVtZW50KGVsKSB7XG4gICAgbGV0IGluc3RhbmNlID0gdGhpcy5tb2RlbEZvckVsZW1lbnQoZWwpO1xuICAgIHJldHVybiBpbnN0YW5jZSAmJiBpbnN0YW5jZVt0aGlzLmluZGV4QXNdO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHRlbXBsYXRlIFwibW9kZWxcIiBhc3NvY2lhdGVkIHdpdGggYSBnaXZlbiBlbGVtZW50LCB3aGljaFxuICAgKiBzZXJ2ZXMgYXMgdGhlIGJpbmRpbmcgc2NvcGUgZm9yIHRoZSB0ZW1wbGF0ZSBpbnN0YW5jZSB0aGUgZWxlbWVudCBpc1xuICAgKiBjb250YWluZWQgaW4uIEEgdGVtcGxhdGUgbW9kZWxcbiAgICogc2hvdWxkIGJlIHVzZWQgdG8gbWFuaXB1bGF0ZSBkYXRhIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHRlbXBsYXRlIGluc3RhbmNlLlxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKlxuICAgKiAgIGxldCBtb2RlbCA9IG1vZGVsRm9yRWxlbWVudChlbCk7XG4gICAqICAgaWYgKG1vZGVsLmluZGV4IDwgMTApIHtcbiAgICogICAgIG1vZGVsLnNldCgnaXRlbS5jaGVja2VkJywgdHJ1ZSk7XG4gICAqICAgfVxuICAgKlxuICAgKiBAcGFyYW0geyFIVE1MRWxlbWVudH0gZWwgRWxlbWVudCBmb3Igd2hpY2ggdG8gcmV0dXJuIGEgdGVtcGxhdGUgbW9kZWwuXG4gICAqIEByZXR1cm4ge1RlbXBsYXRlSW5zdGFuY2VCYXNlfSBNb2RlbCByZXByZXNlbnRpbmcgdGhlIGJpbmRpbmcgc2NvcGUgZm9yXG4gICAqICAgdGhlIGVsZW1lbnQuXG4gICAqL1xuICBtb2RlbEZvckVsZW1lbnQoZWwpIHtcbiAgICByZXR1cm4gbW9kZWxGb3JFbGVtZW50KHRoaXMudGVtcGxhdGUsIGVsKTtcbiAgfVxuXG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZShEb21SZXBlYXQuaXMsIERvbVJlcGVhdCk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0IHsgUG9seW1lckVsZW1lbnQgfSBmcm9tICcuLi8uLi9wb2x5bWVyLWVsZW1lbnQuanMnO1xuXG5pbXBvcnQgeyB0ZW1wbGF0aXplIH0gZnJvbSAnLi4vdXRpbHMvdGVtcGxhdGl6ZS5qcyc7XG5pbXBvcnQgeyBEZWJvdW5jZXIgfSBmcm9tICcuLi91dGlscy9kZWJvdW5jZS5qcyc7XG5pbXBvcnQgeyBlbnF1ZXVlRGVib3VuY2VyLCBmbHVzaCB9IGZyb20gJy4uL3V0aWxzL2ZsdXNoLmpzJztcbmltcG9ydCB7IG1pY3JvVGFzayB9IGZyb20gJy4uL3V0aWxzL2FzeW5jLmpzJztcbmltcG9ydCB7IHJvb3QgfSBmcm9tICcuLi91dGlscy9wYXRoLmpzJztcbmltcG9ydCB7IHdyYXAgfSBmcm9tICcuLi91dGlscy93cmFwLmpzJztcbmltcG9ydCB7IGhpZGVFbGVtZW50c0dsb2JhbGx5IH0gZnJvbSAnLi4vdXRpbHMvaGlkZS10ZW1wbGF0ZS1jb250cm9scy5qcyc7XG5cbi8qKlxuICogVGhlIGA8ZG9tLWlmPmAgZWxlbWVudCB3aWxsIHN0YW1wIGEgbGlnaHQtZG9tIGA8dGVtcGxhdGU+YCBjaGlsZCB3aGVuXG4gKiB0aGUgYGlmYCBwcm9wZXJ0eSBiZWNvbWVzIHRydXRoeSwgYW5kIHRoZSB0ZW1wbGF0ZSBjYW4gdXNlIFBvbHltZXJcbiAqIGRhdGEtYmluZGluZyBhbmQgZGVjbGFyYXRpdmUgZXZlbnQgZmVhdHVyZXMgd2hlbiB1c2VkIGluIHRoZSBjb250ZXh0IG9mXG4gKiBhIFBvbHltZXIgZWxlbWVudCdzIHRlbXBsYXRlLlxuICpcbiAqIFdoZW4gYGlmYCBiZWNvbWVzIGZhbHN5LCB0aGUgc3RhbXBlZCBjb250ZW50IGlzIGhpZGRlbiBidXQgbm90XG4gKiByZW1vdmVkIGZyb20gZG9tLiBXaGVuIGBpZmAgc3Vic2VxdWVudGx5IGJlY29tZXMgdHJ1dGh5IGFnYWluLCB0aGUgY29udGVudFxuICogaXMgc2ltcGx5IHJlLXNob3duLiBUaGlzIGFwcHJvYWNoIGlzIHVzZWQgZHVlIHRvIGl0cyBmYXZvcmFibGUgcGVyZm9ybWFuY2VcbiAqIGNoYXJhY3RlcmlzdGljczogdGhlIGV4cGVuc2Ugb2YgY3JlYXRpbmcgdGVtcGxhdGUgY29udGVudCBpcyBwYWlkIG9ubHlcbiAqIG9uY2UgYW5kIGxhemlseS5cbiAqXG4gKiBTZXQgdGhlIGByZXN0YW1wYCBwcm9wZXJ0eSB0byB0cnVlIHRvIGZvcmNlIHRoZSBzdGFtcGVkIGNvbnRlbnQgdG8gYmVcbiAqIGNyZWF0ZWQgLyBkZXN0cm95ZWQgd2hlbiB0aGUgYGlmYCBjb25kaXRpb24gY2hhbmdlcy5cbiAqXG4gKiBAY3VzdG9tRWxlbWVudFxuICogQHBvbHltZXJcbiAqIEBleHRlbmRzIFBvbHltZXJFbGVtZW50XG4gKiBAc3VtbWFyeSBDdXN0b20gZWxlbWVudCB0aGF0IGNvbmRpdGlvbmFsbHkgc3RhbXBzIGFuZCBoaWRlcyBvciByZW1vdmVzXG4gKiAgIHRlbXBsYXRlIGNvbnRlbnQgYmFzZWQgb24gYSBib29sZWFuIGZsYWcuXG4gKi9cbmV4cG9ydCBjbGFzcyBEb21JZiBleHRlbmRzIFBvbHltZXJFbGVtZW50IHtcblxuICAvLyBOb3QgbmVlZGVkIHRvIGZpbmQgdGVtcGxhdGU7IGNhbiBiZSByZW1vdmVkIG9uY2UgdGhlIGFuYWx5emVyXG4gIC8vIGNhbiBmaW5kIHRoZSB0YWcgbmFtZSBmcm9tIGN1c3RvbUVsZW1lbnRzLmRlZmluZSBjYWxsXG4gIHN0YXRpYyBnZXQgaXMoKSB7IHJldHVybiAnZG9tLWlmJzsgfVxuXG4gIHN0YXRpYyBnZXQgdGVtcGxhdGUoKSB7IHJldHVybiBudWxsOyB9XG5cbiAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuXG4gICAgcmV0dXJuIHtcblxuICAgICAgLyoqXG4gICAgICAgKiBGaXJlZCB3aGVuZXZlciBET00gaXMgYWRkZWQgb3IgcmVtb3ZlZC9oaWRkZW4gYnkgdGhpcyB0ZW1wbGF0ZSAoYnlcbiAgICAgICAqIGRlZmF1bHQsIHJlbmRlcmluZyBvY2N1cnMgbGF6aWx5KS4gIFRvIGZvcmNlIGltbWVkaWF0ZSByZW5kZXJpbmcsIGNhbGxcbiAgICAgICAqIGByZW5kZXJgLlxuICAgICAgICpcbiAgICAgICAqIEBldmVudCBkb20tY2hhbmdlXG4gICAgICAgKi9cblxuICAgICAgLyoqXG4gICAgICAgKiBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoaXMgdGVtcGxhdGUgc2hvdWxkIHN0YW1wLlxuICAgICAgICovXG4gICAgICBpZjoge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBvYnNlcnZlcjogJ19fZGVib3VuY2VSZW5kZXInXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFdoZW4gdHJ1ZSwgZWxlbWVudHMgd2lsbCBiZSByZW1vdmVkIGZyb20gRE9NIGFuZCBkaXNjYXJkZWQgd2hlbiBgaWZgXG4gICAgICAgKiBiZWNvbWVzIGZhbHNlIGFuZCByZS1jcmVhdGVkIGFuZCBhZGRlZCBiYWNrIHRvIHRoZSBET00gd2hlbiBgaWZgXG4gICAgICAgKiBiZWNvbWVzIHRydWUuICBCeSBkZWZhdWx0LCBzdGFtcGVkIGVsZW1lbnRzIHdpbGwgYmUgaGlkZGVuIGJ1dCBsZWZ0XG4gICAgICAgKiBpbiB0aGUgRE9NIHdoZW4gYGlmYCBiZWNvbWVzIGZhbHNlLCB3aGljaCBpcyBnZW5lcmFsbHkgcmVzdWx0c1xuICAgICAgICogaW4gYmV0dGVyIHBlcmZvcm1hbmNlLlxuICAgICAgICovXG4gICAgICByZXN0YW1wOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIG9ic2VydmVyOiAnX19kZWJvdW5jZVJlbmRlcidcbiAgICAgIH1cblxuICAgIH07XG5cbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlbmRlckRlYm91bmNlciA9IG51bGw7XG4gICAgdGhpcy5fX2ludmFsaWRQcm9wcyA9IG51bGw7XG4gICAgdGhpcy5fX2luc3RhbmNlID0gbnVsbDtcbiAgICB0aGlzLl9sYXN0SWYgPSBmYWxzZTtcbiAgICB0aGlzLl9fY3RvciA9IG51bGw7XG4gICAgdGhpcy5fX2hpZGVUZW1wbGF0ZUNoaWxkcmVuX18gPSBmYWxzZTtcbiAgfVxuXG4gIF9fZGVib3VuY2VSZW5kZXIoKSB7XG4gICAgLy8gUmVuZGVyIGlzIGFzeW5jIGZvciAyIHJlYXNvbnM6XG4gICAgLy8gMS4gVG8gZWxpbWluYXRlIGRvbSBjcmVhdGlvbiB0cmFzaGluZyBpZiB1c2VyIGNvZGUgdGhyYXNoZXMgYGlmYCBpbiB0aGVcbiAgICAvLyAgICBzYW1lIHR1cm4uIFRoaXMgd2FzIG1vcmUgY29tbW9uIGluIDEueCB3aGVyZSBhIGNvbXBvdW5kIGNvbXB1dGVkXG4gICAgLy8gICAgcHJvcGVydHkgY291bGQgcmVzdWx0IGluIHRoZSByZXN1bHQgY2hhbmdpbmcgbXVsdGlwbGUgdGltZXMsIGJ1dCBpc1xuICAgIC8vICAgIG1pdGlnYXRlZCB0byBhIGxhcmdlIGV4dGVudCBieSBiYXRjaGVkIHByb3BlcnR5IHByb2Nlc3NpbmcgaW4gMi54LlxuICAgIC8vIDIuIFRvIGF2b2lkIGRvdWJsZSBvYmplY3QgcHJvcGFnYXRpb24gd2hlbiBhIGJhZyBpbmNsdWRpbmcgdmFsdWVzIGJvdW5kXG4gICAgLy8gICAgdG8gdGhlIGBpZmAgcHJvcGVydHkgYXMgd2VsbCBhcyBvbmUgb3IgbW9yZSBob3N0UHJvcHMgY291bGQgZW5xdWV1ZVxuICAgIC8vICAgIHRoZSA8ZG9tLWlmPiB0byBmbHVzaCBiZWZvcmUgdGhlIDx0ZW1wbGF0ZT4ncyBob3N0IHByb3BlcnR5XG4gICAgLy8gICAgZm9yd2FyZGluZy4gSW4gdGhhdCBzY2VuYXJpbyBjcmVhdGluZyBhbiBpbnN0YW5jZSB3b3VsZCByZXN1bHQgaW5cbiAgICAvLyAgICB0aGUgaG9zdCBwcm9wcyBiZWluZyBzZXQgb25jZSwgYW5kIHRoZW4gdGhlIGVucXVldWVkIGNoYW5nZXMgb24gdGhlXG4gICAgLy8gICAgdGVtcGxhdGUgd291bGQgc2V0IHByb3BlcnRpZXMgYSBzZWNvbmQgdGltZSwgcG90ZW50aWFsbHkgY2F1c2luZyBhblxuICAgIC8vICAgIG9iamVjdCB0byBiZSBzZXQgdG8gYW4gaW5zdGFuY2UgbW9yZSB0aGFuIG9uY2UuICBDcmVhdGluZyB0aGVcbiAgICAvLyAgICBpbnN0YW5jZSBhc3luYyBmcm9tIGZsdXNoaW5nIGRhdGEgZW5zdXJlcyB0aGlzIGRvZXNuJ3QgaGFwcGVuLiBJZlxuICAgIC8vICAgIHdlIHdhbnRlZCBhIHN5bmMgb3B0aW9uIGluIHRoZSBmdXR1cmUsIHNpbXBseSBoYXZpbmcgPGRvbS1pZj4gZmx1c2hcbiAgICAvLyAgICAob3IgY2xlYXIpIGl0cyB0ZW1wbGF0ZSdzIHBlbmRpbmcgaG9zdCBwcm9wZXJ0aWVzIGJlZm9yZSBjcmVhdGluZ1xuICAgIC8vICAgIHRoZSBpbnN0YW5jZSB3b3VsZCBhbHNvIGF2b2lkIHRoZSBwcm9ibGVtLlxuICAgIHRoaXMuX19yZW5kZXJEZWJvdW5jZXIgPSBEZWJvdW5jZXIuZGVib3VuY2UoXG4gICAgICAgICAgdGhpcy5fX3JlbmRlckRlYm91bmNlclxuICAgICAgICAsIG1pY3JvVGFza1xuICAgICAgICAsICgpID0+IHRoaXMuX19yZW5kZXIoKSk7XG4gICAgZW5xdWV1ZURlYm91bmNlcih0aGlzLl9fcmVuZGVyRGVib3VuY2VyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgY29uc3QgcGFyZW50ID0gd3JhcCh0aGlzKS5wYXJlbnROb2RlO1xuICAgIGlmICghcGFyZW50IHx8IChwYXJlbnQubm9kZVR5cGUgPT0gTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFICYmXG4gICAgICAgICF3cmFwKHBhcmVudCkuaG9zdCkpIHtcbiAgICAgIHRoaXMuX190ZWFyZG93bkluc3RhbmNlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICBpZiAoIWhpZGVFbGVtZW50c0dsb2JhbGx5KCkpIHtcbiAgICAgIHRoaXMuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG4gICAgaWYgKHRoaXMuaWYpIHtcbiAgICAgIHRoaXMuX19kZWJvdW5jZVJlbmRlcigpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JjZXMgdGhlIGVsZW1lbnQgdG8gcmVuZGVyIGl0cyBjb250ZW50LiBOb3JtYWxseSByZW5kZXJpbmcgaXNcbiAgICogYXN5bmNocm9ub3VzIHRvIGEgcHJvdm9raW5nIGNoYW5nZS4gVGhpcyBpcyBkb25lIGZvciBlZmZpY2llbmN5IHNvXG4gICAqIHRoYXQgbXVsdGlwbGUgY2hhbmdlcyB0cmlnZ2VyIG9ubHkgYSBzaW5nbGUgcmVuZGVyLiBUaGUgcmVuZGVyIG1ldGhvZFxuICAgKiBzaG91bGQgYmUgY2FsbGVkIGlmLCBmb3IgZXhhbXBsZSwgdGVtcGxhdGUgcmVuZGVyaW5nIGlzIHJlcXVpcmVkIHRvXG4gICAqIHZhbGlkYXRlIGFwcGxpY2F0aW9uIHN0YXRlLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIGZsdXNoKCk7XG4gIH1cblxuICBfX3JlbmRlcigpIHtcbiAgICBpZiAodGhpcy5pZikge1xuICAgICAgaWYgKCF0aGlzLl9fZW5zdXJlSW5zdGFuY2UoKSkge1xuICAgICAgICAvLyBObyB0ZW1wbGF0ZSBmb3VuZCB5ZXRcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fc2hvd0hpZGVDaGlsZHJlbigpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5yZXN0YW1wKSB7XG4gICAgICB0aGlzLl9fdGVhcmRvd25JbnN0YW5jZSgpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMucmVzdGFtcCAmJiB0aGlzLl9faW5zdGFuY2UpIHtcbiAgICAgIHRoaXMuX3Nob3dIaWRlQ2hpbGRyZW4oKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaWYgIT0gdGhpcy5fbGFzdElmKSB7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdkb20tY2hhbmdlJywge1xuICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICBjb21wb3NlZDogdHJ1ZVxuICAgICAgfSkpO1xuICAgICAgdGhpcy5fbGFzdElmID0gdGhpcy5pZjtcbiAgICB9XG4gIH1cblxuICBfX2Vuc3VyZUluc3RhbmNlKCkge1xuICAgIGxldCBwYXJlbnROb2RlID0gd3JhcCh0aGlzKS5wYXJlbnROb2RlO1xuICAgIC8vIEd1YXJkIGFnYWluc3QgZWxlbWVudCBiZWluZyBkZXRhY2hlZCB3aGlsZSByZW5kZXIgd2FzIHF1ZXVlZFxuICAgIGlmIChwYXJlbnROb2RlKSB7XG4gICAgICBpZiAoIXRoaXMuX19jdG9yKSB7XG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IC8qKiBAdHlwZSB7SFRNTFRlbXBsYXRlRWxlbWVudH0gKi8od3JhcCh0aGlzKS5xdWVyeVNlbGVjdG9yKCd0ZW1wbGF0ZScpKTtcbiAgICAgICAgaWYgKCF0ZW1wbGF0ZSkge1xuICAgICAgICAgIC8vIFdhaXQgdW50aWwgY2hpbGRMaXN0IGNoYW5nZXMgYW5kIHRlbXBsYXRlIHNob3VsZCBiZSB0aGVyZSBieSB0aGVuXG4gICAgICAgICAgbGV0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHdyYXAodGhpcykucXVlcnlTZWxlY3RvcigndGVtcGxhdGUnKSkge1xuICAgICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgIHRoaXMuX19yZW5kZXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZG9tLWlmIHJlcXVpcmVzIGEgPHRlbXBsYXRlPiBjaGlsZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUodGhpcywge2NoaWxkTGlzdDogdHJ1ZX0pO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9fY3RvciA9IHRlbXBsYXRpemUodGVtcGxhdGUsIHRoaXMsIHtcbiAgICAgICAgICAvLyBkb20taWYgdGVtcGxhdGl6ZXIgaW5zdGFuY2VzIHJlcXVpcmUgYG11dGFibGU6IHRydWVgLCBhc1xuICAgICAgICAgIC8vIGBfX3N5bmNIb3N0UHJvcGVydGllc2AgcmVsaWVzIG9uIHRoYXQgYmVoYXZpb3IgdG8gc3luYyBvYmplY3RzXG4gICAgICAgICAgbXV0YWJsZURhdGE6IHRydWUsXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3AgUHJvcGVydHkgdG8gZm9yd2FyZFxuICAgICAgICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgb2YgcHJvcGVydHlcbiAgICAgICAgICAgKiBAdGhpcyB7RG9tSWZ9XG4gICAgICAgICAgICovXG4gICAgICAgICAgZm9yd2FyZEhvc3RQcm9wOiBmdW5jdGlvbihwcm9wLCB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX19pbnN0YW5jZSkge1xuICAgICAgICAgICAgICBpZiAodGhpcy5pZikge1xuICAgICAgICAgICAgICAgIHRoaXMuX19pbnN0YW5jZS5mb3J3YXJkSG9zdFByb3AocHJvcCwgdmFsdWUpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgYW4gaW5zdGFuY2UgYnV0IGFyZSBzcXVlbGNoaW5nIGhvc3QgcHJvcGVydHlcbiAgICAgICAgICAgICAgICAvLyBmb3J3YXJkaW5nIGR1ZSB0byBpZiBiZWluZyBmYWxzZSwgbm90ZSB0aGUgaW52YWxpZGF0ZWRcbiAgICAgICAgICAgICAgICAvLyBwcm9wZXJ0aWVzIHNvIGBfX3N5bmNIb3N0UHJvcGVydGllc2AgY2FuIHN5bmMgdGhlbSB0aGUgbmV4dFxuICAgICAgICAgICAgICAgIC8vIHRpbWUgYGlmYCBiZWNvbWVzIHRydWVcbiAgICAgICAgICAgICAgICB0aGlzLl9faW52YWxpZFByb3BzID0gdGhpcy5fX2ludmFsaWRQcm9wcyB8fCBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgICAgICAgIHRoaXMuX19pbnZhbGlkUHJvcHNbcm9vdChwcm9wKV0gPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5fX2luc3RhbmNlKSB7XG4gICAgICAgIHRoaXMuX19pbnN0YW5jZSA9IG5ldyB0aGlzLl9fY3RvcigpO1xuICAgICAgICB3cmFwKHBhcmVudE5vZGUpLmluc2VydEJlZm9yZSh0aGlzLl9faW5zdGFuY2Uucm9vdCwgdGhpcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9fc3luY0hvc3RQcm9wZXJ0aWVzKCk7XG4gICAgICAgIGxldCBjJCA9IHRoaXMuX19pbnN0YW5jZS5jaGlsZHJlbjtcbiAgICAgICAgaWYgKGMkICYmIGMkLmxlbmd0aCkge1xuICAgICAgICAgIC8vIERldGVjdCBjYXNlIHdoZXJlIGRvbS1pZiB3YXMgcmUtYXR0YWNoZWQgaW4gbmV3IHBvc2l0aW9uXG4gICAgICAgICAgbGV0IGxhc3RDaGlsZCA9IHdyYXAodGhpcykucHJldmlvdXNTaWJsaW5nO1xuICAgICAgICAgIGlmIChsYXN0Q2hpbGQgIT09IGMkW2MkLmxlbmd0aC0xXSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaT0wLCBuOyAoaTxjJC5sZW5ndGgpICYmIChuPWMkW2ldKTsgaSsrKSB7XG4gICAgICAgICAgICAgIHdyYXAocGFyZW50Tm9kZSkuaW5zZXJ0QmVmb3JlKG4sIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIF9fc3luY0hvc3RQcm9wZXJ0aWVzKCkge1xuICAgIGxldCBwcm9wcyA9IHRoaXMuX19pbnZhbGlkUHJvcHM7XG4gICAgaWYgKHByb3BzKSB7XG4gICAgICBmb3IgKGxldCBwcm9wIGluIHByb3BzKSB7XG4gICAgICAgIHRoaXMuX19pbnN0YW5jZS5fc2V0UGVuZGluZ1Byb3BlcnR5KHByb3AsIHRoaXMuX19kYXRhSG9zdFtwcm9wXSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9faW52YWxpZFByb3BzID0gbnVsbDtcbiAgICAgIHRoaXMuX19pbnN0YW5jZS5fZmx1c2hQcm9wZXJ0aWVzKCk7XG4gICAgfVxuICB9XG5cbiAgX190ZWFyZG93bkluc3RhbmNlKCkge1xuICAgIGlmICh0aGlzLl9faW5zdGFuY2UpIHtcbiAgICAgIGxldCBjJCA9IHRoaXMuX19pbnN0YW5jZS5jaGlsZHJlbjtcbiAgICAgIGlmIChjJCAmJiBjJC5sZW5ndGgpIHtcbiAgICAgICAgLy8gdXNlIGZpcnN0IGNoaWxkIHBhcmVudCwgZm9yIGNhc2Ugd2hlbiBkb20taWYgbWF5IGhhdmUgYmVlbiBkZXRhY2hlZFxuICAgICAgICBsZXQgcGFyZW50ID0gd3JhcChjJFswXSkucGFyZW50Tm9kZTtcbiAgICAgICAgLy8gSW5zdGFuY2UgY2hpbGRyZW4gbWF5IGJlIGRpc2Nvbm5lY3RlZCBmcm9tIHBhcmVudHMgd2hlbiBkb20taWZcbiAgICAgICAgLy8gZGV0YWNoZXMgaWYgYSB0cmVlIHdhcyBpbm5lckhUTUwnZWRcbiAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgIHBhcmVudCA9IHdyYXAocGFyZW50KTtcbiAgICAgICAgICBmb3IgKGxldCBpPTAsIG47IChpPGMkLmxlbmd0aCkgJiYgKG49YyRbaV0pOyBpKyspIHtcbiAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuX19pbnN0YW5jZSA9IG51bGw7XG4gICAgICB0aGlzLl9faW52YWxpZFByb3BzID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2hvd3Mgb3IgaGlkZXMgdGhlIHRlbXBsYXRlIGluc3RhbmNlIHRvcCBsZXZlbCBjaGlsZCBlbGVtZW50cy4gRm9yXG4gICAqIHRleHQgbm9kZXMsIGB0ZXh0Q29udGVudGAgaXMgcmVtb3ZlZCB3aGlsZSBcImhpZGRlblwiIGFuZCByZXBsYWNlZCB3aGVuXG4gICAqIFwic2hvd24uXCJcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICogQHByb3RlY3RlZFxuICAgKiBAc3VwcHJlc3Mge3Zpc2liaWxpdHl9XG4gICAqL1xuICBfc2hvd0hpZGVDaGlsZHJlbigpIHtcbiAgICBsZXQgaGlkZGVuID0gdGhpcy5fX2hpZGVUZW1wbGF0ZUNoaWxkcmVuX18gfHwgIXRoaXMuaWY7XG4gICAgaWYgKHRoaXMuX19pbnN0YW5jZSkge1xuICAgICAgdGhpcy5fX2luc3RhbmNlLl9zaG93SGlkZUNoaWxkcmVuKGhpZGRlbik7XG4gICAgfVxuICB9XG5cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKERvbUlmLmlzLCBEb21JZik7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0IHsgUG9seW1lckVsZW1lbnQgfSBmcm9tICcuLi8uLi9wb2x5bWVyLWVsZW1lbnQuanMnO1xuXG5pbXBvcnQgeyBkZWR1cGluZ01peGluIH0gZnJvbSAnLi4vdXRpbHMvbWl4aW4uanMnO1xuaW1wb3J0IHsgY2FsY3VsYXRlU3BsaWNlcyB9IGZyb20gJy4uL3V0aWxzL2FycmF5LXNwbGljZS5qcyc7XG5pbXBvcnQgeyBFbGVtZW50TWl4aW4gfSBmcm9tICcuLi9taXhpbnMvZWxlbWVudC1taXhpbi5qcyc7XG5cbi8qKlxuICogRWxlbWVudCBtaXhpbiBmb3IgcmVjb3JkaW5nIGR5bmFtaWMgYXNzb2NpYXRpb25zIGJldHdlZW4gaXRlbSBwYXRocyBpbiBhXG4gKiBtYXN0ZXIgYGl0ZW1zYCBhcnJheSBhbmQgYSBgc2VsZWN0ZWRgIGFycmF5IHN1Y2ggdGhhdCBwYXRoIGNoYW5nZXMgdG8gdGhlXG4gKiBtYXN0ZXIgYXJyYXkgKGF0IHRoZSBob3N0KSBlbGVtZW50IG9yIGVsc2V3aGVyZSB2aWEgZGF0YS1iaW5kaW5nKSBhcmVcbiAqIGNvcnJlY3RseSBwcm9wYWdhdGVkIHRvIGl0ZW1zIGluIHRoZSBzZWxlY3RlZCBhcnJheSBhbmQgdmljZS12ZXJzYS5cbiAqXG4gKiBUaGUgYGl0ZW1zYCBwcm9wZXJ0eSBhY2NlcHRzIGFuIGFycmF5IG9mIHVzZXIgZGF0YSwgYW5kIHZpYSB0aGVcbiAqIGBzZWxlY3QoaXRlbSlgIGFuZCBgZGVzZWxlY3QoaXRlbSlgIEFQSSwgdXBkYXRlcyB0aGUgYHNlbGVjdGVkYCBwcm9wZXJ0eVxuICogd2hpY2ggbWF5IGJlIGJvdW5kIHRvIG90aGVyIHBhcnRzIG9mIHRoZSBhcHBsaWNhdGlvbiwgYW5kIGFueSBjaGFuZ2VzIHRvXG4gKiBzdWItZmllbGRzIG9mIGBzZWxlY3RlZGAgaXRlbShzKSB3aWxsIGJlIGtlcHQgaW4gc3luYyB3aXRoIGl0ZW1zIGluIHRoZVxuICogYGl0ZW1zYCBhcnJheS4gIFdoZW4gYG11bHRpYCBpcyBmYWxzZSwgYHNlbGVjdGVkYCBpcyBhIHByb3BlcnR5XG4gKiByZXByZXNlbnRpbmcgdGhlIGxhc3Qgc2VsZWN0ZWQgaXRlbS4gIFdoZW4gYG11bHRpYCBpcyB0cnVlLCBgc2VsZWN0ZWRgXG4gKiBpcyBhbiBhcnJheSBvZiBtdWx0aXBseSBzZWxlY3RlZCBpdGVtcy5cbiAqXG4gKiBAcG9seW1lclxuICogQG1peGluRnVuY3Rpb25cbiAqIEBhcHBsaWVzTWl4aW4gRWxlbWVudE1peGluXG4gKiBAc3VtbWFyeSBFbGVtZW50IG1peGluIGZvciByZWNvcmRpbmcgZHluYW1pYyBhc3NvY2lhdGlvbnMgYmV0d2VlbiBpdGVtIHBhdGhzIGluIGFcbiAqIG1hc3RlciBgaXRlbXNgIGFycmF5IGFuZCBhIGBzZWxlY3RlZGAgYXJyYXlcbiAqL1xubGV0IEFycmF5U2VsZWN0b3JNaXhpbiA9IGRlZHVwaW5nTWl4aW4oc3VwZXJDbGFzcyA9PiB7XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9FbGVtZW50TWl4aW59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBsZXQgZWxlbWVudEJhc2UgPSBFbGVtZW50TWl4aW4oc3VwZXJDbGFzcyk7XG5cbiAgLyoqXG4gICAqIEBwb2x5bWVyXG4gICAqIEBtaXhpbkNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX0FycmF5U2VsZWN0b3JNaXhpbn1cbiAgICogQHVucmVzdHJpY3RlZFxuICAgKi9cbiAgY2xhc3MgQXJyYXlTZWxlY3Rvck1peGluIGV4dGVuZHMgZWxlbWVudEJhc2Uge1xuXG4gICAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuICAgICAgcmV0dXJuIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgY29udGFpbmluZyBpdGVtcyBmcm9tIHdoaWNoIHNlbGVjdGlvbiB3aWxsIGJlIG1hZGUuXG4gICAgICAgICAqL1xuICAgICAgICBpdGVtczoge1xuICAgICAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIGB0cnVlYCwgbXVsdGlwbGUgaXRlbXMgbWF5IGJlIHNlbGVjdGVkIGF0IG9uY2UgKGluIHRoaXMgY2FzZSxcbiAgICAgICAgICogYHNlbGVjdGVkYCBpcyBhbiBhcnJheSBvZiBjdXJyZW50bHkgc2VsZWN0ZWQgaXRlbXMpLiAgV2hlbiBgZmFsc2VgLFxuICAgICAgICAgKiBvbmx5IG9uZSBpdGVtIG1heSBiZSBzZWxlY3RlZCBhdCBhIHRpbWUuXG4gICAgICAgICAqL1xuICAgICAgICBtdWx0aToge1xuICAgICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIGBtdWx0aWAgaXMgdHJ1ZSwgdGhpcyBpcyBhbiBhcnJheSB0aGF0IGNvbnRhaW5zIGFueSBzZWxlY3RlZC5cbiAgICAgICAgICogV2hlbiBgbXVsdGlgIGlzIGZhbHNlLCB0aGlzIGlzIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgaXRlbSwgb3IgYG51bGxgXG4gICAgICAgICAqIGlmIG5vIGl0ZW0gaXMgc2VsZWN0ZWQuXG4gICAgICAgICAqIEB0eXBlIHs/T2JqZWN0fD9BcnJheTwhT2JqZWN0Pn1cbiAgICAgICAgICovXG4gICAgICAgIHNlbGVjdGVkOiB7dHlwZTogT2JqZWN0LCBub3RpZnk6IHRydWV9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIGBtdWx0aWAgaXMgZmFsc2UsIHRoaXMgaXMgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBpdGVtLCBvciBgbnVsbGBcbiAgICAgICAgICogaWYgbm8gaXRlbSBpcyBzZWxlY3RlZC5cbiAgICAgICAgICogQHR5cGUgez9PYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBzZWxlY3RlZEl0ZW06IHt0eXBlOiBPYmplY3QsIG5vdGlmeTogdHJ1ZX0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gYHRydWVgLCBjYWxsaW5nIGBzZWxlY3RgIG9uIGFuIGl0ZW0gdGhhdCBpcyBhbHJlYWR5IHNlbGVjdGVkXG4gICAgICAgICAqIHdpbGwgZGVzZWxlY3QgdGhlIGl0ZW0uXG4gICAgICAgICAqL1xuICAgICAgICB0b2dnbGU6IHt0eXBlOiBCb29sZWFuLCB2YWx1ZTogZmFsc2V9XG5cbiAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBvYnNlcnZlcnMoKSB7XG4gICAgICByZXR1cm4gWydfX3VwZGF0ZVNlbGVjdGlvbihtdWx0aSwgaXRlbXMuKiknXTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHN1cGVyKCk7XG4gICAgICB0aGlzLl9fbGFzdEl0ZW1zID0gbnVsbDtcbiAgICAgIHRoaXMuX19sYXN0TXVsdGkgPSBudWxsO1xuICAgICAgdGhpcy5fX3NlbGVjdGVkTWFwID0gbnVsbDtcbiAgICB9XG5cbiAgICBfX3VwZGF0ZVNlbGVjdGlvbihtdWx0aSwgaXRlbXNJbmZvKSB7XG4gICAgICBsZXQgcGF0aCA9IGl0ZW1zSW5mby5wYXRoO1xuICAgICAgaWYgKHBhdGggPT0gSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnaXRlbXMnLCB0aGlzKSkge1xuICAgICAgICAvLyBDYXNlIDEgLSBpdGVtcyBhcnJheSBjaGFuZ2VkLCBzbyBkaWZmIGFnYWluc3QgcHJldmlvdXMgYXJyYXkgYW5kXG4gICAgICAgIC8vIGRlc2VsZWN0IGFueSByZW1vdmVkIGl0ZW1zIGFuZCBhZGp1c3Qgc2VsZWN0ZWQgaW5kaWNlc1xuICAgICAgICBsZXQgbmV3SXRlbXMgPSBpdGVtc0luZm8uYmFzZSB8fCBbXTtcbiAgICAgICAgbGV0IGxhc3RJdGVtcyA9IHRoaXMuX19sYXN0SXRlbXM7XG4gICAgICAgIGxldCBsYXN0TXVsdGkgPSB0aGlzLl9fbGFzdE11bHRpO1xuICAgICAgICBpZiAobXVsdGkgIT09IGxhc3RNdWx0aSkge1xuICAgICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFzdEl0ZW1zKSB7XG4gICAgICAgICAgbGV0IHNwbGljZXMgPSBjYWxjdWxhdGVTcGxpY2VzKG5ld0l0ZW1zLCBsYXN0SXRlbXMpO1xuICAgICAgICAgIHRoaXMuX19hcHBseVNwbGljZXMoc3BsaWNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fX2xhc3RJdGVtcyA9IG5ld0l0ZW1zO1xuICAgICAgICB0aGlzLl9fbGFzdE11bHRpID0gbXVsdGk7XG4gICAgICB9IGVsc2UgaWYgKGl0ZW1zSW5mby5wYXRoID09IGAke0pTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2l0ZW1zJywgdGhpcyl9LnNwbGljZXNgKSB7XG4gICAgICAgIC8vIENhc2UgMiAtIGdvdCBzcGVjaWZpYyBzcGxpY2UgaW5mb3JtYXRpb24gZGVzY3JpYmluZyB0aGUgYXJyYXkgbXV0YXRpb246XG4gICAgICAgIC8vIGRlc2VsZWN0IGFueSByZW1vdmVkIGl0ZW1zIGFuZCBhZGp1c3Qgc2VsZWN0ZWQgaW5kaWNlc1xuICAgICAgICB0aGlzLl9fYXBwbHlTcGxpY2VzKGl0ZW1zSW5mby52YWx1ZS5pbmRleFNwbGljZXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ2FzZSAzIC0gYW4gYXJyYXkgZWxlbWVudCB3YXMgY2hhbmdlZCwgc28gZGVzZWxlY3QgdGhlIHByZXZpb3VzXG4gICAgICAgIC8vIGl0ZW0gZm9yIHRoYXQgaW5kZXggaWYgaXQgd2FzIHByZXZpb3VzbHkgc2VsZWN0ZWRcbiAgICAgICAgbGV0IHBhcnQgPSBwYXRoLnNsaWNlKGAke0pTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2l0ZW1zJywgdGhpcyl9LmAubGVuZ3RoKTtcbiAgICAgICAgbGV0IGlkeCA9IHBhcnNlSW50KHBhcnQsIDEwKTtcbiAgICAgICAgaWYgKChwYXJ0LmluZGV4T2YoJy4nKSA8IDApICYmIHBhcnQgPT0gaWR4KSB7XG4gICAgICAgICAgdGhpcy5fX2Rlc2VsZWN0Q2hhbmdlZElkeChpZHgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgX19hcHBseVNwbGljZXMoc3BsaWNlcykge1xuICAgICAgbGV0IHNlbGVjdGVkID0gdGhpcy5fX3NlbGVjdGVkTWFwO1xuICAgICAgLy8gQWRqdXN0IHNlbGVjdGVkIGluZGljZXMgYW5kIG1hcmsgcmVtb3ZhbHNcbiAgICAgIGZvciAobGV0IGk9MDsgaTxzcGxpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBzID0gc3BsaWNlc1tpXTtcbiAgICAgICAgc2VsZWN0ZWQuZm9yRWFjaCgoaWR4LCBpdGVtKSA9PiB7XG4gICAgICAgICAgaWYgKGlkeCA8IHMuaW5kZXgpIHtcbiAgICAgICAgICAgIC8vIG5vIGNoYW5nZVxuICAgICAgICAgIH0gZWxzZSBpZiAoaWR4ID49IHMuaW5kZXggKyBzLnJlbW92ZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBhZGp1c3QgaW5kZXhcbiAgICAgICAgICAgIHNlbGVjdGVkLnNldChpdGVtLCBpZHggKyBzLmFkZGVkQ291bnQgLSBzLnJlbW92ZWQubGVuZ3RoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGluZGV4XG4gICAgICAgICAgICBzZWxlY3RlZC5zZXQoaXRlbSwgLTEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAobGV0IGo9MDsgajxzLmFkZGVkQ291bnQ7IGorKykge1xuICAgICAgICAgIGxldCBpZHggPSBzLmluZGV4ICsgajtcbiAgICAgICAgICBpZiAoc2VsZWN0ZWQuaGFzKHRoaXMuaXRlbXNbaWR4XSkpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkLnNldCh0aGlzLml0ZW1zW2lkeF0sIGlkeCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBVcGRhdGUgbGlua2VkIHBhdGhzXG4gICAgICB0aGlzLl9fdXBkYXRlTGlua3MoKTtcbiAgICAgIC8vIFJlbW92ZSBzZWxlY3RlZCBpdGVtcyB0aGF0IHdlcmUgcmVtb3ZlZCBmcm9tIHRoZSBpdGVtcyBhcnJheVxuICAgICAgbGV0IHNpZHggPSAwO1xuICAgICAgc2VsZWN0ZWQuZm9yRWFjaCgoaWR4LCBpdGVtKSA9PiB7XG4gICAgICAgIGlmIChpZHggPCAwKSB7XG4gICAgICAgICAgaWYgKHRoaXMubXVsdGkpIHtcbiAgICAgICAgICAgIHRoaXMuc3BsaWNlKEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ3NlbGVjdGVkJywgdGhpcyksIHNpZHgsIDEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZEl0ZW0gPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZWxlY3RlZC5kZWxldGUoaXRlbSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2lkeCsrO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfX3VwZGF0ZUxpbmtzKCkge1xuICAgICAgdGhpcy5fX2RhdGFMaW5rZWRQYXRocyA9IHt9O1xuICAgICAgaWYgKHRoaXMubXVsdGkpIHtcbiAgICAgICAgbGV0IHNpZHggPSAwO1xuICAgICAgICB0aGlzLl9fc2VsZWN0ZWRNYXAuZm9yRWFjaChpZHggPT4ge1xuICAgICAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5saW5rUGF0aHMoXG4gICAgICAgICAgICAgICAgYCR7SlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnaXRlbXMnLCB0aGlzKX0uJHtpZHh9YCxcbiAgICAgICAgICAgICAgICBgJHtKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdzZWxlY3RlZCcsIHRoaXMpfS4ke3NpZHgrK31gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fX3NlbGVjdGVkTWFwLmZvckVhY2goaWR4ID0+IHtcbiAgICAgICAgICB0aGlzLmxpbmtQYXRocyhcbiAgICAgICAgICAgICAgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnc2VsZWN0ZWQnLCB0aGlzKSxcbiAgICAgICAgICAgICAgYCR7SlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnaXRlbXMnLCB0aGlzKX0uJHtpZHh9YCk7XG4gICAgICAgICAgdGhpcy5saW5rUGF0aHMoXG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ3NlbGVjdGVkSXRlbScsIHRoaXMpLFxuICAgICAgICAgICAgICBgJHtKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdpdGVtcycsIHRoaXMpfS4ke2lkeH1gKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBzZWxlY3Rpb24gc3RhdGUuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBjbGVhclNlbGVjdGlvbigpIHtcbiAgICAgIC8vIFVuYmluZCBwcmV2aW91cyBzZWxlY3Rpb25cbiAgICAgIHRoaXMuX19kYXRhTGlua2VkUGF0aHMgPSB7fTtcbiAgICAgIC8vIFRoZSBzZWxlY3RlZCBtYXAgc3RvcmVzIDMgcGllY2VzIG9mIGluZm9ybWF0aW9uOlxuICAgICAgLy8ga2V5OiBpdGVtcyBhcnJheSBvYmplY3RcbiAgICAgIC8vIHZhbHVlOiBpdGVtcyBhcnJheSBpbmRleFxuICAgICAgLy8gb3JkZXI6IHNlbGVjdGVkIGFycmF5IGluZGV4XG4gICAgICB0aGlzLl9fc2VsZWN0ZWRNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAvLyBJbml0aWFsaXplIHNlbGVjdGlvblxuICAgICAgdGhpcy5zZWxlY3RlZCA9IHRoaXMubXVsdGkgPyBbXSA6IG51bGw7XG4gICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBpdGVtIGlzIGN1cnJlbnRseSBzZWxlY3RlZC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7Kn0gaXRlbSBJdGVtIGZyb20gYGl0ZW1zYCBhcnJheSB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgaXRlbSBpcyBzZWxlY3RlZFxuICAgICAqL1xuICAgIGlzU2VsZWN0ZWQoaXRlbSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19zZWxlY3RlZE1hcC5oYXMoaXRlbSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBpdGVtIGlzIGN1cnJlbnRseSBzZWxlY3RlZC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpZHggSW5kZXggZnJvbSBgaXRlbXNgIGFycmF5IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBpdGVtIGlzIHNlbGVjdGVkXG4gICAgICovXG4gICAgaXNJbmRleFNlbGVjdGVkKGlkeCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNTZWxlY3RlZCh0aGlzLml0ZW1zW2lkeF0pO1xuICAgIH1cblxuICAgIF9fZGVzZWxlY3RDaGFuZ2VkSWR4KGlkeCkge1xuICAgICAgbGV0IHNpZHggPSB0aGlzLl9fc2VsZWN0ZWRJbmRleEZvckl0ZW1JbmRleChpZHgpO1xuICAgICAgaWYgKHNpZHggPj0gMCkge1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIHRoaXMuX19zZWxlY3RlZE1hcC5mb3JFYWNoKChpZHgsIGl0ZW0pID0+IHtcbiAgICAgICAgICBpZiAoc2lkeCA9PSBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZGVzZWxlY3QoaXRlbSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfX3NlbGVjdGVkSW5kZXhGb3JJdGVtSW5kZXgoaWR4KSB7XG4gICAgICBsZXQgc2VsZWN0ZWQgPSB0aGlzLl9fZGF0YUxpbmtlZFBhdGhzW2Ake0pTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2l0ZW1zJywgdGhpcyl9LiR7aWR4fWBdO1xuICAgICAgaWYgKHNlbGVjdGVkKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludChzZWxlY3RlZC5zbGljZShgJHtKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdzZWxlY3RlZCcsIHRoaXMpfS5gLmxlbmd0aCksIDEwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXNlbGVjdHMgdGhlIGdpdmVuIGl0ZW0gaWYgaXQgaXMgYWxyZWFkeSBzZWxlY3RlZC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7Kn0gaXRlbSBJdGVtIGZyb20gYGl0ZW1zYCBhcnJheSB0byBkZXNlbGVjdFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgZGVzZWxlY3QoaXRlbSkge1xuICAgICAgbGV0IGlkeCA9IHRoaXMuX19zZWxlY3RlZE1hcC5nZXQoaXRlbSk7XG4gICAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgICAgdGhpcy5fX3NlbGVjdGVkTWFwLmRlbGV0ZShpdGVtKTtcbiAgICAgICAgbGV0IHNpZHg7XG4gICAgICAgIGlmICh0aGlzLm11bHRpKSB7XG4gICAgICAgICAgc2lkeCA9IHRoaXMuX19zZWxlY3RlZEluZGV4Rm9ySXRlbUluZGV4KGlkeCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fX3VwZGF0ZUxpbmtzKCk7XG4gICAgICAgIGlmICh0aGlzLm11bHRpKSB7XG4gICAgICAgICAgdGhpcy5zcGxpY2UoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnc2VsZWN0ZWQnLCB0aGlzKSwgc2lkeCwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3RlZCA9IHRoaXMuc2VsZWN0ZWRJdGVtID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc2VsZWN0cyB0aGUgZ2l2ZW4gaW5kZXggaWYgaXQgaXMgYWxyZWFkeSBzZWxlY3RlZC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpZHggSW5kZXggZnJvbSBgaXRlbXNgIGFycmF5IHRvIGRlc2VsZWN0XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBkZXNlbGVjdEluZGV4KGlkeCkge1xuICAgICAgdGhpcy5kZXNlbGVjdCh0aGlzLml0ZW1zW2lkeF0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbGVjdHMgdGhlIGdpdmVuIGl0ZW0uICBXaGVuIGB0b2dnbGVgIGlzIHRydWUsIHRoaXMgd2lsbCBhdXRvbWF0aWNhbGx5XG4gICAgICogZGVzZWxlY3QgdGhlIGl0ZW0gaWYgYWxyZWFkeSBzZWxlY3RlZC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7Kn0gaXRlbSBJdGVtIGZyb20gYGl0ZW1zYCBhcnJheSB0byBzZWxlY3RcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIHNlbGVjdChpdGVtKSB7XG4gICAgICB0aGlzLnNlbGVjdEluZGV4KHRoaXMuaXRlbXMuaW5kZXhPZihpdGVtKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VsZWN0cyB0aGUgZ2l2ZW4gaW5kZXguICBXaGVuIGB0b2dnbGVgIGlzIHRydWUsIHRoaXMgd2lsbCBhdXRvbWF0aWNhbGx5XG4gICAgICogZGVzZWxlY3QgdGhlIGl0ZW0gaWYgYWxyZWFkeSBzZWxlY3RlZC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpZHggSW5kZXggZnJvbSBgaXRlbXNgIGFycmF5IHRvIHNlbGVjdFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgc2VsZWN0SW5kZXgoaWR4KSB7XG4gICAgICBsZXQgaXRlbSA9IHRoaXMuaXRlbXNbaWR4XTtcbiAgICAgIGlmICghdGhpcy5pc1NlbGVjdGVkKGl0ZW0pKSB7XG4gICAgICAgIGlmICghdGhpcy5tdWx0aSkge1xuICAgICAgICAgIHRoaXMuX19zZWxlY3RlZE1hcC5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX19zZWxlY3RlZE1hcC5zZXQoaXRlbSwgaWR4KTtcbiAgICAgICAgdGhpcy5fX3VwZGF0ZUxpbmtzKCk7XG4gICAgICAgIGlmICh0aGlzLm11bHRpKSB7XG4gICAgICAgICAgdGhpcy5wdXNoKEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ3NlbGVjdGVkJywgdGhpcyksIGl0ZW0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGVkSXRlbSA9IGl0ZW07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy50b2dnbGUpIHtcbiAgICAgICAgdGhpcy5kZXNlbGVjdEluZGV4KGlkeCk7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICByZXR1cm4gQXJyYXlTZWxlY3Rvck1peGluO1xuXG59KTtcblxuLy8gZXhwb3J0IG1peGluXG5leHBvcnQgeyBBcnJheVNlbGVjdG9yTWl4aW4gfTtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIHtQb2x5bWVyRWxlbWVudH1cbiAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX0FycmF5U2VsZWN0b3JNaXhpbn1cbiAqIEBwcml2YXRlXG4gKi9cbmxldCBiYXNlQXJyYXlTZWxlY3RvciA9IEFycmF5U2VsZWN0b3JNaXhpbihQb2x5bWVyRWxlbWVudCk7XG5cbi8qKlxuICogRWxlbWVudCBpbXBsZW1lbnRpbmcgdGhlIGBBcnJheVNlbGVjdG9yYCBtaXhpbiwgd2hpY2ggcmVjb3Jkc1xuICogZHluYW1pYyBhc3NvY2lhdGlvbnMgYmV0d2VlbiBpdGVtIHBhdGhzIGluIGEgbWFzdGVyIGBpdGVtc2AgYXJyYXkgYW5kIGFcbiAqIGBzZWxlY3RlZGAgYXJyYXkgc3VjaCB0aGF0IHBhdGggY2hhbmdlcyB0byB0aGUgbWFzdGVyIGFycmF5IChhdCB0aGUgaG9zdClcbiAqIGVsZW1lbnQgb3IgZWxzZXdoZXJlIHZpYSBkYXRhLWJpbmRpbmcpIGFyZSBjb3JyZWN0bHkgcHJvcGFnYXRlZCB0byBpdGVtc1xuICogaW4gdGhlIHNlbGVjdGVkIGFycmF5IGFuZCB2aWNlLXZlcnNhLlxuICpcbiAqIFRoZSBgaXRlbXNgIHByb3BlcnR5IGFjY2VwdHMgYW4gYXJyYXkgb2YgdXNlciBkYXRhLCBhbmQgdmlhIHRoZVxuICogYHNlbGVjdChpdGVtKWAgYW5kIGBkZXNlbGVjdChpdGVtKWAgQVBJLCB1cGRhdGVzIHRoZSBgc2VsZWN0ZWRgIHByb3BlcnR5XG4gKiB3aGljaCBtYXkgYmUgYm91bmQgdG8gb3RoZXIgcGFydHMgb2YgdGhlIGFwcGxpY2F0aW9uLCBhbmQgYW55IGNoYW5nZXMgdG9cbiAqIHN1Yi1maWVsZHMgb2YgYHNlbGVjdGVkYCBpdGVtKHMpIHdpbGwgYmUga2VwdCBpbiBzeW5jIHdpdGggaXRlbXMgaW4gdGhlXG4gKiBgaXRlbXNgIGFycmF5LiAgV2hlbiBgbXVsdGlgIGlzIGZhbHNlLCBgc2VsZWN0ZWRgIGlzIGEgcHJvcGVydHlcbiAqIHJlcHJlc2VudGluZyB0aGUgbGFzdCBzZWxlY3RlZCBpdGVtLiAgV2hlbiBgbXVsdGlgIGlzIHRydWUsIGBzZWxlY3RlZGBcbiAqIGlzIGFuIGFycmF5IG9mIG11bHRpcGx5IHNlbGVjdGVkIGl0ZW1zLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIGltcG9ydCB7UG9seW1lckVsZW1lbnR9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXInO1xuICogaW1wb3J0ICdAcG9seW1lci9wb2x5bWVyL2xpYi9lbGVtZW50cy9hcnJheS1zZWxlY3Rvci5qcyc7XG4gKlxuICogY2xhc3MgRW1wbG95ZWVMaXN0IGV4dGVuZHMgUG9seW1lckVsZW1lbnQge1xuICogICBzdGF0aWMgZ2V0IF90ZW1wbGF0ZSgpIHtcbiAqICAgICByZXR1cm4gaHRtbGBcbiAqICAgICAgICAgPGRpdj4gRW1wbG95ZWUgbGlzdDogPC9kaXY+XG4gKiAgICAgICAgIDxkb20tcmVwZWF0IGlkPVwiZW1wbG95ZWVMaXN0XCIgaXRlbXM9XCJ7e2VtcGxveWVlc319XCI+XG4gKiAgICAgICAgICAgPHRlbXBsYXRlPlxuICogICAgICAgICAgICAgPGRpdj5GaXJzdCBuYW1lOiA8c3Bhbj57e2l0ZW0uZmlyc3R9fTwvc3Bhbj48L2Rpdj5cbiAqICAgICAgICAgICAgICAgPGRpdj5MYXN0IG5hbWU6IDxzcGFuPnt7aXRlbS5sYXN0fX08L3NwYW4+PC9kaXY+XG4gKiAgICAgICAgICAgICAgIDxidXR0b24gb24tY2xpY2s9XCJ0b2dnbGVTZWxlY3Rpb25cIj5TZWxlY3Q8L2J1dHRvbj5cbiAqICAgICAgICAgICA8L3RlbXBsYXRlPlxuICogICAgICAgICA8L2RvbS1yZXBlYXQ+XG4gKlxuICogICAgICAgICA8YXJyYXktc2VsZWN0b3IgaWQ9XCJzZWxlY3RvclwiXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtcz1cInt7ZW1wbG95ZWVzfX1cIlxuICogICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ9XCJ7e3NlbGVjdGVkfX1cIlxuICogICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGkgdG9nZ2xlPjwvYXJyYXktc2VsZWN0b3I+XG4gKlxuICogICAgICAgICA8ZGl2PiBTZWxlY3RlZCBlbXBsb3llZXM6IDwvZGl2PlxuICogICAgICAgICA8ZG9tLXJlcGVhdCBpdGVtcz1cInt7c2VsZWN0ZWR9fVwiPlxuICogICAgICAgICAgIDx0ZW1wbGF0ZT5cbiAqICAgICAgICAgICAgIDxkaXY+Rmlyc3QgbmFtZTogPHNwYW4+e3tpdGVtLmZpcnN0fX08L3NwYW4+PC9kaXY+XG4gKiAgICAgICAgICAgICA8ZGl2Pkxhc3QgbmFtZTogPHNwYW4+e3tpdGVtLmxhc3R9fTwvc3Bhbj48L2Rpdj5cbiAqICAgICAgICAgICA8L3RlbXBsYXRlPlxuICogICAgICAgICA8L2RvbS1yZXBlYXQ+YDtcbiAqICAgfVxuICogICBzdGF0aWMgZ2V0IGlzKCkgeyByZXR1cm4gJ2VtcGxveWVlLWxpc3QnOyB9XG4gKiAgIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcbiAqICAgICByZXR1cm4ge1xuICogICAgICAgZW1wbG95ZWVzOiB7XG4gKiAgICAgICAgIHZhbHVlKCkge1xuICogICAgICAgICAgIHJldHVybiBbXG4gKiAgICAgICAgICAgICB7Zmlyc3Q6ICdCb2InLCBsYXN0OiAnU21pdGgnfSxcbiAqICAgICAgICAgICAgIHtmaXJzdDogJ1NhbGx5JywgbGFzdDogJ0pvaG5zb24nfSxcbiAqICAgICAgICAgICAgIC4uLlxuICogICAgICAgICAgIF07XG4gKiAgICAgICAgIH1cbiAqICAgICAgIH1cbiAqICAgICB9O1xuICogICB9XG4gKiAgIHRvZ2dsZVNlbGVjdGlvbihlKSB7XG4gKiAgICAgY29uc3QgaXRlbSA9IHRoaXMuJC5lbXBsb3llZUxpc3QuaXRlbUZvckVsZW1lbnQoZS50YXJnZXQpO1xuICogICAgIHRoaXMuJC5zZWxlY3Rvci5zZWxlY3QoaXRlbSk7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBwb2x5bWVyXG4gKiBAY3VzdG9tRWxlbWVudFxuICogQGV4dGVuZHMge2Jhc2VBcnJheVNlbGVjdG9yfVxuICogQGFwcGxpZXNNaXhpbiBBcnJheVNlbGVjdG9yTWl4aW5cbiAqIEBzdW1tYXJ5IEN1c3RvbSBlbGVtZW50IHRoYXQgbGlua3MgcGF0aHMgYmV0d2VlbiBhbiBpbnB1dCBgaXRlbXNgIGFycmF5IGFuZFxuICogICBhbiBvdXRwdXQgYHNlbGVjdGVkYCBpdGVtIG9yIGFycmF5IGJhc2VkIG9uIGNhbGxzIHRvIGl0cyBzZWxlY3Rpb24gQVBJLlxuICovXG5jbGFzcyBBcnJheVNlbGVjdG9yIGV4dGVuZHMgYmFzZUFycmF5U2VsZWN0b3Ige1xuICAvLyBOb3QgbmVlZGVkIHRvIGZpbmQgdGVtcGxhdGU7IGNhbiBiZSByZW1vdmVkIG9uY2UgdGhlIGFuYWx5emVyXG4gIC8vIGNhbiBmaW5kIHRoZSB0YWcgbmFtZSBmcm9tIGN1c3RvbUVsZW1lbnRzLmRlZmluZSBjYWxsXG4gIHN0YXRpYyBnZXQgaXMoKSB7IHJldHVybiAnYXJyYXktc2VsZWN0b3InOyB9XG4gIHN0YXRpYyBnZXQgdGVtcGxhdGUoKSB7IHJldHVybiBudWxsOyB9XG59XG5jdXN0b21FbGVtZW50cy5kZWZpbmUoQXJyYXlTZWxlY3Rvci5pcywgQXJyYXlTZWxlY3Rvcik7XG5leHBvcnQgeyBBcnJheVNlbGVjdG9yIH07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCBDdXN0b21TdHlsZUludGVyZmFjZSBmcm9tICcuLi9zcmMvY3VzdG9tLXN0eWxlLWludGVyZmFjZS5qcyc7XG5pbXBvcnQge2dldENvbXB1dGVkU3R5bGVWYWx1ZSwgdXBkYXRlTmF0aXZlUHJvcGVydGllc30gZnJvbSAnLi4vc3JjL2NvbW1vbi11dGlscy5qcyc7XG5pbXBvcnQge25hdGl2ZUNzc1ZhcmlhYmxlcywgbmF0aXZlU2hhZG93LCBjc3NCdWlsZCwgZGlzYWJsZVJ1bnRpbWV9IGZyb20gJy4uL3NyYy9zdHlsZS1zZXR0aW5ncy5qcyc7XG5cbmNvbnN0IGN1c3RvbVN0eWxlSW50ZXJmYWNlID0gbmV3IEN1c3RvbVN0eWxlSW50ZXJmYWNlKCk7XG5cbmlmICghd2luZG93LlNoYWR5Q1NTKSB7XG4gIHdpbmRvdy5TaGFkeUNTUyA9IHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50TmFtZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gZWxlbWVudEV4dGVuZHNcbiAgICAgKi9cbiAgICBwcmVwYXJlVGVtcGxhdGUodGVtcGxhdGUsIGVsZW1lbnROYW1lLCBlbGVtZW50RXh0ZW5kcykge30sIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGVsZW1lbnROYW1lXG4gICAgICovXG4gICAgcHJlcGFyZVRlbXBsYXRlRG9tKHRlbXBsYXRlLCBlbGVtZW50TmFtZSkge30sIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGVsZW1lbnROYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBlbGVtZW50RXh0ZW5kc1xuICAgICAqL1xuICAgIHByZXBhcmVUZW1wbGF0ZVN0eWxlcyh0ZW1wbGF0ZSwgZWxlbWVudE5hbWUsIGVsZW1lbnRFeHRlbmRzKSB7fSwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgc3R5bGVTdWJ0cmVlKGVsZW1lbnQsIHByb3BlcnRpZXMpIHtcbiAgICAgIGN1c3RvbVN0eWxlSW50ZXJmYWNlLnByb2Nlc3NTdHlsZXMoKTtcbiAgICAgIHVwZGF0ZU5hdGl2ZVByb3BlcnRpZXMoZWxlbWVudCwgcHJvcGVydGllcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICAgICAqL1xuICAgIHN0eWxlRWxlbWVudChlbGVtZW50KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgIGN1c3RvbVN0eWxlSW50ZXJmYWNlLnByb2Nlc3NTdHlsZXMoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgc3R5bGVEb2N1bWVudChwcm9wZXJ0aWVzKSB7XG4gICAgICBjdXN0b21TdHlsZUludGVyZmFjZS5wcm9jZXNzU3R5bGVzKCk7XG4gICAgICB1cGRhdGVOYXRpdmVQcm9wZXJ0aWVzKGRvY3VtZW50LmJvZHksIHByb3BlcnRpZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0Q29tcHV0ZWRTdHlsZVZhbHVlKGVsZW1lbnQsIHByb3BlcnR5KSB7XG4gICAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZVZhbHVlKGVsZW1lbnQsIHByb3BlcnR5KTtcbiAgICB9LFxuXG4gICAgZmx1c2hDdXN0b21TdHlsZXMoKSB7fSxcbiAgICBuYXRpdmVDc3M6IG5hdGl2ZUNzc1ZhcmlhYmxlcyxcbiAgICBuYXRpdmVTaGFkb3c6IG5hdGl2ZVNoYWRvdyxcbiAgICBjc3NCdWlsZDogY3NzQnVpbGQsXG4gICAgZGlzYWJsZVJ1bnRpbWU6IGRpc2FibGVSdW50aW1lLFxuICB9XG59XG5cbndpbmRvdy5TaGFkeUNTUy5DdXN0b21TdHlsZUludGVyZmFjZSA9IGN1c3RvbVN0eWxlSW50ZXJmYWNlOyIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJ0B3ZWJjb21wb25lbnRzL3NoYWR5Y3NzL2VudHJ5cG9pbnRzL2N1c3RvbS1zdHlsZS1pbnRlcmZhY2UuanMnO1xuXG5pbXBvcnQgeyBjc3NGcm9tTW9kdWxlcyB9IGZyb20gJy4uL3V0aWxzL3N0eWxlLWdhdGhlci5qcyc7XG5cbmNvbnN0IGF0dHIgPSAnaW5jbHVkZSc7XG5cbmNvbnN0IEN1c3RvbVN0eWxlSW50ZXJmYWNlID0gd2luZG93LlNoYWR5Q1NTLkN1c3RvbVN0eWxlSW50ZXJmYWNlO1xuXG4vKipcbiAqIEN1c3RvbSBlbGVtZW50IGZvciBkZWZpbmluZyBzdHlsZXMgaW4gdGhlIG1haW4gZG9jdW1lbnQgdGhhdCBjYW4gdGFrZVxuICogYWR2YW50YWdlIG9mIFtzaGFkeSBET01dKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJjb21wb25lbnRzL3NoYWR5Y3NzKSBzaGltc1xuICogZm9yIHN0eWxlIGVuY2Fwc3VsYXRpb24sIGN1c3RvbSBwcm9wZXJ0aWVzLCBhbmQgY3VzdG9tIG1peGlucy5cbiAqXG4gKiAtIERvY3VtZW50IHN0eWxlcyBkZWZpbmVkIGluIGEgYDxjdXN0b20tc3R5bGU+YCBhcmUgc2hpbW1lZCB0byBlbnN1cmUgdGhleVxuICogICBkbyBub3QgbGVhayBpbnRvIGxvY2FsIERPTSB3aGVuIHJ1bm5pbmcgb24gYnJvd3NlcnMgd2l0aG91dCBuYXRpdmVcbiAqICAgU2hhZG93IERPTS5cbiAqIC0gQ3VzdG9tIHByb3BlcnRpZXMgY2FuIGJlIGRlZmluZWQgaW4gYSBgPGN1c3RvbS1zdHlsZT5gLiBVc2UgdGhlIGBodG1sYCBzZWxlY3RvclxuICogICB0byBkZWZpbmUgY3VzdG9tIHByb3BlcnRpZXMgdGhhdCBhcHBseSB0byBhbGwgY3VzdG9tIGVsZW1lbnRzLlxuICogLSBDdXN0b20gbWl4aW5zIGNhbiBiZSBkZWZpbmVkIGluIGEgYDxjdXN0b20tc3R5bGU+YCwgaWYgeW91IGltcG9ydCB0aGUgb3B0aW9uYWxcbiAqICAgW2FwcGx5IHNoaW1dKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJjb21wb25lbnRzL3NoYWR5Y3NzI2Fib3V0LWFwcGx5c2hpbSlcbiAqICAgKGBzaGFkeWNzcy9hcHBseS1zaGltLmh0bWxgKS5cbiAqXG4gKiBUbyB1c2U6XG4gKlxuICogLSBJbXBvcnQgYGN1c3RvbS1zdHlsZS5odG1sYC5cbiAqIC0gUGxhY2UgYSBgPGN1c3RvbS1zdHlsZT5gIGVsZW1lbnQgaW4gdGhlIG1haW4gZG9jdW1lbnQsIHdyYXBwaW5nIGFuIGlubGluZSBgPHN0eWxlPmAgdGFnIHRoYXRcbiAqICAgY29udGFpbnMgdGhlIENTUyBydWxlcyB5b3Ugd2FudCB0byBzaGltLlxuICpcbiAqIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYGh0bWxcbiAqIDwhLS0gaW1wb3J0IGFwcGx5IHNoaW0tLW9ubHkgcmVxdWlyZWQgaWYgdXNpbmcgbWl4aW5zIC0tPlxuICogPGxpbmsgcmVsPVwiaW1wb3J0XCIgaHJlZj1cImJvd2VyX2NvbXBvbmVudHMvc2hhZHljc3MvYXBwbHktc2hpbS5odG1sXCI+XG4gKiA8IS0tIGltcG9ydCBjdXN0b20tc3R5bGUgZWxlbWVudCAtLT5cbiAqIDxsaW5rIHJlbD1cImltcG9ydFwiIGhyZWY9XCJib3dlcl9jb21wb25lbnRzL3BvbHltZXIvbGliL2VsZW1lbnRzL2N1c3RvbS1zdHlsZS5odG1sXCI+XG4gKlxuICogPGN1c3RvbS1zdHlsZT5cbiAqICAgPHN0eWxlPlxuICogICAgIGh0bWwge1xuICogICAgICAgLS1jdXN0b20tY29sb3I6IGJsdWU7XG4gKiAgICAgICAtLWN1c3RvbS1taXhpbjoge1xuICogICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAqICAgICAgICAgY29sb3I6IHJlZDtcbiAqICAgICAgIH07XG4gKiAgICAgfVxuICogICA8L3N0eWxlPlxuICogPC9jdXN0b20tc3R5bGU+XG4gKiBgYGBcbiAqXG4gKiBAY3VzdG9tRWxlbWVudFxuICogQGV4dGVuZHMgSFRNTEVsZW1lbnRcbiAqIEBzdW1tYXJ5IEN1c3RvbSBlbGVtZW50IGZvciBkZWZpbmluZyBzdHlsZXMgaW4gdGhlIG1haW4gZG9jdW1lbnQgdGhhdCBjYW5cbiAqICAgdGFrZSBhZHZhbnRhZ2Ugb2YgUG9seW1lcidzIHN0eWxlIHNjb3BpbmcgYW5kIGN1c3RvbSBwcm9wZXJ0aWVzIHNoaW1zLlxuICovXG5leHBvcnQgY2xhc3MgQ3VzdG9tU3R5bGUgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fc3R5bGUgPSBudWxsO1xuICAgIEN1c3RvbVN0eWxlSW50ZXJmYWNlLmFkZEN1c3RvbVN0eWxlKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBsaWdodC1ET00gYDxzdHlsZT5gIGNoaWxkIHRoaXMgZWxlbWVudCB3cmFwcy4gIFVwb24gZmlyc3RcbiAgICogY2FsbCBhbnkgc3R5bGUgbW9kdWxlcyByZWZlcmVuY2VkIHZpYSB0aGUgYGluY2x1ZGVgIGF0dHJpYnV0ZSB3aWxsIGJlXG4gICAqIGNvbmNhdGVuYXRlZCB0byB0aGlzIGVsZW1lbnQncyBgPHN0eWxlPmAuXG4gICAqXG4gICAqIEBleHBvcnRcbiAgICogQHJldHVybiB7SFRNTFN0eWxlRWxlbWVudH0gVGhpcyBlbGVtZW50J3MgbGlnaHQtRE9NIGA8c3R5bGU+YFxuICAgKi9cbiAgZ2V0U3R5bGUoKSB7XG4gICAgaWYgKHRoaXMuX3N0eWxlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc3R5bGU7XG4gICAgfVxuICAgIGNvbnN0IHN0eWxlID0gLyoqIEB0eXBlIHtIVE1MU3R5bGVFbGVtZW50fSAqLyh0aGlzLnF1ZXJ5U2VsZWN0b3IoJ3N0eWxlJykpO1xuICAgIGlmICghc3R5bGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB0aGlzLl9zdHlsZSA9IHN0eWxlO1xuICAgIGNvbnN0IGluY2x1ZGUgPSBzdHlsZS5nZXRBdHRyaWJ1dGUoYXR0cik7XG4gICAgaWYgKGluY2x1ZGUpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZShhdHRyKTtcbiAgICAgIC8qKiBAc3VwcHJlc3Mge2RlcHJlY2F0ZWR9ICovXG4gICAgICBzdHlsZS50ZXh0Q29udGVudCA9IGNzc0Zyb21Nb2R1bGVzKGluY2x1ZGUpICsgc3R5bGUudGV4dENvbnRlbnQ7XG4gICAgfVxuICAgIC8qXG4gICAgSFRNTCBJbXBvcnRzIHN0eWxpbmcgdGhlIG1haW4gZG9jdW1lbnQgYXJlIGRlcHJlY2F0ZWQgaW4gQ2hyb21lXG4gICAgaHR0cHM6Ly9jcmJ1Zy5jb20vNTIzOTUyXG5cbiAgICBJZiB0aGlzIGVsZW1lbnQgaXMgbm90IGluIHRoZSBtYWluIGRvY3VtZW50LCB0aGVuIGl0IG11c3QgYmUgaW4gYW4gSFRNTCBJbXBvcnQgZG9jdW1lbnQuXG4gICAgSW4gdGhhdCBjYXNlLCBtb3ZlIHRoZSBjdXN0b20gc3R5bGUgdG8gdGhlIG1haW4gZG9jdW1lbnQuXG5cbiAgICBUaGUgb3JkZXJpbmcgb2YgYDxjdXN0b20tc3R5bGU+YCBzaG91bGQgc3RheSB0aGUgc2FtZSBhcyB3aGVuIGxvYWRlZCBieSBIVE1MIEltcG9ydHMsIGJ1dCB0aGVyZSBtYXkgYmUgb2RkXG4gICAgY2FzZXMgb2Ygb3JkZXJpbmcgdy5yLnQgdGhlIG1haW4gZG9jdW1lbnQgc3R5bGVzLlxuICAgICovXG4gICAgaWYgKHRoaXMub3duZXJEb2N1bWVudCAhPT0gd2luZG93LmRvY3VtZW50KSB7XG4gICAgICB3aW5kb3cuZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCh0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3N0eWxlO1xuICB9XG59XG5cbndpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2N1c3RvbS1zdHlsZScsIEN1c3RvbVN0eWxlKTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbmltcG9ydCB7IExlZ2FjeUVsZW1lbnRNaXhpbiB9IGZyb20gJy4vbGliL2xlZ2FjeS9sZWdhY3ktZWxlbWVudC1taXhpbi5qcyc7XG5leHBvcnQgeyBQb2x5bWVyIH0gZnJvbSAgJy4vbGliL2xlZ2FjeS9wb2x5bWVyLWZuLmpzJztcbi8qIHRlbXBsYXRlIGVsZW1lbnRzICovXG5pbXBvcnQgJy4vbGliL2xlZ2FjeS90ZW1wbGF0aXplci1iZWhhdmlvci5qcyc7XG5pbXBvcnQgJy4vbGliL2VsZW1lbnRzL2RvbS1iaW5kLmpzJztcbmltcG9ydCAnLi9saWIvZWxlbWVudHMvZG9tLXJlcGVhdC5qcyc7XG5pbXBvcnQgJy4vbGliL2VsZW1lbnRzL2RvbS1pZi5qcyc7XG5pbXBvcnQgJy4vbGliL2VsZW1lbnRzL2FycmF5LXNlbGVjdG9yLmpzJztcbi8qIGN1c3RvbS1zdHlsZSAqL1xuaW1wb3J0ICcuL2xpYi9lbGVtZW50cy9jdXN0b20tc3R5bGUuanMnO1xuLyogYmMgYmVoYXZpb3JzICovXG5pbXBvcnQgJy4vbGliL2xlZ2FjeS9tdXRhYmxlLWRhdGEtYmVoYXZpb3IuanMnO1xuLyogaW1wb3J0IGh0bWwtdGFnIHRvIGV4cG9ydCBodG1sICovXG5leHBvcnQgeyBodG1sIH0gZnJvbSAnLi9saWIvdXRpbHMvaHRtbC10YWcuanMnO1xuXG4vLyBiY1xuZXhwb3J0IGNvbnN0IEJhc2UgPSBMZWdhY3lFbGVtZW50TWl4aW4oSFRNTEVsZW1lbnQpLnByb3RvdHlwZTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNSBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlXG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dCBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhc1xucGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc28gc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudFxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICdAcG9seW1lci9wb2x5bWVyL3BvbHltZXItbGVnYWN5LmpzJztcbmltcG9ydCB7aHRtbH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvaHRtbC10YWcuanMnO1xuXG4vKipcblRoZSBgPGlyb24tZmxleC1sYXlvdXQ+YCBjb21wb25lbnQgcHJvdmlkZXMgc2ltcGxlIHdheXMgdG8gdXNlXG5bQ1NTIGZsZXhpYmxlIGJveFxubGF5b3V0XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9HdWlkZS9DU1MvRmxleGlibGVfYm94ZXMpLFxuYWxzbyBrbm93biBhcyBmbGV4Ym94LiBOb3RlIHRoYXQgdGhpcyBpcyBhbiBvbGQgZWxlbWVudCwgdGhhdCB3YXMgd3JpdHRlblxuYmVmb3JlIGFsbCBtb2Rlcm4gYnJvd3NlcnMgaGFkIG5vbi1wcmVmaXhlZCBmbGV4IHN0eWxlcy4gQXMgc3VjaCwgbm93YWRheXMgeW91XG5kb24ndCByZWFsbHkgbmVlZCB0byB1c2UgdGhpcyBlbGVtZW50IGFueW1vcmUsIGFuZCBjYW4gdXNlIENTUyBmbGV4IHN0eWxlc1xuZGlyZWN0bHkgaW4geW91ciBjb2RlLlxuXG5UaGlzIGNvbXBvbmVudCBwcm92aWRlcyB0d28gZGlmZmVyZW50IHdheXMgdG8gdXNlIGZsZXhib3g6XG5cbjEuIFtMYXlvdXRcbmNsYXNzZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9Qb2x5bWVyRWxlbWVudHMvaXJvbi1mbGV4LWxheW91dC90cmVlL21hc3Rlci9pcm9uLWZsZXgtbGF5b3V0LWNsYXNzZXMuaHRtbCkuXG5UaGUgbGF5b3V0IGNsYXNzIHN0eWxlc2hlZXQgcHJvdmlkZXMgYSBzaW1wbGUgc2V0IG9mIGNsYXNzLWJhc2VkIGZsZXhib3ggcnVsZXMsXG50aGF0IGxldCB5b3Ugc3BlY2lmeSBsYXlvdXQgcHJvcGVydGllcyBkaXJlY3RseSBpbiBtYXJrdXAuIFlvdSBtdXN0IGluY2x1ZGUgdGhpc1xuZmlsZSBpbiBldmVyeSBlbGVtZW50IHRoYXQgbmVlZHMgdG8gdXNlIHRoZW0uXG5cbiAgICBTYW1wbGUgdXNlOlxuXG4gICAgYGBgXG4gICAgPGN1c3RvbS1lbGVtZW50LWRlbW8+XG4gICAgICA8dGVtcGxhdGU+XG4gICAgICAgIDxzY3JpcHQgc3JjPVwiLi4vd2ViY29tcG9uZW50c2pzL3dlYmNvbXBvbmVudHMtbGl0ZS5qc1wiPjwvc2NyaXB0PlxuICAgICAgICA8bmV4dC1jb2RlLWJsb2NrPjwvbmV4dC1jb2RlLWJsb2NrPlxuICAgICAgPC90ZW1wbGF0ZT5cbiAgICA8L2N1c3RvbS1lbGVtZW50LWRlbW8+XG4gICAgYGBgXG5cbiAgICBgYGBqc1xuICAgIGltcG9ydCB7aHRtbH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvaHRtbC10YWcuanMnO1xuICAgIGltcG9ydCAnQHBvbHltZXIvaXJvbi1mbGV4LWxheW91dC9pcm9uLWZsZXgtbGF5b3V0LWNsYXNzZXMuanMnO1xuXG4gICAgY29uc3QgdGVtcGxhdGUgPSBodG1sYFxuICAgICAgPHN0eWxlIGlzPVwiY3VzdG9tLXN0eWxlXCIgaW5jbHVkZT1cImlyb24tZmxleCBpcm9uLWZsZXgtYWxpZ25tZW50XCI+PC9zdHlsZT5cbiAgICAgIDxzdHlsZT5cbiAgICAgICAgLnRlc3QgeyB3aWR0aDogMTAwcHg7IH1cbiAgICAgIDwvc3R5bGU+XG4gICAgICA8ZGl2IGNsYXNzPVwibGF5b3V0IGhvcml6b250YWwgY2VudGVyLWNlbnRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwidGVzdFwiPmhvcml6b250YWwgbGF5b3V0IGNlbnRlciBhbGlnbm1lbnQ8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0ZW1wbGF0ZS5jb250ZW50KTtcbiAgICBgYGBcblxuMi4gW0N1c3RvbSBDU1Ncbm1peGluc10oaHR0cHM6Ly9naXRodWIuY29tL1BvbHltZXJFbGVtZW50cy9pcm9uLWZsZXgtbGF5b3V0L2Jsb2IvbWFzdGVyL2lyb24tZmxleC1sYXlvdXQuaHRtbCkuXG5UaGUgbWl4aW4gc3R5bGVzaGVldCBpbmNsdWRlcyBjdXN0b20gQ1NTIG1peGlucyB0aGF0IGNhbiBiZSBhcHBsaWVkIGluc2lkZSBhIENTU1xucnVsZSB1c2luZyB0aGUgYEBhcHBseWAgZnVuY3Rpb24uXG5cblBsZWFzZSBub3RlIHRoYXQgdGhlIG9sZCBbL2RlZXAvIGxheW91dFxuY2xhc3Nlc10oaHR0cHM6Ly9naXRodWIuY29tL1BvbHltZXJFbGVtZW50cy9pcm9uLWZsZXgtbGF5b3V0L3RyZWUvbWFzdGVyL2NsYXNzZXMpXG5hcmUgZGVwcmVjYXRlZCwgYW5kIHNob3VsZCBub3QgYmUgdXNlZC4gVG8gY29udGludWUgdXNpbmcgbGF5b3V0IHByb3BlcnRpZXNcbmRpcmVjdGx5IGluIG1hcmt1cCwgcGxlYXNlIHN3aXRjaCB0byB1c2luZyB0aGUgbmV3IGBkb20tbW9kdWxlYC1iYXNlZFxuW2xheW91dFxuY2xhc3Nlc10oaHR0cHM6Ly9naXRodWIuY29tL1BvbHltZXJFbGVtZW50cy9pcm9uLWZsZXgtbGF5b3V0L3RyZWUvbWFzdGVyL2lyb24tZmxleC1sYXlvdXQtY2xhc3Nlcy5odG1sKS5cblBsZWFzZSBub3RlIHRoYXQgdGhlIG5ldyB2ZXJzaW9uIGRvZXMgbm90IHVzZSBgL2RlZXAvYCwgYW5kIHRoZXJlZm9yZSByZXF1aXJlc1xueW91IHRvIGltcG9ydCB0aGUgYGRvbS1tb2R1bGVzYCBpbiBldmVyeSBlbGVtZW50IHRoYXQgbmVlZHMgdG8gdXNlIHRoZW0uXG5cbkBncm91cCBJcm9uIEVsZW1lbnRzXG5AcHNldWRvRWxlbWVudCBpcm9uLWZsZXgtbGF5b3V0XG5AZGVtbyBkZW1vL2luZGV4Lmh0bWxcbiovXG5jb25zdCB0ZW1wbGF0ZSA9IGh0bWxgXG48Y3VzdG9tLXN0eWxlPlxuICA8c3R5bGUgaXM9XCJjdXN0b20tc3R5bGVcIj5cbiAgICBbaGlkZGVuXSB7XG4gICAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XG4gICAgfVxuICA8L3N0eWxlPlxuPC9jdXN0b20tc3R5bGU+XG48Y3VzdG9tLXN0eWxlPlxuICA8c3R5bGUgaXM9XCJjdXN0b20tc3R5bGVcIj5cbiAgICBodG1sIHtcblxuICAgICAgLS1sYXlvdXQ6IHtcbiAgICAgICAgZGlzcGxheTogLW1zLWZsZXhib3g7XG4gICAgICAgIGRpc3BsYXk6IC13ZWJraXQtZmxleDtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LWlubGluZToge1xuICAgICAgICBkaXNwbGF5OiAtbXMtaW5saW5lLWZsZXhib3g7XG4gICAgICAgIGRpc3BsYXk6IC13ZWJraXQtaW5saW5lLWZsZXg7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtaG9yaXpvbnRhbDoge1xuICAgICAgICBAYXBwbHkgLS1sYXlvdXQ7XG5cbiAgICAgICAgLW1zLWZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgICAgIC13ZWJraXQtZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LWhvcml6b250YWwtcmV2ZXJzZToge1xuICAgICAgICBAYXBwbHkgLS1sYXlvdXQ7XG5cbiAgICAgICAgLW1zLWZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTtcbiAgICAgICAgLXdlYmtpdC1mbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTtcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LXZlcnRpY2FsOiB7XG4gICAgICAgIEBhcHBseSAtLWxheW91dDtcblxuICAgICAgICAtbXMtZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgLXdlYmtpdC1mbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtdmVydGljYWwtcmV2ZXJzZToge1xuICAgICAgICBAYXBwbHkgLS1sYXlvdXQ7XG5cbiAgICAgICAgLW1zLWZsZXgtZGlyZWN0aW9uOiBjb2x1bW4tcmV2ZXJzZTtcbiAgICAgICAgLXdlYmtpdC1mbGV4LWRpcmVjdGlvbjogY29sdW1uLXJldmVyc2U7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW4tcmV2ZXJzZTtcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LXdyYXA6IHtcbiAgICAgICAgLW1zLWZsZXgtd3JhcDogd3JhcDtcbiAgICAgICAgLXdlYmtpdC1mbGV4LXdyYXA6IHdyYXA7XG4gICAgICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LXdyYXAtcmV2ZXJzZToge1xuICAgICAgICAtbXMtZmxleC13cmFwOiB3cmFwLXJldmVyc2U7XG4gICAgICAgIC13ZWJraXQtZmxleC13cmFwOiB3cmFwLXJldmVyc2U7XG4gICAgICAgIGZsZXgtd3JhcDogd3JhcC1yZXZlcnNlO1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtZmxleC1hdXRvOiB7XG4gICAgICAgIC1tcy1mbGV4OiAxIDEgYXV0bztcbiAgICAgICAgLXdlYmtpdC1mbGV4OiAxIDEgYXV0bztcbiAgICAgICAgZmxleDogMSAxIGF1dG87XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1mbGV4LW5vbmU6IHtcbiAgICAgICAgLW1zLWZsZXg6IG5vbmU7XG4gICAgICAgIC13ZWJraXQtZmxleDogbm9uZTtcbiAgICAgICAgZmxleDogbm9uZTtcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LWZsZXg6IHtcbiAgICAgICAgLW1zLWZsZXg6IDEgMSAwLjAwMDAwMDAwMXB4O1xuICAgICAgICAtd2Via2l0LWZsZXg6IDE7XG4gICAgICAgIGZsZXg6IDE7XG4gICAgICAgIC13ZWJraXQtZmxleC1iYXNpczogMC4wMDAwMDAwMDFweDtcbiAgICAgICAgZmxleC1iYXNpczogMC4wMDAwMDAwMDFweDtcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LWZsZXgtMjoge1xuICAgICAgICAtbXMtZmxleDogMjtcbiAgICAgICAgLXdlYmtpdC1mbGV4OiAyO1xuICAgICAgICBmbGV4OiAyO1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtZmxleC0zOiB7XG4gICAgICAgIC1tcy1mbGV4OiAzO1xuICAgICAgICAtd2Via2l0LWZsZXg6IDM7XG4gICAgICAgIGZsZXg6IDM7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1mbGV4LTQ6IHtcbiAgICAgICAgLW1zLWZsZXg6IDQ7XG4gICAgICAgIC13ZWJraXQtZmxleDogNDtcbiAgICAgICAgZmxleDogNDtcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LWZsZXgtNToge1xuICAgICAgICAtbXMtZmxleDogNTtcbiAgICAgICAgLXdlYmtpdC1mbGV4OiA1O1xuICAgICAgICBmbGV4OiA1O1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtZmxleC02OiB7XG4gICAgICAgIC1tcy1mbGV4OiA2O1xuICAgICAgICAtd2Via2l0LWZsZXg6IDY7XG4gICAgICAgIGZsZXg6IDY7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1mbGV4LTc6IHtcbiAgICAgICAgLW1zLWZsZXg6IDc7XG4gICAgICAgIC13ZWJraXQtZmxleDogNztcbiAgICAgICAgZmxleDogNztcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LWZsZXgtODoge1xuICAgICAgICAtbXMtZmxleDogODtcbiAgICAgICAgLXdlYmtpdC1mbGV4OiA4O1xuICAgICAgICBmbGV4OiA4O1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtZmxleC05OiB7XG4gICAgICAgIC1tcy1mbGV4OiA5O1xuICAgICAgICAtd2Via2l0LWZsZXg6IDk7XG4gICAgICAgIGZsZXg6IDk7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1mbGV4LTEwOiB7XG4gICAgICAgIC1tcy1mbGV4OiAxMDtcbiAgICAgICAgLXdlYmtpdC1mbGV4OiAxMDtcbiAgICAgICAgZmxleDogMTA7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1mbGV4LTExOiB7XG4gICAgICAgIC1tcy1mbGV4OiAxMTtcbiAgICAgICAgLXdlYmtpdC1mbGV4OiAxMTtcbiAgICAgICAgZmxleDogMTE7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1mbGV4LTEyOiB7XG4gICAgICAgIC1tcy1mbGV4OiAxMjtcbiAgICAgICAgLXdlYmtpdC1mbGV4OiAxMjtcbiAgICAgICAgZmxleDogMTI7XG4gICAgICB9O1xuXG4gICAgICAvKiBhbGlnbm1lbnQgaW4gY3Jvc3MgYXhpcyAqL1xuXG4gICAgICAtLWxheW91dC1zdGFydDoge1xuICAgICAgICAtbXMtZmxleC1hbGlnbjogc3RhcnQ7XG4gICAgICAgIC13ZWJraXQtYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtY2VudGVyOiB7XG4gICAgICAgIC1tcy1mbGV4LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIC13ZWJraXQtYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LWVuZDoge1xuICAgICAgICAtbXMtZmxleC1hbGlnbjogZW5kO1xuICAgICAgICAtd2Via2l0LWFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtYmFzZWxpbmU6IHtcbiAgICAgICAgLW1zLWZsZXgtYWxpZ246IGJhc2VsaW5lO1xuICAgICAgICAtd2Via2l0LWFsaWduLWl0ZW1zOiBiYXNlbGluZTtcbiAgICAgICAgYWxpZ24taXRlbXM6IGJhc2VsaW5lO1xuICAgICAgfTtcblxuICAgICAgLyogYWxpZ25tZW50IGluIG1haW4gYXhpcyAqL1xuXG4gICAgICAtLWxheW91dC1zdGFydC1qdXN0aWZpZWQ6IHtcbiAgICAgICAgLW1zLWZsZXgtcGFjazogc3RhcnQ7XG4gICAgICAgIC13ZWJraXQtanVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1jZW50ZXItanVzdGlmaWVkOiB7XG4gICAgICAgIC1tcy1mbGV4LXBhY2s6IGNlbnRlcjtcbiAgICAgICAgLXdlYmtpdC1qdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1lbmQtanVzdGlmaWVkOiB7XG4gICAgICAgIC1tcy1mbGV4LXBhY2s6IGVuZDtcbiAgICAgICAgLXdlYmtpdC1qdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtYXJvdW5kLWp1c3RpZmllZDoge1xuICAgICAgICAtbXMtZmxleC1wYWNrOiBkaXN0cmlidXRlO1xuICAgICAgICAtd2Via2l0LWp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LWp1c3RpZmllZDoge1xuICAgICAgICAtbXMtZmxleC1wYWNrOiBqdXN0aWZ5O1xuICAgICAgICAtd2Via2l0LWp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtY2VudGVyLWNlbnRlcjoge1xuICAgICAgICBAYXBwbHkgLS1sYXlvdXQtY2VudGVyO1xuICAgICAgICBAYXBwbHkgLS1sYXlvdXQtY2VudGVyLWp1c3RpZmllZDtcbiAgICAgIH07XG5cbiAgICAgIC8qIHNlbGYgYWxpZ25tZW50ICovXG5cbiAgICAgIC0tbGF5b3V0LXNlbGYtc3RhcnQ6IHtcbiAgICAgICAgLW1zLWFsaWduLXNlbGY6IGZsZXgtc3RhcnQ7XG4gICAgICAgIC13ZWJraXQtYWxpZ24tc2VsZjogZmxleC1zdGFydDtcbiAgICAgICAgYWxpZ24tc2VsZjogZmxleC1zdGFydDtcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LXNlbGYtY2VudGVyOiB7XG4gICAgICAgIC1tcy1hbGlnbi1zZWxmOiBjZW50ZXI7XG4gICAgICAgIC13ZWJraXQtYWxpZ24tc2VsZjogY2VudGVyO1xuICAgICAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1zZWxmLWVuZDoge1xuICAgICAgICAtbXMtYWxpZ24tc2VsZjogZmxleC1lbmQ7XG4gICAgICAgIC13ZWJraXQtYWxpZ24tc2VsZjogZmxleC1lbmQ7XG4gICAgICAgIGFsaWduLXNlbGY6IGZsZXgtZW5kO1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtc2VsZi1zdHJldGNoOiB7XG4gICAgICAgIC1tcy1hbGlnbi1zZWxmOiBzdHJldGNoO1xuICAgICAgICAtd2Via2l0LWFsaWduLXNlbGY6IHN0cmV0Y2g7XG4gICAgICAgIGFsaWduLXNlbGY6IHN0cmV0Y2g7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1zZWxmLWJhc2VsaW5lOiB7XG4gICAgICAgIC1tcy1hbGlnbi1zZWxmOiBiYXNlbGluZTtcbiAgICAgICAgLXdlYmtpdC1hbGlnbi1zZWxmOiBiYXNlbGluZTtcbiAgICAgICAgYWxpZ24tc2VsZjogYmFzZWxpbmU7XG4gICAgICB9O1xuXG4gICAgICAvKiBtdWx0aS1saW5lIGFsaWdubWVudCBpbiBtYWluIGF4aXMgKi9cblxuICAgICAgLS1sYXlvdXQtc3RhcnQtYWxpZ25lZDoge1xuICAgICAgICAtbXMtZmxleC1saW5lLXBhY2s6IHN0YXJ0OyAgLyogSUUxMCAqL1xuICAgICAgICAtbXMtYWxpZ24tY29udGVudDogZmxleC1zdGFydDtcbiAgICAgICAgLXdlYmtpdC1hbGlnbi1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICAgICAgICBhbGlnbi1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtZW5kLWFsaWduZWQ6IHtcbiAgICAgICAgLW1zLWZsZXgtbGluZS1wYWNrOiBlbmQ7ICAvKiBJRTEwICovXG4gICAgICAgIC1tcy1hbGlnbi1jb250ZW50OiBmbGV4LWVuZDtcbiAgICAgICAgLXdlYmtpdC1hbGlnbi1jb250ZW50OiBmbGV4LWVuZDtcbiAgICAgICAgYWxpZ24tY29udGVudDogZmxleC1lbmQ7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1jZW50ZXItYWxpZ25lZDoge1xuICAgICAgICAtbXMtZmxleC1saW5lLXBhY2s6IGNlbnRlcjsgIC8qIElFMTAgKi9cbiAgICAgICAgLW1zLWFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgLXdlYmtpdC1hbGlnbi1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LWJldHdlZW4tYWxpZ25lZDoge1xuICAgICAgICAtbXMtZmxleC1saW5lLXBhY2s6IGp1c3RpZnk7ICAvKiBJRTEwICovXG4gICAgICAgIC1tcy1hbGlnbi1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICAtd2Via2l0LWFsaWduLWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgIGFsaWduLWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1hcm91bmQtYWxpZ25lZDoge1xuICAgICAgICAtbXMtZmxleC1saW5lLXBhY2s6IGRpc3RyaWJ1dGU7ICAvKiBJRTEwICovXG4gICAgICAgIC1tcy1hbGlnbi1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gICAgICAgIC13ZWJraXQtYWxpZ24tY29udGVudDogc3BhY2UtYXJvdW5kO1xuICAgICAgICBhbGlnbi1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gICAgICB9O1xuXG4gICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAgICAgICAgICAgIE90aGVyIExheW91dFxuICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgICAgLS1sYXlvdXQtYmxvY2s6IHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1pbnZpc2libGU6IHtcbiAgICAgICAgdmlzaWJpbGl0eTogaGlkZGVuICFpbXBvcnRhbnQ7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1yZWxhdGl2ZToge1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1maXQ6IHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICBib3R0b206IDA7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1zY3JvbGw6IHtcbiAgICAgICAgLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6IHRvdWNoO1xuICAgICAgICBvdmVyZmxvdzogYXV0bztcbiAgICAgIH07XG5cbiAgICAgIC0tbGF5b3V0LWZ1bGxibGVlZDoge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIGhlaWdodDogMTAwdmg7XG4gICAgICB9O1xuXG4gICAgICAvKiBmaXhlZCBwb3NpdGlvbiAqL1xuXG4gICAgICAtLWxheW91dC1maXhlZC10b3A6IHtcbiAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtZml4ZWQtcmlnaHQ6IHtcbiAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICBib3R0b206IDA7XG4gICAgICB9O1xuXG4gICAgICAtLWxheW91dC1maXhlZC1ib3R0b206IHtcbiAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICByaWdodDogMDtcbiAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgfTtcblxuICAgICAgLS1sYXlvdXQtZml4ZWQtbGVmdDoge1xuICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgfTtcblxuICAgIH1cbiAgPC9zdHlsZT5cbjwvY3VzdG9tLXN0eWxlPmA7XG5cbnRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTogbm9uZTsnKTtcbmRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGVtcGxhdGUuY29udGVudCk7XG5cbnZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG5zdHlsZS50ZXh0Q29udGVudCA9ICdbaGlkZGVuXSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfSc7XG5kb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNiBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJ0Bwb2x5bWVyL3BvbHltZXIvcG9seW1lci1sZWdhY3kuanMnO1xuXG5pbXBvcnQge1BvbHltZXJ9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL2xlZ2FjeS9wb2x5bWVyLWZuLmpzJztcbmltcG9ydCB7aHRtbH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvaHRtbC10YWcuanMnO1xuaW1wb3J0IHtyZXNvbHZlVXJsfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9yZXNvbHZlLXVybC5qcyc7XG5cbi8qKlxuYGlyb24taW1hZ2VgIGlzIGFuIGVsZW1lbnQgZm9yIGRpc3BsYXlpbmcgYW4gaW1hZ2UgdGhhdCBwcm92aWRlcyB1c2VmdWwgc2l6aW5nIGFuZFxucHJlbG9hZGluZyBvcHRpb25zIG5vdCBmb3VuZCBvbiB0aGUgc3RhbmRhcmQgYDxpbWc+YCB0YWcuXG5cblRoZSBgc2l6aW5nYCBvcHRpb24gYWxsb3dzIHRoZSBpbWFnZSB0byBiZSBlaXRoZXIgY3JvcHBlZCAoYGNvdmVyYCkgb3JcbmxldHRlcmJveGVkIChgY29udGFpbmApIHRvIGZpbGwgYSBmaXhlZCB1c2VyLXNpemUgcGxhY2VkIG9uIHRoZSBlbGVtZW50LlxuXG5UaGUgYHByZWxvYWRgIG9wdGlvbiBwcmV2ZW50cyB0aGUgYnJvd3NlciBmcm9tIHJlbmRlcmluZyB0aGUgaW1hZ2UgdW50aWwgdGhlXG5pbWFnZSBpcyBmdWxseSBsb2FkZWQuICBJbiB0aGUgaW50ZXJpbSwgZWl0aGVyIHRoZSBlbGVtZW50J3MgQ1NTIGBiYWNrZ3JvdW5kLWNvbG9yYFxuY2FuIGJlIGJlIHVzZWQgYXMgdGhlIHBsYWNlaG9sZGVyLCBvciB0aGUgYHBsYWNlaG9sZGVyYCBwcm9wZXJ0eSBjYW4gYmVcbnNldCB0byBhIFVSTCAocHJlZmVyYWJseSBhIGRhdGEtVVJJLCBmb3IgaW5zdGFudCByZW5kZXJpbmcpIGZvciBhblxucGxhY2Vob2xkZXIgaW1hZ2UuXG5cblRoZSBgZmFkZWAgb3B0aW9uIChvbmx5IHZhbGlkIHdoZW4gYHByZWxvYWRgIGlzIHNldCkgd2lsbCBjYXVzZSB0aGUgcGxhY2Vob2xkZXJcbmltYWdlL2NvbG9yIHRvIGJlIGZhZGVkIG91dCBvbmNlIHRoZSBpbWFnZSBpcyByZW5kZXJlZC5cblxuRXhhbXBsZXM6XG5cbiAgQmFzaWNhbGx5IGlkZW50aWNhbCB0byBgPGltZyBzcmM9XCIuLi5cIj5gIHRhZzpcblxuICAgIDxpcm9uLWltYWdlIHNyYz1cImh0dHA6Ly9sb3JlbXBpeGVsLmNvbS80MDAvNDAwXCI+PC9pcm9uLWltYWdlPlxuXG4gIFdpbGwgbGV0dGVyYm94IHRoZSBpbWFnZSB0byBmaXQ6XG5cbiAgICA8aXJvbi1pbWFnZSBzdHlsZT1cIndpZHRoOjQwMHB4OyBoZWlnaHQ6NDAwcHg7XCIgc2l6aW5nPVwiY29udGFpblwiXG4gICAgICBzcmM9XCJodHRwOi8vbG9yZW1waXhlbC5jb20vNjAwLzQwMFwiPjwvaXJvbi1pbWFnZT5cblxuICBXaWxsIGNyb3AgdGhlIGltYWdlIHRvIGZpdDpcblxuICAgIDxpcm9uLWltYWdlIHN0eWxlPVwid2lkdGg6NDAwcHg7IGhlaWdodDo0MDBweDtcIiBzaXppbmc9XCJjb3ZlclwiXG4gICAgICBzcmM9XCJodHRwOi8vbG9yZW1waXhlbC5jb20vNjAwLzQwMFwiPjwvaXJvbi1pbWFnZT5cblxuICBXaWxsIHNob3cgbGlnaHQtZ3JheSBiYWNrZ3JvdW5kIHVudGlsIHRoZSBpbWFnZSBsb2FkczpcblxuICAgIDxpcm9uLWltYWdlIHN0eWxlPVwid2lkdGg6NDAwcHg7IGhlaWdodDo0MDBweDsgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmF5O1wiXG4gICAgICBzaXppbmc9XCJjb3ZlclwiIHByZWxvYWQgc3JjPVwiaHR0cDovL2xvcmVtcGl4ZWwuY29tLzYwMC80MDBcIj48L2lyb24taW1hZ2U+XG5cbiAgV2lsbCBzaG93IGEgYmFzZS02NCBlbmNvZGVkIHBsYWNlaG9sZGVyIGltYWdlIHVudGlsIHRoZSBpbWFnZSBsb2FkczpcblxuICAgIDxpcm9uLWltYWdlIHN0eWxlPVwid2lkdGg6NDAwcHg7IGhlaWdodDo0MDBweDtcIiBwbGFjZWhvbGRlcj1cImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCwuLi5cIlxuICAgICAgc2l6aW5nPVwiY292ZXJcIiBwcmVsb2FkIHNyYz1cImh0dHA6Ly9sb3JlbXBpeGVsLmNvbS82MDAvNDAwXCI+PC9pcm9uLWltYWdlPlxuXG4gIFdpbGwgZmFkZSB0aGUgbGlnaHQtZ3JheSBiYWNrZ3JvdW5kIG91dCBvbmNlIHRoZSBpbWFnZSBpcyBsb2FkZWQ6XG5cbiAgICA8aXJvbi1pbWFnZSBzdHlsZT1cIndpZHRoOjQwMHB4OyBoZWlnaHQ6NDAwcHg7IGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Z3JheTtcIlxuICAgICAgc2l6aW5nPVwiY292ZXJcIiBwcmVsb2FkIGZhZGUgc3JjPVwiaHR0cDovL2xvcmVtcGl4ZWwuY29tLzYwMC80MDBcIj48L2lyb24taW1hZ2U+XG5cbkN1c3RvbSBwcm9wZXJ0eSB8IERlc2NyaXB0aW9uIHwgRGVmYXVsdFxuLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS1cbmAtLWlyb24taW1hZ2UtcGxhY2Vob2xkZXJgIHwgTWl4aW4gYXBwbGllZCB0byAjcGxhY2Vob2xkZXIgfCBge31gXG5gLS1pcm9uLWltYWdlLXdpZHRoYCB8IFNldHMgdGhlIHdpZHRoIG9mIHRoZSB3cmFwcGVkIGltYWdlIHwgYGF1dG9gXG5gLS1pcm9uLWltYWdlLWhlaWdodGAgfCBTZXRzIHRoZSBoZWlnaHQgb2YgdGhlIHdyYXBwZWQgaW1hZ2UgfCBgYXV0b2BcblxuQGdyb3VwIElyb24gRWxlbWVudHNcbkBlbGVtZW50IGlyb24taW1hZ2VcbkBkZW1vIGRlbW8vaW5kZXguaHRtbFxuKi9cblBvbHltZXIoe1xuICBfdGVtcGxhdGU6IGh0bWxgXG4gICAgPHN0eWxlPlxuICAgICAgOmhvc3Qge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIH1cblxuICAgICAgI2Jhc2VVUklBbmNob3Ige1xuICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgfVxuXG4gICAgICAjc2l6ZWRJbWdEaXYge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMHB4O1xuICAgICAgICByaWdodDogMHB4O1xuICAgICAgICBib3R0b206IDBweDtcbiAgICAgICAgbGVmdDogMHB4O1xuXG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgICNpbWcge1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgd2lkdGg6IHZhcigtLWlyb24taW1hZ2Utd2lkdGgsIGF1dG8pO1xuICAgICAgICBoZWlnaHQ6IHZhcigtLWlyb24taW1hZ2UtaGVpZ2h0LCBhdXRvKTtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoW3NpemluZ10pICNzaXplZEltZ0RpdiB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbc2l6aW5nXSkgI2ltZyB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgICNwbGFjZWhvbGRlciB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAwcHg7XG4gICAgICAgIHJpZ2h0OiAwcHg7XG4gICAgICAgIGJvdHRvbTogMHB4O1xuICAgICAgICBsZWZ0OiAwcHg7XG5cbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogaW5oZXJpdDtcbiAgICAgICAgb3BhY2l0eTogMTtcblxuICAgICAgICBAYXBwbHkgLS1pcm9uLWltYWdlLXBsYWNlaG9sZGVyO1xuICAgICAgfVxuXG4gICAgICAjcGxhY2Vob2xkZXIuZmFkZWQtb3V0IHtcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjVzIGxpbmVhcjtcbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgIH1cbiAgICA8L3N0eWxlPlxuXG4gICAgPGEgaWQ9XCJiYXNlVVJJQW5jaG9yXCIgaHJlZj1cIiNcIj48L2E+XG4gICAgPGRpdiBpZD1cInNpemVkSW1nRGl2XCIgcm9sZT1cImltZ1wiIGhpZGRlbiQ9XCJbW19jb21wdXRlSW1nRGl2SGlkZGVuKHNpemluZyldXVwiIGFyaWEtaGlkZGVuJD1cIltbX2NvbXB1dGVJbWdEaXZBUklBSGlkZGVuKGFsdCldXVwiIGFyaWEtbGFiZWwkPVwiW1tfY29tcHV0ZUltZ0RpdkFSSUFMYWJlbChhbHQsIHNyYyldXVwiPjwvZGl2PlxuICAgIDxpbWcgaWQ9XCJpbWdcIiBhbHQkPVwiW1thbHRdXVwiIGhpZGRlbiQ9XCJbW19jb21wdXRlSW1nSGlkZGVuKHNpemluZyldXVwiIGNyb3Nzb3JpZ2luJD1cIltbY3Jvc3NvcmlnaW5dXVwiIG9uLWxvYWQ9XCJfaW1nT25Mb2FkXCIgb24tZXJyb3I9XCJfaW1nT25FcnJvclwiPlxuICAgIDxkaXYgaWQ9XCJwbGFjZWhvbGRlclwiIGhpZGRlbiQ9XCJbW19jb21wdXRlUGxhY2Vob2xkZXJIaWRkZW4ocHJlbG9hZCwgZmFkZSwgbG9hZGluZywgbG9hZGVkKV1dXCIgY2xhc3MkPVwiW1tfY29tcHV0ZVBsYWNlaG9sZGVyQ2xhc3NOYW1lKHByZWxvYWQsIGZhZGUsIGxvYWRpbmcsIGxvYWRlZCldXVwiPjwvZGl2PlxuYCxcblxuICBpczogJ2lyb24taW1hZ2UnLFxuXG4gIHByb3BlcnRpZXM6IHtcbiAgICAvKipcbiAgICAgKiBUaGUgVVJMIG9mIGFuIGltYWdlLlxuICAgICAqL1xuICAgIHNyYzoge3R5cGU6IFN0cmluZywgdmFsdWU6ICcnfSxcblxuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgdGV4dCBhbHRlcm5hdGl2ZSBmb3IgdGhlIGltYWdlLlxuICAgICAqL1xuICAgIGFsdDoge3R5cGU6IFN0cmluZywgdmFsdWU6IG51bGx9LFxuXG4gICAgLyoqXG4gICAgICogQ09SUyBlbmFibGVkIGltYWdlcyBzdXBwb3J0OlxuICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQ09SU19lbmFibGVkX2ltYWdlXG4gICAgICovXG4gICAgY3Jvc3NvcmlnaW46IHt0eXBlOiBTdHJpbmcsIHZhbHVlOiBudWxsfSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdHJ1ZSwgdGhlIGltYWdlIGlzIHByZXZlbnRlZCBmcm9tIGxvYWRpbmcgYW5kIGFueSBwbGFjZWhvbGRlciBpc1xuICAgICAqIHNob3duLiAgVGhpcyBtYXkgYmUgdXNlZnVsIHdoZW4gYSBiaW5kaW5nIHRvIHRoZSBzcmMgcHJvcGVydHkgaXMga25vd24gdG9cbiAgICAgKiBiZSBpbnZhbGlkLCB0byBwcmV2ZW50IDQwNCByZXF1ZXN0cy5cbiAgICAgKi9cbiAgICBwcmV2ZW50TG9hZDoge3R5cGU6IEJvb2xlYW4sIHZhbHVlOiBmYWxzZX0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGEgc2l6aW5nIG9wdGlvbiBmb3IgdGhlIGltYWdlLiAgVmFsaWQgdmFsdWVzIGFyZSBgY29udGFpbmAgKGZ1bGxcbiAgICAgKiBhc3BlY3QgcmF0aW8gb2YgdGhlIGltYWdlIGlzIGNvbnRhaW5lZCB3aXRoaW4gdGhlIGVsZW1lbnQgYW5kXG4gICAgICogbGV0dGVyYm94ZWQpIG9yIGBjb3ZlcmAgKGltYWdlIGlzIGNyb3BwZWQgaW4gb3JkZXIgdG8gZnVsbHkgY292ZXIgdGhlXG4gICAgICogYm91bmRzIG9mIHRoZSBlbGVtZW50KSwgb3IgYG51bGxgIChkZWZhdWx0OiBpbWFnZSB0YWtlcyBuYXR1cmFsIHNpemUpLlxuICAgICAqL1xuICAgIHNpemluZzoge3R5cGU6IFN0cmluZywgdmFsdWU6IG51bGwsIHJlZmxlY3RUb0F0dHJpYnV0ZTogdHJ1ZX0sXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGEgc2l6aW5nIG9wdGlvbiBpcyB1c2VkIChgY292ZXJgIG9yIGBjb250YWluYCksIHRoaXMgZGV0ZXJtaW5lc1xuICAgICAqIGhvdyB0aGUgaW1hZ2UgaXMgYWxpZ25lZCB3aXRoaW4gdGhlIGVsZW1lbnQgYm91bmRzLlxuICAgICAqL1xuICAgIHBvc2l0aW9uOiB7dHlwZTogU3RyaW5nLCB2YWx1ZTogJ2NlbnRlcid9LFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIGFueSBjaGFuZ2UgdG8gdGhlIGBzcmNgIHByb3BlcnR5IHdpbGwgY2F1c2UgdGhlXG4gICAgICogYHBsYWNlaG9sZGVyYCBpbWFnZSB0byBiZSBzaG93biB1bnRpbCB0aGUgbmV3IGltYWdlIGhhcyBsb2FkZWQuXG4gICAgICovXG4gICAgcHJlbG9hZDoge3R5cGU6IEJvb2xlYW4sIHZhbHVlOiBmYWxzZX0sXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGltYWdlIHdpbGwgYmUgdXNlZCBhcyBhIGJhY2tncm91bmQvcGxhY2Vob2xkZXIgdW50aWwgdGhlIHNyYyBpbWFnZVxuICAgICAqIGhhcyBsb2FkZWQuICBVc2Ugb2YgYSBkYXRhLVVSSSBmb3IgcGxhY2Vob2xkZXIgaXMgZW5jb3VyYWdlZCBmb3IgaW5zdGFudFxuICAgICAqIHJlbmRlcmluZy5cbiAgICAgKi9cbiAgICBwbGFjZWhvbGRlcjoge3R5cGU6IFN0cmluZywgdmFsdWU6IG51bGwsIG9ic2VydmVyOiAnX3BsYWNlaG9sZGVyQ2hhbmdlZCd9LFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgcHJlbG9hZGAgaXMgdHJ1ZSwgc2V0dGluZyBgZmFkZWAgdG8gdHJ1ZSB3aWxsIGNhdXNlIHRoZSBpbWFnZSB0b1xuICAgICAqIGZhZGUgaW50byBwbGFjZS5cbiAgICAgKi9cbiAgICBmYWRlOiB7dHlwZTogQm9vbGVhbiwgdmFsdWU6IGZhbHNlfSxcblxuICAgIC8qKlxuICAgICAqIFJlYWQtb25seSB2YWx1ZSB0aGF0IGlzIHRydWUgd2hlbiB0aGUgaW1hZ2UgaXMgbG9hZGVkLlxuICAgICAqL1xuICAgIGxvYWRlZDoge25vdGlmeTogdHJ1ZSwgcmVhZE9ubHk6IHRydWUsIHR5cGU6IEJvb2xlYW4sIHZhbHVlOiBmYWxzZX0sXG5cbiAgICAvKipcbiAgICAgKiBSZWFkLW9ubHkgdmFsdWUgdGhhdCB0cmFja3MgdGhlIGxvYWRpbmcgc3RhdGUgb2YgdGhlIGltYWdlIHdoZW4gdGhlXG4gICAgICogYHByZWxvYWRgIG9wdGlvbiBpcyB1c2VkLlxuICAgICAqL1xuICAgIGxvYWRpbmc6IHtub3RpZnk6IHRydWUsIHJlYWRPbmx5OiB0cnVlLCB0eXBlOiBCb29sZWFuLCB2YWx1ZTogZmFsc2V9LFxuXG4gICAgLyoqXG4gICAgICogUmVhZC1vbmx5IHZhbHVlIHRoYXQgaW5kaWNhdGVzIHRoYXQgdGhlIGxhc3Qgc2V0IGBzcmNgIGZhaWxlZCB0byBsb2FkLlxuICAgICAqL1xuICAgIGVycm9yOiB7bm90aWZ5OiB0cnVlLCByZWFkT25seTogdHJ1ZSwgdHlwZTogQm9vbGVhbiwgdmFsdWU6IGZhbHNlfSxcblxuICAgIC8qKlxuICAgICAqIENhbiBiZSB1c2VkIHRvIHNldCB0aGUgd2lkdGggb2YgaW1hZ2UgKGUuZy4gdmlhIGJpbmRpbmcpOyBzaXplIG1heSBhbHNvXG4gICAgICogYmUgc2V0IHZpYSBDU1MuXG4gICAgICovXG4gICAgd2lkdGg6IHtvYnNlcnZlcjogJ193aWR0aENoYW5nZWQnLCB0eXBlOiBOdW1iZXIsIHZhbHVlOiBudWxsfSxcblxuICAgIC8qKlxuICAgICAqIENhbiBiZSB1c2VkIHRvIHNldCB0aGUgaGVpZ2h0IG9mIGltYWdlIChlLmcuIHZpYSBiaW5kaW5nKTsgc2l6ZSBtYXkgYWxzb1xuICAgICAqIGJlIHNldCB2aWEgQ1NTLlxuICAgICAqXG4gICAgICogQGF0dHJpYnV0ZSBoZWlnaHRcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG4gICAgaGVpZ2h0OiB7b2JzZXJ2ZXI6ICdfaGVpZ2h0Q2hhbmdlZCcsIHR5cGU6IE51bWJlciwgdmFsdWU6IG51bGx9LFxuICB9LFxuXG4gIG9ic2VydmVyczogW1xuICAgICdfdHJhbnNmb3JtQ2hhbmdlZChzaXppbmcsIHBvc2l0aW9uKScsXG4gICAgJ19sb2FkU3RhdGVPYnNlcnZlcihzcmMsIHByZXZlbnRMb2FkKSdcbiAgXSxcblxuICBjcmVhdGVkOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9yZXNvbHZlZFNyYyA9ICcnO1xuICB9LFxuXG4gIF9pbWdPbkxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLiQuaW1nLnNyYyAhPT0gdGhpcy5fcmVzb2x2ZVNyYyh0aGlzLnNyYykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB0aGlzLl9zZXRMb2FkZWQodHJ1ZSk7XG4gICAgdGhpcy5fc2V0RXJyb3IoZmFsc2UpO1xuICB9LFxuXG4gIF9pbWdPbkVycm9yOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy4kLmltZy5zcmMgIT09IHRoaXMuX3Jlc29sdmVTcmModGhpcy5zcmMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy4kLmltZy5yZW1vdmVBdHRyaWJ1dGUoJ3NyYycpO1xuICAgIHRoaXMuJC5zaXplZEltZ0Rpdi5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAnJztcblxuICAgIHRoaXMuX3NldExvYWRpbmcoZmFsc2UpO1xuICAgIHRoaXMuX3NldExvYWRlZChmYWxzZSk7XG4gICAgdGhpcy5fc2V0RXJyb3IodHJ1ZSk7XG4gIH0sXG5cbiAgX2NvbXB1dGVQbGFjZWhvbGRlckhpZGRlbjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICF0aGlzLnByZWxvYWQgfHwgKCF0aGlzLmZhZGUgJiYgIXRoaXMubG9hZGluZyAmJiB0aGlzLmxvYWRlZCk7XG4gIH0sXG5cbiAgX2NvbXB1dGVQbGFjZWhvbGRlckNsYXNzTmFtZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICh0aGlzLnByZWxvYWQgJiYgdGhpcy5mYWRlICYmICF0aGlzLmxvYWRpbmcgJiYgdGhpcy5sb2FkZWQpID9cbiAgICAgICAgJ2ZhZGVkLW91dCcgOlxuICAgICAgICAnJztcbiAgfSxcblxuICBfY29tcHV0ZUltZ0RpdkhpZGRlbjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICF0aGlzLnNpemluZztcbiAgfSxcblxuICBfY29tcHV0ZUltZ0RpdkFSSUFIaWRkZW46IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmFsdCA9PT0gJycgPyAndHJ1ZScgOiB1bmRlZmluZWQ7XG4gIH0sXG5cbiAgX2NvbXB1dGVJbWdEaXZBUklBTGFiZWw6IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmFsdCAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRoaXMuYWx0O1xuICAgIH1cblxuICAgIC8vIFBvbHltZXIuUmVzb2x2ZVVybC5yZXNvbHZlVXJsIHdpbGwgcmVzb2x2ZSAnJyByZWxhdGl2ZSB0byBhIFVSTCB4IHRvXG4gICAgLy8gdGhhdCBVUkwgeCwgYnV0ICcnIGlzIHRoZSBkZWZhdWx0IGZvciBzcmMuXG4gICAgaWYgKHRoaXMuc3JjID09PSAnJykge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8vIE5PVEU6IFVzZSBvZiBgVVJMYCB3YXMgcmVtb3ZlZCBoZXJlIGJlY2F1c2UgSUUxMSBkb2Vzbid0IHN1cHBvcnRcbiAgICAvLyBjb25zdHJ1Y3RpbmcgaXQuIElmIHRoaXMgZW5kcyB1cCBiZWluZyBwcm9ibGVtYXRpYywgd2Ugc2hvdWxkXG4gICAgLy8gY29uc2lkZXIgcmV2ZXJ0aW5nIGFuZCBhZGRpbmcgdGhlIFVSTCBwb2x5ZmlsbCBhcyBhIGRldiBkZXBlbmRlbmN5LlxuICAgIHZhciByZXNvbHZlZCA9IHRoaXMuX3Jlc29sdmVTcmModGhpcy5zcmMpO1xuICAgIC8vIFJlbW92ZSBxdWVyeSBwYXJ0cywgZ2V0IGZpbGUgbmFtZS5cbiAgICByZXR1cm4gcmVzb2x2ZWQucmVwbGFjZSgvWz98I10uKi9nLCAnJykuc3BsaXQoJy8nKS5wb3AoKTtcbiAgfSxcblxuICBfY29tcHV0ZUltZ0hpZGRlbjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICEhdGhpcy5zaXppbmc7XG4gIH0sXG5cbiAgX3dpZHRoQ2hhbmdlZDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zdHlsZS53aWR0aCA9IGlzTmFOKHRoaXMud2lkdGgpID8gdGhpcy53aWR0aCA6IHRoaXMud2lkdGggKyAncHgnO1xuICB9LFxuXG4gIF9oZWlnaHRDaGFuZ2VkOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnN0eWxlLmhlaWdodCA9IGlzTmFOKHRoaXMuaGVpZ2h0KSA/IHRoaXMuaGVpZ2h0IDogdGhpcy5oZWlnaHQgKyAncHgnO1xuICB9LFxuXG4gIF9sb2FkU3RhdGVPYnNlcnZlcjogZnVuY3Rpb24oc3JjLCBwcmV2ZW50TG9hZCkge1xuICAgIHZhciBuZXdSZXNvbHZlZFNyYyA9IHRoaXMuX3Jlc29sdmVTcmMoc3JjKTtcbiAgICBpZiAobmV3UmVzb2x2ZWRTcmMgPT09IHRoaXMuX3Jlc29sdmVkU3JjKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fcmVzb2x2ZWRTcmMgPSAnJztcbiAgICB0aGlzLiQuaW1nLnJlbW92ZUF0dHJpYnV0ZSgnc3JjJyk7XG4gICAgdGhpcy4kLnNpemVkSW1nRGl2LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICcnO1xuXG4gICAgaWYgKHNyYyA9PT0gJycgfHwgcHJldmVudExvYWQpIHtcbiAgICAgIHRoaXMuX3NldExvYWRpbmcoZmFsc2UpO1xuICAgICAgdGhpcy5fc2V0TG9hZGVkKGZhbHNlKTtcbiAgICAgIHRoaXMuX3NldEVycm9yKGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fcmVzb2x2ZWRTcmMgPSBuZXdSZXNvbHZlZFNyYztcbiAgICAgIHRoaXMuJC5pbWcuc3JjID0gdGhpcy5fcmVzb2x2ZWRTcmM7XG4gICAgICB0aGlzLiQuc2l6ZWRJbWdEaXYuc3R5bGUuYmFja2dyb3VuZEltYWdlID1cbiAgICAgICAgICAndXJsKFwiJyArIHRoaXMuX3Jlc29sdmVkU3JjICsgJ1wiKSc7XG5cbiAgICAgIHRoaXMuX3NldExvYWRpbmcodHJ1ZSk7XG4gICAgICB0aGlzLl9zZXRMb2FkZWQoZmFsc2UpO1xuICAgICAgdGhpcy5fc2V0RXJyb3IoZmFsc2UpO1xuICAgIH1cbiAgfSxcblxuICBfcGxhY2Vob2xkZXJDaGFuZ2VkOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiQucGxhY2Vob2xkZXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID1cbiAgICAgICAgdGhpcy5wbGFjZWhvbGRlciA/ICd1cmwoXCInICsgdGhpcy5wbGFjZWhvbGRlciArICdcIiknIDogJyc7XG4gIH0sXG5cbiAgX3RyYW5zZm9ybUNoYW5nZWQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzaXplZEltZ0RpdlN0eWxlID0gdGhpcy4kLnNpemVkSW1nRGl2LnN0eWxlO1xuICAgIHZhciBwbGFjZWhvbGRlclN0eWxlID0gdGhpcy4kLnBsYWNlaG9sZGVyLnN0eWxlO1xuXG4gICAgc2l6ZWRJbWdEaXZTdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9IHBsYWNlaG9sZGVyU3R5bGUuYmFja2dyb3VuZFNpemUgPVxuICAgICAgICB0aGlzLnNpemluZztcblxuICAgIHNpemVkSW1nRGl2U3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gcGxhY2Vob2xkZXJTdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb24gPVxuICAgICAgICB0aGlzLnNpemluZyA/IHRoaXMucG9zaXRpb24gOiAnJztcblxuICAgIHNpemVkSW1nRGl2U3R5bGUuYmFja2dyb3VuZFJlcGVhdCA9IHBsYWNlaG9sZGVyU3R5bGUuYmFja2dyb3VuZFJlcGVhdCA9XG4gICAgICAgIHRoaXMuc2l6aW5nID8gJ25vLXJlcGVhdCcgOiAnJztcbiAgfSxcblxuICBfcmVzb2x2ZVNyYzogZnVuY3Rpb24odGVzdFNyYykge1xuICAgIHZhciByZXNvbHZlZCA9IHJlc29sdmVVcmwodGVzdFNyYywgdGhpcy4kLmJhc2VVUklBbmNob3IuaHJlZik7XG4gICAgLy8gTk9URTogVXNlIG9mIGBVUkxgIHdhcyByZW1vdmVkIGhlcmUgYmVjYXVzZSBJRTExIGRvZXNuJ3Qgc3VwcG9ydFxuICAgIC8vIGNvbnN0cnVjdGluZyBpdC4gSWYgdGhpcyBlbmRzIHVwIGJlaW5nIHByb2JsZW1hdGljLCB3ZSBzaG91bGRcbiAgICAvLyBjb25zaWRlciByZXZlcnRpbmcgYW5kIGFkZGluZyB0aGUgVVJMIHBvbHlmaWxsIGFzIGEgZGV2IGRlcGVuZGVuY3kuXG4gICAgaWYgKHJlc29sdmVkLmxlbmd0aCA+PSAyICYmIHJlc29sdmVkWzBdID09PSAnLycgJiYgcmVzb2x2ZWRbMV0gIT09ICcvJykge1xuICAgICAgLy8gSW4gSUUgbG9jYXRpb24ub3JpZ2luIG1pZ2h0IG5vdCB3b3JrXG4gICAgICAvLyBodHRwczovL2Nvbm5lY3QubWljcm9zb2Z0LmNvbS9JRS9mZWVkYmFjay9kZXRhaWxzLzE3NjM4MDIvbG9jYXRpb24tb3JpZ2luLWlzLXVuZGVmaW5lZC1pbi1pZS0xMS1vbi13aW5kb3dzLTEwLWJ1dC13b3Jrcy1vbi13aW5kb3dzLTdcbiAgICAgIHJlc29sdmVkID0gKGxvY2F0aW9uLm9yaWdpbiB8fCBsb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyBsb2NhdGlvbi5ob3N0KSArXG4gICAgICAgICAgcmVzb2x2ZWQ7XG4gICAgfVxuICAgIHJldHVybiByZXNvbHZlZDtcbiAgfVxufSk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTUgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZVxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQgQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXNcbnBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnRcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuaW1wb3J0ICdAcG9seW1lci9wb2x5bWVyL3BvbHltZXItbGVnYWN5LmpzJztcblxuaW1wb3J0IHtodG1sfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9odG1sLXRhZy5qcyc7XG5jb25zdCB0ZW1wbGF0ZSA9IGh0bWxgXG48Y3VzdG9tLXN0eWxlPlxuICA8c3R5bGUgaXM9XCJjdXN0b20tc3R5bGVcIj5cbiAgICBodG1sIHtcblxuICAgICAgLS1zaGFkb3ctdHJhbnNpdGlvbjoge1xuICAgICAgICB0cmFuc2l0aW9uOiBib3gtc2hhZG93IDAuMjhzIGN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSk7XG4gICAgICB9O1xuXG4gICAgICAtLXNoYWRvdy1ub25lOiB7XG4gICAgICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgICB9O1xuXG4gICAgICAvKiBmcm9tIGh0dHA6Ly9jb2RlcGVuLmlvL3NoeW5kbWFuL3Blbi9jNTM5NGRkZjJlOGIyYTVjOTE4NTkwNGI1NzQyMWNkYiAqL1xuXG4gICAgICAtLXNoYWRvdy1lbGV2YXRpb24tMmRwOiB7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDJweCAwIHJnYmEoMCwgMCwgMCwgMC4xNCksXG4gICAgICAgICAgICAgICAgICAgIDAgMXB4IDVweCAwIHJnYmEoMCwgMCwgMCwgMC4xMiksXG4gICAgICAgICAgICAgICAgICAgIDAgM3B4IDFweCAtMnB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgICAgIH07XG5cbiAgICAgIC0tc2hhZG93LWVsZXZhdGlvbi0zZHA6IHtcbiAgICAgICAgYm94LXNoYWRvdzogMCAzcHggNHB4IDAgcmdiYSgwLCAwLCAwLCAwLjE0KSxcbiAgICAgICAgICAgICAgICAgICAgMCAxcHggOHB4IDAgcmdiYSgwLCAwLCAwLCAwLjEyKSxcbiAgICAgICAgICAgICAgICAgICAgMCAzcHggM3B4IC0ycHggcmdiYSgwLCAwLCAwLCAwLjQpO1xuICAgICAgfTtcblxuICAgICAgLS1zaGFkb3ctZWxldmF0aW9uLTRkcDoge1xuICAgICAgICBib3gtc2hhZG93OiAwIDRweCA1cHggMCByZ2JhKDAsIDAsIDAsIDAuMTQpLFxuICAgICAgICAgICAgICAgICAgICAwIDFweCAxMHB4IDAgcmdiYSgwLCAwLCAwLCAwLjEyKSxcbiAgICAgICAgICAgICAgICAgICAgMCAycHggNHB4IC0xcHggcmdiYSgwLCAwLCAwLCAwLjQpO1xuICAgICAgfTtcblxuICAgICAgLS1zaGFkb3ctZWxldmF0aW9uLTZkcDoge1xuICAgICAgICBib3gtc2hhZG93OiAwIDZweCAxMHB4IDAgcmdiYSgwLCAwLCAwLCAwLjE0KSxcbiAgICAgICAgICAgICAgICAgICAgMCAxcHggMThweCAwIHJnYmEoMCwgMCwgMCwgMC4xMiksXG4gICAgICAgICAgICAgICAgICAgIDAgM3B4IDVweCAtMXB4IHJnYmEoMCwgMCwgMCwgMC40KTtcbiAgICAgIH07XG5cbiAgICAgIC0tc2hhZG93LWVsZXZhdGlvbi04ZHA6IHtcbiAgICAgICAgYm94LXNoYWRvdzogMCA4cHggMTBweCAxcHggcmdiYSgwLCAwLCAwLCAwLjE0KSxcbiAgICAgICAgICAgICAgICAgICAgMCAzcHggMTRweCAycHggcmdiYSgwLCAwLCAwLCAwLjEyKSxcbiAgICAgICAgICAgICAgICAgICAgMCA1cHggNXB4IC0zcHggcmdiYSgwLCAwLCAwLCAwLjQpO1xuICAgICAgfTtcblxuICAgICAgLS1zaGFkb3ctZWxldmF0aW9uLTEyZHA6IHtcbiAgICAgICAgYm94LXNoYWRvdzogMCAxMnB4IDE2cHggMXB4IHJnYmEoMCwgMCwgMCwgMC4xNCksXG4gICAgICAgICAgICAgICAgICAgIDAgNHB4IDIycHggM3B4IHJnYmEoMCwgMCwgMCwgMC4xMiksXG4gICAgICAgICAgICAgICAgICAgIDAgNnB4IDdweCAtNHB4IHJnYmEoMCwgMCwgMCwgMC40KTtcbiAgICAgIH07XG5cbiAgICAgIC0tc2hhZG93LWVsZXZhdGlvbi0xNmRwOiB7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgMTZweCAyNHB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMTQpLFxuICAgICAgICAgICAgICAgICAgICAwICA2cHggMzBweCA1cHggcmdiYSgwLCAwLCAwLCAwLjEyKSxcbiAgICAgICAgICAgICAgICAgICAgMCAgOHB4IDEwcHggLTVweCByZ2JhKDAsIDAsIDAsIDAuNCk7XG4gICAgICB9O1xuXG4gICAgICAtLXNoYWRvdy1lbGV2YXRpb24tMjRkcDoge1xuICAgICAgICBib3gtc2hhZG93OiAwIDI0cHggMzhweCAzcHggcmdiYSgwLCAwLCAwLCAwLjE0KSxcbiAgICAgICAgICAgICAgICAgICAgMCA5cHggNDZweCA4cHggcmdiYSgwLCAwLCAwLCAwLjEyKSxcbiAgICAgICAgICAgICAgICAgICAgMCAxMXB4IDE1cHggLTdweCByZ2JhKDAsIDAsIDAsIDAuNCk7XG4gICAgICB9O1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvY3VzdG9tLXN0eWxlPmA7XG50ZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6IG5vbmU7Jyk7XG5kb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHRlbXBsYXRlLmNvbnRlbnQpO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmVcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzXG5wYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50XG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG4vKipcbk1hdGVyaWFsIGRlc2lnbjpcbltDYXJkc10oaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9kZXNpZ24vc3BlYy9jb21wb25lbnRzL2NhcmRzLmh0bWwpXG5cblNoYXJlZCBzdHlsZXMgdGhhdCB5b3UgY2FuIGFwcGx5IHRvIGFuIGVsZW1lbnQgdG8gcmVuZGVycyB0d28gc2hhZG93cyBvbiB0b3Bcbm9mIGVhY2ggb3RoZXIsdGhhdCBjcmVhdGUgdGhlIGVmZmVjdCBvZiBhIGxpZnRlZCBwaWVjZSBvZiBwYXBlci5cblxuRXhhbXBsZTpcblxuICAgIDxjdXN0b20tc3R5bGU+XG4gICAgICA8c3R5bGUgaXM9XCJjdXN0b20tc3R5bGVcIiBpbmNsdWRlPVwicGFwZXItbWF0ZXJpYWwtc3R5bGVzXCI+PC9zdHlsZT5cbiAgICA8L2N1c3RvbS1zdHlsZT5cblxuICAgIDxkaXYgY2xhc3M9XCJwYXBlci1tYXRlcmlhbFwiIGVsZXZhdGlvbj1cIjFcIj5cbiAgICAgIC4uLiBjb250ZW50IC4uLlxuICAgIDwvZGl2PlxuXG5AZ3JvdXAgUGFwZXIgRWxlbWVudHNcbkBkZW1vIGRlbW8vaW5kZXguaHRtbFxuKi9cblxuaW1wb3J0ICdAcG9seW1lci9wb2x5bWVyL3BvbHltZXItbGVnYWN5LmpzJztcbmltcG9ydCAnLi4vc2hhZG93LmpzJztcblxuaW1wb3J0IHtodG1sfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9odG1sLXRhZy5qcyc7XG5jb25zdCB0ZW1wbGF0ZSA9IGh0bWxgXG48ZG9tLW1vZHVsZSBpZD1cInBhcGVyLW1hdGVyaWFsLXN0eWxlc1wiPlxuICA8dGVtcGxhdGU+XG4gICAgPHN0eWxlPlxuICAgICAgaHRtbCB7XG4gICAgICAgIC0tcGFwZXItbWF0ZXJpYWw6IHtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIH07XG4gICAgICAgIC0tcGFwZXItbWF0ZXJpYWwtZWxldmF0aW9uLTE6IHtcbiAgICAgICAgICBAYXBwbHkgLS1zaGFkb3ctZWxldmF0aW9uLTJkcDtcbiAgICAgICAgfTtcbiAgICAgICAgLS1wYXBlci1tYXRlcmlhbC1lbGV2YXRpb24tMjoge1xuICAgICAgICAgIEBhcHBseSAtLXNoYWRvdy1lbGV2YXRpb24tNGRwO1xuICAgICAgICB9O1xuICAgICAgICAtLXBhcGVyLW1hdGVyaWFsLWVsZXZhdGlvbi0zOiB7XG4gICAgICAgICAgQGFwcGx5IC0tc2hhZG93LWVsZXZhdGlvbi02ZHA7XG4gICAgICAgIH07XG4gICAgICAgIC0tcGFwZXItbWF0ZXJpYWwtZWxldmF0aW9uLTQ6IHtcbiAgICAgICAgICBAYXBwbHkgLS1zaGFkb3ctZWxldmF0aW9uLThkcDtcbiAgICAgICAgfTtcbiAgICAgICAgLS1wYXBlci1tYXRlcmlhbC1lbGV2YXRpb24tNToge1xuICAgICAgICAgIEBhcHBseSAtLXNoYWRvdy1lbGV2YXRpb24tMTZkcDtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIC5wYXBlci1tYXRlcmlhbCB7XG4gICAgICAgIEBhcHBseSAtLXBhcGVyLW1hdGVyaWFsO1xuICAgICAgfVxuICAgICAgLnBhcGVyLW1hdGVyaWFsW2VsZXZhdGlvbj1cIjFcIl0ge1xuICAgICAgICBAYXBwbHkgLS1wYXBlci1tYXRlcmlhbC1lbGV2YXRpb24tMTtcbiAgICAgIH1cbiAgICAgIC5wYXBlci1tYXRlcmlhbFtlbGV2YXRpb249XCIyXCJdIHtcbiAgICAgICAgQGFwcGx5IC0tcGFwZXItbWF0ZXJpYWwtZWxldmF0aW9uLTI7XG4gICAgICB9XG4gICAgICAucGFwZXItbWF0ZXJpYWxbZWxldmF0aW9uPVwiM1wiXSB7XG4gICAgICAgIEBhcHBseSAtLXBhcGVyLW1hdGVyaWFsLWVsZXZhdGlvbi0zO1xuICAgICAgfVxuICAgICAgLnBhcGVyLW1hdGVyaWFsW2VsZXZhdGlvbj1cIjRcIl0ge1xuICAgICAgICBAYXBwbHkgLS1wYXBlci1tYXRlcmlhbC1lbGV2YXRpb24tNDtcbiAgICAgIH1cbiAgICAgIC5wYXBlci1tYXRlcmlhbFtlbGV2YXRpb249XCI1XCJdIHtcbiAgICAgICAgQGFwcGx5IC0tcGFwZXItbWF0ZXJpYWwtZWxldmF0aW9uLTU7XG4gICAgICB9XG5cbiAgICAgIC8qIER1cGxpY2F0ZSB0aGUgc3R5bGVzIGJlY2F1c2Ugb2YgaHR0cHM6Ly9naXRodWIuY29tL3dlYmNvbXBvbmVudHMvc2hhZHljc3MvaXNzdWVzLzE5MyAqL1xuICAgICAgOmhvc3Qge1xuICAgICAgICAtLXBhcGVyLW1hdGVyaWFsOiB7XG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICB9O1xuICAgICAgICAtLXBhcGVyLW1hdGVyaWFsLWVsZXZhdGlvbi0xOiB7XG4gICAgICAgICAgQGFwcGx5IC0tc2hhZG93LWVsZXZhdGlvbi0yZHA7XG4gICAgICAgIH07XG4gICAgICAgIC0tcGFwZXItbWF0ZXJpYWwtZWxldmF0aW9uLTI6IHtcbiAgICAgICAgICBAYXBwbHkgLS1zaGFkb3ctZWxldmF0aW9uLTRkcDtcbiAgICAgICAgfTtcbiAgICAgICAgLS1wYXBlci1tYXRlcmlhbC1lbGV2YXRpb24tMzoge1xuICAgICAgICAgIEBhcHBseSAtLXNoYWRvdy1lbGV2YXRpb24tNmRwO1xuICAgICAgICB9O1xuICAgICAgICAtLXBhcGVyLW1hdGVyaWFsLWVsZXZhdGlvbi00OiB7XG4gICAgICAgICAgQGFwcGx5IC0tc2hhZG93LWVsZXZhdGlvbi04ZHA7XG4gICAgICAgIH07XG4gICAgICAgIC0tcGFwZXItbWF0ZXJpYWwtZWxldmF0aW9uLTU6IHtcbiAgICAgICAgICBAYXBwbHkgLS1zaGFkb3ctZWxldmF0aW9uLTE2ZHA7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICA6aG9zdCgucGFwZXItbWF0ZXJpYWwpIHtcbiAgICAgICAgQGFwcGx5IC0tcGFwZXItbWF0ZXJpYWw7XG4gICAgICB9XG4gICAgICA6aG9zdCgucGFwZXItbWF0ZXJpYWxbZWxldmF0aW9uPVwiMVwiXSkge1xuICAgICAgICBAYXBwbHkgLS1wYXBlci1tYXRlcmlhbC1lbGV2YXRpb24tMTtcbiAgICAgIH1cbiAgICAgIDpob3N0KC5wYXBlci1tYXRlcmlhbFtlbGV2YXRpb249XCIyXCJdKSB7XG4gICAgICAgIEBhcHBseSAtLXBhcGVyLW1hdGVyaWFsLWVsZXZhdGlvbi0yO1xuICAgICAgfVxuICAgICAgOmhvc3QoLnBhcGVyLW1hdGVyaWFsW2VsZXZhdGlvbj1cIjNcIl0pIHtcbiAgICAgICAgQGFwcGx5IC0tcGFwZXItbWF0ZXJpYWwtZWxldmF0aW9uLTM7XG4gICAgICB9XG4gICAgICA6aG9zdCgucGFwZXItbWF0ZXJpYWxbZWxldmF0aW9uPVwiNFwiXSkge1xuICAgICAgICBAYXBwbHkgLS1wYXBlci1tYXRlcmlhbC1lbGV2YXRpb24tNDtcbiAgICAgIH1cbiAgICAgIDpob3N0KC5wYXBlci1tYXRlcmlhbFtlbGV2YXRpb249XCI1XCJdKSB7XG4gICAgICAgIEBhcHBseSAtLXBhcGVyLW1hdGVyaWFsLWVsZXZhdGlvbi01O1xuICAgICAgfVxuICAgIDwvc3R5bGU+XG4gIDwvdGVtcGxhdGU+XG48L2RvbS1tb2R1bGU+YDtcbnRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTogbm9uZTsnKTtcbmRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGVtcGxhdGUuY29udGVudCk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTUgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZVxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQgQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXNcbnBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnRcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuaW1wb3J0ICdAcG9seW1lci9wb2x5bWVyL3BvbHltZXItbGVnYWN5LmpzJztcblxuaW1wb3J0IHtodG1sfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9odG1sLXRhZy5qcyc7XG5jb25zdCB0ZW1wbGF0ZSA9IGh0bWxgXG48Y3VzdG9tLXN0eWxlPlxuICA8c3R5bGUgaXM9XCJjdXN0b20tc3R5bGVcIj5cbiAgICBodG1sIHtcblxuICAgICAgLyogTWF0ZXJpYWwgRGVzaWduIGNvbG9yIHBhbGV0dGUgZm9yIEdvb2dsZSBwcm9kdWN0cyAqL1xuXG4gICAgICAtLWdvb2dsZS1yZWQtMTAwOiAjZjRjN2MzO1xuICAgICAgLS1nb29nbGUtcmVkLTMwMDogI2U2N2M3MztcbiAgICAgIC0tZ29vZ2xlLXJlZC01MDA6ICNkYjQ0Mzc7XG4gICAgICAtLWdvb2dsZS1yZWQtNzAwOiAjYzUzOTI5O1xuXG4gICAgICAtLWdvb2dsZS1ibHVlLTEwMDogI2M2ZGFmYztcbiAgICAgIC0tZ29vZ2xlLWJsdWUtMzAwOiAjN2JhYWY3O1xuICAgICAgLS1nb29nbGUtYmx1ZS01MDA6ICM0Mjg1ZjQ7XG4gICAgICAtLWdvb2dsZS1ibHVlLTcwMDogIzMzNjdkNjtcblxuICAgICAgLS1nb29nbGUtZ3JlZW4tMTAwOiAjYjdlMWNkO1xuICAgICAgLS1nb29nbGUtZ3JlZW4tMzAwOiAjNTdiYjhhO1xuICAgICAgLS1nb29nbGUtZ3JlZW4tNTAwOiAjMGY5ZDU4O1xuICAgICAgLS1nb29nbGUtZ3JlZW4tNzAwOiAjMGI4MDQzO1xuXG4gICAgICAtLWdvb2dsZS15ZWxsb3ctMTAwOiAjZmNlOGIyO1xuICAgICAgLS1nb29nbGUteWVsbG93LTMwMDogI2Y3Y2I0ZDtcbiAgICAgIC0tZ29vZ2xlLXllbGxvdy01MDA6ICNmNGI0MDA7XG4gICAgICAtLWdvb2dsZS15ZWxsb3ctNzAwOiAjZjA5MzAwO1xuXG4gICAgICAtLWdvb2dsZS1ncmV5LTEwMDogI2Y1ZjVmNTtcbiAgICAgIC0tZ29vZ2xlLWdyZXktMzAwOiAjZTBlMGUwO1xuICAgICAgLS1nb29nbGUtZ3JleS01MDA6ICM5ZTllOWU7XG4gICAgICAtLWdvb2dsZS1ncmV5LTcwMDogIzYxNjE2MTtcblxuICAgICAgLyogTWF0ZXJpYWwgRGVzaWduIGNvbG9yIHBhbGV0dGUgZnJvbSBvbmxpbmUgc3BlYyBkb2N1bWVudCAqL1xuXG4gICAgICAtLXBhcGVyLXJlZC01MDogI2ZmZWJlZTtcbiAgICAgIC0tcGFwZXItcmVkLTEwMDogI2ZmY2RkMjtcbiAgICAgIC0tcGFwZXItcmVkLTIwMDogI2VmOWE5YTtcbiAgICAgIC0tcGFwZXItcmVkLTMwMDogI2U1NzM3MztcbiAgICAgIC0tcGFwZXItcmVkLTQwMDogI2VmNTM1MDtcbiAgICAgIC0tcGFwZXItcmVkLTUwMDogI2Y0NDMzNjtcbiAgICAgIC0tcGFwZXItcmVkLTYwMDogI2U1MzkzNTtcbiAgICAgIC0tcGFwZXItcmVkLTcwMDogI2QzMmYyZjtcbiAgICAgIC0tcGFwZXItcmVkLTgwMDogI2M2MjgyODtcbiAgICAgIC0tcGFwZXItcmVkLTkwMDogI2I3MWMxYztcbiAgICAgIC0tcGFwZXItcmVkLWExMDA6ICNmZjhhODA7XG4gICAgICAtLXBhcGVyLXJlZC1hMjAwOiAjZmY1MjUyO1xuICAgICAgLS1wYXBlci1yZWQtYTQwMDogI2ZmMTc0NDtcbiAgICAgIC0tcGFwZXItcmVkLWE3MDA6ICNkNTAwMDA7XG5cbiAgICAgIC0tcGFwZXItcGluay01MDogI2ZjZTRlYztcbiAgICAgIC0tcGFwZXItcGluay0xMDA6ICNmOGJiZDA7XG4gICAgICAtLXBhcGVyLXBpbmstMjAwOiAjZjQ4ZmIxO1xuICAgICAgLS1wYXBlci1waW5rLTMwMDogI2YwNjI5MjtcbiAgICAgIC0tcGFwZXItcGluay00MDA6ICNlYzQwN2E7XG4gICAgICAtLXBhcGVyLXBpbmstNTAwOiAjZTkxZTYzO1xuICAgICAgLS1wYXBlci1waW5rLTYwMDogI2Q4MWI2MDtcbiAgICAgIC0tcGFwZXItcGluay03MDA6ICNjMjE4NWI7XG4gICAgICAtLXBhcGVyLXBpbmstODAwOiAjYWQxNDU3O1xuICAgICAgLS1wYXBlci1waW5rLTkwMDogIzg4MGU0ZjtcbiAgICAgIC0tcGFwZXItcGluay1hMTAwOiAjZmY4MGFiO1xuICAgICAgLS1wYXBlci1waW5rLWEyMDA6ICNmZjQwODE7XG4gICAgICAtLXBhcGVyLXBpbmstYTQwMDogI2Y1MDA1NztcbiAgICAgIC0tcGFwZXItcGluay1hNzAwOiAjYzUxMTYyO1xuXG4gICAgICAtLXBhcGVyLXB1cnBsZS01MDogI2YzZTVmNTtcbiAgICAgIC0tcGFwZXItcHVycGxlLTEwMDogI2UxYmVlNztcbiAgICAgIC0tcGFwZXItcHVycGxlLTIwMDogI2NlOTNkODtcbiAgICAgIC0tcGFwZXItcHVycGxlLTMwMDogI2JhNjhjODtcbiAgICAgIC0tcGFwZXItcHVycGxlLTQwMDogI2FiNDdiYztcbiAgICAgIC0tcGFwZXItcHVycGxlLTUwMDogIzljMjdiMDtcbiAgICAgIC0tcGFwZXItcHVycGxlLTYwMDogIzhlMjRhYTtcbiAgICAgIC0tcGFwZXItcHVycGxlLTcwMDogIzdiMWZhMjtcbiAgICAgIC0tcGFwZXItcHVycGxlLTgwMDogIzZhMWI5YTtcbiAgICAgIC0tcGFwZXItcHVycGxlLTkwMDogIzRhMTQ4YztcbiAgICAgIC0tcGFwZXItcHVycGxlLWExMDA6ICNlYTgwZmM7XG4gICAgICAtLXBhcGVyLXB1cnBsZS1hMjAwOiAjZTA0MGZiO1xuICAgICAgLS1wYXBlci1wdXJwbGUtYTQwMDogI2Q1MDBmOTtcbiAgICAgIC0tcGFwZXItcHVycGxlLWE3MDA6ICNhYTAwZmY7XG5cbiAgICAgIC0tcGFwZXItZGVlcC1wdXJwbGUtNTA6ICNlZGU3ZjY7XG4gICAgICAtLXBhcGVyLWRlZXAtcHVycGxlLTEwMDogI2QxYzRlOTtcbiAgICAgIC0tcGFwZXItZGVlcC1wdXJwbGUtMjAwOiAjYjM5ZGRiO1xuICAgICAgLS1wYXBlci1kZWVwLXB1cnBsZS0zMDA6ICM5NTc1Y2Q7XG4gICAgICAtLXBhcGVyLWRlZXAtcHVycGxlLTQwMDogIzdlNTdjMjtcbiAgICAgIC0tcGFwZXItZGVlcC1wdXJwbGUtNTAwOiAjNjczYWI3O1xuICAgICAgLS1wYXBlci1kZWVwLXB1cnBsZS02MDA6ICM1ZTM1YjE7XG4gICAgICAtLXBhcGVyLWRlZXAtcHVycGxlLTcwMDogIzUxMmRhODtcbiAgICAgIC0tcGFwZXItZGVlcC1wdXJwbGUtODAwOiAjNDUyN2EwO1xuICAgICAgLS1wYXBlci1kZWVwLXB1cnBsZS05MDA6ICMzMTFiOTI7XG4gICAgICAtLXBhcGVyLWRlZXAtcHVycGxlLWExMDA6ICNiMzg4ZmY7XG4gICAgICAtLXBhcGVyLWRlZXAtcHVycGxlLWEyMDA6ICM3YzRkZmY7XG4gICAgICAtLXBhcGVyLWRlZXAtcHVycGxlLWE0MDA6ICM2NTFmZmY7XG4gICAgICAtLXBhcGVyLWRlZXAtcHVycGxlLWE3MDA6ICM2MjAwZWE7XG5cbiAgICAgIC0tcGFwZXItaW5kaWdvLTUwOiAjZThlYWY2O1xuICAgICAgLS1wYXBlci1pbmRpZ28tMTAwOiAjYzVjYWU5O1xuICAgICAgLS1wYXBlci1pbmRpZ28tMjAwOiAjOWZhOGRhO1xuICAgICAgLS1wYXBlci1pbmRpZ28tMzAwOiAjNzk4NmNiO1xuICAgICAgLS1wYXBlci1pbmRpZ28tNDAwOiAjNWM2YmMwO1xuICAgICAgLS1wYXBlci1pbmRpZ28tNTAwOiAjM2Y1MWI1O1xuICAgICAgLS1wYXBlci1pbmRpZ28tNjAwOiAjMzk0OWFiO1xuICAgICAgLS1wYXBlci1pbmRpZ28tNzAwOiAjMzAzZjlmO1xuICAgICAgLS1wYXBlci1pbmRpZ28tODAwOiAjMjgzNTkzO1xuICAgICAgLS1wYXBlci1pbmRpZ28tOTAwOiAjMWEyMzdlO1xuICAgICAgLS1wYXBlci1pbmRpZ28tYTEwMDogIzhjOWVmZjtcbiAgICAgIC0tcGFwZXItaW5kaWdvLWEyMDA6ICM1MzZkZmU7XG4gICAgICAtLXBhcGVyLWluZGlnby1hNDAwOiAjM2Q1YWZlO1xuICAgICAgLS1wYXBlci1pbmRpZ28tYTcwMDogIzMwNGZmZTtcblxuICAgICAgLS1wYXBlci1ibHVlLTUwOiAjZTNmMmZkO1xuICAgICAgLS1wYXBlci1ibHVlLTEwMDogI2JiZGVmYjtcbiAgICAgIC0tcGFwZXItYmx1ZS0yMDA6ICM5MGNhZjk7XG4gICAgICAtLXBhcGVyLWJsdWUtMzAwOiAjNjRiNWY2O1xuICAgICAgLS1wYXBlci1ibHVlLTQwMDogIzQyYTVmNTtcbiAgICAgIC0tcGFwZXItYmx1ZS01MDA6ICMyMTk2ZjM7XG4gICAgICAtLXBhcGVyLWJsdWUtNjAwOiAjMWU4OGU1O1xuICAgICAgLS1wYXBlci1ibHVlLTcwMDogIzE5NzZkMjtcbiAgICAgIC0tcGFwZXItYmx1ZS04MDA6ICMxNTY1YzA7XG4gICAgICAtLXBhcGVyLWJsdWUtOTAwOiAjMGQ0N2ExO1xuICAgICAgLS1wYXBlci1ibHVlLWExMDA6ICM4MmIxZmY7XG4gICAgICAtLXBhcGVyLWJsdWUtYTIwMDogIzQ0OGFmZjtcbiAgICAgIC0tcGFwZXItYmx1ZS1hNDAwOiAjMjk3OWZmO1xuICAgICAgLS1wYXBlci1ibHVlLWE3MDA6ICMyOTYyZmY7XG5cbiAgICAgIC0tcGFwZXItbGlnaHQtYmx1ZS01MDogI2UxZjVmZTtcbiAgICAgIC0tcGFwZXItbGlnaHQtYmx1ZS0xMDA6ICNiM2U1ZmM7XG4gICAgICAtLXBhcGVyLWxpZ2h0LWJsdWUtMjAwOiAjODFkNGZhO1xuICAgICAgLS1wYXBlci1saWdodC1ibHVlLTMwMDogIzRmYzNmNztcbiAgICAgIC0tcGFwZXItbGlnaHQtYmx1ZS00MDA6ICMyOWI2ZjY7XG4gICAgICAtLXBhcGVyLWxpZ2h0LWJsdWUtNTAwOiAjMDNhOWY0O1xuICAgICAgLS1wYXBlci1saWdodC1ibHVlLTYwMDogIzAzOWJlNTtcbiAgICAgIC0tcGFwZXItbGlnaHQtYmx1ZS03MDA6ICMwMjg4ZDE7XG4gICAgICAtLXBhcGVyLWxpZ2h0LWJsdWUtODAwOiAjMDI3N2JkO1xuICAgICAgLS1wYXBlci1saWdodC1ibHVlLTkwMDogIzAxNTc5YjtcbiAgICAgIC0tcGFwZXItbGlnaHQtYmx1ZS1hMTAwOiAjODBkOGZmO1xuICAgICAgLS1wYXBlci1saWdodC1ibHVlLWEyMDA6ICM0MGM0ZmY7XG4gICAgICAtLXBhcGVyLWxpZ2h0LWJsdWUtYTQwMDogIzAwYjBmZjtcbiAgICAgIC0tcGFwZXItbGlnaHQtYmx1ZS1hNzAwOiAjMDA5MWVhO1xuXG4gICAgICAtLXBhcGVyLWN5YW4tNTA6ICNlMGY3ZmE7XG4gICAgICAtLXBhcGVyLWN5YW4tMTAwOiAjYjJlYmYyO1xuICAgICAgLS1wYXBlci1jeWFuLTIwMDogIzgwZGVlYTtcbiAgICAgIC0tcGFwZXItY3lhbi0zMDA6ICM0ZGQwZTE7XG4gICAgICAtLXBhcGVyLWN5YW4tNDAwOiAjMjZjNmRhO1xuICAgICAgLS1wYXBlci1jeWFuLTUwMDogIzAwYmNkNDtcbiAgICAgIC0tcGFwZXItY3lhbi02MDA6ICMwMGFjYzE7XG4gICAgICAtLXBhcGVyLWN5YW4tNzAwOiAjMDA5N2E3O1xuICAgICAgLS1wYXBlci1jeWFuLTgwMDogIzAwODM4ZjtcbiAgICAgIC0tcGFwZXItY3lhbi05MDA6ICMwMDYwNjQ7XG4gICAgICAtLXBhcGVyLWN5YW4tYTEwMDogIzg0ZmZmZjtcbiAgICAgIC0tcGFwZXItY3lhbi1hMjAwOiAjMThmZmZmO1xuICAgICAgLS1wYXBlci1jeWFuLWE0MDA6ICMwMGU1ZmY7XG4gICAgICAtLXBhcGVyLWN5YW4tYTcwMDogIzAwYjhkNDtcblxuICAgICAgLS1wYXBlci10ZWFsLTUwOiAjZTBmMmYxO1xuICAgICAgLS1wYXBlci10ZWFsLTEwMDogI2IyZGZkYjtcbiAgICAgIC0tcGFwZXItdGVhbC0yMDA6ICM4MGNiYzQ7XG4gICAgICAtLXBhcGVyLXRlYWwtMzAwOiAjNGRiNmFjO1xuICAgICAgLS1wYXBlci10ZWFsLTQwMDogIzI2YTY5YTtcbiAgICAgIC0tcGFwZXItdGVhbC01MDA6ICMwMDk2ODg7XG4gICAgICAtLXBhcGVyLXRlYWwtNjAwOiAjMDA4OTdiO1xuICAgICAgLS1wYXBlci10ZWFsLTcwMDogIzAwNzk2YjtcbiAgICAgIC0tcGFwZXItdGVhbC04MDA6ICMwMDY5NWM7XG4gICAgICAtLXBhcGVyLXRlYWwtOTAwOiAjMDA0ZDQwO1xuICAgICAgLS1wYXBlci10ZWFsLWExMDA6ICNhN2ZmZWI7XG4gICAgICAtLXBhcGVyLXRlYWwtYTIwMDogIzY0ZmZkYTtcbiAgICAgIC0tcGFwZXItdGVhbC1hNDAwOiAjMWRlOWI2O1xuICAgICAgLS1wYXBlci10ZWFsLWE3MDA6ICMwMGJmYTU7XG5cbiAgICAgIC0tcGFwZXItZ3JlZW4tNTA6ICNlOGY1ZTk7XG4gICAgICAtLXBhcGVyLWdyZWVuLTEwMDogI2M4ZTZjOTtcbiAgICAgIC0tcGFwZXItZ3JlZW4tMjAwOiAjYTVkNmE3O1xuICAgICAgLS1wYXBlci1ncmVlbi0zMDA6ICM4MWM3ODQ7XG4gICAgICAtLXBhcGVyLWdyZWVuLTQwMDogIzY2YmI2YTtcbiAgICAgIC0tcGFwZXItZ3JlZW4tNTAwOiAjNGNhZjUwO1xuICAgICAgLS1wYXBlci1ncmVlbi02MDA6ICM0M2EwNDc7XG4gICAgICAtLXBhcGVyLWdyZWVuLTcwMDogIzM4OGUzYztcbiAgICAgIC0tcGFwZXItZ3JlZW4tODAwOiAjMmU3ZDMyO1xuICAgICAgLS1wYXBlci1ncmVlbi05MDA6ICMxYjVlMjA7XG4gICAgICAtLXBhcGVyLWdyZWVuLWExMDA6ICNiOWY2Y2E7XG4gICAgICAtLXBhcGVyLWdyZWVuLWEyMDA6ICM2OWYwYWU7XG4gICAgICAtLXBhcGVyLWdyZWVuLWE0MDA6ICMwMGU2NzY7XG4gICAgICAtLXBhcGVyLWdyZWVuLWE3MDA6ICMwMGM4NTM7XG5cbiAgICAgIC0tcGFwZXItbGlnaHQtZ3JlZW4tNTA6ICNmMWY4ZTk7XG4gICAgICAtLXBhcGVyLWxpZ2h0LWdyZWVuLTEwMDogI2RjZWRjODtcbiAgICAgIC0tcGFwZXItbGlnaHQtZ3JlZW4tMjAwOiAjYzVlMWE1O1xuICAgICAgLS1wYXBlci1saWdodC1ncmVlbi0zMDA6ICNhZWQ1ODE7XG4gICAgICAtLXBhcGVyLWxpZ2h0LWdyZWVuLTQwMDogIzljY2M2NTtcbiAgICAgIC0tcGFwZXItbGlnaHQtZ3JlZW4tNTAwOiAjOGJjMzRhO1xuICAgICAgLS1wYXBlci1saWdodC1ncmVlbi02MDA6ICM3Y2IzNDI7XG4gICAgICAtLXBhcGVyLWxpZ2h0LWdyZWVuLTcwMDogIzY4OWYzODtcbiAgICAgIC0tcGFwZXItbGlnaHQtZ3JlZW4tODAwOiAjNTU4YjJmO1xuICAgICAgLS1wYXBlci1saWdodC1ncmVlbi05MDA6ICMzMzY5MWU7XG4gICAgICAtLXBhcGVyLWxpZ2h0LWdyZWVuLWExMDA6ICNjY2ZmOTA7XG4gICAgICAtLXBhcGVyLWxpZ2h0LWdyZWVuLWEyMDA6ICNiMmZmNTk7XG4gICAgICAtLXBhcGVyLWxpZ2h0LWdyZWVuLWE0MDA6ICM3NmZmMDM7XG4gICAgICAtLXBhcGVyLWxpZ2h0LWdyZWVuLWE3MDA6ICM2NGRkMTc7XG5cbiAgICAgIC0tcGFwZXItbGltZS01MDogI2Y5ZmJlNztcbiAgICAgIC0tcGFwZXItbGltZS0xMDA6ICNmMGY0YzM7XG4gICAgICAtLXBhcGVyLWxpbWUtMjAwOiAjZTZlZTljO1xuICAgICAgLS1wYXBlci1saW1lLTMwMDogI2RjZTc3NTtcbiAgICAgIC0tcGFwZXItbGltZS00MDA6ICNkNGUxNTc7XG4gICAgICAtLXBhcGVyLWxpbWUtNTAwOiAjY2RkYzM5O1xuICAgICAgLS1wYXBlci1saW1lLTYwMDogI2MwY2EzMztcbiAgICAgIC0tcGFwZXItbGltZS03MDA6ICNhZmI0MmI7XG4gICAgICAtLXBhcGVyLWxpbWUtODAwOiAjOWU5ZDI0O1xuICAgICAgLS1wYXBlci1saW1lLTkwMDogIzgyNzcxNztcbiAgICAgIC0tcGFwZXItbGltZS1hMTAwOiAjZjRmZjgxO1xuICAgICAgLS1wYXBlci1saW1lLWEyMDA6ICNlZWZmNDE7XG4gICAgICAtLXBhcGVyLWxpbWUtYTQwMDogI2M2ZmYwMDtcbiAgICAgIC0tcGFwZXItbGltZS1hNzAwOiAjYWVlYTAwO1xuXG4gICAgICAtLXBhcGVyLXllbGxvdy01MDogI2ZmZmRlNztcbiAgICAgIC0tcGFwZXIteWVsbG93LTEwMDogI2ZmZjljNDtcbiAgICAgIC0tcGFwZXIteWVsbG93LTIwMDogI2ZmZjU5ZDtcbiAgICAgIC0tcGFwZXIteWVsbG93LTMwMDogI2ZmZjE3NjtcbiAgICAgIC0tcGFwZXIteWVsbG93LTQwMDogI2ZmZWU1ODtcbiAgICAgIC0tcGFwZXIteWVsbG93LTUwMDogI2ZmZWIzYjtcbiAgICAgIC0tcGFwZXIteWVsbG93LTYwMDogI2ZkZDgzNTtcbiAgICAgIC0tcGFwZXIteWVsbG93LTcwMDogI2ZiYzAyZDtcbiAgICAgIC0tcGFwZXIteWVsbG93LTgwMDogI2Y5YTgyNTtcbiAgICAgIC0tcGFwZXIteWVsbG93LTkwMDogI2Y1N2YxNztcbiAgICAgIC0tcGFwZXIteWVsbG93LWExMDA6ICNmZmZmOGQ7XG4gICAgICAtLXBhcGVyLXllbGxvdy1hMjAwOiAjZmZmZjAwO1xuICAgICAgLS1wYXBlci15ZWxsb3ctYTQwMDogI2ZmZWEwMDtcbiAgICAgIC0tcGFwZXIteWVsbG93LWE3MDA6ICNmZmQ2MDA7XG5cbiAgICAgIC0tcGFwZXItYW1iZXItNTA6ICNmZmY4ZTE7XG4gICAgICAtLXBhcGVyLWFtYmVyLTEwMDogI2ZmZWNiMztcbiAgICAgIC0tcGFwZXItYW1iZXItMjAwOiAjZmZlMDgyO1xuICAgICAgLS1wYXBlci1hbWJlci0zMDA6ICNmZmQ1NGY7XG4gICAgICAtLXBhcGVyLWFtYmVyLTQwMDogI2ZmY2EyODtcbiAgICAgIC0tcGFwZXItYW1iZXItNTAwOiAjZmZjMTA3O1xuICAgICAgLS1wYXBlci1hbWJlci02MDA6ICNmZmIzMDA7XG4gICAgICAtLXBhcGVyLWFtYmVyLTcwMDogI2ZmYTAwMDtcbiAgICAgIC0tcGFwZXItYW1iZXItODAwOiAjZmY4ZjAwO1xuICAgICAgLS1wYXBlci1hbWJlci05MDA6ICNmZjZmMDA7XG4gICAgICAtLXBhcGVyLWFtYmVyLWExMDA6ICNmZmU1N2Y7XG4gICAgICAtLXBhcGVyLWFtYmVyLWEyMDA6ICNmZmQ3NDA7XG4gICAgICAtLXBhcGVyLWFtYmVyLWE0MDA6ICNmZmM0MDA7XG4gICAgICAtLXBhcGVyLWFtYmVyLWE3MDA6ICNmZmFiMDA7XG5cbiAgICAgIC0tcGFwZXItb3JhbmdlLTUwOiAjZmZmM2UwO1xuICAgICAgLS1wYXBlci1vcmFuZ2UtMTAwOiAjZmZlMGIyO1xuICAgICAgLS1wYXBlci1vcmFuZ2UtMjAwOiAjZmZjYzgwO1xuICAgICAgLS1wYXBlci1vcmFuZ2UtMzAwOiAjZmZiNzRkO1xuICAgICAgLS1wYXBlci1vcmFuZ2UtNDAwOiAjZmZhNzI2O1xuICAgICAgLS1wYXBlci1vcmFuZ2UtNTAwOiAjZmY5ODAwO1xuICAgICAgLS1wYXBlci1vcmFuZ2UtNjAwOiAjZmI4YzAwO1xuICAgICAgLS1wYXBlci1vcmFuZ2UtNzAwOiAjZjU3YzAwO1xuICAgICAgLS1wYXBlci1vcmFuZ2UtODAwOiAjZWY2YzAwO1xuICAgICAgLS1wYXBlci1vcmFuZ2UtOTAwOiAjZTY1MTAwO1xuICAgICAgLS1wYXBlci1vcmFuZ2UtYTEwMDogI2ZmZDE4MDtcbiAgICAgIC0tcGFwZXItb3JhbmdlLWEyMDA6ICNmZmFiNDA7XG4gICAgICAtLXBhcGVyLW9yYW5nZS1hNDAwOiAjZmY5MTAwO1xuICAgICAgLS1wYXBlci1vcmFuZ2UtYTcwMDogI2ZmNjUwMDtcblxuICAgICAgLS1wYXBlci1kZWVwLW9yYW5nZS01MDogI2ZiZTllNztcbiAgICAgIC0tcGFwZXItZGVlcC1vcmFuZ2UtMTAwOiAjZmZjY2JjO1xuICAgICAgLS1wYXBlci1kZWVwLW9yYW5nZS0yMDA6ICNmZmFiOTE7XG4gICAgICAtLXBhcGVyLWRlZXAtb3JhbmdlLTMwMDogI2ZmOGE2NTtcbiAgICAgIC0tcGFwZXItZGVlcC1vcmFuZ2UtNDAwOiAjZmY3MDQzO1xuICAgICAgLS1wYXBlci1kZWVwLW9yYW5nZS01MDA6ICNmZjU3MjI7XG4gICAgICAtLXBhcGVyLWRlZXAtb3JhbmdlLTYwMDogI2Y0NTExZTtcbiAgICAgIC0tcGFwZXItZGVlcC1vcmFuZ2UtNzAwOiAjZTY0YTE5O1xuICAgICAgLS1wYXBlci1kZWVwLW9yYW5nZS04MDA6ICNkODQzMTU7XG4gICAgICAtLXBhcGVyLWRlZXAtb3JhbmdlLTkwMDogI2JmMzYwYztcbiAgICAgIC0tcGFwZXItZGVlcC1vcmFuZ2UtYTEwMDogI2ZmOWU4MDtcbiAgICAgIC0tcGFwZXItZGVlcC1vcmFuZ2UtYTIwMDogI2ZmNmU0MDtcbiAgICAgIC0tcGFwZXItZGVlcC1vcmFuZ2UtYTQwMDogI2ZmM2QwMDtcbiAgICAgIC0tcGFwZXItZGVlcC1vcmFuZ2UtYTcwMDogI2RkMmMwMDtcblxuICAgICAgLS1wYXBlci1icm93bi01MDogI2VmZWJlOTtcbiAgICAgIC0tcGFwZXItYnJvd24tMTAwOiAjZDdjY2M4O1xuICAgICAgLS1wYXBlci1icm93bi0yMDA6ICNiY2FhYTQ7XG4gICAgICAtLXBhcGVyLWJyb3duLTMwMDogI2ExODg3ZjtcbiAgICAgIC0tcGFwZXItYnJvd24tNDAwOiAjOGQ2ZTYzO1xuICAgICAgLS1wYXBlci1icm93bi01MDA6ICM3OTU1NDg7XG4gICAgICAtLXBhcGVyLWJyb3duLTYwMDogIzZkNGM0MTtcbiAgICAgIC0tcGFwZXItYnJvd24tNzAwOiAjNWQ0MDM3O1xuICAgICAgLS1wYXBlci1icm93bi04MDA6ICM0ZTM0MmU7XG4gICAgICAtLXBhcGVyLWJyb3duLTkwMDogIzNlMjcyMztcblxuICAgICAgLS1wYXBlci1ncmV5LTUwOiAjZmFmYWZhO1xuICAgICAgLS1wYXBlci1ncmV5LTEwMDogI2Y1ZjVmNTtcbiAgICAgIC0tcGFwZXItZ3JleS0yMDA6ICNlZWVlZWU7XG4gICAgICAtLXBhcGVyLWdyZXktMzAwOiAjZTBlMGUwO1xuICAgICAgLS1wYXBlci1ncmV5LTQwMDogI2JkYmRiZDtcbiAgICAgIC0tcGFwZXItZ3JleS01MDA6ICM5ZTllOWU7XG4gICAgICAtLXBhcGVyLWdyZXktNjAwOiAjNzU3NTc1O1xuICAgICAgLS1wYXBlci1ncmV5LTcwMDogIzYxNjE2MTtcbiAgICAgIC0tcGFwZXItZ3JleS04MDA6ICM0MjQyNDI7XG4gICAgICAtLXBhcGVyLWdyZXktOTAwOiAjMjEyMTIxO1xuXG4gICAgICAtLXBhcGVyLWJsdWUtZ3JleS01MDogI2VjZWZmMTtcbiAgICAgIC0tcGFwZXItYmx1ZS1ncmV5LTEwMDogI2NmZDhkYztcbiAgICAgIC0tcGFwZXItYmx1ZS1ncmV5LTIwMDogI2IwYmVjNTtcbiAgICAgIC0tcGFwZXItYmx1ZS1ncmV5LTMwMDogIzkwYTRhZTtcbiAgICAgIC0tcGFwZXItYmx1ZS1ncmV5LTQwMDogIzc4OTA5YztcbiAgICAgIC0tcGFwZXItYmx1ZS1ncmV5LTUwMDogIzYwN2Q4YjtcbiAgICAgIC0tcGFwZXItYmx1ZS1ncmV5LTYwMDogIzU0NmU3YTtcbiAgICAgIC0tcGFwZXItYmx1ZS1ncmV5LTcwMDogIzQ1NWE2NDtcbiAgICAgIC0tcGFwZXItYmx1ZS1ncmV5LTgwMDogIzM3NDc0ZjtcbiAgICAgIC0tcGFwZXItYmx1ZS1ncmV5LTkwMDogIzI2MzIzODtcblxuICAgICAgLyogb3BhY2l0eSBmb3IgZGFyayB0ZXh0IG9uIGEgbGlnaHQgYmFja2dyb3VuZCAqL1xuICAgICAgLS1kYXJrLWRpdmlkZXItb3BhY2l0eTogMC4xMjtcbiAgICAgIC0tZGFyay1kaXNhYmxlZC1vcGFjaXR5OiAwLjM4OyAvKiBvciBoaW50IHRleHQgb3IgaWNvbiAqL1xuICAgICAgLS1kYXJrLXNlY29uZGFyeS1vcGFjaXR5OiAwLjU0O1xuICAgICAgLS1kYXJrLXByaW1hcnktb3BhY2l0eTogMC44NztcblxuICAgICAgLyogb3BhY2l0eSBmb3IgbGlnaHQgdGV4dCBvbiBhIGRhcmsgYmFja2dyb3VuZCAqL1xuICAgICAgLS1saWdodC1kaXZpZGVyLW9wYWNpdHk6IDAuMTI7XG4gICAgICAtLWxpZ2h0LWRpc2FibGVkLW9wYWNpdHk6IDAuMzsgLyogb3IgaGludCB0ZXh0IG9yIGljb24gKi9cbiAgICAgIC0tbGlnaHQtc2Vjb25kYXJ5LW9wYWNpdHk6IDAuNztcbiAgICAgIC0tbGlnaHQtcHJpbWFyeS1vcGFjaXR5OiAxLjA7XG5cbiAgICB9XG5cbiAgPC9zdHlsZT5cbjwvY3VzdG9tLXN0eWxlPlxuYDtcbnRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTogbm9uZTsnKTtcbmRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGVtcGxhdGUuY29udGVudCk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTUgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZVxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQgQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXNcbnBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnRcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbi8qIFRha2VuIGZyb21cbiAqIGh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vZGVzaWduL3NwZWMvc3R5bGUvY29sb3IuaHRtbCNjb2xvci11aS1jb2xvci1hcHBsaWNhdGlvblxuICovXG5pbXBvcnQgJ0Bwb2x5bWVyL3BvbHltZXIvcG9seW1lci1sZWdhY3kuanMnO1xuaW1wb3J0ICcuL2NvbG9yLmpzJztcblxuaW1wb3J0IHtodG1sfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9odG1sLXRhZy5qcyc7XG5jb25zdCB0ZW1wbGF0ZSA9IGh0bWxgXG48Y3VzdG9tLXN0eWxlPlxuICA8c3R5bGUgaXM9XCJjdXN0b20tc3R5bGVcIj5cbiAgICBodG1sIHtcbiAgICAgIC8qXG4gICAgICAgKiBZb3UgY2FuIHVzZSB0aGVzZSBnZW5lcmljIHZhcmlhYmxlcyBpbiB5b3VyIGVsZW1lbnRzIGZvciBlYXN5IHRoZW1pbmcuXG4gICAgICAgKiBGb3IgZXhhbXBsZSwgaWYgYWxsIHlvdXIgZWxlbWVudHMgdXNlIFxcYC0tcHJpbWFyeS10ZXh0LWNvbG9yXFxgIGFzIGl0cyBtYWluXG4gICAgICAgKiBjb2xvciwgdGhlbiBzd2l0Y2hpbmcgZnJvbSBhIGxpZ2h0IHRvIGEgZGFyayB0aGVtZSBpcyBqdXN0IGEgbWF0dGVyIG9mXG4gICAgICAgKiBjaGFuZ2luZyB0aGUgdmFsdWUgb2YgXFxgLS1wcmltYXJ5LXRleHQtY29sb3JcXGAgaW4geW91ciBhcHBsaWNhdGlvbi5cbiAgICAgICAqL1xuICAgICAgLS1wcmltYXJ5LXRleHQtY29sb3I6IHZhcigtLWxpZ2h0LXRoZW1lLXRleHQtY29sb3IpO1xuICAgICAgLS1wcmltYXJ5LWJhY2tncm91bmQtY29sb3I6IHZhcigtLWxpZ2h0LXRoZW1lLWJhY2tncm91bmQtY29sb3IpO1xuICAgICAgLS1zZWNvbmRhcnktdGV4dC1jb2xvcjogdmFyKC0tbGlnaHQtdGhlbWUtc2Vjb25kYXJ5LWNvbG9yKTtcbiAgICAgIC0tZGlzYWJsZWQtdGV4dC1jb2xvcjogdmFyKC0tbGlnaHQtdGhlbWUtZGlzYWJsZWQtY29sb3IpO1xuICAgICAgLS1kaXZpZGVyLWNvbG9yOiB2YXIoLS1saWdodC10aGVtZS1kaXZpZGVyLWNvbG9yKTtcbiAgICAgIC0tZXJyb3ItY29sb3I6IHZhcigtLXBhcGVyLWRlZXAtb3JhbmdlLWE3MDApO1xuXG4gICAgICAvKlxuICAgICAgICogUHJpbWFyeSBhbmQgYWNjZW50IGNvbG9ycy4gQWxzbyBzZWUgY29sb3IuanMgZm9yIG1vcmUgY29sb3JzLlxuICAgICAgICovXG4gICAgICAtLXByaW1hcnktY29sb3I6IHZhcigtLXBhcGVyLWluZGlnby01MDApO1xuICAgICAgLS1saWdodC1wcmltYXJ5LWNvbG9yOiB2YXIoLS1wYXBlci1pbmRpZ28tMTAwKTtcbiAgICAgIC0tZGFyay1wcmltYXJ5LWNvbG9yOiB2YXIoLS1wYXBlci1pbmRpZ28tNzAwKTtcblxuICAgICAgLS1hY2NlbnQtY29sb3I6IHZhcigtLXBhcGVyLXBpbmstYTIwMCk7XG4gICAgICAtLWxpZ2h0LWFjY2VudC1jb2xvcjogdmFyKC0tcGFwZXItcGluay1hMTAwKTtcbiAgICAgIC0tZGFyay1hY2NlbnQtY29sb3I6IHZhcigtLXBhcGVyLXBpbmstYTQwMCk7XG5cblxuICAgICAgLypcbiAgICAgICAqIE1hdGVyaWFsIERlc2lnbiBMaWdodCBiYWNrZ3JvdW5kIHRoZW1lXG4gICAgICAgKi9cbiAgICAgIC0tbGlnaHQtdGhlbWUtYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcbiAgICAgIC0tbGlnaHQtdGhlbWUtYmFzZS1jb2xvcjogIzAwMDAwMDtcbiAgICAgIC0tbGlnaHQtdGhlbWUtdGV4dC1jb2xvcjogdmFyKC0tcGFwZXItZ3JleS05MDApO1xuICAgICAgLS1saWdodC10aGVtZS1zZWNvbmRhcnktY29sb3I6ICM3MzczNzM7ICAvKiBmb3Igc2Vjb25kYXJ5IHRleHQgYW5kIGljb25zICovXG4gICAgICAtLWxpZ2h0LXRoZW1lLWRpc2FibGVkLWNvbG9yOiAjOWI5YjliOyAgLyogZGlzYWJsZWQvaGludCB0ZXh0ICovXG4gICAgICAtLWxpZ2h0LXRoZW1lLWRpdmlkZXItY29sb3I6ICNkYmRiZGI7XG5cbiAgICAgIC8qXG4gICAgICAgKiBNYXRlcmlhbCBEZXNpZ24gRGFyayBiYWNrZ3JvdW5kIHRoZW1lXG4gICAgICAgKi9cbiAgICAgIC0tZGFyay10aGVtZS1iYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wYXBlci1ncmV5LTkwMCk7XG4gICAgICAtLWRhcmstdGhlbWUtYmFzZS1jb2xvcjogI2ZmZmZmZjtcbiAgICAgIC0tZGFyay10aGVtZS10ZXh0LWNvbG9yOiAjZmZmZmZmO1xuICAgICAgLS1kYXJrLXRoZW1lLXNlY29uZGFyeS1jb2xvcjogI2JjYmNiYzsgIC8qIGZvciBzZWNvbmRhcnkgdGV4dCBhbmQgaWNvbnMgKi9cbiAgICAgIC0tZGFyay10aGVtZS1kaXNhYmxlZC1jb2xvcjogIzY0NjQ2NDsgIC8qIGRpc2FibGVkL2hpbnQgdGV4dCAqL1xuICAgICAgLS1kYXJrLXRoZW1lLWRpdmlkZXItY29sb3I6ICMzYzNjM2M7XG5cbiAgICAgIC8qXG4gICAgICAgKiBEZXByZWNhdGVkIHZhbHVlcyBiZWNhdXNlIG9mIHRoZWlyIGNvbmZ1c2luZyBuYW1lcy5cbiAgICAgICAqL1xuICAgICAgLS10ZXh0LXByaW1hcnktY29sb3I6IHZhcigtLWRhcmstdGhlbWUtdGV4dC1jb2xvcik7XG4gICAgICAtLWRlZmF1bHQtcHJpbWFyeS1jb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7XG4gICAgfVxuICA8L3N0eWxlPlxuPC9jdXN0b20tc3R5bGU+YDtcbnRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTogbm9uZTsnKTtcbmRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGVtcGxhdGUuY29udGVudCk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTUgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZVxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQgQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXNcbnBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnRcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnQHBvbHltZXIvcG9seW1lci9wb2x5bWVyLWxlZ2FjeS5qcyc7XG5cbmltcG9ydCAnQHBvbHltZXIvaXJvbi1mbGV4LWxheW91dC9pcm9uLWZsZXgtbGF5b3V0LmpzJztcbmltcG9ydCAnQHBvbHltZXIvaXJvbi1pbWFnZS9pcm9uLWltYWdlLmpzJztcbmltcG9ydCAnQHBvbHltZXIvcGFwZXItc3R5bGVzL2VsZW1lbnQtc3R5bGVzL3BhcGVyLW1hdGVyaWFsLXN0eWxlcy5qcyc7XG5pbXBvcnQgJ0Bwb2x5bWVyL3BhcGVyLXN0eWxlcy9kZWZhdWx0LXRoZW1lLmpzJztcbmltcG9ydCB7UG9seW1lcn0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvbGVnYWN5L3BvbHltZXItZm4uanMnO1xuaW1wb3J0IHtodG1sfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9odG1sLXRhZy5qcyc7XG5cbi8qKlxuTWF0ZXJpYWwgZGVzaWduOlxuW0NhcmRzXShodHRwczovL3d3dy5nb29nbGUuY29tL2Rlc2lnbi9zcGVjL2NvbXBvbmVudHMvY2FyZHMuaHRtbClcblxuYHBhcGVyLWNhcmRgIGlzIGEgY29udGFpbmVyIHdpdGggYSBkcm9wIHNoYWRvdy5cblxuRXhhbXBsZTpcblxuICAgIDxwYXBlci1jYXJkIGhlYWRpbmc9XCJDYXJkIFRpdGxlXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1jb250ZW50XCI+U29tZSBjb250ZW50PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1hY3Rpb25zXCI+XG4gICAgICAgIDxwYXBlci1idXR0b24+U29tZSBhY3Rpb248L3BhcGVyLWJ1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvcGFwZXItY2FyZD5cblxuRXhhbXBsZSAtIHRvcCBjYXJkIGltYWdlOlxuXG4gICAgPHBhcGVyLWNhcmQgaGVhZGluZz1cIkNhcmQgVGl0bGVcIiBpbWFnZT1cIi9wYXRoL3RvL2ltYWdlLnBuZ1wiIGFsdD1cImltYWdlXCI+XG4gICAgICAuLi5cbiAgICA8L3BhcGVyLWNhcmQ+XG5cbiMjIyBBY2Nlc3NpYmlsaXR5XG5cbkJ5IGRlZmF1bHQsIHRoZSBgYXJpYS1sYWJlbGAgd2lsbCBiZSBzZXQgdG8gdGhlIHZhbHVlIG9mIHRoZSBgaGVhZGluZ2BcbmF0dHJpYnV0ZS5cblxuIyMjIFN0eWxpbmdcblxuVGhlIGZvbGxvd2luZyBjdXN0b20gcHJvcGVydGllcyBhbmQgbWl4aW5zIGFyZSBhdmFpbGFibGUgZm9yIHN0eWxpbmc6XG5cbkN1c3RvbSBwcm9wZXJ0eSB8IERlc2NyaXB0aW9uIHwgRGVmYXVsdFxuLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS1cbmAtLXBhcGVyLWNhcmQtYmFja2dyb3VuZC1jb2xvcmAgfCBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgY2FyZCB8IGAtLXByaW1hcnktYmFja2dyb3VuZC1jb2xvcmBcbmAtLXBhcGVyLWNhcmQtaGVhZGVyLWNvbG9yYCB8IFRoZSBjb2xvciBvZiB0aGUgaGVhZGVyIHRleHQgfCBgIzAwMGBcbmAtLXBhcGVyLWNhcmQtaGVhZGVyYCB8IE1peGluIGFwcGxpZWQgdG8gdGhlIGNhcmQgaGVhZGVyIHNlY3Rpb24gfCBge31gXG5gLS1wYXBlci1jYXJkLWhlYWRlci10ZXh0YCB8IE1peGluIGFwcGxpZWQgdG8gdGhlIHRpdGxlIGluIHRoZSBjYXJkIGhlYWRlciBzZWN0aW9uIHwgYHt9YFxuYC0tcGFwZXItY2FyZC1oZWFkZXItaW1hZ2VgIHwgTWl4aW4gYXBwbGllZCB0byB0aGUgaW1hZ2UgaW4gdGhlIGNhcmQgaGVhZGVyIHNlY3Rpb24gfCBge31gXG5gLS1wYXBlci1jYXJkLWhlYWRlci1pbWFnZS10ZXh0YCB8IE1peGluIGFwcGxpZWQgdG8gdGhlIHRleHQgb3ZlcmxhcHBpbmcgdGhlIGltYWdlIGluIHRoZSBjYXJkIGhlYWRlciBzZWN0aW9uIHwgYHt9YFxuYC0tcGFwZXItY2FyZC1jb250ZW50YCB8IE1peGluIGFwcGxpZWQgdG8gdGhlIGNhcmQgY29udGVudCBzZWN0aW9ufCBge31gXG5gLS1wYXBlci1jYXJkLWFjdGlvbnNgIHwgTWl4aW4gYXBwbGllZCB0byB0aGUgY2FyZCBhY3Rpb24gc2VjdGlvbiB8IGB7fWBcbmAtLXBhcGVyLWNhcmRgIHwgTWl4aW4gYXBwbGllZCB0byB0aGUgY2FyZCB8IGB7fWBcblxuQGdyb3VwIFBhcGVyIEVsZW1lbnRzXG5AZWxlbWVudCBwYXBlci1jYXJkXG5AZGVtbyBkZW1vL2luZGV4Lmh0bWxcbiovXG5Qb2x5bWVyKHtcbiAgX3RlbXBsYXRlOiBodG1sYFxuICAgIDxzdHlsZSBpbmNsdWRlPVwicGFwZXItbWF0ZXJpYWwtc3R5bGVzXCI+XG4gICAgICA6aG9zdCB7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wYXBlci1jYXJkLWJhY2tncm91bmQtY29sb3IsIHZhcigtLXByaW1hcnktYmFja2dyb3VuZC1jb2xvcikpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7XG5cbiAgICAgICAgQGFwcGx5IC0tcGFwZXItZm9udC1jb21tb24tYmFzZTtcbiAgICAgICAgQGFwcGx5IC0tcGFwZXItY2FyZDtcbiAgICAgIH1cblxuICAgICAgLyogSUUgMTAgc3VwcG9ydCBmb3IgSFRNTDUgaGlkZGVuIGF0dHIgKi9cbiAgICAgIDpob3N0KFtoaWRkZW5dKSwgW2hpZGRlbl0ge1xuICAgICAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XG4gICAgICB9XG5cbiAgICAgIC5oZWFkZXIge1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IGluaGVyaXQ7XG4gICAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiBpbmhlcml0O1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuXG4gICAgICAgIEBhcHBseSAtLXBhcGVyLWNhcmQtaGVhZGVyO1xuICAgICAgfVxuXG4gICAgICAuaGVhZGVyIGlyb24taW1hZ2Uge1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIC0taXJvbi1pbWFnZS13aWR0aDogMTAwJTtcbiAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG5cbiAgICAgICAgQGFwcGx5IC0tcGFwZXItY2FyZC1oZWFkZXItaW1hZ2U7XG4gICAgICB9XG5cbiAgICAgIC5oZWFkZXIgLnRpdGxlLXRleHQge1xuICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgICBmb250LXNpemU6IDI0cHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1wYXBlci1jYXJkLWhlYWRlci1jb2xvciwgIzAwMCk7XG5cbiAgICAgICAgQGFwcGx5IC0tcGFwZXItY2FyZC1oZWFkZXItdGV4dDtcbiAgICAgIH1cblxuICAgICAgLmhlYWRlciAudGl0bGUtdGV4dC5vdmVyLWltYWdlIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBib3R0b206IDBweDtcblxuICAgICAgICBAYXBwbHkgLS1wYXBlci1jYXJkLWhlYWRlci1pbWFnZS10ZXh0O1xuICAgICAgfVxuXG4gICAgICA6aG9zdCA6OnNsb3R0ZWQoLmNhcmQtY29udGVudCkge1xuICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgICBwb3NpdGlvbjpyZWxhdGl2ZTtcblxuICAgICAgICBAYXBwbHkgLS1wYXBlci1jYXJkLWNvbnRlbnQ7XG4gICAgICB9XG5cbiAgICAgIDpob3N0IDo6c2xvdHRlZCguY2FyZC1hY3Rpb25zKSB7XG4gICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZThlOGU4O1xuICAgICAgICBwYWRkaW5nOiA1cHggMTZweDtcbiAgICAgICAgcG9zaXRpb246cmVsYXRpdmU7XG5cbiAgICAgICAgQGFwcGx5IC0tcGFwZXItY2FyZC1hY3Rpb25zO1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbZWxldmF0aW9uPVwiMVwiXSkge1xuICAgICAgICBAYXBwbHkgLS1wYXBlci1tYXRlcmlhbC1lbGV2YXRpb24tMTtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoW2VsZXZhdGlvbj1cIjJcIl0pIHtcbiAgICAgICAgQGFwcGx5IC0tcGFwZXItbWF0ZXJpYWwtZWxldmF0aW9uLTI7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KFtlbGV2YXRpb249XCIzXCJdKSB7XG4gICAgICAgIEBhcHBseSAtLXBhcGVyLW1hdGVyaWFsLWVsZXZhdGlvbi0zO1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbZWxldmF0aW9uPVwiNFwiXSkge1xuICAgICAgICBAYXBwbHkgLS1wYXBlci1tYXRlcmlhbC1lbGV2YXRpb24tNDtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoW2VsZXZhdGlvbj1cIjVcIl0pIHtcbiAgICAgICAgQGFwcGx5IC0tcGFwZXItbWF0ZXJpYWwtZWxldmF0aW9uLTU7XG4gICAgICB9XG4gICAgPC9zdHlsZT5cblxuICAgIDxkaXYgY2xhc3M9XCJoZWFkZXJcIj5cbiAgICAgIDxpcm9uLWltYWdlIGhpZGRlblxcJD1cIltbIWltYWdlXV1cIiBhcmlhLWhpZGRlblxcJD1cIltbX2lzSGlkZGVuKGltYWdlKV1dXCIgc3JjPVwiW1tpbWFnZV1dXCIgYWx0PVwiW1thbHRdXVwiIHBsYWNlaG9sZGVyPVwiW1twbGFjZWhvbGRlckltYWdlXV1cIiBwcmVsb2FkPVwiW1twcmVsb2FkSW1hZ2VdXVwiIGZhZGU9XCJbW2ZhZGVJbWFnZV1dXCI+PC9pcm9uLWltYWdlPlxuICAgICAgPGRpdiBoaWRkZW5cXCQ9XCJbWyFoZWFkaW5nXV1cIiBjbGFzc1xcJD1cInRpdGxlLXRleHQgW1tfY29tcHV0ZUhlYWRpbmdDbGFzcyhpbWFnZSldXVwiPltbaGVhZGluZ11dPC9kaXY+XG4gICAgPC9kaXY+XG5cbiAgICA8c2xvdD48L3Nsb3Q+XG5gLFxuXG4gIGlzOiAncGFwZXItY2FyZCcsXG5cbiAgcHJvcGVydGllczoge1xuICAgIC8qKlxuICAgICAqIFRoZSB0aXRsZSBvZiB0aGUgY2FyZC5cbiAgICAgKi9cbiAgICBoZWFkaW5nOiB7dHlwZTogU3RyaW5nLCB2YWx1ZTogJycsIG9ic2VydmVyOiAnX2hlYWRpbmdDaGFuZ2VkJ30sXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdXJsIG9mIHRoZSB0aXRsZSBpbWFnZSBvZiB0aGUgY2FyZC5cbiAgICAgKi9cbiAgICBpbWFnZToge3R5cGU6IFN0cmluZywgdmFsdWU6ICcnfSxcblxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0IGFsdGVybmF0aXZlIG9mIHRoZSBjYXJkJ3MgdGl0bGUgaW1hZ2UuXG4gICAgICovXG4gICAgYWx0OiB7dHlwZTogU3RyaW5nfSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gYHRydWVgLCBhbnkgY2hhbmdlIHRvIHRoZSBpbWFnZSB1cmwgcHJvcGVydHkgd2lsbCBjYXVzZSB0aGVcbiAgICAgKiBgcGxhY2Vob2xkZXJgIGltYWdlIHRvIGJlIHNob3duIHVudGlsIHRoZSBpbWFnZSBpcyBmdWxseSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICBwcmVsb2FkSW1hZ2U6IHt0eXBlOiBCb29sZWFuLCB2YWx1ZTogZmFsc2V9LFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgcHJlbG9hZEltYWdlYCBpcyB0cnVlLCBzZXR0aW5nIGBmYWRlSW1hZ2VgIHRvIHRydWUgd2lsbCBjYXVzZSB0aGVcbiAgICAgKiBpbWFnZSB0byBmYWRlIGludG8gcGxhY2UuXG4gICAgICovXG4gICAgZmFkZUltYWdlOiB7dHlwZTogQm9vbGVhbiwgdmFsdWU6IGZhbHNlfSxcblxuICAgIC8qKlxuICAgICAqIFRoaXMgaW1hZ2Ugd2lsbCBiZSB1c2VkIGFzIGEgYmFja2dyb3VuZC9wbGFjZWhvbGRlciB1bnRpbCB0aGUgc3JjIGltYWdlXG4gICAgICogaGFzIGxvYWRlZC4gVXNlIG9mIGEgZGF0YS1VUkkgZm9yIHBsYWNlaG9sZGVyIGlzIGVuY291cmFnZWQgZm9yIGluc3RhbnRcbiAgICAgKiByZW5kZXJpbmcuXG4gICAgICovXG4gICAgcGxhY2Vob2xkZXJJbWFnZToge3R5cGU6IFN0cmluZywgdmFsdWU6IG51bGx9LFxuXG4gICAgLyoqXG4gICAgICogVGhlIHotZGVwdGggb2YgdGhlIGNhcmQsIGZyb20gMC01LlxuICAgICAqL1xuICAgIGVsZXZhdGlvbjoge3R5cGU6IE51bWJlciwgdmFsdWU6IDEsIHJlZmxlY3RUb0F0dHJpYnV0ZTogdHJ1ZX0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhpcyB0byB0cnVlIHRvIGFuaW1hdGUgdGhlIGNhcmQgc2hhZG93IHdoZW4gc2V0dGluZyBhIG5ld1xuICAgICAqIGB6YCB2YWx1ZS5cbiAgICAgKi9cbiAgICBhbmltYXRlZFNoYWRvdzoge3R5cGU6IEJvb2xlYW4sIHZhbHVlOiBmYWxzZX0sXG5cbiAgICAvKipcbiAgICAgKiBSZWFkLW9ubHkgcHJvcGVydHkgdXNlZCB0byBwYXNzIGRvd24gdGhlIGBhbmltYXRlZFNoYWRvd2AgdmFsdWUgdG9cbiAgICAgKiB0aGUgdW5kZXJseWluZyBwYXBlci1tYXRlcmlhbCBzdHlsZSAoc2luY2UgdGhleSBoYXZlIGRpZmZlcmVudCBuYW1lcykuXG4gICAgICovXG4gICAgYW5pbWF0ZWQ6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICByZWZsZWN0VG9BdHRyaWJ1dGU6IHRydWUsXG4gICAgICByZWFkT25seTogdHJ1ZSxcbiAgICAgIGNvbXB1dGVkOiAnX2NvbXB1dGVBbmltYXRlZChhbmltYXRlZFNoYWRvdyknXG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBGb3JtYXQgZnVuY3Rpb24gZm9yIGFyaWEtaGlkZGVuLiBVc2UgdGhlICEgb3BlcmF0b3IgcmVzdWx0cyBpbiB0aGVcbiAgICogZW1wdHkgc3RyaW5nIHdoZW4gZ2l2ZW4gYSBmYWxzeSB2YWx1ZS5cbiAgICovXG4gIF9pc0hpZGRlbjogZnVuY3Rpb24oaW1hZ2UpIHtcbiAgICByZXR1cm4gaW1hZ2UgPyAnZmFsc2UnIDogJ3RydWUnO1xuICB9LFxuXG4gIF9oZWFkaW5nQ2hhbmdlZDogZnVuY3Rpb24oaGVhZGluZykge1xuICAgIHZhciBjdXJyZW50SGVhZGluZyA9IHRoaXMuZ2V0QXR0cmlidXRlKCdoZWFkaW5nJyksXG4gICAgICAgIGN1cnJlbnRMYWJlbCA9IHRoaXMuZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJyk7XG5cbiAgICBpZiAodHlwZW9mIGN1cnJlbnRMYWJlbCAhPT0gJ3N0cmluZycgfHwgY3VycmVudExhYmVsID09PSBjdXJyZW50SGVhZGluZykge1xuICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBoZWFkaW5nKTtcbiAgICB9XG4gIH0sXG5cbiAgX2NvbXB1dGVIZWFkaW5nQ2xhc3M6IGZ1bmN0aW9uKGltYWdlKSB7XG4gICAgcmV0dXJuIGltYWdlID8gJyBvdmVyLWltYWdlJyA6ICcnO1xuICB9LFxuXG4gIF9jb21wdXRlQW5pbWF0ZWQ6IGZ1bmN0aW9uKGFuaW1hdGVkU2hhZG93KSB7XG4gICAgcmV0dXJuIGFuaW1hdGVkU2hhZG93O1xuICB9XG59KTtcbiJdLCJuYW1lcyI6WyJleHRlbmRTdGF0aWNzIiwiZCIsImIiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwicCIsImhhc093blByb3BlcnR5IiwiX19leHRlbmRzIiwiX18iLCJ0aGlzIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJjcmVhdGUiLCJfX2Fzc2lnbiIsImFzc2lnbiIsInQiLCJzIiwiaSIsIm4iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJjYWxsIiwiYXBwbHkiLCJfX2RlY29yYXRlIiwiZGVjb3JhdG9ycyIsInRhcmdldCIsImtleSIsImRlc2MiLCJjIiwiciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIlJlZmxlY3QiLCJkZWNvcmF0ZSIsImRlZmluZVByb3BlcnR5IiwiZGlyZWN0aXZlcyIsIldlYWtNYXAiLCJkaXJlY3RpdmUiLCJmIiwiYXJncyIsInNldCIsImlzRGlyZWN0aXZlIiwibyIsImhhcyIsImlzQ0VQb2x5ZmlsbCIsInVuZGVmaW5lZCIsIndpbmRvdyIsImN1c3RvbUVsZW1lbnRzIiwicG9seWZpbGxXcmFwRmx1c2hDYWxsYmFjayIsInJlbW92ZU5vZGVzIiwiY29udGFpbmVyIiwic3RhcnQiLCJlbmQiLCJuZXh0U2libGluZyIsInJlbW92ZUNoaWxkIiwibm9DaGFuZ2UiLCJub3RoaW5nIiwibWFya2VyIiwiU3RyaW5nIiwiTWF0aCIsInJhbmRvbSIsInNsaWNlIiwibm9kZU1hcmtlciIsIm1hcmtlclJlZ2V4IiwiUmVnRXhwIiwiVGVtcGxhdGUiLCJbb2JqZWN0IE9iamVjdF0iLCJyZXN1bHQiLCJlbGVtZW50IiwicGFydHMiLCJub2Rlc1RvUmVtb3ZlIiwic3RhY2siLCJ3YWxrZXIiLCJkb2N1bWVudCIsImNyZWF0ZVRyZWVXYWxrZXIiLCJjb250ZW50IiwibGFzdFBhcnRJbmRleCIsImluZGV4IiwicGFydEluZGV4Iiwic3RyaW5ncyIsInZhbHVlcyIsIm5vZGUiLCJuZXh0Tm9kZSIsIm5vZGVUeXBlIiwiaGFzQXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJjb3VudCIsImVuZHNXaXRoIiwibmFtZSIsInN0cmluZ0ZvclBhcnQiLCJsYXN0QXR0cmlidXRlTmFtZVJlZ2V4IiwiZXhlYyIsImF0dHJpYnV0ZUxvb2t1cE5hbWUiLCJ0b0xvd2VyQ2FzZSIsImF0dHJpYnV0ZVZhbHVlIiwiZ2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwic3RhdGljcyIsInNwbGl0IiwicHVzaCIsInR5cGUiLCJ0YWdOYW1lIiwiY3VycmVudE5vZGUiLCJkYXRhIiwiaW5kZXhPZiIsInBhcmVudCIsInBhcmVudE5vZGUiLCJsYXN0SW5kZXgiLCJpbnNlcnQiLCJjcmVhdGVNYXJrZXIiLCJtYXRjaCIsImNyZWF0ZVRleHROb2RlIiwiaW5zZXJ0QmVmb3JlIiwicHJldmlvdXNTaWJsaW5nIiwicG9wIiwic3RyIiwic3VmZml4IiwiaXNUZW1wbGF0ZVBhcnRBY3RpdmUiLCJwYXJ0IiwiY3JlYXRlQ29tbWVudCIsIlRlbXBsYXRlSW5zdGFuY2UiLCJ0ZW1wbGF0ZSIsInByb2Nlc3NvciIsIm9wdGlvbnMiLCJfX3BhcnRzIiwic2V0VmFsdWUiLCJjb21taXQiLCJmcmFnbWVudCIsImNsb25lTm9kZSIsImltcG9ydE5vZGUiLCJub2RlSW5kZXgiLCJub2RlTmFtZSIsImhhbmRsZVRleHRFeHByZXNzaW9uIiwiaW5zZXJ0QWZ0ZXJOb2RlIiwiaGFuZGxlQXR0cmlidXRlRXhwcmVzc2lvbnMiLCJhZG9wdE5vZGUiLCJ1cGdyYWRlIiwiY29tbWVudE1hcmtlciIsIlRlbXBsYXRlUmVzdWx0IiwibCIsImh0bWwiLCJpc0NvbW1lbnRCaW5kaW5nIiwiY29tbWVudE9wZW4iLCJsYXN0SW5kZXhPZiIsImF0dHJpYnV0ZU1hdGNoIiwic3Vic3RyIiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsImdldEhUTUwiLCJpc1ByaW1pdGl2ZSIsInZhbHVlIiwiaXNJdGVyYWJsZSIsImlzQXJyYXkiLCJTeW1ib2wiLCJpdGVyYXRvciIsIkF0dHJpYnV0ZUNvbW1pdHRlciIsImRpcnR5IiwiX2NyZWF0ZVBhcnQiLCJBdHRyaWJ1dGVQYXJ0IiwidGV4dCIsInYiLCJzZXRBdHRyaWJ1dGUiLCJfZ2V0VmFsdWUiLCJjb21taXR0ZXIiLCJOb2RlUGFydCIsIl9fcGVuZGluZ1ZhbHVlIiwic3RhcnROb2RlIiwiYXBwZW5kQ2hpbGQiLCJlbmROb2RlIiwicmVmIiwiX19pbnNlcnQiLCJfX2NvbW1pdFRleHQiLCJfX2NvbW1pdFRlbXBsYXRlUmVzdWx0IiwiTm9kZSIsIl9fY29tbWl0Tm9kZSIsIl9fY29tbWl0SXRlcmFibGUiLCJjbGVhciIsInZhbHVlQXNTdHJpbmciLCJ0ZW1wbGF0ZUZhY3RvcnkiLCJ1cGRhdGUiLCJpbnN0YW5jZSIsIl9jbG9uZSIsIml0ZW1QYXJ0cyIsIml0ZW1QYXJ0IiwiaXRlbSIsImFwcGVuZEludG9QYXJ0IiwiaW5zZXJ0QWZ0ZXJQYXJ0IiwiQm9vbGVhbkF0dHJpYnV0ZVBhcnQiLCJFcnJvciIsIlByb3BlcnR5Q29tbWl0dGVyIiwic3VwZXIiLCJzaW5nbGUiLCJQcm9wZXJ0eVBhcnQiLCJldmVudE9wdGlvbnNTdXBwb3J0ZWQiLCJjYXB0dXJlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfZSIsIkV2ZW50UGFydCIsImV2ZW50TmFtZSIsImV2ZW50Q29udGV4dCIsIl9fYm91bmRIYW5kbGVFdmVudCIsImUiLCJoYW5kbGVFdmVudCIsIm5ld0xpc3RlbmVyIiwib2xkTGlzdGVuZXIiLCJzaG91bGRSZW1vdmVMaXN0ZW5lciIsIm9uY2UiLCJwYXNzaXZlIiwic2hvdWxkQWRkTGlzdGVuZXIiLCJfX29wdGlvbnMiLCJnZXRPcHRpb25zIiwiZXZlbnQiLCJkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IiLCJwcmVmaXgiLCJ0ZW1wbGF0ZUNhY2hlIiwidGVtcGxhdGVDYWNoZXMiLCJnZXQiLCJzdHJpbmdzQXJyYXkiLCJrZXlTdHJpbmciLCJNYXAiLCJqb2luIiwiZ2V0VGVtcGxhdGVFbGVtZW50IiwicmVtb3ZlTm9kZXNGcm9tVGVtcGxhdGUiLCJuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMiLCJyZW1vdmVDb3VudCIsIm5vZGVzVG9SZW1vdmVJblRlbXBsYXRlIiwiY3VycmVudFJlbW92aW5nTm9kZSIsImZvckVhY2giLCJjb3VudE5vZGVzIiwic3RhcnRJbmRleCIsImdldFRlbXBsYXRlQ2FjaGVLZXkiLCJzY29wZU5hbWUiLCJjb21wYXRpYmxlU2hhZHlDU1NWZXJzaW9uIiwiU2hhZHlDU1MiLCJwcmVwYXJlVGVtcGxhdGVEb20iLCJjb25zb2xlIiwid2FybiIsInNoYWR5VGVtcGxhdGVGYWN0b3J5IiwiY2FjaGVLZXkiLCJURU1QTEFURV9UWVBFUyIsInNoYWR5UmVuZGVyU2V0IiwiU2V0IiwicHJlcGFyZVRlbXBsYXRlU3R5bGVzIiwicmVuZGVyZWRET00iLCJhZGQiLCJ0ZW1wbGF0ZUVsZW1lbnQiLCJzdHlsZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY29uZGVuc2VkU3R5bGUiLCJzdHlsZSIsInRleHRDb250ZW50IiwidGVtcGxhdGVzIiwiZnJvbSIsInJlbW92ZVN0eWxlc0Zyb21MaXRUZW1wbGF0ZXMiLCJyZWZOb2RlIiwiaW5zZXJ0Q291bnQiLCJ3YWxrZXJJbmRleCIsImluc2VydE5vZGVJbnRvVGVtcGxhdGUiLCJmaXJzdENoaWxkIiwicXVlcnlTZWxlY3RvciIsIm5hdGl2ZVNoYWRvdyIsInJlbW92ZXMiLCJKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5IiwicHJvcCIsIl9vYmoiLCJkZWZhdWx0Q29udmVydGVyIiwiQm9vbGVhbiIsIkpTT04iLCJzdHJpbmdpZnkiLCJOdW1iZXIiLCJwYXJzZSIsIm5vdEVxdWFsIiwib2xkIiwiZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb24iLCJhdHRyaWJ1dGUiLCJjb252ZXJ0ZXIiLCJyZWZsZWN0IiwiaGFzQ2hhbmdlZCIsIm1pY3JvdGFza1Byb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsIlVwZGF0aW5nRWxlbWVudCIsIkhUTUxFbGVtZW50IiwiX3VwZGF0ZVN0YXRlIiwiX2luc3RhbmNlUHJvcGVydGllcyIsIl91cGRhdGVQcm9taXNlIiwiX2hhc0Nvbm5lY3RlZFJlc29sdmVyIiwiX2NoYW5nZWRQcm9wZXJ0aWVzIiwiX3JlZmxlY3RpbmdQcm9wZXJ0aWVzIiwiaW5pdGlhbGl6ZSIsIm9ic2VydmVkQXR0cmlidXRlcyIsImZpbmFsaXplIiwiX2NsYXNzUHJvcGVydGllcyIsImF0dHIiLCJfYXR0cmlidXRlTmFtZUZvclByb3BlcnR5IiwiX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAiLCJzdXBlclByb3BlcnRpZXMiLCJnZXRQcm90b3R5cGVPZiIsImsiLCJfZW5zdXJlQ2xhc3NQcm9wZXJ0aWVzIiwibm9BY2Nlc3NvciIsIm9sZFZhbHVlIiwiX3JlcXVlc3RVcGRhdGUiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwic3VwZXJDdG9yIiwicHJvcHMiLCJwcm9wZXJ0aWVzIiwicHJvcEtleXMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiY3JlYXRlUHJvcGVydHkiLCJmcm9tQXR0cmlidXRlIiwidG9BdHRyaWJ1dGUiLCJfc2F2ZUluc3RhbmNlUHJvcGVydGllcyIsIl92IiwiX2F0dHJpYnV0ZVRvUHJvcGVydHkiLCJjdG9yIiwiYXR0clZhbHVlIiwiX3Byb3BlcnR5VmFsdWVUb0F0dHJpYnV0ZSIsInByb3BOYW1lIiwiX3Byb3BlcnR5VmFsdWVGcm9tQXR0cmlidXRlIiwic2hvdWxkUmVxdWVzdFVwZGF0ZSIsIl92YWx1ZUhhc0NoYW5nZWQiLCJfaGFzUmVxdWVzdGVkVXBkYXRlIiwiX2VucXVldWVVcGRhdGUiLCJ1cGRhdGVDb21wbGV0ZSIsInJlamVjdCIsInByZXZpb3VzVXBkYXRlUHJvbWlzZSIsInJlcyIsInJlaiIsIl9oYXNDb25uZWN0ZWQiLCJwZXJmb3JtVXBkYXRlIiwiaGFzVXBkYXRlZCIsIl9hcHBseUluc3RhbmNlUHJvcGVydGllcyIsInNob3VsZFVwZGF0ZSIsImNoYW5nZWRQcm9wZXJ0aWVzIiwiX21hcmtVcGRhdGVkIiwiZmlyc3RVcGRhdGVkIiwidXBkYXRlZCIsIl9nZXRVcGRhdGVDb21wbGV0ZSIsInNpemUiLCJfcHJvcGVydHlUb0F0dHJpYnV0ZSIsImN1c3RvbUVsZW1lbnQiLCJjbGFzc09yRGVzY3JpcHRvciIsImNsYXp6IiwiZGVmaW5lIiwibGVnYWN5Q3VzdG9tRWxlbWVudCIsImRlc2NyaXB0b3IiLCJraW5kIiwiZWxlbWVudHMiLCJzdGFuZGFyZEN1c3RvbUVsZW1lbnQiLCJzdGFuZGFyZFByb3BlcnR5IiwicGxhY2VtZW50IiwiaW5pdGlhbGl6ZXIiLCJwcm9wZXJ0eSIsInByb3RvT3JEZXNjcmlwdG9yIiwicHJvdG8iLCJsZWdhY3lQcm9wZXJ0eSIsInF1ZXJ5Iiwic2VsZWN0b3IiLCJyZW5kZXJSb290IiwibGVnYWN5UXVlcnkiLCJzdGFuZGFyZFF1ZXJ5Iiwic3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzIiwiRG9jdW1lbnQiLCJDU1NTdHlsZVNoZWV0IiwiY29uc3RydWN0aW9uVG9rZW4iLCJDU1NSZXN1bHQiLCJjc3NUZXh0Iiwic2FmZVRva2VuIiwic3R5bGVTaGVldCIsIl9zdHlsZVNoZWV0IiwicmVwbGFjZVN5bmMiLCJjc3MiLCJyZWR1Y2UiLCJhY2MiLCJpZHgiLCJ0ZXh0RnJvbUNTU1Jlc3VsdCIsImZsYXR0ZW5TdHlsZXMiLCJmbGF0IiwiSW5maW5pdHkiLCJhcnJheUZsYXQiLCJMaXRFbGVtZW50IiwiX3N0eWxlcyIsIl9nZXRVbmlxdWVTdHlsZXMiLCJ1c2VyU3R5bGVzIiwicmVkdWNlUmlnaHQiLCJ1bnNoaWZ0IiwiY3JlYXRlUmVuZGVyUm9vdCIsIlNoYWRvd1Jvb3QiLCJhZG9wdFN0eWxlcyIsImF0dGFjaFNoYWRvdyIsIm1vZGUiLCJhZG9wdGVkU3R5bGVTaGVldHMiLCJtYXAiLCJfbmVlZHNTaGltQWRvcHRlZFN0eWxlU2hlZXRzIiwiU2NvcGluZ1NoaW0iLCJwcmVwYXJlQWRvcHRlZENzc1RleHQiLCJsb2NhbE5hbWUiLCJjb25uZWN0ZWRDYWxsYmFjayIsInN0eWxlRWxlbWVudCIsInRlbXBsYXRlUmVzdWx0IiwicmVuZGVyIiwiaGFzUmVuZGVyZWQiLCJuZWVkc1Njb3BpbmciLCJob3N0IiwiZmlyc3RTY29wZVJlbmRlciIsInJlbmRlckNvbnRhaW5lciIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJhcHBlbmRJbnRvIiwibGl0UmVuZGVyIiwiZGVsZXRlIiwiY3NzQ2xhc3NlcyIsIkZJWEVEX0NMQVNTIiwiRklYRURfU0NST0xMRURfQ0xBU1MiLCJTSE9SVF9DTEFTUyIsIlNIT1JUX0NPTExBUFNFRF9DTEFTUyIsIlNIT1JUX0hBU19BQ1RJT05fSVRFTV9DTEFTUyIsIm51bWJlcnMiLCJERUJPVU5DRV9USFJPVFRMRV9SRVNJWkVfVElNRV9NUyIsIk1BWF9UT1BfQVBQX0JBUl9IRUlHSFQiLCJBQ1RJT05fSVRFTV9TRUxFQ1RPUiIsIk5BVklHQVRJT05fRVZFTlQiLCJOQVZJR0FUSU9OX0lDT05fU0VMRUNUT1IiLCJST09UX1NFTEVDVE9SIiwiVElUTEVfU0VMRUNUT1IiLCJNRENGb3VuZGF0aW9uIiwiYWRhcHRlciIsImFkYXB0ZXJfIiwiaW5pdCIsImRlc3Ryb3kiLCJNRENUb3BBcHBCYXJCYXNlRm91bmRhdGlvbiIsIl9zdXBlciIsInRzbGliXzEuX19hc3NpZ24iLCJkZWZhdWx0QWRhcHRlciIsInRzbGliXzEuX19leHRlbmRzIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImhhc0NsYXNzIiwic2V0U3R5bGUiLCJnZXRUb3BBcHBCYXJIZWlnaHQiLCJub3RpZnlOYXZpZ2F0aW9uSWNvbkNsaWNrZWQiLCJnZXRWaWV3cG9ydFNjcm9sbFkiLCJnZXRUb3RhbEFjdGlvbkl0ZW1zIiwiaGFuZGxlVGFyZ2V0U2Nyb2xsIiwiaGFuZGxlV2luZG93UmVzaXplIiwiaGFuZGxlTmF2aWdhdGlvbkNsaWNrIiwiTURDVG9wQXBwQmFyRm91bmRhdGlvbiIsIl90aGlzIiwid2FzRG9ja2VkXyIsImlzRG9ja2VkU2hvd2luZ18iLCJjdXJyZW50QXBwQmFyT2Zmc2V0VG9wXyIsImlzQ3VycmVudGx5QmVpbmdSZXNpemVkXyIsInJlc2l6ZVRocm90dGxlSWRfIiwicmVzaXplRGVib3VuY2VJZF8iLCJsYXN0U2Nyb2xsUG9zaXRpb25fIiwidG9wQXBwQmFySGVpZ2h0XyIsImN1cnJlbnRTY3JvbGxQb3NpdGlvbiIsIm1heCIsImRpZmYiLCJhYnMiLCJtb3ZlVG9wQXBwQmFyXyIsInNldFRpbWVvdXQiLCJ0aHJvdHRsZWRSZXNpemVIYW5kbGVyXyIsImNsZWFyVGltZW91dCIsImNoZWNrRm9yVXBkYXRlXyIsIm9mZnNjcmVlbkJvdW5kYXJ5VG9wIiwiaGFzQW55UGl4ZWxzT2Zmc2NyZWVuIiwiaGFzQW55UGl4ZWxzT25zY3JlZW4iLCJwYXJ0aWFsbHlTaG93aW5nIiwib2Zmc2V0IiwiY3VycmVudEhlaWdodCIsIm9ic2VydmVyIiwiX29ic2VydmVycyIsIm9ic2VydmVycyIsInVzZXJVcGRhdGVkIiwibWF0Y2hlcyIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwiaXNOb2RlRWxlbWVudCIsIkVMRU1FTlRfTk9ERSIsImFkZEhhc1JlbW92ZUNsYXNzIiwiY2xhc3NOYW1lIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiY29udGFpbnMiLCJzdXBwb3J0c1Bhc3NpdmUiLCJmbiIsIm9wdGlvbnNCbG9jayIsInN1cHBvcnRzUGFzc2l2ZUV2ZW50TGlzdGVuZXIiLCJkZWVwQWN0aXZlRWxlbWVudFBhdGgiLCJkb2MiLCJhY3RpdmVFbGVtZW50IiwicGF0aCIsInNoYWRvd1Jvb3QiLCJkb2VzRWxlbWVudENvbnRhaW5Gb2N1cyIsImFjdGl2ZVBhdGgiLCJkZWVwQWN0aXZlRWxlbWVudCIsImZvY3VzRXYiLCJFdmVudCIsImJ1YmJsZXMiLCJjb21wb3NlZCIsImNvbXBvc2VkUGF0aCIsImxpc3RlbmVyIiwiZXYiLCJib2R5IiwiZGlzcGF0Y2hFdmVudCIsIkJhc2VFbGVtZW50IiwibWRjRm91bmRhdGlvbiIsIm1kY0ZvdW5kYXRpb25DbGFzcyIsImNyZWF0ZUFkYXB0ZXIiLCJjcmVhdGVGb3VuZGF0aW9uIiwiY2xhc3NNYXBDYWNoZSIsImNsYXNzTWFwIiwiY2xhc3NJbmZvIiwib2xkSW5mbyIsInBhc3NpdmVFdmVudE9wdGlvbnNJZlN1cHBvcnRlZCIsIlRvcEFwcEJhckJhc2VCYXNlIiwiY2VudGVyVGl0bGUiLCJzY3JvbGxUYXJnZXQiLCJfc2Nyb2xsVGFyZ2V0IiwidXBkYXRlUm9vdFBvc2l0aW9uIiwicmVxdWVzdFVwZGF0ZSIsIm1kY1Jvb3QiLCJ3aW5kb3dTY3JvbGxlciIsInBvc2l0aW9uIiwidGl0bGUiLCJiYXJDbGFzc2VzIiwiY29udGVudENsYXNzZXMiLCJzZXRQcm9wZXJ0eSIsImNsaWVudEhlaWdodCIsImNhbmNlbGFibGUiLCJXaW5kb3ciLCJwYWdlWU9mZnNldCIsInNjcm9sbFRvcCIsIl9hY3Rpb25JdGVtc1Nsb3QiLCJhc3NpZ25lZE5vZGVzIiwiZmxhdHRlbiIsInJlZ2lzdGVyTGlzdGVuZXJzIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJ1bnJlZ2lzdGVyTGlzdGVuZXJzIiwiVG9wQXBwQmFyQmFzZSIsInByb21pbmVudCIsImRlbnNlIiwiaGFuZGxlUmVzaXplIiwibWRjLXRvcC1hcHAtYmFyLS1kZW5zZSIsIm1kYy10b3AtYXBwLWJhci0tcHJvbWluZW50IiwiY2VudGVyLXRpdGxlIiwibWRjLXRvcC1hcHAtYmFyLS1maXhlZC1hZGp1c3QiLCJtZGMtdG9wLWFwcC1iYXItLWRlbnNlLWZpeGVkLWFkanVzdCIsIm1kYy10b3AtYXBwLWJhci0tcHJvbWluZW50LWZpeGVkLWFkanVzdCIsIm1kYy10b3AtYXBwLWJhci0tZGVuc2UtcHJvbWluZW50LWZpeGVkLWFkanVzdCIsIlRvcEFwcEJhciIsIk1EQ0ZpeGVkVG9wQXBwQmFyRm91bmRhdGlvbiIsIndhc1Njcm9sbGVkXyIsIlRvcEFwcEJhckZpeGVkQmFzZSIsIm1kYy10b3AtYXBwLWJhci0tZml4ZWQiLCJUb3BBcHBCYXJGaXhlZCIsImFwcGx5UGFzc2l2ZSIsImdsb2JhbE9iaiIsInBhc3NpdmVTdXBwb3J0ZWQiLCJoYW5kbGVyIiwiZXJyIiwic3VwcG9ydHNQYXNzaXZlT3B0aW9uIiwic3VwcG9ydHNDc3NWYXJpYWJsZXNfIiwiQkdfRk9DVVNFRCIsIkZHX0FDVElWQVRJT04iLCJGR19ERUFDVElWQVRJT04iLCJST09UIiwiVU5CT1VOREVEIiwiVkFSX0ZHX1NDQUxFIiwiVkFSX0ZHX1NJWkUiLCJWQVJfRkdfVFJBTlNMQVRFX0VORCIsIlZBUl9GR19UUkFOU0xBVEVfU1RBUlQiLCJWQVJfTEVGVCIsIlZBUl9UT1AiLCJERUFDVElWQVRJT05fVElNRU9VVF9NUyIsIkZHX0RFQUNUSVZBVElPTl9NUyIsIklOSVRJQUxfT1JJR0lOX1NDQUxFIiwiUEFERElORyIsIlRBUF9ERUxBWV9NUyIsIkFDVElWQVRJT05fRVZFTlRfVFlQRVMiLCJQT0lOVEVSX0RFQUNUSVZBVElPTl9FVkVOVF9UWVBFUyIsImFjdGl2YXRlZFRhcmdldHMiLCJNRENSaXBwbGVGb3VuZGF0aW9uIiwiYWN0aXZhdGlvbkFuaW1hdGlvbkhhc0VuZGVkXyIsImFjdGl2YXRpb25UaW1lcl8iLCJmZ0RlYWN0aXZhdGlvblJlbW92YWxUaW1lcl8iLCJmZ1NjYWxlXyIsImZyYW1lXyIsIndpZHRoIiwiaGVpZ2h0IiwiaW5pdGlhbFNpemVfIiwibGF5b3V0RnJhbWVfIiwibWF4UmFkaXVzXyIsInVuYm91bmRlZENvb3Jkc18iLCJsZWZ0IiwidG9wIiwiYWN0aXZhdGlvblN0YXRlXyIsImRlZmF1bHRBY3RpdmF0aW9uU3RhdGVfIiwiYWN0aXZhdGlvblRpbWVyQ2FsbGJhY2tfIiwicnVuRGVhY3RpdmF0aW9uVVhMb2dpY0lmUmVhZHlfIiwiYWN0aXZhdGVIYW5kbGVyXyIsImFjdGl2YXRlXyIsImRlYWN0aXZhdGVIYW5kbGVyXyIsImRlYWN0aXZhdGVfIiwiZm9jdXNIYW5kbGVyXyIsImhhbmRsZUZvY3VzIiwiYmx1ckhhbmRsZXJfIiwiaGFuZGxlQmx1ciIsInJlc2l6ZUhhbmRsZXJfIiwibGF5b3V0IiwiYnJvd3NlclN1cHBvcnRzQ3NzVmFycyIsImNvbXB1dGVCb3VuZGluZ1JlY3QiLCJyaWdodCIsImJvdHRvbSIsImNvbnRhaW5zRXZlbnRUYXJnZXQiLCJkZXJlZ2lzdGVyRG9jdW1lbnRJbnRlcmFjdGlvbkhhbmRsZXIiLCJkZXJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyIiwiZGVyZWdpc3RlclJlc2l6ZUhhbmRsZXIiLCJnZXRXaW5kb3dQYWdlT2Zmc2V0IiwieCIsInkiLCJpc1N1cmZhY2VBY3RpdmUiLCJpc1N1cmZhY2VEaXNhYmxlZCIsImlzVW5ib3VuZGVkIiwicmVnaXN0ZXJEb2N1bWVudEludGVyYWN0aW9uSGFuZGxlciIsInJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyIiwicmVnaXN0ZXJSZXNpemVIYW5kbGVyIiwidXBkYXRlQ3NzVmFyaWFibGUiLCJzdXBwb3J0c1ByZXNzUmlwcGxlIiwic3VwcG9ydHNQcmVzc1JpcHBsZV8iLCJyZWdpc3RlclJvb3RIYW5kbGVyc18iLCJfYSIsIlJPT1RfMSIsIlVOQk9VTkRFRF8xIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibGF5b3V0SW50ZXJuYWxfIiwiUk9PVF8yIiwiVU5CT1VOREVEXzIiLCJyZW1vdmVDc3NWYXJzXyIsImRlcmVnaXN0ZXJSb290SGFuZGxlcnNfIiwiZGVyZWdpc3RlckRlYWN0aXZhdGlvbkhhbmRsZXJzXyIsImFjdGl2YXRlIiwiZXZ0IiwiZGVhY3RpdmF0ZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwic2V0VW5ib3VuZGVkIiwidW5ib3VuZGVkIiwiYWN0aXZhdGlvbkV2ZW50IiwiaGFzRGVhY3RpdmF0aW9uVVhSdW4iLCJpc0FjdGl2YXRlZCIsImlzUHJvZ3JhbW1hdGljIiwid2FzQWN0aXZhdGVkQnlQb2ludGVyIiwid2FzRWxlbWVudE1hZGVBY3RpdmUiLCJldnRUeXBlIiwicmVnaXN0ZXJEZWFjdGl2YXRpb25IYW5kbGVyc18iLCJyaXBwbGVTdHJpbmdzIiwia2V5cyIsImFjdGl2YXRpb25TdGF0ZSIsInByZXZpb3VzQWN0aXZhdGlvbkV2ZW50IiwicHJldmlvdXNBY3RpdmF0aW9uRXZlbnRfIiwic29tZSIsInJlc2V0QWN0aXZhdGlvblN0YXRlXyIsImNoZWNrRWxlbWVudE1hZGVBY3RpdmVfIiwiYW5pbWF0ZUFjdGl2YXRpb25fIiwia2V5Q29kZSIsIl9iIiwidHJhbnNsYXRlU3RhcnQiLCJ0cmFuc2xhdGVFbmQiLCJfYyIsImdldEZnVHJhbnNsYXRpb25Db29yZGluYXRlc18iLCJzdGFydFBvaW50IiwiZW5kUG9pbnQiLCJybUJvdW5kZWRBY3RpdmF0aW9uQ2xhc3Nlc18iLCJwYWdlT2Zmc2V0IiwiY2xpZW50UmVjdCIsIm5vcm1hbGl6ZWRYIiwibm9ybWFsaXplZFkiLCJkb2N1bWVudFgiLCJkb2N1bWVudFkiLCJ0b3VjaEV2ZW50IiwiY2hhbmdlZFRvdWNoZXMiLCJwYWdlWCIsInBhZ2VZIiwibW91c2VFdmVudCIsImdldE5vcm1hbGl6ZWRFdmVudENvb3JkcyIsInN0YXRlIiwiYW5pbWF0ZURlYWN0aXZhdGlvbl8iLCJtYXhEaW0iLCJzcXJ0IiwicG93IiwiaW5pdGlhbFNpemUiLCJmbG9vciIsInVwZGF0ZUxheW91dENzc1ZhcnNfIiwicm91bmQiLCJzdXBwb3J0c0Nzc1ZhcmlhYmxlc1dpbiIsIndpbmRvd09iaiIsImZvcmNlUmVmcmVzaCIsInN1cHBvcnRzQ3NzVmFycyIsIkNTUyIsInN1cHBvcnRzIiwiZXhwbGljaXRseVN1cHBvcnRzQ3NzVmFycyIsIndlQXJlRmVhdHVyZURldGVjdGluZ1NhZmFyaTEwcGx1cyIsInN1cHBvcnRzQ3NzVmFyaWFibGVzIiwiaXNTYWZhcmkiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJkaWRBcHBseVJpcHBsZVN0eWxlIiwicmlwcGxlTm9kZSIsImhlYWQiLCJhcHBseVJpcHBsZVN0eWxlIiwic3VyZmFjZU5vZGUiLCJpbnRlcmFjdGlvbk5vZGUiLCJnZXRSb290Tm9kZSIsInJpcHBsZUZvdW5kYXRpb24iLCJoYXNBdHRyaWJ1dGUiLCJkb2N1bWVudEVsZW1lbnQiLCJ2YXJOYW1lIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicGFnZVhPZmZzZXQiLCJyaXBwbGVJbnRlcmFjdGlvbk5vZGVzIiwicmlwcGxlIiwiZXhpc3RpbmdJbnRlcmFjdGlvbk5vZGUiLCJkaXNhYmxlZCIsImFjdGl2ZSIsIkljb25CdXR0b25CYXNlIiwiaWNvbiIsImxhYmVsIiwiSWNvbkJ1dHRvbiIsIl9ibG9ja2luZ0VsZW1lbnRzIiwiX2FscmVhZHlJbmVydEVsZW1lbnRzIiwiX3RvcEVsUGFyZW50cyIsIl9zaWJsaW5nc1RvUmVzdG9yZSIsIl9wYXJlbnRNTyIsIl90b3BDaGFuZ2VkIiwiX3N3YXBJbmVydGVkU2libGluZyIsIl9pbmVydFNpYmxpbmdzIiwiX3Jlc3RvcmVJbmVydGVkU2libGluZ3MiLCJfZ2V0UGFyZW50cyIsIl9nZXREaXN0cmlidXRlZENoaWxkcmVuIiwiX2lzSW5lcnRhYmxlIiwiX2hhbmRsZU11dGF0aW9ucyIsIiRibG9ja2luZ0VsZW1lbnRzIiwiZWxlbXMiLCJzcGxpY2UiLCJuZXdUb3AiLCJ0b0tlZXBJbmVydCIsIm9sZFBhcmVudHMiLCJuZXdQYXJlbnRzIiwidG9Ta2lwIiwiaiIsIm9sZEluZXJ0IiwibmV3SW5lcnQiLCJzaWJsaW5nc1RvUmVzdG9yZSIsImluZXJ0IiwiZGlzY29ubmVjdCIsInNpYmxpbmdzIiwic2libGluZyIsImNoaWxkcmVuIiwiaW5lcnRlZFNpYmxpbmdzIiwibW8iLCJNdXRhdGlvbk9ic2VydmVyIiwiYmluZCIsInBhcmVudFRvT2JzZXJ2ZSIsIm1heWJlU2hhZHlSb290IiwiX19zaGFkeSIsIm9ic2VydmUiLCJjaGlsZExpc3QiLCJtdXRhdGlvbnMiLCJwYXJlbnRzIiwibXV0YXRpb24iLCJpbmVydGVkQ2hpbGQiLCJyZW1vdmVkTm9kZXMiLCJpbmZvIiwiYWRkZWROb2RlcyIsInRlc3QiLCJjdXJyZW50IiwiYXNzaWduZWRTbG90Iiwibm9kZXMiLCJzbG90cyIsIkVsZW1lbnQiLCJfZm9jdXNhYmxlRWxlbWVudHNTdHJpbmciLCJJbmVydFJvb3QiLCJyb290RWxlbWVudCIsImluZXJ0TWFuYWdlciIsIl9pbmVydE1hbmFnZXIiLCJfcm9vdEVsZW1lbnQiLCJfbWFuYWdlZE5vZGVzIiwiX3NhdmVkQXJpYUhpZGRlbiIsIl9tYWtlU3VidHJlZVVuZm9jdXNhYmxlIiwiX29ic2VydmVyIiwiX29uTXV0YXRpb24iLCJzdWJ0cmVlIiwiaW5lcnROb2RlIiwiX3VubWFuYWdlTm9kZSIsIm1hbmFnZWROb2RlcyIsImhhc1NhdmVkQXJpYUhpZGRlbiIsInNhdmVkQXJpYUhpZGRlbiIsImFyaWFIaWRkZW4iLCJjb21wb3NlZFRyZWVXYWxrIiwiX3Zpc2l0Tm9kZSIsInJvb3QiLCJET0NVTUVOVF9GUkFHTUVOVF9OT0RFIiwiYmx1ciIsImZvY3VzIiwiX2Fkb3B0SW5lcnRSb290IiwiX21hbmFnZU5vZGUiLCJyZWdpc3RlciIsImRlcmVnaXN0ZXIiLCJpbmVydFN1YnJvb3QiLCJnZXRJbmVydFJvb3QiLCJzZXRJbmVydCIsInNhdmVkSW5lcnROb2RlIiwicmVjb3JkcyIsInNlbGYiLCJyZWNvcmQiLCJfdW5tYW5hZ2VTdWJ0cmVlIiwiYXR0cmlidXRlTmFtZSIsIm1hbmFnZWROb2RlIiwiSW5lcnROb2RlIiwiaW5lcnRSb290IiwiX25vZGUiLCJfb3ZlcnJvZGVGb2N1c01ldGhvZCIsIl9pbmVydFJvb3RzIiwiX3NhdmVkVGFiSW5kZXgiLCJfZGVzdHJveWVkIiwiZW5zdXJlVW50YWJiYWJsZSIsIl90aHJvd0lmRGVzdHJveWVkIiwiZGVzdHJveWVkIiwiaGFzU2F2ZWRUYWJJbmRleCIsInNhdmVkVGFiSW5kZXgiLCJ0YWJJbmRleCIsImRlc3RydWN0b3IiLCJjYWxsYmFjayIsInNoYWRvd1Jvb3RBbmNlc3RvciIsImRpc3RyaWJ1dGVkTm9kZXMiLCJnZXREaXN0cmlidXRlZE5vZGVzIiwic2xvdCIsImNoaWxkIiwiYWRkSW5lcnRTdHlsZSIsIl9kb2N1bWVudCIsIl93YXRjaEZvckluZXJ0IiwicmVhZHlTdGF0ZSIsIl9vbkRvY3VtZW50TG9hZGVkIiwiYWRkSW5lcnRSb290IiwicmVtb3ZlSW5lcnRSb290IiwiaW5lcnRFbGVtZW50IiwiaW5lcnRFbGVtZW50cyIsIkFOSU1BVEUiLCJDTE9TSU5HIiwiRElTTUlTU0lCTEUiLCJNT0RBTCIsIk9QRU4iLCJPUEVOSU5HIiwiQVBQX0NPTlRFTlRfU0VMRUNUT1IiLCJDTE9TRV9FVkVOVCIsIk9QRU5fRVZFTlQiLCJTQ1JJTV9TRUxFQ1RPUiIsIk1EQ0Rpc21pc3NpYmxlRHJhd2VyRm91bmRhdGlvbiIsImFuaW1hdGlvbkZyYW1lXyIsImFuaW1hdGlvblRpbWVyXyIsImVsZW1lbnRIYXNDbGFzcyIsIm5vdGlmeUNsb3NlIiwibm90aWZ5T3BlbiIsInNhdmVGb2N1cyIsInJlc3RvcmVGb2N1cyIsImZvY3VzQWN0aXZlTmF2aWdhdGlvbkl0ZW0iLCJ0cmFwRm9jdXMiLCJyZWxlYXNlRm9jdXMiLCJvcGVuIiwiaXNPcGVuIiwiaXNPcGVuaW5nIiwiaXNDbG9zaW5nIiwicnVuTmV4dEFuaW1hdGlvbkZyYW1lXyIsImNsb3NlIiwiaGFuZGxlS2V5ZG93biIsImhhbmRsZVRyYW5zaXRpb25FbmQiLCJpc0VsZW1lbnRfIiwiY2xvc2VkXyIsIm9wZW5lZF8iLCJNRENNb2RhbERyYXdlckZvdW5kYXRpb24iLCJoYW5kbGVTY3JpbUNsaWNrIiwiYmxvY2tpbmdFbGVtZW50cyIsIkRyYXdlckJhc2UiLCJfcHJldmlvdXNGb2N1cyIsImhhc0hlYWRlciIsImFwcENvbnRlbnQiLCJkaXNtaXNzaWJsZSIsIm1vZGFsIiwiaGVhZGVyIiwibWRjLWRyYXdlci0tZGlzbWlzc2libGUiLCJtZGMtZHJhd2VyLS1tb2RhbCIsIl9oYW5kbGVTY3JpbUNsaWNrIiwiRHJhd2VyIiwiaWZEZWZpbmVkIiwiQUNUSU9OX0VWRU5UIiwiQVJJQV9DSEVDS0VEIiwiQVJJQV9DSEVDS0VEX0NIRUNLQk9YX1NFTEVDVE9SIiwiQVJJQV9DSEVDS0VEX1JBRElPX1NFTEVDVE9SIiwiQVJJQV9DVVJSRU5UIiwiQVJJQV9ESVNBQkxFRCIsIkFSSUFfT1JJRU5UQVRJT04iLCJBUklBX09SSUVOVEFUSU9OX0hPUklaT05UQUwiLCJBUklBX1JPTEVfQ0hFQ0tCT1hfU0VMRUNUT1IiLCJBUklBX1NFTEVDVEVEIiwiQ0hFQ0tCT1hfUkFESU9fU0VMRUNUT1IiLCJDSEVDS0JPWF9TRUxFQ1RPUiIsIkNISUxEX0VMRU1FTlRTX1RPX1RPR0dMRV9UQUJJTkRFWCIsIkZPQ1VTQUJMRV9DSElMRF9FTEVNRU5UUyIsIlJBRElPX1NFTEVDVE9SIiwiVU5TRVRfSU5ERVgiLCJFTEVNRU5UU19LRVlfQUxMT1dFRF9JTiIsImlzSW5kZXhTZXQiLCJzZWxlY3RlZEluZGV4IiwiY3JlYXRlU2V0RnJvbUluZGV4IiwiZW50cnkiLCJNRENMaXN0Rm91bmRhdGlvbiIsImlzTXVsdGlfIiwid3JhcEZvY3VzXyIsImlzVmVydGljYWxfIiwic2VsZWN0ZWRJbmRleF8iLCJmb2N1c2VkSXRlbUluZGV4XyIsInVzZUFjdGl2YXRlZENsYXNzXyIsImFyaWFDdXJyZW50QXR0clZhbHVlXyIsImZvY3VzSXRlbUF0SW5kZXgiLCJnZXRGb2N1c2VkRWxlbWVudEluZGV4IiwiZ2V0TGlzdEl0ZW1Db3VudCIsImlzRm9jdXNJbnNpZGVMaXN0IiwiaXNSb290Rm9jdXNlZCIsIm5vdGlmeUFjdGlvbiIsIm5vdGlmeVNlbGVjdGVkIiwiZ2V0U2VsZWN0ZWRTdGF0ZUZvckVsZW1lbnRJbmRleCIsInNldERpc2FibGVkU3RhdGVGb3JFbGVtZW50SW5kZXgiLCJnZXREaXNhYmxlZFN0YXRlRm9yRWxlbWVudEluZGV4Iiwic2V0U2VsZWN0ZWRTdGF0ZUZvckVsZW1lbnRJbmRleCIsInNldEFjdGl2YXRlZFN0YXRlRm9yRWxlbWVudEluZGV4Iiwic2V0VGFiSW5kZXhGb3JFbGVtZW50SW5kZXgiLCJzZXRBdHRyaWJ1dGVGb3JFbGVtZW50SW5kZXgiLCJnZXRBdHRyaWJ1dGVGb3JFbGVtZW50SW5kZXgiLCJ1c2VBY3RpdmF0ZWQiLCJpc0luZGV4VmFsaWRfIiwic2V0TXVsdGlTZWxlY3Rpb25BdEluZGV4XyIsInNldFNpbmdsZVNlbGVjdGlvbkF0SW5kZXhfIiwiXyIsImxpc3RJdGVtSW5kZXgiLCJzZXRUYWJpbmRleFRvRmlyc3RTZWxlY3RlZEl0ZW1fIiwiaXNSb290TGlzdEl0ZW0iLCJpc0Fycm93TGVmdCIsImlzQXJyb3dVcCIsImlzQXJyb3dSaWdodCIsImlzQXJyb3dEb3duIiwiaXNIb21lIiwiaXNFbmQiLCJpc0VudGVyIiwiaXNTcGFjZSIsInByZXZlbnREZWZhdWx0IiwiZm9jdXNMYXN0RWxlbWVudCIsImZvY3VzRmlyc3RFbGVtZW50IiwibmV4dEluZGV4IiwiY3VycmVudEluZGV4IiwicHJldmVudERlZmF1bHRFdmVudF8iLCJmb2N1c05leHRFbGVtZW50IiwiZm9jdXNQcmV2RWxlbWVudCIsInNldFNlbGVjdGVkSW5kZXhPbkFjdGlvbl8iLCJzZXRUYWJpbmRleEF0SW5kZXhfIiwiZm9yY2UiLCJwcmV2SW5kZXgiLCJpdGVtSW5kZXgiLCJpc0VuYWJsZWQiLCJzZXRBcmlhRm9yU2luZ2xlU2VsZWN0aW9uQXRJbmRleF8iLCJuZXdJbmRleCIsIm9sZFNldCIsIm5ld1NldCIsIm9sZEFyciIsIm5ld0FyciIsImFkZGVkIiwicmVtb3ZlZCIsIm9sZFNvcnRlZCIsInNvcnQiLCJuZXdTb3J0ZWQiLCJvbGRWYWwiLCJuZXdWYWwiLCJmaW5kSW5kZXhEaWZmIiwiaXNBcmlhQ3VycmVudCIsImFyaWFBdHRyaWJ1dGUiLCJhcmlhQXR0cmlidXRlVmFsdWUiLCJ0YXJnZXRJbmRleCIsIm1pbiIsImlzT25lSW5SYW5nZSIsImlzSW5kZXhJblJhbmdlXyIsImxpc3RTaXplIiwiY2hlY2tlZEluZGV4IiwidG9nZ2xlTXVsdGlBdEluZGV4IiwibmV3U2VsZWN0aW9uVmFsdWUiLCJpc0xpc3RJdGVtIiwiTGlzdEJhc2UiLCJtZGNBZGFwdGVyIiwiYWN0aXZhdGFibGUiLCJtdWx0aSIsIndyYXBGb2N1cyIsIml0ZW1Sb2xlcyIsImlubmVyUm9sZSIsInJvb3RUYWJiYWJsZSIsInByZXZpb3VzVGFiaW5kZXgiLCJub25pbnRlcmFjdGl2ZSIsIml0ZW1zXyIsImFzc2lnbmVkRWxlbWVudHMiLCJzbG90RWxlbWVudCIsImZpbHRlciIsIml0ZW1zIiwibGlzdEl0ZW1zIiwic2VsZWN0ZWRJbmRpY2VzIiwic2VsZWN0ZWQiLCJzZWxlY3QiLCJlbnRyaWVzIiwibmV4dCIsImdldFNlbGVjdGVkSW5kZXgiLCJyb2xlIiwidGFiaW5kZXgiLCJvbktleWRvd24iLCJvbkZvY3VzSW4iLCJvbkZvY3VzT3V0Iiwib25SZXF1ZXN0U2VsZWN0ZWQiLCJvblNsb3RDaGFuZ2UiLCJvbkxpc3RJdGVtQ29ubmVjdGVkIiwiZ2V0SW5kZXhPZlRhcmdldCIsImhhbmRsZUZvY3VzSW4iLCJoYW5kbGVGb2N1c091dCIsImRldGFpbCIsImhhbmRsZVNpbmdsZVNlbGVjdGlvbiIsInN0b3BQcm9wYWdhdGlvbiIsInBhdGhJdGVtIiwiYWN0aXZlRWxlbWVudFBhdGgiLCJhY3RpdmVJdGVtIiwidmFsIiwiQ3VzdG9tRXZlbnQiLCJhY3RpdmF0ZWQiLCJzZXRTZWxlY3RlZEluZGV4IiwidXBkYXRlSXRlbXMiLCJmaXJzdCIsInNldFVzZUFjdGl2YXRlZENsYXNzIiwibmV3VmFsdWUiLCJzZXRNdWx0aSIsInNldFdyYXBGb2N1cyIsIl9uZXdWYWx1ZSIsInRhYmJhYmxlIiwiZWwiLCJmaW5kQXNzaWduZWRFbGVtZW50IiwiTGlzdCIsIkNvcm5lckJpdCIsIkNvcm5lciIsIkFOQ0hPUiIsIkFOSU1BVElOR19DTE9TRUQiLCJBTklNQVRJTkdfT1BFTiIsIkZJWEVEIiwiQ0xPU0VEX0VWRU5UIiwiT1BFTkVEX0VWRU5UIiwiRk9DVVNBQkxFX0VMRU1FTlRTIiwiVFJBTlNJVElPTl9PUEVOX0RVUkFUSU9OIiwiVFJBTlNJVElPTl9DTE9TRV9EVVJBVElPTiIsIk1BUkdJTl9UT19FREdFIiwiQU5DSE9SX1RPX01FTlVfU1VSRkFDRV9XSURUSF9SQVRJTyIsImNhY2hlZENzc1RyYW5zZm9ybVByb3BlcnR5TmFtZV8iLCJNRENNZW51U3VyZmFjZUZvdW5kYXRpb24iLCJpc09wZW5fIiwiaXNRdWlja09wZW5fIiwiaXNIb2lzdGVkRWxlbWVudF8iLCJpc0ZpeGVkUG9zaXRpb25fIiwib3BlbkFuaW1hdGlvbkVuZFRpbWVySWRfIiwiY2xvc2VBbmltYXRpb25FbmRUaW1lcklkXyIsImFuaW1hdGlvblJlcXVlc3RJZF8iLCJhbmNob3JDb3JuZXJfIiwiVE9QX1NUQVJUIiwiYW5jaG9yTWFyZ2luXyIsInBvc2l0aW9uXyIsImhhc0FuY2hvciIsImlzRWxlbWVudEluQ29udGFpbmVyIiwiaXNGb2N1c2VkIiwiaXNSdGwiLCJnZXRJbm5lckRpbWVuc2lvbnMiLCJnZXRBbmNob3JEaW1lbnNpb25zIiwiZ2V0V2luZG93RGltZW5zaW9ucyIsImdldEJvZHlEaW1lbnNpb25zIiwiZ2V0V2luZG93U2Nyb2xsIiwic2V0UG9zaXRpb24iLCJzZXRNYXhIZWlnaHQiLCJzZXRUcmFuc2Zvcm1PcmlnaW4iLCJzZXRBbmNob3JDb3JuZXIiLCJjb3JuZXIiLCJzZXRBbmNob3JNYXJnaW4iLCJtYXJnaW4iLCJzZXRJc0hvaXN0ZWQiLCJpc0hvaXN0ZWQiLCJzZXRGaXhlZFBvc2l0aW9uIiwiaXNGaXhlZFBvc2l0aW9uIiwic2V0QWJzb2x1dGVQb3NpdGlvbiIsImlzRmluaXRlXyIsInNldFF1aWNrT3BlbiIsInF1aWNrT3BlbiIsImRpbWVuc2lvbnNfIiwiYXV0b1Bvc2l0aW9uXyIsInNraXBSZXN0b3JlRm9jdXMiLCJtYXliZVJlc3RvcmVGb2N1c18iLCJoYW5kbGVCb2R5Q2xpY2siLCJtZWFzdXJlbWVudHNfIiwiZ2V0QXV0b0xheW91dE1lYXN1cmVtZW50c18iLCJnZXRPcmlnaW5Db3JuZXJfIiwibWF4TWVudVN1cmZhY2VIZWlnaHQiLCJnZXRNZW51U3VyZmFjZU1heEhlaWdodF8iLCJ2ZXJ0aWNhbEFsaWdubWVudCIsImhhc0JpdF8iLCJCT1RUT00iLCJob3Jpem9udGFsQWxpZ25tZW50IiwiUklHSFQiLCJob3Jpem9udGFsT2Zmc2V0IiwiZ2V0SG9yaXpvbnRhbE9yaWdpbk9mZnNldF8iLCJ2ZXJ0aWNhbE9mZnNldCIsImdldFZlcnRpY2FsT3JpZ2luT2Zmc2V0XyIsImFuY2hvclNpemUiLCJzdXJmYWNlU2l6ZSIsImFkanVzdFBvc2l0aW9uRm9ySG9pc3RlZEVsZW1lbnRfIiwiYW5jaG9yUmVjdCIsImJvZHlTaXplIiwidmlld3BvcnRTaXplIiwid2luZG93U2Nyb2xsIiwidmlld3BvcnREaXN0YW5jZSIsIlRPUF9MRUZUIiwiaXNCb3R0b21BbGlnbmVkIiwiYXZhaWxhYmxlVG9wIiwiYXZhaWxhYmxlQm90dG9tIiwidG9wT3ZlcmZsb3ciLCJib3R0b21PdmVyZmxvdyIsInNldEJpdF8iLCJpc0ZsaXBSdGwiLCJGTElQX1JUTCIsImF2b2lkSG9yaXpvbnRhbE92ZXJsYXAiLCJpc0FsaWduZWRSaWdodCIsImF2YWlsYWJsZUxlZnQiLCJhdmFpbGFibGVSaWdodCIsImxlZnRPdmVyZmxvdyIsInJpZ2h0T3ZlcmZsb3ciLCJtYXhIZWlnaHQiLCJpc0JvdHRvbUFuY2hvcmVkIiwiaXNSaWdodEFsaWduZWQiLCJyaWdodE9mZnNldCIsImF2b2lkVmVydGljYWxPdmVybGFwIiwiZV8xIiwicHJvcHNfMSIsIm0iLCJkb25lIiwidHNsaWJfMS5fX3ZhbHVlcyIsInByb3BzXzFfMSIsImVfMV8xIiwiZXJyb3IiLCJyZXR1cm4iLCJjaGlsZEhhc0ZvY3VzIiwiYml0IiwibnVtIiwiaXNGaW5pdGUiLCJNZW51U3VyZmFjZUJhc2UiLCJhYnNvbHV0ZSIsImZ1bGx3aWR0aCIsImFuY2hvciIsImZpeGVkIiwicXVpY2siLCJwcmV2aW91c2x5Rm9jdXNlZCIsInByZXZpb3VzQW5jaG9yIiwib25Cb2R5Q2xpY2tCb3VuZCIsImNsYXNzZXMiLCJtZGMtbWVudS1zdXJmYWNlLS1maXhlZCIsInJlZ2lzdGVyQm9keUNsaWNrIiwiZGVyZWdpc3RlckJvZHlDbGljayIsImdldENvbXB1dGVkU3R5bGUiLCJkaXJlY3Rpb24iLCJvcmlnaW4iLCJwcm9wZXJ0eU5hbWUiLCJnZXRUcmFuc2Zvcm1Qcm9wZXJ0eU5hbWUiLCJwYXRoTGVuZ3RoIiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJhbmNob3JFbGVtZW50IiwiY2xpZW50V2lkdGgiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJvbkJvZHlDbGljayIsImlzQWJzb2x1dGUiLCJzYXZlT3JSZXN0b3JlQW5jaG9yIiwibmV3QW5jaG9yIiwib2xkQW5jaG9yIiwiaXNGaXhlZCIsIkNvcm5lckVudW0iLCJNZW51U3VyZmFjZSIsIkRlZmF1bHRGb2N1c1N0YXRlIiwiTUVOVV9TRUxFQ1RFRF9MSVNUX0lURU0iLCJNRU5VX1NFTEVDVElPTl9HUk9VUCIsIkFSSUFfQ0hFQ0tFRF9BVFRSIiwiQVJJQV9ESVNBQkxFRF9BVFRSIiwiTElTVF9TRUxFQ1RPUiIsIlNFTEVDVEVEX0VWRU5UIiwiRk9DVVNfUk9PVF9JTkRFWCIsIk1EQ01lbnVGb3VuZGF0aW9uIiwiZGVmYXVsdEZvY3VzU3RhdGVfIiwiTElTVF9ST09UIiwiYWRkQ2xhc3NUb0VsZW1lbnRBdEluZGV4IiwicmVtb3ZlQ2xhc3NGcm9tRWxlbWVudEF0SW5kZXgiLCJhZGRBdHRyaWJ1dGVUb0VsZW1lbnRBdEluZGV4IiwicmVtb3ZlQXR0cmlidXRlRnJvbUVsZW1lbnRBdEluZGV4IiwiZWxlbWVudENvbnRhaW5zQ2xhc3MiLCJjbG9zZVN1cmZhY2UiLCJnZXRFbGVtZW50SW5kZXgiLCJnZXRNZW51SXRlbUNvdW50IiwiZm9jdXNMaXN0Um9vdCIsImdldFNlbGVjdGVkU2libGluZ09mSXRlbUF0SW5kZXgiLCJpc1NlbGVjdGFibGVJdGVtQXRJbmRleCIsImhhbmRsZUl0ZW1BY3Rpb24iLCJsaXN0SXRlbSIsInJlY29tcHV0ZWRJbmRleCIsImhhbmRsZU1lbnVTdXJmYWNlT3BlbmVkIiwiRklSU1RfSVRFTSIsIkxBU1RfSVRFTSIsIk5PTkUiLCJzZXREZWZhdWx0Rm9jdXNTdGF0ZSIsImZvY3VzU3RhdGUiLCJ2YWxpZGF0ZWRJbmRleF8iLCJwcmV2U2VsZWN0ZWRJbmRleCIsInNldEVuYWJsZWQiLCJsaXN0Q3NzQ2xhc3NlcyIsIm1lbnVTaXplIiwiTWVudUJhc2UiLCJsaXN0RWxlbWVudF8iLCJmb3JjZUdyb3VwU2VsZWN0aW9uIiwiZGVmYXVsdEZvY3VzIiwibGlzdEVsZW1lbnQiLCJvbkNsb3NlZCIsIm9uT3BlbmVkIiwib25BY3Rpb24iLCJ0b2dnbGUiLCJlbGVtZW50QXRJbmRleCIsImdyb3VwIiwiRGVmYXVsdEZvY3VzU3RhdGVFbnVtIiwiTWVudSIsIkxpc3RJdGVtQmFzZSIsInR3b2xpbmUiLCJncmFwaGljIiwiaGFzTWV0YSIsImJvdW5kT25DbGljayIsIm9uQ2xpY2siLCJ0cmltIiwicmVuZGVyVGV4dCIsInJlbmRlckdyYXBoaWMiLCJtZXRhIiwicmVuZGVyTWV0YSIsImlubmVyIiwicmVuZGVyVHdvbGluZSIsInJlbmRlclNpbmdsZUxpbmUiLCJmaXJlUmVxdWVzdERldGFpbCIsImlzQ2xpY2siLCJjdXN0b21FdiIsInRvZ2dsZUF0dHJpYnV0ZSIsIkxpc3RJdGVtIiwiSWNvbiIsIm5hdGl2ZUNzc1ZhcmlhYmxlc18iLCJjc3NCdWlsZCIsImNhbGNDc3NWYXJpYWJsZXMiLCJzZXR0aW5ncyIsImRpc2FibGVSdW50aW1lIiwibmF0aXZlQ3NzIiwibmF0aXZlQ3NzVmFyaWFibGVzIiwiU3R5bGVOb2RlIiwicGFyc2VDc3MiLCJzdWJzdHJpbmciLCJzcyIsInJlcGxhY2UiLCJjb2RlIiwicmVwZWF0IiwiX2V4cGFuZFVuaWNvZGVFc2NhcGVzIiwiUlgiLCJtdWx0aXBsZVNwYWNlcyIsIkFUX1NUQVJUIiwiTUVESUFfU1RBUlQiLCJ0eXBlcyIsIk1FRElBX1JVTEUiLCJrZXlmcmFtZXNSdWxlIiwiS0VZRlJBTUVTX1JVTEUiLCJWQVJfU1RBUlQiLCJNSVhJTl9SVUxFIiwiU1RZTEVfUlVMRSIsInIkIiwiT1BFTl9CUkFDRSIsInByZXZpb3VzIiwiQ0xPU0VfQlJBQ0UiLCJsZXgiLCJjb21tZW50cyIsInBvcnQiLCJwcmVzZXJ2ZVByb3BlcnRpZXMiLCJydWxlcyIsIl9oYXNNaXhpblJ1bGVzIiwibWl4aW5BcHBseSIsInZhckFwcGx5IiwicmVtb3ZlQ3VzdG9tUHJvcEFwcGx5IiwiY3VzdG9tUHJvcCIsIm1peGluUHJvcCIsInJlbW92ZUN1c3RvbVByb3BBc3NpZ25tZW50IiwicmVtb3ZlQ3VzdG9tUHJvcHMiLCJWQVJfQVNTSUdOIiwiTUlYSU5fTUFUQ0giLCJNRURJQV9NQVRDSCIsInN0eWxlVGV4dFNldCIsInByb2Nlc3NVbnNjb3BlZFN0eWxlIiwibmV3U3R5bGUiLCJpc1Vuc2NvcGVkU3R5bGUiLCJ0b0Nzc1RleHQiLCJmb3JFYWNoUnVsZSIsInJ1bGVzRm9yU3R5bGUiLCJzdHlsZVJ1bGVDYWxsYmFjayIsImtleWZyYW1lc1J1bGVDYWxsYmFjayIsIm9ubHlBY3RpdmVSdWxlcyIsInNraXBSdWxlcyIsIm1hdGNoTWVkaWEiLCJnZXRDc3NCdWlsZCIsIl9fY3NzQnVpbGQiLCJidWlsZENvbW1lbnQiLCJDb21tZW50IiwiY29tbWVudFBhcnRzIiwiZ2V0QnVpbGRDb21tZW50IiwicmVtb3ZlQnVpbGRDb21tZW50IiwiZWxlbWVudEhhc0J1aWx0Q3NzIiwidXBkYXRlTmF0aXZlUHJvcGVydGllcyIsInJlbW92ZVByb3BlcnR5IiwiZ2V0Q29tcHV0ZWRTdHlsZVZhbHVlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsIkFQUExZX05BTUVfQ0xFQU4iLCJJTklUSUFMX0lOSEVSSVQiLCJJTVBPUlRBTlQiLCJNaXhpbk1hcCIsIl9tYXAiLCJkZXBlbmRhbnRzIiwiaW52YWxpZENhbGxiYWNrIiwiQXBwbHlTaGltIiwiX2N1cnJlbnRFbGVtZW50IiwiX21lYXN1cmVFbGVtZW50IiwiZGV0ZWN0TWl4aW4iLCJzdHlsZVRleHQiLCJzdHlsZVRleHRQYXJ0cyIsImdhdGhlclN0eWxlVGV4dCIsImVsZW1lbnROYW1lIiwiX2dhdGhlcmVkU3R5bGUiLCJnYXRoZXJTdHlsZXMiLCJ0cmFuc2Zvcm1TdHlsZSIsImFzdCIsInRyYW5zZm9ybVJ1bGVzIiwicnVsZSIsInRyYW5zZm9ybVJ1bGUiLCJ0cmFuc2Zvcm1Dc3NUZXh0IiwibWF0Y2hUZXh0IiwidmFsdWVQcm9wZXJ0eSIsInZhbHVlTWl4aW4iLCJfcHJvZHVjZUNzc1Byb3BlcnRpZXMiLCJfY29uc3VtZUNzc1Byb3BlcnRpZXMiLCJhbGwiLCJzdGFydFJ1bGUiLCJ0b3BSdWxlIiwiZmFsbGJhY2tzIiwic2VlblN0YXJ0UnVsZSIsIl9jc3NUZXh0VG9NYXAiLCJtaXhpbk5hbWUiLCJhcHBseVBvcyIsImFmdGVyQXBwbHlQb3MiLCJ0ZXh0QmVmb3JlQXBwbHkiLCJ0ZXh0QWZ0ZXJBcHBseSIsImRlZmF1bHRzIiwiX2ZhbGxiYWNrc0Zyb21QcmV2aW91c1J1bGVzIiwicmVwbGFjZW1lbnQiLCJfYXRBcHBseVRvQ3NzUHJvcGVydGllcyIsInZhcnMiLCJtaXhpbkVudHJ5IiwiX2dldEluaXRpYWxWYWx1ZUZvclByb3BlcnR5IiwicmVwbGFjZUluaXRpYWxPckluaGVyaXQiLCJvdXQiLCJzcCIsIl9yZXBsYWNlSW5pdGlhbE9ySW5oZXJpdCIsInByb2Nlc3NWYXJpYWJsZUFuZEZhbGxiYWNrIiwibGV2ZWwiLCJmaW5kTWF0Y2hpbmdQYXJlbiIsImNvbW1hIiwibWl4aW5Bc1Byb3BlcnRpZXMiLCJtaXhpblZhbHVlcyIsImNvbWJpbmVkUHJvcHMiLCJvbGRQcm9wcyIsIm5lZWRUb0ludmFsaWRhdGUiLCJfaW52YWxpZGF0ZU1peGluRW50cnkiLCJ0cmFuc2Zvcm1DdXN0b21TdHlsZSIsInRyYW5zZm9ybVRlbXBsYXRlIiwiY2IiLCJ0ZW1wbGF0ZU1hcCIsIkNVUlJFTlRfVkVSU0lPTiIsIk5FWFRfVkVSU0lPTiIsInByb21pc2UiLCJpbnZhbGlkYXRlIiwiaW52YWxpZGF0ZVRlbXBsYXRlIiwidGVtcGxhdGVJc1ZhbGlkIiwicmVzb2x2ZUZuIiwicmVhZHlQcm9taXNlIiwid2hlblJlYWR5IiwiZG9jdW1lbnRXYWl0IiwidGhlbiIsIkNBQ0hFRF9TVFlMRSIsInRyYW5zZm9ybUZuIiwidmFsaWRhdGVGbiIsIkN1c3RvbVN0eWxlSW50ZXJmYWNlIiwiZW5xdWV1ZURvY3VtZW50VmFsaWRhdGlvbiIsImN1c3RvbVN0eWxlIiwiY3MiLCJnZXRTdHlsZUZvckN1c3RvbVN0eWxlIiwic3R5bGVUb1RyYW5zZm9ybSIsImFkZEN1c3RvbVN0eWxlIiwicHJvY2Vzc1N0eWxlcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0cmFuc2Zvcm1DYWxsYmFjayIsInZhbGlkYXRlQ2FsbGJhY2siLCJuZWVkc0VucXVldWUiLCJhcHBseVNoaW0iLCJBcHBseVNoaW1JbnRlcmZhY2UiLCJjdXN0b21TdHlsZUludGVyZmFjZSIsIkFwcGx5U2hpbVV0aWxzLmludmFsaWRhdGUiLCJmbHVzaEN1c3RvbVN0eWxlcyIsImVuc3VyZSIsInNoYWRvd0NoaWxkcmVuIiwiY2hpbGROb2RlcyIsInN0eWxlU3VidHJlZSIsImlzIiwidHlwZUV4dGVuc2lvbiIsImV4dGVuZHMiLCJnZXRJc0V4dGVuZHMiLCJBcHBseVNoaW1VdGlscy50ZW1wbGF0ZUlzVmFsaWQiLCJBcHBseVNoaW1VdGlscy50ZW1wbGF0ZUlzVmFsaWRhdGluZyIsInByZXBhcmVUZW1wbGF0ZSIsIl92YWxpZGF0aW5nIiwiQXBwbHlTaGltVXRpbHMuc3RhcnRWYWxpZGF0aW5nVGVtcGxhdGUiLCJhcHBseVNoaW1JbnRlcmZhY2UiLCJlbGVtZW50RXh0ZW5kcyIsInN0eWxlRG9jdW1lbnQiLCJvYmoiLCJ3b3JraW5nVVJMIiwicmVzb2x2ZURvYyIsIkNTU19VUkxfUlgiLCJBQlNfVVJMIiwicmVzb2x2ZVVybCIsInVybCIsImJhc2VVUkkiLCJ1IiwiVVJMIiwicGF0aG5hbWUiLCJocmVmIiwibG9jYXRpb24iLCJpbXBsZW1lbnRhdGlvbiIsImNyZWF0ZUhUTUxEb2N1bWVudCIsImJhc2UiLCJyZXNvbHZlQ3NzIiwicHJlIiwicG9zdCIsInBhdGhGcm9tVXJsIiwicm9vdFBhdGgiLCJzYW5pdGl6ZURPTVZhbHVlIiwiUG9seW1lciIsImRlZHVwZUlkIiwiZGVkdXBpbmdNaXhpbiIsIm1peGluIiwibWl4aW5BcHBsaWNhdGlvbnMiLCJfX21peGluQXBwbGljYXRpb25zIiwibWl4aW5EZWR1cGVJZCIsImJhc2VTZXQiLCJfX21peGluU2V0IiwiZXh0ZW5kZWQiLCJtaXhpblNldCIsIm1vZHVsZXMiLCJsY01vZHVsZXMiLCJEb21Nb2R1bGUiLCJpZCIsImZpbmRNb2R1bGUiLCJuYW1lc3BhY2UiLCJhc3NldHBhdGgiLCJfX2Fzc2V0cGF0aCIsIm93bmVyIiwiSFRNTEltcG9ydHMiLCJpbXBvcnRGb3JFbGVtZW50Iiwib3duZXJEb2N1bWVudCIsImluc3QiLCJtb2R1bGUiLCJzZXRNb2R1bGUiLCJpbXBvcnRNb2R1bGUiLCJtb2R1bGVJZCIsImltcG9ydCIsInN0eWxlRm9ySW1wb3J0IiwiaW1wb3J0RG9jIiwiaW1wb3J0Q3NzIiwic3R5bGVzRnJvbU1vZHVsZXMiLCJtb2R1bGVJZHMiLCJzdHlsZXNGcm9tTW9kdWxlIiwiX3N0eWxlc0Zyb21Nb2R1bGVJbXBvcnRzIiwic3R5bGVzRnJvbVRlbXBsYXRlIiwiZSQiLCJpbmNsdWRlIiwicCQiLCJ1bnNjb3BlZCIsIl91bnNjb3BlZFN0eWxlIiwiX3N0eWxlIiwiY3NzRnJvbU1vZHVsZSIsIl9jc3NUZXh0IiwiX2Nzc0Zyb21Nb2R1bGVJbXBvcnRzIiwiY3NzRnJvbVRlbXBsYXRlIiwid3JhcCIsIlNoYWR5RE9NIiwiaXNQYXRoIiwiZG90SW5kZXgiLCJpc0FuY2VzdG9yIiwiaXNEZXNjZW5kYW50IiwidHJhbnNsYXRlIiwibmV3QmFzZSIsIm5vcm1hbGl6ZSIsInRvU3RyaW5nIiwibGFzdCIsImNhc2VNYXAiLCJEQVNIX1RPX0NBTUVMIiwiQ0FNRUxfVE9fREFTSCIsImRhc2hUb0NhbWVsQ2FzZSIsImRhc2giLCJ0b1VwcGVyQ2FzZSIsImNhbWVsVG9EYXNoQ2FzZSIsImNhbWVsIiwibWljcm90YXNrQ3VyckhhbmRsZSIsIm1pY3JvdGFza0xhc3RIYW5kbGUiLCJtaWNyb3Rhc2tDYWxsYmFja3MiLCJtaWNyb3Rhc2tOb2RlQ29udGVudCIsIm1pY3JvdGFza05vZGUiLCJsZW4iLCJjaGFyYWN0ZXJEYXRhIiwidGltZU91dCIsImFmdGVyIiwiZGVsYXkiLCJydW4iLCJoYW5kbGUiLCJtaWNyb1Rhc2siLCJtaWNyb3Rhc2siLCJQcm9wZXJ0aWVzQ2hhbmdlZCIsInN1cGVyQ2xhc3MiLCJfY3JlYXRlUHJvcGVydHlBY2Nlc3NvciIsInJlYWRPbmx5IiwiX2FkZFByb3BlcnR5VG9BdHRyaWJ1dGVNYXAiLCJfX2RhdGFIYXNBY2Nlc3NvciIsIl9kZWZpbmVQcm9wZXJ0eUFjY2Vzc29yIiwiX19kYXRhQXR0cmlidXRlcyIsImF0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eSIsIl9nZXRQcm9wZXJ0eSIsIl9zZXRQcm9wZXJ0eSIsIl9fZGF0YUVuYWJsZWQiLCJfX2RhdGFSZWFkeSIsIl9fZGF0YUludmFsaWQiLCJfX2RhdGEiLCJfX2RhdGFQZW5kaW5nIiwiX19kYXRhT2xkIiwiX19kYXRhSW5zdGFuY2VQcm9wcyIsIl9fc2VyaWFsaXppbmciLCJfaW5pdGlhbGl6ZVByb3BlcnRpZXMiLCJfZmx1c2hQcm9wZXJ0aWVzIiwiX3NldFBlbmRpbmdQcm9wZXJ0eSIsIl9pbnZhbGlkYXRlUHJvcGVydGllcyIsImV4dCIsImNoYW5nZWQiLCJfc2hvdWxkUHJvcGVydHlDaGFuZ2UiLCJfaW5pdGlhbGl6ZUluc3RhbmNlUHJvcGVydGllcyIsInJlYWR5IiwiY2hhbmdlZFByb3BzIiwiX3Nob3VsZFByb3BlcnRpZXNDaGFuZ2UiLCJfcHJvcGVydGllc0NoYW5nZWQiLCJjdXJyZW50UHJvcHMiLCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2siLCJfZGVzZXJpYWxpemVWYWx1ZSIsInR5cGVGb3JQcm9wZXJ0eSIsIl92YWx1ZVRvTm9kZUF0dHJpYnV0ZSIsIl9zZXJpYWxpemVWYWx1ZSIsIm5hdGl2ZVByb3BlcnRpZXMiLCJQcm9wZXJ0eUFjY2Vzc29ycyIsImEkIiwiX19kYXRhUHJvdG8iLCJfaW5pdGlhbGl6ZVByb3RvUHJvcGVydGllcyIsIkRhdGUiLCJvdXRWYWx1ZSIsImlzTmFOIiwibW9kZWwiLCJzYXZlQWNjZXNzb3JWYWx1ZSIsInRlbXBsYXRlRXh0ZW5zaW9ucyIsImRvbS1pZiIsImRvbS1yZXBlYXQiLCJwbGFjZWhvbGRlckJ1Z0RldGVjdCIsInBsYWNlaG9sZGVyQnVnIiwiZml4UGxhY2Vob2xkZXIiLCJwbGFjZWhvbGRlciIsImhhc1BsYWNlaG9sZGVyQnVnIiwid3JhcFRlbXBsYXRlRXh0ZW5zaW9uIiwicmVwbGFjZUNoaWxkIiwiZmluZFRlbXBsYXRlTm9kZSIsIm5vZGVJbmZvIiwicGFyZW50SW5mbyIsInBhcmVudEluZGV4IiwiYXBwbHlJZFRvTWFwIiwiYXBwbHlFdmVudExpc3RlbmVyIiwiZXZlbnRzIiwiX2FkZE1ldGhvZEV2ZW50TGlzdGVuZXJUb05vZGUiLCJhcHBseVRlbXBsYXRlQ29udGVudCIsInRlbXBsYXRlSW5mbyIsIl90ZW1wbGF0ZUluZm8iLCJUZW1wbGF0ZVN0YW1wIiwib3V0ZXJUZW1wbGF0ZUluZm8iLCJub2RlSW5mb0xpc3QiLCJzdHJpcFdoaXRlU3BhY2UiLCJfcGFyc2VUZW1wbGF0ZUNvbnRlbnQiLCJfcGFyc2VUZW1wbGF0ZU5vZGUiLCJub3RlZCIsImhhc0luc2VydGlvblBvaW50IiwiX3BhcnNlVGVtcGxhdGVOZXN0ZWRUZW1wbGF0ZSIsIl9wYXJzZVRlbXBsYXRlQ2hpbGROb2RlcyIsIl9wYXJzZVRlbXBsYXRlTm9kZUF0dHJpYnV0ZXMiLCJURVhUX05PREUiLCJjaGlsZEluZm8iLCJpbmZvSW5kZXgiLCJfcGFyc2VUZW1wbGF0ZSIsImF0dHJzIiwiYSIsIl9wYXJzZVRlbXBsYXRlTm9kZUF0dHJpYnV0ZSIsIkhUTUxUZW1wbGF0ZUVsZW1lbnQiLCJkb20iLCJfX25vSW5zZXJ0aW9uUG9pbnQiLCJub2RlTGlzdCIsIiQiLCJtZXRob2ROYW1lIiwiY29udGV4dCIsIl9tZXRob2RIb3N0IiwiY3JlYXRlTm9kZUV2ZW50SGFuZGxlciIsIl9hZGRFdmVudExpc3RlbmVyVG9Ob2RlIiwiVFlQRVMiLCJDT01QVVRFIiwiUkVGTEVDVCIsIk5PVElGWSIsIlBST1BBR0FURSIsIk9CU0VSVkUiLCJSRUFEX09OTFkiLCJjYXBpdGFsQXR0cmlidXRlUmVnZXgiLCJlbnN1cmVPd25FZmZlY3RNYXAiLCJlZmZlY3RzIiwicHJvdG9GeCIsImluc3RGeCIsInJ1bkVmZmVjdHMiLCJoYXNQYXRocyIsImV4dHJhQXJncyIsInJhbiIsInJ1bkVmZmVjdHNGb3JQcm9wZXJ0eSIsImZ4cyIsImZ4IiwibGFzdFJ1biIsInBhdGhNYXRjaGVzVHJpZ2dlciIsInRyaWdnZXIiLCJ0cmlnZ2VyUGF0aCIsInN0cnVjdHVyZWQiLCJ3aWxkY2FyZCIsInJ1bk9ic2VydmVyRWZmZWN0IiwibWV0aG9kIiwiY2hhbmdlZFByb3AiLCJkeW5hbWljRm4iLCJub3RpZnlQYXRoIiwicm9vdFByb3BlcnR5IiwiZGlzcGF0Y2hOb3RpZnlFdmVudCIsInF1ZXVlUHJvcGVydHkiLCJydW5Ob3RpZnlFZmZlY3QiLCJydW5SZWZsZWN0RWZmZWN0IiwiYXR0ck5hbWUiLCJydW5Db21wdXRlZEVmZmVjdCIsInJ1bk1ldGhvZEVmZmVjdCIsImNvbXB1dGVkUHJvcCIsIm1ldGhvZEluZm8iLCJhZGRCaW5kaW5nIiwibGl0ZXJhbCIsImJpbmRpbmdzIiwiYmluZGluZyIsImlzQ29tcG91bmQiLCJuZWdhdGUiLCJsaXN0ZW5lckV2ZW50IiwibGlzdGVuZXJOZWdhdGUiLCJjb21wb3VuZEluZGV4IiwiYWRkRWZmZWN0Rm9yQmluZGluZ1BhcnQiLCJkZXBlbmRlbmNpZXMiLCJldmFsdWF0b3IiLCJwYXJzZUFyZyIsIl9hZGRUZW1wbGF0ZVByb3BlcnR5RWZmZWN0IiwicnVuQmluZGluZ0VmZmVjdCIsInNvdXJjZSIsIl9faXNQcm9wZXJ0eUVmZmVjdHNDbGllbnQiLCJfc2V0UGVuZGluZ1Byb3BlcnR5T3JQYXRoIiwiX2VucXVldWVDbGllbnQiLCJzdG9yYWdlIiwiX19kYXRhQ29tcG91bmRTdG9yYWdlIiwiY29tcHV0ZUJpbmRpbmdWYWx1ZSIsIl9zZXRVbm1hbmFnZWRQcm9wZXJ0eVRvTm9kZSIsImFwcGx5QmluZGluZ1ZhbHVlIiwiX2V2YWx1YXRlQmluZGluZyIsInNldHVwQ29tcG91bmRTdG9yYWdlIiwibGl0ZXJhbHMiLCJhZGROb3RpZnlMaXN0ZW5lciIsImZyb21Qcm9wIiwidG9QYXRoIiwiZnJvbVBhdGgiLCJjdXJyZW50VGFyZ2V0IiwiaGFuZGxlTm90aWZpY2F0aW9uIiwiY3JlYXRlTWV0aG9kRWZmZWN0Iiwic2lnIiwiZWZmZWN0Rm4iLCJzdGF0aWMiLCJhcmciLCJfYWRkUHJvcGVydHlFZmZlY3QiLCJfbWFyc2hhbEFyZ3MiLCJlbXB0eUFycmF5IiwiYmluZGluZ1JlZ2V4IiwiT1BFTl9CUkFDS0VUIiwibGl0ZXJhbEZyb21QYXJ0cyIsInBhcnNlTWV0aG9kIiwiZXhwcmVzc2lvbiIsImFyZ0xpc3QiLCJyYXdBcmciLCJwYXJzZUFyZ3MiLCJmYyIsImdldEFyZ1ZhbHVlIiwibm90aWZ5U3BsaWNlcyIsImFycmF5Iiwic3BsaWNlcyIsImluZGV4U3BsaWNlcyIsIm5vdGlmeVNwbGljZSIsImFkZGVkQ291bnQiLCJvYmplY3QiLCJQcm9wZXJ0eUVmZmVjdHMiLCJwcm9wZXJ0eUVmZmVjdHNCYXNlIiwiX19kYXRhQ291bnRlciIsIl9fZGF0YUNsaWVudHNSZWFkeSIsIl9fZGF0YVBlbmRpbmdDbGllbnRzIiwiX19kYXRhVG9Ob3RpZnkiLCJfX2RhdGFMaW5rZWRQYXRocyIsIl9fZGF0YUhhc1BhdGhzIiwiX19kYXRhSG9zdCIsIl9fZGF0YVRlbXAiLCJfX2RhdGFDbGllbnRzSW5pdGlhbGl6ZWQiLCJfX2NvbXB1dGVFZmZlY3RzIiwiX19yZWZsZWN0RWZmZWN0cyIsIl9fbm90aWZ5RWZmZWN0cyIsIl9fcHJvcGFnYXRlRWZmZWN0cyIsIl9fb2JzZXJ2ZUVmZmVjdHMiLCJfX3JlYWRPbmx5IiwiX190ZW1wbGF0ZUluZm8iLCJQUk9QRVJUWV9FRkZFQ1RfVFlQRVMiLCJob3N0U3RhY2siLCJyZWdpc3Rlckhvc3QiLCJlZmZlY3QiLCJfaGFzUHJvcGVydHlFZmZlY3QiLCJzaG91bGROb3RpZnkiLCJpc1BhdGhOb3RpZmljYXRpb24iLCJsaW5rcyIsImxpbmsiLCJjb21wdXRlTGlua2VkUGF0aHMiLCJwcm9wSXNQYXRoIiwicHJldlByb3BzIiwiY2xpZW50IiwiX19lbmFibGVPckZsdXNoQ2xpZW50cyIsIl9yZWFkeUNsaWVudHMiLCJjbGllbnRzIiwiX2VuYWJsZVByb3BlcnRpZXMiLCJzZXRSZWFkT25seSIsIl9mbHVzaENsaWVudHMiLCJjb21wdXRlRWZmZWN0cyIsImlucHV0UHJvcHMiLCJydW5Db21wdXRlZEVmZmVjdHMiLCJub3RpZnlQcm9wcyIsIl9wcm9wYWdhdGVQcm9wZXJ0eUNoYW5nZXMiLCJub3RpZmllZCIsInJ1bk5vdGlmeUVmZmVjdHMiLCJwcm9wZXJ0eUVmZmVjdHMiLCJuZXh0VGVtcGxhdGVJbmZvIiwidG8iLCJyZXQiLCJoYWRMZW5ndGgiLCJkZWxldGVDb3VudCIsInNoaWZ0IiwicHJvcFBhdGgiLCJwcm90ZWN0ZWRTZXR0ZXIiLCJwYXRoVmFsdWUiLCJfY3JlYXRlUHJvcGVydHlPYnNlcnZlciIsIl9jcmVhdGVNZXRob2RPYnNlcnZlciIsIl9jcmVhdGVOb3RpZnlpbmdQcm9wZXJ0eSIsIl9jcmVhdGVSZWFkT25seVByb3BlcnR5IiwiX2NyZWF0ZVJlZmxlY3RlZFByb3BlcnR5IiwiX2NyZWF0ZUNvbXB1dGVkUHJvcGVydHkiLCJfYmluZFRlbXBsYXRlIiwiaW5zdGFuY2VCaW5kaW5nIiwid2FzUHJlQm91bmQiLCJfX3RlbXBsYXRlSW5mb0xhc3QiLCJwcmV2aW91c1RlbXBsYXRlSW5mbyIsImhvc3RQcm9wcyIsImJlZ2luSG9zdGluZyIsIl9zdGFtcFRlbXBsYXRlIiwiZW5kSG9zdGluZyIsInNldHVwQmluZGluZ3MiLCJfcGFyc2VCaW5kaW5ncyIsIm9yaWdOYW1lIiwiY3VzdG9tRXZlbnQiLCJub3RpZnlFdmVudCIsImNvbG9uIiwic2lnbmF0dXJlIiwiZHluYW1pY0ZucyIsInN0YWNrTGVuIiwiUHJvcGVydGllc01peGluIiwic3VwZXJQcm9wZXJ0aWVzQ2xhc3MiLCJvd25Qcm9wZXJ0aWVzIiwib3V0cHV0Iiwibm9ybWFsaXplUHJvcGVydGllcyIsIl9fb3duUHJvcGVydGllcyIsIl9wcm9wZXJ0aWVzIiwiX19vYnNlcnZlZEF0dHJpYnV0ZXMiLCJfX2ZpbmFsaXplZCIsIl9maW5hbGl6ZUNsYXNzIiwiY3JlYXRlUHJvcGVydGllcyIsIl9fcHJvcGVydGllcyIsImJ1aWx0Q1NTIiwiRWxlbWVudE1peGluIiwicG9seW1lckVsZW1lbnRCYXNlIiwiY3JlYXRlUHJvcGVydHlGcm9tQ29uZmlnIiwiYWxsUHJvcHMiLCJjb21wdXRlZCIsIl9oYXNSZWFkT25seUVmZmVjdCIsInJlZmxlY3RUb0F0dHJpYnV0ZSIsIl9oYXNSZWZsZWN0RWZmZWN0Iiwibm90aWZ5IiwiX2hhc05vdGlmeUVmZmVjdCIsInByb2Nlc3NFbGVtZW50U3R5bGVzIiwia2xhc3MiLCJ0ZW1wbGF0ZVN0eWxlcyIsInN0eWxlc1dpdGhJbXBvcnRzIiwibGlua2VkU3R5bGVzIiwic3R5bGVzRnJvbU1vZHVsZUltcG9ydHMiLCJmaXJzdFRlbXBsYXRlQ2hpbGQiLCJmaXJzdEVsZW1lbnRDaGlsZCIsIl9wcm9jZXNzU3R5bGVUZXh0IiwidGVtcGxhdGVTdHlsZUluZGV4IiwidGVtcGxhdGVTdHlsZSIsInBvbHltZXJFbGVtZW50VmVyc2lvbiIsIl9fb3duT2JzZXJ2ZXJzIiwiY3JlYXRlT2JzZXJ2ZXJzIiwiX3ByZXBhcmVUZW1wbGF0ZSIsIl90ZW1wbGF0ZSIsImdldFRlbXBsYXRlRnJvbURvbU1vZHVsZSIsImltcG9ydFBhdGgiLCJpbXBvcnRNZXRhIiwiX2ltcG9ydFBhdGgiLCJfZmluYWxpemVUZW1wbGF0ZSIsIl9fcHJvcGVydHlEZWZhdWx0cyIsInByb3BlcnR5RGVmYXVsdHMiLCJfaGFzQWNjZXNzb3IiLCJfX3BvbHltZXJGaW5hbGl6ZWQiLCJfYXR0YWNoRG9tIiwic2hhZHlVcGdyYWRlRnJhZ21lbnQiLCJEZWJvdW5jZXIiLCJfYXN5bmNNb2R1bGUiLCJfY2FsbGJhY2siLCJfdGltZXIiLCJhc3luY01vZHVsZSIsImRlYm91bmNlclF1ZXVlIiwiaXNBY3RpdmUiLCJfY2FuY2VsQXN5bmMiLCJjYW5jZWwiLCJkZWJvdW5jZXIiLCJzZXRDb25maWciLCJlbnF1ZXVlRGVib3VuY2VyIiwiZmx1c2hEZWJvdW5jZXJzIiwiZGlkRmx1c2giLCJmbHVzaCIsIkhBU19OQVRJVkVfVEEiLCJ0b3VjaEFjdGlvbiIsIkhBTkRMRURfT0JKIiwiVE9VQ0hfQUNUSU9OIiwiTU9VU0VfRVZFTlRTIiwiTU9VU0VfV0hJQ0hfVE9fQlVUVE9OUyIsIk1PVVNFX0hBU19CVVRUT05TIiwiTW91c2VFdmVudCIsImJ1dHRvbnMiLCJpc01vdXNlRXZlbnQiLCJQQVNTSVZFX1RPVUNIIiwib3B0cyIsIklTX1RPVUNIX09OTFkiLCJjbGlja2VkTGFiZWxzIiwibGFiZWxsYWJsZSIsImJ1dHRvbiIsImlucHV0Iiwia2V5Z2VuIiwibWV0ZXIiLCJ0ZXh0YXJlYSIsInByb2dyZXNzIiwiY2FuQmVEaXNhYmxlZCIsImNvbW1hbmQiLCJmaWVsZHNldCIsIm9wdGdyb3VwIiwib3B0aW9uIiwibWF0Y2hpbmdMYWJlbHMiLCJsYWJlbHMiLCJtYXRjaGluZyIsIm1vdXNlQ2FuY2VsbGVyIiwic2MiLCJzb3VyY2VDYXBhYmlsaXRpZXMiLCJmaXJlc1RvdWNoRXZlbnRzIiwic2tpcCIsImNsaWNrRnJvbUxhYmVsIiwiZ2V0Q29tcG9zZWRQYXRoIiwib3duZXJMYWJlbHMiLCJQT0lOVEVSU1RBVEUiLCJtb3VzZSIsInNldHVwVGVhcmRvd25Nb3VzZUNhbmNlbGxlciIsInNldHVwIiwiZW4iLCJoYXNMZWZ0TW91c2VCdXR0b24iLCJ3aGljaCIsIm1vdXNlSWdub3JlSm9iIiwidG91Y2giLCJzY3JvbGxEZWNpZGVkIiwidHJhY2tEb2N1bWVudCIsInN0YXRlT2JqIiwibW92ZWZuIiwidXBmbiIsInVudHJhY2tEb2N1bWVudCIsImRlYm91bmNlIiwibm9QYXRjaCIsImdlc3R1cmVzIiwicmVjb2duaXplcnMiLCJfZmluZE9yaWdpbmFsVGFyZ2V0IiwiX2hhbmRsZU5hdGl2ZSIsImhhbmRsZWQiLCJnb2JqIiwiZ3MiLCJ0b3VjaGVzIiwiaWRlbnRpZmllciIsImNsaWVudFgiLCJjbGllbnRZIiwidGEiLCJmaXJzdFRvdWNoQWN0aW9uIiwic2hvdWxkUHJldmVudCIsImR4IiwiZHkiLCJwcmV2ZW50IiwiX2hhbmRsZVRvdWNoQWN0aW9uIiwiZmxvdyIsInJlc2V0IiwiYWRkTGlzdGVuZXIiLCJldlR5cGUiLCJyZWNvZ25pemVyIiwiZGVwcyIsImRlcCIsImdkIiwiX2NvdW50Iiwic2V0VG91Y2hBY3Rpb24iLCJfYWRkIiwicmVtb3ZlTGlzdGVuZXIiLCJfcmVtb3ZlIiwicmVjb2ciLCJlbWl0cyIsIl9maXJlIiwiZGVmYXVsdFByZXZlbnRlZCIsInByZXZlbnRlciIsInNvdXJjZUV2ZW50IiwiZXZOYW1lIiwiX2ZpbmRSZWNvZ25pemVyQnlFdmVudCIsImRvd251cEZpcmUiLCJ0cmFja0hhc01vdmVkRW5vdWdoIiwic3RhcnRlZCIsInRyYWNrRmlyZSIsImRkeCIsInNlY29uZGxhc3QiLCJtb3ZlcyIsImxhc3Rtb3ZlIiwiZGR5IiwiaG92ZXIiLCJlbGVtZW50RnJvbVBvaW50Iiwib2xkTmV4dCIsImRlZXBUYXJnZXRGaW5kIiwidHJhY2tGb3J3YXJkIiwiYmNyIiwiaXNTeW50aGV0aWNDbGljayIsIm1vdXNlZG93biIsInRvdWNoc3RhcnQiLCJ0b3VjaGVuZCIsImFkZE1vdmUiLCJtb3ZlIiwiY3QiLCJ0b3VjaG1vdmUiLCJOYU4iLCJjbGljayIsIkdlc3R1cmVFdmVudExpc3RlbmVycyIsIl9yZW1vdmVFdmVudExpc3RlbmVyRnJvbU5vZGUiLCJIT1NUX0RJUiIsIkVMX0RJUiIsIkRJUl9DSEVDSyIsIlNISU1fU0hBRE9XIiwiRElSX0lOU1RBTkNFUyIsImRvY3VtZW50RGlyIiwiZ2V0UlRMIiwic2V0UlRMIiwiX19hdXRvRGlyT3B0T3V0IiwidXBkYXRlRGlyZWN0aW9uIiwiRGlyTWl4aW4iLCJhdHRyaWJ1dGVGaWx0ZXIiLCJlbGVtZW50QmFzZSIsIkRpciIsIl9yZXBsYWNlRGlySW5Dc3NUZXh0IiwiX19hY3RpdmF0ZURpciIsInJlcGxhY2VkVGV4dCIsInRha2VSZWNvcmRzIiwibmV3U3BsaWNlIiwiY2FsY1NwbGljZXMiLCJjdXJyZW50U3RhcnQiLCJjdXJyZW50RW5kIiwib2xkU3RhcnQiLCJvbGRFbmQiLCJwcmVmaXhDb3VudCIsInN1ZmZpeENvdW50IiwibWluTGVuZ3RoIiwic2VhcmNoTGVuZ3RoIiwiZXF1YWxzIiwic2hhcmVkUHJlZml4IiwiaW5kZXgxIiwiaW5kZXgyIiwic2hhcmVkU3VmZml4Iiwib3BzIiwiZGlzdGFuY2VzIiwiZWRpdHMiLCJub3J0aFdlc3QiLCJ3ZXN0Iiwibm9ydGgiLCJyZXZlcnNlIiwic3BsaWNlT3BlcmF0aW9uc0Zyb21FZGl0RGlzdGFuY2VzIiwicm93Q291bnQiLCJjb2x1bW5Db3VudCIsImNhbGNFZGl0RGlzdGFuY2VzIiwib2xkSW5kZXgiLCJjYWxjdWxhdGVTcGxpY2VzIiwiY3VycmVudFZhbHVlIiwicHJldmlvdXNWYWx1ZSIsImlzU2xvdCIsIkZsYXR0ZW5lZE5vZGVzT2JzZXJ2ZXIiLCJ3cmFwcGVkIiwiY29uY2F0IiwiX3NoYWR5Q2hpbGRyZW5PYnNlcnZlciIsIl9uYXRpdmVDaGlsZHJlbk9ic2VydmVyIiwiX2Nvbm5lY3RlZCIsIl90YXJnZXQiLCJfZWZmZWN0aXZlTm9kZXMiLCJfc2NoZWR1bGVkIiwiX2JvdW5kU2NoZWR1bGUiLCJfc2NoZWR1bGUiLCJjb25uZWN0IiwiX2xpc3RlblNsb3RzIiwib2JzZXJ2ZUNoaWxkcmVuIiwiX3Byb2Nlc3NNdXRhdGlvbnMiLCJfdW5saXN0ZW5TbG90cyIsInVub2JzZXJ2ZUNoaWxkcmVuIiwiX3Byb2Nlc3NTbG90TXV0YXRpb25zIiwibmV3Tm9kZXMiLCJnZXRGbGF0dGVuZWROb2RlcyIsInNoYWR5RE9NIiwiZGVib3VuY2VycyIsIm5vcm1hbGl6ZWRNYXRjaGVzU2VsZWN0b3IiLCJtYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJvTWF0Y2hlc1NlbGVjdG9yIiwiRG9tQXBpTmF0aXZlIiwib2JzZXJ2ZXJIYW5kbGUiLCJpcCQiLCJkZWVwIiwiYyQiLCJnZXRFZmZlY3RpdmVDaGlsZE5vZGVzIiwibGlzdCIsIl9hY3RpdmVFbGVtZW50IiwiZm9yd2FyZFJlYWRPbmx5UHJvcGVydGllcyIsIkV2ZW50QXBpIiwicm9vdFRhcmdldCIsImxvY2FsVGFyZ2V0IiwibGFzdENoaWxkIiwibGFzdEVsZW1lbnRDaGlsZCIsIm5leHRFbGVtZW50U2libGluZyIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJEb21BcGlJbXBsIiwiV3JhcHBlciIsImN1cnJlbnRSb290IiwiZ2V0T3duZXJSb290IiwibWV0aG9kcyIsImZvcndhcmRNZXRob2RzIiwiZm9yd2FyZFByb3BlcnRpZXMiLCJoZWxwZXIiLCJzYW1lU2NvcGUiLCJzY29wZSIsInN0eWxlSW50ZXJmYWNlIiwiTGVnYWN5RWxlbWVudE1peGluIiwibGVnYWN5RWxlbWVudEJhc2UiLCJESVJFQ1RJT05fTUFQIiwibm9uZSIsIkxlZ2FjeUVsZW1lbnQiLCJpc0F0dGFjaGVkIiwiX19ib3VuZExpc3RlbmVycyIsIl9kZWJvdW5jZXJzIiwiYXR0YWNoZWQiLCJkZXRhY2hlZCIsImF0dHJpYnV0ZUNoYW5nZWQiLCJfcmVnaXN0ZXJlZCIsIl9faGFzUmVnaXN0ZXJGaW5pc2hlZCIsImNyZWF0ZWQiLCJfYXBwbHlMaXN0ZW5lcnMiLCJfZW5zdXJlQXR0cmlidXRlcyIsImFwaSIsIm4kIiwicGQiLCJfY29udGVudEZvclRlbXBsYXRlIiwiaGJsIiwiYmwiLCJzbGN0ciIsImRvbUhvc3QiLCJEb2N1bWVudEZyYWdtZW50IiwiZG9tQXBpIiwicXVlcnlEaXN0cmlidXRlZEVsZW1lbnRzIiwiY24iLCJ0YyIsIkNPTU1FTlRfTk9ERSIsImdldENvbnRlbnRDaGlsZE5vZGVzIiwic2hvdWxkT2JzZXJ2ZSIsImNvbnRhaW5lclNjb3BlIiwic2NvcGlmeSIsImN1cnJlbnRTY29wZSIsIm14bnMiLCJteG4iLCJhZGRlZE5vZGUiLCJzY29wZVN1YnRyZWUiLCJqb2JOYW1lIiwid2FpdCIsIndhaXRUaW1lIiwidGFnIiwiZWx0Iiwic2V0UHJvcGVydGllcyIsImJvb2wiLCJ0cmFuc2Zvcm1UZXh0Iiwid2Via2l0VHJhbnNmb3JtIiwidHJhbnNmb3JtIiwieiIsImFycmF5T3JQYXRoIiwiX2xvZ2dlciIsImxpZmVjeWNsZVByb3BzIiwiYmVmb3JlUmVnaXN0ZXIiLCJyZWdpc3RlcmVkIiwibGlzdGVuZXJzIiwiaG9zdEF0dHJpYnV0ZXMiLCJleGNsdWRlT25JbmZvIiwiYmVoYXZpb3JzIiwiX25vQWNjZXNzb3JzIiwiZXhjbHVkZU9uQmVoYXZpb3JzIiwiYXBwbHlJbmZvIiwibGlmZWN5Y2xlIiwiZXhjbHVkZVByb3BzIiwibm9BY2Nlc3NvcnMiLCJwcm9wZXJ0eU5hbWVzIiwiY29weVByb3BlcnRpZXMiLCJtZXJnZVByb3BlcnRpZXMiLCJ0YXJnZXRJbmZvIiwic291cmNlSW5mbyIsIkdlbmVyYXRlQ2xhc3NGcm9tSW5mbyIsIkJhc2UiLCJiZWhhdmlvckxpc3QiLCJQb2x5bWVyR2VuZXJhdGVkIiwiZ2VuZXJhdGVkUHJvdG8iLCJfZW5zdXJlQXR0cmlidXRlIiwic3VwZXJCZWhhdmlvcnMiLCJmbGF0dGVuQmVoYXZpb3JzIiwiZXhjbHVkZSIsImFwcGx5QmVoYXZpb3JzIiwiY29weVByb3BlcnRpZXNUb1Byb3RvIiwiZ2VuZXJhdGVkRnJvbSIsIkNsYXNzIiwibXV0YWJsZVByb3BlcnR5Q2hhbmdlIiwibXV0YWJsZURhdGEiLCJpc09iamVjdCIsInNob3VsZENoYW5nZSIsIk11dGFibGVEYXRhIiwiT3B0aW9uYWxNdXRhYmxlRGF0YSIsIl9tdXRhYmxlUHJvcGVydHlDaGFuZ2UiLCJuZXdJbnN0YW5jZSIsIkhUTUxUZW1wbGF0ZUVsZW1lbnRFeHRlbnNpb24iLCJ3cml0YWJsZSIsIkRhdGFUZW1wbGF0ZSIsIk11dGFibGVEYXRhVGVtcGxhdGUiLCJ0ZW1wbGF0ZUluc3RhbmNlQmFzZSIsIlRlbXBsYXRlSW5zdGFuY2VCYXNlIiwiX2NvbmZpZ3VyZVByb3BlcnRpZXMiLCJfX3RlbXBsYXRpemVJbnN0YW5jZSIsIl9fdGVtcGxhdGl6ZU93bmVyIiwiX19oaWRlVGVtcGxhdGVDaGlsZHJlbl9fIiwiX3Nob3dIaWRlQ2hpbGRyZW4iLCJfX3RlbXBsYXRpemVPcHRpb25zIiwiaW5zdGFuY2VQcm9wcyIsImZvcndhcmRIb3N0UHJvcCIsImhwcm9wIiwiX19ob3N0UHJvcHMiLCJpcHJvcCIsInBhcmVudE1vZGVsIiwidGVtcGxhdGVIb3N0IiwiaGlkZSIsIl9fcG9seW1lclRleHRDb250ZW50X18iLCJfX3BvbHltZXJSZXBsYWNlZF9fIiwiX19wb2x5bWVyRGlzcGxheV9fIiwiZGlzcGxheSIsIl9fcGFyZW50TW9kZWwiLCJNdXRhYmxlVGVtcGxhdGVJbnN0YW5jZUJhc2UiLCJjcmVhdGVUZW1wbGF0aXplckNsYXNzIiwidGVtcGxhdGl6ZXJCYXNlIiwidGVtcGxhdGl6ZSIsInVzZXJOb3RpZnlJbnN0YW5jZVByb3AiLCJub3RpZnlJbnN0YW5jZVByb3AiLCJjcmVhdGVOb3RpZnlJbnN0YW5jZVByb3BFZmZlY3QiLCJoYXNIb3N0UHJvcHMiLCJhZGROb3RpZnlFZmZlY3RzIiwiYWRkUHJvcGFnYXRlRWZmZWN0cyIsInVzZXJGb3J3YXJkSG9zdFByb3AiLCJ0ZW1wbGF0aXplVGVtcGxhdGVDbGFzcyIsInRlbXBsYXRpemVkQmFzZSIsImNyZWF0ZUZvcndhcmRIb3N0UHJvcEVmZmVjdCIsInVwZ3JhZGVUZW1wbGF0ZSIsImhvc3RQcm9wIiwiaW5zdFByb3AiLCJiYXNlQ2xhc3MiLCJ0ZW1wbGF0aXplSW5zdGFuY2VDbGFzcyIsImZpbmRNZXRob2RIb3N0IiwiZG9tQmluZEJhc2UiLCJfX2NoaWxkcmVuIiwiX19yZW1vdmVDaGlsZHJlbiIsIl9faW5zZXJ0Q2hpbGRyZW4iLCJMaXRlcmFsU3RyaW5nIiwic3RyaW5nIiwiaHRtbFZhbHVlIiwibGl0ZXJhbFZhbHVlIiwiUG9seW1lckVsZW1lbnQiLCJkb21SZXBlYXRCYXNlIiwiRG9tUmVwZWF0IiwiYXMiLCJpbmRleEFzIiwiaXRlbXNJbmRleEFzIiwiRnVuY3Rpb24iLCJyZW5kZXJlZEl0ZW1Db3VudCIsImluaXRpYWxDb3VudCIsInRhcmdldEZyYW1lcmF0ZSIsIl90YXJnZXRGcmFtZVRpbWUiLCJfX2luc3RhbmNlcyIsIl9fbGltaXQiLCJfX3Bvb2wiLCJfX3JlbmRlckRlYm91bmNlciIsIl9faXRlbXNJZHhUb0luc3RJZHgiLCJfX2NodW5rQ291bnQiLCJfX2xhc3RDaHVua1RpbWUiLCJfX3NvcnRGbiIsIl9fZmlsdGVyRm4iLCJfX29ic2VydmVQYXRocyIsIl9fY3RvciIsIl9faXNEZXRhY2hlZCIsIl9fZGV0YWNoSW5zdGFuY2UiLCJ3cmFwcGVkUGFyZW50IiwiX19hdHRhY2hJbnN0YW5jZSIsIl9fcmVuZGVyIiwiaSQiLCJmdW5jdGlvbk9yTWV0aG9kTmFtZSIsIl9fZ2V0TWV0aG9kSG9zdCIsIl9fZnVuY3Rpb25Gcm9tUHJvcGVydHlWYWx1ZSIsIl9fZGVib3VuY2VSZW5kZXIiLCJyYXRlIiwiY2VpbCIsInBlcmZvcm1hbmNlIiwibm93IiwiX19yZXF1ZXN0UmVuZGVyQ2h1bmsiLCJfX3JlbmRlckNodW5rIiwiY3VyckNodW5rVGltZSIsInJhdGlvIiwiY2hhbmdlIiwiX19oYW5kbGVJdGVtUGF0aCIsIl9faW5pdGlhbGl6ZUNodW5raW5nIiwicGF0aHMiLCJfX2Vuc3VyZVRlbXBsYXRpemVkIiwiX19hcHBseUZ1bGxSZWZyZXNoIiwiX3NldFJlbmRlcmVkSXRlbUNvdW50IiwiX190cnlSZW5kZXJDaHVuayIsImlzbnRJZHhUb0l0ZW1zSWR4IiwiaXRlbXNJZHhUb0luc3RJZHgiLCJpbnN0SWR4IiwibGltaXQiLCJpdGVtSWR4IiwiX19pbnNlcnRJbnN0YW5jZSIsIl9fZGV0YWNoQW5kUmVtb3ZlSW5zdGFuY2UiLCJ3cmFwcGVkUm9vdCIsIl9fc3RhbXBJbnN0YW5jZSIsImJlZm9yZVJvdyIsImJlZm9yZU5vZGUiLCJoaWRkZW4iLCJpdGVtc1BhdGgiLCJkb3QiLCJpdGVtc0lkeCIsInBhcnNlSW50IiwiaXRlbVN1YlBhdGgiLCJfX2hhbmRsZU9ic2VydmVkUGF0aHMiLCJpdGVtUGF0aCIsIm1vZGVsRm9yRWxlbWVudCIsIkRvbUlmIiwiaWYiLCJyZXN0YW1wIiwiX19pbnZhbGlkUHJvcHMiLCJfX2luc3RhbmNlIiwiX2xhc3RJZiIsIl9fdGVhcmRvd25JbnN0YW5jZSIsIl9fZW5zdXJlSW5zdGFuY2UiLCJfX3N5bmNIb3N0UHJvcGVydGllcyIsImJhc2VBcnJheVNlbGVjdG9yIiwic2VsZWN0ZWRJdGVtIiwiX19sYXN0SXRlbXMiLCJfX2xhc3RNdWx0aSIsIl9fc2VsZWN0ZWRNYXAiLCJpdGVtc0luZm8iLCJuZXdJdGVtcyIsImxhc3RJdGVtcyIsImNsZWFyU2VsZWN0aW9uIiwiX19hcHBseVNwbGljZXMiLCJfX2Rlc2VsZWN0Q2hhbmdlZElkeCIsIl9fdXBkYXRlTGlua3MiLCJzaWR4IiwibGlua1BhdGhzIiwiaXNTZWxlY3RlZCIsIl9fc2VsZWN0ZWRJbmRleEZvckl0ZW1JbmRleCIsImRlc2VsZWN0Iiwic2VsZWN0SW5kZXgiLCJkZXNlbGVjdEluZGV4IiwiQXJyYXlTZWxlY3Rvck1peGluIiwiQXJyYXlTZWxlY3RvciIsIkN1c3RvbVN0eWxlIiwiY3NzRnJvbU1vZHVsZXMiLCJzcmMiLCJhbHQiLCJjcm9zc29yaWdpbiIsInByZXZlbnRMb2FkIiwic2l6aW5nIiwicHJlbG9hZCIsImZhZGUiLCJsb2FkZWQiLCJsb2FkaW5nIiwiX3Jlc29sdmVkU3JjIiwiX2ltZ09uTG9hZCIsImltZyIsIl9yZXNvbHZlU3JjIiwiX3NldExvYWRpbmciLCJfc2V0TG9hZGVkIiwiX3NldEVycm9yIiwiX2ltZ09uRXJyb3IiLCJzaXplZEltZ0RpdiIsImJhY2tncm91bmRJbWFnZSIsIl9jb21wdXRlUGxhY2Vob2xkZXJIaWRkZW4iLCJfY29tcHV0ZVBsYWNlaG9sZGVyQ2xhc3NOYW1lIiwiX2NvbXB1dGVJbWdEaXZIaWRkZW4iLCJfY29tcHV0ZUltZ0RpdkFSSUFIaWRkZW4iLCJfY29tcHV0ZUltZ0RpdkFSSUFMYWJlbCIsIl9jb21wdXRlSW1nSGlkZGVuIiwiX3dpZHRoQ2hhbmdlZCIsIl9oZWlnaHRDaGFuZ2VkIiwiX2xvYWRTdGF0ZU9ic2VydmVyIiwibmV3UmVzb2x2ZWRTcmMiLCJfcGxhY2Vob2xkZXJDaGFuZ2VkIiwiX3RyYW5zZm9ybUNoYW5nZWQiLCJzaXplZEltZ0RpdlN0eWxlIiwicGxhY2Vob2xkZXJTdHlsZSIsImJhY2tncm91bmRTaXplIiwiYmFja2dyb3VuZFBvc2l0aW9uIiwiYmFja2dyb3VuZFJlcGVhdCIsInRlc3RTcmMiLCJyZXNvbHZlZCIsImJhc2VVUklBbmNob3IiLCJwcm90b2NvbCIsImhlYWRpbmciLCJpbWFnZSIsInByZWxvYWRJbWFnZSIsImZhZGVJbWFnZSIsInBsYWNlaG9sZGVySW1hZ2UiLCJlbGV2YXRpb24iLCJhbmltYXRlZFNoYWRvdyIsImFuaW1hdGVkIiwiX2lzSGlkZGVuIiwiX2hlYWRpbmdDaGFuZ2VkIiwiY3VycmVudEhlYWRpbmciLCJjdXJyZW50TGFiZWwiLCJfY29tcHV0ZUhlYWRpbmdDbGFzcyIsIl9jb21wdXRlQW5pbWF0ZWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O2dGQWdCQSxJQUFJQSxFQUFnQixTQUFTQyxFQUFHQyxHQUk1QixPQUhBRixFQUFnQkcsT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9BLEVBQUVNLGVBQWVELEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQ3BETixFQUFHQyxJQUdyQixTQUFTTyxFQUFVUixFQUFHQyxHQUV6QixTQUFTUSxJQUFPQyxLQUFLQyxZQUFjWCxFQURuQ0QsRUFBY0MsRUFBR0MsR0FFakJELEVBQUVZLFVBQWtCLE9BQU5YLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1RLEVBQUdHLFVBQVlYLEVBQUVXLFVBQVcsSUFBSUgsR0FHNUUsSUFBSUssRUFBVyxXQVFsQixPQVBBQSxFQUFXWixPQUFPYSxRQUFVLFNBQWtCQyxHQUMxQyxJQUFLLElBQUlDLEVBQUdDLEVBQUksRUFBR0MsRUFBSUMsVUFBVUMsT0FBUUgsRUFBSUMsRUFBR0QsSUFFNUMsSUFBSyxJQUFJWixLQURUVyxFQUFJRyxVQUFVRixHQUNPaEIsT0FBT1UsVUFBVUwsZUFBZWUsS0FBS0wsRUFBR1gsS0FBSVUsRUFBRVYsR0FBS1csRUFBRVgsSUFFOUUsT0FBT1UsSUFFS08sTUFBTWIsS0FBTVUsWUFlekIsU0FBU0ksRUFBV0MsRUFBWUMsRUFBUUMsRUFBS0MsR0FDaEQsSUFBMkg1QixFQUF2SDZCLEVBQUlULFVBQVVDLE9BQVFTLEVBQUlELEVBQUksRUFBSUgsRUFBa0IsT0FBVEUsRUFBZ0JBLEVBQU8xQixPQUFPNkIseUJBQXlCTCxFQUFRQyxHQUFPQyxFQUNySCxHQUF1QixpQkFBWkksU0FBb0QsbUJBQXJCQSxRQUFRQyxTQUF5QkgsRUFBSUUsUUFBUUMsU0FBU1IsRUFBWUMsRUFBUUMsRUFBS0MsUUFDcEgsSUFBSyxJQUFJVixFQUFJTyxFQUFXSixPQUFTLEVBQUdILEdBQUssRUFBR0EsS0FBU2xCLEVBQUl5QixFQUFXUCxNQUFJWSxHQUFLRCxFQUFJLEVBQUk3QixFQUFFOEIsR0FBS0QsRUFBSSxFQUFJN0IsRUFBRTBCLEVBQVFDLEVBQUtHLEdBQUs5QixFQUFFMEIsRUFBUUMsS0FBU0csR0FDaEosT0FBT0QsRUFBSSxHQUFLQyxHQUFLNUIsT0FBT2dDLGVBQWVSLEVBQVFDLEVBQUtHLEdBQUlBOzs7Ozs7Ozs7Ozs7OztBQzNDaEUsTUFBTUssRUFBYSxJQUFJQyxRQXlDVkMsRUFBYUMsT0FBV0MsS0FDakMsTUFBTXZDLEVBQUlzQyxLQUFLQyxHQUVmLE9BREFKLEVBQVdLLElBQUl4QyxHQUFHLEdBQ1hBLEdBRUV5QyxFQUFlQyxHQUNKLG1CQUFOQSxHQUFvQlAsRUFBV1EsSUFBSUQsR0M1Q3hDRSxPQUF5Q0MsSUFBMUJDLE9BQU9DLHFCQUUzQkYsSUFESkMsT0FBT0MsZUFBZUMsMEJBa0JiQyxFQUFjLENBQUNDLEVBQVdDLEVBQU9DLEVBQU0sUUFDaEQsS0FBT0QsSUFBVUMsR0FBSyxDQUNsQixNQUFNakMsRUFBSWdDLEVBQU1FLFlBQ2hCSCxFQUFVSSxZQUFZSCxHQUN0QkEsRUFBUWhDLElDdEJIb0MsRUFBVyxHQUlYQyxFQUFVLEdDSlZDLEVBQVMsU0FBU0MsT0FBT0MsS0FBS0MsVUFBVUMsTUFBTSxPQUs5Q0MsRUFBYSxVQUFPTCxVQUNwQk0sRUFBYyxJQUFJQyxPQUFPLEdBQUdQLEtBQVVLLEtBUW5ELE1BQWFHLEVBQ1RDLFlBQVlDLEVBQVFDLEdBQ2hCMUQsS0FBSzJELE1BQVEsR0FDYjNELEtBQUswRCxRQUFVQSxFQUNmLE1BQU1FLEVBQWdCLEdBQ2hCQyxFQUFRLEdBRVJDLEVBQVNDLFNBQVNDLGlCQUFpQk4sRUFBUU8sUUFBUyxJQUFrRCxNQUFNLEdBSWxILElBQUlDLEVBQWdCLEVBQ2hCQyxHQUFTLEVBQ1RDLEVBQVksRUFDaEIsTUFBTUMsUUFBRUEsRUFBU0MsUUFBUTNELE9BQUVBLElBQWE4QyxFQUN4QyxLQUFPVyxFQUFZekQsR0FBUSxDQUN2QixNQUFNNEQsRUFBT1QsRUFBT1UsV0FDcEIsR0FBYSxPQUFURCxHQVNKLEdBREFKLElBQ3NCLElBQWxCSSxFQUFLRSxTQUF3QyxDQUM3QyxHQUFJRixFQUFLRyxnQkFBaUIsQ0FDdEIsTUFBTUMsRUFBYUosRUFBS0ksWUFDbEJoRSxPQUFFQSxHQUFXZ0UsRUFNbkIsSUFBSUMsRUFBUSxFQUNaLElBQUssSUFBSXBFLEVBQUksRUFBR0EsRUFBSUcsRUFBUUgsSUFDcEJxRSxFQUFTRixFQUFXbkUsR0FBR3NFLEtBekNmLFVBMENSRixJQUdSLEtBQU9BLEtBQVUsR0FBRyxDQUdoQixNQUFNRyxFQUFnQlYsRUFBUUQsR0FFeEJVLEVBQU9FLEVBQXVCQyxLQUFLRixHQUFlLEdBTWxERyxFQUFzQkosRUFBS0ssY0F4RHJCLFFBeUROQyxFQUFpQmIsRUFBS2MsYUFBYUgsR0FDekNYLEVBQUtlLGdCQUFnQkosR0FDckIsTUFBTUssRUFBVUgsRUFBZUksTUFBTW5DLEdBQ3JDckQsS0FBSzJELE1BQU04QixLQUFLLENBQUVDLEtBQU0sWUFBYXZCLE1BQUFBLEVBQU9XLEtBQUFBLEVBQU1ULFFBQVNrQixJQUMzRG5CLEdBQWFtQixFQUFRNUUsT0FBUyxHQUdqQixhQUFqQjRELEVBQUtvQixVQUNMOUIsRUFBTTRCLEtBQUtsQixHQUNYVCxFQUFPOEIsWUFBY3JCLEVBQUtOLGNBRzdCLEdBQXNCLElBQWxCTSxFQUFLRSxTQUFxQyxDQUMvQyxNQUFNb0IsRUFBT3RCLEVBQUtzQixLQUNsQixHQUFJQSxFQUFLQyxRQUFRL0MsSUFBVyxFQUFHLENBQzNCLE1BQU1nRCxFQUFTeEIsRUFBS3lCLFdBQ2QzQixFQUFVd0IsRUFBS0wsTUFBTW5DLEdBQ3JCNEMsRUFBWTVCLEVBQVExRCxPQUFTLEVBR25DLElBQUssSUFBSUgsRUFBSSxFQUFHQSxFQUFJeUYsRUFBV3pGLElBQUssQ0FDaEMsSUFBSTBGLEVBQ0EzRixFQUFJOEQsRUFBUTdELEdBQ2hCLEdBQVUsS0FBTkQsRUFDQTJGLEVBQVNDLFFBRVIsQ0FDRCxNQUFNQyxFQUFRcEIsRUFBdUJDLEtBQUsxRSxHQUM1QixPQUFWNkYsR0FBa0J2QixFQUFTdUIsRUFBTSxHQXJGN0IsV0FzRko3RixFQUFJQSxFQUFFNEMsTUFBTSxFQUFHaUQsRUFBTWpDLE9BQVNpQyxFQUFNLEdBQ2hDQSxFQUFNLEdBQUdqRCxNQUFNLEdBdkZmLFFBdUZ3Q3hDLFFBQVV5RixFQUFNLElBRWhFRixFQUFTbkMsU0FBU3NDLGVBQWU5RixHQUVyQ3dGLEVBQU9PLGFBQWFKLEVBQVEzQixHQUM1QnZFLEtBQUsyRCxNQUFNOEIsS0FBSyxDQUFFQyxLQUFNLE9BQVF2QixRQUFTQSxJQUlsQixLQUF2QkUsRUFBUTRCLElBQ1JGLEVBQU9PLGFBQWFILElBQWdCNUIsR0FDcENYLEVBQWM2QixLQUFLbEIsSUFHbkJBLEVBQUtzQixLQUFPeEIsRUFBUTRCLEdBR3hCN0IsR0FBYTZCLFFBR2hCLEdBQXNCLElBQWxCMUIsRUFBS0UsU0FDVixHQUFJRixFQUFLc0IsT0FBUzlDLEVBQVEsQ0FDdEIsTUFBTWdELEVBQVN4QixFQUFLeUIsV0FLUyxPQUF6QnpCLEVBQUtnQyxpQkFBNEJwQyxJQUFVRCxJQUMzQ0MsSUFDQTRCLEVBQU9PLGFBQWFILElBQWdCNUIsSUFFeENMLEVBQWdCQyxFQUNoQm5FLEtBQUsyRCxNQUFNOEIsS0FBSyxDQUFFQyxLQUFNLE9BQVF2QixNQUFBQSxJQUdQLE9BQXJCSSxFQUFLNUIsWUFDTDRCLEVBQUtzQixLQUFPLElBR1pqQyxFQUFjNkIsS0FBS2xCLEdBQ25CSixLQUVKQyxRQUVDLENBQ0QsSUFBSTVELEdBQUssRUFDVCxNQUFtRCxLQUEzQ0EsRUFBSStELEVBQUtzQixLQUFLQyxRQUFRL0MsRUFBUXZDLEVBQUksS0FLdENSLEtBQUsyRCxNQUFNOEIsS0FBSyxDQUFFQyxLQUFNLE9BQVF2QixPQUFRLElBQ3hDQyxVQWpIUk4sRUFBTzhCLFlBQWMvQixFQUFNMkMsTUF1SG5DLElBQUssTUFBTS9GLEtBQUttRCxFQUNabkQsRUFBRXVGLFdBQVdwRCxZQUFZbkMsSUFJckMsTUFBTW9FLEVBQVcsQ0FBQzRCLEVBQUtDLEtBQ25CLE1BQU12QyxFQUFRc0MsRUFBSTlGLE9BQVMrRixFQUFPL0YsT0FDbEMsT0FBT3dELEdBQVMsR0FBS3NDLEVBQUl0RCxNQUFNZ0IsS0FBV3VDLEdBRWpDQyxFQUF3QkMsSUFBeUIsSUFBaEJBLEVBQUt6QyxNQUd0Q2dDLEVBQWUsSUFBTXBDLFNBQVM4QyxjQUFjLElBMkI1QzdCLEVBQXlCOzs7Ozs7Ozs7Ozs7OztBQzdMdEMsTUFBYThCLEVBQ1R0RCxZQUFZdUQsRUFBVUMsRUFBV0MsR0FDN0JqSCxLQUFLa0gsUUFBVSxHQUNmbEgsS0FBSytHLFNBQVdBLEVBQ2hCL0csS0FBS2dILFVBQVlBLEVBQ2pCaEgsS0FBS2lILFFBQVVBLEVBRW5CekQsT0FBT2MsR0FDSCxJQUFJOUQsRUFBSSxFQUNSLElBQUssTUFBTW9HLEtBQVE1RyxLQUFLa0gsYUFDUC9FLElBQVR5RSxHQUNBQSxFQUFLTyxTQUFTN0MsRUFBTzlELElBRXpCQSxJQUVKLElBQUssTUFBTW9HLEtBQVE1RyxLQUFLa0gsYUFDUC9FLElBQVR5RSxHQUNBQSxFQUFLUSxTQUlqQjVELFNBc0NJLE1BQU02RCxFQUFXbkYsRUFDYmxDLEtBQUsrRyxTQUFTckQsUUFBUU8sUUFBUXFELFdBQVUsR0FDeEN2RCxTQUFTd0QsV0FBV3ZILEtBQUsrRyxTQUFTckQsUUFBUU8sU0FBUyxHQUNqREosRUFBUSxHQUNSRixFQUFRM0QsS0FBSytHLFNBQVNwRCxNQUV0QkcsRUFBU0MsU0FBU0MsaUJBQWlCcUQsRUFBVSxJQUFrRCxNQUFNLEdBQzNHLElBRUlULEVBRkF4QyxFQUFZLEVBQ1pvRCxFQUFZLEVBRVpqRCxFQUFPVCxFQUFPVSxXQUVsQixLQUFPSixFQUFZVCxFQUFNaEQsUUFFckIsR0FEQWlHLEVBQU9qRCxFQUFNUyxHQUNSdUMsRUFBcUJDLEdBQTFCLENBUUEsS0FBT1ksRUFBWVosRUFBS3pDLE9BQ3BCcUQsSUFDc0IsYUFBbEJqRCxFQUFLa0QsV0FDTDVELEVBQU00QixLQUFLbEIsR0FDWFQsRUFBTzhCLFlBQWNyQixFQUFLTixTQUVLLFFBQTlCTSxFQUFPVCxFQUFPVSxjQUtmVixFQUFPOEIsWUFBYy9CLEVBQU0yQyxNQUMzQmpDLEVBQU9ULEVBQU9VLFlBSXRCLEdBQWtCLFNBQWRvQyxFQUFLbEIsS0FBaUIsQ0FDdEIsTUFBTWtCLEVBQU81RyxLQUFLZ0gsVUFBVVUscUJBQXFCMUgsS0FBS2lILFNBQ3RETCxFQUFLZSxnQkFBZ0JwRCxFQUFLZ0MsaUJBQzFCdkcsS0FBS2tILFFBQVF6QixLQUFLbUIsUUFHbEI1RyxLQUFLa0gsUUFBUXpCLFFBQVF6RixLQUFLZ0gsVUFBVVksMkJBQTJCckQsRUFBTXFDLEVBQUs5QixLQUFNOEIsRUFBS3ZDLFFBQVNyRSxLQUFLaUgsVUFFdkc3QyxTQS9CSXBFLEtBQUtrSCxRQUFRekIsVUFBS3RELEdBQ2xCaUMsSUFvQ1IsT0FKSWxDLElBQ0E2QixTQUFTOEQsVUFBVVIsR0FDbkJoRixlQUFleUYsUUFBUVQsSUFFcEJBOzs7Ozs7Ozs7Ozs7O0dDeEhmLE1BS01VLEVBQWdCLElBQUloRixLQUsxQixNQUFhaUYsRUFDVHhFLFlBQVlhLEVBQVNDLEVBQVFvQixFQUFNc0IsR0FDL0JoSCxLQUFLcUUsUUFBVUEsRUFDZnJFLEtBQUtzRSxPQUFTQSxFQUNkdEUsS0FBSzBGLEtBQU9BLEVBQ1oxRixLQUFLZ0gsVUFBWUEsRUFLckJ4RCxVQUNJLE1BQU15RSxFQUFJakksS0FBS3FFLFFBQVExRCxPQUFTLEVBQ2hDLElBQUl1SCxFQUFPLEdBQ1BDLEdBQW1CLEVBQ3ZCLElBQUssSUFBSTNILEVBQUksRUFBR0EsRUFBSXlILEVBQUd6SCxJQUFLLENBQ3hCLE1BQU1ELEVBQUlQLEtBQUtxRSxRQUFRN0QsR0FrQmpCNEgsRUFBYzdILEVBQUU4SCxZQUFZLFdBSWxDRixHQUFvQkMsR0FBZSxHQUFLRCxLQUNHLElBQXZDNUgsRUFBRXVGLFFBQVEsU0FBT3NDLEVBQWMsR0FJbkMsTUFBTUUsRUFBaUJ0RCxFQUF1QkMsS0FBSzFFLEdBTy9DMkgsR0FObUIsT0FBbkJJLEVBTVEvSCxHQUFLNEgsRUFBbUJKLEVBQWdCM0UsR0FNeEM3QyxFQUFFZ0ksT0FBTyxFQUFHRCxFQUFlbkUsT0FBU21FLEVBQWUsR0FDdkRBLEVBQWUsR0ZwREMsUUVvRDJCQSxFQUFlLEdBQzFEdkYsRUFJWixPQURBbUYsR0FBUWxJLEtBQUtxRSxRQUFRNEQsR0FDZEMsRUFFWDFFLHFCQUNJLE1BQU11RCxFQUFXaEQsU0FBU3lFLGNBQWMsWUFFeEMsT0FEQXpCLEVBQVMwQixVQUFZekksS0FBSzBJLFVBQ25CM0I7Ozs7Ozs7Ozs7Ozs7R0NuRVIsTUFBTTRCLEVBQWVDLEdBQ04sT0FBVkEsS0FDZSxpQkFBVkEsR0FBdUMsbUJBQVZBLEdBRWpDQyxFQUFjRCxHQUNoQmpKLE1BQU1tSixRQUFRRixPQUVkQSxJQUFTQSxFQUFNRyxPQUFPQyxXQU9qQyxNQUFhQyxFQUNUekYsWUFBWUUsRUFBU29CLEVBQU1ULEdBQ3ZCckUsS0FBS2tKLE9BQVEsRUFDYmxKLEtBQUswRCxRQUFVQSxFQUNmMUQsS0FBSzhFLEtBQU9BLEVBQ1o5RSxLQUFLcUUsUUFBVUEsRUFDZnJFLEtBQUsyRCxNQUFRLEdBQ2IsSUFBSyxJQUFJbkQsRUFBSSxFQUFHQSxFQUFJNkQsRUFBUTFELE9BQVMsRUFBR0gsSUFDcENSLEtBQUsyRCxNQUFNbkQsR0FBS1IsS0FBS21KLGNBTTdCM0YsY0FDSSxPQUFPLElBQUk0RixFQUFjcEosTUFFN0J3RCxZQUNJLE1BQU1hLEVBQVVyRSxLQUFLcUUsUUFDZjRELEVBQUk1RCxFQUFRMUQsT0FBUyxFQUMzQixJQUFJMEksRUFBTyxHQUNYLElBQUssSUFBSTdJLEVBQUksRUFBR0EsRUFBSXlILEVBQUd6SCxJQUFLLENBQ3hCNkksR0FBUWhGLEVBQVE3RCxHQUNoQixNQUFNb0csRUFBTzVHLEtBQUsyRCxNQUFNbkQsR0FDeEIsUUFBYTJCLElBQVR5RSxFQUFvQixDQUNwQixNQUFNMEMsRUFBSTFDLEVBQUtnQyxNQUNmLEdBQUlELEVBQVlXLEtBQU9ULEVBQVdTLEdBQzlCRCxHQUFxQixpQkFBTkMsRUFBaUJBLEVBQUl0RyxPQUFPc0csUUFHM0MsSUFBSyxNQUFNaEosS0FBS2dKLEVBQ1pELEdBQXFCLGlCQUFOL0ksRUFBaUJBLEVBQUkwQyxPQUFPMUMsSUFNM0QsT0FEQStJLEdBQVFoRixFQUFRNEQsR0FDVG9CLEVBRVg3RixTQUNReEQsS0FBS2tKLFFBQ0xsSixLQUFLa0osT0FBUSxFQUNibEosS0FBSzBELFFBQVE2RixhQUFhdkosS0FBSzhFLEtBQU05RSxLQUFLd0osZUFPdEQsTUFBYUosRUFDVDVGLFlBQVlpRyxHQUNSekosS0FBSzRJLFdBQVF6RyxFQUNibkMsS0FBS3lKLFVBQVlBLEVBRXJCakcsU0FBU29GLEdBQ0RBLElBQVUvRixHQUFjOEYsRUFBWUMsSUFBVUEsSUFBVTVJLEtBQUs0SSxRQUM3RDVJLEtBQUs0SSxNQUFRQSxFQUlSN0csRUFBWTZHLEtBQ2I1SSxLQUFLeUosVUFBVVAsT0FBUSxJQUluQzFGLFNBQ0ksS0FBT3pCLEVBQVkvQixLQUFLNEksUUFBUSxDQUM1QixNQUFNakgsRUFBWTNCLEtBQUs0SSxNQUN2QjVJLEtBQUs0SSxNQUFRL0YsRUFDYmxCLEVBQVUzQixNQUVWQSxLQUFLNEksUUFBVS9GLEdBR25CN0MsS0FBS3lKLFVBQVVyQyxVQVd2QixNQUFhc0MsRUFDVGxHLFlBQVl5RCxHQUNSakgsS0FBSzRJLFdBQVF6RyxFQUNibkMsS0FBSzJKLG9CQUFpQnhILEVBQ3RCbkMsS0FBS2lILFFBQVVBLEVBT25CekQsV0FBV2hCLEdBQ1B4QyxLQUFLNEosVUFBWXBILEVBQVVxSCxZQUFZMUQsS0FDdkNuRyxLQUFLOEosUUFBVXRILEVBQVVxSCxZQUFZMUQsS0FTekMzQyxnQkFBZ0J1RyxHQUNaL0osS0FBSzRKLFVBQVlHLEVBQ2pCL0osS0FBSzhKLFFBQVVDLEVBQUlwSCxZQU92QmEsZUFBZW9ELEdBQ1hBLEVBQUtvRCxTQUFTaEssS0FBSzRKLFVBQVl6RCxLQUMvQlMsRUFBS29ELFNBQVNoSyxLQUFLOEosUUFBVTNELEtBT2pDM0MsZ0JBQWdCdUcsR0FDWkEsRUFBSUMsU0FBU2hLLEtBQUs0SixVQUFZekQsS0FDOUJuRyxLQUFLOEosUUFBVUMsRUFBSUQsUUFDbkJDLEVBQUlELFFBQVU5SixLQUFLNEosVUFFdkJwRyxTQUFTb0YsR0FDTDVJLEtBQUsySixlQUFpQmYsRUFFMUJwRixTQUNJLEtBQU96QixFQUFZL0IsS0FBSzJKLGlCQUFpQixDQUNyQyxNQUFNaEksRUFBWTNCLEtBQUsySixlQUN2QjNKLEtBQUsySixlQUFpQjlHLEVBQ3RCbEIsRUFBVTNCLE1BRWQsTUFBTTRJLEVBQVE1SSxLQUFLMkosZUFDZmYsSUFBVS9GLElBR1Y4RixFQUFZQyxHQUNSQSxJQUFVNUksS0FBSzRJLE9BQ2Y1SSxLQUFLaUssYUFBYXJCLEdBR2pCQSxhQUFpQlosRUFDdEJoSSxLQUFLa0ssdUJBQXVCdEIsR0FFdkJBLGFBQWlCdUIsS0FDdEJuSyxLQUFLb0ssYUFBYXhCLEdBRWJDLEVBQVdELEdBQ2hCNUksS0FBS3FLLGlCQUFpQnpCLEdBRWpCQSxJQUFVOUYsR0FDZjlDLEtBQUs0SSxNQUFROUYsRUFDYjlDLEtBQUtzSyxTQUlMdEssS0FBS2lLLGFBQWFyQixJQUcxQnBGLFNBQVNlLEdBQ0x2RSxLQUFLOEosUUFBUTlELFdBQVdNLGFBQWEvQixFQUFNdkUsS0FBSzhKLFNBRXBEdEcsYUFBYW9GLEdBQ0w1SSxLQUFLNEksUUFBVUEsSUFHbkI1SSxLQUFLc0ssUUFDTHRLLEtBQUtnSyxTQUFTcEIsR0FDZDVJLEtBQUs0SSxNQUFRQSxHQUVqQnBGLGFBQWFvRixHQUNULE1BQU1yRSxFQUFPdkUsS0FBSzRKLFVBQVVqSCxZQUl0QjRILEVBQWlDLGlCQUh2QzNCLEVBQWlCLE1BQVRBLEVBQWdCLEdBQUtBLEdBR3FCQSxFQUFRNUYsT0FBTzRGLEdBQzdEckUsSUFBU3ZFLEtBQUs4SixRQUFRdkQsaUJBQ0osSUFBbEJoQyxFQUFLRSxTQUlMRixFQUFLc0IsS0FBTzBFLEVBR1p2SyxLQUFLb0ssYUFBYXJHLFNBQVNzQyxlQUFla0UsSUFFOUN2SyxLQUFLNEksTUFBUUEsRUFFakJwRix1QkFBdUJvRixHQUNuQixNQUFNN0IsRUFBVy9HLEtBQUtpSCxRQUFRdUQsZ0JBQWdCNUIsR0FDOUMsR0FBSTVJLEtBQUs0SSxpQkFBaUI5QixHQUN0QjlHLEtBQUs0SSxNQUFNN0IsV0FBYUEsRUFDeEIvRyxLQUFLNEksTUFBTTZCLE9BQU83QixFQUFNdEUsWUFFdkIsQ0FLRCxNQUFNb0csRUFBVyxJQUFJNUQsRUFBaUJDLEVBQVU2QixFQUFNNUIsVUFBV2hILEtBQUtpSCxTQUNoRUksRUFBV3FELEVBQVNDLFNBQzFCRCxFQUFTRCxPQUFPN0IsRUFBTXRFLFFBQ3RCdEUsS0FBS29LLGFBQWEvQyxHQUNsQnJILEtBQUs0SSxNQUFROEIsR0FHckJsSCxpQkFBaUJvRixHQVVSakosTUFBTW1KLFFBQVE5SSxLQUFLNEksU0FDcEI1SSxLQUFLNEksTUFBUSxHQUNiNUksS0FBS3NLLFNBSVQsTUFBTU0sRUFBWTVLLEtBQUs0SSxNQUN2QixJQUNJaUMsRUFEQXpHLEVBQVksRUFFaEIsSUFBSyxNQUFNMEcsS0FBUWxDLEVBRWZpQyxFQUFXRCxFQUFVeEcsUUFFSmpDLElBQWIwSSxJQUNBQSxFQUFXLElBQUluQixFQUFTMUosS0FBS2lILFNBQzdCMkQsRUFBVW5GLEtBQUtvRixHQUNHLElBQWR6RyxFQUNBeUcsRUFBU0UsZUFBZS9LLE1BR3hCNkssRUFBU0csZ0JBQWdCSixFQUFVeEcsRUFBWSxLQUd2RHlHLEVBQVMxRCxTQUFTMkQsR0FDbEJELEVBQVN6RCxTQUNUaEQsSUFFQUEsRUFBWXdHLEVBQVVqSyxTQUV0QmlLLEVBQVVqSyxPQUFTeUQsRUFDbkJwRSxLQUFLc0ssTUFBTU8sR0FBWUEsRUFBU2YsVUFHeEN0RyxNQUFNb0csRUFBWTVKLEtBQUs0SixXQUNuQnJILEVBQVl2QyxLQUFLNEosVUFBVTVELFdBQVk0RCxFQUFVakgsWUFBYTNDLEtBQUs4SixVQVUzRSxNQUFhbUIsRUFDVHpILFlBQVlFLEVBQVNvQixFQUFNVCxHQUd2QixHQUZBckUsS0FBSzRJLFdBQVF6RyxFQUNibkMsS0FBSzJKLG9CQUFpQnhILEVBQ0MsSUFBbkJrQyxFQUFRMUQsUUFBK0IsS0FBZjBELEVBQVEsSUFBNEIsS0FBZkEsRUFBUSxHQUNyRCxNQUFNLElBQUk2RyxNQUFNLDJEQUVwQmxMLEtBQUswRCxRQUFVQSxFQUNmMUQsS0FBSzhFLEtBQU9BLEVBQ1o5RSxLQUFLcUUsUUFBVUEsRUFFbkJiLFNBQVNvRixHQUNMNUksS0FBSzJKLGVBQWlCZixFQUUxQnBGLFNBQ0ksS0FBT3pCLEVBQVkvQixLQUFLMkosaUJBQWlCLENBQ3JDLE1BQU1oSSxFQUFZM0IsS0FBSzJKLGVBQ3ZCM0osS0FBSzJKLGVBQWlCOUcsRUFDdEJsQixFQUFVM0IsTUFFZCxHQUFJQSxLQUFLMkosaUJBQW1COUcsRUFDeEIsT0FFSixNQUFNK0YsSUFBVTVJLEtBQUsySixlQUNqQjNKLEtBQUs0SSxRQUFVQSxJQUNYQSxFQUNBNUksS0FBSzBELFFBQVE2RixhQUFhdkosS0FBSzhFLEtBQU0sSUFHckM5RSxLQUFLMEQsUUFBUTRCLGdCQUFnQnRGLEtBQUs4RSxNQUV0QzlFLEtBQUs0SSxNQUFRQSxHQUVqQjVJLEtBQUsySixlQUFpQjlHLEdBWXZCLE1BQU1zSSxVQUEwQmxDLEVBQ25DekYsWUFBWUUsRUFBU29CLEVBQU1ULEdBQ3ZCK0csTUFBTTFILEVBQVNvQixFQUFNVCxHQUNyQnJFLEtBQUtxTCxPQUNtQixJQUFuQmhILEVBQVExRCxRQUErQixLQUFmMEQsRUFBUSxJQUE0QixLQUFmQSxFQUFRLEdBRTlEYixjQUNJLE9BQU8sSUFBSThILEVBQWF0TCxNQUU1QndELFlBQ0ksT0FBSXhELEtBQUtxTCxPQUNFckwsS0FBSzJELE1BQU0sR0FBR2lGLE1BRWxCd0MsTUFBTTVCLFlBRWpCaEcsU0FDUXhELEtBQUtrSixRQUNMbEosS0FBS2tKLE9BQVEsRUFFYmxKLEtBQUswRCxRQUFRMUQsS0FBSzhFLE1BQVE5RSxLQUFLd0osY0FJcEMsTUFBTThCLFVBQXFCbEMsR0FNbEMsSUFBSW1DLEdBQXdCLEVBQzVCLElBQ0ksTUFBTXRFLEVBQVUsQ0FDWnVFLGNBRUksT0FEQUQsR0FBd0IsR0FDakIsSUFJZm5KLE9BQU9xSixpQkFBaUIsT0FBUXhFLEVBQVNBLEdBRXpDN0UsT0FBT3NKLG9CQUFvQixPQUFRekUsRUFBU0EsR0FFaEQsTUFBTzBFLElBRVAsTUFBYUMsRUFDVHBJLFlBQVlFLEVBQVNtSSxFQUFXQyxHQUM1QjlMLEtBQUs0SSxXQUFRekcsRUFDYm5DLEtBQUsySixvQkFBaUJ4SCxFQUN0Qm5DLEtBQUswRCxRQUFVQSxFQUNmMUQsS0FBSzZMLFVBQVlBLEVBQ2pCN0wsS0FBSzhMLGFBQWVBLEVBQ3BCOUwsS0FBSytMLG1CQUFzQkMsR0FBTWhNLEtBQUtpTSxZQUFZRCxHQUV0RHhJLFNBQVNvRixHQUNMNUksS0FBSzJKLGVBQWlCZixFQUUxQnBGLFNBQ0ksS0FBT3pCLEVBQVkvQixLQUFLMkosaUJBQWlCLENBQ3JDLE1BQU1oSSxFQUFZM0IsS0FBSzJKLGVBQ3ZCM0osS0FBSzJKLGVBQWlCOUcsRUFDdEJsQixFQUFVM0IsTUFFZCxHQUFJQSxLQUFLMkosaUJBQW1COUcsRUFDeEIsT0FFSixNQUFNcUosRUFBY2xNLEtBQUsySixlQUNuQndDLEVBQWNuTSxLQUFLNEksTUFDbkJ3RCxFQUFzQyxNQUFmRixHQUNWLE1BQWZDLElBQ0tELEVBQVlWLFVBQVlXLEVBQVlYLFNBQ2pDVSxFQUFZRyxPQUFTRixFQUFZRSxNQUNqQ0gsRUFBWUksVUFBWUgsRUFBWUcsU0FDMUNDLEVBQW1DLE1BQWZMLElBQXVDLE1BQWZDLEdBQXVCQyxHQUNyRUEsR0FDQXBNLEtBQUswRCxRQUFRZ0ksb0JBQW9CMUwsS0FBSzZMLFVBQVc3TCxLQUFLK0wsbUJBQW9CL0wsS0FBS3dNLFdBRS9FRCxJQUNBdk0sS0FBS3dNLFVBQVlDLEVBQVdQLEdBQzVCbE0sS0FBSzBELFFBQVErSCxpQkFBaUJ6TCxLQUFLNkwsVUFBVzdMLEtBQUsrTCxtQkFBb0IvTCxLQUFLd00sWUFFaEZ4TSxLQUFLNEksTUFBUXNELEVBQ2JsTSxLQUFLMkosZUFBaUI5RyxFQUUxQlcsWUFBWWtKLEdBQ2tCLG1CQUFmMU0sS0FBSzRJLE1BQ1o1SSxLQUFLNEksTUFBTWhJLEtBQUtaLEtBQUs4TCxjQUFnQjlMLEtBQUswRCxRQUFTZ0osR0FHbkQxTSxLQUFLNEksTUFBTXFELFlBQVlTLElBT25DLE1BQU1ELEVBQWN6SyxHQUFNQSxJQUNyQnVKLEVBQ0csQ0FBRUMsUUFBU3hKLEVBQUV3SixRQUFTYyxRQUFTdEssRUFBRXNLLFFBQVNELEtBQU1ySyxFQUFFcUssTUFDbERySyxFQUFFd0o7Ozs7Ozs7Ozs7Ozs7SUM1WUgsTUFBTW1CLEVBQTJCLElBakN4QyxNQVVJbkosMkJBQTJCRSxFQUFTb0IsRUFBTVQsRUFBUzRDLEdBQy9DLE1BQU0yRixFQUFTOUgsRUFBSyxHQUNwQixHQUFlLE1BQVg4SCxFQUFnQixDQUVoQixPQURrQixJQUFJekIsRUFBa0J6SCxFQUFTb0IsRUFBSzNCLE1BQU0sR0FBSWtCLEdBQy9DVixNQUVyQixNQUFlLE1BQVhpSixFQUNPLENBQUMsSUFBSWhCLEVBQVVsSSxFQUFTb0IsRUFBSzNCLE1BQU0sR0FBSThELEVBQVE2RSxlQUUzQyxNQUFYYyxFQUNPLENBQUMsSUFBSTNCLEVBQXFCdkgsRUFBU29CLEVBQUszQixNQUFNLEdBQUlrQixJQUUzQyxJQUFJNEUsRUFBbUJ2RixFQUFTb0IsRUFBTVQsR0FDdkNWLE1BTXJCSCxxQkFBcUJ5RCxHQUNqQixPQUFPLElBQUl5QyxFQUFTekM7Ozs7Ozs7Ozs7Ozs7R0M3QnJCLFNBQVN1RCxFQUFnQi9HLEdBQzVCLElBQUlvSixFQUFnQkMsRUFBZUMsSUFBSXRKLEVBQU9pQyxXQUN4QnZELElBQWxCMEssSUFDQUEsRUFBZ0IsQ0FDWkcsYUFBYyxJQUFJdEwsUUFDbEJ1TCxVQUFXLElBQUlDLEtBRW5CSixFQUFlaEwsSUFBSTJCLEVBQU9pQyxLQUFNbUgsSUFFcEMsSUFBSTlGLEVBQVc4RixFQUFjRyxhQUFhRCxJQUFJdEosRUFBT1ksU0FDckQsUUFBaUJsQyxJQUFiNEUsRUFDQSxPQUFPQSxFQUlYLE1BQU05RixFQUFNd0MsRUFBT1ksUUFBUThJLEtBQUtwSyxHQVdoQyxPQVRBZ0UsRUFBVzhGLEVBQWNJLFVBQVVGLElBQUk5TCxRQUN0QmtCLElBQWI0RSxJQUVBQSxFQUFXLElBQUl4RCxFQUFTRSxFQUFRQSxFQUFPMkosc0JBRXZDUCxFQUFjSSxVQUFVbkwsSUFBSWIsRUFBSzhGLElBR3JDOEYsRUFBY0csYUFBYWxMLElBQUkyQixFQUFPWSxRQUFTMEMsR0FDeENBLEVBRUosTUFBTStGLEVBQWlCLElBQUlJLElDM0JyQnZKLEVBQVEsSUFBSWpDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0MyQnhCVSxPQUF3QixrQkFBTUEsT0FBd0IsZ0JBQUksS0FBS3FELEtBQUssU0FLckUsTUFBYXlDLEVBQU8sQ0FBQzdELEtBQVlDLElBQVcsSUFBSTBELEVBQWUzRCxFQUFTQyxFQUFRLE9BQVFxSTs7Ozs7Ozs7Ozs7OztJQ2pCakYsU0FBU1UsRUFBd0J0RyxFQUFVbkQsR0FDOUMsTUFBUUYsU0FBU08sUUFBRUEsR0FBU04sTUFBRUEsR0FBVW9ELEVBQ2xDakQsRUFBU0MsU0FBU0MsaUJBQWlCQyxFQW5CcEIsSUFtQitDLE1BQU0sR0FDMUUsSUFBSUcsRUFBWWtKLEVBQStCM0osR0FDM0NpRCxFQUFPakQsRUFBTVMsR0FDYm9ELEdBQWEsRUFDYitGLEVBQWMsRUFDbEIsTUFBTUMsRUFBMEIsR0FDaEMsSUFBSUMsRUFBc0IsS0FDMUIsS0FBTzNKLEVBQU9VLFlBQVksQ0FDdEJnRCxJQUNBLE1BQU1qRCxFQUFPVCxFQUFPOEIsWUFpQnBCLElBZklyQixFQUFLZ0Msa0JBQW9Ca0gsSUFDekJBLEVBQXNCLE1BR3RCN0osRUFBYzNCLElBQUlzQyxLQUNsQmlKLEVBQXdCL0gsS0FBS2xCLEdBRUQsT0FBeEJrSixJQUNBQSxFQUFzQmxKLElBSUYsT0FBeEJrSixHQUNBRixTQUVZcEwsSUFBVHlFLEdBQXNCQSxFQUFLekMsUUFBVXFELEdBR3hDWixFQUFLekMsTUFBZ0MsT0FBeEJzSixHQUFnQyxFQUFJN0csRUFBS3pDLE1BQVFvSixFQUU5RG5KLEVBQVlrSixFQUErQjNKLEVBQU9TLEdBQ2xEd0MsRUFBT2pELEVBQU1TLEdBR3JCb0osRUFBd0JFLFFBQVNqTixHQUFNQSxFQUFFdUYsV0FBV3BELFlBQVluQyxJQUVwRSxNQUFNa04sRUFBY3BKLElBQ2hCLElBQUlLLEVBQTJCLEtBQWxCTCxFQUFLRSxTQUFxRCxFQUFJLEVBQzNFLE1BQU1YLEVBQVNDLFNBQVNDLGlCQUFpQk8sRUExRHBCLElBMEQ0QyxNQUFNLEdBQ3ZFLEtBQU9ULEVBQU9VLFlBQ1ZJLElBRUosT0FBT0EsR0FFTDBJLEVBQWlDLENBQUMzSixFQUFPaUssR0FBYSxLQUN4RCxJQUFLLElBQUlwTixFQUFJb04sRUFBYSxFQUFHcE4sRUFBSW1ELEVBQU1oRCxPQUFRSCxJQUFLLENBQ2hELE1BQU1vRyxFQUFPakQsRUFBTW5ELEdBQ25CLEdBQUltRyxFQUFxQkMsR0FDckIsT0FBT3BHLEVBR2YsT0FBUTs7Ozs7Ozs7Ozs7Ozs7QUN4RFosTUFBTXFOLEVBQXNCLENBQUNuSSxFQUFNb0ksSUFBYyxHQUFHcEksTUFBU29JLElBQzdELElBQUlDLEdBQTRCLE9BQ0QsSUFBcEIzTCxPQUFPNEwsU0FDZEQsR0FBNEIsT0FFdUIsSUFBdkMzTCxPQUFPNEwsU0FBU0MscUJBQzVCQyxRQUFRQyxLQUFLLDZJQUdiSixHQUE0QixHQU1oQyxNQUFNSyxFQUF3Qk4sR0FBZXJLLElBQ3pDLE1BQU00SyxFQUFXUixFQUFvQnBLLEVBQU9pQyxLQUFNb0ksR0FDbEQsSUFBSWpCLEVBQWdCQyxFQUFlQyxJQUFJc0IsUUFDakJsTSxJQUFsQjBLLElBQ0FBLEVBQWdCLENBQ1pHLGFBQWMsSUFBSXRMLFFBQ2xCdUwsVUFBVyxJQUFJQyxLQUVuQkosRUFBZWhMLElBQUl1TSxFQUFVeEIsSUFFakMsSUFBSTlGLEVBQVc4RixFQUFjRyxhQUFhRCxJQUFJdEosRUFBT1ksU0FDckQsUUFBaUJsQyxJQUFiNEUsRUFDQSxPQUFPQSxFQUVYLE1BQU05RixFQUFNd0MsRUFBT1ksUUFBUThJLEtBQUtwSyxHQUVoQyxHQURBZ0UsRUFBVzhGLEVBQWNJLFVBQVVGLElBQUk5TCxRQUN0QmtCLElBQWI0RSxFQUF3QixDQUN4QixNQUFNckQsRUFBVUQsRUFBTzJKLHFCQUNuQlcsR0FDQTNMLE9BQU80TCxTQUFTQyxtQkFBbUJ2SyxFQUFTb0ssR0FFaEQvRyxFQUFXLElBQUl4RCxFQUFTRSxFQUFRQyxHQUNoQ21KLEVBQWNJLFVBQVVuTCxJQUFJYixFQUFLOEYsR0FHckMsT0FEQThGLEVBQWNHLGFBQWFsTCxJQUFJMkIsRUFBT1ksUUFBUzBDLEdBQ3hDQSxHQUVMdUgsRUFBaUIsQ0FBQyxPQUFRLE9Bb0IxQkMsRUFBaUIsSUFBSUMsSUFlckJDLEVBQXdCLENBQUNYLEVBQVdZLEVBQWEzSCxLQUNuRHdILEVBQWVJLElBQUliLEdBSW5CLE1BQU1jLEVBQW9CN0gsRUFBV0EsRUFBU3JELFFBQVVLLFNBQVN5RSxjQUFjLFlBRXpFcUcsRUFBU0gsRUFBWUksaUJBQWlCLFVBQ3RDbk8sT0FBRUEsR0FBV2tPLEVBRW5CLEdBQWUsSUFBWGxPLEVBWUEsWUFEQXlCLE9BQU80TCxTQUFTUyxzQkFBc0JHLEVBQWlCZCxHQUczRCxNQUFNaUIsRUFBaUJoTCxTQUFTeUUsY0FBYyxTQU05QyxJQUFLLElBQUloSSxFQUFJLEVBQUdBLEVBQUlHLEVBQVFILElBQUssQ0FDN0IsTUFBTXdPLEVBQVFILEVBQU9yTyxHQUNyQndPLEVBQU1oSixXQUFXcEQsWUFBWW9NLEdBQzdCRCxFQUFlRSxhQUFlRCxFQUFNQyxZQWhFUCxDQUFDbkIsSUFDbENRLEVBQWVaLFFBQVNoSSxJQUNwQixNQUFNd0osRUFBWXBDLEVBQWVDLElBQUljLEVBQW9CbkksRUFBTW9JLFNBQzdDM0wsSUFBZCtNLEdBQ0FBLEVBQVVqQyxVQUFVUyxRQUFTM0csSUFDekIsTUFBUXJELFNBQVNPLFFBQUVBLElBQWM4QyxFQUUzQjhILEVBQVMsSUFBSUwsSUFDbkI3TyxNQUFNd1AsS0FBS2xMLEVBQVE2SyxpQkFBaUIsVUFBVXBCLFFBQVNuTixJQUNuRHNPLEVBQU9GLElBQUlwTyxLQUVmOE0sRUFBd0J0RyxFQUFVOEgsUUF3RDlDTyxDQUE2QnRCLEdBRzdCLE1BQU03SixFQUFVMkssRUFBZ0IzSyxRQUMxQjhDLEVEdERWLFNBQXVDQSxFQUFVeEMsRUFBTThLLEVBQVUsTUFDN0QsTUFBUTNMLFNBQVNPLFFBQUVBLEdBQVNOLE1BQUVBLEdBQVVvRCxFQUd4QyxHQUFJc0ksTUFBQUEsRUFFQSxZQURBcEwsRUFBUTRGLFlBQVl0RixHQUd4QixNQUFNVCxFQUFTQyxTQUFTQyxpQkFBaUJDLEVBdEZwQixJQXNGK0MsTUFBTSxHQUMxRSxJQUFJRyxFQUFZa0osRUFBK0IzSixHQUMzQzJMLEVBQWMsRUFDZEMsR0FBZSxFQUNuQixLQUFPekwsRUFBT1UsWUFBWSxDQU90QixJQU5BK0ssSUFDbUJ6TCxFQUFPOEIsY0FDUHlKLElBQ2ZDLEVBQWMzQixFQUFXcEosR0FDekI4SyxFQUFRckosV0FBV00sYUFBYS9CLEVBQU04SyxLQUVwQixJQUFmakwsR0FBb0JULEVBQU1TLEdBQVdELFFBQVVvTCxHQUFhLENBRS9ELEdBQUlELEVBQWMsRUFBRyxDQUNqQixNQUFzQixJQUFmbEwsR0FDSFQsRUFBTVMsR0FBV0QsT0FBU21MLEVBQzFCbEwsRUFBWWtKLEVBQStCM0osRUFBT1MsR0FFdEQsT0FFSkEsRUFBWWtKLEVBQStCM0osRUFBT1MsS0MyQnREb0wsQ0FBdUJ6SSxFQUFVZ0ksRUFBZ0I5SyxFQUFRd0wsWUFHekR4TCxFQUFRcUMsYUFBYXlJLEVBQWdCOUssRUFBUXdMLFlBS2pEck4sT0FBTzRMLFNBQVNTLHNCQUFzQkcsRUFBaUJkLEdBQ3ZELE1BQU1rQixFQUFRL0ssRUFBUXlMLGNBQWMsU0FDcEMsR0FBSXROLE9BQU80TCxTQUFTMkIsY0FBMEIsT0FBVlgsRUFHaENOLEVBQVlwSSxhQUFhMEksRUFBTTFILFdBQVUsR0FBT29ILEVBQVllLGlCQUUzRCxHQUFNMUksRUFBVSxDQVNqQjlDLEVBQVFxQyxhQUFheUksRUFBZ0I5SyxFQUFRd0wsWUFDN0MsTUFBTUcsRUFBVSxJQUFJcEIsSUFDcEJvQixFQUFRakIsSUFBSUksR0FDWjFCLEVBQXdCdEcsRUFBVTZJLEtDN0oxQ3hOLE9BQU95TiwwQkFDSCxDQUFDQyxFQUFNQyxJQUFTRCxFQUNwQixNQUFhRSxFQUFtQixDQUM1QnhNLFlBQVlvRixFQUFPbEQsR0FDZixPQUFRQSxHQUNKLEtBQUt1SyxRQUNELE9BQU9ySCxFQUFRLEdBQUssS0FDeEIsS0FBS3BKLE9BQ0wsS0FBS0csTUFHRCxPQUFnQixNQUFUaUosRUFBZ0JBLEVBQVFzSCxLQUFLQyxVQUFVdkgsR0FFdEQsT0FBT0EsR0FFWHBGLGNBQWNvRixFQUFPbEQsR0FDakIsT0FBUUEsR0FDSixLQUFLdUssUUFDRCxPQUFpQixPQUFWckgsRUFDWCxLQUFLd0gsT0FDRCxPQUFpQixPQUFWeEgsRUFBaUIsS0FBT3dILE9BQU94SCxHQUMxQyxLQUFLcEosT0FDTCxLQUFLRyxNQUNELE9BQU91USxLQUFLRyxNQUFNekgsR0FFMUIsT0FBT0EsSUFPRjBILEVBQVcsQ0FBQzFILEVBQU8ySCxJQUVyQkEsSUFBUTNILElBQVUySCxHQUFRQSxHQUFPM0gsR0FBVUEsR0FFaEQ0SCxFQUE2QixDQUMvQkMsV0FBVyxFQUNYL0ssS0FBTTFDLE9BQ04wTixVQUFXVixFQUNYVyxTQUFTLEVBQ1RDLFdBQVlOLEdBRVZPLEVBQW1CQyxRQUFRQyxTQUFRLEdBa0JsQyxNQUFNQyxVQUF3QkMsWUFDakN6TixjQUNJNEgsUUFDQXBMLEtBQUtrUixhQUFlLEVBQ3BCbFIsS0FBS21SLHlCQUFzQmhQLEVBQzNCbkMsS0FBS29SLGVBQWlCUCxFQUN0QjdRLEtBQUtxUiwyQkFBd0JsUCxFQUs3Qm5DLEtBQUtzUixtQkFBcUIsSUFBSXBFLElBSTlCbE4sS0FBS3VSLDJCQUF3QnBQLEVBQzdCbkMsS0FBS3dSLGFBTVRDLGdDQUVJelIsS0FBSzBSLFdBQ0wsTUFBTS9NLEVBQWEsR0FVbkIsT0FQQTNFLEtBQUsyUixpQkFBaUJqRSxRQUFRLENBQUNwRSxFQUFHMUosS0FDOUIsTUFBTWdTLEVBQU81UixLQUFLNlIsMEJBQTBCalMsRUFBRzBKLFFBQ2xDbkgsSUFBVHlQLElBQ0E1UixLQUFLOFIsd0JBQXdCaFEsSUFBSThQLEVBQU1oUyxHQUN2QytFLEVBQVdjLEtBQUttTSxNQUdqQmpOLEVBUVhuQixnQ0FFSSxJQUFLeEQsS0FBS0gsZUFBZWdRLDBCQUEwQixtQkFBb0I3UCxPQUFRLENBQzNFQSxLQUFLMlIsaUJBQW1CLElBQUl6RSxJQUU1QixNQUFNNkUsRUFBa0J2UyxPQUFPd1MsZUFBZWhTLE1BQU0yUixzQkFDNUJ4UCxJQUFwQjRQLEdBQ0FBLEVBQWdCckUsUUFBUSxDQUFDcEUsRUFBRzJJLElBQU1qUyxLQUFLMlIsaUJBQWlCN1AsSUFBSW1RLEVBQUczSSxLQVczRTlGLHNCQUFzQnNCLEVBQU1tQyxFQUFVdUosR0FXbEMsR0FQQXhRLEtBQUtrUyx5QkFDTGxTLEtBQUsyUixpQkFBaUI3UCxJQUFJZ0QsRUFBTW1DLEdBTTVCQSxFQUFRa0wsWUFBY25TLEtBQUtFLFVBQVVMLGVBQWVpRixHQUNwRCxPQUVKLE1BQU03RCxFQUFzQixpQkFBVDZELEVBQW9CaUUsU0FBVyxLQUFLakUsSUFDdkR0RixPQUFPZ0MsZUFBZXhCLEtBQUtFLFVBQVc0RSxFQUFNLENBRXhDdEIsTUFDSSxPQUFPeEQsS0FBS2lCLElBRWhCdUMsSUFBSW9GLEdBQ0EsTUFBTXdKLEVBQVdwUyxLQUFLOEUsR0FDdEI5RSxLQUFLaUIsR0FBTzJILEVBQ1o1SSxLQUFLcVMsZUFBZXZOLEVBQU1zTixJQUU5QkUsY0FBYyxFQUNkQyxZQUFZLElBUXBCL08sa0JBRUksTUFBTWdQLEVBQVloVCxPQUFPd1MsZUFBZWhTLE1BWXhDLEdBWEt3UyxFQUFVM1MsZUF4R0wsY0F5R04yUyxFQUFVZCxXQUVkMVIsS0FBYyxXQUFJLEVBQ2xCQSxLQUFLa1MseUJBRUxsUyxLQUFLOFIsd0JBQTBCLElBQUk1RSxJQUsvQmxOLEtBQUtILGVBQWVnUSwwQkFBMEIsYUFBYzdQLE9BQVEsQ0FDcEUsTUFBTXlTLEVBQVF6UyxLQUFLMFMsV0FFYkMsRUFBVyxJQUNWblQsT0FBT29ULG9CQUFvQkgsTUFDYyxtQkFBakNqVCxPQUFPcVQsc0JBQ2RyVCxPQUFPcVQsc0JBQXNCSixHQUM3QixJQUdSLElBQUssTUFBTTdTLEtBQUsrUyxFQUlaM1MsS0FBSzhTLGVBQWVsVCxFQUFHNlMsRUFBTTdTLEtBUXpDNEQsaUNBQWlDc0IsRUFBTW1DLEdBQ25DLE1BQU13SixFQUFZeEosRUFBUXdKLFVBQzFCLE9BQXFCLElBQWRBLE9BQ0h0TyxFQUNzQixpQkFBZHNPLEVBQ0pBLEVBQ2lCLGlCQUFUM0wsRUFBb0JBLEVBQUtLLG1CQUFnQmhELEVBUTdEcUIsd0JBQXdCb0YsRUFBTzJILEVBQUtLLEVBQWFOLEdBQzdDLE9BQU9NLEVBQVdoSSxFQUFPMkgsR0FRN0IvTSxtQ0FBbUNvRixFQUFPM0IsR0FDdEMsTUFBTXZCLEVBQU91QixFQUFRdkIsS0FDZmdMLEVBQVl6SixFQUFReUosV0FBYVYsRUFDakMrQyxFQUFzQyxtQkFBZHJDLEVBQTJCQSxFQUFZQSxFQUFVcUMsY0FDL0UsT0FBT0EsRUFBZ0JBLEVBQWNuSyxFQUFPbEQsR0FBUWtELEVBVXhEcEYsaUNBQWlDb0YsRUFBTzNCLEdBQ3BDLFFBQXdCOUUsSUFBcEI4RSxFQUFRMEosUUFDUixPQUVKLE1BQU1qTCxFQUFPdUIsRUFBUXZCLEtBQ2ZnTCxFQUFZekosRUFBUXlKLFVBRzFCLE9BRm9CQSxHQUFhQSxFQUFVc0MsYUFDdkNoRCxFQUFpQmdELGFBQ0ZwSyxFQUFPbEQsR0FNOUJsQyxhQUNJeEQsS0FBS2lULDBCQUdMalQsS0FBS3FTLGlCQWNUN08sMEJBR0l4RCxLQUFLQyxZQUNBMFIsaUJBQWlCakUsUUFBUSxDQUFDd0YsRUFBSXRULEtBQy9CLEdBQUlJLEtBQUtILGVBQWVELEdBQUksQ0FDeEIsTUFBTWdKLEVBQVE1SSxLQUFLSixVQUNaSSxLQUFLSixHQUNQSSxLQUFLbVIsc0JBQ05uUixLQUFLbVIsb0JBQXNCLElBQUlqRSxLQUVuQ2xOLEtBQUttUixvQkFBb0JyUCxJQUFJbEMsRUFBR2dKLE1BTzVDcEYsMkJBSUl4RCxLQUFLbVIsb0JBQW9CekQsUUFBUSxDQUFDcEUsRUFBRzFKLElBQU1JLEtBQUtKLEdBQUswSixHQUNyRHRKLEtBQUttUix5QkFBc0JoUCxFQUUvQnFCLG9CQUNJeEQsS0FBS2tSLGFBL09lLEdBK09BbFIsS0FBS2tSLGFBS3JCbFIsS0FBS3FSLHdCQUNMclIsS0FBS3FSLHdCQUNMclIsS0FBS3FSLDJCQUF3QmxQLEdBUXJDcUIsd0JBS0FBLHlCQUF5QnNCLEVBQU15TCxFQUFLM0gsR0FDNUIySCxJQUFRM0gsR0FDUjVJLEtBQUttVCxxQkFBcUJyTyxFQUFNOEQsR0FHeENwRixxQkFBcUJzQixFQUFNOEQsRUFBTzNCLEVBQVV1SixHQUN4QyxNQUFNNEMsRUFBT3BULEtBQUtDLFlBQ1oyUixFQUFPd0IsRUFBS3ZCLDBCQUEwQi9NLEVBQU1tQyxHQUNsRCxRQUFhOUUsSUFBVHlQLEVBQW9CLENBQ3BCLE1BQU15QixFQUFZRCxFQUFLRSwwQkFBMEIxSyxFQUFPM0IsR0FFeEQsUUFBa0I5RSxJQUFka1IsRUFDQSxPQVVKclQsS0FBS2tSLGFBM1J3QixFQTJSVGxSLEtBQUtrUixhQUNSLE1BQWJtQyxFQUNBclQsS0FBS3NGLGdCQUFnQnNNLEdBR3JCNVIsS0FBS3VKLGFBQWFxSSxFQUFNeUIsR0FHNUJyVCxLQUFLa1IsY0FBbUMsRUFBcEJsUixLQUFLa1IsY0FHakMxTixxQkFBcUJzQixFQUFNOEQsR0FHdkIsR0F6U2lDLEVBeVM3QjVJLEtBQUtrUixhQUNMLE9BRUosTUFBTWtDLEVBQU9wVCxLQUFLQyxZQUNac1QsRUFBV0gsRUFBS3RCLHdCQUF3Qi9FLElBQUlqSSxHQUNsRCxRQUFpQjNDLElBQWJvUixFQUF3QixDQUN4QixNQUFNdE0sRUFBVW1NLEVBQUt6QixpQkFBaUI1RSxJQUFJd0csSUFBYS9DLEVBRXZEeFEsS0FBS2tSLGFBaFR1QixHQWdUUmxSLEtBQUtrUixhQUN6QmxSLEtBQUt1VCxHQUVESCxFQUFLSSw0QkFBNEI1SyxFQUFPM0IsR0FFNUNqSCxLQUFLa1IsY0FBbUMsR0FBcEJsUixLQUFLa1IsY0FRakMxTixlQUFlc0IsRUFBTXNOLEdBQ2pCLElBQUlxQixHQUFzQixFQUUxQixRQUFhdFIsSUFBVDJDLEVBQW9CLENBQ3BCLE1BQU1zTyxFQUFPcFQsS0FBS0MsWUFDWmdILEVBQVVtTSxFQUFLekIsaUJBQWlCNUUsSUFBSWpJLElBQVMwTCxFQUMvQzRDLEVBQUtNLGlCQUFpQjFULEtBQUs4RSxHQUFPc04sRUFBVW5MLEVBQVEySixhQUMvQzVRLEtBQUtzUixtQkFBbUJyUCxJQUFJNkMsSUFDN0I5RSxLQUFLc1IsbUJBQW1CeFAsSUFBSWdELEVBQU1zTixJQU1kLElBQXBCbkwsRUFBUTBKLFNBM1VZLEdBNFVsQjNRLEtBQUtrUixvQkFDNEIvTyxJQUEvQm5DLEtBQUt1Uix3QkFDTHZSLEtBQUt1UixzQkFBd0IsSUFBSXJFLEtBRXJDbE4sS0FBS3VSLHNCQUFzQnpQLElBQUlnRCxFQUFNbUMsS0FLekN3TSxHQUFzQixHQUd6QnpULEtBQUsyVCxxQkFBdUJGLEdBQzdCelQsS0FBSzRULGlCQWdCYnBRLGNBQWNzQixFQUFNc04sR0FFaEIsT0FEQXBTLEtBQUtxUyxlQUFldk4sRUFBTXNOLEdBQ25CcFMsS0FBSzZULGVBS2hCclEsdUJBR0ksSUFBSXVOLEVBQ0ErQyxFQUZKOVQsS0FBS2tSLGFBcFhrQixFQW9YSGxSLEtBQUtrUixhQUd6QixNQUFNNkMsRUFBd0IvVCxLQUFLb1IsZUFDbkNwUixLQUFLb1IsZUFBaUIsSUFBSU4sUUFBUSxDQUFDa0QsRUFBS0MsS0FDcENsRCxFQUFVaUQsRUFDVkYsRUFBU0csSUFFYixVQUdVRixFQUVWLE1BQU8vSCxJQUtGaE0sS0FBS2tVLHFCQUNBLElBQUlwRCxRQUFTa0QsR0FBUWhVLEtBQUtxUixzQkFBd0IyQyxHQUU1RCxJQUNJLE1BQU12USxFQUFTekQsS0FBS21VLGdCQUlOLE1BQVYxUSxTQUNNQSxFQUdkLE1BQU91SSxHQUNIOEgsRUFBTzlILEdBRVgrRSxHQUFTL1EsS0FBSzJULHFCQUVsQk8sb0JBQ0ksT0FyWm9CLEdBcVpabFUsS0FBS2tSLGFBRWpCeUMsMEJBQ0ksT0EzWnVCLEVBMlpmM1QsS0FBS2tSLGFBRWpCa0QsaUJBQ0ksT0EvWmtCLEVBK1pWcFUsS0FBS2tSLGFBa0JqQjFOLGdCQUVReEQsS0FBS21SLHFCQUNMblIsS0FBS3FVLDJCQUVULElBQUlDLEdBQWUsRUFDbkIsTUFBTUMsRUFBb0J2VSxLQUFLc1IsbUJBQy9CLElBQ0lnRCxFQUFldFUsS0FBS3NVLGFBQWFDLEdBQzdCRCxHQUNBdFUsS0FBS3lLLE9BQU84SixHQUdwQixNQUFPdkksR0FJSCxNQURBc0ksR0FBZSxFQUNUdEksVUFJTmhNLEtBQUt3VSxlQUVMRixJQXhjYyxFQXljUnRVLEtBQUtrUixlQUNQbFIsS0FBS2tSLGFBMWNLLEVBMGNVbFIsS0FBS2tSLGFBQ3pCbFIsS0FBS3lVLGFBQWFGLElBRXRCdlUsS0FBSzBVLFFBQVFILElBR3JCL1EsZUFDSXhELEtBQUtzUixtQkFBcUIsSUFBSXBFLElBQzlCbE4sS0FBS2tSLGNBQW1DLEVBQXBCbFIsS0FBS2tSLGFBaUI3QjJDLHFCQUNJLE9BQU83VCxLQUFLMlUscUJBa0JoQm5SLHFCQUNJLE9BQU94RCxLQUFLb1IsZUFTaEI1TixhQUFhOE4sR0FDVCxPQUFPLEVBVVg5TixPQUFPOE4sUUFDZ0NuUCxJQUEvQm5DLEtBQUt1Uix1QkFDTHZSLEtBQUt1UixzQkFBc0JxRCxLQUFPLElBR2xDNVUsS0FBS3VSLHNCQUFzQjdELFFBQVEsQ0FBQ3BFLEVBQUcySSxJQUFNalMsS0FBSzZVLHFCQUFxQjVDLEVBQUdqUyxLQUFLaVMsR0FBSTNJLElBQ25GdEosS0FBS3VSLDJCQUF3QnBQLEdBWXJDcUIsUUFBUThOLElBV1I5TixhQUFhOE4sS0FPakJOLEVBQWtCLFdBQUk7Ozs7Ozs7Ozs7Ozs7O0FDbG1CdEIsTUEwQmE4RCxFQUFpQm5QLEdBQWFvUCxHQUFvRCxtQkFBdEJBLEVBMUI3QyxFQUFDcFAsRUFBU3FQLEtBQ2xDNVMsT0FBT0MsZUFBZTRTLE9BQU90UCxFQUFTcVAsR0FPL0JBLEdBbUJQRSxDQUFvQnZQLEVBQVNvUCxHQWpCSCxFQUFDcFAsRUFBU3dQLEtBQ3BDLE1BQU1DLEtBQUVBLEVBQUlDLFNBQUVBLEdBQWFGLEVBQzNCLE1BQU8sQ0FDSEMsS0FBQUEsRUFDQUMsU0FBQUEsRUFFQTdSLFNBQVN3UixHQUNMNVMsT0FBT0MsZUFBZTRTLE9BQU90UCxFQUFTcVAsTUFXOUNNLENBQXNCM1AsRUFBU29QLEdBQzdCUSxFQUFtQixDQUFDdE8sRUFBU3ZELElBSVYsV0FBakJBLEVBQVEwUixPQUFxQjFSLEVBQVF5UixZQUNuQyxVQUFXelIsRUFBUXlSLFdBU2QsQ0FDSEMsS0FBTSxRQUNOblUsSUFBSzhILFNBQ0x5TSxVQUFXLE1BQ1hMLFdBQVksR0FVWjNSLGNBQ3VDLG1CQUF4QkUsRUFBUStSLGNBQ2Z6VixLQUFLMEQsRUFBUXpDLEtBQU95QyxFQUFRK1IsWUFBWTdVLEtBQUtaLFFBR3JEd0QsU0FBU3dSLEdBQ0xBLEVBQU1sQyxlQUFlcFAsRUFBUXpDLElBQUtnRyxLQTVCbkN6SCxPQUFPYSxPQUFPLEdBQUlxRCxFQUFTLENBQUVGLFNBQVN3UixHQUNyQ0EsRUFBTWxDLGVBQWVwUCxFQUFRekMsSUFBS2dHLE1BMkMzQyxTQUFTeU8sR0FBU3pPLEdBRXJCLE1BQU8sQ0FBQzBPLEVBQW1CN1EsU0FBbUIzQyxJQUFUMkMsRUFibEIsRUFBQ21DLEVBQVMyTyxFQUFPOVEsS0FDcEM4USxFQUFNM1YsWUFDRDZTLGVBQWVoTyxFQUFNbUMsSUFZdEI0TyxDQUFlNU8sRUFBUzBPLEVBQW1CN1EsR0FDM0N5USxFQUFpQnRPLEVBQVMwTyxHQVEzQixTQUFTRyxHQUFNQyxHQUNsQixNQUFPLENBQUNKLEVBRVI3USxLQUNJLE1BQU1xUSxFQUFhLENBQ2YzUixNQUNJLE9BQU94RCxLQUFLZ1csV0FBV3RHLGNBQWNxRyxJQUV6Q3hELFlBQVksRUFDWkQsY0FBYyxHQUVsQixZQUFpQm5RLElBQVQyQyxFQUNKbVIsR0FBWWQsRUFBWVEsRUFBbUI3USxHQUMzQ29SLEdBQWNmLEVBQVlRLElBR3RDLE1Bc0JNTSxHQUFjLENBQUNkLEVBQVlTLEVBQU85USxLQUNwQ3RGLE9BQU9nQyxlQUFlb1UsRUFBTzlRLEVBQU1xUSxJQUVqQ2UsR0FBZ0IsQ0FBQ2YsRUFBWXpSLE1BQy9CMFIsS0FBTSxTQUNOSSxVQUFXLFlBQ1h2VSxJQUFLeUMsRUFBUXpDLElBQ2JrVSxXQUFBQTs7Ozs7Ozs7OztHQzNJU2dCLEdBQStCLHVCQUF3QkMsU0FBU2xXLFdBQ3hFLFlBQWFtVyxjQUFjblcsVUFDMUJvVyxHQUFvQnZOLFNBQzFCLE1BQWF3TixHQUNUL1MsWUFBWWdULEVBQVNDLEdBQ2pCLEdBQUlBLElBQWNILEdBQ2QsTUFBTSxJQUFJcEwsTUFBTSxxRUFFcEJsTCxLQUFLd1csUUFBVUEsRUFJbkJFLGlCQVlJLFlBWHlCdlUsSUFBckJuQyxLQUFLMlcsY0FHRFIsSUFDQW5XLEtBQUsyVyxZQUFjLElBQUlOLGNBQ3ZCclcsS0FBSzJXLFlBQVlDLFlBQVk1VyxLQUFLd1csVUFHbEN4VyxLQUFLMlcsWUFBYyxNQUdwQjNXLEtBQUsyVyxZQUVoQm5ULFdBQ0ksT0FBT3hELEtBQUt3VyxTQWFwQixNQWtCYUssR0FBTSxDQUFDeFMsS0FBWUMsS0FDNUIsTUFBTWtTLEVBQVVsUyxFQUFPd1MsT0FBTyxDQUFDQyxFQUFLek4sRUFBRzBOLElBQVFELEVBbkJ6QixDQUFDbk8sSUFDdkIsR0FBSUEsYUFBaUIyTixHQUNqQixPQUFPM04sRUFBTTROLFFBRVosR0FBcUIsaUJBQVY1TixFQUNaLE9BQU9BLEVBR1AsTUFBTSxJQUFJc0MsTUFBTSxtRUFBbUV0Qyx1R0FXbENxTyxDQUFrQjNOLEdBQUtqRixFQUFRMlMsRUFBTSxHQUFJM1MsRUFBUSxJQUN0RyxPQUFPLElBQUlrUyxHQUFVQyxFQUFTRjs7Ozs7Ozs7Ozs7Ozs7Q0M5Q2pDbFUsT0FBMkIscUJBQU1BLE9BQTJCLG1CQUFJLEtBQzVEcUQsS0FBSyxTQW1CVixNQUFNeVIsR0FBaUJySSxHQUFXQSxFQUFPc0ksS0FBT3RJLEVBQU9zSSxLQUFLQyxFQUFBQSxHQWI1RCxTQUFTQyxFQUFVeEksRUFBUXBMLEVBQVMsSUFDaEMsSUFBSyxJQUFJakQsRUFBSSxFQUFHRyxFQUFTa08sRUFBT2xPLE9BQVFILEVBQUlHLEVBQVFILElBQUssQ0FDckQsTUFBTW9JLEVBQVFpRyxFQUFPck8sR0FDakJiLE1BQU1tSixRQUFRRixHQUNkeU8sRUFBVXpPLEVBQU9uRixHQUdqQkEsRUFBT2dDLEtBQUttRCxHQUdwQixPQUFPbkYsRUFHNkQ0VCxDQUFVeEksR0FDM0UsTUFBTXlJLFdBQW1CdEcsRUFFNUJ4TixrQkFHSTRILE1BQU1zRyxTQUFTOVEsS0FBS1osTUFHcEJBLEtBQUt1WCxRQUNEdlgsS0FBS0gsZUFBZWdRLDBCQUEwQixTQUFVN1AsT0FDcERBLEtBQUt3WCxtQkFDTHhYLEtBQUt1WCxTQUFXLEdBRzVCL1QsMEJBT0ksTUFBTWlVLEVBQWF6WCxLQUFLNk8sT0FDbEJBLEVBQVMsR0FDZixHQUFJbFAsTUFBTW1KLFFBQVEyTyxHQUFhLENBQ1JQLEdBQWNPLEdBTUxDLFlBQVksQ0FBQzVWLEVBQUt2QixLQUMxQ3VCLEVBQUk2TSxJQUFJcE8sR0FFRHVCLEdBQ1IsSUFBSTBNLEtBRUVkLFFBQVNwRSxHQUFNdUYsRUFBTzhJLFFBQVFyTyxTQUVsQ21PLEdBQ0w1SSxFQUFPcEosS0FBS2dTLEdBRWhCLE9BQU81SSxFQU9YckwsYUFDSTRILE1BQU1vRyxhQUNOeFIsS0FBS2dXLFdBQ0RoVyxLQUFLNFgsbUJBSUx4VixPQUFPeVYsWUFBYzdYLEtBQUtnVyxzQkFBc0I1VCxPQUFPeVYsWUFDdkQ3WCxLQUFLOFgsY0FVYnRVLG1CQUNJLE9BQU94RCxLQUFLK1gsYUFBYSxDQUFFQyxLQUFNLFNBV3JDeFUsY0FDSSxNQUFNcUwsRUFBUzdPLEtBQUtDLFlBQVlzWCxRQUNWLElBQWxCMUksRUFBT2xPLGNBUWF3QixJQUFwQkMsT0FBTzRMLFVBQTJCNUwsT0FBTzRMLFNBQVMyQixhQUc3Q3dHLEdBQ0xuVyxLQUFLZ1csV0FBV2lDLG1CQUNacEosRUFBT3FKLElBQUszWCxHQUFNQSxFQUFFbVcsWUFLeEIxVyxLQUFLbVksOEJBQStCLEVBVHBDL1YsT0FBTzRMLFNBQVNvSyxZQUFZQyxzQkFBc0J4SixFQUFPcUosSUFBSzNYLEdBQU1BLEVBQUVpVyxTQUFVeFcsS0FBS3NZLFlBWTdGOVUsb0JBQ0k0SCxNQUFNbU4sb0JBR0Z2WSxLQUFLb1UsaUJBQWtDalMsSUFBcEJDLE9BQU80TCxVQUMxQjVMLE9BQU80TCxTQUFTd0ssYUFBYXhZLE1BU3JDd0QsT0FBTytRLEdBQ0huSixNQUFNWCxPQUFPOEosR0FDYixNQUFNa0UsRUFBaUJ6WSxLQUFLMFksU0FDeEJELGFBQTBCelEsR0FDMUJoSSxLQUFLQyxZQUNBeVksT0FBT0QsRUFBZ0J6WSxLQUFLZ1csV0FBWSxDQUFFbEksVUFBVzlOLEtBQUtzWSxVQUFXeE0sYUFBYzlMLE9BS3hGQSxLQUFLbVksK0JBQ0xuWSxLQUFLbVksOEJBQStCLEVBQ3BDblksS0FBS0MsWUFBWXNYLFFBQVE3SixRQUFTbk4sSUFDOUIsTUFBTXlPLEVBQVFqTCxTQUFTeUUsY0FBYyxTQUNyQ3dHLEVBQU1DLFlBQWMxTyxFQUFFaVcsUUFDdEJ4VyxLQUFLZ1csV0FBV25NLFlBQVltRixNQVN4Q3hMLFdBVUo4VCxHQUFzQixXQUFJLEVBUzFCQSxHQUFXb0IsT0ppQ1csQ0FBQ2pWLEVBQVFqQixFQUFXeUUsS0FDdEMsSUFBS0EsR0FBOEIsaUJBQVpBLElBQXlCQSxFQUFRNkcsVUFDcEQsTUFBTSxJQUFJNUMsTUFBTSx1Q0FFcEIsTUFBTTRDLEVBQVk3RyxFQUFRNkcsVUFDcEI2SyxFQUFjaFYsRUFBTTFCLElBQUlPLEdBQ3hCb1csRUFBZTdLLEdBQ00sS0FBdkJ2TCxFQUFVaUMsWUFDUmpDLEVBQVVxVyxLQUVWQyxFQUFtQkYsSUFBaUJySyxFQUFldE0sSUFBSTZMLEdBR3ZEaUwsRUFBa0JELEVBQW1CL1UsU0FBU2lWLHlCQUEyQnhXLEVBVy9FLEdIak9rQixFQUFDaUIsRUFBUWpCLEVBQVd5RSxLQUN0QyxJQUFJTCxFQUFPakQsRUFBTW9KLElBQUl2SyxRQUNSTCxJQUFUeUUsSUFDQXJFLEVBQVlDLEVBQVdBLEVBQVVpTixZQUNqQzlMLEVBQU03QixJQUFJVSxFQUFXb0UsRUFBTyxJQUFJOEMsRUFBU2xLLE9BQU9hLE9BQU8sQ0FBRW1LLGdCQUFBQSxHQUFtQnZELEtBQzVFTCxFQUFLcVMsV0FBV3pXLElBRXBCb0UsRUFBS08sU0FBUzFELEdBQ2RtRCxFQUFLUSxVRytNTDhSLENBQVV6VixFQUFRc1YsRUFBaUJ2WixPQUFPYSxPQUFPLENBQUVtSyxnQkFBaUI0RCxFQUFxQk4sSUFBYzdHLElBVW5HNlIsRUFBa0IsQ0FDbEIsTUFBTWxTLEVBQU9qRCxFQUFNb0osSUFBSWdNLEdBQ3ZCcFYsRUFBTXdWLE9BQU9KLEdBTWIsTUFBTWhTLEVBQVdILEVBQUtnQyxpQkFBaUI5QixFQUNuQ0YsRUFBS2dDLE1BQU03QixjQUNYNUUsRUFDSnNNLEVBQXNCWCxFQUFXaUwsRUFBaUJoUyxHQUNsRHhFLEVBQVlDLEVBQVdBLEVBQVVpTixZQUNqQ2pOLEVBQVVxSCxZQUFZa1AsR0FDdEJwVixFQUFNN0IsSUFBSVUsRUFBV29FLElBUXBCK1IsR0FBZUMsR0FDaEJ4VyxPQUFPNEwsU0FBU3dLLGFBQWFoVyxFQUFVcVc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FLclEvQyxJQUFJTyxHQUFhLENBQ2JDLFlBQWEseUJBQ2JDLHFCQUFzQixrQ0FDdEJDLFlBQWEseUJBQ2JDLHNCQUF1QixtQ0FDdkJDLDRCQUE2QiwwQ0FFN0JDLEdBQVUsQ0FDVkMsaUNBQWtDLElBQ2xDQyx1QkFBd0IsS0FFeEJ2VixHQUFVLENBQ1Z3VixxQkFBc0IsZ0NBQ3RCQyxpQkFBa0IsbUJBQ2xCQyx5QkFBMEIsb0NBQzFCQyxjQUFlLG1CQUNmQyxlQUFnQiwyQkNoQmhCQyxHQUErQixXQUMvQixTQUFTQSxFQUFjQyxRQUNILElBQVpBLElBQXNCQSxFQUFVLElBQ3BDbmEsS0FBS29hLFNBQVdELEVBNkNwQixPQTNDQTNhLE9BQU9nQyxlQUFlMFksRUFBZSxhQUFjLENBQy9Dbk4sSUFBSyxXQUdELE1BQU8sSUFFWHdGLFlBQVksRUFDWkQsY0FBYyxJQUVsQjlTLE9BQU9nQyxlQUFlMFksRUFBZSxVQUFXLENBQzVDbk4sSUFBSyxXQUdELE1BQU8sSUFFWHdGLFlBQVksRUFDWkQsY0FBYyxJQUVsQjlTLE9BQU9nQyxlQUFlMFksRUFBZSxVQUFXLENBQzVDbk4sSUFBSyxXQUdELE1BQU8sSUFFWHdGLFlBQVksRUFDWkQsY0FBYyxJQUVsQjlTLE9BQU9nQyxlQUFlMFksRUFBZSxpQkFBa0IsQ0FDbkRuTixJQUFLLFdBSUQsTUFBTyxJQUVYd0YsWUFBWSxFQUNaRCxjQUFjLElBRWxCNEgsRUFBY2hhLFVBQVVtYSxLQUFPLGFBRy9CSCxFQUFjaGEsVUFBVW9hLFFBQVUsYUFHM0JKLEtDN0NQSyxHQUE0QyxTQUFVQyxHQUd0RCxTQUFTRCxFQUEyQkosR0FDaEMsT0FBT0ssRUFBTzVaLEtBQUtaLEtBQU15YSxFQUFpQixHQUFJRixFQUEyQkcsZUFBZ0JQLEtBQWFuYSxLQW1EMUcsT0F0REEyYSxFQUFrQkosRUFBNEJDLEdBSzlDaGIsT0FBT2dDLGVBQWUrWSxFQUE0QixVQUFXLENBQ3pEeE4sSUFBSyxXQUNELE9BQU8xSSxJQUVYa08sWUFBWSxFQUNaRCxjQUFjLElBRWxCOVMsT0FBT2dDLGVBQWUrWSxFQUE0QixhQUFjLENBQzVEeE4sSUFBSyxXQUNELE9BQU9xTSxJQUVYN0csWUFBWSxFQUNaRCxjQUFjLElBRWxCOVMsT0FBT2dDLGVBQWUrWSxFQUE0QixVQUFXLENBQ3pEeE4sSUFBSyxXQUNELE9BQU8yTSxJQUVYbkgsWUFBWSxFQUNaRCxjQUFjLElBRWxCOVMsT0FBT2dDLGVBQWUrWSxFQUE0QixpQkFBa0IsQ0FJaEV4TixJQUFLLFdBRUQsTUFBTyxDQUNINk4sU0FBVSxhQUNWQyxZQUFhLGFBQ2JDLFNBQVUsV0FBYyxPQUFPLEdBQy9CQyxTQUFVLGFBQ1ZDLG1CQUFvQixXQUFjLE9BQU8sR0FDekNDLDRCQUE2QixhQUM3QkMsbUJBQW9CLFdBQWMsT0FBTyxHQUN6Q0Msb0JBQXFCLFdBQWMsT0FBTyxLQUlsRDVJLFlBQVksRUFDWkQsY0FBYyxJQUdsQmlJLEVBQTJCcmEsVUFBVWtiLG1CQUFxQixhQUUxRGIsRUFBMkJyYSxVQUFVbWIsbUJBQXFCLGFBQzFEZCxFQUEyQnJhLFVBQVVvYixzQkFBd0IsV0FDekR0YixLQUFLb2EsU0FBU2EsK0JBRVhWLEdBQ1RMLElDdkRFcUIsR0FBd0MsU0FBVWYsR0FHbEQsU0FBU2UsRUFBdUJwQixHQUM1QixJQUFJcUIsRUFBUWhCLEVBQU81WixLQUFLWixLQUFNbWEsSUFBWW5hLEtBMkIxQyxPQXZCQXdiLEVBQU1DLFlBQWEsRUFJbkJELEVBQU1FLGtCQUFtQixFQUl6QkYsRUFBTUcsd0JBQTBCLEVBSWhDSCxFQUFNSSwwQkFBMkIsRUFJakNKLEVBQU1LLGtCQXpCTSxFQTZCWkwsRUFBTU0sa0JBN0JNLEVBOEJaTixFQUFNTyxvQkFBc0JQLEVBQU1wQixTQUFTYyxxQkFDM0NNLEVBQU1RLGlCQUFtQlIsRUFBTXBCLFNBQVNZLHFCQUNqQ1EsRUF5R1gsT0F2SUFiLEVBQWtCWSxFQUF3QmYsR0FnQzFDZSxFQUF1QnJiLFVBQVVvYSxRQUFVLFdBQ3ZDRSxFQUFPdGEsVUFBVW9hLFFBQVExWixLQUFLWixNQUM5QkEsS0FBS29hLFNBQVNXLFNBQVMsTUFBTyxLQU1sQ1EsRUFBdUJyYixVQUFVa2IsbUJBQXFCLFdBQ2xELElBQUlhLEVBQXdCaFosS0FBS2laLElBQUlsYyxLQUFLb2EsU0FBU2MscUJBQXNCLEdBQ3JFaUIsRUFBT0YsRUFBd0JqYyxLQUFLK2Isb0JBQ3hDL2IsS0FBSytiLG9CQUFzQkUsRUFHdEJqYyxLQUFLNGIsMkJBQ041YixLQUFLMmIseUJBQTJCUSxFQUM1Qm5jLEtBQUsyYix3QkFBMEIsRUFDL0IzYixLQUFLMmIsd0JBQTBCLEVBRTFCMVksS0FBS21aLElBQUlwYyxLQUFLMmIseUJBQTJCM2IsS0FBS2djLG1CQUNuRGhjLEtBQUsyYix5QkFBMkIzYixLQUFLZ2Msa0JBRXpDaGMsS0FBS3FjLG1CQU9iZCxFQUF1QnJiLFVBQVVtYixtQkFBcUIsV0FDbEQsSUFBSUcsRUFBUXhiLEtBRVBBLEtBQUs2YixvQkFDTjdiLEtBQUs2YixrQkFBb0JTLFlBQVcsV0FDaENkLEVBQU1LLGtCQXBFRixFQXFFSkwsRUFBTWUsNEJBQ1A3QyxHQUFRQyxtQ0FFZjNaLEtBQUs0YiwwQkFBMkIsRUFDNUI1YixLQUFLOGIsbUJBQ0xVLGFBQWF4YyxLQUFLOGIsbUJBRXRCOWIsS0FBSzhiLGtCQUFvQlEsWUFBVyxXQUNoQ2QsRUFBTUoscUJBQ05JLEVBQU1JLDBCQUEyQixFQUNqQ0osRUFBTU0sa0JBL0VFLElBZ0ZUcEMsR0FBUUMsbUNBS2Y0QixFQUF1QnJiLFVBQVV1YyxnQkFBa0IsV0FDL0MsSUFBSUMsR0FBd0IxYyxLQUFLZ2MsaUJBQzdCVyxFQUF3QjNjLEtBQUsyYix3QkFBMEIsRUFDdkRpQixFQUF1QjVjLEtBQUsyYix3QkFBMEJlLEVBQ3RERyxFQUFtQkYsR0FBeUJDLEVBRWhELEdBQUlDLEVBQ0E3YyxLQUFLeWIsWUFBYSxNQUVqQixDQUVELElBQUt6YixLQUFLeWIsV0FFTixPQURBemIsS0FBS3liLFlBQWEsR0FDWCxFQUVOLEdBQUl6YixLQUFLMGIsbUJBQXFCa0IsRUFFL0IsT0FEQTVjLEtBQUswYixpQkFBbUJrQixHQUNqQixFQUdmLE9BQU9DLEdBS1h0QixFQUF1QnJiLFVBQVVtYyxlQUFpQixXQUM5QyxHQUFJcmMsS0FBS3ljLGtCQUFtQixDQUd4QixJQUFJSyxFQUFTOWMsS0FBSzJiLHdCQUNkMVksS0FBS21aLElBQUlVLElBQVc5YyxLQUFLZ2MsbUJBQ3pCYyxHQUFVcEQsR0FBUUUsd0JBRXRCNVosS0FBS29hLFNBQVNXLFNBQVMsTUFBTytCLEVBQVMsUUFPL0N2QixFQUF1QnJiLFVBQVVxYyx3QkFBMEIsV0FDdkQsSUFBSVEsRUFBZ0IvYyxLQUFLb2EsU0FBU1kscUJBQzlCaGIsS0FBS2djLG1CQUFxQmUsSUFDMUIvYyxLQUFLeWIsWUFBYSxFQUlsQnpiLEtBQUsyYix5QkFBMkIzYixLQUFLZ2MsaUJBQW1CZSxFQUN4RC9jLEtBQUtnYyxpQkFBbUJlLEdBRTVCL2MsS0FBS29iLHNCQUVGRyxHQUNUaEIsSUNuS0ssTUFBTXlDLEdBQVlBLEdBRXpCLENBQUNwSCxFQUFPckMsS0FFSixHQUFLcUMsRUFBTTNWLFlBQVlnZCxZQWNsQixJQUFLckgsRUFBTTNWLFlBQVlKLGVBQWUsY0FBZSxDQUN0RCxNQUFNcWQsRUFBWXRILEVBQU0zVixZQUFZZ2QsV0FDcENySCxFQUFNM1YsWUFBWWdkLFdBQWEsSUFBSS9QLElBQ25DZ1EsRUFBVXhQLFFBRVYsQ0FBQ3BFLEVBQUcySSxJQUFNMkQsRUFBTTNWLFlBQVlnZCxXQUFXbmIsSUFBSW1RLEVBQUczSSxTQW5CZixDQUMvQnNNLEVBQU0zVixZQUFZZ2QsV0FBYSxJQUFJL1AsSUFDbkMsTUFBTWlRLEVBQWN2SCxFQUFNbEIsUUFDMUJrQixFQUFNbEIsUUFBVSxTQUFVSCxHQUN0QjRJLEVBQVl2YyxLQUFLWixLQUFNdVUsR0FDdkJBLEVBQWtCN0csUUFBUSxDQUFDcEUsRUFBRzJJLEtBQzFCLE1BQU0rSyxFQUFXaGQsS0FBS0MsWUFBWWdkLFdBQVdsUSxJQUFJa0YsUUFDaEM5UCxJQUFiNmEsR0FDQUEsRUFBU3BjLEtBQUtaLEtBQU1BLEtBQUtpUyxHQUFJM0ksTUFjN0NzTSxFQUFNM1YsWUFBWWdkLFdBQVduYixJQUFJeVIsRUFBVXlKOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lDYXhDLFNBQVNJLEdBQVExWixFQUFTcVMsR0FJN0IsT0FIb0JyUyxFQUFRMFosU0FDckIxWixFQUFRMlosdUJBQ1IzWixFQUFRNFosbUJBQ00xYyxLQUFLOEMsRUFBU3FTOzs7Ozs7Ozs7Ozs7Ozs7O0VDbEJoQyxNQUFNd0gsR0FBaUJoWixHQUNuQkEsRUFBS0UsV0FBYTBGLEtBQUtxVCxhQWEzQixTQUFTQyxHQUFrQi9aLEdBQzlCLE1BQU8sQ0FDSGtYLFNBQVc4QyxJQUNQaGEsRUFBUWlhLFVBQVVoUCxJQUFJK08sSUFFMUI3QyxZQUFjNkMsSUFDVmhhLEVBQVFpYSxVQUFVQyxPQUFPRixJQUU3QjVDLFNBQVc0QyxHQUFjaGEsRUFBUWlhLFVBQVVFLFNBQVNILElBRzVELElBQUlJLElBQWtCLEVBQ3RCLE1BQU1DLEdBQUssT0FDTEMsR0FBZSxDQUNqQjFSLGNBRUksT0FEQXdSLElBQWtCLEdBQ1gsSUFHZi9aLFNBQVMwSCxpQkFBaUIsSUFBS3NTLEdBQUlDLElBQ25DamEsU0FBUzJILG9CQUFvQixJQUFLcVMsSUFJM0IsTUFBTUUsR0FBK0JILEdBQy9CSSxHQUF3QixDQUFDQyxFQUFNL2IsT0FBTzJCLFlBQy9DLElBQUlxYSxFQUFnQkQsRUFBSUMsY0FDeEIsTUFBTUMsRUFBTyxHQUNiLElBQUtELEVBQ0QsT0FBT0MsRUFFWCxLQUFPRCxJQUNIQyxFQUFLNVksS0FBSzJZLEdBQ05BLEVBQWNFLGFBQ2RGLEVBQWdCQSxFQUFjRSxXQUFXRixjQU1qRCxPQUFPQyxHQUVFRSxHQUEyQjdhLElBQ3BDLE1BQU04YSxFQUFhTixLQUNuQixJQUFLTSxFQUFXN2QsT0FDWixPQUFPLEVBRVgsTUFBTThkLEVBQW9CRCxFQUFXQSxFQUFXN2QsT0FBUyxHQUNuRCtkLEVBQVUsSUFBSUMsTUFBTSxtQkFBb0IsQ0FBRUMsU0FBUyxFQUFNQyxVQUFVLElBQ3pFLElBQUlDLEVBQWUsR0FDbkIsTUFBTUMsRUFBWUMsSUFDZEYsRUFBZUUsRUFBR0YsZ0JBS3RCLE9BSEEvYSxTQUFTa2IsS0FBS3hULGlCQUFpQixtQkFBb0JzVCxHQUNuRE4sRUFBa0JTLGNBQWNSLEdBQ2hDM2EsU0FBU2tiLEtBQUt2VCxvQkFBb0IsbUJBQW9CcVQsSUFDWixJQUFuQ0QsRUFBYWhaLFFBQVFwQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM1RXpCLE1BQU15YixXQUFvQjdILEdBSTdCOVQsd0JBQytCckIsSUFBdkJuQyxLQUFLb2YsZUFDTHBmLEtBQUtvZixjQUFjOUUsVUFFdkJ0YSxLQUFLb2YsY0FBZ0IsSUFBSXBmLEtBQUtxZixtQkFBbUJyZixLQUFLc2YsaUJBQ3REdGYsS0FBS29mLGNBQWMvRSxPQUV2QjdXLGVBQ0l4RCxLQUFLdWY7Ozs7Ozs7Ozs7Ozs7R0NiYixNQUFNQyxHQUFnQixJQUFJOWQsUUFXYitkLEdBQVc5ZCxFQUFXK2QsR0FBZTlZLElBQzlDLEtBQU1BLGFBQWdCd0MsSUFBbUJ4QyxhQUFnQjBFLEdBQzdCLFVBQXhCMUUsRUFBSzZDLFVBQVUzRSxNQUFvQjhCLEVBQUs2QyxVQUFVOUYsTUFBTWhELE9BQVMsRUFDakUsTUFBTSxJQUFJdUssTUFBTSw4R0FHcEIsTUFBTXpCLFVBQUVBLEdBQWM3QyxHQUNoQmxELFFBQUVBLEdBQVkrRixFQUVmK1YsR0FBY3ZkLElBQUkyRSxLQUNuQmxELEVBQVFnYSxVQUFZalUsRUFBVXBGLFFBQVE4SSxLQUFLLE1BRS9DLE1BQU13USxVQUFFQSxHQUFjamEsRUFFaEJpYyxFQUFVSCxHQUFjelMsSUFBSW5HLEdBQ2xDLElBQUssTUFBTTlCLEtBQVE2YSxFQUNUN2EsS0FBUTRhLEdBQ1YvQixFQUFVQyxPQUFPOVksR0FJekIsSUFBSyxNQUFNQSxLQUFRNGEsRUFBVyxDQUMxQixNQUFNOVcsRUFBUThXLEVBQVU1YSxHQUN4QixJQUFLNmEsR0FBVy9XLElBQVUrVyxFQUFRN2EsR0FBTyxDQUlyQzZZLEVBRGUvVSxFQUFRLE1BQVEsVUFDYjlELElBRzFCMGEsR0FBYzFkLElBQUk4RSxFQUFNOFksS0NwQ2ZFLEdBQWlDM0IsR0FBK0IsQ0FBRTNSLFNBQVMsUUFBU25LLEVBQzFGLE1BQU0wZCxXQUEwQlYsR0FDbkMzYixjQUNJNEgsU0FBUzFLLFdBQ1RWLEtBQUtxZixtQkFBcUI5RSxHQUMxQnZhLEtBQUs4ZixhQUFjLEVBQ25COWYsS0FBS29iLG1CQUFxQixLQUN0QnBiLEtBQUtvZixjQUFjaEUsc0JBRXZCcGIsS0FBS3NiLHNCQUF3QixLQUN6QnRiLEtBQUtvZixjQUFjOUQseUJBRzNCeUUsbUJBQ0ksT0FBTy9mLEtBQUtnZ0IsZUFBaUI1ZCxPQUVqQzJkLGlCQUFpQm5YLEdBQ2IsTUFBTTJILEVBQU12USxLQUFLK2YsYUFDakIvZixLQUFLZ2dCLGNBQWdCcFgsRUFDckI1SSxLQUFLaWdCLHFCQUNMamdCLEtBQUtrZ0IsY0FBYyxlQUFnQjNQLEdBRXZDL00scUJBQ0ksR0FBSXhELEtBQUttZ0IsUUFBUyxDQUNkLE1BQU1DLEVBQWlCcGdCLEtBQUsrZixlQUFpQjNkLE9BRTdDcEMsS0FBS21nQixRQUFRblIsTUFBTXFSLFNBQVdELEVBQWlCLEdBQUssWUFHNUQ1YyxTQUVJLElBQUk4YyxFQUFRcFksQ0FBSyx5RUFLakIsT0FKSWxJLEtBQUs4ZixjQUNMUSxFQUFRcFksQ0FBSyxvRkFBb0ZvWSxlQUc5RnBZLENBQUs7dUNBQ21CdVgsR0FBU3pmLEtBQUt1Z0I7Ozs7cUJBSWhDdmdCLEtBQUtzYjtZQUNkdGIsS0FBSzhmLFlBQWMsS0FBT1E7O1VBRTVCdGdCLEtBQUs4ZixZQUFjUSxFQUFROzs7Ozs7a0JBTW5CYixHQUFTemYsS0FBS3dnQjs7O01BSzVCaGQsZ0JBQ0ksT0FBT2hFLE9BQU9hLE9BQU9iLE9BQU9hLE9BQU8sR0FBSW9kLEdBQWtCemQsS0FBS21nQixVQUFXLENBQUVwRixTQUFVLENBQUNyRixFQUFVOU0sSUFBVTVJLEtBQUttZ0IsUUFBUW5SLE1BQU15UixZQUFZL0ssRUFBVTlNLEdBQVFvUyxtQkFBb0IsSUFBTWhiLEtBQUttZ0IsUUFBUU8sYUFBY3pGLDRCQUE2QixLQUNyT2piLEtBQUtrZixjQUFjLElBQUlQLE1BQU10YSxHQUFReVYsaUJBQWtCLENBQUU4RSxTQUFTLEVBQU0rQixZQUFZLE1BQ3JGekYsbUJBQW9CLElBQU1sYixLQUFLK2Ysd0JBQXdCYSxPQUN0RDVnQixLQUFLK2YsYUFBYWMsWUFDbEI3Z0IsS0FBSytmLGFBQWFlLFVBQVczRixvQkFBcUIsSUFBTW5iLEtBQUsrZ0IsaUJBQzVEQyxjQUFjLENBQUVDLFNBQVMsSUFDekJ0Z0IsU0FFYjZDLG9CQUNJeEQsS0FBSytmLGFBQWF0VSxpQkFBaUIsU0FBVXpMLEtBQUtvYixtQkFBb0J3RSxJQUUxRXBjLHNCQUNJeEQsS0FBSytmLGFBQWFyVSxvQkFBb0IsU0FBVTFMLEtBQUtvYixvQkFFekQ1WCxlQUNJNEgsTUFBTXFKLGVBQ056VSxLQUFLaWdCLHFCQUNMamdCLEtBQUtraEIsb0JBRVQxZCx1QkFDSTRILE1BQU0rVix1QkFDTm5oQixLQUFLb2hCLHVCQUdidGdCLEVBQVcsQ0FDUGdWLEdBQU0scUJBQ1ArSixHQUFrQjNmLFVBQVcsZUFBVyxHQUMzQ1ksRUFBVyxDQUNQZ1YsR0FBTSw2QkFDUCtKLEdBQWtCM2YsVUFBVyx3QkFBb0IsR0FDcERZLEVBQVcsQ0FDUDRVLEdBQVMsQ0FBRWhRLEtBQU11SyxXQUNsQjRQLEdBQWtCM2YsVUFBVyxtQkFBZSxHQUMvQ1ksRUFBVyxDQUNQNFUsTUFDRG1LLEdBQWtCM2YsVUFBVyxlQUFnQixNQzlGekMsTUFBTW1oQixXQUFzQnhCLEdBQy9CcmMsY0FDSTRILFNBQVMxSyxXQUNUVixLQUFLcWYsbUJBQXFCOUQsR0FDMUJ2YixLQUFLc2hCLFdBQVksRUFDakJ0aEIsS0FBS3VoQixPQUFRLEVBQ2J2aEIsS0FBS3doQixhQUFlLEtBQ2hCeGhCLEtBQUtvZixjQUFjL0Qsc0JBRzNCN1gsYUFDSSxNQUFPLENBQ0hpZSx5QkFBMEJ6aEIsS0FBS3VoQixNQUMvQkcsNkJBQThCMWhCLEtBQUtzaEIsVUFDbkNLLGVBQWdCM2hCLEtBQUs4ZixhQUc3QnRjLGlCQUNJLE1BQU8sQ0FDSG9lLGlDQUFrQzVoQixLQUFLdWhCLFFBQVV2aEIsS0FBS3NoQixVQUN0RE8sc0NBQXVDN2hCLEtBQUt1aEIsUUFBVXZoQixLQUFLc2hCLFVBQzNEUSwyQ0FBNEM5aEIsS0FBS3VoQixPQUFTdmhCLEtBQUtzaEIsVUFDL0RTLGdEQUFpRC9oQixLQUFLdWhCLE9BQVN2aEIsS0FBS3NoQixXQUc1RTlkLG9CQUNJNEgsTUFBTThWLG9CQUNOOWUsT0FBT3FKLGlCQUFpQixTQUFVekwsS0FBS3doQixhQUFjNUIsSUFFekRwYyxzQkFDSTRILE1BQU1nVyxzQkFDTmhmLE9BQU9zSixvQkFBb0IsU0FBVTFMLEtBQUt3aEIsZUFHbEQxZ0IsRUFBVyxDQUNQNFUsR0FBUyxDQUFFaFEsS0FBTXVLLFFBQVNVLFNBQVMsS0FDcEMwUSxHQUFjbmhCLFVBQVcsaUJBQWEsR0FDekNZLEVBQVcsQ0FDUDRVLEdBQVMsQ0FBRWhRLEtBQU11SyxRQUFTVSxTQUFTLEtBQ3BDMFEsR0FBY25oQixVQUFXLGFBQVM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDM0NyQyxNQUNhOE8sR0FBUTZILEVBQUksNDBPQ0d6QixJQUFJbUwsR0FBWSxjQUF3QlgsS0FFeENXLEdBQVVuVCxPQUFTRyxHQUNuQmdULEdBQVlsaEIsRUFBVyxDQUNuQmdVLEVBQWMsb0JBQ2ZrTjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBSCxJQUFJQyxHQUE2QyxTQUFVekgsR0FFdkQsU0FBU3lILElBQ0wsSUFBSXpHLEVBQW1CLE9BQVhoQixHQUFtQkEsRUFBTzNaLE1BQU1iLEtBQU1VLFlBQWNWLEtBS2hFLE9BREF3YixFQUFNMEcsY0FBZSxFQUNkMUcsRUFxQlgsT0E1QkFiLEVBQWtCc0gsRUFBNkJ6SCxHQWEvQ3lILEVBQTRCL2hCLFVBQVVrYixtQkFBcUIsV0FDbkNwYixLQUFLb2EsU0FBU2Msc0JBQ2IsRUFDYmxiLEtBQUtraUIsZUFDTGxpQixLQUFLb2EsU0FBU1MsWUFBWXpCLEdBQVdFLHNCQUNyQ3RaLEtBQUtraUIsY0FBZSxHQUluQmxpQixLQUFLa2lCLGVBQ05saUIsS0FBS29hLFNBQVNRLFNBQVN4QixHQUFXRSxzQkFDbEN0WixLQUFLa2lCLGNBQWUsSUFJekJELEdBQ1QxRzs7Ozs7Ozs7Ozs7Ozs7OztFQ3BDSyxNQUFNNEcsV0FBMkJkLEdBQ3BDN2QsY0FDSTRILFNBQVMxSyxXQUNUVixLQUFLcWYsbUJBQXFCNEMsR0FFOUJ6ZSxhQUNJLE9BQU9oRSxPQUFPYSxPQUFPYixPQUFPYSxPQUFPLEdBQUkrSyxNQUFNbVYsY0FBZSxDQUFFNkIsMEJBQTBCLElBRTVGNWUsb0JBQ0l4RCxLQUFLK2YsYUFBYXRVLGlCQUFpQixTQUFVekwsS0FBS29iLG1CQUFvQndFLElBRTFFcGMsc0JBQ0l4RCxLQUFLK2YsYUFBYXJVLG9CQUFvQixTQUFVMUwsS0FBS29iLHFCQ1g3RCxJQUFJaUgsR0FBaUIsY0FBNkJGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ00zQyxTQUFTRyxHQUFhQyxHQUV6QixZQURrQixJQUFkQSxJQUF3QkEsRUFBWW5nQixVQUs1QyxTQUErQm1nQixRQUNULElBQWRBLElBQXdCQSxFQUFZbmdCLFFBR3hDLElBQUlvZ0IsR0FBbUIsRUFDdkIsSUFDSSxJQUFJdmIsRUFBVSxDQUdWcUYsY0FFSSxPQURBa1csR0FBbUIsR0FDWixJQUdYQyxFQUFVLGFBQ2RGLEVBQVV4ZSxTQUFTMEgsaUJBQWlCLE9BQVFnWCxFQUFTeGIsR0FDckRzYixFQUFVeGUsU0FBUzJILG9CQUFvQixPQUFRK1csRUFBU3hiLEdBRTVELE1BQU95YixHQUNIRixHQUFtQixFQUV2QixPQUFPQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXpCQUcsQ0FBc0JKLElBQ3pCLENBQUVqVyxTQUFTLEdEUG5CK1YsR0FBZXhULE9BQVNHLEdBQ3hCcVQsR0FBaUJ2aEIsRUFBVyxDQUN4QmdVLEVBQWMsMEJBQ2Z1TixJRUhILElDbEJJTyxHRGtCT3hKLEdBQWEsQ0FJcEJ5SixXQUFZLDBDQUNaQyxjQUFlLDZDQUNmQyxnQkFBaUIsK0NBQ2pCQyxLQUFNLHNCQUNOQyxVQUFXLGtDQUVKNWUsR0FBVSxDQUNqQjZlLGFBQWMsd0JBQ2RDLFlBQWEsdUJBQ2JDLHFCQUFzQixnQ0FDdEJDLHVCQUF3QixrQ0FDeEJDLFNBQVUsb0JBQ1ZDLFFBQVMsb0JBRUY3SixHQUFVLENBQ2pCOEosd0JBQXlCLElBQ3pCQyxtQkFBb0IsSUFDcEJDLHFCQUFzQixHQUN0QkMsUUFBUyxHQUNUQyxhQUFjOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBRWxCbEIsSUFBSUMsR0FBeUIsQ0FDekIsYUFBYyxjQUFlLFlBQWEsV0FHMUNDLEdBQW1DLENBQ25DLFdBQVksWUFBYSxVQUFXLGVBR3BDQyxHQUFtQixHQUNuQkMsR0FBcUMsU0FBVXhKLEdBRS9DLFNBQVN3SixFQUFvQjdKLEdBQ3pCLElBQUlxQixFQUFRaEIsRUFBTzVaLEtBQUtaLEtBQU15YSxFQUFpQixHQUFJdUosRUFBb0J0SixlQUFnQlAsS0FBYW5hLEtBb0JwRyxPQW5CQXdiLEVBQU15SSw4QkFBK0IsRUFDckN6SSxFQUFNMEksaUJBQW1CLEVBQ3pCMUksRUFBTTJJLDRCQUE4QixFQUNwQzNJLEVBQU00SSxTQUFXLElBQ2pCNUksRUFBTTZJLE9BQVMsQ0FBRUMsTUFBTyxFQUFHQyxPQUFRLEdBQ25DL0ksRUFBTWdKLGFBQWUsRUFDckJoSixFQUFNaUosYUFBZSxFQUNyQmpKLEVBQU1rSixXQUFhLEVBQ25CbEosRUFBTW1KLGlCQUFtQixDQUFFQyxLQUFNLEVBQUdDLElBQUssR0FDekNySixFQUFNc0osaUJBQW1CdEosRUFBTXVKLDBCQUMvQnZKLEVBQU13Six5QkFBMkIsV0FDN0J4SixFQUFNeUksOEJBQStCLEVBQ3JDekksRUFBTXlKLGtDQUVWekosRUFBTTBKLGlCQUFtQixTQUFVbFosR0FBSyxPQUFPd1AsRUFBTTJKLFVBQVVuWixJQUMvRHdQLEVBQU00SixtQkFBcUIsV0FBYyxPQUFPNUosRUFBTTZKLGVBQ3REN0osRUFBTThKLGNBQWdCLFdBQWMsT0FBTzlKLEVBQU0rSixlQUNqRC9KLEVBQU1nSyxhQUFlLFdBQWMsT0FBT2hLLEVBQU1pSyxjQUNoRGpLLEVBQU1rSyxlQUFpQixXQUFjLE9BQU9sSyxFQUFNbUssVUFDM0NuSyxFQW1aWCxPQXphQWIsRUFBa0JxSixFQUFxQnhKLEdBd0J2Q2hiLE9BQU9nQyxlQUFld2lCLEVBQXFCLGFBQWMsQ0FDckRqWCxJQUFLLFdBQ0QsT0FBT3FNLElBRVg3RyxZQUFZLEVBQ1pELGNBQWMsSUFFbEI5UyxPQUFPZ0MsZUFBZXdpQixFQUFxQixVQUFXLENBQ2xEalgsSUFBSyxXQUNELE9BQU8xSSxJQUVYa08sWUFBWSxFQUNaRCxjQUFjLElBRWxCOVMsT0FBT2dDLGVBQWV3aUIsRUFBcUIsVUFBVyxDQUNsRGpYLElBQUssV0FDRCxPQUFPMk0sSUFFWG5ILFlBQVksRUFDWkQsY0FBYyxJQUVsQjlTLE9BQU9nQyxlQUFld2lCLEVBQXFCLGlCQUFrQixDQUN6RGpYLElBQUssV0FDRCxNQUFPLENBQ0g2TixTQUFVLGFBQ1ZnTCx1QkFBd0IsV0FBYyxPQUFPLEdBQzdDQyxvQkFBcUIsV0FBYyxPQUFVaEIsSUFBSyxFQUFHaUIsTUFBTyxFQUFHQyxPQUFRLEVBQUduQixLQUFNLEVBQUdOLE1BQU8sRUFBR0MsT0FBUSxJQUNyR3lCLG9CQUFxQixXQUFjLE9BQU8sR0FDMUNDLHFDQUFzQyxhQUN0Q0MsNkJBQThCLGFBQzlCQyx3QkFBeUIsYUFDekJDLG9CQUFxQixXQUFjLE9BQVVDLEVBQUcsRUFBR0MsRUFBRyxJQUN0REMsZ0JBQWlCLFdBQWMsT0FBTyxHQUN0Q0Msa0JBQW1CLFdBQWMsT0FBTyxHQUN4Q0MsWUFBYSxXQUFjLE9BQU8sR0FDbENDLG1DQUFvQyxhQUNwQ0MsMkJBQTRCLGFBQzVCQyxzQkFBdUIsYUFDdkIvTCxZQUFhLGFBQ2JnTSxrQkFBbUIsZUFHM0J0VSxZQUFZLEVBQ1pELGNBQWMsSUFFbEIwUixFQUFvQjlqQixVQUFVbWEsS0FBTyxXQUNqQyxJQUFJbUIsRUFBUXhiLEtBQ1I4bUIsRUFBc0I5bUIsS0FBSyttQix1QkFFL0IsR0FEQS9tQixLQUFLZ25CLHNCQUFzQkYsR0FDdkJBLEVBQXFCLENBQ3JCLElBQUlHLEVBQUtqRCxFQUFvQjVLLFdBQVk4TixFQUFTRCxFQUFHakUsS0FBTW1FLEVBQWNGLEVBQUdoRSxVQUM1RW1FLHVCQUFzQixXQUNsQjVMLEVBQU1wQixTQUFTUSxTQUFTc00sR0FDcEIxTCxFQUFNcEIsU0FBU3FNLGdCQUNmakwsRUFBTXBCLFNBQVNRLFNBQVN1TSxHQUV4QjNMLEVBQU02TCx3QkFLdEJyRCxFQUFvQjlqQixVQUFVb2EsUUFBVSxXQUNwQyxJQUFJa0IsRUFBUXhiLEtBQ1osR0FBSUEsS0FBSyttQix1QkFBd0IsQ0FDekIvbUIsS0FBS2trQixtQkFDTDFILGFBQWF4YyxLQUFLa2tCLGtCQUNsQmxrQixLQUFLa2tCLGlCQUFtQixFQUN4QmxrQixLQUFLb2EsU0FBU1MsWUFBWW1KLEVBQW9CNUssV0FBVzBKLGdCQUV6RDlpQixLQUFLbWtCLDhCQUNMM0gsYUFBYXhjLEtBQUtta0IsNkJBQ2xCbmtCLEtBQUtta0IsNEJBQThCLEVBQ25DbmtCLEtBQUtvYSxTQUFTUyxZQUFZbUosRUFBb0I1SyxXQUFXMkosa0JBRTdELElBQUlrRSxFQUFLakQsRUFBb0I1SyxXQUFZa08sRUFBU0wsRUFBR2pFLEtBQU11RSxFQUFjTixFQUFHaEUsVUFDNUVtRSx1QkFBc0IsV0FDbEI1TCxFQUFNcEIsU0FBU1MsWUFBWXlNLEdBQzNCOUwsRUFBTXBCLFNBQVNTLFlBQVkwTSxHQUMzQi9MLEVBQU1nTSxvQkFHZHhuQixLQUFLeW5CLDBCQUNMem5CLEtBQUswbkIsbUNBS1QxRCxFQUFvQjlqQixVQUFVeW5CLFNBQVcsU0FBVUMsR0FDL0M1bkIsS0FBS21sQixVQUFVeUMsSUFFbkI1RCxFQUFvQjlqQixVQUFVMm5CLFdBQWEsV0FDdkM3bkIsS0FBS3FsQixlQUVUckIsRUFBb0I5akIsVUFBVXlsQixPQUFTLFdBQ25DLElBQUluSyxFQUFReGIsS0FDUkEsS0FBS3lrQixjQUNMcUQscUJBQXFCOW5CLEtBQUt5a0IsY0FFOUJ6a0IsS0FBS3lrQixhQUFlMkMsdUJBQXNCLFdBQ3RDNUwsRUFBTTZMLGtCQUNON0wsRUFBTWlKLGFBQWUsTUFHN0JULEVBQW9COWpCLFVBQVU2bkIsYUFBZSxTQUFVQyxHQUNuRCxJQUFJL0UsRUFBWWUsRUFBb0I1SyxXQUFXNkosVUFDM0MrRSxFQUNBaG9CLEtBQUtvYSxTQUFTUSxTQUFTcUksR0FHdkJqakIsS0FBS29hLFNBQVNTLFlBQVlvSSxJQUdsQ2UsRUFBb0I5akIsVUFBVXFsQixZQUFjLFdBQ3hDLElBQUkvSixFQUFReGIsS0FDWm9uQix1QkFBc0IsV0FDbEIsT0FBTzVMLEVBQU1wQixTQUFTUSxTQUFTb0osRUFBb0I1SyxXQUFXeUosZ0JBR3RFbUIsRUFBb0I5akIsVUFBVXVsQixXQUFhLFdBQ3ZDLElBQUlqSyxFQUFReGIsS0FDWm9uQix1QkFBc0IsV0FDbEIsT0FBTzVMLEVBQU1wQixTQUFTUyxZQUFZbUosRUFBb0I1SyxXQUFXeUosZ0JBU3pFbUIsRUFBb0I5akIsVUFBVTZtQixxQkFBdUIsV0FDakQsT0FBTy9tQixLQUFLb2EsU0FBU3dMLDBCQUV6QjVCLEVBQW9COWpCLFVBQVU2a0Isd0JBQTBCLFdBQ3BELE1BQU8sQ0FDSGtELHFCQUFpQjlsQixFQUNqQitsQixzQkFBc0IsRUFDdEJDLGFBQWEsRUFDYkMsZ0JBQWdCLEVBQ2hCQyx1QkFBdUIsRUFDdkJDLHNCQUFzQixJQU05QnRFLEVBQW9COWpCLFVBQVU4bUIsc0JBQXdCLFNBQVVGLEdBQzVELElBQUl0TCxFQUFReGIsS0FDUjhtQixJQUNBakQsR0FBdUJuVyxTQUFRLFNBQVU2YSxHQUNyQy9NLEVBQU1wQixTQUFTdU0sMkJBQTJCNEIsRUFBUy9NLEVBQU0wSixxQkFFekRsbEIsS0FBS29hLFNBQVNxTSxlQUNkem1CLEtBQUtvYSxTQUFTd00sc0JBQXNCNW1CLEtBQUswbEIsaUJBR2pEMWxCLEtBQUtvYSxTQUFTdU0sMkJBQTJCLFFBQVMzbUIsS0FBS3NsQixlQUN2RHRsQixLQUFLb2EsU0FBU3VNLDJCQUEyQixPQUFRM21CLEtBQUt3bEIsZUFFMUR4QixFQUFvQjlqQixVQUFVc29CLDhCQUFnQyxTQUFVWixHQUNwRSxJQUFJcE0sRUFBUXhiLEtBQ0ssWUFBYjRuQixFQUFJbGlCLEtBQ0oxRixLQUFLb2EsU0FBU3VNLDJCQUEyQixRQUFTM21CLEtBQUtvbEIsb0JBR3ZEdEIsR0FBaUNwVyxTQUFRLFNBQVU2YSxHQUMvQy9NLEVBQU1wQixTQUFTc00sbUNBQW1DNkIsRUFBUy9NLEVBQU00Six3QkFJN0VwQixFQUFvQjlqQixVQUFVdW5CLHdCQUEwQixXQUNwRCxJQUFJak0sRUFBUXhiLEtBQ1o2akIsR0FBdUJuVyxTQUFRLFNBQVU2YSxHQUNyQy9NLEVBQU1wQixTQUFTOEwsNkJBQTZCcUMsRUFBUy9NLEVBQU0wSixxQkFFL0RsbEIsS0FBS29hLFNBQVM4TCw2QkFBNkIsUUFBU2xtQixLQUFLc2xCLGVBQ3pEdGxCLEtBQUtvYSxTQUFTOEwsNkJBQTZCLE9BQVFsbUIsS0FBS3dsQixjQUNwRHhsQixLQUFLb2EsU0FBU3FNLGVBQ2R6bUIsS0FBS29hLFNBQVMrTCx3QkFBd0JubUIsS0FBSzBsQixpQkFHbkQxQixFQUFvQjlqQixVQUFVd25CLGdDQUFrQyxXQUM1RCxJQUFJbE0sRUFBUXhiLEtBQ1pBLEtBQUtvYSxTQUFTOEwsNkJBQTZCLFFBQVNsbUIsS0FBS29sQixvQkFDekR0QixHQUFpQ3BXLFNBQVEsU0FBVTZhLEdBQy9DL00sRUFBTXBCLFNBQVM2TCxxQ0FBcUNzQyxFQUFTL00sRUFBTTRKLHdCQUczRXBCLEVBQW9COWpCLFVBQVVzbkIsZUFBaUIsV0FDM0MsSUFBSWhNLEVBQVF4YixLQUNSeW9CLEVBQWdCekUsRUFBb0IzZixRQUM3QjdFLE9BQU9rcEIsS0FBS0QsR0FDbEIvYSxTQUFRLFNBQVV6TSxHQUNTLElBQXhCQSxFQUFJNkUsUUFBUSxTQUNaMFYsRUFBTXBCLFNBQVN5TSxrQkFBa0I0QixFQUFjeG5CLEdBQU0sVUFJakUraUIsRUFBb0I5akIsVUFBVWlsQixVQUFZLFNBQVV5QyxHQUNoRCxJQUFJcE0sRUFBUXhiLEtBQ1osSUFBSUEsS0FBS29hLFNBQVNvTSxvQkFBbEIsQ0FHQSxJQUFJbUMsRUFBa0Izb0IsS0FBSzhrQixpQkFDM0IsSUFBSTZELEVBQWdCUixZQUFwQixDQUlBLElBQUlTLEVBQTBCNW9CLEtBQUs2b0IseUJBRW5DLEtBRHdCRCxRQUFtQ3ptQixJQUFSeWxCLEdBQXFCZ0IsRUFBd0JsakIsT0FBU2tpQixFQUFJbGlCLE1BSTdHaWpCLEVBQWdCUixhQUFjLEVBQzlCUSxFQUFnQlAsb0JBQXlCam1CLElBQVJ5bEIsRUFDakNlLEVBQWdCVixnQkFBa0JMLEVBQ2xDZSxFQUFnQk4sdUJBQXdCTSxFQUFnQlAsc0JBQWlDam1CLElBQVJ5bEIsSUFBbUMsY0FBYkEsRUFBSWxpQixNQUFxQyxlQUFia2lCLEVBQUlsaUIsTUFBc0MsZ0JBQWJraUIsRUFBSWxpQixZQUNwSXZELElBQVJ5bEIsR0FBcUI3RCxHQUFpQnBqQixPQUFTLEdBQUtvakIsR0FBaUIrRSxNQUFLLFNBQVU5bkIsR0FBVSxPQUFPd2EsRUFBTXBCLFNBQVM0TCxvQkFBb0JobEIsTUFHNUpoQixLQUFLK29CLDhCQUdHNW1CLElBQVJ5bEIsSUFDQTdELEdBQWlCdGUsS0FBS21pQixFQUFJNW1CLFFBQzFCaEIsS0FBS3dvQiw4QkFBOEJaLElBRXZDZSxFQUFnQkwscUJBQXVCdG9CLEtBQUtncEIsd0JBQXdCcEIsR0FDaEVlLEVBQWdCTCxzQkFDaEJ0b0IsS0FBS2lwQixxQkFFVDdCLHVCQUFzQixXQUVsQnJELEdBQW1CLEdBQ2Q0RSxFQUFnQkwsMkJBQ05ubUIsSUFBUnlsQixHQUNhLE1BQVpBLEVBQUkzbUIsS0FBK0IsS0FBaEIybUIsRUFBSXNCLFVBTzNCUCxFQUFnQkwscUJBQXVCOU0sRUFBTXdOLHdCQUF3QnBCLEdBQ2pFZSxFQUFnQkwsc0JBQ2hCOU0sRUFBTXlOLHNCQUdUTixFQUFnQkwsdUJBRWpCOU0sRUFBTXNKLGlCQUFtQnRKLEVBQU11SixrQ0FJM0NmLEVBQW9COWpCLFVBQVU4b0Isd0JBQTBCLFNBQVVwQixHQUM5RCxZQUFnQnpsQixJQUFSeWxCLEdBQWtDLFlBQWJBLEVBQUlsaUIsTUFBc0IxRixLQUFLb2EsU0FBU21NLG1CQUV6RXZDLEVBQW9COWpCLFVBQVUrb0IsbUJBQXFCLFdBQy9DLElBQUl6TixFQUFReGIsS0FDUmluQixFQUFLakQsRUFBb0IzZixRQUFTZ2YsRUFBeUI0RCxFQUFHNUQsdUJBQXdCRCxFQUF1QjZELEVBQUc3RCxxQkFDaEgrRixFQUFLbkYsRUFBb0I1SyxXQUFZMkosRUFBa0JvRyxFQUFHcEcsZ0JBQWlCRCxFQUFnQnFHLEVBQUdyRyxjQUM5RlUsRUFBMEJRLEVBQW9CdEssUUFBUThKLHdCQUMxRHhqQixLQUFLcW5CLGtCQUNMLElBQUkrQixFQUFpQixHQUNqQkMsRUFBZSxHQUNuQixJQUFLcnBCLEtBQUtvYSxTQUFTcU0sY0FBZSxDQUM5QixJQUFJNkMsRUFBS3RwQixLQUFLdXBCLCtCQUFnQ0MsRUFBYUYsRUFBR0UsV0FBWUMsRUFBV0gsRUFBR0csU0FDeEZMLEVBQWlCSSxFQUFXbkQsRUFBSSxPQUFTbUQsRUFBV2xELEVBQUksS0FDeEQrQyxFQUFlSSxFQUFTcEQsRUFBSSxPQUFTb0QsRUFBU25ELEVBQUksS0FFdER0bUIsS0FBS29hLFNBQVN5TSxrQkFBa0J4RCxFQUF3QitGLEdBQ3hEcHBCLEtBQUtvYSxTQUFTeU0sa0JBQWtCekQsRUFBc0JpRyxHQUV0RDdNLGFBQWF4YyxLQUFLa2tCLGtCQUNsQjFILGFBQWF4YyxLQUFLbWtCLDZCQUNsQm5rQixLQUFLMHBCLDhCQUNMMXBCLEtBQUtvYSxTQUFTUyxZQUFZa0ksR0FFMUIvaUIsS0FBS29hLFNBQVN5TCxzQkFDZDdsQixLQUFLb2EsU0FBU1EsU0FBU2tJLEdBQ3ZCOWlCLEtBQUtra0IsaUJBQW1CNUgsWUFBVyxXQUFjLE9BQU9kLEVBQU13Siw2QkFBK0J4QixJQUVqR1EsRUFBb0I5akIsVUFBVXFwQiw2QkFBK0IsV0FDekQsSUFDSUMsRUFEQXZDLEVBQUtqbkIsS0FBSzhrQixpQkFBa0JtRCxFQUFrQmhCLEVBQUdnQixnQkFvQnJELE1BQU8sQ0FBRXVCLFdBUlRBLEVBQWEsQ0FDVG5ELEdBVkFtRCxFQUgwRnZDLEVBQUdvQixzQkQ1VHpHLFNBQXlDVCxFQUFLK0IsRUFBWUMsR0FDdEQsSUFBS2hDLEVBQ0QsTUFBTyxDQUFFdkIsRUFBRyxFQUFHQyxFQUFHLEdBRXRCLElBR0l1RCxFQUNBQyxFQUpBekQsRUFBSXNELEVBQVd0RCxFQUFHQyxFQUFJcUQsRUFBV3JELEVBQ2pDeUQsRUFBWTFELEVBQUl1RCxFQUFXaEYsS0FDM0JvRixFQUFZMUQsRUFBSXNELEVBQVcvRSxJQUkvQixHQUFpQixlQUFiK0MsRUFBSWxpQixLQUF1QixDQUMzQixJQUFJdWtCLEVBQWFyQyxFQUNqQmlDLEVBQWNJLEVBQVdDLGVBQWUsR0FBR0MsTUFBUUosRUFDbkRELEVBQWNHLEVBQVdDLGVBQWUsR0FBR0UsTUFBUUosTUFFbEQsQ0FDRCxJQUFJSyxFQUFhekMsRUFDakJpQyxFQUFjUSxFQUFXRixNQUFRSixFQUNqQ0QsRUFBY08sRUFBV0QsTUFBUUosRUFFckMsTUFBTyxDQUFFM0QsRUFBR3dELEVBQWF2RCxFQUFHd0QsR0MyU1BRLENBQXlCckMsRUFBaUJqb0IsS0FBS29hLFNBQVNnTSxzQkFBdUJwbUIsS0FBS29hLFNBQVN5TCx1QkFHN0YsQ0FDVFEsRUFBR3JtQixLQUFLcWtCLE9BQU9DLE1BQVEsRUFDdkJnQyxFQUFHdG1CLEtBQUtxa0IsT0FBT0UsT0FBUyxJQUtkOEIsRUFBS3JtQixLQUFLd2tCLGFBQWUsRUFDdkM4QixFQUFHa0QsRUFBV2xELEVBQUt0bUIsS0FBS3drQixhQUFlLEdBTVZpRixTQUpsQixDQUNYcEQsRUFBSXJtQixLQUFLcWtCLE9BQU9DLE1BQVEsRUFBTXRrQixLQUFLd2tCLGFBQWUsRUFDbEQ4QixFQUFJdG1CLEtBQUtxa0IsT0FBT0UsT0FBUyxFQUFNdmtCLEtBQUt3a0IsYUFBZSxLQUkzRFIsRUFBb0I5akIsVUFBVStrQiwrQkFBaUMsV0FDM0QsSUFBSXpKLEVBQVF4YixLQUdSK2lCLEVBQWtCaUIsRUFBb0I1SyxXQUFXMkosZ0JBQ2pEa0UsRUFBS2puQixLQUFLOGtCLGlCQUFrQm9ELEVBQXVCakIsRUFBR2lCLHFCQUFzQkMsRUFBY2xCLEVBQUdrQixhQUN4RUQsSUFBeUJDLElBQ3hCbm9CLEtBQUtpa0IsK0JBQzNCamtCLEtBQUswcEIsOEJBQ0wxcEIsS0FBS29hLFNBQVNRLFNBQVNtSSxHQUN2Qi9pQixLQUFLbWtCLDRCQUE4QjdILFlBQVcsV0FDMUNkLEVBQU1wQixTQUFTUyxZQUFZa0ksS0FDNUJySixHQUFRK0osc0JBR25CTyxFQUFvQjlqQixVQUFVd3BCLDRCQUE4QixXQUN4RCxJQUFJNUcsRUFBZ0JrQixFQUFvQjVLLFdBQVcwSixjQUNuRDlpQixLQUFLb2EsU0FBU1MsWUFBWWlJLEdBQzFCOWlCLEtBQUtpa0IsOEJBQStCLEVBQ3BDamtCLEtBQUtvYSxTQUFTeUwsdUJBRWxCN0IsRUFBb0I5akIsVUFBVTZvQixzQkFBd0IsV0FDbEQsSUFBSXZOLEVBQVF4YixLQUNaQSxLQUFLNm9CLHlCQUEyQjdvQixLQUFLOGtCLGlCQUFpQm1ELGdCQUN0RGpvQixLQUFLOGtCLGlCQUFtQjlrQixLQUFLK2tCLDBCQUc3QnpJLFlBQVcsV0FBYyxPQUFPZCxFQUFNcU4sOEJBQTJCMW1CLElBQWM2aEIsRUFBb0J0SyxRQUFRa0ssZUFFL0dJLEVBQW9COWpCLFVBQVVtbEIsWUFBYyxXQUN4QyxJQUFJN0osRUFBUXhiLEtBQ1Iyb0IsRUFBa0Izb0IsS0FBSzhrQixpQkFFM0IsR0FBSzZELEVBQWdCUixZQUFyQixDQUdBLElBQUlvQyxFQUFROVAsRUFBaUIsR0FBSWtPLEdBQzdCQSxFQUFnQlAsZ0JBQ2hCaEIsdUJBQXNCLFdBQWMsT0FBTzVMLEVBQU1nUCxxQkFBcUJELE1BQ3RFdnFCLEtBQUsrb0IsMEJBR0wvb0IsS0FBSzBuQixrQ0FDTE4sdUJBQXNCLFdBQ2xCNUwsRUFBTXNKLGlCQUFpQm9ELHNCQUF1QixFQUM5QzFNLEVBQU1nUCxxQkFBcUJELEdBQzNCL08sRUFBTXVOLDhCQUlsQi9FLEVBQW9COWpCLFVBQVVzcUIscUJBQXVCLFNBQVV2RCxHQUMzRCxJQUFJb0IsRUFBd0JwQixFQUFHb0Isc0JBQXVCQyxFQUF1QnJCLEVBQUdxQixzQkFDNUVELEdBQXlCQyxJQUN6QnRvQixLQUFLaWxCLGtDQUdiakIsRUFBb0I5akIsVUFBVW1uQixnQkFBa0IsV0FDNUMsSUFBSTdMLEVBQVF4YixLQUNaQSxLQUFLcWtCLE9BQVNya0IsS0FBS29hLFNBQVN5TCxzQkFDNUIsSUFBSTRFLEVBQVN4bkIsS0FBS2laLElBQUlsYyxLQUFLcWtCLE9BQU9FLE9BQVF2a0IsS0FBS3FrQixPQUFPQyxPQVd0RHRrQixLQUFLMGtCLFdBQWExa0IsS0FBS29hLFNBQVNxTSxjQUFnQmdFLEVBSDNCeG5CLEtBQUt5bkIsS0FBS3puQixLQUFLMG5CLElBQUluUCxFQUFNNkksT0FBT0MsTUFBTyxHQUFLcmhCLEtBQUswbkIsSUFBSW5QLEVBQU02SSxPQUFPRSxPQUFRLElBQ3ZFUCxFQUFvQnRLLFFBQVFpSyxRQUlwRCxJQUFJaUgsRUFBYzNuQixLQUFLNG5CLE1BQU1KLEVBQVN6RyxFQUFvQnRLLFFBQVFnSyxzQkFFOUQxakIsS0FBS29hLFNBQVNxTSxlQUFpQm1FLEVBQWMsR0FBTSxFQUNuRDVxQixLQUFLd2tCLGFBQWVvRyxFQUFjLEVBR2xDNXFCLEtBQUt3a0IsYUFBZW9HLEVBRXhCNXFCLEtBQUtva0IsU0FBVyxHQUFLcGtCLEtBQUswa0IsV0FBYTFrQixLQUFLd2tCLGFBQzVDeGtCLEtBQUs4cUIsd0JBRVQ5RyxFQUFvQjlqQixVQUFVNHFCLHFCQUF1QixXQUNqRCxJQUFJN0QsRUFBS2pELEVBQW9CM2YsUUFBUzhlLEVBQWM4RCxFQUFHOUQsWUFBYUcsRUFBVzJELEVBQUczRCxTQUFVQyxFQUFVMEQsRUFBRzFELFFBQVNMLEVBQWUrRCxFQUFHL0QsYUFDcElsakIsS0FBS29hLFNBQVN5TSxrQkFBa0IxRCxFQUFhbmpCLEtBQUt3a0IsYUFBZSxNQUNqRXhrQixLQUFLb2EsU0FBU3lNLGtCQUFrQjNELEVBQWNsakIsS0FBS29rQixVQUMvQ3BrQixLQUFLb2EsU0FBU3FNLGdCQUNkem1CLEtBQUsya0IsaUJBQW1CLENBQ3BCQyxLQUFNM2hCLEtBQUs4bkIsTUFBTy9xQixLQUFLcWtCLE9BQU9DLE1BQVEsRUFBTXRrQixLQUFLd2tCLGFBQWUsR0FDaEVLLElBQUs1aEIsS0FBSzhuQixNQUFPL3FCLEtBQUtxa0IsT0FBT0UsT0FBUyxFQUFNdmtCLEtBQUt3a0IsYUFBZSxJQUVwRXhrQixLQUFLb2EsU0FBU3lNLGtCQUFrQnZELEVBQVV0akIsS0FBSzJrQixpQkFBaUJDLEtBQU8sTUFDdkU1a0IsS0FBS29hLFNBQVN5TSxrQkFBa0J0RCxFQUFTdmpCLEtBQUsya0IsaUJBQWlCRSxJQUFNLFFBR3RFYixHQUNUOUo7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDL2JGLE1BQ2FsTCxHQUFRNkgsRUFBSTs7Ozs7Ozs7Ozs7Ozs7OztHQ0tuQm1VLEdIakJDLFNBQThCQyxFQUFXQyxRQUN2QixJQUFqQkEsSUFBMkJBLEdBQWUsR0FDOUMsSUFDSUMsRUFEQUMsRUFBTUgsRUFBVUcsSUFFcEIsR0FBcUMsa0JBQTFCeEksS0FBd0NzSSxFQUMvQyxPQUFPdEksR0FHWCxLQUQ4QndJLEdBQStCLG1CQUFqQkEsRUFBSUMsVUFFNUMsT0FBTyxFQUVYLElBQUlDLEVBQTRCRixFQUFJQyxTQUFTLGFBQWMsT0FHdkRFLEVBQXFDSCxFQUFJQyxTQUFTLHNCQUNsREQsRUFBSUMsU0FBUyxRQUFTLGFBTTFCLE9BTEFGLEVBQ0lHLEdBQTZCQyxFQUM1QkwsSUFDRHRJLEdBQXdCdUksR0FFckJBLEVHSnFCSyxDQUFxQnBwQixRQUsvQ3FwQixHQUFXQyxVQUFVQyxVQUFVdmxCLE1BQU0sVUFDM0MsSUFBSXdsQixJQUFzQixFQUMxQixNQWNhQyxHQUFjNWtCLElBQ25Cd2tCLEtBQWFHLElBZkksTUFDckJBLElBQXNCLEVBQ3RCLE1BQU1wVCxFQUFlelUsU0FBU3lFLGNBQWMsU0FDdEM1QixFQUFPLElBQUk4QyxFQUFTLENBQUVjLGdCQUFBQSxJQUM1QjVELEVBQUtxUyxXQUFXVCxHQUNoQjVSLEVBQUtPLFNBQVM2SCxJQUNkcEksRUFBS1EsU0FFTHJELFNBQVMrbkIsS0FBS2ppQixZQUFZMk8sSUFRdEJ1VCxHQUtKLE1BQU1DLEVBQWMva0IsRUFBUStrQixZQUN0QkMsRUFBa0JobEIsRUFBUWdsQixpQkFBbUJELEVBRS9DQyxFQUFnQkMsZ0JBQWtCRixFQUFZRSxlQUNQLEtBQW5DRCxFQUFnQmpkLE1BQU1xUixXQUN0QjRMLEVBQWdCamQsTUFBTXFSLFNBQVcsWUFHekMsTUFzQk04TCxFQUFtQixJQUFJbkksR0F0QmIsQ0FDWjRCLHVCQUF3QixJQUFNb0YsR0FDOUJ2RSxZQUFhLFNBQTRCdGtCLElBQXRCOEUsRUFBUStnQixXQUFpQy9nQixFQUFRK2dCLFVBQ3BFekIsZ0JBQWlCLElBQU1uSixHQUFRNk8sRUFBaUIsV0FDaER6RixrQkFBbUIsSUFBTXZXLFFBQVFnYyxFQUFnQkcsYUFBYSxhQUM5RHhSLFNBQVc4QyxHQUFjc08sRUFBWXJPLFVBQVVoUCxJQUFJK08sR0FDbkQ3QyxZQUFjNkMsR0FBY3NPLEVBQVlyTyxVQUFVQyxPQUFPRixHQUN6RHNJLG9CQUFzQmhsQixHQUFXaXJCLEVBQWdCcE8sU0FBUzdjLEdBQzFEMmxCLDJCQUE0QixDQUFDamhCLEVBQU0rYyxJQUFZd0osRUFBZ0J4Z0IsaUJBQWlCL0YsRUFBTStjLEVBQVNILE1BQy9GNEQsNkJBQThCLENBQUN4Z0IsRUFBTStjLElBQVl3SixFQUFnQnZnQixvQkFBb0JoRyxFQUFNK2MsRUFBU0gsTUFDcEdvRSxtQ0FBb0MsQ0FBQzZCLEVBQVM5RixJQUU5QzFlLFNBQVNzb0IsZ0JBQWdCNWdCLGlCQUFpQjhjLEVBQVM5RixFQUFTSCxNQUM1RDJELHFDQUFzQyxDQUFDc0MsRUFBUzlGLElBRWhEMWUsU0FBU3NvQixnQkFBZ0IzZ0Isb0JBQW9CNmMsRUFBUzlGLEVBQVNILE1BQy9Ec0Usc0JBQXdCbkUsR0FBWXJnQixPQUFPcUosaUJBQWlCLFNBQVVnWCxHQUN0RTBELHdCQUEwQjFELEdBQVlyZ0IsT0FBT3NKLG9CQUFvQixTQUFVK1csR0FDM0VvRSxrQkFBbUIsQ0FBQ3lGLEVBQVMxakIsSUFBVW9qQixFQUFZaGQsTUFBTXlSLFlBQVk2TCxFQUFTMWpCLEdBQzlFaWQsb0JBQXFCLElBQU1tRyxFQUFZTyx3QkFDdkNuRyxvQkFBcUIsTUFBU0MsRUFBR2prQixPQUFPb3FCLFlBQWFsRyxFQUFHbGtCLE9BQU95ZSxnQkFJbkUsT0FEQXNMLEVBQWlCOVIsT0FDVjhSLEdBRUxNLEdBQXlCLElBQUkvcUIsUUFNdEJnckIsR0FBUy9xQixFQUFVLENBQUNzRixFQUFVLEtBQVFMLElBQy9DLE1BQU1vbEIsRUFBY3BsQixFQUFLNkMsVUFBVS9GLFFBQzdCdW9CLEVBQWtCaGxCLEVBQVFnbEIsaUJBQW1CRCxFQUNuRCxJQUFJRyxFQUFtQnZsQixFQUFLZ0MsTUFFNUIsTUFBTStqQixFQUEwQkYsR0FBdUIxZixJQUFJb2YsUUFDM0JocUIsSUFBNUJ3cUIsR0FDQUEsSUFBNEJWLElBQzVCRSxFQUFpQjdSLFVBQ2pCNlIsRUFBbUJ0cEIsR0FHbkJzcEIsSUFBcUJ0cEIsR0FDckJzcEIsRUFDSU4sR0FBV3JzQixPQUFPYSxPQUFPLEdBQUk0RyxFQUFTLENBQUUra0IsWUFBQUEsS0FDNUNTLEdBQXVCM3FCLElBQUlxcUIsRUFBa0JGLEdBQzdDcmxCLEVBQUtPLFNBQVNnbEIsVUFJWWhxQixJQUF0QjhFLEVBQVErZ0IsV0FDUm1FLEVBQ0twRSxhQUFhOWdCLEVBQVErZ0IsZ0JBRUw3bEIsSUFBckI4RSxFQUFRMmxCLFVBQ1JULEVBQ0twRSxhQUFhOWdCLEVBQVEybEIsWUFHWCxJQUFuQjNsQixFQUFRNGxCLE9BQ1JWLEVBQWlCeEUsWUFFTyxJQUFuQjFnQixFQUFRNGxCLFFBQ2JWLEVBQWlCdEUsZUN4R2xCLE1BQU1pRixXQUF1QnhWLEdBQ2hDOVQsY0FDSTRILFNBQVMxSyxXQUNUVixLQUFLNHNCLFVBQVcsRUFDaEI1c0IsS0FBSytzQixLQUFPLEdBQ1ovc0IsS0FBS2d0QixNQUFRLEdBRWpCeHBCLFNBQ0ksT0FBTzBFLENBQUs7ZUFDTHdrQjs7a0JBRUcxc0IsS0FBS2d0QixPQUFTaHRCLEtBQUsrc0I7aUJBQ3BCL3NCLEtBQUs0c0I7Z0NBQ1U1c0IsS0FBSytzQjs7Y0FLckNqc0IsRUFBVyxDQUNQNFUsR0FBUyxDQUFFaFEsS0FBTXVLLFFBQVNVLFNBQVMsS0FDcENtYyxHQUFlNXNCLFVBQVcsZ0JBQVksR0FDekNZLEVBQVcsQ0FDUDRVLEdBQVMsQ0FBRWhRLEtBQU0xQyxVQUNsQjhwQixHQUFlNXNCLFVBQVcsWUFBUSxHQUNyQ1ksRUFBVyxDQUNQNFUsR0FBUyxDQUFFaFEsS0FBTTFDLFVBQ2xCOHBCLEdBQWU1c0IsVUFBVyxhQUFTOzs7Ozs7Ozs7Ozs7Ozs7OztBQzdCdEMsTUFDYThPLEdBQVE2SCxFQUFJOzs7Ozs7Ozs7Ozs7Ozs7O0dDR3pCLElBQUlvVyxHQUFhLGNBQXlCSCxLQUUxQ0csR0FBV3BlLE9BQVNHLEdBQ3BCaWUsR0FBYW5zQixFQUFXLENBQ3BCZ1UsRUFBYyxvQkFDZm1ZOzs7Ozs7Ozs7Ozs7Ozs7OztBQ1RILE1BQ0ksSUFBSWhHLEVBQUlrQyxFQUFJRyxFQUVaLE1BQU00RCxFQUFvQm5rQixTQUNwQm9rQixFQUF3QnBrQixTQUN4QnFrQixFQUFnQnJrQixTQUNoQnNrQixFQUFxQnRrQixTQUNyQnVrQixFQUFZdmtCLFNBRVp3a0IsRUFBY3hrQixTQUNkeWtCLEVBQXNCemtCLFNBQ3RCMGtCLEVBQWlCMWtCLFNBQ2pCMmtCLEVBQTBCM2tCLFNBQzFCNGtCLEVBQWM1a0IsU0FDZDZrQixFQUEwQjdrQixTQUMxQjhrQixFQUFlOWtCLFNBQ2Yra0IsRUFBbUIva0IsU0F1VHpCaEYsU0FBU2dxQixrQkFDTCxJQXZUSixNQUNJdnFCLGNBSUl4RCxLQUFLaW5CLEdBQU0sR0FPWGpuQixLQUFLbXBCLEdBQU0sR0FLWG5wQixLQUFLc3BCLEdBQU0sSUFBSTlhLElBRW5CaEwsYUFFSXhELEtBQUswdEIsR0FBeUIxdEIsS0FBS290QixJQUtsQnB0QixLQUNSa3RCLEdBQXFCLEtBRGJsdEIsS0FFUm90QixHQUFpQixLQUZUcHRCLEtBR1JtdEIsR0FBeUIsS0FFdEN0SSxVQUNJLE1BQU1tSixFQUFRaHVCLEtBQUtrdEIsR0FDbkIsT0FBT2MsRUFBTUEsRUFBTXJ0QixPQUFTLElBQU0sS0FFdEM2QyxLQUFLRSxHQUNJQSxHQUFXQSxJQUFZMUQsS0FBSzZrQixNQUlqQzdrQixLQUFLNGQsT0FBT2xhLEdBQ1oxRCxLQUFLdXRCLEdBQWE3cEIsR0FDbEIxRCxLQUFLa3RCLEdBQW1Cem5CLEtBQUsvQixJQUVqQ0YsT0FBT0UsR0FDSCxNQUFNbEQsRUFBSVIsS0FBS2t0QixHQUFtQnBuQixRQUFRcEMsR0FDMUMsT0FBVyxJQUFQbEQsSUFHSlIsS0FBS2t0QixHQUFtQmUsT0FBT3p0QixFQUFHLEdBRTlCQSxJQUFNUixLQUFLa3RCLEdBQW1CdnNCLFFBQzlCWCxLQUFLdXRCLEdBQWF2dEIsS0FBSzZrQixNQUVwQixHQUVYcmhCLE1BQ0ksTUFBTXFoQixFQUFNN2tCLEtBQUs2a0IsSUFFakIsT0FEQUEsR0FBTzdrQixLQUFLNGQsT0FBT2lILEdBQ1pBLEVBRVhyaEIsSUFBSUUsR0FDQSxPQUFxRCxJQUE5QzFELEtBQUtrdEIsR0FBbUJwbkIsUUFBUXBDLEdBTTNDRixFQUFFeWpCLEVBQUtpRyxFQUFtQi9ELEVBQUtpRSxFQUFlOUQsRUFBSzZELEVBQXVCSSxJQUFjVyxHQUNwRixNQUFNQyxFQUFjbnVCLEtBQUttdEIsR0FDbkJpQixFQUFhcHVCLEtBQUtvdEIsR0FFeEIsSUFBS2MsRUFJRCxPQUhBbHVCLEtBQUswdEIsR0FBeUJVLEdBQzlCRCxFQUFZN2pCLGFBQ1p0SyxLQUFLb3RCLEdBQWlCLElBRzFCLE1BQU1pQixFQUFhcnVCLEtBQUsydEIsR0FBYU8sR0FFckMsR0FBSUcsRUFBV0EsRUFBVzF0QixPQUFTLEdBQUdxRixhQUFlakMsU0FBU2tiLEtBQzFELE1BQU0vVCxNQUFNLHNEQUloQmxMLEtBQUtvdEIsR0FBaUJpQixFQUN0QixNQUFNQyxFQUFTdHVCLEtBQUs0dEIsR0FBeUJNLEdBRTdDLElBQUtFLEVBQVd6dEIsT0FFWixZQURBWCxLQUFLeXRCLEdBQWdCWSxFQUFZQyxFQUFRSCxHQUc3QyxJQUFJM3RCLEVBQUk0dEIsRUFBV3p0QixPQUFTLEVBQ3hCNHRCLEVBQUlGLEVBQVcxdEIsT0FBUyxFQUU1QixLQUFPSCxFQUFJLEdBQUsrdEIsRUFBSSxHQUFLSCxFQUFXNXRCLEtBQU82dEIsRUFBV0UsSUFDbEQvdEIsSUFDQSt0QixJQUlBSCxFQUFXNXRCLEtBQU82dEIsRUFBV0UsSUFDN0J2dUIsS0FBS3d0QixHQUFxQlksRUFBVzV0QixHQUFJNnRCLEVBQVdFLElBR3hEL3RCLEVBQUksR0FBS1IsS0FBSzB0QixHQUF5QlUsRUFBV2pyQixNQUFNLEVBQUczQyxJQUUzRCt0QixFQUFJLEdBQUt2dUIsS0FBS3l0QixHQUFnQlksRUFBV2xyQixNQUFNLEVBQUdvckIsR0FBSUQsRUFBUSxNQVFsRTlxQixDQUFDZ3FCLEdBQXFCZ0IsRUFBVUMsR0FDNUIsTUFBTUMsRUFBb0JGLEVBQVNuQixHQUcvQnJ0QixLQUFLNnRCLEdBQWNXLEtBQWNBLEVBQVNHLFFBQzFDSCxFQUFTRyxPQUFRLEVBQ2pCRCxFQUFrQi9mLElBQUk2ZixJQUl0QkUsRUFBa0J6c0IsSUFBSXdzQixLQUN0QkEsRUFBU0UsT0FBUSxFQUNqQkQsRUFBa0J2VixPQUFPc1YsSUFFN0JBLEVBQVNuQixHQUFha0IsRUFBU2xCLEdBQy9CbUIsRUFBU3BCLEdBQXNCcUIsRUFDL0JGLEVBQVNsQixRQUFhbnJCLEVBQ3RCcXNCLEVBQVNuQixRQUFzQmxyQixFQVFuQ3FCLENBQUNrcUIsR0FBeUJyWSxHQUN0QixJQUFLLE1BQU0zUixLQUFXMlIsRUFBVSxDQUNqQjNSLEVBQVE0cEIsR0FDaEJzQixhQUNIbHJCLEVBQVE0cEIsUUFBYW5yQixFQUNyQixNQUFNMHNCLEVBQVduckIsRUFBUTJwQixHQUN6QixJQUFLLE1BQU15QixLQUFXRCxFQUNsQkMsRUFBUUgsT0FBUSxFQUVwQmpyQixFQUFRMnBCLFFBQXNCbHJCLEdBV3RDcUIsQ0FBQ2lxQixHQUFnQnBZLEVBQVVpWixFQUFRSCxHQUMvQixJQUFLLE1BQU16cUIsS0FBVzJSLEVBQVUsQ0FFNUIsTUFBTXRQLEVBQVNyQyxFQUFRc0MsV0FDakIrb0IsRUFBV2hwQixFQUFPZ3BCLFNBQ2xCQyxFQUFrQixJQUFJeGdCLElBQzVCLElBQUssSUFBSStmLEVBQUksRUFBR0EsRUFBSVEsRUFBU3B1QixPQUFRNHRCLElBQUssQ0FDdEMsTUFBTU8sRUFBVUMsRUFBU1IsR0FFckJPLElBQVlwckIsSUFBWTFELEtBQUs2dEIsR0FBY2lCLElBQzFDUixHQUFVQSxFQUFPcnNCLElBQUk2c0IsS0FJdEJYLEdBQWVXLEVBQVFILE1BQ3ZCUixFQUFZeGYsSUFBSW1nQixJQUdoQkEsRUFBUUgsT0FBUSxFQUNoQkssRUFBZ0JyZ0IsSUFBSW1nQixLQUk1QnByQixFQUFRMnBCLEdBQXNCMkIsRUFFOUIsTUFBTUMsRUFBSyxJQUFJQyxpQkFBaUJsdkIsS0FBSzh0QixHQUFrQnFCLEtBQUtudkIsT0FDNUQwRCxFQUFRNHBCLEdBQWEyQixFQUNyQixJQUFJRyxFQUFrQnJwQixFQUl0QixNQUFNc3BCLEVBQWlCRCxFQUNuQkMsRUFBZUMsU0FBV0QsRUFBZXhXLE9BQ3pDdVcsRUFBa0JDLEVBQWV4VyxNQUVyQ29XLEVBQUdNLFFBQVFILEVBQWlCLENBQ3hCSSxXQUFXLEtBU3ZCaHNCLENBQUNzcUIsR0FBa0IyQixHQUNmLE1BQU1DLEVBQVUxdkIsS0FBS290QixHQUNmZSxFQUFjbnVCLEtBQUttdEIsR0FDekIsSUFBSyxNQUFNd0MsS0FBWUYsRUFBVyxDQUc5QixNQUFNenVCLEVBQVMydUIsRUFBUzN1QixPQUFPNlgsTUFBUThXLEVBQVMzdUIsT0FDMUNnVyxFQUFNaFcsSUFBVytDLFNBQVNrYixLQUM1QnlRLEVBQVEvdUIsT0FDUit1QixFQUFRNXBCLFFBQVE5RSxHQUNkNHVCLEVBQWVGLEVBQVExWSxFQUFNLEdBQzdCZ1ksRUFBa0JZLEVBQWF2QyxHQUVyQyxJQUFLLElBQUk3c0IsRUFBSSxFQUFHQSxFQUFJbXZCLEVBQVNFLGFBQWFsdkIsT0FBUUgsSUFBSyxDQUNuRCxNQUFNc3VCLEVBQVVhLEVBQVNFLGFBQWFydkIsR0FDdEMsR0FBSXN1QixJQUFZYyxFQUdaLE9BRkExaEIsUUFBUTRoQixLQUFLLHNEQUNiOXZCLEtBQUt3RyxNQUdMd29CLEVBQWdCL3NCLElBQUk2c0IsS0FDcEJBLEVBQVFILE9BQVEsRUFDaEJLLEVBQWdCN1YsT0FBTzJWLElBSS9CLElBQUssSUFBSXR1QixFQUFJLEVBQUdBLEVBQUltdkIsRUFBU0ksV0FBV3B2QixPQUFRSCxJQUFLLENBQ2pELE1BQU1zdUIsRUFBVWEsRUFBU0ksV0FBV3Z2QixHQUMvQlIsS0FBSzZ0QixHQUFjaUIsS0FHcEJYLEdBQWVXLEVBQVFILE1BQ3ZCUixFQUFZeGYsSUFBSW1nQixJQUdoQkEsRUFBUUgsT0FBUSxFQUNoQkssRUFBZ0JyZ0IsSUFBSW1nQixPQVFwQ3RyQixDQUFDcXFCLEdBQWNucUIsR0FDWCxPQUFPLElBQVUsNEJBQTRCc3NCLEtBQUt0c0IsRUFBUTRVLFdBTTlEOVUsQ0FBQ21xQixHQUFhanFCLEdBQ1YsTUFBTWdzQixFQUFVLEdBQ2hCLElBQUlPLEVBQVV2c0IsRUFFZCxLQUFPdXNCLEdBQVdBLElBQVlsc0IsU0FBU2tiLE1BTW5DLEdBSklnUixFQUFReHJCLFdBQWEwRixLQUFLcVQsY0FDMUJrUyxFQUFRanFCLEtBQUt3cUIsR0FHYkEsRUFBUUMsYUFBWixDQUVJLEtBQU9ELEVBQVVBLEVBQVFDLGNBQ3JCUixFQUFRanFCLEtBQUt3cUIsR0FHakJBLEVBQVVQLEVBQVFscEIsV0FHdEJ5cEIsRUFBVUEsRUFBUWpxQixZQUNkaXFCLEVBQVFwWCxLQUVoQixPQUFPNlcsRUFNWGxzQixDQUFDb3FCLEdBQXlCbHFCLEdBQ3RCLE1BQU00YSxFQUFhNWEsRUFBUTRhLFdBQzNCLElBQUtBLEVBQ0QsT0FBTyxLQUVYLE1BQU03YSxFQUFTLElBQUkrSyxJQUNuQixJQUFJaE8sRUFDQSt0QixFQUNBNEIsRUFDSixNQUFNQyxFQUFROVIsRUFBV3hQLGlCQUFpQixRQUMxQyxHQUFJc2hCLEVBQU16dkIsUUFBVXl2QixFQUFNLEdBQUdwUCxjQUN6QixJQUFLeGdCLEVBQUksRUFBR0EsRUFBSTR2QixFQUFNenZCLE9BQVFILElBSTFCLElBSEEydkIsRUFBUUMsRUFBTTV2QixHQUFHd2dCLGNBQWMsQ0FDM0JDLFNBQVMsSUFFUnNOLEVBQUksRUFBR0EsRUFBSTRCLEVBQU14dkIsT0FBUTR0QixJQUN0QjRCLEVBQU01QixHQUFHOXBCLFdBQWEwRixLQUFLcVQsY0FDM0IvWixFQUFPa0wsSUFBSXdoQixFQUFNNUIsSUFNakMsT0FBTzlxQixLQXBVbkIsR0NUQSxNQUFNTixHQUFReEQsTUFBTU8sVUFBVWlELE1BTXhCaWEsR0FDRmlULFFBQVFud0IsVUFBVWtkLFNBQVdpVCxRQUFRbndCLFVBQVVvZCxrQkFHN0NnVCxHQUEyQixDQUFDLFVBQ0EsYUFDQSx3QkFDQSx5QkFDQSwyQkFDQSx5QkFDQSxVQUNBLFVBQ0EsU0FDQSxTQUNBLFFBQ0EscUJBQXFCbmpCLEtBQUssS0FrQjVELE1BQU1vakIsR0FLSi9zQixZQUFZZ3RCLEVBQWFDLEdBRXZCendCLEtBQUswd0IsY0FBZ0JELEVBR3JCendCLEtBQUsyd0IsYUFBZUgsRUFNcEJ4d0IsS0FBSzR3QixjQUFnQixJQUFJcGlCLElBR3JCeE8sS0FBSzJ3QixhQUFhdkUsYUFBYSxlQUVqQ3BzQixLQUFLNndCLGlCQUFtQjd3QixLQUFLMndCLGFBQWF0ckIsYUFBYSxlQUV2RHJGLEtBQUs2d0IsaUJBQW1CLEtBRTFCN3dCLEtBQUsyd0IsYUFBYXBuQixhQUFhLGNBQWUsUUFHOUN2SixLQUFLOHdCLHdCQUF3Qjl3QixLQUFLMndCLGNBT2xDM3dCLEtBQUsrd0IsVUFBWSxJQUFJN0IsaUJBQWlCbHZCLEtBQUtneEIsWUFBWTdCLEtBQUtudkIsT0FDNURBLEtBQUsrd0IsVUFBVXhCLFFBQVF2dkIsS0FBSzJ3QixhQUFjLENBQUNoc0IsWUFBWSxFQUFNNnFCLFdBQVcsRUFBTXlCLFNBQVMsSUFPekZ6dEIsYUFDRXhELEtBQUsrd0IsVUFBVW5DLGFBRVg1dUIsS0FBSzJ3QixlQUN1QixPQUExQjN3QixLQUFLNndCLGlCQUNQN3dCLEtBQUsyd0IsYUFBYXBuQixhQUFhLGNBQWV2SixLQUFLNndCLGtCQUVuRDd3QixLQUFLMndCLGFBQWFyckIsZ0JBQWdCLGdCQUl0Q3RGLEtBQUs0d0IsY0FBY2xqQixTQUFRLFNBQVN3akIsR0FDbENseEIsS0FBS214QixjQUFjRCxFQUFVM3NCLFFBQzVCdkUsTUFRSEEsS0FBSyt3QixlQUNML3dCLEtBQUsyd0Isa0JBQ0wzd0IsS0FBSzR3QixtQkFDTDV3QixLQUFLMHdCLG1CQU1QVSxtQkFDRSxPQUFPLElBQUk1aUIsSUFBSXhPLEtBQUs0d0IsZUFJdEJTLHlCQUNFLE9BQWlDLE9BQTFCcnhCLEtBQUs2d0IsaUJBSWRTLG9CQUFvQkMsR0FDbEJ2eEIsS0FBSzZ3QixpQkFBbUJVLEVBSTFCRCxzQkFDRSxPQUFPdHhCLEtBQUs2d0IsaUJBTWRydEIsd0JBQXdCb0csR0FDdEI0bkIsR0FBaUI1bkIsRUFBWXJGLEdBQVN2RSxLQUFLeXhCLFdBQVdsdEIsSUFFdEQsSUFBSTZaLEVBQWdCcmEsU0FBU3FhLGNBRTdCLElBQUtyYSxTQUFTa2IsS0FBS3BCLFNBQVNqVSxHQUFZLENBRXRDLElBQUlyRixFQUFPcUYsRUFFUDhuQixPQUFPdnZCLEVBQ1gsS0FBT29DLEdBQU0sQ0FDWCxHQUFJQSxFQUFLRSxXQUFhMEYsS0FBS3duQix1QkFBd0IsQ0FDakRELElBQ0EsTUFFRm50QixFQUFPQSxFQUFLeUIsV0FFVjByQixJQUNGdFQsRUFBZ0JzVCxFQUFLdFQsZUFHckJ4VSxFQUFVaVUsU0FBU08sS0FDckJBLEVBQWN3VCxPQUlWeFQsSUFBa0JyYSxTQUFTcWEsZUFDN0JyYSxTQUFTa2IsS0FBSzRTLFNBUXBCcnVCLFdBQVdlLEdBQ1QsR0FBSUEsRUFBS0UsV0FBYTBGLEtBQUtxVCxhQUN6QixPQUVGLE1BQU05WixJQUlGQSxJQUFZMUQsS0FBSzJ3QixjQUFnQmp0QixFQUFRMG9CLGFBQWEsVUFDeERwc0IsS0FBSzh4QixnQkFBZ0JwdUIsSUFHbkIwWixHQUFReGMsS0FBSzhDLEVBQVM0c0IsS0FBNkI1c0IsRUFBUTBvQixhQUFhLGNBQzFFcHNCLEtBQUsreEIsWUFBWXJ1QixHQVFyQkYsWUFBWWUsR0FDVixNQUFNMnNCLEVBQVlseEIsS0FBSzB3QixjQUFjc0IsU0FBU3p0QixFQUFNdkUsTUFDcERBLEtBQUs0d0IsY0FBY2ppQixJQUFJdWlCLEdBT3pCMXRCLGNBQWNlLEdBQ1osTUFBTTJzQixFQUFZbHhCLEtBQUswd0IsY0FBY3VCLFdBQVcxdEIsRUFBTXZFLE1BQ2xEa3hCLEdBQ0ZseEIsS0FBSzR3QixjQUFjelgsT0FBTytYLEdBUTlCMXRCLGlCQUFpQm9HLEdBQ2Y0bkIsR0FBaUI1bkIsRUFBWXJGLEdBQVN2RSxLQUFLbXhCLGNBQWM1c0IsSUFPM0RmLGdCQUFnQmUsR0FDZCxJQUFJMnRCLEVBQWVseUIsS0FBSzB3QixjQUFjeUIsYUFBYTV0QixHQUk5QzJ0QixJQUNIbHlCLEtBQUswd0IsY0FBYzBCLFNBQVM3dEIsR0FBTSxHQUNsQzJ0QixFQUFlbHlCLEtBQUswd0IsY0FBY3lCLGFBQWE1dEIsSUFHakQydEIsRUFBYWQsYUFBYTFqQixTQUFRLFNBQVMya0IsR0FDekNyeUIsS0FBSyt4QixZQUFZTSxFQUFlOXRCLFFBQy9CdkUsTUFRTHdELFlBQVk4dUIsRUFBU0MsR0FDbkJELEVBQVE1a0IsU0FBUSxTQUFTOGtCLEdBQ3ZCLE1BQU14eEIsRUFBa0N3eEIsRUFBYSxPQUNyRCxHQUFvQixjQUFoQkEsRUFBTzlzQixLQUVUdkMsR0FBTXZDLEtBQUs0eEIsRUFBT3pDLFlBQVlyaUIsU0FBUSxTQUFTbkosR0FDN0N2RSxLQUFLOHdCLHdCQUF3QnZzQixLQUM1QnZFLE1BR0htRCxHQUFNdkMsS0FBSzR4QixFQUFPM0MsY0FBY25pQixTQUFRLFNBQVNuSixHQUMvQ3ZFLEtBQUt5eUIsaUJBQWlCbHVCLEtBQ3JCdkUsV0FDRSxHQUFvQixlQUFoQnd5QixFQUFPOXNCLEtBQ2hCLEdBQTZCLGFBQXpCOHNCLEVBQU9FLGNBRVQxeUIsS0FBSyt4QixZQUFZL3dCLFFBQ1osR0FBSUEsSUFBV2hCLEtBQUsyd0IsY0FDUyxVQUF6QjZCLEVBQU9FLGVBQ1AxeEIsRUFBT29yQixhQUFhLFNBQVUsQ0FHdkNwc0IsS0FBSzh4QixnQkFBZ0I5d0IsR0FDckIsTUFBTWt4QixFQUFlbHlCLEtBQUswd0IsY0FBY3lCLGFBQWFueEIsR0FDckRoQixLQUFLNHdCLGNBQWNsakIsU0FBUSxTQUFTaWxCLEdBQzlCM3hCLEVBQU82YyxTQUFTOFUsRUFBWXB1QixPQUM5QjJ0QixFQUFhSCxZQUFZWSxFQUFZcHVCLFlBSzVDdkUsT0FrQlAsTUFBTTR5QixHQUtKcHZCLFlBQVllLEVBQU1zdUIsR0FFaEI3eUIsS0FBSzh5QixNQUFRdnVCLEVBR2J2RSxLQUFLK3lCLHNCQUF1QixFQU01Qi95QixLQUFLZ3pCLFlBQWMsSUFBSXhrQixJQUFJLENBQUNxa0IsSUFHNUI3eUIsS0FBS2l6QixlQUFpQixLQUd0Qmp6QixLQUFLa3pCLFlBQWEsRUFHbEJsekIsS0FBS216QixtQkFPUDN2QixhQUdFLEdBRkF4RCxLQUFLb3pCLG9CQUVEcHpCLEtBQUs4eUIsT0FBUzl5QixLQUFLOHlCLE1BQU1ydUIsV0FBYTBGLEtBQUtxVCxhQUFjLENBQzNELE1BQU05WixFQUFtQzFELEtBQVUsTUFDdkIsT0FBeEJBLEtBQUtpekIsZUFDUHZ2QixFQUFRNkYsYUFBYSxXQUFZdkosS0FBS2l6QixnQkFFdEN2dkIsRUFBUTRCLGdCQUFnQixZQUl0QnRGLEtBQUsreUIsNkJBQ0FydkIsRUFBUW11QixNQUtuQjd4QixLQUFLOHlCLFdBQ0w5eUIsS0FBS2d6QixpQkFDTGh6QixLQUFLa3pCLFlBQWEsRUFPcEJHLGdCQUNFLE9BQWlDLEtBQU9ILFdBTTFDMXZCLG9CQUNFLEdBQUl4RCxLQUFLcXpCLFVBQ1AsTUFBTSxJQUFJbm9CLE1BQU0sd0NBS3BCb29CLHVCQUNFLE9BQStCLE9BQXhCdHpCLEtBQUtpekIsZUFJZDF1QixXQUVFLE9BREF2RSxLQUFLb3pCLG9CQUNFcHpCLEtBQUs4eUIsTUFJZFMsa0JBQWtCQyxHQUNoQnh6QixLQUFLb3pCLG9CQUNMcHpCLEtBQUtpekIsZUFBaUJPLEVBSXhCRCxvQkFFRSxPQURBdnpCLEtBQUtvekIsb0JBQ0VwekIsS0FBS2l6QixlQUlkenZCLG1CQUNFLEdBQUl4RCxLQUFLdUUsS0FBS0UsV0FBYTBGLEtBQUtxVCxhQUM5QixPQUVGLE1BQU05WixFQUFtQzFELEtBQVMsS0FDbEQsR0FBSW9kLEdBQVF4YyxLQUFLOEMsRUFBUzRzQixJQUEyQixDQUNuRCxJQUF3RCxJQUF4QixFQUFVa0QsVUFDdEN4ekIsS0FBS3N6QixpQkFDUCxPQUdFNXZCLEVBQVEwb0IsYUFBYSxjQUN2QnBzQixLQUFLaXpCLGVBQTZDLEVBQVVPLFVBRTlEOXZCLEVBQVE2RixhQUFhLFdBQVksTUFDN0I3RixFQUFRZSxXQUFhMEYsS0FBS3FULGVBQzVCOVosRUFBUW11QixNQUFRLGFBQ2hCN3hCLEtBQUsreUIsc0JBQXVCLFFBRXJCcnZCLEVBQVEwb0IsYUFBYSxjQUM5QnBzQixLQUFLaXpCLGVBQTZDLEVBQVVPLFNBQzVEOXZCLEVBQVE0QixnQkFBZ0IsYUFRNUI5QixhQUFhcXZCLEdBQ1g3eUIsS0FBS296QixvQkFDTHB6QixLQUFLZ3pCLFlBQVlya0IsSUFBSWtrQixHQVN2QnJ2QixnQkFBZ0JxdkIsR0FDZDd5QixLQUFLb3pCLG9CQUNMcHpCLEtBQUtnekIsWUFBWTdaLE9BQU8wWixHQUNNLElBQTFCN3lCLEtBQUtnekIsWUFBWXBlLE1BQ25CNVUsS0FBS3l6QixjQTBNWCxTQUFTakMsR0FBaUJqdEIsRUFBTW12QixFQUFVQyxHQUN4QyxHQUFJcHZCLEVBQUtFLFVBQVkwRixLQUFLcVQsYUFBYyxDQUN0QyxNQUFNOVosSUFDRmd3QixHQUNGQSxFQUFTaHdCLEdBT1gsTUFBTTRhLEVBQXlDLEVBQVVBLFdBQ3pELEdBQUlBLEVBRUYsWUFEQWtULEdBQWlCbFQsRUFBWW9WLEdBTy9CLEdBQXlCLFdBQXJCaHdCLEVBQVE0VSxVQUF3QixDQUNsQyxNQUFNclUsSUFFQTJ2QixFQUFtQjN2QixFQUFRNHZCLG9CQUMvQjV2QixFQUFRNHZCLHNCQUF3QixHQUNsQyxJQUFLLElBQUlyekIsRUFBSSxFQUFHQSxFQUFJb3pCLEVBQWlCanpCLE9BQVFILElBQzNDZ3hCLEdBQWlCb0MsRUFBaUJwekIsR0FBSWt6QixHQUV4QyxPQU1GLEdBQXlCLFFBQXJCaHdCLEVBQVE0VSxVQUFxQixDQUMvQixNQUFNd2IsSUFFQUYsRUFBbUJFLEVBQUs5UyxjQUM1QjhTLEVBQUs5UyxjQUFjLENBQUNDLFNBQVMsSUFBUyxHQUN4QyxJQUFLLElBQUl6Z0IsRUFBSSxFQUFHQSxFQUFJb3pCLEVBQWlCanpCLE9BQVFILElBQzNDZ3hCLEdBQWlCb0MsRUFBaUJwekIsR0FBSWt6QixHQUV4QyxRQU1KLElBQUlLLEVBQVF4dkIsRUFBS2tMLFdBQ2pCLEtBQWdCLE1BQVRza0IsR0FDTHZDLEdBQWlCdUMsRUFBT0wsR0FDeEJLLEVBQVFBLEVBQU1weEIsWUFRbEIsU0FBU3F4QixHQUFjenZCLEdBQ3JCLEdBQUlBLEVBQUttTCxjQUFjLHFCQUNyQixPQUVGLE1BQU1WLEVBQVFqTCxTQUFTeUUsY0FBYyxTQUNyQ3dHLEVBQU16RixhQUFhLEtBQU0sZUFDekJ5RixFQUFNQyxZQUFjLG9NQVlwQjFLLEVBQUtzRixZQUFZbUYsR0FJbkIsTUFBTXloQixHQUFlLElBN1FyQixNQUlFanRCLFlBQVlPLEdBQ1YsSUFBS0EsRUFDSCxNQUFNLElBQUltSCxNQUFNLHFFQUlsQmxMLEtBQUtpMEIsVUFBWWx3QixFQU1qQi9ELEtBQUs0d0IsY0FBZ0IsSUFBSTFqQixJQU16QmxOLEtBQUtnekIsWUFBYyxJQUFJOWxCLElBTXZCbE4sS0FBSyt3QixVQUFZLElBQUk3QixpQkFBaUJsdkIsS0FBS2swQixlQUFlL0UsS0FBS252QixPQUcvRGcwQixHQUFjandCLEVBQVMrbkIsTUFBUS9uQixFQUFTa2IsTUFBUWxiLEVBQVNzb0IsaUJBRzdCLFlBQXhCdG9CLEVBQVNvd0IsV0FDWHB3QixFQUFTMEgsaUJBQWlCLG1CQUFvQnpMLEtBQUtvMEIsa0JBQWtCakYsS0FBS252QixPQUUxRUEsS0FBS28wQixvQkFTVDV3QixTQUFTa3VCLEVBQU0vQyxHQUNiLEdBQUlBLEVBQU8sQ0FDVCxHQUFJM3VCLEtBQUtnekIsWUFBWS93QixJQUFJeXZCLEdBQ3ZCLE9BR0YsTUFBTW1CLEVBQVksSUFBSXRDLEdBQVVtQixFQUFNMXhCLE1BS3RDLEdBSkEweEIsRUFBS25vQixhQUFhLFFBQVMsSUFDM0J2SixLQUFLZ3pCLFlBQVlseEIsSUFBSTR2QixFQUFNbUIsSUFHdEI3eUIsS0FBS2kwQixVQUFVaFYsS0FBS3BCLFNBQVM2VCxHQUFPLENBQ3ZDLElBQUkzckIsRUFBUzJyQixFQUFLMXJCLFdBQ2xCLEtBQU9ELEdBQ21CLEtBQXBCQSxFQUFPdEIsVUFDVHV2QixHQUFjanVCLEdBRWhCQSxFQUFTQSxFQUFPQyxnQkFHZixDQUNMLElBQUtoRyxLQUFLZ3pCLFlBQVkvd0IsSUFBSXl2QixHQUN4QixPQUdnQjF4QixLQUFLZ3pCLFlBQVlqbUIsSUFBSTJrQixHQUM3QitCLGFBQ1Z6ekIsS0FBS2d6QixZQUFZN1osT0FBT3VZLEdBQ3hCQSxFQUFLcHNCLGdCQUFnQixVQVN6QjlCLGFBQWFFLEdBQ1gsT0FBTzFELEtBQUtnekIsWUFBWWptQixJQUFJckosR0FXOUJGLFNBQVNlLEVBQU1zdUIsR0FDYixJQUFJM0IsRUFBWWx4QixLQUFLNHdCLGNBQWM3akIsSUFBSXhJLEdBU3ZDLFlBUmtCcEMsSUFBZCt1QixFQUNGQSxFQUFVbUQsYUFBYXhCLEdBRXZCM0IsRUFBWSxJQUFJMEIsR0FBVXJ1QixFQUFNc3VCLEdBR2xDN3lCLEtBQUs0d0IsY0FBYzl1QixJQUFJeUMsRUFBTTJzQixHQUV0QkEsRUFZVDF0QixXQUFXZSxFQUFNc3VCLEdBQ2YsTUFBTTNCLEVBQVlseEIsS0FBSzR3QixjQUFjN2pCLElBQUl4SSxHQUN6QyxPQUFLMnNCLEdBSUxBLEVBQVVvRCxnQkFBZ0J6QixHQUN0QjNCLEVBQVVtQyxXQUNacnpCLEtBQUs0d0IsY0FBY3pYLE9BQU81VSxHQUdyQjJzQixHQVJFLEtBY1gxdEIsb0JBRXdCTCxHQUFNdkMsS0FBS1osS0FBS2kwQixVQUFVbmxCLGlCQUFpQixZQUNuRHBCLFNBQVEsU0FBUzZtQixHQUM3QnYwQixLQUFLb3lCLFNBQVNtQyxHQUFjLEtBQzNCdjBCLE1BR0hBLEtBQUsrd0IsVUFBVXhCLFFBQVF2dkIsS0FBS2kwQixVQUFVaFYsTUFBUWpmLEtBQUtpMEIsVUFBVTVILGdCQUFpQixDQUFDMW5CLFlBQVksRUFBTXNzQixTQUFTLEVBQU16QixXQUFXLElBUTdIaHNCLGVBQWU4dUIsRUFBU0MsR0FDdEIsTUFBTS9XLEVBQVF4YixLQUNkc3lCLEVBQVE1a0IsU0FBUSxTQUFTOGtCLEdBQ3ZCLE9BQVFBLEVBQU85c0IsTUFDZixJQUFLLFlBQ0h2QyxHQUFNdkMsS0FBSzR4QixFQUFPekMsWUFBWXJpQixTQUFRLFNBQVNuSixHQUM3QyxHQUFJQSxFQUFLRSxXQUFhMEYsS0FBS3FULGFBQ3pCLE9BRUYsTUFBTWdYLEVBQWdCcnhCLEdBQU12QyxLQUFLMkQsRUFBS3VLLGlCQUFpQixZQUNuRHNPLEdBQVF4YyxLQUFLMkQsRUFBTSxZQUNyQml3QixFQUFjN2MsUUFBUXBULEdBRXhCaXdCLEVBQWM5bUIsU0FBUSxTQUFTNm1CLEdBQzdCdjBCLEtBQUtveUIsU0FBU21DLEdBQWMsS0FDM0IvWSxLQUNGQSxHQUNILE1BQ0YsSUFBSyxhQUNILEdBQTZCLFVBQXpCZ1gsRUFBT0UsY0FDVCxPQUVGLE1BQU0xeEIsRUFBa0N3eEIsRUFBYSxPQUMvQzdELEVBQVEzdEIsRUFBT29yQixhQUFhLFNBQ2xDNVEsRUFBTTRXLFNBQVNweEIsRUFBUTJ0QixNQUd4QjN1QixRQTRGK0IrRCxVQUVqQ3NzQixRQUFRbndCLFVBQVVMLGVBQWUsVUFDcENMLE9BQU9nQyxlQUFlNnVCLFFBQVFud0IsVUFBVyxRQUFTLENBQ2hEcVMsWUFBWSxFQUVaeEYsSUFBSyxXQUNILE9BQU8vTSxLQUFLb3NCLGFBQWEsVUFHM0J0cUIsSUFBSyxTQUFTNnNCLEdBQ1o4QixHQUFhMkIsU0FBU3B5QixLQUFNMnVCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lDbHNCbEMsSUFBSXZWLEdBQWEsQ0FDYnFiLFFBQVMsc0JBQ1RDLFFBQVMsc0JBQ1RDLFlBQWEsMEJBQ2JDLE1BQU8sb0JBQ1BDLEtBQU0sbUJBQ05DLFFBQVMsc0JBQ1Q5UixLQUFNLGNBRU4zZSxHQUFVLENBQ1Ywd0IscUJBQXNCLDBCQUN0QkMsWUFBYSxtQkFDYkMsV0FBWSxtQkFDWkMsZUFBZ0IscUJDVmhCQyxHQUFnRCxTQUFVM2EsR0FFMUQsU0FBUzJhLEVBQStCaGIsR0FDcEMsSUFBSXFCLEVBQVFoQixFQUFPNVosS0FBS1osS0FBTXlhLEVBQWlCLEdBQUkwYSxFQUErQnphLGVBQWdCUCxLQUFhbmEsS0FHL0csT0FGQXdiLEVBQU00WixnQkFBa0IsRUFDeEI1WixFQUFNNlosZ0JBQWtCLEVBQ2pCN1osRUFzSlgsT0EzSkFiLEVBQWtCd2EsRUFBZ0MzYSxHQU9sRGhiLE9BQU9nQyxlQUFlMnpCLEVBQWdDLFVBQVcsQ0FDN0Rwb0IsSUFBSyxXQUNELE9BQU8xSSxJQUVYa08sWUFBWSxFQUNaRCxjQUFjLElBRWxCOVMsT0FBT2dDLGVBQWUyekIsRUFBZ0MsYUFBYyxDQUNoRXBvQixJQUFLLFdBQ0QsT0FBT3FNLElBRVg3RyxZQUFZLEVBQ1pELGNBQWMsSUFFbEI5UyxPQUFPZ0MsZUFBZTJ6QixFQUFnQyxpQkFBa0IsQ0FDcEVwb0IsSUFBSyxXQUVELE1BQU8sQ0FDSDZOLFNBQVUsYUFDVkMsWUFBYSxhQUNiQyxTQUFVLFdBQWMsT0FBTyxHQUMvQndhLGdCQUFpQixXQUFjLE9BQU8sR0FDdENDLFlBQWEsYUFDYkMsV0FBWSxhQUNaQyxVQUFXLGFBQ1hDLGFBQWMsYUFDZEMsMEJBQTJCLGFBQzNCQyxVQUFXLGFBQ1hDLGFBQWMsZUFJdEJ0akIsWUFBWSxFQUNaRCxjQUFjLElBRWxCNmlCLEVBQStCajFCLFVBQVVvYSxRQUFVLFdBQzNDdGEsS0FBS28xQixpQkFDTHROLHFCQUFxQjluQixLQUFLbzFCLGlCQUUxQnAxQixLQUFLcTFCLGlCQUNMN1ksYUFBYXhjLEtBQUtxMUIsa0JBTTFCRixFQUErQmoxQixVQUFVNDFCLEtBQU8sV0FDNUMsSUFBSXRhLEVBQVF4YixLQUNSQSxLQUFLKzFCLFVBQVkvMUIsS0FBS2cyQixhQUFlaDJCLEtBQUtpMkIsY0FHOUNqMkIsS0FBS29hLFNBQVNRLFNBQVN4QixHQUFXeWIsTUFDbEM3MEIsS0FBS29hLFNBQVNRLFNBQVN4QixHQUFXcWIsU0FFbEN6MEIsS0FBS2syQix3QkFBdUIsV0FDeEIxYSxFQUFNcEIsU0FBU1EsU0FBU3hCLEdBQVcwYixZQUV2QzkwQixLQUFLb2EsU0FBU3FiLGNBS2xCTixFQUErQmoxQixVQUFVaTJCLE1BQVEsWUFDeENuMkIsS0FBSysxQixVQUFZLzFCLEtBQUtnMkIsYUFBZWgyQixLQUFLaTJCLGFBRy9DajJCLEtBQUtvYSxTQUFTUSxTQUFTeEIsR0FBV3NiLFVBTXRDUyxFQUErQmoxQixVQUFVNjFCLE9BQVMsV0FDOUMsT0FBTy8xQixLQUFLb2EsU0FBU1UsU0FBUzFCLEdBQVd5YixPQU03Q00sRUFBK0JqMUIsVUFBVTgxQixVQUFZLFdBQ2pELE9BQU9oMkIsS0FBS29hLFNBQVNVLFNBQVMxQixHQUFXMGIsVUFBWTkwQixLQUFLb2EsU0FBU1UsU0FBUzFCLEdBQVdxYixVQU0zRlUsRUFBK0JqMUIsVUFBVSsxQixVQUFZLFdBQ2pELE9BQU9qMkIsS0FBS29hLFNBQVNVLFNBQVMxQixHQUFXc2IsVUFLN0NTLEVBQStCajFCLFVBQVVrMkIsY0FBZ0IsU0FBVXhPLEdBQy9ELElBQUlzQixFQUFVdEIsRUFBSXNCLFNBQ0ssV0FEVXRCLEVBQUkzbUIsS0FDVSxLQUFaaW9CLElBRS9CbHBCLEtBQUttMkIsU0FNYmhCLEVBQStCajFCLFVBQVVtMkIsb0JBQXNCLFNBQVV6TyxHQUNyRSxJQUFJa04sRUFBVTFiLEdBQVcwYixRQUFTSixFQUFVdGIsR0FBV3NiLFFBQVNHLEVBQU96YixHQUFXeWIsS0FBTUosRUFBVXJiLEdBQVdxYixRQUFTelIsRUFBTzVKLEdBQVc0SixLQUVwSGhqQixLQUFLczJCLFdBQVcxTyxFQUFJNW1CLFNBQVdoQixLQUFLb2EsU0FBU2tiLGdCQUFnQjFOLEVBQUk1bUIsT0FBUWdpQixLQUl6RmhqQixLQUFLaTJCLGFBQ0xqMkIsS0FBS29hLFNBQVNTLFlBQVlnYSxHQUMxQjcwQixLQUFLdTJCLFVBQ0x2MkIsS0FBS29hLFNBQVNzYixlQUNkMTFCLEtBQUtvYSxTQUFTbWIsZ0JBR2R2MUIsS0FBS29hLFNBQVN1Yiw0QkFDZDMxQixLQUFLdzJCLFVBQ0x4MkIsS0FBS29hLFNBQVNvYixjQUVsQngxQixLQUFLb2EsU0FBU1MsWUFBWTRaLEdBQzFCejBCLEtBQUtvYSxTQUFTUyxZQUFZaWEsR0FDMUI5MEIsS0FBS29hLFNBQVNTLFlBQVk2WixLQUs5QlMsRUFBK0JqMUIsVUFBVXMyQixRQUFVLGFBSW5EckIsRUFBK0JqMUIsVUFBVXEyQixRQUFVLGFBSW5EcEIsRUFBK0JqMUIsVUFBVWcyQix1QkFBeUIsU0FBVXhDLEdBQ3hFLElBQUlsWSxFQUFReGIsS0FDWjhuQixxQkFBcUI5bkIsS0FBS28xQixpQkFDMUJwMUIsS0FBS28xQixnQkFBa0JoTyx1QkFBc0IsV0FDekM1TCxFQUFNNFosZ0JBQWtCLEVBQ3hCNVksYUFBYWhCLEVBQU02WixpQkFDbkI3WixFQUFNNlosZ0JBQWtCL1ksV0FBV29YLEVBQVUsT0FHckR5QixFQUErQmoxQixVQUFVbzJCLFdBQWEsU0FBVTV5QixHQUU1RCxPQUFPdU0sUUFBUXZNLEVBQVFpYSxZQUVwQndYLEdBQ1RqYixJQzdKRXVjLEdBQTBDLFNBQVVqYyxHQUVwRCxTQUFTaWMsSUFDTCxPQUFrQixPQUFYamMsR0FBbUJBLEVBQU8zWixNQUFNYixLQUFNVSxZQUFjVixLQW9CL0QsT0F0QkEyYSxFQUFrQjhiLEVBQTBCamMsR0FPNUNpYyxFQUF5QnYyQixVQUFVdzJCLGlCQUFtQixXQUNsRDEyQixLQUFLbTJCLFNBS1RNLEVBQXlCdjJCLFVBQVVzMkIsUUFBVSxXQUN6Q3gyQixLQUFLb2EsU0FBU3diLGFBS2xCYSxFQUF5QnYyQixVQUFVcTJCLFFBQVUsV0FDekN2MkIsS0FBS29hLFNBQVN5YixnQkFFWFksR0FDVHRCOzs7Ozs7Ozs7Ozs7Ozs7OztBQ3BCRixNQUFNd0IsR0FBbUI1eUIsU0FBU2dxQixrQkFDM0IsTUFBTTZJLFdBQW1CelgsR0FDNUIzYixjQUNJNEgsU0FBUzFLLFdBQ1RWLEtBQUs2MkIsZUFBaUIsS0FDdEI3MkIsS0FBSzgxQixNQUFPLEVBQ1o5MUIsS0FBSzgyQixXQUFZLEVBQ2pCOTJCLEtBQUswRixLQUFPLEdBRWhCMloseUJBQ0ksTUFBcUIsVUFBZHJmLEtBQUswRixLQUFtQit3QixHQUMzQnRCLEdBRVIzeEIsZ0JBQ0ksT0FBT2hFLE9BQU9hLE9BQU9iLE9BQU9hLE9BQU8sR0FBSW9kLEdBQWtCemQsS0FBS21nQixVQUFXLENBQUVtVixnQkFBaUIsQ0FBQzV4QixFQUFTZ2EsSUFBY2hhLEVBQVFpYSxVQUFVRSxTQUFTSCxHQUFZK1gsVUFBVyxLQUU5SnoxQixLQUFLNjJCLGVBQ0Q3MkIsS0FBS2tzQixjQUFjOU4sZUFDeEJzWCxhQUFjLEtBQ1MxMUIsS0FBSzYyQixnQkFBa0I3MkIsS0FBSzYyQixlQUFlaEYsT0FHN0Q3eEIsS0FBSzYyQixlQUFlaEYsU0FFekIwRCxZQUFhLEtBQ1p2MUIsS0FBSzgxQixNQUFPLEVBQ1o5MUIsS0FBS2tmLGNBQWMsSUFBSVAsTUFBTXRhLEdBQVEyd0IsWUFBYSxDQUFFcFcsU0FBUyxFQUFNK0IsWUFBWSxNQUNoRjZVLFdBQVksS0FDWHgxQixLQUFLODFCLE1BQU8sRUFDWjkxQixLQUFLa2YsY0FBYyxJQUFJUCxNQUFNdGEsR0FBUTR3QixXQUFZLENBQUVyVyxTQUFTLEVBQU0rQixZQUFZLE1BQy9FZ1YsMEJBQTJCLE9BQVdDLFVBQVcsS0FDaERlLEdBQWlCbHhCLEtBQUt6RixNQUN0QkEsS0FBSysyQixXQUFXcEksT0FBUSxHQUN6QmtILGFBQWMsS0FDYmMsR0FBaUIvWSxPQUFPNWQsTUFDeEJBLEtBQUsrMkIsV0FBV3BJLE9BQVEsS0FHcENuckIsb0JBQ1F4RCxLQUFLb2YseUJBQXlCcVgsSUFDOUJ6MkIsS0FBS29mLGNBQWNzWCxtQkFHM0JsekIsU0FDSSxNQUFNd3pCLEVBQTRCLGdCQUFkaDNCLEtBQUswRixNQUF3QyxVQUFkMUYsS0FBSzBGLEtBQ2xEdXhCLEVBQXNCLFVBQWRqM0IsS0FBSzBGLEtBQ2J3eEIsRUFBU2wzQixLQUFLODJCLFVBQVk1dUIsQ0FBSzs7Ozs7O1FBT2pDLEdBQ0osT0FBT0EsQ0FBSzs7WUFFUnVYLEdBQVMsQ0FDVDBYLDBCQUEyQkgsRUFDM0JJLG9CQUFxQkg7VUFFdkJDOzs7UUFHRkQsRUFBUS91QixDQUFLO29DQUNlbEksS0FBS3EzQiw0QkFDN0I7Ozs7UUFRUjd6QixlQUNJeEQsS0FBS21nQixRQUFRMVUsaUJBQWlCLFVBQVlPLEdBQU1oTSxLQUFLb2YsY0FBY2dYLGNBQWNwcUIsSUFDakZoTSxLQUFLbWdCLFFBQVExVSxpQkFBaUIsZ0JBQWtCTyxHQUFNaE0sS0FBS29mLGNBQWNpWCxvQkFBb0JycUIsSUFFakd4SSxRQUFRK1EsR0FDQUEsRUFBa0J0UyxJQUFJLFNBQ3RCakMsS0FBS3VmLG9CQUlqQnplLEVBQVcsQ0FDUGdWLEdBQU0sZ0JBQ1A4Z0IsR0FBVzEyQixVQUFXLGVBQVcsR0FDcENZLEVBQVcsQ0FDUGdWLEdBQU0sNEJBQ1A4Z0IsR0FBVzEyQixVQUFXLGtCQUFjLEdBQ3ZDWSxFQUFXLENBQ1BrYyxJQUFTLFNBQVVwVSxHQUNHLEtBQWQ1SSxLQUFLMEYsT0FHTGtELEVBQ0E1SSxLQUFLb2YsY0FBYzBXLE9BR25COTFCLEtBQUtvZixjQUFjK1csWUFHM0J6Z0IsR0FBUyxDQUFFaFEsS0FBTXVLLFFBQVNVLFNBQVMsS0FDcENpbUIsR0FBVzEyQixVQUFXLFlBQVEsR0FDakNZLEVBQVcsQ0FDUDRVLEdBQVMsQ0FBRWhRLEtBQU11SyxXQUNsQjJtQixHQUFXMTJCLFVBQVcsaUJBQWEsR0FDdENZLEVBQVcsQ0FDUDRVLEdBQVMsQ0FBRS9FLFNBQVMsS0FDckJpbUIsR0FBVzEyQixVQUFXLFlBQVE7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDekhqQyxNQUNhOE8sR0FBUTZILEVBQUkseWlLQ0d6QixJQUFJeWdCLEdBQVMsY0FBcUJWLEtBRWxDVSxHQUFPem9CLE9BQVNHLEdBQ2hCc29CLEdBQVN4MkIsRUFBVyxDQUNoQmdVLEVBQWMsZUFDZndpQjs7Ozs7Ozs7Ozs7Ozs7QUNMSCxNQUFhQyxHQUFZNTFCLEVBQVdpSCxHQUFXaEMsSUFDM0MsUUFBY3pFLElBQVZ5RyxHQUF1QmhDLGFBQWdCd0MsR0FDdkMsR0FBSVIsSUFBVWhDLEVBQUtnQyxNQUFPLENBQ3RCLE1BQU05RCxFQUFPOEIsRUFBSzZDLFVBQVUzRSxLQUM1QjhCLEVBQUs2QyxVQUFVL0YsUUFBUTRCLGdCQUFnQlIsU0FJM0M4QixFQUFLTyxTQUFTeUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0NOdEIsSUFBSXdRLEdBRWlCLGdCQUZqQkEsR0FHMEIsMEJBSTFCL1UsR0FBVSxDQUNWbXpCLGFBQWMsaUJBQ2RDLGFBQWMsZUFDZEMsK0JBQWdDLHlDQUNoQ0MsNEJBQTZCLHNDQUM3QkMsYUFBYyxlQUNkQyxjQUFlLGdCQUNmQyxpQkFBa0IsbUJBQ2xCQyw0QkFBNkIsYUFDN0JDLDRCQUE2QixvQkFDN0JDLGNBQWUsZ0JBQ2ZDLHdCQUF5Qiw4Q0FDekJDLGtCQUFtQix5QkFDbkJDLGtDQUFtQyxVQUFZaGYsR0FBNkIsaUNBQW1DQSxHQUE2QixTQUM1SWlmLHlCQUEwQixVQUFZamYsR0FBNkIsaUNBQW1DQSxHQUE2QixhQUFlQSxHQUE2Qiw4Q0FBa0RBLEdBQTZCLDZDQUM5UGtmLGVBQWdCLHVCQUVoQjVlLEdBQVUsQ0FDVjZlLGFBQWM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDN0JsQixNQTZCTUMsR0FBMEIsQ0FBQyxRQUFTLFNBQVUsV0FBWSxVQUN6RCxTQUFTQyxHQUFXQyxHQUN2QixPQUFPQSxhQUF5QmxxQixJQUs3QixNQUFNbXFCLEdBQXNCeDBCLElBQy9CLE1BQU15MEIsRUFBUXowQixJQUFVdVYsR0FBUTZlLFlBQWMsSUFBSS9wQixJQUFRckssRUFDMUQsT0FBT3MwQixHQUFXRyxHQUFTLElBQUlwcUIsSUFBSW9xQixHQUFTLElBQUlwcUIsSUFBSSxDQUFDb3FCLEtBRWxELE1BQU1DLFdBQTBCM2UsR0FDbkMxVyxZQUFZMlcsR0FDUi9PLE1BQU01TCxPQUFPYSxPQUFPYixPQUFPYSxPQUFPLEdBQUl3NEIsR0FBa0JuZSxnQkFBaUJQLElBQ3pFbmEsS0FBSzg0QixVQUFXLEVBQ2hCOTRCLEtBQUsrNEIsWUFBYSxFQUNsQi80QixLQUFLZzVCLGFBQWMsRUFDbkJoNUIsS0FBS2k1QixlQUFpQnZmLEdBQVE2ZSxZQUM5QnY0QixLQUFLazVCLGtCQUFvQnhmLEdBQVE2ZSxZQUNqQ3Y0QixLQUFLbTVCLG9CQUFxQixFQUMxQm41QixLQUFLbzVCLHNCQUF3QixLQUVqQy8wQixxQkFDSSxPQUFPQSxHQUVYcVYscUJBQ0ksT0FBT0EsR0FFWGdCLDRCQUNJLE1BQU8sQ0FDSDJlLGlCQUFrQixPQUNsQkMsdUJBQXdCLElBQU0sRUFDOUJDLGlCQUFrQixJQUFNLEVBQ3hCQyxrQkFBbUIsS0FBTSxFQUN6QkMsY0FBZSxLQUFNLEVBQ3JCQyxhQUFjLE9BQ2RDLGVBQWdCLE9BQ2hCQyxnQ0FBaUMsS0FBTSxFQUN2Q0MsZ0NBQWlDLE9BQ2pDQyxnQ0FBaUMsS0FBTSxFQUN2Q0MsZ0NBQWlDLE9BQ2pDQyxpQ0FBa0MsT0FDbENDLDJCQUE0QixPQUM1QkMsNEJBQTZCLE9BQzdCQyw0QkFBNkIsSUFBTSxNQU0zQzMyQixhQUFhb0YsR0FDVDVJLEtBQUsrNEIsV0FBYW53QixFQUt0QnBGLFNBQVNvRixHQUNMNUksS0FBSzg0QixTQUFXbHdCLEVBS3BCcEYsdUJBQXVCb0YsR0FDbkI1SSxLQUFLZzVCLFlBQWNwd0IsRUFLdkJwRixxQkFBcUI0MkIsR0FDakJwNkIsS0FBS201QixtQkFBcUJpQixFQUU5QjUyQixtQkFDSSxPQUFPeEQsS0FBS2k1QixlQUVoQnoxQixpQkFBaUJXLEdBQ1JuRSxLQUFLcTZCLGNBQWNsMkIsS0FHcEJuRSxLQUFLODRCLFNBQ0w5NEIsS0FBS3M2QiwwQkFBMEIzQixHQUFtQngwQixJQUdsRG5FLEtBQUt1NkIsMkJBQTJCcDJCLElBTXhDWCxjQUFjZzNCLEVBQUdDLEdBQ1RBLEdBQWlCLEdBQ2pCejZCLEtBQUtvYSxTQUFTNmYsMkJBQTJCUSxFQUFlLEdBTWhFajNCLGVBQWVnM0IsRUFBR0MsR0FDVkEsR0FBaUIsR0FDakJ6NkIsS0FBS29hLFNBQVM2ZiwyQkFBMkJRLEdBQWdCLEdBTTdEbmUsV0FBVyxLQUNGdGMsS0FBS29hLFNBQVNvZixxQkFDZng1QixLQUFLMDZCLG1DQUVWLEdBS1BsM0IsY0FBY29rQixFQUFLK1MsRUFBZ0JGLEdBQy9CLE1BQU1HLEVBQTBCLGNBQVpoVCxFQUFJM21CLEtBQXVDLEtBQWhCMm1CLEVBQUlzQixRQUM3QzJSLEVBQXdCLFlBQVpqVCxFQUFJM21CLEtBQXFDLEtBQWhCMm1CLEVBQUlzQixRQUN6QzRSLEVBQTJCLGVBQVpsVCxFQUFJM21CLEtBQXdDLEtBQWhCMm1CLEVBQUlzQixRQUMvQzZSLEVBQTBCLGNBQVpuVCxFQUFJM21CLEtBQXVDLEtBQWhCMm1CLEVBQUlzQixRQUM3QzhSLEVBQXFCLFNBQVpwVCxFQUFJM21CLEtBQWtDLEtBQWhCMm1CLEVBQUlzQixRQUNuQytSLEVBQW9CLFFBQVpyVCxFQUFJM21CLEtBQWlDLEtBQWhCMm1CLEVBQUlzQixRQUNqQ2dTLEVBQXNCLFVBQVp0VCxFQUFJM21CLEtBQW1DLEtBQWhCMm1CLEVBQUlzQixRQUNyQ2lTLEVBQXNCLFVBQVp2VCxFQUFJM21CLEtBQW1DLEtBQWhCMm1CLEVBQUlzQixRQUMzQyxHQUFJbHBCLEtBQUtvYSxTQUFTcWYsZ0JBU2QsWUFSSW9CLEdBQWFJLEdBQ2JyVCxFQUFJd1QsaUJBQ0pwN0IsS0FBS3E3QixxQkFFQU4sR0FBZUMsS0FDcEJwVCxFQUFJd1QsaUJBQ0pwN0IsS0FBS3M3QixzQkFJYixJQVNJQyxFQVRBQyxFQUFleDdCLEtBQUtvYSxTQUFTa2YseUJBQ2pDLE1BQXNCLElBQWxCa0MsSUFDQUEsRUFBZWYsRUFDWGUsRUFBZSxJQUZ2QixDQVNBLEdBQUt4N0IsS0FBS2c1QixhQUFlK0IsSUFDbkIvNkIsS0FBS2c1QixhQUFlOEIsRUFDdEI5NkIsS0FBS3k3QixxQkFBcUI3VCxHQUMxQjJULEVBQVl2N0IsS0FBSzA3QixpQkFBaUJGLFFBRWpDLEdBQUt4N0IsS0FBS2c1QixhQUFlNkIsSUFBZ0I3NkIsS0FBS2c1QixhQUFlNEIsRUFDOUQ1NkIsS0FBS3k3QixxQkFBcUI3VCxHQUMxQjJULEVBQVl2N0IsS0FBSzI3QixpQkFBaUJILFFBRWpDLEdBQUlSLEVBQ0xoN0IsS0FBS3k3QixxQkFBcUI3VCxHQUMxQjJULEVBQVl2N0IsS0FBS3M3Qix5QkFFaEIsR0FBSUwsRUFDTGo3QixLQUFLeTdCLHFCQUFxQjdULEdBQzFCMlQsRUFBWXY3QixLQUFLcTdCLHdCQUVoQixJQUFJSCxHQUFXQyxJQUNaUixFQUFnQixDQUdoQixNQUFNMzVCLEVBQVM0bUIsRUFBSTVtQixPQUNuQixHQUFJQSxHQUE2QixNQUFuQkEsRUFBTzJFLFNBQW1CdTFCLEVBQ3BDLE9BRUpsN0IsS0FBS3k3QixxQkFBcUI3VCxHQUMxQjVuQixLQUFLNDdCLDBCQUEwQkosR0FHdkN4N0IsS0FBS2s1QixrQkFBb0JzQyxPQUNQcjVCLElBQWRvNUIsSUFDQXY3QixLQUFLNjdCLG9CQUFvQk4sR0FDekJ2N0IsS0FBS2s1QixrQkFBb0JxQyxJQU1qQy8zQixzQkFBc0JXLEVBQU8yM0IsR0FDckIzM0IsSUFBVXVWLEdBQVE2ZSxjQUd0QnY0QixLQUFLNDdCLDBCQUEwQnozQixFQUFPMjNCLEdBQ3RDOTdCLEtBQUs2N0Isb0JBQW9CMTNCLEdBQ3pCbkUsS0FBS2s1QixrQkFBb0IvMEIsR0FLN0JYLGlCQUFpQlcsR0FFYixJQUFJbzNCLEVBQVlwM0IsRUFBUSxFQUN4QixHQUFJbzNCLEdBRlV2N0IsS0FBS29hLFNBQVNtZixtQkFFSixDQUNwQixJQUFJdjVCLEtBQUsrNEIsV0FLTCxPQUFPNTBCLEVBSlBvM0IsRUFBWSxFQVFwQixPQURBdjdCLEtBQUtvYSxTQUFTaWYsaUJBQWlCa0MsR0FDeEJBLEVBS1gvM0IsaUJBQWlCVyxHQUNiLElBQUk0M0IsRUFBWTUzQixFQUFRLEVBQ3hCLEdBQUk0M0IsRUFBWSxFQUFHLENBQ2YsSUFBSS83QixLQUFLKzRCLFdBS0wsT0FBTzUwQixFQUpQNDNCLEVBQVkvN0IsS0FBS29hLFNBQVNtZixtQkFBcUIsRUFRdkQsT0FEQXY1QixLQUFLb2EsU0FBU2lmLGlCQUFpQjBDLEdBQ3hCQSxFQUVYdjRCLG9CQUVJLE9BREF4RCxLQUFLb2EsU0FBU2lmLGlCQUFpQixHQUN4QixFQUVYNzFCLG1CQUNJLE1BQU15QyxFQUFZakcsS0FBS29hLFNBQVNtZixtQkFBcUIsRUFFckQsT0FEQXY1QixLQUFLb2EsU0FBU2lmLGlCQUFpQnB6QixHQUN4QkEsRUFNWHpDLFdBQVd3NEIsRUFBV0MsR0FDYmo4QixLQUFLcTZCLGNBQWMyQixJQUd4Qmg4QixLQUFLb2EsU0FBU3lmLGdDQUFnQ21DLEdBQVlDLEdBTTlEejRCLHFCQUFxQm9rQixHQUNqQixNQUNNamlCLEVBQVUsR0FERGlpQixFQUFJNW1CLE9BQ08yRSxVQUFVUixlQUNjLElBQTlDcXpCLEdBQXdCMXlCLFFBQVFILElBQ2hDaWlCLEVBQUl3VCxpQkFHWjUzQiwyQkFBMkJXLEdBQ25CbkUsS0FBS2k1QixpQkFBbUI5MEIsSUFJeEJuRSxLQUFLaTVCLGlCQUFtQnZmLEdBQVE2ZSxjQUNoQ3Y0QixLQUFLb2EsU0FBUzJmLGdDQUFnQy81QixLQUFLaTVCLGdCQUFnQixHQUMvRGo1QixLQUFLbTVCLG9CQUNMbjVCLEtBQUtvYSxTQUFTNGYsaUNBQWlDaDZCLEtBQUtpNUIsZ0JBQWdCLElBSTVFajVCLEtBQUtvYSxTQUFTMmYsZ0NBQWdDNTFCLEdBQU8sR0FDakRuRSxLQUFLbTVCLG9CQUNMbjVCLEtBQUtvYSxTQUFTNGYsaUNBQWlDNzFCLEdBQU8sR0FFMURuRSxLQUFLazhCLGtDQUFrQy8zQixHQUN2Q25FLEtBQUtpNUIsZUFBaUI5MEIsRUFDdEJuRSxLQUFLb2EsU0FBU3VmLGVBQWV4MUIsSUFFakNYLDBCQUEwQjI0QixHQUN0QixNQUNNaGdCLEVBalRRLEVBQUNpZ0IsRUFBUUMsS0FDM0IsTUFBTUMsRUFBUzM4QixNQUFNd1AsS0FBS2l0QixHQUNwQkcsRUFBUzU4QixNQUFNd1AsS0FBS2t0QixHQUNwQmxnQixFQUFPLENBQUVxZ0IsTUFBTyxHQUFJQyxRQUFTLElBQzdCQyxFQUFZSixFQUFPSyxPQUNuQkMsRUFBWUwsRUFBT0ksT0FDekIsSUFBSW44QixFQUFJLEVBQ0ordEIsRUFBSSxFQUNSLEtBQU8vdEIsRUFBSWs4QixFQUFVLzdCLFFBQVU0dEIsRUFBSXFPLEVBQVVqOEIsUUFBUSxDQUNqRCxNQUFNazhCLEVBQVNILEVBQVVsOEIsR0FDbkJzOEIsRUFBU0YsRUFBVXJPLEdBQ3JCc08sSUFBV0MsT0FLQTM2QixJQUFYMDZCLFNBQW9DMTZCLElBQVgyNkIsR0FBd0JELEVBQVNDLElBQzFEM2dCLEVBQUtzZ0IsUUFBUWgzQixLQUFLbzNCLEdBQ2xCcjhCLFVBR1cyQixJQUFYMjZCLFNBQW9DMzZCLElBQVgwNkIsR0FBd0JDLEVBQVNELEtBQzFEMWdCLEVBQUtxZ0IsTUFBTS8yQixLQUFLcTNCLEdBQ2hCdk8sTUFYQS90QixJQUNBK3RCLEtBY1IsT0FBT3BTLEdBc1JVNGdCLENBRElwRSxHQUFtQjM0QixLQUFLaTVCLGdCQUNKa0QsR0FDckMsR0FBS2hnQixFQUFLc2dCLFFBQVE5N0IsUUFBV3diLEVBQUtxZ0IsTUFBTTc3QixPQUF4QyxDQUdBLElBQUssTUFBTTg3QixLQUFXdGdCLEVBQUtzZ0IsUUFDdkJ6OEIsS0FBS29hLFNBQVMyZixnQ0FBZ0MwQyxHQUFTLEdBQ25EejhCLEtBQUttNUIsb0JBQ0xuNUIsS0FBS29hLFNBQVM0ZixpQ0FBaUN5QyxHQUFTLEdBR2hFLElBQUssTUFBTUQsS0FBU3JnQixFQUFLcWdCLE1BQ3JCeDhCLEtBQUtvYSxTQUFTMmYsZ0NBQWdDeUMsR0FBTyxHQUNqRHg4QixLQUFLbTVCLG9CQUNMbjVCLEtBQUtvYSxTQUFTNGYsaUNBQWlDd0MsR0FBTyxHQUc5RHg4QixLQUFLaTVCLGVBQWlCa0QsRUFDdEJuOEIsS0FBS29hLFNBQVN1ZixlQUFld0MsRUFBVWhnQixJQUszQzNZLGtDQUFrQ1csR0FHMUJuRSxLQUFLaTVCLGlCQUFtQnZmLEdBQVE2ZSxjQUNoQ3Y0QixLQUFLbzVCLHNCQUF3QnA1QixLQUFLb2EsU0FBUytmLDRCQUE0QmgyQixFQUFPRSxHQUFRdXpCLGVBRTFGLE1BQU1vRixFQUErQyxPQUEvQmg5QixLQUFLbzVCLHNCQUNyQjZELEVBQWdCRCxFQUFnQjM0QixHQUFRdXpCLGFBQWV2ekIsR0FBUTR6QixjQUNqRWo0QixLQUFLaTVCLGlCQUFtQnZmLEdBQVE2ZSxhQUNoQ3Y0QixLQUFLb2EsU0FBUzhmLDRCQUE0Qmw2QixLQUFLaTVCLGVBQWdCZ0UsRUFBZSxTQUVsRixNQUFNQyxFQUFxQkYsRUFBZ0JoOUIsS0FBS281QixzQkFBd0IsT0FDeEVwNUIsS0FBS29hLFNBQVM4Ziw0QkFBNEIvMUIsRUFBTzg0QixFQUFlQyxHQUVwRTE1QixvQkFBb0JXLEdBQ1puRSxLQUFLazVCLG9CQUFzQnhmLEdBQVE2ZSxhQUF5QixJQUFWcDBCLEVBSWxEbkUsS0FBS29hLFNBQVM2ZiwyQkFBMkIsR0FBSSxHQUV4Q2o2QixLQUFLazVCLG1CQUFxQixHQUFLbDVCLEtBQUtrNUIsb0JBQXNCLzBCLEdBQy9EbkUsS0FBS29hLFNBQVM2ZiwyQkFBMkJqNkIsS0FBS2s1QixtQkFBb0IsR0FFdEVsNUIsS0FBS29hLFNBQVM2ZiwyQkFBMkI5MUIsRUFBTyxHQUVwRFgsa0NBQ0ksSUFBSTI1QixFQUFjLEVBQ2lCLGlCQUF4Qm45QixLQUFLaTVCLGdCQUNaajVCLEtBQUtpNUIsaUJBQW1CdmYsR0FBUTZlLFlBQ2hDNEUsRUFBY245QixLQUFLaTVCLGVBRWRSLEdBQVd6NEIsS0FBS2k1QixpQkFBbUJqNUIsS0FBS2k1QixlQUFlcmtCLEtBQU8sSUFDbkV1b0IsRUFBY2w2QixLQUFLbTZCLE9BQU9wOUIsS0FBS2k1QixpQkFFbkNqNUIsS0FBSzY3QixvQkFBb0JzQixHQUU3QjM1QixjQUFjVyxHQUNWLEdBQUlBLGFBQWlCcUssSUFBSyxDQUN0QixJQUFLeE8sS0FBSzg0QixTQUNOLE1BQU0sSUFBSTV0QixNQUFNLCtFQUVwQixHQUFtQixJQUFmL0csRUFBTXlRLEtBQ04sT0FBTyxFQUVOLENBQ0QsSUFBSXlvQixHQUFlLEVBQ25CLElBQUssTUFBTXpFLEtBQVN6MEIsRUFFaEIsR0FEQWs1QixFQUFlcjlCLEtBQUtzOUIsZ0JBQWdCMUUsR0FDaEN5RSxFQUNBLE1BR1IsT0FBT0EsR0FHVixHQUFxQixpQkFBVmw1QixFQUFvQixDQUNoQyxHQUFJbkUsS0FBSzg0QixTQUNMLE1BQU0sSUFBSTV0QixNQUFNLHNGQUNaL0csR0FFUixPQUFPbkUsS0FBS3M5QixnQkFBZ0JuNUIsR0FHNUIsT0FBTyxFQUdmWCxnQkFBZ0JXLEdBQ1osTUFBTW81QixFQUFXdjlCLEtBQUtvYSxTQUFTbWYsbUJBQy9CLE9BQU9wMUIsR0FBUyxHQUFLQSxFQUFRbzVCLEVBT2pDLzVCLDBCQUEwQlcsRUFBTzIzQixHQUM3QixHQUFJOTdCLEtBQUtvYSxTQUFTMGYsZ0NBQWdDMzFCLEdBQzlDLE9BRUosSUFBSXE1QixFQUFlcjVCLEVBQ2ZuRSxLQUFLODRCLFdBQ0wwRSxFQUFlLElBQUlodkIsSUFBSSxDQUFDckssS0FFdkJuRSxLQUFLcTZCLGNBQWNtRCxLQUdwQng5QixLQUFLODRCLFNBQ0w5NEIsS0FBS3k5QixtQkFBbUJ0NUIsRUFBTzIzQixHQUcvQjk3QixLQUFLdTZCLDJCQUEyQnAyQixHQUVwQ25FLEtBQUtvYSxTQUFTc2YsYUFBYXYxQixJQUUvQlgsbUJBQW1CVyxFQUFPMjNCLEdBQ3RCLElBQUk0QixHQUFvQixFQUVwQkEsT0FEVXY3QixJQUFWMjVCLEdBQ3FCOTdCLEtBQUtvYSxTQUFTd2YsZ0NBQWdDejFCLEdBRy9DMjNCLEVBRXhCLE1BQU1PLEVBQVMxRCxHQUFtQjM0QixLQUFLaTVCLGdCQUNuQ3lFLEVBQ0FyQixFQUFPMXRCLElBQUl4SyxHQUdYazRCLEVBQU9sakIsT0FBT2hWLEdBRWxCbkUsS0FBS3M2QiwwQkFBMEIrQjs7Ozs7Ozs7Ozs7Ozs7OztFQ2hidkMsTUFBTXNCLEdBQWNqNkIsR0FDVEEsRUFBUTBvQixhQUFhLGlCQU16QixNQUFNd1IsV0FBaUJ6ZSxHQUMxQjNiLGNBQ0k0SCxTQUFTMUssV0FDVFYsS0FBSzY5QixXQUFhLEtBQ2xCNzlCLEtBQUtxZixtQkFBcUJ3WixHQUMxQjc0QixLQUFLODlCLGFBQWMsRUFDbkI5OUIsS0FBSys5QixPQUFRLEVBQ2IvOUIsS0FBS2crQixXQUFZLEVBQ2pCaCtCLEtBQUtpK0IsVUFBWSxLQUNqQmorQixLQUFLaytCLFVBQVksS0FDakJsK0IsS0FBS20rQixjQUFlLEVBQ3BCbitCLEtBQUtvK0IsaUJBQW1CLEtBQ3hCcCtCLEtBQUtxK0IsZ0JBQWlCLEVBQ3RCcitCLEtBQUtzK0IsT0FBUyxHQUVsQkMsdUJBQ0ksTUFBTXpLLEVBQU85ekIsS0FBS3crQixZQUNsQixPQUFJMUssRUFDT0EsRUFBSzlTLGNBQWMsQ0FBRUMsU0FBUyxJQUFRd2QsT0FBT2xoQixJQUVqRCxHQUVYbWhCLFlBQ0ksT0FBTzErQixLQUFLcytCLE9BRWhCOTZCLGNBQ0ksTUFBTTJzQixFQUFRbndCLEtBQUt1K0IsaUJBQ2JJLEVBQVksR0FDbEIsSUFBSyxNQUFNcDZCLEtBQVE0ckIsRUFDWHdOLEdBQVdwNUIsSUFDWG82QixFQUFVbDVCLEtBQUtsQixHQUVmQSxFQUFLNm5CLGFBQWEsYUFBZTduQixFQUFLNm5CLGFBQWEsU0FDbkQ3bkIsRUFBS2dGLGFBQWEsT0FBUSxhQUdsQ3ZKLEtBQUtzK0IsT0FBU0ssRUFDZCxNQUFNQyxFQUFrQixJQUFJcHdCLElBWTVCLEdBWEF4TyxLQUFLcytCLE9BQU81d0IsUUFBUSxDQUFDNUMsRUFBTTNHLEtBQ25CbkUsS0FBS2krQixVQUNMbnpCLEVBQUt2QixhQUFhLE9BQVF2SixLQUFLaStCLFdBRy9CbnpCLEVBQUt4RixnQkFBZ0IsUUFFckJ3RixFQUFLK3pCLFVBQ0xELEVBQWdCandCLElBQUl4SyxLQUd4Qm5FLEtBQUsrOUIsTUFDTC85QixLQUFLOCtCLE9BQU9GLE9BRVgsQ0FDRCxNQUFNejZCLEVBQVF5NkIsRUFBZ0JocUIsS0FBT2dxQixFQUFnQkcsVUFBVUMsT0FBT3AyQixNQUFNLElBQU0sRUFDbEY1SSxLQUFLOCtCLE9BQU8zNkIsSUFHcEIwNkIsZUFDSSxNQUFNMTZCLEVBQVFuRSxLQUFLbUUsTUFDbkIsSUFBS3MwQixHQUFXdDBCLEdBQ1osT0FBZSxJQUFYQSxFQUNPLEtBRUpuRSxLQUFLMCtCLE1BQU12NkIsR0FFdEIsTUFBTTA2QixFQUFXLEdBQ2pCLElBQUssTUFBTWpHLEtBQVN6MEIsRUFDaEIwNkIsRUFBU3A1QixLQUFLekYsS0FBSzArQixNQUFNOUYsSUFFN0IsT0FBT2lHLEVBRVgxNkIsWUFDSSxPQUFJbkUsS0FBS29mLGNBQ0VwZixLQUFLb2YsY0FBYzZmLG9CQUV0QixFQUVaejdCLFNBQ0ksTUFBTTA3QixFQUEwQixPQUFuQmwvQixLQUFLaytCLGVBQXFCLzdCLEVBQVluQyxLQUFLaytCLFVBQ2xEaUIsRUFBV24vQixLQUFLbStCLGFBQWUsSUFBTSxLQUMzQyxPQUFPajJCLENBQUs7OztxQkFHQ2kzQjtrQkFDSDVILEdBQVUySDs7cUJBRVBsL0IsS0FBS28vQjtxQkFDTHAvQixLQUFLcS9CO3NCQUNKci9CLEtBQUtzL0I7OEJBQ0d0L0IsS0FBS3UvQjs7MEJBRVR2L0IsS0FBS3cvQjtrQ0FDR3gvQixLQUFLeS9COzs7TUFLbkNqOEIsVUFBVW9rQixHQUNOLEdBQUk1bkIsS0FBS29mLGVBQWlCcGYsS0FBS21nQixRQUFTLENBQ3BDLE1BQU1oYyxFQUFRbkUsS0FBSzAvQixpQkFBaUI5WCxHQUNwQzVuQixLQUFLb2YsY0FBY3VnQixjQUFjL1gsRUFBS3pqQixJQUc5Q1gsV0FBV29rQixHQUNQLEdBQUk1bkIsS0FBS29mLGVBQWlCcGYsS0FBS21nQixRQUFTLENBQ3BDLE1BQU1oYyxFQUFRbkUsS0FBSzAvQixpQkFBaUI5WCxHQUNwQzVuQixLQUFLb2YsY0FBY3dnQixlQUFlaFksRUFBS3pqQixJQUcvQ1gsVUFBVW9rQixHQUNOLEdBQUk1bkIsS0FBS29mLGVBQWlCcGYsS0FBS21nQixRQUFTLENBQ3BDLE1BQU1oYyxFQUFRbkUsS0FBSzAvQixpQkFBaUI5WCxHQUM5QjVtQixFQUFTNG1CLEVBQUk1bUIsT0FDYjI1QixFQUFpQmdELEdBQVczOEIsR0FDbENoQixLQUFLb2YsY0FBY2dYLGNBQWN4TyxFQUFLK1MsRUFBZ0J4MkIsSUFHOURYLGtCQUFrQm9rQixHQUNkLEdBQUk1bkIsS0FBS29mLGNBQWUsQ0FDcEIsTUFBTWpiLEVBQVFuRSxLQUFLMC9CLGlCQUFpQjlYLEdBQ3BDLElBQWUsSUFBWHpqQixFQUNBLE9BR0osR0FEZ0JuRSxLQUFLMCtCLE1BQU12NkIsR0FDZnlvQixTQUNSLE9BRUosTUFBTWlTLEVBQVdqWCxFQUFJaVksT0FBT2hCLFNBQzVCNytCLEtBQUtvZixjQUFjMGdCLHNCQUFzQjM3QixFQUFPMDZCLEdBQ2hEalgsRUFBSW1ZLG1CQUdadjhCLGlCQUFpQm9rQixHQUNiLE1BQU12UyxFQUFXclYsS0FBSzArQixNQUNoQnJnQixFQUFPdUosRUFBSTlJLGVBQ2pCLElBQUssTUFBTWtoQixLQUFZM2hCLEVBQU0sQ0FDekIsSUFBSWxhLEdBQVMsRUFJYixHQUhJb1osR0FBY3lpQixJQUFhckMsR0FBV3FDLEtBQ3RDNzdCLEVBQVFrUixFQUFTdlAsUUFBUWs2QixLQUVkLElBQVg3N0IsRUFDQSxPQUFPQSxFQUdmLE9BQVEsRUFFWlgsZ0JBZ0hJLE9BL0dBeEQsS0FBSzY5QixXQUFhLENBQ2R0RSxpQkFBa0IsSUFDVnY1QixLQUFLbWdCLFFBQ0VuZ0IsS0FBSzArQixNQUFNLzlCLE9BRWYsRUFFWDI0Qix1QkFBd0IsS0FDcEIsSUFBS3Q1QixLQUFLbWdCLFFBQ04sT0FBUSxFQUVaLElBQUtuZ0IsS0FBSzArQixNQUFNLzlCLE9BQ1osT0FBUSxFQUVaLE1BQU1zL0IsRUFBb0IvaEIsS0FDMUIsSUFBSytoQixFQUFrQnQvQixPQUNuQixPQUFRLEVBRVosSUFBSyxJQUFJSCxFQUFJeS9CLEVBQWtCdC9CLE9BQVMsRUFBR0gsR0FBSyxFQUFHQSxJQUFLLENBQ3BELE1BQU0wL0IsRUFBYUQsRUFBa0J6L0IsR0FDckMsR0FBSW05QixHQUFXdUMsR0FDWCxPQUFPbGdDLEtBQUswK0IsTUFBTTU0QixRQUFRbzZCLEdBR2xDLE9BQVEsR0FFWi9GLDRCQUE2QixDQUFDaDJCLEVBQU95TixLQUVqQyxJQURvQjVSLEtBQUttZ0IsUUFFckIsTUFBTyxHQUVYLE1BQU16YyxFQUFVMUQsS0FBSzArQixNQUFNdjZCLEdBQzNCLE9BQU9ULEVBQVVBLEVBQVEyQixhQUFhdU0sR0FBUSxJQUVsRHNvQiw0QkFBNkIsQ0FBQy8xQixFQUFPeU4sRUFBTXV1QixLQUN2QyxJQUFLbmdDLEtBQUttZ0IsUUFDTixPQUVKLE1BQU16YyxFQUFVMUQsS0FBSzArQixNQUFNdjZCLEdBQ3ZCVCxHQUNBQSxFQUFRNkYsYUFBYXFJLEVBQU11dUIsSUFHbkM5RyxpQkFBbUJsMUIsSUFDZixNQUFNVCxFQUFVMUQsS0FBSzArQixNQUFNdjZCLEdBQ3ZCVCxHQUNBQSxFQUFRbXVCLFNBR2hCb0ksMkJBQTRCLENBQUM5MUIsRUFBT3lFLEtBQ2hDLE1BQU1rQyxFQUFPOUssS0FBSzArQixNQUFNdjZCLEdBQ3BCMkcsSUFDQUEsRUFBS3EwQixTQUFXdjJCLElBR3hCOHdCLGFBQWV2MUIsSUFDWCxNQUFNa1csRUFBTyxDQUFFdUUsU0FBUyxFQUFNQyxVQUFVLEdBQ3hDeEUsRUFBS3dsQixPQUFTLENBQUUxN0IsTUFBQUEsR0FDaEIsTUFBTTZhLEVBQUssSUFBSW9oQixZQUFZLFNBQVUvbEIsR0FDckNyYSxLQUFLa2YsY0FBY0YsSUFFdkIyYSxlQUFnQixDQUFDeDFCLEVBQU9nWSxLQUNwQixNQUFNOUIsRUFBTyxDQUFFdUUsU0FBUyxFQUFNQyxVQUFVLEdBQ3hDeEUsRUFBS3dsQixPQUFTLENBQUUxN0IsTUFBQUEsRUFBT2dZLEtBQUFBLEdBQ3ZCLE1BQU02QyxFQUFLLElBQUlvaEIsWUFBWSxXQUFZL2xCLEdBQ3ZDcmEsS0FBS2tmLGNBQWNGLElBRXZCd2Esa0JBQW1CLElBQ1JqYixHQUF3QnZlLE1BRW5DeTVCLGNBQWUsS0FDWCxNQUFNdFosRUFBVW5nQixLQUFLbWdCLFFBRXJCLE9BRGFBLEVBQVErTCxjQUNUOU4sZ0JBQWtCK0IsR0FFbEMwWixnQ0FBaUMsQ0FBQzExQixFQUFPeUUsS0FDckMsTUFBTWtDLEVBQU85SyxLQUFLMCtCLE1BQU12NkIsR0FDbkIyRyxJQUdMQSxFQUFLOGhCLFNBQVdoa0IsSUFFcEJreEIsZ0NBQWtDMzFCLElBQzlCLE1BQU0yRyxFQUFPOUssS0FBSzArQixNQUFNdjZCLEdBQ3hCLFFBQUsyRyxHQUdFQSxFQUFLOGhCLFVBRWhCbU4sZ0NBQWlDLENBQUM1MUIsRUFBT3lFLEtBQ3JDLE1BQU1rQyxFQUFPOUssS0FBSzArQixNQUFNdjZCLEdBQ25CMkcsSUFHTEEsRUFBSyt6QixTQUFXajJCLElBRXBCZ3hCLGdDQUFrQ3oxQixJQUM5QixNQUFNMkcsRUFBTzlLLEtBQUswK0IsTUFBTXY2QixHQUN4QixRQUFLMkcsR0FHRUEsRUFBSyt6QixVQUVoQjdFLGlDQUFrQyxDQUFDNzFCLEVBQU95RSxLQUN0QyxNQUFNa0MsRUFBTzlLLEtBQUswK0IsTUFBTXY2QixHQUNuQjJHLElBR0xBLEVBQUt1MUIsVUFBWXozQixLQUdsQjVJLEtBQUs2OUIsV0FFaEJyNkIsU0FBU1csRUFBT3dqQixHQUFXLEdBQ3ZCLE1BQU03YyxFQUFPOUssS0FBSzArQixNQUFNdjZCLEdBQ3BCMkcsSUFDQUEsRUFBSyt6QixVQUFXLEVBQ2hCL3pCLEVBQUt1MUIsVUFBWTFZLEdBR3pCbmtCLFdBQVdXLEdBQ1AsTUFBTTJHLEVBQU85SyxLQUFLMCtCLE1BQU12NkIsR0FDcEIyRyxJQUNBQSxFQUFLK3pCLFVBQVcsRUFDaEIvekIsRUFBS3UxQixXQUFZLEdBR3pCNzhCLE9BQU9XLEdBQ0VuRSxLQUFLb2YsZUFHVnBmLEtBQUtvZixjQUFja2hCLGlCQUFpQm44QixHQUV4Q1gsT0FBT1csRUFBTzIzQixHQUNWOTdCLEtBQUtvZixjQUFjcWUsbUJBQW1CdDVCLEVBQU8yM0IsR0FFakR0NEIsZUFDSXhELEtBQUsybEIsU0FFVG5pQixvQkFBb0J3SSxHQUNoQixNQUFNaEwsRUFBU2dMLEVBQUVoTCxPQUNqQmhCLEtBQUsybEIsUUFBdUMsSUFBaEMzbEIsS0FBSzArQixNQUFNNTRCLFFBQVE5RSxJQUVuQ3dDLE9BQU8rOEIsR0FBYyxHQUlqQixHQUhJQSxHQUNBdmdDLEtBQUt1Z0MsZUFFSnZnQyxLQUFLcStCLGVBQWdCLENBQ3RCLElBQUltQyxFQUFRLEtBQ1osSUFBSyxNQUFNMTFCLEtBQVE5SyxLQUFLMCtCLE1BQ2Y4QixHQUFVMTFCLEVBQUt1ekIsaUJBQ2hCbUMsRUFBUTExQixHQUVaQSxFQUFLcTBCLFVBQVksRUFFakJxQixJQUNBQSxFQUFNckIsU0FBVyxJQUk3QjM3QixRQUNJLE1BQU1rdUIsRUFBTzF4QixLQUFLbWdCLFFBQ2R1UixHQUNBQSxFQUFLRyxRQUdicnVCLE9BQ0ksTUFBTWt1QixFQUFPMXhCLEtBQUttZ0IsUUFDZHVSLEdBQ0FBLEVBQUtFLFFBSWpCOXdCLEVBQVcsQ0FDUGdWLEdBQU0sY0FDUDhuQixHQUFTMTlCLFVBQVcsZUFBVyxHQUNsQ1ksRUFBVyxDQUNQZ1YsR0FBTSxTQUNQOG5CLEdBQVMxOUIsVUFBVyxtQkFBZSxHQUN0Q1ksRUFBVyxDQUNQNFUsR0FBUyxDQUFFaFEsS0FBTXVLLFVBQ2pCK00sSUFBUyxTQUFVcFUsR0FDWDVJLEtBQUtvZixlQUNMcGYsS0FBS29mLGNBQWNxaEIscUJBQXFCNzNCLE9BR2pEZzFCLEdBQVMxOUIsVUFBVyxtQkFBZSxHQUN0Q1ksRUFBVyxDQUNQNFUsR0FBUyxDQUFFaFEsS0FBTXVLLFVBQ2pCK00sSUFBUyxTQUFVMGpCLEVBQVV0dUIsR0FDckJwUyxLQUFLb2YsZUFDTHBmLEtBQUtvZixjQUFjdWhCLFNBQVNELFFBRWZ2K0IsSUFBYmlRLEdBQ0FwUyxLQUFLMmxCLGFBR2RpWSxHQUFTMTlCLFVBQVcsYUFBUyxHQUNoQ1ksRUFBVyxDQUNQNFUsR0FBUyxDQUFFaFEsS0FBTXVLLFVBQ2pCK00sSUFBUyxTQUFVcFUsR0FDWDVJLEtBQUtvZixlQUNMcGYsS0FBS29mLGNBQWN3aEIsYUFBYWg0QixPQUd6Q2cxQixHQUFTMTlCLFVBQVcsaUJBQWEsR0FDcENZLEVBQVcsQ0FDUDRVLEdBQVMsQ0FBRWhRLEtBQU0xQyxTQUNqQmdhLElBQVMsU0FBVTZqQixFQUFXenVCLFFBQ1RqUSxJQUFiaVEsR0FDQXBTLEtBQUt1Z0Msa0JBR2QzQyxHQUFTMTlCLFVBQVcsaUJBQWEsR0FDcENZLEVBQVcsQ0FDUDRVLEdBQVMsQ0FBRWhRLEtBQU0xQyxVQUNsQjQ2QixHQUFTMTlCLFVBQVcsaUJBQWEsR0FDcENZLEVBQVcsQ0FDUDRVLEdBQVMsQ0FBRWhRLEtBQU11SyxXQUNsQjJ0QixHQUFTMTlCLFVBQVcsb0JBQWdCLEdBQ3ZDWSxFQUFXLENBQ1A0VSxHQUFTLENBQUVoUSxLQUFNdUssUUFBU1UsU0FBUyxJQUNuQ3FNLElBQVMsU0FBVXBVLEdBQ2YsTUFBTWtyQixFQUFPOXpCLEtBQUt3K0IsWUFDbEIsR0FBSTUxQixHQUFTa3JCLEVBQU0sQ0FDZixNQUFNZ04sRTlCdFhYLFNBQTZCaE4sRUFBTS9kLEdBQ3RDLElBQUssTUFBTXhSLEtBQVF1dkIsRUFBSzlTLGNBQWMsQ0FBRUMsU0FBUyxJQUM3QyxHQUFJMUQsR0FBY2haLEdBQU8sQ0FDckIsTUFBTXc4QixFQUFLeDhCLEVBQ1gsR0FBSTZZLEdBQVEyakIsRUFBSWhyQixHQUNaLE9BQU9nckIsRUFJbkIsT0FBTyxLOEI2V2tCQyxDQUFvQmxOLEVBQU0sa0JBQzNDOXpCLEtBQUtvK0IsaUJBQW1CMEMsRUFDcEJBLEdBQ0FBLEVBQVN2M0IsYUFBYSxXQUFZLFdBR2hDWCxHQUFTNUksS0FBS28rQixtQkFDcEJwK0IsS0FBS28rQixpQkFBaUI3MEIsYUFBYSxXQUFZLEtBQy9DdkosS0FBS28rQixpQkFBbUIsVUFHakNSLEdBQVMxOUIsVUFBVyxzQkFBa0I7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDN1l6QyxNQUNhOE8sR0FBUTZILEVBQUk7Ozs7Ozs7Ozs7Ozs7Ozs7R0NJekIsSUFBSW9xQixHQUFPLGNBQW1CckQsS0FFOUJxRCxHQUFLcHlCLE9BQVNHLEdBQ2RpeUIsR0FBT25nQyxFQUFXLENBQ2RnVSxFQUFjLGFBQ2Ztc0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSkgsSUErQklDLEdBY0FDLEdBN0NBL25CLEdBQWEsQ0FDYmdvQixPQUFRLDJCQUNSQyxpQkFBa0IscUNBQ2xCQyxlQUFnQixtQ0FDaEJDLE1BQU8sMEJBQ1AxTSxLQUFNLHlCQUNON1IsS0FBTSxvQkFHTjNlLEdBQVUsQ0FDVm05QixhQUFjLHdCQUNkQyxhQUFjLHdCQUNkQyxtQkFBb0IsQ0FDaEIsd0JBQXlCLHFDQUFzQyx1QkFDL0Qsd0JBQXlCLDBCQUEyQiwrREFDdER2MEIsS0FBSyxPQUdQdU0sR0FBVSxDQUVWaW9CLHlCQUEwQixJQUUxQkMsMEJBQTJCLEdBRTNCQyxlQUFnQixHQUVoQkMsbUNBQW9DLE1BTXhDLFNBQVdaLEdBQ1BBLEVBQVVBLEVBQWtCLE9BQUksR0FBSyxTQUNyQ0EsRUFBVUEsRUFBa0IsT0FBSSxHQUFLLFNBQ3JDQSxFQUFVQSxFQUFpQixNQUFJLEdBQUssUUFDcENBLEVBQVVBLEVBQW9CLFNBQUksR0FBSyxXQUozQyxDQUtHQSxLQUFjQSxHQUFZLEtBUzdCLFNBQVdDLEdBQ1BBLEVBQU9BLEVBQWlCLFNBQUksR0FBSyxXQUNqQ0EsRUFBT0EsRUFBa0IsVUFBSSxHQUFLLFlBQ2xDQSxFQUFPQSxFQUFvQixZQUFJLEdBQUssY0FDcENBLEVBQU9BLEVBQXFCLGFBQUksR0FBSyxlQUNyQ0EsRUFBT0EsRUFBa0IsVUFBSSxHQUFLLFlBQ2xDQSxFQUFPQSxFQUFnQixRQUFJLElBQU0sVUFDakNBLEVBQU9BLEVBQXFCLGFBQUksR0FBSyxlQUNyQ0EsRUFBT0EsRUFBbUIsV0FBSSxJQUFNLGFBUnhDLENBU0dBLEtBQVdBLEdBQVM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDcER2QixJQ0hJWSxHREdBQyxHQUEwQyxTQUFVeG5CLEdBRXBELFNBQVN3bkIsRUFBeUI3bkIsR0FDOUIsSUFBSXFCLEVBQVFoQixFQUFPNVosS0FBS1osS0FBTXlhLEVBQWlCLEdBQUl1bkIsRUFBeUJ0bkIsZUFBZ0JQLEtBQWFuYSxLQVd6RyxPQVZBd2IsRUFBTXltQixTQUFVLEVBQ2hCem1CLEVBQU0wbUIsY0FBZSxFQUNyQjFtQixFQUFNMm1CLG1CQUFvQixFQUMxQjNtQixFQUFNNG1CLGtCQUFtQixFQUN6QjVtQixFQUFNNm1CLHlCQUEyQixFQUNqQzdtQixFQUFNOG1CLDBCQUE0QixFQUNsQzltQixFQUFNK21CLG9CQUFzQixFQUM1Qi9tQixFQUFNZ25CLGNBQWdCckIsR0FBT3NCLFVBQzdCam5CLEVBQU1rbkIsY0FBZ0IsQ0FBRTdkLElBQUssRUFBR2lCLE1BQU8sRUFBR0MsT0FBUSxFQUFHbkIsS0FBTSxHQUMzRHBKLEVBQU1tbkIsVUFBWSxDQUFFdGMsRUFBRyxFQUFHQyxFQUFHLEdBQ3RCOUssRUFvWlgsT0FqYUFiLEVBQWtCcW5CLEVBQTBCeG5CLEdBZTVDaGIsT0FBT2dDLGVBQWV3Z0MsRUFBMEIsYUFBYyxDQUMxRGoxQixJQUFLLFdBQ0QsT0FBT3FNLElBRVg3RyxZQUFZLEVBQ1pELGNBQWMsSUFFbEI5UyxPQUFPZ0MsZUFBZXdnQyxFQUEwQixVQUFXLENBQ3ZEajFCLElBQUssV0FDRCxPQUFPMUksSUFFWGtPLFlBQVksRUFDWkQsY0FBYyxJQUVsQjlTLE9BQU9nQyxlQUFld2dDLEVBQTBCLFVBQVcsQ0FDdkRqMUIsSUFBSyxXQUNELE9BQU8yTSxJQUVYbkgsWUFBWSxFQUNaRCxjQUFjLElBRWxCOVMsT0FBT2dDLGVBQWV3Z0MsRUFBMEIsU0FBVSxDQUN0RGoxQixJQUFLLFdBQ0QsT0FBT28wQixJQUVYNXVCLFlBQVksRUFDWkQsY0FBYyxJQUVsQjlTLE9BQU9nQyxlQUFld2dDLEVBQTBCLGlCQUFrQixDQUk5RGoxQixJQUFLLFdBRUQsTUFBTyxDQUNINk4sU0FBVSxhQUNWQyxZQUFhLGFBQ2JDLFNBQVUsV0FBYyxPQUFPLEdBQy9COG5CLFVBQVcsV0FBYyxPQUFPLEdBQ2hDQyxxQkFBc0IsV0FBYyxPQUFPLEdBQzNDQyxVQUFXLFdBQWMsT0FBTyxHQUNoQ0MsTUFBTyxXQUFjLE9BQU8sR0FDNUJDLG1CQUFvQixXQUFjLE9BQVV6ZSxPQUFRLEVBQUdELE1BQU8sSUFDOUQyZSxvQkFBcUIsV0FBYyxPQUFPLE1BQzFDQyxvQkFBcUIsV0FBYyxPQUFVM2UsT0FBUSxFQUFHRCxNQUFPLElBQy9ENmUsa0JBQW1CLFdBQWMsT0FBVTVlLE9BQVEsRUFBR0QsTUFBTyxJQUM3RDhlLGdCQUFpQixXQUFjLE9BQVUvYyxFQUFHLEVBQUdDLEVBQUcsSUFDbEQrYyxZQUFhLGFBQ2JDLGFBQWMsYUFDZEMsbUJBQW9CLGFBQ3BCOU4sVUFBVyxhQUNYQyxhQUFjLGFBQ2RILFlBQWEsYUFDYkMsV0FBWSxlQUlwQmpqQixZQUFZLEVBQ1pELGNBQWMsSUFFbEIwdkIsRUFBeUI5aEMsVUFBVW1hLEtBQU8sV0FDdEMsSUFBSTRNLEVBQUsrYSxFQUF5QjVvQixXQUFZNEosRUFBT2lFLEVBQUdqRSxLQUFNNlIsRUFBTzVOLEVBQUc0TixLQUN4RSxJQUFLNzBCLEtBQUtvYSxTQUFTVSxTQUFTa0ksR0FDeEIsTUFBTSxJQUFJOVgsTUFBTThYLEVBQU8sb0NBRXZCaGpCLEtBQUtvYSxTQUFTVSxTQUFTK1osS0FDdkI3MEIsS0FBS2lpQyxTQUFVLElBR3ZCRCxFQUF5QjloQyxVQUFVb2EsUUFBVSxXQUN6Q2tDLGFBQWF4YyxLQUFLcWlDLDBCQUNsQjdsQixhQUFheGMsS0FBS3NpQywyQkFFbEJ4YSxxQkFBcUI5bkIsS0FBS3VpQyxzQkFLOUJQLEVBQXlCOWhDLFVBQVVzakMsZ0JBQWtCLFNBQVVDLEdBQzNEempDLEtBQUt3aUMsY0FBZ0JpQixHQUt6QnpCLEVBQXlCOWhDLFVBQVV3akMsZ0JBQWtCLFNBQVVDLEdBQzNEM2pDLEtBQUswaUMsY0FBYzdkLElBQU04ZSxFQUFPOWUsS0FBTyxFQUN2QzdrQixLQUFLMGlDLGNBQWM1YyxNQUFRNmQsRUFBTzdkLE9BQVMsRUFDM0M5bEIsS0FBSzBpQyxjQUFjM2MsT0FBUzRkLEVBQU81ZCxRQUFVLEVBQzdDL2xCLEtBQUswaUMsY0FBYzlkLEtBQU8rZSxFQUFPL2UsTUFBUSxHQUc3Q29kLEVBQXlCOWhDLFVBQVUwakMsYUFBZSxTQUFVQyxHQUN4RDdqQyxLQUFLbWlDLGtCQUFvQjBCLEdBRzdCN0IsRUFBeUI5aEMsVUFBVTRqQyxpQkFBbUIsU0FBVUMsR0FDNUQvakMsS0FBS29pQyxpQkFBbUIyQixHQUc1Qi9CLEVBQXlCOWhDLFVBQVU4akMsb0JBQXNCLFNBQVUzZCxFQUFHQyxHQUNsRXRtQixLQUFLMmlDLFVBQVV0YyxFQUFJcm1CLEtBQUtpa0MsVUFBVTVkLEdBQUtBLEVBQUksRUFDM0NybUIsS0FBSzJpQyxVQUFVcmMsRUFBSXRtQixLQUFLaWtDLFVBQVUzZCxHQUFLQSxFQUFJLEdBRS9DMGIsRUFBeUI5aEMsVUFBVWdrQyxhQUFlLFNBQVVDLEdBQ3hEbmtDLEtBQUtraUMsYUFBZWlDLEdBRXhCbkMsRUFBeUI5aEMsVUFBVTYxQixPQUFTLFdBQ3hDLE9BQU8vMUIsS0FBS2lpQyxTQUtoQkQsRUFBeUI5aEMsVUFBVTQxQixLQUFPLFdBQ3RDLElBQUl0YSxFQUFReGIsS0FDWkEsS0FBS29hLFNBQVNxYixZQUNUejFCLEtBQUtraUMsY0FDTmxpQyxLQUFLb2EsU0FBU1EsU0FBU29uQixFQUF5QjVvQixXQUFXa29CLGdCQUUvRHRoQyxLQUFLdWlDLG9CQUFzQm5iLHVCQUFzQixXQUM3QzVMLEVBQU1wQixTQUFTUSxTQUFTb25CLEVBQXlCNW9CLFdBQVd5YixNQUM1RHJaLEVBQU00b0IsWUFBYzVvQixFQUFNcEIsU0FBUzRvQixxQkFDbkN4bkIsRUFBTTZvQixnQkFDRjdvQixFQUFNMG1CLGFBQ04xbUIsRUFBTXBCLFNBQVNvYixhQUdmaGEsRUFBTTZtQix5QkFBMkIvbEIsWUFBVyxXQUN4Q2QsRUFBTTZtQix5QkFBMkIsRUFDakM3bUIsRUFBTXBCLFNBQVNTLFlBQVltbkIsRUFBeUI1b0IsV0FBV2tvQixnQkFDL0Q5bEIsRUFBTXBCLFNBQVNvYixlQUNoQjliLEdBQVFpb0IsNkJBR25CM2hDLEtBQUtpaUMsU0FBVSxHQUtuQkQsRUFBeUI5aEMsVUFBVWkyQixNQUFRLFNBQVVtTyxHQUNqRCxJQUFJOW9CLEVBQVF4YixVQUNhLElBQXJCc2tDLElBQStCQSxHQUFtQixHQUNqRHRrQyxLQUFLa2lDLGNBQ05saUMsS0FBS29hLFNBQVNRLFNBQVNvbkIsRUFBeUI1b0IsV0FBV2lvQixrQkFFL0RqYSx1QkFBc0IsV0FDbEI1TCxFQUFNcEIsU0FBU1MsWUFBWW1uQixFQUF5QjVvQixXQUFXeWIsTUFDM0RyWixFQUFNMG1CLGFBQ04xbUIsRUFBTXBCLFNBQVNtYixjQUdmL1osRUFBTThtQiwwQkFBNEJobUIsWUFBVyxXQUN6Q2QsRUFBTThtQiwwQkFBNEIsRUFDbEM5bUIsRUFBTXBCLFNBQVNTLFlBQVltbkIsRUFBeUI1b0IsV0FBV2lvQixrQkFDL0Q3bEIsRUFBTXBCLFNBQVNtYixnQkFDaEI3YixHQUFRa29CLDhCQUduQjVoQyxLQUFLaWlDLFNBQVUsRUFDVnFDLEdBQ0R0a0MsS0FBS3VrQyxzQkFJYnZDLEVBQXlCOWhDLFVBQVVza0MsZ0JBQWtCLFNBQVU1YyxHQUMzRCxJQUFJbVosRUFBS25aLEVBQUk1bUIsT0FDVGhCLEtBQUtvYSxTQUFTeW9CLHFCQUFxQjlCLElBR3ZDL2dDLEtBQUttMkIsU0FHVDZMLEVBQXlCOWhDLFVBQVVrMkIsY0FBZ0IsU0FBVXhPLEdBQ3pELElBQUlzQixFQUFVdEIsRUFBSXNCLFNBQ0ssV0FEVXRCLEVBQUkzbUIsS0FDVSxLQUFaaW9CLElBRS9CbHBCLEtBQUttMkIsU0FHYjZMLEVBQXlCOWhDLFVBQVVta0MsY0FBZ0IsV0FDL0MsSUFBSXBkLEVBRUpqbkIsS0FBS3lrQyxjQUFnQnprQyxLQUFLMGtDLDZCQUMxQixJQUFJakIsRUFBU3pqQyxLQUFLMmtDLG1CQUNkQyxFQUF1QjVrQyxLQUFLNmtDLHlCQUF5QnBCLEdBQ3JEcUIsRUFBb0I5a0MsS0FBSytrQyxRQUFRdEIsRUFBUXZDLEdBQVU4RCxRQUFVLFNBQVcsTUFDeEVDLEVBQXNCamxDLEtBQUsra0MsUUFBUXRCLEVBQVF2QyxHQUFVZ0UsT0FBUyxRQUFVLE9BQ3hFQyxFQUFtQm5sQyxLQUFLb2xDLDJCQUEyQjNCLEdBQ25ENEIsRUFBaUJybEMsS0FBS3NsQyx5QkFBeUI3QixHQUMvQ3RhLEVBQUtucEIsS0FBS3lrQyxjQUFlYyxFQUFhcGMsRUFBR29jLFdBQVlDLEVBQWNyYyxFQUFHcWMsWUFDdEVubEIsSUFBWTRHLEVBQUssSUFDZGdlLEdBQXVCRSxFQUMxQmxlLEVBQUc2ZCxHQUFxQk8sRUFDeEJwZSxHQUVBc2UsRUFBV2poQixNQUFRa2hCLEVBQVlsaEIsTUFBUTVLLEdBQVFvb0IscUNBQy9DbUQsRUFBc0IsV0FHdEJqbEMsS0FBS21pQyxtQkFBcUJuaUMsS0FBS29pQyxtQkFDL0JwaUMsS0FBS3lsQyxpQ0FBaUNwbEIsR0FFMUNyZ0IsS0FBS29hLFNBQVNtcEIsbUJBQW1CMEIsRUFBc0IsSUFBTUgsR0FDN0Q5a0MsS0FBS29hLFNBQVNpcEIsWUFBWWhqQixHQUMxQnJnQixLQUFLb2EsU0FBU2twQixhQUFhc0IsRUFBdUJBLEVBQXVCLEtBQU8sS0FLcEY1QyxFQUF5QjloQyxVQUFVd2tDLDJCQUE2QixXQUM1RCxJQUFJZ0IsRUFBYTFsQyxLQUFLb2EsU0FBUzZvQixzQkFDM0IwQyxFQUFXM2xDLEtBQUtvYSxTQUFTK29CLG9CQUN6QnlDLEVBQWU1bEMsS0FBS29hLFNBQVM4b0Isc0JBQzdCMkMsRUFBZTdsQyxLQUFLb2EsU0FBU2dwQixrQkFhakMsT0FaS3NDLElBRURBLEVBQWEsQ0FDVDdnQixJQUFLN2tCLEtBQUsyaUMsVUFBVXJjLEVBQ3BCUixNQUFPOWxCLEtBQUsyaUMsVUFBVXRjLEVBQ3RCTixPQUFRL2xCLEtBQUsyaUMsVUFBVXJjLEVBQ3ZCMUIsS0FBTTVrQixLQUFLMmlDLFVBQVV0YyxFQUNyQi9CLE1BQU8sRUFDUEMsT0FBUSxJQUlULENBQ0hnaEIsV0FBWUcsRUFDWkMsU0FBVUEsRUFDVkgsWUFBYXhsQyxLQUFLb2tDLFlBQ2xCMEIsaUJBQWtCLENBRWRqaEIsSUFBSzZnQixFQUFXN2dCLElBQ2hCaUIsTUFBTzhmLEVBQWF0aEIsTUFBUW9oQixFQUFXNWYsTUFDdkNDLE9BQVE2ZixFQUFhcmhCLE9BQVNtaEIsRUFBVzNmLE9BQ3pDbkIsS0FBTThnQixFQUFXOWdCLE1BRXJCZ2hCLGFBQWNBLEVBQ2RDLGFBQWNBLElBTXRCN0QsRUFBeUI5aEMsVUFBVXlrQyxpQkFBbUIsV0FFbEQsSUFBSWxCLEVBQVN0QyxHQUFPNEUsU0FDaEI5ZSxFQUFLam5CLEtBQUt5a0MsY0FBZXFCLEVBQW1CN2UsRUFBRzZlLGlCQUFrQlAsRUFBYXRlLEVBQUdzZSxXQUFZQyxFQUFjdmUsRUFBR3VlLFlBQzlHUSxFQUFrQmhtQyxLQUFLK2tDLFFBQVEva0MsS0FBS3dpQyxjQUFldEIsR0FBVThELFFBQzdEaUIsRUFBZUQsRUFBa0JGLEVBQWlCamhCLElBQU0wZ0IsRUFBV2hoQixPQUFTdmtCLEtBQUswaUMsY0FBYzNjLE9BQzdGK2YsRUFBaUJqaEIsSUFBTTdrQixLQUFLMGlDLGNBQWM3ZCxJQUM1Q3FoQixFQUFrQkYsRUFBa0JGLEVBQWlCL2YsT0FBUy9sQixLQUFLMGlDLGNBQWMzYyxPQUMvRStmLEVBQWlCL2YsT0FBU3dmLEVBQVdoaEIsT0FBU3ZrQixLQUFLMGlDLGNBQWM3ZCxJQUNuRXNoQixFQUFjWCxFQUFZamhCLE9BQVMwaEIsRUFDbkNHLEVBQWlCWixFQUFZamhCLE9BQVMyaEIsRUFDdENFLEVBQWlCLEdBQUtELEVBQWNDLElBQ3BDM0MsRUFBU3pqQyxLQUFLcW1DLFFBQVE1QyxFQUFRdkMsR0FBVThELFNBRTVDLElBQUlqQyxFQUFRL2lDLEtBQUtvYSxTQUFTMm9CLFFBQ3RCdUQsRUFBWXRtQyxLQUFLK2tDLFFBQVEva0MsS0FBS3dpQyxjQUFldEIsR0FBVXFGLFVBQ3ZEQyxFQUF5QnhtQyxLQUFLK2tDLFFBQVEva0MsS0FBS3dpQyxjQUFldEIsR0FBVWdFLE9BQ3BFdUIsRUFBa0JELElBQTJCekQsSUFDM0N5RCxHQUEwQkYsR0FBYXZELEVBQ3pDMkQsRUFBZ0JELEVBQWlCWCxFQUFpQmxoQixLQUFPMmdCLEVBQVdqaEIsTUFBUXRrQixLQUFLMGlDLGNBQWM1YyxNQUMvRmdnQixFQUFpQmxoQixLQUFPNWtCLEtBQUswaUMsY0FBYzlkLEtBQzNDK2hCLEVBQWlCRixFQUFpQlgsRUFBaUJoZ0IsTUFBUTlsQixLQUFLMGlDLGNBQWM1YyxNQUM5RWdnQixFQUFpQmhnQixNQUFReWYsRUFBV2poQixNQUFRdGtCLEtBQUswaUMsY0FBYzlkLEtBQy9EZ2lCLEVBQWVwQixFQUFZbGhCLE1BQVFvaUIsRUFDbkNHLEVBQWdCckIsRUFBWWxoQixNQUFRcWlCLEVBTXhDLE9BTEtDLEVBQWUsR0FBS0gsR0FBa0IxRCxHQUN0Q3lELElBQTJCQyxHQUFrQkcsRUFBZSxHQUM1REMsRUFBZ0IsR0FBS0QsRUFBZUMsS0FDckNwRCxFQUFTempDLEtBQUtxbUMsUUFBUTVDLEVBQVF2QyxHQUFVZ0UsUUFFckN6QixHQU1YekIsRUFBeUI5aEMsVUFBVTJrQyx5QkFBMkIsU0FBVXBCLEdBQ3BFLElBQUlxQyxFQUFtQjlsQyxLQUFLeWtDLGNBQWNxQixpQkFDdENnQixFQUFZLEVBQ1pkLEVBQWtCaG1DLEtBQUsra0MsUUFBUXRCLEVBQVF2QyxHQUFVOEQsUUFDakQrQixFQUFtQi9tQyxLQUFLK2tDLFFBQVEva0MsS0FBS3dpQyxjQUFldEIsR0FBVThELFFBQzlEbkQsRUFBaUJHLEVBQXlCdG9CLFFBQVFtb0IsZUFldEQsT0FiSW1FLEdBQ0FjLEVBQVloQixFQUFpQmpoQixJQUFNN2tCLEtBQUswaUMsY0FBYzdkLElBQU1nZCxFQUN2RGtGLElBQ0RELEdBQWE5bUMsS0FBS3lrQyxjQUFjYyxXQUFXaGhCLFVBSS9DdWlCLEVBQ0loQixFQUFpQi9mLE9BQVMvbEIsS0FBSzBpQyxjQUFjM2MsT0FBUy9sQixLQUFLeWtDLGNBQWNjLFdBQVdoaEIsT0FBU3NkLEVBQzdGa0YsSUFDQUQsR0FBYTltQyxLQUFLeWtDLGNBQWNjLFdBQVdoaEIsU0FHNUN1aUIsR0FNWDlFLEVBQXlCOWhDLFVBQVVrbEMsMkJBQTZCLFNBQVUzQixHQUN0RSxJQUFJOEIsRUFBYXZsQyxLQUFLeWtDLGNBQWNjLFdBRWhDeUIsRUFBaUJobkMsS0FBSytrQyxRQUFRdEIsRUFBUXZDLEdBQVVnRSxPQUNoRHNCLEVBQXlCeG1DLEtBQUsra0MsUUFBUS9rQyxLQUFLd2lDLGNBQWV0QixHQUFVZ0UsT0FDeEUsR0FBSThCLEVBQWdCLENBQ2hCLElBQUlDLEVBQWNULEVBQXlCakIsRUFBV2poQixNQUFRdGtCLEtBQUswaUMsY0FBYzlkLEtBQU81a0IsS0FBSzBpQyxjQUFjNWMsTUFJM0csT0FBSTlsQixLQUFLbWlDLG1CQUFxQm5pQyxLQUFLb2lDLGlCQUN4QjZFLEdBQWVqbkMsS0FBS3lrQyxjQUFjbUIsYUFBYXRoQixNQUFRdGtCLEtBQUt5a0MsY0FBY2tCLFNBQVNyaEIsT0FFdkYyaUIsRUFFWCxPQUFPVCxFQUF5QmpCLEVBQVdqaEIsTUFBUXRrQixLQUFLMGlDLGNBQWM1YyxNQUFROWxCLEtBQUswaUMsY0FBYzlkLE1BTXJHb2QsRUFBeUI5aEMsVUFBVW9sQyx5QkFBMkIsU0FBVTdCLEdBQ3BFLElBQUk4QixFQUFhdmxDLEtBQUt5a0MsY0FBY2MsV0FDaENTLEVBQWtCaG1DLEtBQUsra0MsUUFBUXRCLEVBQVF2QyxHQUFVOEQsUUFDakRrQyxFQUF1QmxuQyxLQUFLK2tDLFFBQVEva0MsS0FBS3dpQyxjQUFldEIsR0FBVThELFFBUXRFLE9BTklnQixFQUNJa0IsRUFBdUIzQixFQUFXaGhCLE9BQVN2a0IsS0FBSzBpQyxjQUFjN2QsS0FBTzdrQixLQUFLMGlDLGNBQWMzYyxPQUd4Rm1oQixFQUF3QjNCLEVBQVdoaEIsT0FBU3ZrQixLQUFLMGlDLGNBQWMzYyxPQUFVL2xCLEtBQUswaUMsY0FBYzdkLEtBS3hHbWQsRUFBeUI5aEMsVUFBVXVsQyxpQ0FBbUMsU0FBVXBsQixHQUM1RSxJQUFJOG1CLEVBQUtsZ0IsRUFDTGtDLEVBQUtucEIsS0FBS3lrQyxjQUFlb0IsRUFBZTFjLEVBQUcwYyxhQUFjQyxFQUFtQjNjLEVBQUcyYyxpQkFDL0VyekIsRUFBUWpULE9BQU9rcEIsS0FBS3JJLEdBQ3hCLElBQ0ksSUFBSyxJQUFJK21CLEUxRHRSZCxTQUFrQnBsQyxHQUNyQixJQUFJcWxDLEVBQXNCLG1CQUFYdCtCLFFBQXlCL0csRUFBRStHLE9BQU9DLFVBQVd4SSxFQUFJLEVBQ2hFLE9BQUk2bUMsRUFBVUEsRUFBRXptQyxLQUFLb0IsR0FDZCxDQUNIZzlCLEtBQU0sV0FFRixPQURJaDlCLEdBQUt4QixHQUFLd0IsRUFBRXJCLFNBQVFxQixPQUFJLEdBQ3JCLENBQUU0RyxNQUFPNUcsR0FBS0EsRUFBRXhCLEtBQU04bUMsTUFBT3RsQyxLMERnUmpCdWxDLENBQWlCOTBCLEdBQVErMEIsRUFBWUosRUFBUXBJLFFBQVN3SSxFQUFVRixLQUFNRSxFQUFZSixFQUFRcEksT0FBUSxDQUNqSCxJQUFJbHZCLEVBQU8wM0IsRUFBVTUrQixNQUNqQkEsRUFBUXlYLEVBQVN2USxJQUFTLEVBRzlCbEgsR0FBU2s5QixFQUFpQmgyQixHQUdyQjlQLEtBQUtvaUMsbUJBQ08sUUFBVHR5QixFQUNBbEgsR0FBU2k5QixFQUFhdmYsRUFFUixXQUFUeFcsRUFDTGxILEdBQVNpOUIsRUFBYXZmLEVBRVIsU0FBVHhXLEVBQ0xsSCxHQUFTaTlCLEVBQWF4ZixFQUd0QnpkLEdBQVNpOUIsRUFBYXhmLEdBRzlCaEcsRUFBU3ZRLEdBQVFsSCxHQUd6QixNQUFPNitCLEdBQVNOLEVBQU0sQ0FBRU8sTUFBT0QsV0FFM0IsSUFDUUQsSUFBY0EsRUFBVUYsT0FBU3JnQixFQUFLbWdCLEVBQVFPLFNBQVMxZ0IsRUFBR3JtQixLQUFLd21DLFdBRTdELEdBQUlELEVBQUssTUFBTUEsRUFBSU8sU0FPckMxRixFQUF5QjloQyxVQUFVcWtDLG1CQUFxQixXQUNwRCxJQUFJOUssRUFBZ0J6NUIsS0FBS29hLFNBQVMwb0IsWUFDOUI4RSxFQUFnQjdqQyxTQUFTcWEsZUFBaUJwZSxLQUFLb2EsU0FBU3lvQixxQkFBcUI5K0IsU0FBU3FhLGdCQUN0RnFiLEdBQWlCbU8sSUFDakI1bkMsS0FBS29hLFNBQVNzYixnQkFHdEJzTSxFQUF5QjloQyxVQUFVNmtDLFFBQVUsU0FBVXRCLEVBQVFvRSxHQUMzRCxPQUFPNTNCLFFBQVF3ekIsRUFBU29FLElBRTVCN0YsRUFBeUI5aEMsVUFBVW1tQyxRQUFVLFNBQVU1QyxFQUFRb0UsR0FDM0QsT0FBT3BFLEVBQVNvRSxHQU1wQjdGLEVBQXlCOWhDLFVBQVUrakMsVUFBWSxTQUFVNkQsR0FDckQsTUFBc0IsaUJBQVJBLEdBQW9CQyxTQUFTRCxJQUV4QzlGLEdBQ1Q5bkI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0VoYkssTUFBTTh0QixXQUF3QjdvQixHQUNqQzNiLGNBQ0k0SCxTQUFTMUssV0FDVFYsS0FBS3FmLG1CQUFxQjJpQixHQUMxQmhpQyxLQUFLaW9DLFVBQVcsRUFDaEJqb0MsS0FBS2tvQyxXQUFZLEVBQ2pCbG9DLEtBQUttb0MsT0FBUyxLQUNkbm9DLEtBQUtvb0MsT0FBUSxFQUNicG9DLEtBQUtxbUIsRUFBSSxLQUNUcm1CLEtBQUtzbUIsRUFBSSxLQUVUdG1CLEtBQUtxb0MsT0FBUSxFQUNicm9DLEtBQUs4MUIsTUFBTyxFQUNaOTFCLEtBQUt5akMsT0FBUyxZQUNkempDLEtBQUtzb0Msa0JBQW9CLEtBQ3pCdG9DLEtBQUt1b0MsZUFBaUIsS0FDdEJ2b0MsS0FBS3dvQyxpQkFBbUIsT0FFNUJobEMsU0FDSSxNQUFNaWxDLEVBQVUsQ0FDWkMsMEJBQTJCMW9DLEtBQUtvb0MsTUFDaENGLFVBQWFsb0MsS0FBS2tvQyxXQUV0QixPQUFPaGdDLENBQUs7O29DQUVnQnVYLEdBQVNncEI7cUJBQ3hCem9DLEtBQUtvL0I7b0JBQ05wL0IsS0FBSzJvQztvQkFDTDNvQyxLQUFLNG9DOztjQUlyQnBsQyxnQkFDSSxPQUFPaEUsT0FBT2EsT0FBT2IsT0FBT2EsT0FBTyxHQUFJb2QsR0FBa0J6ZCxLQUFLbWdCLFVBQVcsQ0FBRXlpQixVQUFXLE1BQ3JFNWlDLEtBQUttb0MsT0FDZjVTLFlBQWEsS0FDWixNQUNNdlcsRUFBSyxJQUFJb2hCLFlBQVksU0FEZCxDQUFFeGhCLFNBQVMsRUFBTUMsVUFBVSxJQUV4QzdlLEtBQUs4MUIsTUFBTyxFQUNaOTFCLEtBQUttZ0IsUUFBUWpCLGNBQWNGLElBQzVCd1csV0FBWSxLQUNYLE1BQ014VyxFQUFLLElBQUlvaEIsWUFBWSxTQURkLENBQUV4aEIsU0FBUyxFQUFNQyxVQUFVLElBRXhDN2UsS0FBSzgxQixNQUFPLEVBQ1o5MUIsS0FBS21nQixRQUFRakIsY0FBY0YsSUFDNUI2akIscUJBQXNCLEtBQU0sRUFBT0UsTUFBTyxNQUNyQy9pQyxLQUFLbWdCLFNBQytDLFFBQTdDMG9CLGlCQUFpQjdvQyxLQUFLbWdCLFNBQVMyb0IsVUFHM0N2RixtQkFBcUJ3RixJQUNwQixNQUFNclgsRUFBTzF4QixLQUFLbWdCLFFBQ2xCLElBQUt1UixFQUNELE9BRUosTUFBTXNYLEVBQWUsR0R6Q3JDLFNBQWtDem1CLEVBQVcySSxHQUV6QyxRQURxQixJQUFqQkEsSUFBMkJBLEdBQWUsUUFDTi9vQixJQUFwQzQvQixJQUFpRDdXLEVBQWMsQ0FDL0QsSUFBSTZWLEVBQUt4ZSxFQUFVeGUsU0FBU3lFLGNBQWMsT0FDMUN1NUIsR0FBa0MsY0FBZWhCLEVBQUcveEIsTUFBUSxZQUFjLGtCQUU5RSxPQUFPK3lCLEdDbUM2QmtILENBQXlCN21DLGlCQUNqRHN2QixFQUFLMWlCLE1BQU15UixZQUFZdW9CLEVBQWNELElBQ3RDakcsVUFBVyxJQUNIdmtCLEdBQXdCdmUsTUFDaEN5MUIsVUFBVyxLQUNWLE1BQU13SyxFQUFvQi9oQixLQUNwQmdyQixFQUFhakosRUFBa0J0L0IsT0FDaEN1b0MsSUFDRGxwQyxLQUFLc29DLGtCQUFvQixNQUU3QnRvQyxLQUFLc29DLGtCQUFvQnJJLEVBQWtCaUosRUFBYSxJQUN6RHhULGFBQWMsS0FDUjExQixLQUFLc29DLG1CQUdOLFVBQVd0b0MsS0FBS3NvQyxtQkFDaEJ0b0MsS0FBS3NvQyxrQkFBa0J6VyxTQUU1Qm1SLG1CQUFvQixLQUNuQixNQUFNN2lCLEVBQVVuZ0IsS0FBS21nQixRQUNyQixPQUFLQSxFQUdFLENBQUVtRSxNQUFPbkUsRUFBUWdwQixZQUFhNWtCLE9BQVFwRSxFQUFRaXBCLGNBRjFDLENBQUU5a0IsTUFBTyxFQUFHQyxPQUFRLElBR2hDMGUsb0JBQXFCLEtBQ3BCLE1BQU1vRyxFQUFnQnJwQyxLQUFLbW9DLE9BQzNCLE9BQU9rQixFQUFnQkEsRUFBYzljLHdCQUEwQixNQUNoRTRXLGtCQUFtQixLQUNYLENBQ0g3ZSxNQUFPdmdCLFNBQVNrYixLQUFLcXFCLFlBQ3JCL2tCLE9BQVF4Z0IsU0FBU2tiLEtBQUt5QixlQUUzQndpQixvQkFBcUIsS0FDYixDQUNINWUsTUFBT2xpQixPQUFPbW5DLFdBQ2RobEIsT0FBUW5pQixPQUFPb25DLGNBRXBCcEcsZ0JBQWlCLEtBQ1QsQ0FDSC9jLEVBQUdqa0IsT0FBT29xQixZQUNWbEcsRUFBR2xrQixPQUFPeWUsY0FFZndpQixZQUFjaGpCLElBQ2IsTUFBTUYsRUFBVW5nQixLQUFLbWdCLFFBQ2hCQSxJQUdMQSxFQUFRblIsTUFBTTRWLEtBQU8sU0FBVXZFLEVBQVcsR0FBR0EsRUFBU3VFLFNBQVcsR0FDakV6RSxFQUFRblIsTUFBTThXLE1BQVEsVUFBV3pGLEVBQVcsR0FBR0EsRUFBU3lGLFVBQVksR0FDcEUzRixFQUFRblIsTUFBTTZWLElBQU0sUUFBU3hFLEVBQVcsR0FBR0EsRUFBU3dFLFFBQVUsR0FDOUQxRSxFQUFRblIsTUFBTStXLE9BQ1YsV0FBWTFGLEVBQVcsR0FBR0EsRUFBUzBGLFdBQWEsS0FDckR1ZCxhQUFlL2UsSUFDZCxNQUFNcEUsRUFBVW5nQixLQUFLbWdCLFFBQ2hCQSxJQUdMQSxFQUFRblIsTUFBTTgzQixVQUFZdmlCLE1BR3RDL2dCLFVBQVVva0IsR0FDRjVuQixLQUFLb2YsZUFDTHBmLEtBQUtvZixjQUFjZ1gsY0FBY3hPLEdBR3pDcGtCLFlBQVlva0IsSUFFb0IsSUFEZkEsRUFBSTlJLGVBQ1JoWixRQUFROUYsT0FDYkEsS0FBS20yQixRQUdiM3lCLG9CQUNJeEQsS0FBS3dvQyxpQkFBbUJ4b0MsS0FBS3lwQyxZQUFZdGEsS0FBS252QixNQUM5QytELFNBQVNrYixLQUFLeFQsaUJBQWlCLFFBQVN6TCxLQUFLd29DLGtCQUVqRGhsQyxzQkFDSU8sU0FBU2tiLEtBQUt2VCxvQkFBb0IsUUFBUzFMLEtBQUt3b0Msa0JBRXBEaGxDLG9CQUFvQmttQyxHQUNaQSxJQUNBMXBDLEtBQUt1b0MsZUFBaUJ2b0MsS0FBS21vQyxPQUMzQm5vQyxLQUFLbW9DLE9BQVMsTUFFYnVCLEdBQWUxcEMsS0FBS21vQyxTQUFVbm9DLEtBQUt1b0MsaUJBQ3BDdm9DLEtBQUttb0MsT0FBU25vQyxLQUFLdW9DLGdCQUczQi9rQyxRQUNJeEQsS0FBSzgxQixNQUFPLEVBRWhCdHlCLE9BQ0l4RCxLQUFLODFCLE1BQU8sR0FHcEJoMUIsRUFBVyxDQUNQZ1YsR0FBTSxzQkFDUGt5QixHQUFnQjluQyxVQUFXLGVBQVcsR0FDekNZLEVBQVcsQ0FDUGdWLEdBQU0sU0FDUGt5QixHQUFnQjluQyxVQUFXLG1CQUFlLEdBQzdDWSxFQUFXLENBQ1A0VSxHQUFTLENBQUVoUSxLQUFNdUssVUFDakIrTSxJQUFTLFNBQVUwc0IsR0FDWDFwQyxLQUFLb2YsZ0JBQWtCcGYsS0FBS29vQyxRQUM1QnBvQyxLQUFLb2YsY0FBY3drQixhQUFhOEYsR0FDaEMxcEMsS0FBSzJwQyxvQkFBb0JELFFBR2xDMUIsR0FBZ0I5bkMsVUFBVyxnQkFBWSxHQUMxQ1ksRUFBVyxDQUNQNFUsR0FBUyxDQUFFaFEsS0FBTXVLLFdBQ2xCKzNCLEdBQWdCOW5DLFVBQVcsaUJBQWEsR0FDM0NZLEVBQVcsQ0FDUDRVLEdBQVMsQ0FBRWhRLEtBQU1sRyxTQUNqQndkLElBQVMsU0FBVTRzQixFQUFXQyxHQUN0QkEsSUFDQUEsRUFBVTc2QixNQUFNcVIsU0FBVyxJQUUzQnVwQixJQUNBQSxFQUFVNTZCLE1BQU1xUixTQUFXLGdCQUdwQzJuQixHQUFnQjluQyxVQUFXLGNBQVUsR0FDeENZLEVBQVcsQ0FDUDRVLEdBQVMsQ0FBRWhRLEtBQU11SyxVQUNqQitNLElBQVMsU0FBVThzQixHQUNYOXBDLEtBQUtvZixnQkFBa0JwZixLQUFLaW9DLFdBQzVCam9DLEtBQUtvZixjQUFjd2tCLGFBQWFrRyxHQUNoQzlwQyxLQUFLMnBDLG9CQUFvQkcsUUFHbEM5QixHQUFnQjluQyxVQUFXLGFBQVMsR0FDdkNZLEVBQVcsQ0FDUDRVLEdBQVMsQ0FBRWhRLEtBQU0wSyxTQUNqQjRNLElBQVMsU0FBVXBVLEdBQ1g1SSxLQUFLb2YsZUFBNEIsT0FBWHBmLEtBQUtzbUIsR0FBd0IsT0FBVjFkLElBQ3pDNUksS0FBS29mLGNBQWM0a0Isb0JBQW9CcDdCLEVBQU81SSxLQUFLc21CLEdBQ25EdG1CLEtBQUtvZixjQUFjc2tCLGdCQUFnQixDQUFFOWUsS0FBTWhjLEVBQU9pYyxJQUFLN2tCLEtBQUtzbUIsU0FHckUwaEIsR0FBZ0I5bkMsVUFBVyxTQUFLLEdBQ25DWSxFQUFXLENBQ1A0VSxHQUFTLENBQUVoUSxLQUFNMEssU0FDakI0TSxJQUFTLFNBQVVwVSxHQUNYNUksS0FBS29mLGVBQTRCLE9BQVhwZixLQUFLcW1CLEdBQXdCLE9BQVZ6ZCxJQUN6QzVJLEtBQUtvZixjQUFjNGtCLG9CQUFvQmhrQyxLQUFLcW1CLEVBQUd6ZCxHQUMvQzVJLEtBQUtvZixjQUFjc2tCLGdCQUFnQixDQUFFOWUsS0FBTTVrQixLQUFLcW1CLEVBQUd4QixJQUFLamMsU0FHakVvL0IsR0FBZ0I5bkMsVUFBVyxTQUFLLEdBQ25DWSxFQUFXLENBQ1A0VSxHQUFTLENBQUVoUSxLQUFNdUssVUFDakIrTSxJQUFTLFNBQVVwVSxHQUNYNUksS0FBS29mLGVBQ0xwZixLQUFLb2YsY0FBYzhrQixhQUFhdDdCLE9BR3pDby9CLEdBQWdCOW5DLFVBQVcsYUFBUyxHQUN2Q1ksRUFBVyxDQUNQNFUsR0FBUyxDQUFFaFEsS0FBTXVLLFFBQVNVLFNBQVMsSUFDbkNxTSxJQUFTLFNBQVUrWSxHQUNYLzFCLEtBQUtvZixnQkFDRDJXLEVBQ0EvMUIsS0FBS29mLGNBQWMwVyxPQUduQjkxQixLQUFLb2YsY0FBYytXLGFBSWhDNlIsR0FBZ0I5bkMsVUFBVyxZQUFRLEdBQ3RDWSxFQUFXLENBQ1A0VSxHQUFTLENBQUVoUSxLQUFNMUMsU0FDakJnYSxJQUFTLFNBQVVwVSxHQUNYNUksS0FBS29mLGdCQUNEeFcsRUFDQTVJLEtBQUtvZixjQUFjb2tCLGdCQUFnQnVHLEdBQVduaEMsSUFHOUM1SSxLQUFLb2YsY0FBY29rQixnQkFBZ0J1RyxHQUFXdEgsZ0JBSTNEdUYsR0FBZ0I5bkMsVUFBVyxjQUFVOzs7Ozs7Ozs7Ozs7Ozs7OztBQzFPeEMsTUFDYThPLEdBQVE2SCxFQUFJOzs7Ozs7Ozs7Ozs7Ozs7O0dDR3pCLElBQUltekIsR0FBYyxjQUEwQmhDLEtBRTVDZ0MsR0FBWW43QixPQUFTRyxHQUNyQmc3QixHQUFjbHBDLEVBQVcsQ0FDckJnVSxFQUFjLHFCQUNmazFCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0hILElBZUlDLEdBZkE3d0IsR0FBYSxDQUNiOHdCLHdCQUF5QiwwQkFDekJDLHFCQUFzQiw0QkFDdEJubkIsS0FBTSxZQUVOM2UsR0FBVSxDQUNWK2xDLGtCQUFtQixlQUNuQkMsbUJBQW9CLGdCQUNwQmxTLGtCQUFtQix5QkFDbkJtUyxjQUFlLFlBQ2ZDLGVBQWdCLG9CQUVoQjd3QixHQUFVLENBQ1Y4d0Isa0JBQW1CLElBR3ZCLFNBQVdQLEdBQ1BBLEVBQWtCQSxFQUF3QixLQUFJLEdBQUssT0FDbkRBLEVBQWtCQSxFQUE2QixVQUFJLEdBQUssWUFDeERBLEVBQWtCQSxFQUE4QixXQUFJLEdBQUssYUFDekRBLEVBQWtCQSxFQUE2QixVQUFJLEdBQUssWUFKNUQsQ0FLR0EsS0FBc0JBLEdBQW9COzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2hCN0MsSUFBSVEsR0FBbUMsU0FBVWp3QixHQUU3QyxTQUFTaXdCLEVBQWtCdHdCLEdBQ3ZCLElBQUlxQixFQUFRaEIsRUFBTzVaLEtBQUtaLEtBQU15YSxFQUFpQixHQUFJZ3dCLEVBQWtCL3ZCLGVBQWdCUCxLQUFhbmEsS0FHbEcsT0FGQXdiLEVBQU04bUIsMEJBQTRCLEVBQ2xDOW1CLEVBQU1rdkIsbUJBQXFCVCxHQUFrQlUsVUFDdENudkIsRUErSVgsT0FwSkFiLEVBQWtCOHZCLEVBQW1CandCLEdBT3JDaGIsT0FBT2dDLGVBQWVpcEMsRUFBbUIsYUFBYyxDQUNuRDE5QixJQUFLLFdBQ0QsT0FBT3FNLElBRVg3RyxZQUFZLEVBQ1pELGNBQWMsSUFFbEI5UyxPQUFPZ0MsZUFBZWlwQyxFQUFtQixVQUFXLENBQ2hEMTlCLElBQUssV0FDRCxPQUFPMUksSUFFWGtPLFlBQVksRUFDWkQsY0FBYyxJQUVsQjlTLE9BQU9nQyxlQUFlaXBDLEVBQW1CLFVBQVcsQ0FDaEQxOUIsSUFBSyxXQUNELE9BQU8yTSxJQUVYbkgsWUFBWSxFQUNaRCxjQUFjLElBRWxCOVMsT0FBT2dDLGVBQWVpcEMsRUFBbUIsaUJBQWtCLENBSXZEMTlCLElBQUssV0FFRCxNQUFPLENBQ0g2OUIseUJBQTBCLGFBQzFCQyw4QkFBK0IsYUFDL0JDLDZCQUE4QixhQUM5QkMsa0NBQW1DLGFBQ25DQyxxQkFBc0IsV0FBYyxPQUFPLEdBQzNDQyxhQUFjLGFBQ2RDLGdCQUFpQixXQUFjLE9BQVEsR0FDdkN2UixlQUFnQixhQUNoQndSLGlCQUFrQixXQUFjLE9BQU8sR0FDdkM5UixpQkFBa0IsYUFDbEIrUixjQUFlLGFBQ2ZDLGdDQUFpQyxXQUFjLE9BQVEsR0FDdkRDLHdCQUF5QixXQUFjLE9BQU8sS0FJdEQvNEIsWUFBWSxFQUNaRCxjQUFjLElBRWxCbTRCLEVBQWtCdnFDLFVBQVVvYSxRQUFVLFdBQzlCdGEsS0FBS3NpQywyQkFDTDlsQixhQUFheGMsS0FBS3NpQywyQkFFdEJ0aUMsS0FBS29hLFNBQVM2d0IsZ0JBRWxCUixFQUFrQnZxQyxVQUFVazJCLGNBQWdCLFNBQVV4TyxHQUNsRCxJQUFJM21CLEVBQU0ybUIsRUFBSTNtQixJQUFLaW9CLEVBQVV0QixFQUFJc0IsU0FDYixRQUFSam9CLEdBQTZCLElBQVppb0IsSUFFekJscEIsS0FBS29hLFNBQVM2d0IsY0FBcUMsSUFHM0RSLEVBQWtCdnFDLFVBQVVxckMsaUJBQW1CLFNBQVVDLEdBQ3JELElBQUlod0IsRUFBUXhiLEtBQ1JtRSxFQUFRbkUsS0FBS29hLFNBQVM4d0IsZ0JBQWdCTSxHQUN0Q3JuQyxFQUFRLElBR1puRSxLQUFLb2EsU0FBU3VmLGVBQWUsQ0FBRXgxQixNQUFPQSxJQUN0Q25FLEtBQUtvYSxTQUFTNndCLGVBRWRqckMsS0FBS3NpQywwQkFBNEJobUIsWUFBVyxXQUV4QyxJQUFJbXZCLEVBQWtCandCLEVBQU1wQixTQUFTOHdCLGdCQUFnQk0sR0FDakRod0IsRUFBTXBCLFNBQVNreEIsd0JBQXdCRyxJQUN2Q2p3QixFQUFNOGtCLGlCQUFpQm1MLEtBRTVCekosR0FBeUJ0b0IsUUFBUWtvQiw2QkFFeEM2SSxFQUFrQnZxQyxVQUFVd3JDLHdCQUEwQixXQUNsRCxPQUFRMXJDLEtBQUswcUMsb0JBQ1QsS0FBS1QsR0FBa0IwQixXQUNuQjNyQyxLQUFLb2EsU0FBU2lmLGlCQUFpQixHQUMvQixNQUNKLEtBQUs0USxHQUFrQjJCLFVBQ25CNXJDLEtBQUtvYSxTQUFTaWYsaUJBQWlCcjVCLEtBQUtvYSxTQUFTK3dCLG1CQUFxQixHQUNsRSxNQUNKLEtBQUtsQixHQUFrQjRCLEtBRW5CLE1BQ0osUUFDSTdyQyxLQUFLb2EsU0FBU2d4QixrQkFTMUJYLEVBQWtCdnFDLFVBQVU0ckMscUJBQXVCLFNBQVVDLEdBQ3pEL3JDLEtBQUswcUMsbUJBQXFCcUIsR0FNOUJ0QixFQUFrQnZxQyxVQUFVb2dDLGlCQUFtQixTQUFVbjhCLEdBRXJELEdBREFuRSxLQUFLZ3NDLGdCQUFnQjduQyxJQUNoQm5FLEtBQUtvYSxTQUFTa3hCLHdCQUF3Qm5uQyxHQUN2QyxNQUFNLElBQUkrRyxNQUFNLDZEQUVwQixJQUFJK2dDLEVBQW9CanNDLEtBQUtvYSxTQUFTaXhCLGdDQUFnQ2xuQyxHQUNsRThuQyxHQUFxQixJQUNyQmpzQyxLQUFLb2EsU0FBUzJ3QixrQ0FBa0NrQixFQUFtQjVuQyxHQUFRK2xDLG1CQUMzRXBxQyxLQUFLb2EsU0FBU3l3Qiw4QkFBOEJvQixFQUFtQjd5QixHQUFXOHdCLDBCQUU5RWxxQyxLQUFLb2EsU0FBU3d3Qix5QkFBeUJ6bUMsRUFBT2lWLEdBQVc4d0IseUJBQ3pEbHFDLEtBQUtvYSxTQUFTMHdCLDZCQUE2QjNtQyxFQUFPRSxHQUFRK2xDLGtCQUFtQixTQU9qRkssRUFBa0J2cUMsVUFBVWdzQyxXQUFhLFNBQVUvbkMsRUFBTzgzQixHQUN0RGo4QixLQUFLZ3NDLGdCQUFnQjduQyxHQUNqQjgzQixHQUNBajhCLEtBQUtvYSxTQUFTeXdCLDhCQUE4QjFtQyxFQUFPZ29DLElBQ25EbnNDLEtBQUtvYSxTQUFTMHdCLDZCQUE2QjNtQyxFQUFPRSxHQUFRZ21DLG1CQUFvQixXQUc5RXJxQyxLQUFLb2EsU0FBU3d3Qix5QkFBeUJ6bUMsRUFBT2dvQyxJQUM5Q25zQyxLQUFLb2EsU0FBUzB3Qiw2QkFBNkIzbUMsRUFBT0UsR0FBUWdtQyxtQkFBb0IsVUFHdEZJLEVBQWtCdnFDLFVBQVU4ckMsZ0JBQWtCLFNBQVU3bkMsR0FDcEQsSUFBSWlvQyxFQUFXcHNDLEtBQUtvYSxTQUFTK3dCLG1CQUU3QixLQURxQmhuQyxHQUFTLEdBQUtBLEVBQVFpb0MsR0FFdkMsTUFBTSxJQUFJbGhDLE1BQU0sd0RBR2pCdS9CLEdBQ1R2d0IsSUNuSkssTUFBTW15QixXQUFpQmx0QixHQUMxQjNiLGNBQ0k0SCxTQUFTMUssV0FDVFYsS0FBS3FmLG1CQUFxQm9yQixHQUMxQnpxQyxLQUFLc3NDLGFBQWUsS0FDcEJ0c0MsS0FBS21vQyxPQUFTLEtBQ2Rub0MsS0FBSzgxQixNQUFPLEVBQ1o5MUIsS0FBS3FvQyxPQUFRLEVBQ2Jyb0MsS0FBS2crQixXQUFZLEVBQ2pCaCtCLEtBQUtrK0IsVUFBWSxPQUNqQmwrQixLQUFLeWpDLE9BQVMsWUFDZHpqQyxLQUFLcW1CLEVBQUksS0FDVHJtQixLQUFLc21CLEVBQUksS0FDVHRtQixLQUFLaW9DLFVBQVcsRUFDaEJqb0MsS0FBSys5QixPQUFRLEVBQ2IvOUIsS0FBSzg5QixhQUFjLEVBQ25COTlCLEtBQUtvb0MsT0FBUSxFQUNicG9DLEtBQUt1c0MscUJBQXNCLEVBQzNCdnNDLEtBQUtrb0MsV0FBWSxFQUNqQmxvQyxLQUFLd3NDLGFBQWUsWUFFeEJDLGtCQUNJLE9BQUt6c0MsS0FBS3NzQyxhQUlIdHNDLEtBQUtzc0MsY0FIUnRzQyxLQUFLc3NDLGFBQWV0c0MsS0FBS2dXLFdBQVd0RyxjQUFjLFlBQzNDMVAsS0FBS3NzQyxjQUlwQjVOLFlBQ0ksTUFBTStOLEVBQWN6c0MsS0FBS3lzQyxZQUN6QixPQUFJQSxFQUNPQSxFQUFZL04sTUFFaEIsR0FFWHY2QixZQUNJLE1BQU1zb0MsRUFBY3pzQyxLQUFLeXNDLFlBQ3pCLE9BQUlBLEVBQ09BLEVBQVl0b0MsT0FFZixFQUVaMDZCLGVBQ0ksTUFBTTROLEVBQWN6c0MsS0FBS3lzQyxZQUN6QixPQUFJQSxFQUNPQSxFQUFZNU4sU0FFaEIsS0FFWHI3QixTQUNJLE1BQU15NkIsRUFBK0IsU0FBbkJqK0IsS0FBS2srQixVQUF1QixXQUFhLFNBQzNELE9BQU9oMkIsQ0FBSzs7cUJBRUNsSSxLQUFLODFCO29CQUNOOTFCLEtBQUttb0M7a0JBQ1Bub0MsS0FBSzgxQjttQkFDSjkxQixLQUFLcW9DO29CQUNKcm9DLEtBQUt5akM7ZUFDVnpqQyxLQUFLcW1CO2VBQ0xybUIsS0FBS3NtQjtzQkFDRXRtQixLQUFLaW9DO21CQUNSam9DLEtBQUtvb0M7dUJBQ0Rwb0MsS0FBS2tvQzs7b0JBRVJsb0MsS0FBSzBzQztvQkFDTDFzQyxLQUFLMnNDO3FCQUNKM3NDLEtBQUtvL0I7Ozt5QkFHRHAvQixLQUFLaytCO3FCQUNUbCtCLEtBQUsrOUI7O3lCQUVERTt5QkFDQWorQixLQUFLZytCOzJCQUNIaCtCLEtBQUs4OUI7c0JBQ1Y5OUIsS0FBSzRzQzs7OzJCQUt2QnBwQyxnQkFDSSxNQUFPLENBQ0hvbkMseUJBQTBCLENBQUN6bUMsRUFBT3VaLEtBQzlCLE1BQU0rdUIsRUFBY3pzQyxLQUFLeXNDLFlBQ3pCLElBQUtBLEVBQ0QsT0FFSixNQUFNL29DLEVBQVUrb0MsRUFBWS9OLE1BQU12NkIsR0FDN0JULElBR2EsNEJBQWRnYSxFQUNJMWQsS0FBS3VzQyxzQkFBd0I3b0MsRUFBUW03QixVQUNyQzROLEVBQVlJLE9BQU8xb0MsR0FBTyxHQUk5QlQsRUFBUWlhLFVBQVVoUCxJQUFJK08sS0FHOUJtdEIsOEJBQStCLENBQUMxbUMsRUFBT3VaLEtBQ25DLE1BQU0rdUIsRUFBY3pzQyxLQUFLeXNDLFlBQ3pCLElBQUtBLEVBQ0QsT0FFSixNQUFNL29DLEVBQVUrb0MsRUFBWS9OLE1BQU12NkIsR0FDN0JULElBR2EsNEJBQWRnYSxFQUNJaGEsRUFBUW03QixVQUNSNE4sRUFBWUksT0FBTzFvQyxHQUFPLEdBSTlCVCxFQUFRaWEsVUFBVUMsT0FBT0YsS0FHakNvdEIsNkJBQThCLENBQUMzbUMsRUFBT3lOLEVBQU1oSixLQUN4QyxNQUFNNmpDLEVBQWN6c0MsS0FBS3lzQyxZQUN6QixJQUFLQSxFQUNELE9BRUosTUFBTS9vQyxFQUFVK29DLEVBQVkvTixNQUFNdjZCLEdBQzdCVCxHQUdMQSxFQUFRNkYsYUFBYXFJLEVBQU1oSixJQUUvQm1pQyxrQ0FBbUMsQ0FBQzVtQyxFQUFPeU4sS0FDdkMsTUFBTTY2QixFQUFjenNDLEtBQUt5c0MsWUFDekIsSUFBS0EsRUFDRCxPQUVKLE1BQU0vb0MsRUFBVStvQyxFQUFZL04sTUFBTXY2QixHQUM3QlQsR0FHTEEsRUFBUTRCLGdCQUFnQnNNLElBRTVCbzVCLHFCQUFzQixDQUFDdG5DLEVBQVNnYSxJQUFjaGEsRUFBUWlhLFVBQVVFLFNBQVNILEdBQ3pFdXRCLGFBQWMsS0FDVmpyQyxLQUFLODFCLE1BQU8sR0FFaEJvVixnQkFBa0J4bkMsSUFDZCxNQUFNK29DLEVBQWN6c0MsS0FBS3lzQyxZQUN6QixPQUFJQSxFQUNPQSxFQUFZL04sTUFBTTU0QixRQUFRcEMsSUFFN0IsR0FFWmkyQixlQUFnQixPQUNoQndSLGlCQUFrQixLQUNkLE1BQU1zQixFQUFjenNDLEtBQUt5c0MsWUFDekIsT0FBS0EsRUFHRUEsRUFBWS9OLE1BQU0vOUIsT0FGZCxHQUlmMDRCLGlCQUFtQmwxQixJQUNmLE1BQU1zb0MsRUFBY3pzQyxLQUFLeXNDLFlBQ3pCLElBQUtBLEVBQ0QsT0FFSixNQUFNL29DLEVBQVUrb0MsRUFBWS9OLE1BQU12NkIsR0FDOUJULEdBQ0FBLEVBQVFtdUIsU0FHaEJ1WixjQUFlLEtBQ1BwckMsS0FBS3lzQyxhQUNMenNDLEtBQUt5c0MsWUFBWTVhLFNBR3pCd1osZ0NBQWtDbG5DLElBQzlCLE1BQU1zb0MsRUFBY3pzQyxLQUFLeXNDLFlBQ3pCLElBQUtBLEVBQ0QsT0FBUSxFQUVaLE1BQU1LLEVBQWlCTCxFQUFZL04sTUFBTXY2QixHQUN6QyxJQUFLMm9DLElBQW1CQSxFQUFlQyxNQUNuQyxPQUFRLEVBRVosSUFBSyxJQUFJdnNDLEVBQUksRUFBR0EsRUFBSWlzQyxFQUFZL04sTUFBTS85QixPQUFRSCxJQUFLLENBQy9DLEdBQUlBLElBQU0yRCxFQUNOLFNBRUosTUFBTThyQixFQUFVd2MsRUFBWS9OLE1BQU1sK0IsR0FDbEMsR0FBSXl2QixFQUFRNE8sVUFBWTVPLEVBQVE4YyxRQUFVRCxFQUFlQyxNQUNyRCxPQUFPdnNDLEVBR2YsT0FBUSxHQUVaOHFDLHdCQUEwQm5uQyxJQUN0QixNQUFNc29DLEVBQWN6c0MsS0FBS3lzQyxZQUN6QixJQUFLQSxFQUNELE9BQU8sRUFFWCxNQUFNSyxFQUFpQkwsRUFBWS9OLE1BQU12NkIsR0FDekMsUUFBSzJvQyxHQUdFQSxFQUFlMWdCLGFBQWEsV0FJL0M1b0IsVUFBVW9rQixHQUNGNW5CLEtBQUtvZixlQUNMcGYsS0FBS29mLGNBQWNnWCxjQUFjeE8sR0FHekNwa0IsU0FBU29rQixHQUNMLE1BQU02a0IsRUFBY3pzQyxLQUFLeXNDLFlBQ3pCLEdBQUl6c0MsS0FBS29mLGVBQWlCcXRCLEVBQWEsQ0FDbkMsTUFBTXRvQyxFQUFReWpCLEVBQUlpWSxPQUFPMTdCLE1BQ25CNDhCLEVBQUswTCxFQUFZL04sTUFBTXY2QixHQUN6QjQ4QixHQUNBL2dDLEtBQUtvZixjQUFjbXNCLGlCQUFpQnhLLElBSWhEdjlCLFdBQ0l4RCxLQUFLODFCLE1BQU8sRUFDUjkxQixLQUFLb2YsZUFDTHBmLEtBQUtvZixjQUFjc3NCLDBCQUczQmxvQyxXQUNJeEQsS0FBSzgxQixNQUFPLEVBRWhCdHlCLE9BQU9XLEdBQ0gsTUFBTXNvQyxFQUFjenNDLEtBQUt5c0MsWUFDckJBLEdBQ0FBLEVBQVkzTixPQUFPMzZCLEdBRzNCWCxRQUNJeEQsS0FBSzgxQixNQUFPLEVBRWhCdHlCLE9BQ0l4RCxLQUFLODFCLE1BQU8sRUFFaEJ0eUIsT0FBTys4QixHQUFjLEdBQ2pCLE1BQU1rTSxFQUFjenNDLEtBQUt5c0MsWUFDckJBLEdBQ0FBLEVBQVk5bUIsT0FBTzRhLElBSS9Cei9CLEVBQVcsQ0FDUGdWLEdBQU0sY0FDUHUyQixHQUFTbnNDLFVBQVcsZUFBVyxHQUNsQ1ksRUFBVyxDQUNQZ1YsR0FBTSxTQUNQdTJCLEdBQVNuc0MsVUFBVyxtQkFBZSxHQUN0Q1ksRUFBVyxDQUNQNFUsR0FBUyxDQUFFaFEsS0FBTWxHLFVBQ2xCNnNDLEdBQVNuc0MsVUFBVyxjQUFVLEdBQ2pDWSxFQUFXLENBQ1A0VSxHQUFTLENBQUVoUSxLQUFNdUssUUFBU1UsU0FBUyxLQUNwQzA3QixHQUFTbnNDLFVBQVcsWUFBUSxHQUMvQlksRUFBVyxDQUNQNFUsR0FBUyxDQUFFaFEsS0FBTXVLLFdBQ2xCbzhCLEdBQVNuc0MsVUFBVyxhQUFTLEdBQ2hDWSxFQUFXLENBQ1A0VSxHQUFTLENBQUVoUSxLQUFNdUssV0FDbEJvOEIsR0FBU25zQyxVQUFXLGlCQUFhLEdBQ3BDWSxFQUFXLENBQ1A0VSxHQUFTLENBQUVoUSxLQUFNMUMsVUFDbEJxcEMsR0FBU25zQyxVQUFXLGlCQUFhLEdBQ3BDWSxFQUFXLENBQ1A0VSxHQUFTLENBQUVoUSxLQUFNMUMsVUFDbEJxcEMsR0FBU25zQyxVQUFXLGNBQVUsR0FDakNZLEVBQVcsQ0FDUDRVLEdBQVMsQ0FBRWhRLEtBQU0wSyxVQUNsQmk4QixHQUFTbnNDLFVBQVcsU0FBSyxHQUM1QlksRUFBVyxDQUNQNFUsR0FBUyxDQUFFaFEsS0FBTTBLLFVBQ2xCaThCLEdBQVNuc0MsVUFBVyxTQUFLLEdBQzVCWSxFQUFXLENBQ1A0VSxHQUFTLENBQUVoUSxLQUFNdUssV0FDbEJvOEIsR0FBU25zQyxVQUFXLGdCQUFZLEdBQ25DWSxFQUFXLENBQ1A0VSxHQUFTLENBQUVoUSxLQUFNdUssV0FDbEJvOEIsR0FBU25zQyxVQUFXLGFBQVMsR0FDaENZLEVBQVcsQ0FDUDRVLEdBQVMsQ0FBRWhRLEtBQU11SyxXQUNsQm84QixHQUFTbnNDLFVBQVcsbUJBQWUsR0FDdENZLEVBQVcsQ0FDUDRVLEdBQVMsQ0FBRWhRLEtBQU11SyxXQUNsQm84QixHQUFTbnNDLFVBQVcsYUFBUyxHQUNoQ1ksRUFBVyxDQUNQNFUsR0FBUyxDQUFFaFEsS0FBTXVLLFdBQ2xCbzhCLEdBQVNuc0MsVUFBVywyQkFBdUIsR0FDOUNZLEVBQVcsQ0FDUDRVLEdBQVMsQ0FBRWhRLEtBQU11SyxXQUNsQm84QixHQUFTbnNDLFVBQVcsaUJBQWEsR0FDcENZLEVBQVcsQ0FDUDRVLEdBQVMsQ0FBRWhRLEtBQU0xQyxTQUNqQmdhLElBQVMsU0FBVXBVLEdBQ1g1SSxLQUFLb2YsZUFDTHBmLEtBQUtvZixjQUFjMHNCLHFCQUFxQmtCLEdBQXNCcGtDLFFBR3ZFeWpDLEdBQVNuc0MsVUFBVyxvQkFBZ0I7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDL1R2QyxNQUNhOE8sR0FBUTZILEVBQUk7Ozs7Ozs7Ozs7Ozs7Ozs7R0NLekIsSUFBSW8yQixHQUFPLGNBQW1CWixLQUU5QlksR0FBS3ArQixPQUFTRyxHQUNkaStCLEdBQU9uc0MsRUFBVyxDQUNkZ1UsRUFBYyxhQUNmbTRCOzs7Ozs7Ozs7Ozs7Ozs7OztBQ0pJLE1BQU1DLFdBQXFCNTFCLEdBQzlCOVQsY0FDSTRILFNBQVMxSyxXQUNUVixLQUFLNEksTUFBUSxHQUNiNUksS0FBSytzQyxNQUFRLEtBQ2Ivc0MsS0FBS20vQixVQUFZLEVBQ2pCbi9CLEtBQUs0c0IsVUFBVyxFQUNoQjVzQixLQUFLbXRDLFNBQVUsRUFDZm50QyxLQUFLcWdDLFdBQVksRUFDakJyZ0MsS0FBS290QyxRQUFVLEtBQ2ZwdEMsS0FBS3F0QyxTQUFVLEVBQ2ZydEMsS0FBS3ErQixnQkFBaUIsRUFDdEJyK0IsS0FBSzYrQixVQUFXLEVBQ2hCNytCLEtBQUtzdEMsYUFBZXR0QyxLQUFLdXRDLFFBQVFwZSxLQUFLbnZCLE1BRTFDcUosV0FDSSxNQUFNNEYsRUFBY2pQLEtBQUtpUCxZQUN6QixPQUFPQSxFQUFjQSxFQUFZdStCLE9BQVMsR0FFOUNocUMsU0FDSSxNQUFNNkYsRUFBT3JKLEtBQUt5dEMsYUFDWkwsRUFBVXB0QyxLQUFLb3RDLFFBQVVwdEMsS0FBSzB0QyxnQkFBa0J4bEMsQ0FBSyxHQUNyRHlsQyxFQUFPM3RDLEtBQUtxdEMsUUFBVXJ0QyxLQUFLNHRDLGFBQWUxbEMsQ0FBSyxHQUNyRCxPQUFPQSxDQUFLO1FBQ1prbEM7UUFDQS9qQztRQUNBc2tDLElBRUpucUMsZ0JBQ0ksT0FBTzBFLENBQUs7OztlQUtoQjFFLGFBQ0ksT0FBTzBFLENBQUs7OztlQUtoQjFFLGFBQ0ksTUFBTXFxQyxFQUFRN3RDLEtBQUttdEMsUUFBVW50QyxLQUFLOHRDLGdCQUFrQjl0QyxLQUFLK3RDLG1CQUN6RCxPQUFPN2xDLENBQUs7O1VBRVYybEM7ZUFHTnJxQyxtQkFDSSxPQUFPMEUsQ0FBSyxnQkFFaEIxRSxnQkFDSSxPQUFPMEUsQ0FBSzs7Ozs7OztNQVNoQjFFLFVBQ0l4RCxLQUFLZ3VDLG1CQUFrQixHQUFRaHVDLEtBQUs2K0IsVUFFeENyN0Isa0JBQWtCeXFDLEVBQVNwUCxHQUN2QixNQUFNcVAsRUFBVyxJQUFJOU4sWUFBWSxtQkFBb0IsQ0FBRXhoQixTQUFTLEVBQU1DLFVBQVUsRUFBTWdoQixPQUFRLENBQUVvTyxRQUFBQSxFQUFTcFAsU0FBQUEsS0FDekc3K0IsS0FBS2tmLGNBQWNndkIsR0FFdkIxcUMsb0JBQ0k0SCxNQUFNbU4sb0JBQ0R2WSxLQUFLcStCLGdCQUNOcitCLEtBQUttdUMsZ0JBQWdCLGlCQUFpQixHQUUxQ251QyxLQUFLeUwsaUJBQWlCLFFBQVN6TCxLQUFLc3RDLGNBRXhDOXBDLHVCQUNJNEgsTUFBTStWLHVCQUNObmhCLEtBQUswTCxvQkFBb0IsUUFBUzFMLEtBQUtzdEMsY0FFM0M5cEMsZUFDSXhELEtBQUtrZixjQUFjLElBQUlQLE1BQU0scUJBQXNCLENBQUVDLFNBQVMsRUFBTUMsVUFBVSxLQUM5RWdOLEdBQVcsQ0FBRUcsWUFBYWhzQixLQUFNZ29CLFdBQVcsS0FHbkRsbkIsRUFBVyxDQUNQZ1YsR0FBTSxTQUNQbzNCLEdBQWFodEMsVUFBVyxtQkFBZSxHQUMxQ1ksRUFBVyxDQUNQNFUsR0FBUyxDQUFFaFEsS0FBTTFDLFVBQ2xCa3FDLEdBQWFodEMsVUFBVyxhQUFTLEdBQ3BDWSxFQUFXLENBQ1A0VSxHQUFTLENBQUVoUSxLQUFNMUMsT0FBUTJOLFNBQVMsS0FDbkN1OEIsR0FBYWh0QyxVQUFXLGFBQVMsR0FDcENZLEVBQVcsQ0FDUDRVLEdBQVMsQ0FBRWhRLEtBQU0wSyxPQUFRTyxTQUFTLEtBQ25DdThCLEdBQWFodEMsVUFBVyxnQkFBWSxHQUN2Q1ksRUFBVyxDQUNQNFUsR0FBUyxDQUFFaFEsS0FBTXVLLFFBQVNVLFNBQVMsSUFDbkNxTSxJQUFTLFNBQVVwVSxHQUNYQSxFQUNBNUksS0FBS3VKLGFBQWEsZ0JBQWlCLFFBR25DdkosS0FBS3VKLGFBQWEsZ0JBQWlCLGFBRzVDMmpDLEdBQWFodEMsVUFBVyxnQkFBWSxHQUN2Q1ksRUFBVyxDQUNQNFUsR0FBUyxDQUFFaFEsS0FBTXVLLFFBQVNVLFNBQVMsS0FDcEN1OEIsR0FBYWh0QyxVQUFXLGVBQVcsR0FDdENZLEVBQVcsQ0FDUDRVLEdBQVMsQ0FBRWhRLEtBQU11SyxRQUFTVSxTQUFTLEtBQ3BDdThCLEdBQWFodEMsVUFBVyxpQkFBYSxHQUN4Q1ksRUFBVyxDQUNQNFUsR0FBUyxDQUFFaFEsS0FBTTFDLE9BQVEyTixTQUFTLEtBQ25DdThCLEdBQWFodEMsVUFBVyxlQUFXLEdBQ3RDWSxFQUFXLENBQ1A0VSxHQUFTLENBQUVoUSxLQUFNdUssV0FDbEJpOUIsR0FBYWh0QyxVQUFXLGVBQVcsR0FDdENZLEVBQVcsQ0FDUDRVLEdBQVMsQ0FBRWhRLEtBQU11SyxRQUFTVSxTQUFTLElBQ25DcU0sSUFBUyxTQUFVcFUsR0FDWEEsR0FDQTVJLEtBQUtzRixnQkFBZ0IsZ0JBQ3JCdEYsS0FBS3NGLGdCQUFnQixpQkFDckJ0RixLQUFLNitCLFVBQVcsRUFDaEI3K0IsS0FBS3FnQyxXQUFZLEVBQ2pCcmdDLEtBQUt3ekIsVUFBWSxHQUdqQnh6QixLQUFLbXVDLGdCQUFnQixpQkFBaUIsT0FHL0NqQixHQUFhaHRDLFVBQVcsc0JBQWtCLEdBQzdDWSxFQUFXLENBQ1A0VSxHQUFTLENBQUVoUSxLQUFNdUssUUFBU1UsU0FBUyxJQUNuQ3FNLElBQVMsU0FBVXBVLEdBQ1hBLEVBQ0E1SSxLQUFLdUosYUFBYSxnQkFBaUIsUUFHbkN2SixLQUFLdUosYUFBYSxnQkFBaUIsYUFHNUMyakMsR0FBYWh0QyxVQUFXLGdCQUFZOzs7Ozs7Ozs7Ozs7Ozs7OztBQ3RKdkMsTUFDYThPLEdBQVE2SCxFQUFJOzs7Ozs7Ozs7Ozs7Ozs7O0dDR3pCLElBQUl1M0IsR0FBVyxjQUF1QmxCLEtBRXRDa0IsR0FBU3YvQixPQUFTRyxHQUNsQm8vQixHQUFXdHRDLEVBQVcsQ0FDbEJnVSxFQUFjLGtCQUNmczVCOzs7Ozs7Ozs7Ozs7Ozs7OztBQ1RILE1BQ2FwL0IsR0FBUTZILEVBQUkseVlDRXpCLElBQUl3M0IsR0FBTyxjQUFtQi8yQixHQUMxQjlULFNBQ0ksT0FBTzBFLENBQUssa0JBR3BCbW1DLEdBQUt4L0IsT0FBU0csR0FDZHEvQixHQUFPdnRDLEVBQVcsQ0FDZGdVLEVBQWMsYUFDZnU1Qjs7Ozs7Ozs7OztBQ2ZJLE1BQU0xK0IsS0FBaUJ2TixPQUFpQixVQUFLQSxPQUFpQixTQUFTLE9BQzlFLElBQUlrc0MsR0FxQk9DLEdBaEJYLFNBQVNDLEdBQWlCQyxHQUV0QkgsS0FERUcsSUFBWUEsRUFBNEIscUJBU3BCOStCLElBQWdCTSxTQUFTeWIsVUFBVUMsVUFBVXZsQixNQUFNLDhCQUN2RWhFLE9BQU9ncEIsS0FBT0EsSUFBSUMsVUFBWUQsSUFBSUMsU0FBUyxhQUFjLHNCQU0zRGpwQixPQUFPNEwsZUFBeUM3TCxJQUE3QkMsT0FBTzRMLFNBQVN1Z0MsV0FDckNBLEdBQVduc0MsT0FBTzRMLFNBQVN1Z0MsVUFJdEIsTUFBTUcsR0FBaUJ6K0IsUUFBUTdOLE9BQU80TCxVQUFZNUwsT0FBTzRMLFNBQVMwZ0MsZ0JBRXJFdHNDLE9BQU80TCxlQUEwQzdMLElBQTlCQyxPQUFPNEwsU0FBUzJnQyxVQUNyQ0wsR0FBc0Jsc0MsT0FBTzRMLFNBQVMyZ0MsVUFDN0J2c0MsT0FBTzRMLFVBQ2hCd2dDLEdBQWlCcHNDLE9BQU80TCxVQUV4QjVMLE9BQU80TCxjQUFXN0wsR0FFbEJxc0MsR0FBaUJwc0MsT0FBc0IsZUFBS0EsT0FBc0IsY0FBUyxPQU10RSxNQUFNd3NDOzs7Ozs7Ozs7RUNyQ2IsTUFBTUMsR0FDSnJyQyxjQUVFeEQsS0FBWSxNQUFJLEVBRWhCQSxLQUFVLElBQUksRUFFZEEsS0FBZSxTQUFJLEtBRW5CQSxLQUFhLE9BQUksS0FFakJBLEtBQVksTUFBSSxLQUVoQkEsS0FBb0IsY0FBSSxHQUV4QkEsS0FBYyxRQUFJLEdBRWxCQSxLQUFhLFFBQUksRUFFakJBLEtBQVcsS0FBSSxFQUVmQSxLQUFvQixjQUFJLEdBRXhCQSxLQUFlLFNBQUksR0FFbkJBLEtBQXFCLGVBQUksSUFXdEIsU0FBU3FRLEdBQU1oSCxHQUVwQixPQWdERixTQUFTeWxDLEVBQVN2cUMsRUFBTThFLEdBQ3RCLElBQUkvSSxFQUFJK0ksRUFBSzBsQyxVQUFVeHFDLEVBQVksTUFBR0EsRUFBVSxJQUFJLEdBRXBELEdBREFBLEVBQW9CLGNBQUlBLEVBQWMsUUFBSWpFLEVBQUVrdEMsT0FDeENqcEMsRUFBYSxPQUFHLENBQ2xCLElBQUl5cUMsRUFBS3pxQyxFQUFlLFNBQUlBLEVBQWUsU0FBTyxJQUFJQSxFQUFhLE9BQVMsTUFDNUVqRSxFQUFJK0ksRUFBSzBsQyxVQUFVQyxFQUFJenFDLEVBQVksTUFBSSxHQUN2Q2pFLEVBd0NKLFNBQStCQyxHQUM3QixPQUFPQSxFQUFFMHVDLFFBQVEseUJBQXlCLFdBQ3hDLElBQUlDLEVBQU94dUMsVUFBVSxHQUNuQnl1QyxFQUFTLEVBQUlELEVBQUt2dUMsT0FDcEIsS0FBT3d1QyxLQUNMRCxFQUFPLElBQU1BLEVBRWYsTUFBTyxLQUFPQSxLQS9DVkUsQ0FBc0I5dUMsR0FDMUJBLEVBQUlBLEVBQUUydUMsUUFBUUksR0FBR0MsZUFBZ0IsS0FHakNodkMsRUFBSUEsRUFBRXl1QyxVQUFVenVDLEVBQUUrSCxZQUFZLEtBQU8sR0FDckMsSUFBSTlILEVBQUlnRSxFQUFxQixlQUFJQSxFQUFlLFNBQUlqRSxFQUFFa3RDLE9BQ3REanBDLEVBQWEsT0FBNkIsSUFBeEJoRSxFQUFFdUYsUUFBUXlwQyxJQUV4QmhyQyxFQUFhLE9BQ2dCLElBQTNCaEUsRUFBRXVGLFFBQVEwcEMsSUFDWmpyQyxFQUFXLEtBQUlrckMsR0FBTUMsV0FDWm52QyxFQUFFNkYsTUFBTWlwQyxHQUFHTSxpQkFDcEJwckMsRUFBVyxLQUFJa3JDLEdBQU1HLGVBQ3JCcnJDLEVBQW9CLGNBQ2xCQSxFQUFlLFNBQUVpQixNQUFNNnBDLEdBQUdDLGdCQUFnQjlvQyxPQUdqQixJQUF6QmpHLEVBQUV1RixRQUFRK3BDLElBQ1p0ckMsRUFBVyxLQUFJa3JDLEdBQU1LLFdBRXJCdnJDLEVBQVcsS0FBSWtyQyxHQUFNTSxXQUkzQixJQUFJQyxFQUFLenJDLEVBQVksTUFDckIsR0FBSXlyQyxFQUNGLElBQUssSUFBMEI1dUMsRUFBdEJaLEVBQUksRUFBR3lILEVBQUkrbkMsRUFBR3J2QyxPQUNwQkgsRUFBSXlILElBQU83RyxFQUFJNHVDLEVBQUd4dkMsSUFBS0EsSUFDeEJzdUMsRUFBUzF0QyxFQUFHaUksR0FHaEIsT0FBTzlFLEVBckZBdXFDLENBaUJULFNBQWF6bEMsR0FDWCxJQUFJcW9CLEVBQU8sSUFBSW1kLEdBQ2ZuZCxFQUFZLE1BQUksRUFDaEJBLEVBQVUsSUFBSXJvQixFQUFLMUksT0FDbkIsSUFBSUYsRUFBSWl4QixFQUNSLElBQUssSUFBSWx4QixFQUFJLEVBQUd5SCxFQUFJb0IsRUFBSzFJLE9BQVFILEVBQUl5SCxFQUFHekgsSUFDdEMsR0FBSTZJLEVBQUs3SSxLQUFPeXZDLEdBQVksQ0FDckJ4dkMsRUFBUyxRQUNaQSxFQUFTLE1BQUksSUFFZixJQUFJYixFQUFJYSxFQUNKeXZDLEVBQVd0d0MsRUFBUyxNQUFFQSxFQUFTLE1BQUVlLE9BQVMsSUFBTSxLQUNwREYsRUFBSSxJQUFJb3VDLEdBQ1JwdUMsRUFBUyxNQUFJRCxFQUFJLEVBQ2pCQyxFQUFVLE9BQUliLEVBQ2RhLEVBQVksU0FBSXl2QyxFQUNoQnR3QyxFQUFTLE1BQUU2RixLQUFLaEYsUUFDUDRJLEVBQUs3SSxLQUFPMnZDLEtBQ3JCMXZDLEVBQU8sSUFBSUQsRUFBSSxFQUNmQyxFQUFJQSxFQUFVLFFBQUtpeEIsR0FHdkIsT0FBT0EsRUF2Q1MwZSxDQURoQi9tQyxFQUFhQSxFQVVFNGxDLFFBQVFJLEdBQUdnQixTQUFVLElBQUlwQixRQUFRSSxHQUFHaUIsS0FBTSxLQVQ5QmpuQyxHQWdIN0IsU0FBZ0I4RyxHQUFVNUwsRUFBTWdzQyxFQUFvQmxuQyxFQUFPLElBRXpELElBQUltTixFQUFVLEdBQ2QsR0FBSWpTLEVBQWMsU0FBS0EsRUFBWSxNQUFHLENBQ3BDLElBQUl5ckMsRUFBS3pyQyxFQUFZLE1BQ3JCLEdBQUl5ckMsSUErQlIsU0FBd0JRLEdBQ3RCLElBQUlwdkMsRUFBSW92QyxFQUFNLEdBQ2QsT0FBT3ZnQyxRQUFRN08sSUFBTTZPLFFBQVE3TyxFQUFZLFdBQTJDLElBQXJDQSxFQUFZLFNBQUUwRSxRQUFRK3BDLElBakN4RFksQ0FBZVQsR0FDeEIsSUFBSyxJQUEwQjV1QyxFQUF0QlosRUFBSSxFQUFHeUgsRUFBSStuQyxFQUFHcnZDLE9BQ3BCSCxFQUFJeUgsSUFBTzdHLEVBQUk0dUMsRUFBR3h2QyxJQUFLQSxJQUN4QmdXLEVBQVVyRyxHQUFVL08sRUFBR212QyxFQUFvQi81QixRQUc3Q0EsRUFBVSs1QixFQUFxQmhzQyxFQUFjLFFBa0NuRCxTQUEyQmlTLEdBRXpCLE9BaUJGLFNBQStCQSxHQUM3QixPQUFPQSxFQUNKeTRCLFFBQVFJLEdBQUdxQixXQUFZLElBQ3ZCekIsUUFBUUksR0FBR3NCLFNBQVUsSUFwQmpCQyxDQURQcDZCLEVBUUssU0FBb0NBLEdBQ3pDLE9BQU9BLEVBQ0p5NEIsUUFBUUksR0FBR3dCLFdBQVksSUFDdkI1QixRQUFRSSxHQUFHeUIsVUFBVyxJQVhmQyxDQUEyQnY2QixJQWxDL0J3NkIsQ0FBa0J6c0MsRUFBYyxTQUNsQ2lTLEVBQVVBLEVBQVFnM0IsT0FDZGgzQixJQUNGQSxFQUFVLEtBQU9BLEVBQVUsTUFjakMsT0FUSUEsSUFDRWpTLEVBQWUsV0FDakI4RSxHQUFROUUsRUFBZSxTQUFJLElBQU0wckMsR0FBYSxNQUVoRDVtQyxHQUFRbU4sRUFDSmpTLEVBQWUsV0FDakI4RSxHQUFROG1DLEdBQWMsU0FHbkI5bUMsRUEwQ1QsTUFBYW9tQyxHQUFRLENBQ25CTSxXQUFZLEVBQ1pILGVBQWdCLEVBQ2hCRixXQUFZLEVBQ1pJLFdBQVksS0FHUkcsR0FBYSxJQUNiRSxHQUFjLElBR2RkLEdBQUssQ0FDVGdCLFNBQVUsb0NBQ1ZDLEtBQU0sbUJBQ05PLFdBQVksb0RBQ1pDLFVBQVcsNkRBQ1hKLFdBQVksMENBQ1pDLFNBQVUsNENBQ1ZoQixjQUFlLG9CQUNmTCxlQUFnQixRQUdaTyxHQUFZLEtBQ1pMLEdBQWMsU0FDZEQsR0FBVyxJQzdQSjBCLEdBQWEsMEhBQ2JDLEdBQWMsdUNBR2RDLEdBQWMsZUNEckJDLEdBQWUsSUFBSTVpQyxJQVVsQixTQUFTNmlDLEdBQXFCcmlDLEdBQ25DLE1BQU0zRixFQUFPMkYsRUFBTUMsWUFDbkIsSUFBS21pQyxHQUFhbnZDLElBQUlvSCxHQUFPLENBQzNCK25DLEdBQWF6aUMsSUFBSXRGLEdBQ2pCLE1BQU1pb0MsRUFBV3Z0QyxTQUFTeUUsY0FBYyxTQUN4QzhvQyxFQUFTL25DLGFBQWEsaUJBQWtCLElBQ3hDK25DLEVBQVNyaUMsWUFBYzVGLEVBQ3ZCdEYsU0FBUytuQixLQUFLamlCLFlBQVl5bkMsSUFTdkIsU0FBU0MsR0FBZ0J2aUMsR0FDOUIsT0FBT0EsRUFBTW9kLGFBekJpQjs7Ozs7Ozs7O0VDT3pCLFNBQVNvbEIsR0FBV2hCLEVBQU85YyxHQUNoQyxPQUFLOGMsR0FHZ0IsaUJBQVZBLElBQ1RBLEVBQVFuZ0MsR0FBTW1nQyxJQUVaOWMsR0FDRitkLEdBQVlqQixFQUFPOWMsR0FFZHZqQixHQUFVcWdDLEVBQU81QixLQVJmLEdBZUosU0FBUzhDLEdBQWMxaUMsR0FJNUIsT0FIS0EsRUFBa0IsWUFBS0EsRUFBTUMsY0FDaENELEVBQWtCLFdBQUlxQixHQUFNckIsRUFBTUMsY0FFN0JELEVBQWtCLFlBQUssS0FxQmhDLFNBQWdCeWlDLEdBQVlsdEMsRUFBTW90QyxFQUFtQkMsRUFBdUJDLEdBQzFFLElBQUt0dEMsRUFDSCxPQUVGLElBQUl1dEMsR0FBWSxFQUNacHNDLEVBQU9uQixFQUFXLEtBQ3RCLEdBQUlzdEMsR0FDRW5zQyxJQUFTK3BDLEdBQU1DLFdBQVksQ0FDN0IsSUFBSXFDLEVBQWF4dEMsRUFBZSxTQUFFNkIsTUFBTStxQyxJQUNwQ1ksSUFFRzN2QyxPQUFPMnZDLFdBQVdBLEVBQVcsSUFBSTMwQixVQUNwQzAwQixHQUFZLElBS2hCcHNDLElBQVMrcEMsR0FBTU0sV0FDakI0QixFQUFrQnB0QyxHQUNUcXRDLEdBQ1Rsc0MsSUFBUytwQyxHQUFNRyxlQUNmZ0MsRUFBc0JydEMsR0FDYm1CLElBQVMrcEMsR0FBTUssYUFDeEJnQyxHQUFZLEdBRWQsSUFBSTlCLEVBQUt6ckMsRUFBWSxNQUNyQixHQUFJeXJDLElBQU84QixFQUNULElBQUssSUFBc0Ixd0MsRUFBbEJaLEVBQUUsRUFBR3lILEVBQUUrbkMsRUFBR3J2QyxPQUFZSCxFQUFFeUgsSUFBTzdHLEVBQUU0dUMsRUFBR3h2QyxJQUFLQSxJQUNoRGl4QyxHQUFZcndDLEVBQUd1d0MsRUFBbUJDLEVBQXVCQyxHQXNKM0N6dkMsT0FBaUIsVUFBS0EsT0FBaUIsU0FBUSxLQXlGNUQsU0FBUzR2QyxHQUFZdHVDLEdBQzFCLFFBQWlCdkIsSUFBYm9zQyxHQUNGLFVBRUYsUUFBMkJwc0MsSUFBdkJ1QixFQUFRdXVDLFdBQTBCLENBRXBDLE1BQU01K0IsRUFBWTNQLEVBQVEyQixhQWRQLGFBZW5CLEdBQUlnTyxFQUNGM1AsRUFBUXV1QyxXQUFhNStCLE1BQ2hCLENBQ0wsTUFBTTYrQixFQXFDTCxTQUF5Qnh1QyxHQUM5QixNQUFNd3VDLEVBQXFDLGFBQXRCeHVDLEVBQVE0VSxVQUNXLEVBQVVyVSxRQUFRd0wsV0FDdEQvTCxFQUFRK0wsV0FDWixHQUFJeWlDLGFBQXdCQyxRQUFTLENBQ25DLE1BQU1DLEVBQWVGLEVBQWFqakMsWUFBWXUrQixPQUFPaG9DLE1BQU0sS0FDM0QsR0E3RG1CLGNBNkRmNHNDLEVBQWEsR0FDZixPQUFPQSxFQUFhLEdBR3hCLE1BQU8sR0EvQ2tCQyxDQUFnQjN1QyxHQUNoQixLQUFqQnd1QyxHQWtFVixTQUE0Qnh1QyxHQUMxQixNQUFNd3VDLEVBQXFDLGFBQXRCeHVDLEVBQVE0VSxVQUNXLEVBQVVyVSxRQUFRd0wsV0FDdEQvTCxFQUFRK0wsV0FDWnlpQyxFQUFhbHNDLFdBQVdwRCxZQUFZc3ZDOzs7Ozs7Ozs7RUFwRTlCSSxDQUFtQjV1QyxHQUVyQkEsRUFBUXV1QyxXQUFhQyxHQUd6QixPQUFPeHVDLEVBQVF1dUMsWUFBYyxHQWtCeEIsU0FBU00sR0FBbUI3dUMsR0FDakMsTUFBZ0MsS0FBekJzdUMsR0FBWXR1QyxHQzlWZCxTQUFTOHVDLEdBQXVCOXVDLEVBQVNnUCxHQUU5QyxJQUFLLElBQUk5UyxLQUFLOFMsRUFFRixPQUFOOVMsRUFDRjhELEVBQVFzTCxNQUFNeWpDLGVBQWU3eUMsR0FFN0I4RCxFQUFRc0wsTUFBTXlSLFlBQVk3Z0IsRUFBRzhTLEVBQVc5UyxJQVV2QyxTQUFTOHlDLEdBQXNCaHZDLEVBQVNnUyxHQUk3QyxNQUFNOU0sRUFBUXhHLE9BQU95bUMsaUJBQWlCbmxDLEdBQVNpdkMsaUJBQWlCajlCLEdBQ2hFLE9BQUs5TSxFQUdJQSxFQUFNNGtDLE9BRk47Ozs7Ozs7Ozs7QUNxQ1gsTUFBTW9GLEdBQW1CLFFBQ25CQyxHQUFrQiw4QkFDbEJDLEdBQVksZ0JBeUJsQixNQUFNQyxHQUNKdnZDLGNBRUV4RCxLQUFLZ3pDLEtBQU8sR0FNZHh2QyxJQUFJc0IsRUFBTTJOLEdBQ1IzTixFQUFPQSxFQUFLMG9DLE9BQ1p4dEMsS0FBS2d6QyxLQUFLbHVDLEdBQVEsQ0FDaEI0TixXQUFZRCxFQUNad2dDLFdBQVksSUFPaEJ6dkMsSUFBSXNCLEdBRUYsT0FEQUEsRUFBT0EsRUFBSzBvQyxPQUNMeHRDLEtBQUtnekMsS0FBS2x1QyxJQUFTLE1BUTlCLElBQUlvdUMsR0FBa0IsS0FHdEIsTUFBTUMsR0FDSjN2QyxjQUVFeEQsS0FBS296QyxnQkFBa0IsS0FFdkJwekMsS0FBS3F6QyxnQkFBa0IsS0FDdkJyekMsS0FBS2d6QyxLQUFPLElBQUlELEdBT2xCdnZDLFlBQVlnVCxHQUNWLE9EcEdHLFNBQXFCQSxHQUMxQixNQUFNdlUsRUFBTWl2QyxHQUFZbGhCLEtBQUt4WixJQUFZeTZCLEdBQVdqaEIsS0FBS3haLEdBSXpELE9BRkEwNkIsR0FBWWpyQyxVQUFZLEVBQ3hCZ3JDLEdBQVdockMsVUFBWSxFQUNoQmhFLEVDK0ZFcXhDLENBQVk5OEIsR0FRckJoVCxhQUFhdUQsR0FDWCxNQUFNd3NDLEVGZ0hILFNBQXlCN3ZDLEdBRTlCLE1BQU04dkMsRUFBaUIsR0FDakIza0MsRUFBcURuTCxFQUFRb0wsaUJBQWlCLFNBQ3BGLElBQUssSUFBSXRPLEVBQUksRUFBR0EsRUFBSXFPLEVBQU9sTyxPQUFRSCxJQUFLLENBQ3RDLE1BQU13TyxFQUFRSCxFQUFPck8sR0FDakIrd0MsR0FBZ0J2aUMsR0FDYlcsS0FDSDBoQyxHQUFxQnJpQyxHQUNyQkEsRUFBTWhKLFdBQVdwRCxZQUFZb00sS0FHL0J3a0MsRUFBZS90QyxLQUFLdUosRUFBTUMsYUFDMUJELEVBQU1oSixXQUFXcEQsWUFBWW9NLElBR2pDLE9BQU93a0MsRUFBZXJtQyxLQUFLLElBQUlxZ0MsT0VoSVhpRyxDQUFnQjFzQyxFQUFTOUMsU0FDM0MsR0FBSXN2QyxFQUFXLENBQ2IsTUFBTXZrQyxFQUF5Q2pMLFNBQVN5RSxjQUFjLFNBR3RFLE9BRkF3RyxFQUFNQyxZQUFjc2tDLEVBQ3BCeHNDLEVBQVM5QyxRQUFRcUMsYUFBYTBJLEVBQU9qSSxFQUFTOUMsUUFBUXdMLFlBQy9DVCxFQUVULE9BQU8sS0FPVHhMLGtCQUFrQnVELEVBQVUyc0MsUUFDTXZ4QyxJQUE1QjRFLEVBQVM0c0MsaUJBQ1g1c0MsRUFBUzRzQyxlQUFpQjN6QyxLQUFLNHpDLGFBQWE3c0MsSUFHOUMsTUFBTWlJLEVBQVFqSSxFQUFTNHNDLGVBQ3ZCLE9BQU8za0MsRUFBUWhQLEtBQUs2ekMsZUFBZTdrQyxFQUFPMGtDLEdBQWUsS0FPM0Rsd0MsZUFBZXdMLEVBQU8wa0MsRUFBYyxJQUNsQyxJQUFJSSxFQUFNcEMsR0FBYzFpQyxHQUd4QixPQUZBaFAsS0FBSyt6QyxlQUFlRCxFQUFLSixHQUN6QjFrQyxFQUFNQyxZQUFjdWlDLEdBQVVzQyxHQUN2QkEsRUFNVHR3QyxxQkFBcUJ3TCxHQUNuQixJQUFJOGtDLEVBQU1wQyxHQUFjMWlDLEdBUXhCLE9BUEF5aUMsR0FBWXFDLEVBQU1FLElBQ1MsVUFBckJBLEVBQWUsV0FDakJBLEVBQWUsU0FBSSxRQUVyQmgwQyxLQUFLaTBDLGNBQWNELEtBRXJCaGxDLEVBQU1DLFlBQWN1aUMsR0FBVXNDLEdBQ3ZCQSxFQU1UdHdDLGVBQWVndEMsRUFBT2tELEdBQ3BCMXpDLEtBQUtvekMsZ0JBQWtCTSxFQUN2QmpDLEdBQVlqQixFQUFRcHZDLElBQ2xCcEIsS0FBS2kwQyxjQUFjN3lDLEtBRXJCcEIsS0FBS296QyxnQkFBa0IsS0FLekI1dkMsY0FBY3d3QyxHQUNaQSxFQUFjLFFBQUloMEMsS0FBS2swQyxpQkFBaUJGLEVBQW9CLGNBQUdBLEdBSXRDLFVBQXJCQSxFQUFlLFdBQ2pCQSxFQUFlLFNBQUksYUFRdkJ4d0MsaUJBQWlCZ1QsRUFBU3c5QixHQUt4QixPQUhBeDlCLEVBQVVBLEVBQVF5NEIsUUFBUWdDLEdBQVksQ0FBQ2tELEVBQVduTCxFQUFjb0wsRUFBZUMsSUFDN0VyMEMsS0FBS3MwQyxzQkFBc0JILEVBQVduTCxFQUFjb0wsRUFBZUMsRUFBWUwsSUFFMUVoMEMsS0FBS3UwQyxzQkFBc0IvOUIsRUFBU3c5QixHQU03Q3h3Qyw0QkFBNEJrUyxHQU8xQixPQU5LMVYsS0FBS3F6QyxrQkFDUnJ6QyxLQUFLcXpDLGdCQUFpRHR2QyxTQUFTeUUsY0FBYyxRQUM3RXhJLEtBQUtxekMsZ0JBQWdCOXBDLGFBQWEscUJBQXNCLElBQ3hEdkosS0FBS3F6QyxnQkFBZ0Jya0MsTUFBTXdsQyxJQUFNLFVBQ2pDendDLFNBQVMrbkIsS0FBS2ppQixZQUFZN0osS0FBS3F6QyxrQkFFMUJqeEMsT0FBT3ltQyxpQkFBaUI3b0MsS0FBS3F6QyxpQkFBaUJWLGlCQUFpQmo5QixHQVF4RWxTLDRCQUE0Qml4QyxHQUUxQixJQUFJQyxFQUFVRCxFQUNkLEtBQU9DLEVBQWdCLFFBQ3JCQSxFQUFVQSxFQUFnQixPQUU1QixNQUFNQyxFQUFZLEdBQ2xCLElBQUlDLEdBQWdCLEVBZXBCLE9BZEFuRCxHQUFZaUQsRUFBVXR6QyxJQUVwQnd6QyxFQUFnQkEsR0FBaUJ4ekMsSUFBTXF6QyxFQUNuQ0csR0FPQXh6QyxFQUFZLFdBQU1xekMsRUFBb0IsVUFDeENqMUMsT0FBT2EsT0FBT3MwQyxFQUFXMzBDLEtBQUs2MEMsY0FBY3p6QyxFQUFpQixrQkFHMUR1ekMsRUFRVG54QyxzQkFBc0I2RixFQUFNMnFDLEdBRTFCLElBQUkzTSxFQUFJLEtBRVIsS0FBT0EsRUFBSTZKLEdBQVlqc0MsS0FBS29FLElBQVEsQ0FDbEMsSUFBSThxQyxFQUFZOU0sRUFBRSxHQUNkeU4sRUFBWXpOLEVBQUUsR0FDZHJ3QixFQUFNcXdCLEVBQUVsakMsTUFHUjR3QyxFQUFXLzlCLEVBQU1tOUIsRUFBVXJ1QyxRQUFRLFVBQ25Da3ZDLEVBQWdCaCtCLEVBQU1tOUIsRUFBVXh6QyxPQUVoQ3MwQyxFQUFrQjVyQyxFQUFLbEcsTUFBTSxFQUFHNHhDLEdBQ2hDRyxFQUFpQjdyQyxFQUFLbEcsTUFBTTZ4QyxHQUM1QkcsRUFBV25CLEVBQU9oMEMsS0FBS28xQyw0QkFBNEJwQixHQUFRLEdBQy9EeDBDLE9BQU9hLE9BQU84MEMsRUFBVW4xQyxLQUFLNjBDLGNBQWNJLElBQzNDLElBQUlJLEVBQWNyMUMsS0FBS3MxQyx3QkFBd0JSLEVBQVdLLEdBRTFEOXJDLEVBQU8sR0FBRzRyQyxJQUFrQkksSUFBY0gsSUFFMUNoRSxHQUFZanJDLFVBQVkrUSxFQUFNcStCLEVBQVkxMEMsT0FFNUMsT0FBTzBJLEVBWVQ3Rix3QkFBd0JzeEMsRUFBV0gsR0FDakNHLEVBQVlBLEVBQVU3RixRQUFRMkQsR0FBa0IsSUFDaEQsSUFBSTJDLEVBQU8sR0FDUEMsRUFBYXgxQyxLQUFLZ3pDLEtBQUtqbUMsSUFBSStuQyxHQU8vQixHQUpLVSxJQUNIeDFDLEtBQUtnekMsS0FBS2x4QyxJQUFJZ3pDLEVBQVcsSUFDekJVLEVBQWF4MUMsS0FBS2d6QyxLQUFLam1DLElBQUkrbkMsSUFFekJVLEVBQVksQ0FJZCxJQUFJNTFDLEVBQUcrRCxFQUFPL0IsRUFIVjVCLEtBQUtvekMsa0JBQ1BvQyxFQUFXdkMsV0FBV2p6QyxLQUFLb3pDLGtCQUFtQixHQUdoRCxNQUFNMWdDLEVBQWE4aUMsRUFBVzlpQyxXQUM5QixJQUFLOVMsS0FBSzhTLEVBQ1I5USxFQUFJK3lDLEdBQWFBLEVBQVUvMEMsR0FDM0IrRCxFQUFRLENBQUMvRCxFQUFHLFNBQVVrMUMsRUF0UVIsTUFzUWtDbDFDLEdBQzVDZ0MsR0FDRitCLEVBQU04QixLQUFLLElBQUs3RCxFQUFFcXRDLFFBQVE2RCxHQUFXLEtBRXZDbnZDLEVBQU04QixLQUFLLEtBQ1BxdEMsR0FBVTlpQixLQUFLdGQsRUFBVzlTLEtBQzVCK0QsRUFBTThCLEtBQUssZUFFYjh2QyxFQUFLOXZDLEtBQUs5QixFQUFNd0osS0FBSyxLQUd6QixPQUFPb29DLEVBQUtwb0MsS0FBSyxNQVFuQjNKLHlCQUF5QmtTLEVBQVU5TSxHQUNqQyxJQUFJeEMsRUFBUXlzQyxHQUFnQjV0QyxLQUFLMkQsR0FlakMsT0FkSXhDLElBSUF3QyxFQUhFeEMsRUFBTSxHQUdBcEcsS0FBS3kxQyw0QkFBNEIvL0IsR0FPakMsc0JBR0w5TSxFQVVUcEYsY0FBYzZGLEVBQU1xc0MsR0FBMEIsR0FDNUMsSUFDSWhnQyxFQUFVOU0sRUFEVjZKLEVBQVFwSixFQUFLN0QsTUFBTSxLQUVuQm13QyxFQUFNLEdBQ1YsSUFBSyxJQUFXLzFDLEVBQUdnMkMsRUFBVnAxQyxFQUFJLEVBQVVBLEVBQUlpUyxFQUFNOVIsT0FBUUgsSUFDdkNaLEVBQUk2UyxFQUFNalMsR0FDTlosSUFDRmcyQyxFQUFLaDJDLEVBQUU0RixNQUFNLEtBRVRvd0MsRUFBR2oxQyxPQUFTLElBQ2QrVSxFQUFXa2dDLEVBQUcsR0FBR3BJLE9BRWpCNWtDLEVBQVFndEMsRUFBR3p5QyxNQUFNLEdBQUdnSyxLQUFLLEtBQ3JCdW9DLElBQ0Y5c0MsRUFBUTVJLEtBQUs2MUMseUJBQXlCbmdDLEVBQVU5TSxJQUVsRCtzQyxFQUFJamdDLEdBQVk5TSxJQUl0QixPQUFPK3NDLEVBTVRueUMsc0JBQXNCZ3lDLEdBQ3BCLEdBQUt0QyxHQUdMLElBQUssSUFBSVEsS0FBZThCLEVBQVd2QyxXQUM3QlMsSUFBZ0IxekMsS0FBS296QyxpQkFDdkJGLEdBQWdCUSxHQWF0Qmx3QyxzQkFBc0Iyd0MsRUFBV25MLEVBQWNvTCxFQUFlQyxFQUFZTCxHQVV4RSxHQVJJSSxHRjdPRCxTQUFTMEIsRUFBMkJydkMsRUFBS2l0QixHQUU5QyxJQUFJanhCLEVBQVFnRSxFQUFJWCxRQUFRLFFBQ3hCLElBQWUsSUFBWHJELEVBRUYsT0FBT2l4QixFQUFTanRCLEVBQUssR0FBSSxHQUFJLElBRy9CLElBQUkvRCxFQTFCQyxTQUEyQjJHLEVBQU01RyxHQUN0QyxJQUFJc3pDLEVBQVEsRUFDWixJQUFLLElBQUl2MUMsRUFBRWlDLEVBQU93RixFQUFFb0IsRUFBSzFJLE9BQVFILEVBQUl5SCxFQUFHekgsSUFDdEMsR0FBZ0IsTUFBWjZJLEVBQUs3SSxHQUNQdTFDLFNBQ0ssR0FBZ0IsTUFBWjFzQyxFQUFLN0ksSUFDRSxLQUFWdTFDLEVBQ0osT0FBT3YxQyxFQUliLE9BQVEsRUFlRXcxQyxDQUFrQnZ2QyxFQUFLaEUsRUFBUSxHQUNyQ29yQyxFQUFRcG5DLEVBQUlzb0MsVUFBVXRzQyxFQUFRLEVBQUdDLEdBQ2pDa0ssRUFBU25HLEVBQUlzb0MsVUFBVSxFQUFHdHNDLEdBRTFCaUUsRUFBU292QyxFQUEyQnJ2QyxFQUFJc29DLFVBQVVyc0MsRUFBTSxHQUFJZ3hCLEdBQzVEdWlCLEVBQVFwSSxFQUFNL25DLFFBQVEsS0FFMUIsT0FBZSxJQUFYbXdDLEVBRUt2aUIsRUFBUzltQixFQUFRaWhDLEVBQU1MLE9BQVEsR0FBSTltQyxHQUtyQ2d0QixFQUFTOW1CLEVBRkppaEMsRUFBTWtCLFVBQVUsRUFBR2tILEdBQU96SSxPQUN2QkssRUFBTWtCLFVBQVVrSCxFQUFRLEdBQUd6SSxPQUNEOW1DLEdFeU5yQ292QyxDQUEyQjFCLEVBQWUsQ0FBQ3huQyxFQUFRaEUsS0FDN0NBLEdBQVM1SSxLQUFLZ3pDLEtBQUtqbUMsSUFBSW5FLEtBQ3pCeXJDLEVBQWEsVUFBVXpyQyxTQUl4QnlyQyxFQUNILE9BQU9GLEVBRVQsSUFBSStCLEVBQW9CbDJDLEtBQUt1MEMsc0JBQXNCLEdBQUtGLEVBQVlMLEdBQ2hFcG5DLEVBQVN1bkMsRUFBVWh4QyxNQUFNLEVBQUdneEMsRUFBVXJ1QyxRQUFRLE9BSTlDcXdDLEVBQWNuMkMsS0FBSzYwQyxjQUFjcUIsR0FBbUIsR0FDcERFLEVBQWdCRCxFQUNoQlgsRUFBYXgxQyxLQUFLZ3pDLEtBQUtqbUMsSUFBSWk4QixHQUMzQnFOLEVBQVdiLEdBQWNBLEVBQVc5aUMsV0FDcEMyakMsRUFHRkQsRUFBZ0I1MkMsT0FBT2EsT0FBT2IsT0FBT1csT0FBT2syQyxHQUFXRixHQUV2RG4yQyxLQUFLZ3pDLEtBQUtseEMsSUFBSWtuQyxFQUFjb04sR0FFOUIsSUFDSXgyQyxFQUFHMEosRUFESHFzQyxFQUFNLEdBR05XLEdBQW1CLEVBQ3ZCLElBQUsxMkMsS0FBS3cyQyxFQUNSOXNDLEVBQUk2c0MsRUFBWXYyQyxRQUVOdUMsSUFBTm1ILElBQ0ZBLEVBQUksWUFFRitzQyxHQUFjejJDLEtBQUt5MkMsSUFDckJDLEdBQW1CLEdBRXJCWCxFQUFJbHdDLEtBQUssR0FBR3VqQyxPQUErQnBwQyxNQUFNMEosS0FxQm5ELE9BbkJJZ3RDLEdBQ0Z0MkMsS0FBS3UyQyxzQkFBc0JmLEdBRXpCQSxJQUNGQSxFQUFXOWlDLFdBQWEwakMsR0FZdEJoQyxJQUNGeG5DLEVBQVMsR0FBR3VuQyxLQUFhdm5DLEtBRXBCLEdBQUdBLElBQVMrb0MsRUFBSXhvQyxLQUFLLFVBTWhDZ21DLEdBQVVqekMsVUFBdUIsWUFBSWl6QyxHQUFVanpDLFVBQVVvekMsWUFDekRILEdBQVVqekMsVUFBMEIsZUFBSWl6QyxHQUFVanpDLFVBQVUyekMsZUFDNURWLEdBQVVqekMsVUFBZ0MscUJBQUlpekMsR0FBVWp6QyxVQUFVczJDLHFCQUNsRXJELEdBQVVqekMsVUFBMEIsZUFBSWl6QyxHQUFVanpDLFVBQVU2ekMsZUFDNURaLEdBQVVqekMsVUFBeUIsY0FBSWl6QyxHQUFVanpDLFVBQVUrekMsY0FDM0RkLEdBQVVqekMsVUFBNkIsa0JBQUlpekMsR0FBVWp6QyxVQUFVdTJDLGtCQUMvRHRELEdBQVVqekMsVUFBc0IsV0EzYVYsTUE2YXRCVixPQUFPZ0MsZUFBZTJ4QyxHQUFVanpDLFVBQVcsa0JBQW1CLENBRTVENk0sSUFBRyxJQUNNbW1DLEdBR1QxdkMsSUFBSWt6QyxHQUNGeEQsR0FBa0J3RDs7Ozs7Ozs7OztBQ3pmdEIsTUFBTUMsR0FBYyxHQ09kQyxHQUFrQiwyQkFHbEJDLEdBQWUsd0JBUWZDLEdBQVVobUMsUUFBUUM7Ozs7Ozs7OztFQUtqQixTQUFTZ21DLEdBQVdyRCxHQUN6QixJQUFJM3NDLEVBQVc0dkMsR0FBWWpELEdBQ3ZCM3NDLEdBY0MsU0FBNEJBLEdBRWpDQSxFQUFTNnZDLElBQW1CN3ZDLEVBQVM2dkMsS0FBb0IsRUFFekQ3dkMsRUFBMkIsNEJBQUlBLEVBQTJCLDZCQUFLLEVBRS9EQSxFQUFTOHZDLEtBQWlCOXZDLEVBQVM4dkMsS0FBaUIsR0FBSyxFQW5CdkRHLENBQW1CandDLEdBc0NoQixTQUFTa3dDLEdBQWdCbHdDLEdBQzlCLE9BQU9BLEVBQVM2dkMsTUFBcUI3dkMsRUFBUzh2Qzs7Ozs7Ozs7OztBQ25FaEQsSUFNSUssR0FOQUMsR0FBZSxLQUdmQyxHQUFZaDFDLE9BQW9CLGFBQUtBLE9BQW9CLFlBQWEsV0FBSyxLQVFoRSxTQUFTaTFDLEdBQWEzakIsR0FDbkN0TSx1QkFBc0IsV0FDaEJnd0IsR0FDRkEsR0FBVTFqQixJQUVMeWpCLEtBQ0hBLEdBQWUsSUFBSXJtQyxRQUFTQyxJQUFhbW1DLEdBQVlubUMsSUFDekIsYUFBeEJoTixTQUFTb3dCLFdBQ1graUIsS0FFQW56QyxTQUFTMEgsaUJBQWlCLG1CQUFvQixLQUNoQixhQUF4QjFILFNBQVNvd0IsWUFDWCtpQixRQUtSQyxHQUFhRyxNQUFLLFdBQVk1akIsR0FBWUE7Ozs7Ozs7OztFQ3RCaEQsTUFDTTZqQixHQUFlLHdCQUdyQixJQUFJQyxHQUFjLEtBR2RDLEdBQWEsS0FnQmpCLE1BQXFCQyxHQUNuQmwwQyxjQUVFeEQsS0FBbUIsYUFBSSxHQUN2QkEsS0FBZSxVQUFJLEVBRW5CcTNDLEdBQWEsS0FDUGoxQyxPQUFpQixTQUFxQixtQkFDeENBLE9BQWlCLFNBQXFCLHNCQU81Q29CLDZCQUNNeEQsS0FBZSxVQUFNeTNDLEtBR3pCejNDLEtBQWUsVUFBSSxFQUNuQnEzQyxHQUFhSSxLQUtmajBDLGVBQWV3TCxHQUNSQSxFQUFpQixtQkFDcEJBLEVBQWlCLGtCQUFJLEVBQ3JCaFAsS0FBbUIsYUFBRXlGLEtBQUt1SixHQUMxQmhQLEtBQUsyM0MsNkJBT1RuMEMsdUJBQXVCbzBDLEdBQ3JCLEdBQUlBLEVBQVlMLElBQ2QsT0FBT0ssRUFBWUwsSUFFckIsSUFBSXZvQyxFQU1KLE9BSkVBLEVBREU0b0MsRUFBc0IsU0FDaEJBLEVBQXNCLFdBRXRCQSxFQUVINW9DLEVBS1R4TCxnQkFDRSxNQUFNcTBDLEVBQUs3M0MsS0FBbUIsYUFDOUIsSUFBSyxJQUFJUSxFQUFJLEVBQUdBLEVBQUlxM0MsRUFBR2wzQyxPQUFRSCxJQUFLLENBQ2xDLE1BQU1vM0MsRUFBY0MsRUFBR3IzQyxHQUN2QixHQUFJbzNDLEVBQVlMLElBQ2QsU0FFRixNQUFNdm9DLEVBQVFoUCxLQUFLODNDLHVCQUF1QkYsR0FDMUMsR0FBSTVvQyxFQUFPLENBR1QsTUFBTStvQyxFQUFvRC9vQyxFQUF3QixrQkFBS0EsRUFDbkZ3b0MsSUFDRkEsR0FBWU8sR0FFZEgsRUFBWUwsSUFBZ0JRLEdBR2hDLE9BQU9GLEdBS1hILEdBQXFCeDNDLFVBQTBCLGVBQUl3M0MsR0FBcUJ4M0MsVUFBVTgzQyxlQUNsRk4sR0FBcUJ4M0MsVUFBa0MsdUJBQUl3M0MsR0FBcUJ4M0MsVUFBVTQzQyx1QkFDMUZKLEdBQXFCeDNDLFVBQXlCLGNBQUl3M0MsR0FBcUJ4M0MsVUFBVSszQyxjQUdqRno0QyxPQUFPMDRDLGlCQUFpQlIsR0FBcUJ4M0MsVUFBVyxDQUN0RGk0QyxrQkFBcUIsQ0FFbkJwckMsSUFBRyxJQUNNeXFDLEdBR1RoMEMsSUFBSXVhLEdBQ0Z5NUIsR0FBY3o1QixJQUdsQnE2QixpQkFBb0IsQ0FFbEJyckMsSUFBRyxJQUNNMHFDLEdBTVRqMEMsSUFBSXVhLEdBQ0YsSUFBSXM2QixHQUFlLEVBQ2RaLEtBQ0hZLEdBQWUsR0FFakJaLEdBQWExNUIsRUFDVHM2QixHQUNGcjRDLEtBQUsyM0M7Ozs7Ozs7Ozs7QUMvSGIsTUFBTVcsR0FBWSxJQUFJbkYsR0FFdEIsTUFBTW9GLEdBQ0ovMEMsY0FFRXhELEtBQUt3NEMscUJBQXVCLEtBQzVCRixHQUEyQixnQkFBSUcsR0FFakNqMUMsU0FDTXhELEtBQUt3NEMsc0JBR0xwMkMsT0FBTzRMLFNBQVMwcEMsdUJBQ2xCMTNDLEtBQUt3NEMscUJBRUdwMkMsT0FBTzRMLFNBQTZCLHFCQUM1Q2hPLEtBQUt3NEMscUJBQXdDLGtCQUFLeHBDLElBQ2hEc3BDLEdBQVU5QixxQkFBcUJ4bkMsSUFFakNoUCxLQUFLdzRDLHFCQUF1QyxpQkFBSSxLQUM5Q3B4QixzQkFBc0IsS0FDaEJwbkIsS0FBS3c0QyxxQkFBK0IsVUFDdEN4NEMsS0FBSzA0Qyx3QkFVZmwxQyxnQkFBZ0J1RCxFQUFVMnNDLEdBRXhCLEdBREExekMsS0FBSzI0QyxTQUNEcEcsR0FBbUJ4ckMsR0FDckIsT0FFRjR2QyxHQUFZakQsR0FBZTNzQyxFQUMzQixJQUFJK3NDLEVBQU13RSxHQUFVN0Isa0JBQWtCMXZDLEVBQVUyc0MsR0FFaEQzc0MsRUFBb0IsVUFBSStzQyxFQUUxQnR3QyxvQkFFRSxHQURBeEQsS0FBSzI0QyxVQUNBMzRDLEtBQUt3NEMscUJBQ1IsT0FFRixJQUFJM3BDLEVBQVM3TyxLQUFLdzRDLHFCQUFvQyxnQkFDdEQsR0FBS3g0QyxLQUFLdzRDLHFCQUErQixTQUF6QyxDQUdBLElBQUssSUFBSWg0QyxFQUFJLEVBQUdBLEVBQUlxTyxFQUFPbE8sT0FBUUgsSUFBTSxDQUN2QyxJQUFJcTNDLEVBQUtocEMsRUFBT3JPLEdBQ1p3TyxFQUFRaFAsS0FBS3c0QyxxQkFBNkMsdUJBQUVYLEdBQzVEN29DLEdBQ0ZzcEMsR0FBVTlCLHFCQUFxQnhuQyxHQUduQ2hQLEtBQUt3NEMscUJBQStCLFVBQUksR0FNMUNoMUMsYUFBYUUsRUFBU2dQLEdBS3BCLEdBSkExUyxLQUFLMjRDLFNBQ0RqbUMsR0FDRjgvQixHQUF1Qjl1QyxFQUFTZ1AsR0FFOUJoUCxFQUFRNGEsV0FBWSxDQUN0QnRlLEtBQUt3WSxhQUFhOVUsR0FDbEIsSUFBSWsxQyxFQUM0QmwxQyxFQUFrQixXQUFFcXJCLFVBQ2hEcnJCLEVBQVE0YSxXQUFXdTZCLFdBQ3ZCLElBQUssSUFBSXI0QyxFQUFJLEVBQUdBLEVBQUlvNEMsRUFBZWo0QyxPQUFRSCxJQUN6Q1IsS0FBSzg0QyxhQUF3Q0YsRUFBZXA0QyxRQUV6RCxDQUNMLElBQUl1dUIsRUFBV3JyQixFQUFRcXJCLFVBQVlyckIsRUFBUW0xQyxXQUMzQyxJQUFLLElBQUlyNEMsRUFBSSxFQUFHQSxFQUFJdXVCLEVBQVNwdUIsT0FBUUgsSUFDbkNSLEtBQUs4NEMsYUFBd0MvcEIsRUFBU3Z1QixLQU81RGdELGFBQWFFLEdBQ1gxRCxLQUFLMjRDLFNBQ0wsSUFBSUksR0FBQ0EsR1AwSUYsU0FBc0JyMUMsR0FDM0IsSUFBSTRVLEVBQVk1VSxFQUFtQixVQUMvQnExQyxFQUFLLEdBQUlDLEVBQWdCLEdBZ0I3QixPQVhJMWdDLEVBQ0VBLEVBQVV4UyxRQUFRLE1BQVEsRUFDNUJpekMsRUFBS3pnQyxHQUVMMGdDLEVBQWdCMWdDLEVBQ2hCeWdDLEVBQU1yMUMsRUFBUTJCLGNBQWdCM0IsRUFBUTJCLGFBQWEsT0FBVSxLQUcvRDB6QyxFQUFxQixFQUFVQSxHQUMvQkMsRUFBZ0MsRUFBVUMsU0FFckMsQ0FBQ0YsR0FBQUEsRUFBSUMsY0FBQUEsR081SkNFLENBQWF4MUMsR0FDcEJxRCxFQUFXNHZDLEdBQVlvQyxHQUMzQixLQUFJaHlDLElBQVl3ckMsR0FBbUJ4ckMsS0FHL0JBLElBQWFveUMsR0FBK0JweUMsR0FBVyxFSGR4RCxTQUE4QkEsR0FDbkMsT0FBUWt3QyxHQUFnQmx3QyxJQUFhQSxFQUEyQiw4QkFBTUEsRUFBUzh2QyxLR2V0RXVDLENBQW9DcnlDLEtBQ3ZDL0csS0FBS3E1QyxnQkFBZ0J0eUMsRUFBVWd5QyxHSEtoQyxTQUFpQ2h5QyxHQUV0Q0EsRUFBMkIsNEJBQUlBLEVBQVM4dkMsSUFFbkM5dkMsRUFBU3V5QyxjQUNadnlDLEVBQVN1eUMsYUFBYyxFQUN2QnhDLEdBQVFRLE1BQUssV0FFWHZ3QyxFQUFTNnZDLElBQW1CN3ZDLEVBQVM4dkMsSUFDckM5dkMsRUFBU3V5QyxhQUFjLE1HYnJCQyxDQUF1Q3h5QyxJQUd6QyxJQUFJMnFCLEVBQU9odUIsRUFBUTRhLFdBQ25CLEdBQUlvVCxFQUFNLENBQ1IsSUFBSTFpQixFQUF3QzBpQixFQUFLaGlCLGNBQWMsU0FDM0RWLElBRUZBLEVBQWtCLFdBQUlqSSxFQUFvQixVQUMxQ2lJLEVBQU1DLFlBQWN1aUMsR0FBVXpxQyxFQUFvQixjQVExRHZELGNBQWNrUCxHQUNaMVMsS0FBSzI0QyxTQUNMMzRDLEtBQUs4NEMsYUFBYS8wQyxTQUFTa2IsS0FBTXZNLElBSXJDLElBQUt0USxPQUFPNEwsV0FBYTVMLE9BQU80TCxTQUFTb0ssWUFBYSxDQUNwRCxNQUFNb2hDLEVBQXFCLElBQUlqQixHQUMvQixJQUFJYixFQUF1QnQxQyxPQUFPNEwsVUFBWTVMLE9BQU80TCxTQUFTMHBDLHFCQUc5RHQxQyxPQUFPNEwsU0FBVyxDQU1oQnhLLGdCQUFnQnVELEVBQVUyc0MsRUFBYStGLEdBQ3JDRCxFQUFtQmQsb0JBQ25CYyxFQUFtQkgsZ0JBQWdCdHlDLEVBQVUyc0MsSUFRL0Nsd0Msc0JBQXNCdUQsRUFBVTJzQyxFQUFhK0YsR0FDM0NyM0MsT0FBTzRMLFNBQVNxckMsZ0JBQWdCdHlDLEVBQVUyc0MsRUFBYStGLElBT3pEajJDLG1CQUFtQnVELEVBQVUyc0MsS0FNN0Jsd0MsYUFBYUUsRUFBU2dQLEdBQ3BCOG1DLEVBQW1CZCxvQkFDbkJjLEVBQW1CVixhQUFhcDFDLEVBQVNnUCxJQU0zQ2xQLGFBQWFFLEdBQ1g4MUMsRUFBbUJkLG9CQUNuQmMsRUFBbUJoaEMsYUFBYTlVLElBTWxDRixjQUFja1AsR0FDWjhtQyxFQUFtQmQsb0JBQ25CYyxFQUFtQkUsY0FBY2huQyxJQVFuQ2dnQyxzQkFBcUIsQ0FBQ2h2QyxFQUFTZ1MsSUFDdEJnOUIsR0FBc0JodkMsRUFBU2dTLEdBR3hDbFMsb0JBQ0VnMkMsRUFBbUJkLHFCQUdyQi9KLFVBQVdDLEdBQ1hqL0IsYUFBY0EsR0FDZDQrQixTQUFVQSxHQUNWRyxlQUFnQkEsSUFHZGdKLElBQ0Z0MUMsT0FBTzRMLFNBQVMwcEMscUJBQXVCQSxHQUkzQ3QxQyxPQUFPNEwsU0FBU21sQyxVQUFZbUY7Ozs7Ozs7Ozs7QUMzTTVCbDJDLE9BQU95TiwwQkFBNEIsU0FBU0MsRUFBTTZwQyxHQUNoRCxPQUFPN3BDOzs7Ozs7Ozs7O0FDVFQsSUFFSThwQyxHQUNBQyxHQUhBQyxHQUFhLHNCQUNiQyxHQUFVLCtCQWNQLFNBQVNDLEdBQVdDLEVBQUtDLEdBQzlCLEdBQUlELEdBQU9GLEdBQVEvcEIsS0FBS2lxQixHQUN0QixPQUFPQSxFQUVULEdBQVksT0FBUkEsRUFDRixPQUFPQSxFQUdULFFBQW1COTNDLElBQWZ5M0MsR0FBMEIsQ0FDNUJBLElBQWEsRUFDYixJQUNFLE1BQU1PLEVBQUksSUFBSUMsSUFBSSxJQUFLLFlBQ3ZCRCxFQUFFRSxTQUFXLFFBQ2JULEdBQXlCLG1CQUFYTyxFQUFFRyxLQUNoQixNQUFPdHVDLEtBT1gsR0FIS2t1QyxJQUNIQSxFQUFVbjJDLFNBQVNtMkMsU0FBVzkzQyxPQUFPbTRDLFNBQVNELE1BRTVDVixHQUNGLElBQ0UsT0FBTyxJQUFLUSxJQUFJSCxFQUFLQyxHQUFVSSxLQUMvQixNQUFPdHVDLEdBRVAsT0FBT2l1QyxFQWFYLE9BVEtKLEtBQ0hBLEdBQWE5MUMsU0FBU3kyQyxlQUFlQyxtQkFBbUIsUUFDeERaLEdBQVdhLEtBQU9iLEdBQVdyeEMsY0FBYyxRQUMzQ3F4QyxHQUFXL3RCLEtBQUtqaUIsWUFBWWd3QyxHQUFXYSxNQUN2Q2IsR0FBVzFSLE9BQVMwUixHQUFXcnhDLGNBQWMsS0FDN0NxeEMsR0FBVzU2QixLQUFLcFYsWUFBWWd3QyxHQUFXMVIsU0FFekMwUixHQUFXYSxLQUFLSixLQUFPSixFQUN2QkwsR0FBVzFSLE9BQU9tUyxLQUFPTCxFQUNsQkosR0FBVzFSLE9BQU9tUyxNQUFRTCxFQVk1QixTQUFTVSxHQUFXbmtDLEVBQVMwakMsR0FDbEMsT0FBTzFqQyxFQUFReTRCLFFBQVE2SyxJQUFZLFNBQVN6UyxFQUFHdVQsRUFBS1gsRUFBS1ksR0FDdkQsT0FBT0QsRUFBTSxJQUNYWixHQUFXQyxFQUFJaEwsUUFBUSxRQUFTLElBQUtpTCxHQUNyQyxJQUFPVyxLQVdOLFNBQVNDLEdBQVliLEdBQzFCLE9BQU9BLEVBQUlsTCxVQUFVLEVBQUdrTCxFQUFJNXhDLFlBQVksS0FBTzs7Ozs7Ozs7O0VDaEZYNEgsU0FBUzdOLE9BQU80TCxVQUFZNUwsT0FBTzRMLFNBQVMyZ0MsV0FZM0UsSUFBSW9NLEdBQVdELEdBQVkvMkMsU0FBU20yQyxTQUFXOTNDLE9BQU9tNEMsU0FBU0QsTUE0QjNEVSxHQUFtQjU0QyxPQUFPNjRDLFNBQVc3NEMsT0FBTzY0QyxRQUFRRCx1QkFBb0I3NEMsRUN6Qy9FKzRDLEdBQVcsRUF3QlIsTUFBTUMsR0FBZ0IsU0FBU0MsR0FDcEMsSUFBSUMsRUFBaUQsRUFBUUMsb0JBQ3hERCxJQUNIQSxFQUFvQixJQUFJMzVDLFFBQ0ssRUFBUTQ1QyxvQkFBc0JELEdBRzdELElBQUlFLEVBQWdCTCxLQXFCcEIsT0FwQkEsU0FBdUJSLEdBQ3JCLElBQUljLEVBQXVDLEVBQU9DLFdBQ2xELEdBQUlELEdBQVdBLEVBQVFELEdBQ3JCLE9BQU9iLEVBRVQsSUFBSXhpQyxFQUFNbWpDLEVBQ05LLEVBQVd4akMsRUFBSW5MLElBQUkydEMsR0FDbEJnQixJQUNIQSxFQUFtQyxFQUFRaEIsR0FDM0N4aUMsRUFBSXBXLElBQUk0NEMsRUFBTWdCLElBS2hCLElBQUlDLEVBQVduOEMsT0FBT1csT0FBb0MsRUFBV3M3QyxZQUFjRCxHQUFXLE1BRzlGLE9BRkFHLEVBQVNKLElBQWlCLEVBQ0csRUFBV0UsV0FBYUUsRUFDOUNEOzs7Ozs7Ozs7RUMvQ1gsSUFBSUUsR0FBVSxHQUNWQyxHQUFZLEdBdURULE1BQU1DLFdBQWtCN3FDLFlBRzdCUSxnQ0FBa0MsTUFBTyxDQUFDLE1BYTFDak8sY0FBY3U0QyxFQUFJaG1DLEdBQ2hCLEdBQUlnbUMsRUFBSSxDQUNOLElBQUkxVSxFQXJEVixTQUFvQjBVLEdBQ2xCLE9BQU9ILEdBQVFHLElBQU9GLEdBQVVFLEVBQUc1MkMsZUFvRHZCNjJDLENBQVdELEdBQ25CLE9BQUkxVSxHQUFLdHhCLEVBQ0FzeEIsRUFBRTMzQixjQUFjcUcsR0FFbEJzeEIsRUFFVCxPQUFPLEtBWVQ3akMseUJBQXlCc0IsRUFBTXlMLEVBQUszSCxFQUFPcXpDLEdBQ3JDMXJDLElBQVEzSCxHQUNWNUksS0FBS2d5QixXQWdCVGtxQixnQkFFRSxJQUFLbDhDLEtBQUttOEMsWUFBYSxDQUdyQixNQUFNQyxFQUFRaDZDLE9BQU9pNkMsYUFBZUEsWUFBWUMsaUJBQzlDRCxZQUFZQyxpQkFBaUJ0OEMsT0FBUytELFNBQVcvRCxLQUFLdThDLGNBQ2xEdEMsRUFBTUQsR0FDVmg2QyxLQUFLcUYsYUFBYSxjQUFnQixHQUFJKzJDLEVBQU1sQyxTQUM5Q2w2QyxLQUFLbThDLFlBQWNyQixHQUFZYixHQUVqQyxPQUFPajZDLEtBQUttOEMsWUFVZDM0QyxTQUFTdTRDLEdBMUdYLElBQW1DUyxHQTJHL0JULEVBQUtBLEdBQU0vN0MsS0FBSys3QyxNQVFkLzdDLEtBQUsrN0MsR0FBS0EsRUFuSWhCLFNBQW1CQSxFQUFJVSxHQUlyQmIsR0FBUUcsR0FBTUYsR0FBVUUsRUFBRzUyQyxlQUFpQnMzQyxFQWdJeENDLENBQVVYLEVBQUkvN0MsT0FwSGV3OEMsRUFxSEh4OEMsTUFwSHJCMFAsY0FBYyxVQUNyQnhCLFFBQVFDLEtBQUssMkNBQTRDcXVDLEVBQUtULE1Bd0hsRUQsR0FBVTU3QyxVQUFtQixRQUFJMDdDLEdBRWpDdjVDLGVBQWU0UyxPQUFPLGFBQWM2bUMsSUN2SXBDLFNBQVNhLEdBQWFDLEdBQ3BCLE9BQWlDZCxHQUFVZSxPQUFPRCxHQUdwRCxTQUFTRSxHQUFlQyxHQUt0QixNQUFNQyxFQUFZckMsSUFERm9DLEVBQVU5OUIsS0FBTzg5QixFQUFVOTlCLEtBQU84OUIsR0FDWDl0QyxZQUNyQzh0QyxFQUFVN0MsU0FDTmxyQyxFQUFRakwsU0FBU3lFLGNBQWMsU0FFckMsT0FEQXdHLEVBQU1DLFlBQWMrdEMsRUFDYmh1QyxFQWVGLFNBQVNpdUMsR0FBa0JDLEdBQ2pDLE1BQU10QixFQUFVc0IsRUFBVTFQLE9BQU9ob0MsTUFBTSxPQUNqQ3FKLEVBQVMsR0FDZixJQUFLLElBQUlyTyxFQUFFLEVBQUdBLEVBQUlvN0MsRUFBUWo3QyxPQUFRSCxJQUNoQ3FPLEVBQU9wSixRQUFRMDNDLEdBQWlCdkIsRUFBUXA3QyxLQUUxQyxPQUFPcU8sRUFZRCxTQUFTc3VDLEdBQWlCUCxHQUMvQixNQUFNdlYsRUFBSXNWLEdBQWFDLEdBRXZCLElBQUt2VixFQUVILE9BREFuNUIsUUFBUUMsS0FBSyw0Q0FBNkN5dUMsR0FDbkQsR0FHVCxRQUFrQno2QyxJQUFka2xDLEVBQUU5dkIsUUFBdUIsQ0FDM0IsTUFBTTFJLEVBQVMsR0FFZkEsRUFBT3BKLFFBQVEyM0MsR0FBeUIvVixJQUV4QyxNQUFNdGdDLEVBQ0ZzZ0MsRUFBRTMzQixjQUFjLFlBQ2hCM0ksR0FDRjhILEVBQU9wSixRQUFRNDNDLEdBQW1CdDJDLEVBQ0ksRUFBSW0xQyxZQUc1QzdVLEVBQUU5dkIsUUFBVTFJLEVBR2QsT0FBT3c0QixFQUFFOXZCLFFBVUosU0FBUzhsQyxHQUFtQnQyQyxFQUFVbXpDLEdBQzNDLElBQUtuekMsRUFBU3dRLFFBQVMsQ0FDckIsTUFBTTFJLEVBQVMsR0FFVHl1QyxFQUFLdjJDLEVBQVM5QyxRQUFRNkssaUJBQWlCLFNBQzdDLElBQUssSUFBSXRPLEVBQUUsRUFBR0EsRUFBSTg4QyxFQUFHMzhDLE9BQVFILElBQUssQ0FDaEMsSUFBSXdMLEVBQUlzeEMsRUFBRzk4QyxHQUdQKzhDLEVBQVV2eEMsRUFBRTNHLGFBL0ZELFdBZ0dYazRDLEdBQ0YxdUMsRUFBT3BKLFFBQVF3M0MsR0FBa0JNLEdBQVM5ZSxRQUFPLFNBQVMzekIsRUFBTTNHLEVBQU9vdUIsR0FDckUsT0FBT0EsRUFBS3pzQixRQUFRZ0YsS0FBVTNHLE1BRzlCKzFDLElBQ0ZsdUMsRUFBRWlELFlBQ0UwckMsR0FBVzN1QyxFQUFFaUQsZ0JBRW5CSixFQUFPcEosS0FBS3VHLEdBRWRqRixFQUFTd1EsUUFBVTFJLEVBRXJCLE9BQU85SCxFQUFTd1EsUUFrQmxCLFNBQVM2bEMsR0FBeUJYLEdBQ2hDLE1BQU01dEMsRUFBUyxHQUNUMnVDLEVBQUtmLEVBQU8zdEMsaUJBbEllLCtCQW1JakMsSUFBSyxJQUFJdE8sRUFBRSxFQUFHQSxFQUFJZzlDLEVBQUc3OEMsT0FBUUgsSUFBSyxDQUNoQyxJQUFJWixFQUFJNDlDLEVBQUdoOUMsR0FDWCxHQUFJWixFQUFFaTlDLE9BQVEsQ0FDWixNQUFNRSxFQUFZbjlDLEVBQUVpOUMsT0FDZFksRUFBVzc5QyxFQUFFd3NCLGFBcklHLGtCQXNJdEIsR0FBSXF4QixJQUFhVixFQUFVVyxlQUFnQixDQUN6QyxNQUFNMXVDLEVBQVE4dEMsR0FBZUMsR0FDN0IvdEMsRUFBTXpGLGFBeEljLGlCQXdJb0IsSUFDeEN3ekMsRUFBVVcsZUFBaUIxdUMsT0FDakIrdEMsRUFBVVksU0FDcEJaLEVBQVVZLE9BQVNiLEdBQWVDLElBRXBDbHVDLEVBQU9wSixLQUFLZzRDLEVBQVdWLEVBQVVXLGVBQWlCWCxFQUFVWSxTQUdoRSxPQUFPOXVDLEVBbUNGLFNBQVMrdUMsR0FBY2hCLEdBQzVCLElBQUl2VixFQUFJc1YsR0FBYUMsR0FDckIsR0FBSXZWLFFBQW9CbGxDLElBQWZrbEMsRUFBRXdXLFNBQXdCLENBRWpDLElBQUlybkMsRUE2RFIsU0FBK0JpbUMsR0FDN0IsSUFBSWptQyxFQUFVLEdBQ1YzSCxFQUFTdXVDLEdBQXlCWCxHQUN0QyxJQUFLLElBQUlqOEMsRUFBRSxFQUFHQSxFQUFJcU8sRUFBT2xPLE9BQVFILElBQy9CZ1csR0FBVzNILEVBQU9yTyxHQUFHeU8sWUFFdkIsT0FBT3VIOzs7Ozs7Ozs7RUFuRVNzbkMsQ0FBc0J6VyxHQUVoQy9tQyxFQUF3QyttQyxFQUFFMzNCLGNBQWMsWUFDeERwUCxJQUNGa1csR0FzQkMsU0FBeUJ6UCxFQUFVbXpDLEdBQ3hDLElBQUkxakMsRUFBVSxHQUNkLE1BQU04bUMsRUFBS0QsR0FBbUJ0MkMsRUFBVW16QyxHQUV4QyxJQUFLLElBQUkxNUMsRUFBRSxFQUFHQSxFQUFJODhDLEVBQUczOEMsT0FBUUgsSUFBSyxDQUNoQyxJQUFJd0wsRUFBSXN4QyxFQUFHOThDLEdBQ1B3TCxFQUFFaEcsWUFDSmdHLEVBQUVoRyxXQUFXcEQsWUFBWW9KLEdBRTNCd0ssR0FBV3hLLEVBQUVpRCxZQUVmLE9BQU91SCxFQWpDUXVuQyxDQUFnQno5QyxFQUNXLEVBQUk0N0MsWUFFNUM3VSxFQUFFd1csU0FBV3JuQyxHQUFXLEtBSzFCLE9BSEs2d0IsR0FDSG41QixRQUFRQyxLQUFLLDRDQUE2Q3l1QyxHQUVyRHZWLEdBQUtBLEVBQUV3VyxVQUFZLEdDck01QixNQUFhRyxHQUFRNTdDLE9BQWlCLFVBQUtBLE9BQWlCLFNBQVcsU0FBS0EsT0FBaUIsU0FBUSxLQUNuR0EsT0FBaUIsU0FBUSxLQUN4QkEsT0FBaUIsU0FBSzNCLEdBQU13OUMsU0FBZ0IsTUFBRXg5QyxHQUFNQSxHQUFNQTs7Ozs7Ozs7O0VDUXRELFNBQVN5OUMsR0FBTzcvQixHQUNyQixPQUFPQSxFQUFLdlksUUFBUSxNQUFRLEVBZ0J2QixTQUFTNHJCLEdBQUtyVCxHQUNuQixJQUFJOC9CLEVBQVc5L0IsRUFBS3ZZLFFBQVEsS0FDNUIsT0FBa0IsSUFBZHE0QyxFQUNLOS9CLEVBRUZBLEVBQUtsYixNQUFNLEVBQUdnN0MsR0FtQmhCLFNBQVNDLEdBQVcxRCxFQUFNcjhCLEdBRS9CLE9BQW9DLElBQTdCcThCLEVBQUs1MEMsUUFBUXVZLEVBQU8sS0FrQnRCLFNBQVNnZ0MsR0FBYTNELEVBQU1yOEIsR0FFakMsT0FBb0MsSUFBN0JBLEVBQUt2WSxRQUFRNDBDLEVBQU8sS0FvQjdCLFNBQWdCNEQsR0FBVTVELEVBQU02RCxFQUFTbGdDLEdBQ3ZDLE9BQU9rZ0MsRUFBVWxnQyxFQUFLbGIsTUFBTXUzQyxFQUFLLzVDLFFBNEI1QixTQUFTNjlDLEdBQVVuZ0MsR0FDeEIsR0FBSTFlLE1BQU1tSixRQUFRdVYsR0FBTyxDQUN2QixJQUFJMWEsRUFBUSxHQUNaLElBQUssSUFBSW5ELEVBQUUsRUFBR0EsRUFBRTZkLEVBQUsxZCxPQUFRSCxJQUFLLENBQ2hDLElBQUlxQixFQUFPd2MsRUFBSzdkLEdBQUdpK0MsV0FBV2o1QyxNQUFNLEtBQ3BDLElBQUssSUFBSStvQixFQUFFLEVBQUdBLEVBQUUxc0IsRUFBS2xCLE9BQVE0dEIsSUFDM0I1cUIsRUFBTThCLEtBQUs1RCxFQUFLMHNCLElBR3BCLE9BQU81cUIsRUFBTXdKLEtBQUssS0FFbEIsT0FBT2tSLEVBbUJKLFNBQVM3WSxHQUFNNlksR0FDcEIsT0FBSTFlLE1BQU1tSixRQUFRdVYsR0FDVG1nQyxHQUFVbmdDLEdBQU03WSxNQUFNLEtBRXhCNlksRUFBS29nQyxXQUFXajVDLE1BQU0sS0FjL0IsU0FBZ0J1SCxHQUFJMmtCLEVBQU1yVCxFQUFNeVIsR0FDOUIsSUFBSWhnQixFQUFPNGhCLEVBQ1AvdEIsRUFBUTZCLEdBQU02WSxHQUVsQixJQUFLLElBQUk3ZCxFQUFFLEVBQUdBLEVBQUVtRCxFQUFNaEQsT0FBUUgsSUFBSyxDQUNqQyxJQUFLc1AsRUFDSCxPQUdGQSxFQUFPQSxFQURJbk0sRUFBTW5ELElBTW5CLE9BSElzdkIsSUFDRkEsRUFBS3pSLEtBQU8xYSxFQUFNd0osS0FBSyxNQUVsQjJDLEVBWVQsU0FBZ0JoTyxHQUFJNHZCLEVBQU1yVCxFQUFNelYsR0FDOUIsSUFBSWtILEVBQU80aEIsRUFDUC90QixFQUFRNkIsR0FBTTZZLEdBQ2RxZ0MsRUFBTy82QyxFQUFNQSxFQUFNaEQsT0FBTyxHQUM5QixHQUFJZ0QsRUFBTWhELE9BQVMsRUFBRyxDQUVwQixJQUFLLElBQUlILEVBQUUsRUFBR0EsRUFBRW1ELEVBQU1oRCxPQUFPLEVBQUdILElBQUssQ0FHbkMsR0FEQXNQLEVBQU9BLEVBREluTSxFQUFNbkQsS0FFWnNQLEVBQ0gsT0FJSkEsRUFBSzR1QyxHQUFROTFDLE9BR2JrSCxFQUFLdU8sR0FBUXpWLEVBRWYsT0FBT2pGLEVBQU13SixLQUFLOzs7Ozs7Ozs7RUNoT3BCLE1BQU13eEMsR0FBVSxHQUNWQyxHQUFnQixVQUNoQkMsR0FBZ0IsV0FjZixTQUFTQyxHQUFnQkMsR0FDOUIsT0FBT0osR0FBUUksS0FDYkosR0FBUUksR0FBUUEsRUFBS2o1QyxRQUFRLEtBQU8sRUFBSWk1QyxFQUFPQSxFQUFLOVAsUUFBUTJQLEdBQ3pEdlgsR0FBTUEsRUFBRSxHQUFHMlgsZ0JBWVgsU0FBU0MsR0FBZ0JDLEdBQzlCLE9BQU9QLEdBQVFPLEtBQ2JQLEdBQVFPLEdBQVNBLEVBQU1qUSxRQUFRNFAsR0FBZSxPQUFPMTVDOzs7Ozs7Ozs7RUNuQnpELElBQUlnNkMsR0FBc0IsRUFDdEJDLEdBQXNCLEVBQ3RCQyxHQUFxQixHQUNyQkMsR0FBdUIsRUFDdkJDLEdBQWdCeDdDLFNBQVNzQyxlQUFlLElBQzVDLElBQUlqRSxPQUFPOHNCLGtCQUVYLFdBQ0UsTUFBTXN3QixFQUFNSCxHQUFtQjErQyxPQUMvQixJQUFLLElBQUlILEVBQUksRUFBR0EsRUFBSWcvQyxFQUFLaC9DLElBQUssQ0FDNUIsSUFBSWsyQyxFQUFLMkksR0FBbUI3K0MsR0FDNUIsR0FBSWsyQyxFQUNGLElBQ0VBLElBQ0EsTUFBTzFxQyxHQUNQc1EsV0FBVyxLQUFRLE1BQU10USxLQUkvQnF6QyxHQUFtQnB4QixPQUFPLEVBQUd1eEIsR0FDN0JKLElBQXVCSSxLQWZtQmp3QixRQUFRZ3dCLEdBQWUsQ0FBQ0UsZUFBZSxJQXdCbkYsTUFBTUMsR0FBVSxDQVNkQyxNQUFNQyxJQUNHLENBQ0xDLElBQUk5aEMsR0FBYTNiLE9BQU9rYSxXQUFXeUIsRUFBSTZoQyxHQUN2Q3A4QyxPQUFPczhDLEdBQ0wxOUMsT0FBT29hLGFBQWFzakMsTUFZMUJELElBQUcsQ0FBQzloQyxFQUFJNmhDLElBQ0N4OUMsT0FBT2thLFdBQVd5QixFQUFJNmhDLEdBUy9CcDhDLE9BQU9zOEMsR0FDTDE5QyxPQUFPb2EsYUFBYXNqQyxLQW1GbEJDLEdBQVksQ0FTaEJGLElBQUluc0IsSUFDRjZyQixHQUFjdHdDLFlBQWNxd0MsS0FDNUJELEdBQW1CNTVDLEtBQUtpdUIsR0FDakJ5ckIsTUFVVDM3QyxPQUFPczhDLEdBQ0wsTUFBTTlvQyxFQUFNOG9DLEVBQVNWLEdBQ3JCLEdBQUlwb0MsR0FBTyxFQUFHLENBQ1osSUFBS3FvQyxHQUFtQnJvQyxHQUN0QixNQUFNLElBQUk5TCxNQUFNLHlCQUEyQjQwQyxHQUU3Q1QsR0FBbUJyb0MsR0FBTyxRQ3pMMUJncEMsR0FBWUQsR0F1QkxFLEdBQW9COUUsR0FNNUIrRSxHQVFILGNBQWdDQSxFQVM5QjE4Qyx3QkFBd0JpUCxHQUN0QixNQUFNbUQsRUFBUTVWLEtBQUtFLFVBQ25CLElBQUssSUFBSTRQLEtBQVEyQyxFQUVUM0MsS0FBUThGLEdBQ1pBLEVBQU11cUMsd0JBQXdCcndDLEdBZXBDdE0sZ0NBQWdDa1MsR0FDOUIsT0FBT0EsRUFBU3ZRLGNBV2xCM0IsdUJBQXVCc0IsSUFtQnZCdEIsd0JBQXdCa1MsRUFBVTBxQyxHQUNoQ3BnRCxLQUFLcWdELDJCQUEyQjNxQyxHQUMzQjFWLEtBQUtILGVBQWVnUSwwQkFBMEIsb0JBQXFCN1AsU0FDdEVBLEtBQUtzZ0Qsa0JBQW9COWdELE9BQU9hLE9BQU8sR0FBSUwsS0FBS3NnRCxvQkFFN0N0Z0QsS0FBS3NnRCxrQkFBa0I1cUMsS0FDMUIxVixLQUFLc2dELGtCQUFrQjVxQyxJQUFZLEVBQ25DMVYsS0FBS3VnRCx3QkFBd0I3cUMsRUFBVTBxQyxJQVkzQzU4QywyQkFBMkJrUyxHQUl6QixHQUhLMVYsS0FBS0gsZUFBZWdRLDBCQUEwQixtQkFBb0I3UCxTQUNyRUEsS0FBS3dnRCxpQkFBbUJoaEQsT0FBT2EsT0FBTyxHQUFJTCxLQUFLd2dELG9CQUU1Q3hnRCxLQUFLd2dELGlCQUFpQjlxQyxHQUFXLENBQ3BDLE1BQU05RCxFQUFPNVIsS0FBS0MsWUFBWXdnRCx5QkFBeUIvcUMsR0FDdkQxVixLQUFLd2dELGlCQUFpQjV1QyxHQUFROEQsR0FXakNsUyx3QkFBd0JrUyxFQUFVMHFDLEdBQ2pDNWdELE9BQU9nQyxlQUFleEIsS0FBTTBWLEVBQVUsQ0FHcENsUyxNQUNFLE9BQU94RCxLQUFLMGdELGFBQWFockMsSUFHM0I1VCxJQUFLcytDLEVBQVcsYUFBaUIsU0FBVXgzQyxHQUN6QzVJLEtBQUsyZ0QsYUFBYWpyQyxFQUFVOU0sTUFNbENwRixjQUNFNEgsUUFFQXBMLEtBQUs0Z0QsZUFBZ0IsRUFDckI1Z0QsS0FBSzZnRCxhQUFjLEVBQ25CN2dELEtBQUs4Z0QsZUFBZ0IsRUFDckI5Z0QsS0FBSytnRCxPQUFTLEdBQ2QvZ0QsS0FBS2doRCxjQUFnQixLQUNyQmhoRCxLQUFLaWhELFVBQVksS0FDakJqaEQsS0FBS2toRCxvQkFBc0IsS0FDM0JsaEQsS0FBS21oRCxlQUFnQixFQUNyQm5oRCxLQUFLb2hELHdCQWtCUDU5QyxRQUNFeEQsS0FBSzZnRCxhQUFjLEVBQ25CN2dELEtBQUtxaEQsbUJBYVA3OUMsd0JBSUUsSUFBSyxJQUFJNUQsS0FBS0ksS0FBS3NnRCxrQkFDYnRnRCxLQUFLSCxlQUFlRCxLQUN0QkksS0FBS2toRCxvQkFBc0JsaEQsS0FBS2toRCxxQkFBdUIsR0FDdkRsaEQsS0FBS2toRCxvQkFBb0J0aEQsR0FBS0ksS0FBS0osVUFDNUJJLEtBQUtKLElBbUJsQjRELDhCQUE4QmlQLEdBQzVCalQsT0FBT2EsT0FBT0wsS0FBTXlTLEdBYXRCalAsYUFBYWtTLEVBQVU5TSxHQUNqQjVJLEtBQUtzaEQsb0JBQW9CNXJDLEVBQVU5TSxJQUNyQzVJLEtBQUt1aEQsd0JBV1QvOUMsYUFBYWtTLEdBQ1gsT0FBTzFWLEtBQUsrZ0QsT0FBT3JyQyxHQWlCckJsUyxvQkFBb0JrUyxFQUFVOU0sRUFBTzQ0QyxHQUNuQyxJQUFJanhDLEVBQU12USxLQUFLK2dELE9BQU9yckMsR0FDbEIrckMsRUFBVXpoRCxLQUFLMGhELHNCQUFzQmhzQyxFQUFVOU0sRUFBTzJILEdBYTFELE9BWklreEMsSUFDR3poRCxLQUFLZ2hELGdCQUNSaGhELEtBQUtnaEQsY0FBZ0IsR0FDckJoaEQsS0FBS2loRCxVQUFZLEtBR2ZqaEQsS0FBS2loRCxXQUFldnJDLEtBQVkxVixLQUFLaWhELFlBQ3ZDamhELEtBQUtpaEQsVUFBVXZyQyxHQUFZbkYsR0FFN0J2USxLQUFLK2dELE9BQU9yckMsR0FBWTlNLEVBQ3hCNUksS0FBS2doRCxjQUFjdHJDLEdBQVk5TSxHQUUxQjY0QyxFQVlUaitDLHlCQUNPeEQsS0FBSzhnRCxlQUFpQjlnRCxLQUFLNmdELGNBQzlCN2dELEtBQUs4Z0QsZUFBZ0IsRUFDckJkLEdBQVVILElBQUksS0FDUjcvQyxLQUFLOGdELGdCQUNQOWdELEtBQUs4Z0QsZUFBZ0IsRUFDckI5Z0QsS0FBS3FoRCx1QkFrQmI3OUMsb0JBQ094RCxLQUFLNGdELGdCQUNSNWdELEtBQUs0Z0QsZUFBZ0IsRUFDakI1Z0QsS0FBS2toRCxzQkFDUGxoRCxLQUFLMmhELDhCQUE4QjNoRCxLQUFLa2hELHFCQUN4Q2xoRCxLQUFLa2hELG9CQUFzQixNQUU3QmxoRCxLQUFLNGhELFNBY1RwK0MsbUJBQ0UsTUFBTWlQLEVBQVF6UyxLQUFLK2dELE9BQ2JjLEVBQWU3aEQsS0FBS2doRCxjQUNwQnp3QyxFQUFNdlEsS0FBS2loRCxVQUNiamhELEtBQUs4aEQsd0JBQXdCcnZDLEVBQU9vdkMsRUFBY3R4QyxLQUNwRHZRLEtBQUtnaEQsY0FBZ0IsS0FDckJoaEQsS0FBS2loRCxVQUFZLEtBQ2pCamhELEtBQUsraEQsbUJBQW1CdHZDLEVBQU9vdkMsRUFBY3R4QyxJQWlCakQvTSx3QkFBd0J3K0MsRUFBY0gsRUFBY3hMLEdBQ2xELE9BQU9wbUMsUUFBUTR4QyxHQWdCakJyK0MsbUJBQW1CdytDLEVBQWNILEVBQWN4TCxJQXNCL0M3eUMsc0JBQXNCa1MsRUFBVTlNLEVBQU8ySCxHQUNyQyxPQUVHQSxJQUFRM0gsSUFFTjJILEdBQVFBLEdBQU8zSCxHQUFVQSxHQWdCaENwRix5QkFBeUJzQixFQUFNeUwsRUFBSzNILEVBQU9xekMsR0FDckMxckMsSUFBUTNILEdBQ1Y1SSxLQUFLbVQscUJBQXFCck8sRUFBTThELEdBRTlCd0MsTUFBTTYyQywwQkFDUjcyQyxNQUFNNjJDLHlCQUF5Qm45QyxFQUFNeUwsRUFBSzNILEVBQU9xekMsR0FpQnJEejRDLHFCQUFxQmlOLEVBQVc3SCxFQUFPbEQsR0FDckMsSUFBSzFGLEtBQUttaEQsY0FBZSxDQUN2QixNQUFNanBDLEVBQU1sWSxLQUFLd2dELGlCQUNYOXFDLEVBQVd3QyxHQUFPQSxFQUFJekgsSUFBY0EsRUFDMUN6USxLQUFLMFYsR0FBWTFWLEtBQUtraUQsa0JBQWtCdDVDLEVBQU9sRCxHQUM3QzFGLEtBQUtDLFlBQVlraUQsZ0JBQWdCenNDLEtBZXZDbFMscUJBQXFCa1MsRUFBVWpGLEVBQVc3SCxHQUN4QzVJLEtBQUttaEQsZUFBZ0IsRUFDckJ2NEMsRUFBU2xJLFVBQVVDLE9BQVMsRUFBS1gsS0FBSzBWLEdBQVk5TSxFQUNsRDVJLEtBQUtvaUQsMkJBQXlEeDVDLEVBQzVENkgsR0FBYXpRLEtBQUtDLFlBQVl3Z0QseUJBQXlCL3FDLElBQ3pEMVYsS0FBS21oRCxlQUFnQixFQWlCdkIzOUMsc0JBQXNCZSxFQUFNcUUsRUFBTzZILEdBQ2pDLE1BQU1oSyxFQUFNekcsS0FBS3FpRCxnQkFBZ0J6NUMsR0FDZixVQUFkNkgsR0FBdUMsU0FBZEEsR0FBc0MsU0FBZEEsSUFDbkRsTSxFQUErQnk1QyxHQUFLejVDLFNBRTFCcEMsSUFBUnNFLEVBQ0ZsQyxFQUFLZSxnQkFBZ0JtTCxHQUVyQmxNLEVBQUtnRixhQUFha0gsRUFBV2hLLEdBZ0JqQ2pELGdCQUFnQm9GLEdBQ2QsY0FBZUEsR0FDYixJQUFLLFVBQ0gsT0FBT0EsRUFBUSxRQUFLekcsRUFDdEIsUUFDRSxPQUFnQixNQUFUeUcsRUFBZ0JBLEVBQU02MUMsZ0JBQWF0OEMsR0FpQmhEcUIsa0JBQWtCb0YsRUFBT2xELEdBQ3ZCLE9BQVFBLEdBQ04sS0FBS3VLLFFBQ0gsT0FBa0IsT0FBVnJILEVBQ1YsS0FBS3dILE9BQ0gsT0FBT0EsT0FBT3hILEdBQ2hCLFFBQ0UsT0FBT0EsTUN2aEJYMDVDLEdBQW1CLEdBQ3pCLElBQUkxc0MsR0FBUTNFLFlBQVkvUSxVQUN4QixLQUFPMFYsSUFBTyxDQUNaLElBQUluRCxFQUFRalQsT0FBT29ULG9CQUFvQmdELElBQ3ZDLElBQUssSUFBSXBWLEVBQUUsRUFBR0EsRUFBRWlTLEVBQU05UixPQUFRSCxJQUM1QjhoRCxHQUFpQjd2QyxFQUFNalMsS0FBTSxFQUUvQm9WLEdBQVFwVyxPQUFPd1MsZUFBZTRELElBd0V6QixNQUFNMnNDLEdBQW9CcEgsR0FBYytFLElBUTVDLE1BQU14RixFQUFPdUYsR0FBa0JDLEdBNE5oQyxPQW5OQSxjQUFnQ3hGLEVBWTlCbDNDLHVDQUNFLElBQUlnL0MsRUFBdUIsS0FBTy93QyxtQkFDbEMsSUFBSyxJQUFJalIsRUFBRSxFQUFHQSxFQUFJZ2lELEVBQUc3aEQsT0FBUUgsSUFDM0JSLEtBQUtFLFVBQVVpZ0Qsd0JBQXdCckIsR0FBZ0IwRCxFQUFHaGlELEtBYTlEZ0QsZ0NBQWdDa1MsR0FDOUIsT0FBT3VwQyxHQUFnQnZwQyxHQVl6QmxTLHdCQUNNeEQsS0FBS3lpRCxjQUNQemlELEtBQUswaUQsMkJBQTJCMWlELEtBQUt5aUQsYUFDckN6aUQsS0FBS3lpRCxZQUFjLE1BRXJCcjNDLE1BQU1nMkMsd0JBaUJSNTlDLDJCQUEyQmlQLEdBQ3pCLElBQUssSUFBSTdTLEtBQUs2UyxFQUNaelMsS0FBSzJnRCxhQUFhL2dELEVBQUc2UyxFQUFNN1MsSUFnQi9CNEQsaUJBQWlCaU4sRUFBVzdILEdBQzFCLE1BQU1tNEIsT0FDREEsRUFBRzNVLGFBQWEzYixJQUNuQnpRLEtBQUtvaUQsc0JBQXNCcmhCLEVBQUluNEIsRUFBTzZILEdBWTFDak4sZ0JBQWdCb0YsR0FFZCxjQUFlQSxHQUNiLElBQUssU0FDSCxHQUFJQSxhQUFpQis1QyxLQUNuQixPQUFPLzVDLEVBQU02MUMsV0FDUixHQUFJNzFDLEVBQ1QsSUFDRSxPQUFPc0gsS0FBS0MsVUFBVXZILEdBQ3RCLE1BQU15ZCxHQUNOLE1BQU8sR0FJYixRQUNFLE9BQU9qYixNQUFNaTNDLGdCQUFnQno1QyxJQW9CbkNwRixrQkFBa0JvRixFQUFPbEQsR0FJdkIsSUFBSWs5QyxFQUNKLE9BQVFsOUMsR0FDTixLQUFLbEcsT0FDSCxJQUNFb2pELEVBQVcxeUMsS0FBS0csU0FDaEIsTUFBTWdXLEdBRU51OEIsRUFBV2g2QyxFQUViLE1BQ0YsS0FBS2pKLE1BQ0gsSUFDRWlqRCxFQUFXMXlDLEtBQUtHLFNBQ2hCLE1BQU1nVyxHQUNOdThCLEVBQVcsS0FDWDEwQyxRQUFRQyxLQUFLLHVEQUF1RHZGLEtBRXRFLE1BQ0YsS0FBSys1QyxLQUNIQyxFQUFXQyxNQUFNajZDLEdBQVM1RixPQUFPNEYsR0FBU3dILE9BQU94SCxHQUNqRGc2QyxFQUFXLElBQUlELEtBQUtDLEdBQ3BCLE1BQ0YsUUFDRUEsRUFBV3gzQyxNQUFNODJDLGtCQUFrQnQ1QyxFQUFPbEQsR0FHOUMsT0FBT2s5QyxFQW9CVHAvQyx3QkFBd0JrUyxFQUFVMHFDLElBN1B0QyxTQUEyQjBDLEVBQU9wdEMsR0FFaEMsSUFBSzRzQyxHQUFpQjVzQyxHQUFXLENBQy9CLElBQUk5TSxFQUFRazZDLEVBQU1wdEMsUUFDSnZULElBQVZ5RyxJQUNFazZDLEVBQU0vQixPQUdSK0IsRUFBTXhCLG9CQUFvQjVyQyxFQUFVOU0sSUFHL0JrNkMsRUFBTUwsWUFFQ0ssRUFBTWpqRCxlQUFlZ1EsMEJBQTBCLGNBQWVpekMsTUFDeEVBLEVBQU1MLFlBQWNqakQsT0FBT1csT0FBTzJpRCxFQUFNTCxjQUZ4Q0ssRUFBTUwsWUFBYyxHQUl0QkssRUFBTUwsWUFBWS9zQyxHQUFZOU0sS0E4T2hDbTZDLENBQWtCL2lELEtBQU0wVixHQUN4QnRLLE1BQU1tMUMsd0JBQXdCN3FDLEVBQVUwcUMsR0FVMUM1OEMsYUFBYWtTLEdBQ1gsT0FBTzFWLEtBQUtzZ0QsbUJBQXFCdGdELEtBQUtzZ0Qsa0JBQWtCNXFDLEdBVzFEbFMsbUJBQW1Cc00sR0FDakIsT0FBT0csUUFBUWpRLEtBQUtnaEQsZUFBa0JseEMsS0FBUTlQLEtBQUtnaEQsbUJDNVNuRGdDLEdBQXFCLENBQ3pCQyxVQUFVLEVBQ1ZDLGNBQWM7Ozs7Ozs7OztFQUdoQixJQUFJQyxJQUF1QixFQUN2QkMsSUFBaUIsRUFzQ3JCLFNBQVNDLEdBQWU5K0MsSUFwQ3hCLFdBQ0UsSUFBSzQrQyxHQUFzQixDQUN6QkEsSUFBdUIsRUFDdkIsTUFBTTdpRCxFQUFJeUQsU0FBU3lFLGNBQWMsWUFDakNsSSxFQUFFZ2pELFlBQWMsSUFDaEJGLEdBQWlCOWlELEVBQUVnakQsY0FBZ0JoakQsRUFBRTJPLFlBRXZDLE9BQU9tMEMsSUE4QkhHLElBQTBDLGFBQW5CaC9DLEVBQUsrVCxXQUE0Qi9ULEVBQUsrK0MsYUFDeEQvK0MsRUFBSysrQyxjQUFnQi8rQyxFQUFLMEssY0FDakMxSyxFQUFLMEssWUFBYyxNQUl2QixTQUFTdTBDLEdBQXNCai9DLEdBQzdCLElBQUl3MEMsRUFBS3gwQyxFQUFLYyxhQUFhLE1BQzNCLEdBQUkwekMsR0FBTWlLLEdBQW1CakssR0FBSyxDQUNoQyxJQUFJejRDLEVBQUlpRSxFQUtSLElBSkFqRSxFQUFFZ0YsZ0JBQWdCLE1BQ2xCZixFQUFPakUsRUFBRWk4QyxjQUFjL3pDLGNBQWN1d0MsR0FDckN6NEMsRUFBRTBGLFdBQVd5OUMsYUFBYWwvQyxFQUFNakUsR0FDaENpRSxFQUFLc0YsWUFBWXZKLEdBQ1hBLEVBQUVxRSxXQUFXaEUsUUFDakI0RCxFQUFLZ0YsYUFBYWpKLEVBQUVxRSxXQUFXLEdBQUdHLEtBQU14RSxFQUFFcUUsV0FBVyxHQUFHaUUsT0FDeER0SSxFQUFFZ0YsZ0JBQWdCaEYsRUFBRXFFLFdBQVcsR0FBR0csTUFHdEMsT0FBT1AsRUFHVCxTQUFTbS9DLEdBQWlCaHlCLEVBQU1peUIsR0FFOUIsSUFBSTU5QyxFQUFTNDlDLEVBQVNDLFlBQWNGLEdBQWlCaHlCLEVBQU1peUIsRUFBU0MsWUFFcEUsSUFBSTc5QyxFQVNGLE9BQU8yckIsRUFOUCxJQUFLLElBQUlqeEIsRUFBRXNGLEVBQU8wSixXQUFZalAsRUFBRSxFQUFHQyxFQUFHQSxFQUFFQSxFQUFFa0MsWUFDeEMsR0FBSWdoRCxFQUFTRSxjQUFnQnJqRCxJQUMzQixPQUFPQyxFQVNmLFNBQVNxakQsR0FBYXRILEVBQU10a0MsRUFBSzNULEVBQU1vL0MsR0FDakNBLEVBQVM1SCxLQUNYN2pDLEVBQUl5ckMsRUFBUzVILElBQU14M0MsR0FLdkIsU0FBU3cvQyxHQUFtQnZILEVBQU1qNEMsRUFBTW8vQyxHQUN0QyxHQUFJQSxFQUFTSyxRQUFVTCxFQUFTSyxPQUFPcmpELE9BQ3JDLElBQUssSUFBNkJxTCxFQUF6QnVpQixFQUFFLEVBQUcrdUIsRUFBR3FHLEVBQVNLLE9BQVl6MUIsRUFBRSt1QixFQUFHMzhDLFNBQVlxTCxFQUFFc3hDLEVBQUcvdUIsSUFBS0EsSUFDL0RpdUIsRUFBS3lILDhCQUE4QjEvQyxFQUFNeUgsRUFBRWxILEtBQU1rSCxFQUFFcEQsTUFBTzR6QyxHQU1oRSxTQUFTMEgsR0FBcUIxSCxFQUFNajRDLEVBQU1vL0MsR0FDcENBLEVBQVNRLGVBQ1g1L0MsRUFBSzYvQyxjQUFnQlQsRUFBU1EsY0FrQ2xDLE1BQWFFLEdBQWdCbEosR0FNeEIrRSxHQU9ILGNBQTRCQSxFQThFMUIxOEMsc0JBQXNCdUQsRUFBVXU5QyxHQUU5QixJQUFLdjlDLEVBQVNxOUMsY0FBZSxDQUUzQixJQUFhRCxFQUFlcDlDLEVBQVNxOUMsY0FBZ0IsR0FDckRELEVBQWFJLGFBQWUsR0FDNUJKLEVBQWFLLGdCQUNWRixHQUFxQkEsRUFBa0JFLGlCQUN4Q3o5QyxFQUFTcWxCLGFBQWEsb0JBRXZCcHNCLEtBQUt5a0Qsc0JBQ0QxOUMsRUFBVW85QyxHQUFpQ3ArQyxPQUFRLE9BRTFELE9BQU9nQixFQUFTcTlDLGNBWWxCNWdELDZCQUE2QnVELEVBQVVvOUMsRUFBY1IsR0FDbkQsT0FBTzNqRCxLQUFLMGtELG1CQUFtQjM5QyxFQUFTOUMsUUFBU2tnRCxFQUFjUixHQWlCakVuZ0QsMEJBQTBCZSxFQUFNNC9DLEVBQWNSLEdBQzVDLElBQUlnQixHQUFRLEVBQ1JqaEQsSUFjSixNQWJ5QixZQUFyQkEsRUFBUTRVLFdBQTRCNVUsRUFBUTBvQixhQUFhLG9CQUU1QixTQUF0QjFvQixFQUFRNFUsWUFFakI2ckMsRUFBYVMsbUJBQW9CLEdBSGpDRCxFQUFRM2tELEtBQUs2a0QsNkJBQTZCbmhELEVBQVN5Z0QsRUFBY1IsSUFBYWdCLEVBS2hGdEIsR0FBZTMvQyxHQUNYQSxFQUFRK0wsWUFDVnpQLEtBQUs4a0QseUJBQXlCcGhELEVBQVN5Z0QsRUFBY1IsR0FFbkRqZ0QsRUFBUWdCLGVBQWlCaEIsRUFBUWdCLGtCQUNuQ2lnRCxFQUFRM2tELEtBQUsra0QsNkJBQTZCcmhELEVBQVN5Z0QsRUFBY1IsSUFBYWdCLEdBRXpFQSxFQWdCVG5oRCxnQ0FBZ0NrdUIsRUFBTXl5QixFQUFjUixHQUNsRCxHQUF1QixXQUFuQmp5QixFQUFLcFosV0FBNkMsVUFBbkJvWixFQUFLcFosVUFHeEMsSUFBSyxJQUF5QzBtQixFQUFyQ3o2QixFQUFLbXRCLEVBQUtqaUIsV0FBWW8wQyxFQUFZLEVBQVN0L0MsRUFBTUEsRUFBS3k2QixFQUFNLENBVW5FLEdBUnNCLFlBQWxCejZCLEVBQUsrVCxZQUNQL1QsRUFBT2kvQyxHQUFzQmovQyxJQU0vQnk2QixFQUFPejZCLEVBQUs1QixZQUNSNEIsRUFBS0UsV0FBYTBGLEtBQUs2NkMsVUFBVyxDQUNwQyxJQUFnQnZrRCxFQUFJdStCLEVBQ3BCLEtBQU92K0IsR0FBTUEsRUFBRWdFLFdBQWEwRixLQUFLNjZDLFdBQy9CemdELEVBQUswSyxhQUFleE8sRUFBRXdPLFlBQ3RCK3ZCLEVBQU92K0IsRUFBRWtDLFlBQ1QrdUIsRUFBSzl1QixZQUFZbkMsR0FDakJBLEVBQUl1K0IsRUFHTixHQUFJbWxCLEVBQWFLLGtCQUFvQmpnRCxFQUFLMEssWUFBWXUrQixPQUFRLENBQzVEOWIsRUFBSzl1QixZQUFZMkIsR0FDakIsVUFHSixJQUFJMGdELEdBQzJCcEIsWUFBQUEsRUFBYUQsV0FBWUQsR0FDcEQzakQsS0FBSzBrRCxtQkFBbUJuZ0QsRUFBTTQvQyxFQUFjYyxLQUM5Q0EsRUFBVUMsVUFBWWYsRUFBYUksYUFBYTkrQyxLQUFLdy9DLEdBQWEsR0FHaEUxZ0QsRUFBS3lCLFlBQ1A2OUMsS0F1Qk5yZ0Qsb0NBQW9DZSxFQUFNKy9DLEVBQW1CWCxHQUUzRCxJQUFJamdELElBQ0F5Z0QsRUFBZW5rRCxLQUFLbWxELGVBQWV6aEQsRUFBUzRnRCxHQUtoRCxPQUpjSCxFQUFhbGdELFFBQ3ZCUCxFQUFRTyxRQUFRczRDLGNBQWN2akMsMEJBQzFCblAsWUFBWW5HLEVBQVFPLFNBQzVCMC9DLEVBQVNRLGFBQWVBLEdBQ2pCLEVBZVQzZ0Qsb0NBQW9DZSxFQUFNNC9DLEVBQWNSLEdBR3RELElBQUlnQixHQUFRLEVBQ1JTLEVBQVF6bEQsTUFBTXdQLEtBQUs1SyxFQUFLSSxZQUM1QixJQUFLLElBQXNCMGdELEVBQWxCN2tELEVBQUU0a0QsRUFBTXprRCxPQUFPLEVBQU8wa0QsRUFBRUQsRUFBTTVrRCxHQUFLQSxJQUMxQ21rRCxFQUFRM2tELEtBQUtzbEQsNEJBQTRCL2dELEVBQU00L0MsRUFBY1IsRUFBVTBCLEVBQUV2Z0QsS0FBTXVnRCxFQUFFejhDLFFBQVUrN0MsRUFFN0YsT0FBT0EsRUFtQlRuaEQsbUNBQW1DZSxFQUFNNC9DLEVBQWNSLEVBQVU3K0MsRUFBTThELEdBRXJFLE1BQXlCLFFBQXJCOUQsRUFBSzNCLE1BQU0sRUFBRyxJQUNoQm9CLEVBQUtlLGdCQUFnQlIsR0FDckI2K0MsRUFBU0ssT0FBU0wsRUFBU0ssUUFBVSxHQUNyQ0wsRUFBU0ssT0FBT3YrQyxLQUFLLENBQ25CWCxLQUFNQSxFQUFLM0IsTUFBTSxHQUNqQnlGLE1BQUFBLEtBRUssR0FHUyxPQUFUOUQsSUFDUDYrQyxFQUFTNUgsR0FBS256QyxHQUNQLEdBZ0JYcEYsMkJBQTJCdUQsR0FDekIsSUFBSW85QyxFQUEwRCxFQUFXQyxjQUN6RSxPQUFRRCxHQUFnQkEsRUFBYWxnRCxTQUFZOEMsRUFBUzlDLFFBMEI1RFQsZUFBZXVELEdBRVRBLElBQWFBLEVBQVM5QyxTQUN0QjdCLE9BQU9takQscUJBQXVCQSxvQkFBb0Joa0QsVUFDcERna0Qsb0JBQW9CaGtELFNBQVN3RixHQUUvQixJQUFJbzlDLEVBQWVua0QsS0FBS0MsWUFBWWtsRCxlQUFlcCtDLEdBQy9DNDhDLEVBQVdRLEVBQWFJLGFBQ3hCdGdELEVBQVVrZ0QsRUFBYWxnRCxTQUFXOEMsRUFBUzlDLFFBQzNDdWhELEVBQXVDemhELFNBQVN3RCxXQUFXdEQsR0FBUyxHQUV4RXVoRCxFQUFJQyxvQkFBc0J0QixFQUFhUyxrQkFDdkMsSUFBSXowQixFQUFRcTFCLEVBQUlFLFNBQVcsSUFBSS9sRCxNQUFNZ2tELEVBQVNoakQsUUFDOUM2a0QsRUFBSUcsRUFBSSxHQUNSLElBQUssSUFBNEI3MUIsRUFBeEJ0dkIsRUFBRSxFQUFHeUgsRUFBRTA3QyxFQUFTaGpELE9BQWVILEVBQUV5SCxJQUFPNm5CLEVBQUs2ekIsRUFBU25qRCxJQUFLQSxJQUFLLENBQ3ZFLElBQUkrRCxFQUFPNHJCLEVBQU0zdkIsR0FBS2tqRCxHQUFpQjhCLEVBQUsxMUIsR0FDNUNnMEIsR0FBYTlqRCxFQUFNd2xELEVBQUlHLEVBQUdwaEQsRUFBTXVyQixHQUNoQ28wQixHQUFxQmxrRCxFQUFNdUUsRUFBTXVyQixHQUNqQ2kwQixHQUFtQi9qRCxLQUFNdUUsRUFBTXVyQixHQUdqQyxPQURBMDFCLElBQ09BLEVBaUJUaGlELDhCQUE4QmUsRUFBTXNILEVBQVcrNUMsRUFBWUMsR0FFekQsSUFBSXBqQyxFQWxaVixTQUFnQ29qQyxFQUFTaDZDLEVBQVcrNUMsR0FXbEQsT0FSQUMsRUFBVUEsRUFBUUMsYUFBZUQsRUFDbkIsU0FBUzc1QyxHQUNqQjY1QyxFQUFRRCxHQUNWQyxFQUFRRCxHQUFZNTVDLEVBQUdBLEVBQUU2ekIsUUFFekIzeEIsUUFBUUMsS0FBSyxvQkFBc0J5M0MsRUFBYSxrQkEwWWxDRyxDQURkRixFQUFVQSxHQUFXdGhELEVBQ3lCc0gsRUFBVys1QyxHQUV6RCxPQURBNWxELEtBQUtnbUQsd0JBQXdCemhELEVBQU1zSCxFQUFXNFcsR0FDdkNBLEVBWVRqZix3QkFBd0JlLEVBQU1zSCxFQUFXNFcsR0FDdkNsZSxFQUFLa0gsaUJBQWlCSSxFQUFXNFcsR0FZbkNqZiw2QkFBNkJlLEVBQU1zSCxFQUFXNFcsR0FDNUNsZSxFQUFLbUgsb0JBQW9CRyxFQUFXNFc7Ozs7Ozs7Ozs7O0dDcGhCMUMsSUFBSXk0QixHQUFXLEVBTWYsTUFBTStLLEdBQVEsQ0FDWkMsUUFBUyxtQkFDVEMsUUFBUyxtQkFDVEMsT0FBUSxrQkFDUkMsVUFBVyxxQkFDWEMsUUFBUyxtQkFDVEMsVUFBVyxjQUlQQyxHQUF3QixRQTBDOUIsU0FBU0MsR0FBbUIzRCxFQUFPcDlDLEdBQ2pDLElBQUlnaEQsRUFBVTVELEVBQU1wOUMsR0FDcEIsR0FBS2doRCxHQUVFLElBQUs1RCxFQUFNampELGVBQWU2RixHQUFPLENBQ3RDZ2hELEVBQVU1RCxFQUFNcDlDLEdBQVFsRyxPQUFPVyxPQUFPMmlELEVBQU1wOUMsSUFDNUMsSUFBSyxJQUFJOUYsS0FBSzhtRCxFQUFTLENBQ3JCLElBQUlDLEVBQVVELEVBQVE5bUQsR0FDbEJnbkQsRUFBU0YsRUFBUTltRCxHQUFLRCxNQUFNZ25ELEVBQVFobUQsUUFDeEMsSUFBSyxJQUFJSCxFQUFFLEVBQUdBLEVBQUVtbUQsRUFBUWhtRCxPQUFRSCxJQUM5Qm9tRCxFQUFPcG1ELEdBQUttbUQsRUFBUW5tRCxVQVB4QmttRCxFQUFVNUQsRUFBTXA5QyxHQUFRLEdBVzFCLE9BQU9naEQsRUFrQlQsU0FBU0csR0FBV3JLLEVBQU1rSyxFQUFTajBDLEVBQU80akMsRUFBVXlRLEVBQVVDLEdBQzVELEdBQUlMLEVBQVMsQ0FDWCxJQUFJTSxHQUFNLEVBQ05qTCxFQUFLYixLQUNULElBQUssSUFBSXByQyxLQUFRMkMsRUFDWHcwQyxHQUNJekssSUFBd0NULEVBQUlqc0MsRUFBTTJDLEVBQU80akMsRUFDekR5USxFQUFVQyxLQUNoQkMsR0FBTSxHQUdWLE9BQU9BLEVBRVQsT0FBTyxFQWlCVCxTQUFTQyxHQUFzQnpLLEVBQU1rSyxFQUFTeEwsRUFBVXByQyxFQUFNMkMsRUFBTzRqQyxFQUFVeVEsRUFBVUMsR0FDdkYsSUFBSUMsR0FBTSxFQUVORSxFQUFNUixFQURTSSxFQUFXcDFCLEdBQUs1aEIsR0FBUUEsR0FFM0MsR0FBSW8zQyxFQUNGLElBQUssSUFBdUJDLEVBQW5CM21ELEVBQUUsRUFBR3lILEVBQUVpL0MsRUFBSXZtRCxPQUFhSCxFQUFFeUgsSUFBT2svQyxFQUFHRCxFQUFJMW1ELElBQUtBLElBQzlDMm1ELEVBQUdyM0IsTUFBUXEzQixFQUFHcjNCLEtBQUtzM0IsVUFBWWxNLEdBQy9CNEwsSUFBWU8sR0FBbUJ2M0MsRUFBTXEzQyxFQUFHRyxXQUN4Q0gsRUFBR3IzQixPQUNMcTNCLEVBQUdyM0IsS0FBS3MzQixRQUFVbE0sR0FFcEJpTSxFQUFHcHBDLEdBQUd5K0IsRUFBTTFzQyxFQUFNMkMsRUFBTzRqQyxFQUFVOFEsRUFBR3IzQixLQUFNZzNCLEVBQVVDLEdBQ3REQyxHQUFNLEdBSVosT0FBT0EsRUFxQlQsU0FBU0ssR0FBbUJocEMsRUFBTWlwQyxHQUNoQyxHQUFJQSxFQUFTLENBQ1gsSUFBSUMsRUFBcUNELEVBQVksS0FDckQsT0FBUUMsR0FBZWxwQyxNQUNoQmlwQyxFQUFRRSxhQUFjcEosR0FBV21KLEVBQWFscEMsUUFDOUNpcEMsRUFBUUcsV0FBWXBKLEdBQWFrSixFQUFhbHBDLElBRXJELE9BQU8sRUFrQlgsU0FBU3FwQyxHQUFrQmxMLEVBQU05bUMsRUFBVWpELEVBQU80akMsRUFBVXZtQixHQUMxRCxJQUFJL1IsRUFBNEIsaUJBQWhCK1IsRUFBSzYzQixPQUFzQm5MLEVBQUsxc0IsRUFBSzYzQixRQUFVNzNCLEVBQUs2M0IsT0FDaEVDLEVBQWM5M0IsRUFBS3BhLFNBQ25CcUksRUFDRkEsRUFBR25kLEtBQUs0N0MsRUFBTUEsRUFBS3VFLE9BQU82RyxHQUFjdlIsRUFBU3VSLElBQ3ZDOTNCLEVBQUsrM0IsV0FDZjM1QyxRQUFRQyxLQUFLLG9CQUFzQjJoQixFQUFLNjNCLE9BQVMsaUJBeURyRCxTQUFTRyxHQUFXdEwsRUFBTW4rQixFQUFNNUwsR0FDOUIsSUFBSXMxQyxFQUFlcjJCLEdBQUtyVCxHQUN4QixHQUFJMHBDLElBQWlCMXBDLEVBQU0sQ0FHekIsT0FEQTJwQyxHQUFvQnhMLEVBREp5QyxHQUFnQjhJLEdBQWdCLFdBQ1h0MUMsRUFBTTRMLEdBQU9BLElBQzNDLEVBRVQsT0FBTyxFQWtCVCxTQUFTMnBDLEdBQW9CeEwsRUFBTTN3QyxFQUFXakQsRUFBT3lWLEdBQ25ELElBQUl3aEIsRUFBUyxDQUNYajNCLE1BQU9BLEVBQ1BxL0MsZUFBZSxHQUViNXBDLElBQ0Z3aEIsRUFBT3hoQixLQUFPQSxHQUVoQjIvQixNQUF3QzkrQixjQUFjLElBQUlraEIsWUFBWXYwQixFQUFXLENBQUVnMEIsT0FBQUEsS0FrQnJGLFNBQVNxb0IsR0FBZ0IxTCxFQUFNOW1DLEVBQVVqRCxFQUFPNGpDLEVBQVV2bUIsRUFBTWczQixHQUM5RCxJQUNJem9DLEdBRGV5b0MsRUFBV3AxQixHQUFLaGMsR0FBWUEsSUFDcEJBLEVBQVdBLEVBQVcsS0FDN0M5TSxFQUFReVYsRUFBT3RSLEdBQUl5dkMsRUFBTW4rQixHQUFRbStCLEVBQUt1RSxPQUFPcnJDLEdBQzdDMkksUUFBa0JsYyxJQUFWeUcsSUFDVkEsRUFBUTZKLEVBQU1pRCxJQUVoQnN5QyxHQUFvQnhMLEVBQU0xc0IsRUFBS2prQixVQUFXakQsRUFBT3lWLEdBcURuRCxTQUFTOHBDLEdBQWlCM0wsRUFBTTltQyxFQUFVakQsRUFBTzRqQyxFQUFVdm1CLEdBQ3pELElBQUlsbkIsRUFBUTR6QyxFQUFLdUUsT0FBT3JyQyxHQUNwQnNsQyxLQUNGcHlDLEVBQVFveUMsR0FBaUJweUMsRUFBT2tuQixFQUFLczRCLFNBQVUsZ0JBRWpENUwsRUFBSzNuQyxxQkFBcUJhLEVBQVVvYSxFQUFLczRCLFNBQVV4L0MsR0E4Q3JELFNBQVN5L0MsR0FBa0I3TCxFQUFNOW1DLEVBQVVqRCxFQUFPNGpDLEVBQVV2bUIsR0FDMUQsSUFBSXJzQixFQUFTNmtELEdBQWdCOUwsRUFBTTltQyxFQUFVakQsRUFBTzRqQyxFQUFVdm1CLEdBQzFEeTRCLEVBQWV6NEIsRUFBSzA0QixXQUNwQmhNLEVBQUs4RCxtQkFBcUI5RCxFQUFLOEQsa0JBQWtCaUksR0FDbkQvTCxFQUFLOEUsb0JBQW9CaUgsRUFBYzlrRCxHQUFRLEdBRS9DKzRDLEVBQUsrTCxHQUFnQjlrRCxFQWtEekIsU0FBU2dsRCxHQUFXeG9ELEVBQWFra0QsRUFBY1IsRUFBVXZ1QyxFQUFNcFUsRUFBUTJDLEVBQU8ra0QsR0FFNUUvRSxFQUFTZ0YsU0FBV2hGLEVBQVNnRixVQUFZLEdBQ3pDLElBQW1CQyxFQUFVLENBQUV4ekMsS0FBQUEsRUFBTXBVLE9BQUFBLEVBQVEyQyxNQUFBQSxFQUFPK2tELFFBQUFBLEVBQVNHLFdBQThCLElBQWpCbGxELEVBQU1oRCxRQUdoRixHQUZBZ2pELEVBQVNnRixTQUFTbGpELEtBQUttakQsR0EwS3pCLFNBQTJCQSxHQUN6QixPQUFPMzRDLFFBQVEyNEMsRUFBUTVuRCxTQUNBLGFBQWhCNG5ELEVBQVF4ekMsTUFDUSxRQUFoQnd6QyxFQUFReHpDLE9BQ1B3ekMsRUFBUUMsWUFDaUIsTUFBMUJELEVBQVFqbEQsTUFBTSxHQUFHcVUsS0E3S3BCekwsQ0FBa0JxOEMsR0FBVSxDQUM5QixJQUFJbDhDLE1BQUNBLEVBQUtvOEMsT0FBRUEsR0FBVUYsRUFBUWpsRCxNQUFNLEdBQ3BDaWxELEVBQVFHLGNBQWdCcjhDLEdBQVV1eUMsR0FBZ0JqK0MsR0FBVSxXQUM1RDRuRCxFQUFRSSxlQUFpQkYsRUFHM0IsSUFBSTNrRCxFQUFRZ2dELEVBQWFJLGFBQWE1akQsT0FDdEMsSUFBSyxJQUFJSCxFQUFFLEVBQUdBLEVBQUVvb0QsRUFBUWpsRCxNQUFNaEQsT0FBUUgsSUFBSyxDQUN6QyxJQUFJb0csRUFBT2dpRCxFQUFRamxELE1BQU1uRCxHQUN6Qm9HLEVBQUtxaUQsY0FBZ0J6b0QsRUFDckIwb0QsR0FBd0JqcEQsRUFBYWtrRCxFQUFjeUUsRUFBU2hpRCxFQUFNekMsSUFnQnRFLFNBQVMra0QsR0FBd0JqcEQsRUFBYWtrRCxFQUFjeUUsRUFBU2hpRCxFQUFNekMsR0FDekUsSUFBS3lDLEVBQUs4aEQsUUFDUixHQUFxQixjQUFqQkUsRUFBUXh6QyxNQUE4QyxNQUF0Qnd6QyxFQUFRNW5ELE9BQU8sR0FDakRrTixRQUFRQyxLQUFLLHdCQUEwQnk2QyxFQUFRNW5ELE9BQzdDLGdFQUNHLENBQ0wsSUFBSW1vRCxFQUFldmlELEVBQUt1aUQsYUFDcEJyNUIsRUFBTyxDQUFFM3JCLE1BQUFBLEVBQU95a0QsUUFBQUEsRUFBU2hpRCxLQUFBQSxFQUFNd2lELFVBQVducEQsR0FDOUMsSUFBSyxJQUFJc3VCLEVBQUUsRUFBR0EsRUFBRTQ2QixFQUFheG9ELE9BQVE0dEIsSUFBSyxDQUN4QyxJQUFJKzRCLEVBQVU2QixFQUFhNTZCLEdBQ0wsaUJBQVgrNEIsSUFDVEEsRUFBVStCLEdBQVMvQixHQUNuQkEsRUFBUUcsVUFBVyxHQUVyQnhuRCxFQUFZcXBELDJCQUEyQm5GLEVBQWNtRCxFQUFRUyxhQUFjLENBQ3pFaHFDLEdBQUl3ckMsR0FDSno1QixLQUFBQSxFQUFNdzNCLFFBQUFBLE1BMkJoQixTQUFTaUMsR0FBaUIvTSxFQUFNbitCLEVBQU01TCxFQUFPNGpDLEVBQVV2bUIsRUFBTWczQixFQUFVcEIsR0FDckUsSUFBSW5oRCxFQUFPbWhELEVBQVM1MUIsRUFBSzNyQixPQUNyQnlrRCxFQUFVOTRCLEVBQUs4NEIsUUFDZmhpRCxFQUFPa3BCLEVBQUtscEIsS0FHaEIsR0FBSWtnRCxHQUFZbGdELEVBQUs0aUQsUUFBV25yQyxFQUFLMWQsT0FBU2lHLEVBQUs0aUQsT0FBTzdvRCxRQUNyQyxZQUFoQmlvRCxFQUFReHpDLE9BQXdCd3pDLEVBQVFDLFlBQ3pDdGtELEVBQUtrbEQsMkJBQ0xsbEQsRUFBSys3QyxtQkFBcUIvN0MsRUFBSys3QyxrQkFBa0JzSSxFQUFRNW5ELFFBQVMsQ0FDcEUsSUFBSTRILEVBQVE2SixFQUFNNEwsR0FDbEJBLEVBQU9pZ0MsR0FBVTEzQyxFQUFLNGlELE9BQVFaLEVBQVE1bkQsT0FBUXFkLEdBQzFDOVosRUFBS21sRCwwQkFBMEJyckMsRUFBTXpWLEdBQU8sR0FBTyxJQUNyRDR6QyxFQUFLbU4sZUFBZXBsRCxPQUVqQixFQW1CVCxTQUEyQmk0QyxFQUFNajRDLEVBQU1xa0QsRUFBU2hpRCxFQUFNZ0MsR0FDcERBLEVBa0NGLFNBQTZCckUsRUFBTXFFLEVBQU9nZ0QsRUFBU2hpRCxHQUNqRCxHQUFJZ2lELEVBQVFDLFdBQVksQ0FDdEIsSUFBSWUsRUFBVXJsRCxFQUFLc2xELHNCQUFzQmpCLEVBQVE1bkQsUUFDakQ0b0QsRUFBUWhqRCxFQUFLcWlELGVBQWlCcmdELEVBQzlCQSxFQUFRZ2hELEVBQVF6OEMsS0FBSyxJQUVGLGNBQWpCeTdDLEVBQVF4ekMsT0FFYSxnQkFBbkJ3ekMsRUFBUTVuRCxTQUNZLFVBQW5CNG5ELEVBQVE1bkQsUUFDYSxVQUFuQnVELEVBQUsrVCxXQUE0QyxhQUFuQi9ULEVBQUsrVCxhQUN4QzFQLEVBQWlCekcsTUFBVHlHLEVBQXFCLEdBQUtBLElBR3RDLE9BQU9BLEVBaERDa2hELENBQW9CdmxELEVBQU1xRSxFQUFPZ2dELEVBQVNoaUQsR0FDOUNvMEMsS0FDRnB5QyxFQUFRb3lDLEdBQWlCcHlDLEVBQU9nZ0QsRUFBUTVuRCxPQUFRNG5ELEVBQVF4ekMsS0FBTTdRLElBRWhFLEdBQW9CLGFBQWhCcWtELEVBQVF4ekMsS0FFVm9uQyxFQUFLNEYsd0JBQW9EeDVDLEVBQU9nZ0QsRUFBUTVuRCxZQUNuRSxDQUVMLElBQUk4TyxFQUFPODRDLEVBQVE1bkQsT0FDZnVELEVBQUtrbEQsMkJBQ0xsbEQsRUFBSys3QyxtQkFBcUIvN0MsRUFBSys3QyxrQkFBa0J4d0MsR0FDOUN2TCxFQUFLMGhELEdBQU1NLFlBQWVoaUQsRUFBSzBoRCxHQUFNTSxXQUFXejJDLElBQy9DdkwsRUFBSys4QyxvQkFBb0J4eEMsRUFBTWxILElBQ2pDNHpDLEVBQUttTixlQUFlcGxELEdBSXhCaTRDLEVBQUt1Tiw0QkFBNEJ4bEQsRUFBTXVMLEVBQU1sSCxJQW5DL0NvaEQsQ0FBa0J4TixFQUFNajRDLEVBQU1xa0QsRUFBU2hpRCxFQUYzQmtwQixFQUFLczVCLFVBQVVhLGlCQUFpQnpOLEVBQU01MUMsRUFBTXlYLEVBQU01TCxFQUFPNGpDLEVBQVV5USxLQXVJbkYsU0FBU29ELEdBQXFCM2xELEVBQU1xa0QsR0FDbEMsR0FBSUEsRUFBUUMsV0FBWSxDQUV0QixJQUFJZSxFQUFVcmxELEVBQUtzbEQsd0JBQ2hCdGxELEVBQUtzbEQsc0JBQXdCLElBQzVCbG1ELEVBQVFpbEQsRUFBUWpsRCxNQUVoQndtRCxFQUFXLElBQUl4cUQsTUFBTWdFLEVBQU1oRCxRQUMvQixJQUFLLElBQUk0dEIsRUFBRSxFQUFHQSxFQUFFNXFCLEVBQU1oRCxPQUFRNHRCLElBQzVCNDdCLEVBQVM1N0IsR0FBSzVxQixFQUFNNHFCLEdBQUdtNkIsUUFFekIsSUFBSTFuRCxFQUFTNG5ELEVBQVE1bkQsT0FDckI0b0QsRUFBUTVvRCxHQUFVbXBELEVBRWR2QixFQUFRRixTQUEyQixZQUFoQkUsRUFBUXh6QyxPQUlkLGNBQVhwVSxJQUNGdUQsRUFBT3k1QyxHQUFLejVDLElBRWRBLEVBQUt2RCxHQUFVNG5ELEVBQVFGLFVBZTdCLFNBQVMwQixHQUFrQjdsRCxFQUFNaTRDLEVBQU1vTSxHQUNyQyxHQUFJQSxFQUFRRyxjQUFlLENBQ3pCLElBQUluaUQsRUFBT2dpRCxFQUFRamxELE1BQU0sR0FDekJZLEVBQUtrSCxpQkFBaUJtOUMsRUFBUUcsZUFBZSxTQUFTLzhDLElBcFoxRCxTQUE0QlUsRUFBTzh2QyxFQUFNNk4sRUFBVUMsRUFBUXhCLEdBQ3pELElBQUlsZ0QsRUFDQWkzQixFQUErQm56QixFQUFZLE9BQzNDNjlDLEVBQVcxcUIsR0FBVUEsRUFBT3hoQixLQUM1QmtzQyxHQUNGRCxFQUFTaE0sR0FBVStMLEVBQVVDLEVBQVFDLEdBQ3JDM2hELEVBQVFpM0IsR0FBVUEsRUFBT2ozQixPQUV6QkEsRUFBUThELEVBQU04OUMsY0FBY0gsR0FFOUJ6aEQsRUFBUWtnRCxHQUFVbGdELEVBQVFBLEVBQ3JCNHpDLEVBQUt5SixHQUFNTSxZQUFlL0osRUFBS3lKLEdBQU1NLFdBQVcrRCxLQUMvQzlOLEVBQUtrTiwwQkFBMEJZLEVBQVExaEQsR0FBTyxFQUFNcUgsUUFBUXM2QyxLQUN6RDFxQixHQUFXQSxFQUFPb29CLGVBQ3ZCekwsRUFBSytFLHdCQXVZTGtKLENBQW1CeitDLEVBQUd3d0MsRUFBTW9NLEVBQVE1bkQsT0FBUTRGLEVBQUs0aUQsT0FBUTVpRCxFQUFLa2lELFlBd0JwRSxTQUFTNEIsR0FBbUI1SCxFQUFPNkgsRUFBS2psRCxFQUFNa2xELEVBQVVwQyxFQUFZWCxHQUNsRUEsRUFBWThDLEVBQUlFLFFBQVdoRCxJQUNILGlCQUFkQSxHQUEwQkEsRUFBVThDLEVBQUkvRSxhQUNsRCxJQUFJOTFCLEVBQU8sQ0FDVDgxQixXQUFZK0UsRUFBSS9FLFdBQ2hCL2pELEtBQU04b0QsRUFBSTlvRCxLQUNWMm1ELFdBQUFBLEVBQ0FYLFVBQUFBLEdBRUYsSUFBSyxJQUFTaUQsRUFBTHRxRCxFQUFFLEVBQVNBLEVBQUVtcUQsRUFBSTlvRCxLQUFLbEIsU0FBWW1xRCxFQUFJSCxFQUFJOW9ELEtBQUtyQixJQUFLQSxJQUN0RHNxRCxFQUFJcEMsU0FDUDVGLEVBQU1pSSxtQkFBbUJELEVBQUkvQyxhQUFjcmlELEVBQU0sQ0FDL0NxWSxHQUFJNnNDLEVBQVU5NkIsS0FBTUEsRUFBTXczQixRQUFTd0QsSUFJckNqRCxHQUNGL0UsRUFBTWlJLG1CQUFtQkosRUFBSS9FLFdBQVlsZ0QsRUFBTSxDQUM3Q3FZLEdBQUk2c0MsRUFBVTk2QixLQUFNQSxJQXFCMUIsU0FBU3c0QixHQUFnQjlMLEVBQU05bUMsRUFBVWpELEVBQU80akMsRUFBVXZtQixHQUd4RCxJQUFJKzFCLEVBQVVySixFQUFLc0osYUFBZXRKLEVBQzlCeitCLEVBQUs4bkMsRUFBUS8xQixFQUFLODFCLFlBQ3RCLEdBQUk3bkMsRUFBSSxDQUNOLElBQUlsYyxFQUFPMjZDLEVBQUt3TyxhQUFhbDdCLEVBQUtqdUIsS0FBTTZULEVBQVVqRCxHQUNsRCxPQUFPc0wsRUFBR2xkLE1BQU1nbEQsRUFBU2hrRCxHQUNmaXVCLEVBQUsrM0IsV0FDZjM1QyxRQUFRQyxLQUFLLFdBQWEyaEIsRUFBSzgxQixXQUFhLGlCQUloRCxNQUFNcUYsR0FBYSxHQWtCYkMsR0FBZSxJQUFJNW5ELE9BRE42bkQsMFlBQ3lCLEtBUTVDLFNBQVNDLEdBQWlCem5ELEdBQ3hCLElBQUlwRCxFQUFJLEdBQ1IsSUFBSyxJQUFJQyxFQUFFLEVBQUdBLEVBQUVtRCxFQUFNaEQsT0FBUUgsSUFBSyxDQUVqQ0QsR0FEY29ELEVBQU1uRCxHQUFHa29ELFNBQ1AsR0FFbEIsT0FBT25vRCxFQWFULFNBQVM4cUQsR0FBWUMsR0FFbkIsSUFBSWprQixFQUFJaWtCLEVBQVdsbEQsTUFBTSwwQkFDekIsR0FBSWloQyxFQUFHLENBQ0wsSUFDSXNqQixFQUFNLENBQUUvRSxXQURLdmUsRUFBRSxHQUNLd2pCLFFBQVEsRUFBTWhwRCxLQUFNb3BELElBQzVDLEdBQUk1akIsRUFBRSxHQUFHbUcsT0FBUSxDQUdmLE9Ba0JOLFNBQW1CK2QsRUFBU1osR0FRMUIsT0FQQUEsRUFBSTlvRCxLQUFPMHBELEVBQVFyekMsS0FBSSxTQUFTc3pDLEdBQzlCLElBQUlWLEVBQU16QixHQUFTbUMsR0FJbkIsT0FIS1YsRUFBSXBDLFVBQ1BpQyxFQUFJRSxRQUFTLEdBRVJDLElBQ045cUQsTUFDSTJxRCxFQTFCSWMsQ0FESXBrQixFQUFFLEdBQUc0SCxRQUFRLE9BQVEsV0FBV3pwQyxNQUFNLEtBQzFCbWxELEdBRXZCLE9BQU9BLEVBR1gsT0FBTyxLQXdDVCxTQUFTdEIsR0FBU21DLEdBRWhCLElBQUlWLEVBQU1VLEVBQU9oZSxPQUVkeUIsUUFBUSxXQUFZLEtBSXBCQSxRQUFRLFNBQVUsTUFHakJvVyxFQUFJLENBQ052Z0QsS0FBTWdtRCxFQUNObGlELE1BQU8sR0FDUDgvQyxTQUFTLEdBR1BnRCxFQUFLWixFQUFJLEdBT2IsT0FOVyxNQUFQWSxJQUNGQSxFQUFLWixFQUFJLElBRVBZLEdBQU0sS0FBT0EsR0FBTSxNQUNyQkEsRUFBSyxLQUVBQSxHQUNMLElBQUssSUFDTCxJQUFLLElBQ0hyRyxFQUFFejhDLE1BQVFraUQsRUFBSTNuRCxNQUFNLEdBQUksR0FDeEJraUQsRUFBRXFELFNBQVUsRUFDWixNQUNGLElBQUssSUFDSHJELEVBQUV6OEMsTUFBUXdILE9BQU8wNkMsR0FDakJ6RixFQUFFcUQsU0FBVSxFQWVoQixPQVhLckQsRUFBRXFELFVBQ0xyRCxFQUFFMEMsYUFBZXIyQixHQUFLbzVCLEdBRXRCekYsRUFBRW1DLFdBQWF0SixHQUFPNE0sR0FDbEJ6RixFQUFFbUMsYUFDSm5DLEVBQUVvQyxTQUE2QixNQUFqQnFELEVBQUkzbkQsT0FBTyxHQUNyQmtpRCxFQUFFb0MsV0FDSnBDLEVBQUV2Z0QsS0FBT2dtRCxFQUFJM25ELE1BQU0sR0FBSSxNQUl0QmtpRCxFQUdULFNBQVNzRyxHQUFZOWxELEVBQU00TSxFQUFPNEwsR0FDaEMsSUFBSXpWLEVBQVFtRSxHQUFJbEgsRUFBTXdZLEdBU3RCLFlBSGNsYyxJQUFWeUcsSUFDRkEsRUFBUTZKLEVBQU00TCxJQUVUelYsRUFpQlQsU0FBU2dqRCxHQUFjcFAsRUFBTXFQLEVBQU94dEMsRUFBTXl0QyxHQUN4Q3RQLEVBQUtzTCxXQUFXenBDLEVBQU8sV0FBWSxDQUFFMHRDLGFBQWNELElBQ25EdFAsRUFBS3NMLFdBQVd6cEMsRUFBTyxVQUFXd3RDLEVBQU1sckQsUUFrQjFDLFNBQVNxckQsR0FBYXhQLEVBQU1xUCxFQUFPeHRDLEVBQU1sYSxFQUFPOG5ELEVBQVl4dkIsR0FDMURtdkIsR0FBY3BQLEVBQU1xUCxFQUFPeHRDLEVBQU0sQ0FBQyxDQUNoQ2xhLE1BQU9BLEVBQ1A4bkQsV0FBWUEsRUFDWnh2QixRQUFTQSxFQUNUeXZCLE9BQVFMLEVBQ1JubUQsS0FBTSxZQXFESCxNQUFNeW1ELEdBQWtCaFIsR0FBYytFLElBUzNDLE1BQU1rTSxFQUFzQi9ILEdBQWM5QixHQUFrQnJDLElBMnNENUQsT0Fsc0RBLGNBQThCa00sRUFFNUI1b0QsY0FDRTRILFFBR0FwTCxLQUFLeXBELDJCQUE0QixFQUtqQ3pwRCxLQUFLcXNELGNBQWdCLEVBRXJCcnNELEtBQUtzc0QsbUJBRUx0c0QsS0FBS3VzRCxxQkFFTHZzRCxLQUFLd3NELGVBRUx4c0QsS0FBS3lzRCxrQkFFTHpzRCxLQUFLMHNELGVBRUwxc0QsS0FBSzZwRCxzQkFFTDdwRCxLQUFLMnNELFdBRUwzc0QsS0FBSzRzRCxXQUVMNXNELEtBQUs2c0QseUJBRUw3c0QsS0FBSytnRCxPQUVML2dELEtBQUtnaEQsY0FFTGhoRCxLQUFLaWhELFVBRUxqaEQsS0FBSzhzRCxpQkFFTDlzRCxLQUFLK3NELGlCQUVML3NELEtBQUtndEQsZ0JBRUxodEQsS0FBS2l0RCxtQkFFTGp0RCxLQUFLa3RELGlCQUVMbHRELEtBQUttdEQsV0FFTG50RCxLQUFLb3RELGVBTVBDLDRCQUNFLE9BQU9wSCxHQU9UemlELHdCQUNFNEgsTUFBTWcyQyx3QkFDTmtNLEdBQVVDLGFBQWF2dEQsTUFDdkJBLEtBQUtzc0Qsb0JBQXFCLEVBQzFCdHNELEtBQUt1c0QscUJBQXVCLEtBQzVCdnNELEtBQUt3c0QsZUFBaUIsS0FDdEJ4c0QsS0FBS3lzRCxrQkFBb0IsS0FDekJ6c0QsS0FBSzBzRCxnQkFBaUIsRUFFdEIxc0QsS0FBSzZwRCxzQkFBd0I3cEQsS0FBSzZwRCx1QkFBeUIsS0FDM0Q3cEQsS0FBSzJzRCxXQUFhM3NELEtBQUsyc0QsWUFBYyxLQUNyQzNzRCxLQUFLNHNELFdBQWEsR0FDbEI1c0QsS0FBSzZzRCwwQkFBMkIsRUFZbENycEQsMkJBQTJCaVAsR0FDekJ6UyxLQUFLK2dELE9BQVN2aEQsT0FBT1csT0FBT3NTLEdBQzVCelMsS0FBS2doRCxjQUFnQnhoRCxPQUFPVyxPQUFPc1MsR0FDbkN6UyxLQUFLaWhELFVBQVksR0FXbkJ6OUMsOEJBQThCaVAsR0FDNUIsSUFBSTJ0QyxFQUFXcGdELEtBQUtpbUQsR0FBTU0sV0FDMUIsSUFBSyxJQUFJejJDLEtBQVEyQyxFQUNWMnRDLEdBQWFBLEVBQVN0d0MsS0FDekI5UCxLQUFLZ2hELGNBQWdCaGhELEtBQUtnaEQsZUFBaUIsR0FDM0NoaEQsS0FBS2loRCxVQUFZamhELEtBQUtpaEQsV0FBYSxHQUNuQ2poRCxLQUFLK2dELE9BQU9qeEMsR0FBUTlQLEtBQUtnaEQsY0FBY2x4QyxHQUFRMkMsRUFBTTNDLElBbUIzRHRNLG1CQUFtQmtTLEVBQVVoUSxFQUFNOG5ELEdBQ2pDeHRELEtBQUttZ0Qsd0JBQXdCenFDLEVBQVVoUSxHQUFRdWdELEdBQU1NLFdBRXJELElBQUlHLEVBQVVELEdBQW1Cem1ELEtBQU0wRixHQUFNZ1EsR0FDeENneEMsSUFDSEEsRUFBVTFtRCxLQUFLMEYsR0FBTWdRLEdBQVksSUFFbkNneEMsRUFBUWpoRCxLQUFLK25ELEdBWWZocUQsc0JBQXNCa1MsRUFBVWhRLEVBQU04bkQsR0FDcEMsSUFBSTlHLEVBQVVELEdBQW1Cem1ELEtBQU0wRixHQUFNZ1EsR0FDekNzQixFQUFNMHZDLEVBQVE1Z0QsUUFBUTBuRCxHQUN0QngyQyxHQUFPLEdBQ1QwdkMsRUFBUXo0QixPQUFPalgsRUFBSyxHQWV4QnhULG1CQUFtQmtTLEVBQVVoUSxHQUMzQixJQUFJZ2hELEVBQVUxbUQsS0FBSzBGLEdBQ25CLE9BQU91SyxRQUFReTJDLEdBQVdBLEVBQVFoeEMsSUFhcENsUyxtQkFBbUJrUyxHQUNqQixPQUFPMVYsS0FBS3l0RCxtQkFBbUIvM0MsRUFBVXV3QyxHQUFNTSxXQWFqRC9pRCxpQkFBaUJrUyxHQUNmLE9BQU8xVixLQUFLeXRELG1CQUFtQi8zQyxFQUFVdXdDLEdBQU1HLFFBYWpENWlELGtCQUFrQmtTLEdBQ2hCLE9BQU8xVixLQUFLeXRELG1CQUFtQi8zQyxFQUFVdXdDLEdBQU1FLFNBYWpEM2lELG1CQUFtQmtTLEdBQ2pCLE9BQU8xVixLQUFLeXRELG1CQUFtQi8zQyxFQUFVdXdDLEdBQU1DLFNBa0NqRDFpRCwwQkFBMEI2YSxFQUFNelYsRUFBTzhrRCxFQUFjQyxHQUNuRCxHQUFJQSxHQUNBajhCLEdBQUsveEIsTUFBTW1KLFFBQVF1VixHQUFRQSxFQUFLLEdBQUtBLEtBQVVBLEVBQU0sQ0FTdkQsSUFBS3N2QyxFQUFvQixDQUN2QixJQUFJcDlDLEVBQU14RCxHQUFJL00sS0FBTXFlLEdBR3BCLEtBRkFBLEVBQThCdmMsR0FBSTlCLEtBQU1xZSxFQUFNelYsTUFFaEN3QyxNQUFNczJDLHNCQUFzQnJqQyxFQUFNelYsRUFBTzJILEdBQ3JELE9BQU8sRUFJWCxHQURBdlEsS0FBSzBzRCxnQkFBaUIsRUFDbEIxc0QsS0FBS3NoRCxzQkFBOEMxNEMsRUFBTzhrRCxHQUU1RCxPQWo2QlYsU0FBNEJsUixFQUFNbitCLEVBQU16VixHQUN0QyxJQUFJZ2xELEVBQVFwUixFQUFLaVEsa0JBQ2pCLEdBQUltQixFQUFPLENBQ1QsSUFBSUMsRUFDSixJQUFLLElBQUl4SSxLQUFLdUksRUFBTyxDQUNuQixJQUFJcnVELEVBQUlxdUQsRUFBTXZJLEdBQ1ZoSCxHQUFhZ0gsRUFBR2huQyxJQUNsQnd2QyxFQUFPdlAsR0FBVStHLEVBQUc5bEQsRUFBRzhlLEdBQ3ZCbStCLEVBQUtrTiwwQkFBMEJtRSxFQUFNamxELEdBQU8sR0FBTSxJQUN6Q3kxQyxHQUFhOStDLEVBQUc4ZSxLQUN6Qnd2QyxFQUFPdlAsR0FBVS8rQyxFQUFHOGxELEVBQUdobkMsR0FDdkJtK0IsRUFBS2tOLDBCQUEwQm1FLEVBQU1qbEQsR0FBTyxHQUFNLE1BcTVCaERrbEQsQ0FBbUI5dEQsT0FBaUM0SSxJQUM3QyxNQUVKLENBQ0wsR0FBSTVJLEtBQUtzZ0QsbUJBQXFCdGdELEtBQUtzZ0Qsa0JBQWtCamlDLEdBQ25ELE9BQU9yZSxLQUFLc2hELHNCQUE4QzE0QyxFQUFPOGtELEdBRWpFMXRELEtBQUtxZSxHQUFRelYsRUFHakIsT0FBTyxFQXlCVHBGLDRCQUE0QmUsRUFBTXVMLEVBQU1sSCxHQUtsQ0EsSUFBVXJFLEVBQUt1TCxJQUF5QixpQkFBVGxILElBRXBCLGNBQVRrSCxJQUNGdkwsRUFBNEJ5NUMsR0FBS3o1QyxJQUVuQ0EsRUFBS3VMLEdBQVFsSCxHQXVDakJwRixvQkFBb0JrUyxFQUFVOU0sRUFBTzhrRCxHQUNuQyxJQUFJSyxFQUFhL3RELEtBQUswc0QsZ0JBQWtCeE8sR0FBT3hvQyxHQUMzQ3M0QyxFQUFZRCxFQUFhL3RELEtBQUs0c0QsV0FBYTVzRCxLQUFLK2dELE9BQ3BELFFBQUkvZ0QsS0FBSzBoRCxzQkFBc0Joc0MsRUFBVTlNLEVBQU9vbEQsRUFBVXQ0QyxNQUNuRDFWLEtBQUtnaEQsZ0JBQ1JoaEQsS0FBS2doRCxjQUFnQixHQUNyQmhoRCxLQUFLaWhELFVBQVksSUFHYnZyQyxLQUFZMVYsS0FBS2loRCxZQUNyQmpoRCxLQUFLaWhELFVBQVV2ckMsR0FBWTFWLEtBQUsrZ0QsT0FBT3JyQyxJQUlyQ3E0QyxFQUNGL3RELEtBQUs0c0QsV0FBV2wzQyxHQUFZOU0sRUFFNUI1SSxLQUFLK2dELE9BQU9yckMsR0FBWTlNLEVBRzFCNUksS0FBS2doRCxjQUFjdHJDLEdBQVk5TSxHQUUzQm1sRCxHQUFlL3RELEtBQUtpbUQsR0FBTUcsU0FBV3BtRCxLQUFLaW1ELEdBQU1HLFFBQVExd0MsTUFDMUQxVixLQUFLd3NELGVBQWlCeHNELEtBQUt3c0QsZ0JBQWtCLEdBQzdDeHNELEtBQUt3c0QsZUFBZTkyQyxHQUFZZzRDLElBRTNCLEdBY1hscUQsYUFBYWtTLEVBQVU5TSxHQUNqQjVJLEtBQUtzaEQsb0JBQW9CNXJDLEVBQVU5TSxHQUFPLElBQzVDNUksS0FBS3VoRCx3QkFhVC85Qyx3QkFDTXhELEtBQUs2Z0QsYUFDUDdnRCxLQUFLcWhELG1CQWNUNzlDLGVBQWV5cUQsR0FDYmp1RCxLQUFLdXNELHFCQUF1QnZzRCxLQUFLdXNELHNCQUF3QixHQUNyRDBCLElBQVdqdUQsTUFDYkEsS0FBS3VzRCxxQkFBcUI5bUQsS0FBS3dvRCxHQVduQ3pxRCxtQkFDRXhELEtBQUtxc0QsZ0JBQ0xqaEQsTUFBTWkyQyxtQkFDTnJoRCxLQUFLcXNELGdCQVdQN29ELGdCQUNPeEQsS0FBS3NzRCxtQkFRUnRzRCxLQUFLa3VELDBCQVBMbHVELEtBQUtzc0Qsb0JBQXFCLEVBQzFCdHNELEtBQUttdUQsZ0JBSUxudUQsS0FBSzZnRCxhQUFjLEdBa0J2QnI5Qyx5QkFDRSxJQUFJNHFELEVBQVVwdUQsS0FBS3VzRCxxQkFDbkIsR0FBSTZCLEVBQVMsQ0FDWHB1RCxLQUFLdXNELHFCQUF1QixLQUM1QixJQUFLLElBQUkvckQsRUFBRSxFQUFHQSxFQUFJNHRELEVBQVF6dEQsT0FBUUgsSUFBSyxDQUNyQyxJQUFJeXRELEVBQVNHLEVBQVE1dEQsR0FDaEJ5dEQsRUFBT3JOLGNBRURxTixFQUFPak4sZUFDaEJpTixFQUFPNU0sbUJBRlA0TSxFQUFPSSxzQkFpQmY3cUQsZ0JBQ0V4RCxLQUFLa3VELHlCQW1CUDFxRCxjQUFjaVAsRUFBTzY3QyxHQUNuQixJQUFLLElBQUlqd0MsS0FBUTVMLEdBQ1g2N0MsR0FBZ0J0dUQsS0FBS2ltRCxHQUFNTSxZQUFldm1ELEtBQUtpbUQsR0FBTU0sV0FBV2xvQyxJQUtsRXJlLEtBQUswcEQsMEJBQTBCcnJDLEVBQU01TCxFQUFNNEwsSUFBTyxHQUd0RHJlLEtBQUt1aEQsd0JBWVAvOUMsUUFLRXhELEtBQUtxaEQsbUJBR0FyaEQsS0FBS3NzRCxvQkFDUnRzRCxLQUFLdXVELGdCQUlIdnVELEtBQUtnaEQsZUFDUGhoRCxLQUFLcWhELG1CQWtCVDc5QyxtQkFBbUJ3K0MsRUFBY0gsRUFBY3hMLEdBTTdDLElBQUl5USxFQUFXOW1ELEtBQUswc0QsZUFDcEIxc0QsS0FBSzBzRCxnQkFBaUIsRUF2d0M1QixTQUE0QmxRLEVBQU1xRixFQUFjeEwsRUFBVXlRLEdBQ3hELElBQUkwSCxFQUFpQmhTLEVBQUt5SixHQUFNQyxTQUNoQyxHQUFJc0ksRUFBZ0IsQ0FDbEIsSUFBSUMsRUFBYTVNLEVBQ2pCLEtBQU9nRixHQUFXckssRUFBTWdTLEVBQWdCQyxFQUFZcFksRUFBVXlRLElBQzVEdG5ELE9BQU9hLFNBQTBDbThDLEVBQUt5RSxXQUN0RHpoRCxPQUFPYSxTQUE4Q204QyxFQUFLd0UsZUFDMUR5TixFQUFhalMsRUFBS3dFLGNBQ2xCeEUsRUFBS3dFLGNBQWdCLE1BaXdDckIwTixDQUFtQjF1RCxLQUFNNmhELEVBQWN4TCxFQUFVeVEsR0FHakQsSUFBSTZILEVBQWMzdUQsS0FBS3dzRCxlQUN2QnhzRCxLQUFLd3NELGVBQWlCLEtBRXRCeHNELEtBQUs0dUQsMEJBQTBCL00sRUFBY3hMLEVBQVV5USxHQUV2RDltRCxLQUFLdXVELGdCQUVMMUgsR0FBVzdtRCxLQUFNQSxLQUFLaW1ELEdBQU1FLFNBQVV0RSxFQUFjeEwsRUFBVXlRLEdBRTlERCxHQUFXN21ELEtBQU1BLEtBQUtpbUQsR0FBTUssU0FBVXpFLEVBQWN4TCxFQUFVeVEsR0FFMUQ2SCxHQWw4Q1YsU0FBMEJuUyxFQUFNbVMsRUFBYWw4QyxFQUFPNGpDLEVBQVV5USxHQUU1RCxJQUNJK0gsRUFlQWgyQyxFQWhCQXF1QyxFQUFNMUssRUFBS3lKLEdBQU1HLFFBRWpCckssRUFBS2IsS0FFVCxJQUFLLElBQUlwckMsS0FBUTYrQyxFQUNYQSxFQUFZNytDLEtBQ1ZvM0MsR0FBT0QsR0FBc0J6SyxFQUFNMEssRUFBS25MLEVBQUlqc0MsRUFBTTJDLEVBQU80akMsRUFBVXlRLEdBQ3JFK0gsR0FBVyxFQUNGL0gsR0FBWWdCLEdBQVd0TCxFQUFNMXNDLEVBQU0yQyxLQUM1Q284QyxHQUFXLElBUWJBLElBQWFoMkMsRUFBTzJqQyxFQUFLbVEsYUFBZTl6QyxFQUFLMG9DLHVCQUMvQzFvQyxFQUFLMG9DLHdCQSs2Q0R1TixDQUFpQjl1RCxLQUFNMnVELEVBQWE5TSxFQUFjeEwsRUFBVXlRLEdBR3BDLEdBQXRCOW1ELEtBQUtxc0QsZ0JBQ1Byc0QsS0FBSzRzRCxXQUFhLElBa0J0QnBwRCwwQkFBMEJxK0MsRUFBY3hMLEVBQVV5USxHQUM1QzltRCxLQUFLaW1ELEdBQU1JLFlBQ2JRLEdBQVc3bUQsS0FBTUEsS0FBS2ltRCxHQUFNSSxXQUFZeEUsRUFBY3hMLEVBQVV5USxHQUVsRSxJQUFJM0MsRUFBZW5rRCxLQUFLb3RELGVBQ3hCLEtBQU9qSixHQUNMMEMsR0FBVzdtRCxLQUFNbWtELEVBQWE0SyxnQkFBaUJsTixFQUFjeEwsRUFDM0R5USxFQUFVM0MsRUFBYXVCLFVBQ3pCdkIsRUFBZUEsRUFBYTZLLGlCQWNoQ3hyRCxVQUFVeXJELEVBQUk5L0MsR0FDWjgvQyxFQUFLelEsR0FBVXlRLEdBQ2Y5L0MsRUFBT3F2QyxHQUFVcnZDLEdBQ2pCblAsS0FBS3lzRCxrQkFBb0J6c0QsS0FBS3lzRCxtQkFBcUIsR0FDbkR6c0QsS0FBS3lzRCxrQkFBa0J3QyxHQUFNOS9DLEVBYy9CM0wsWUFBWTZhLEdBQ1ZBLEVBQU9tZ0MsR0FBVW5nQyxHQUNicmUsS0FBS3lzRCwwQkFDQXpzRCxLQUFLeXNELGtCQUFrQnB1QyxHQXNDbEM3YSxjQUFjNmEsRUFBTXl0QyxHQUNsQixJQUFJaDhCLEVBQU8sQ0FBQ3pSLEtBQU0sSUFFbEJ1dEMsR0FBYzVyRCxLQURtQitNLEdBQUkvTSxLQUFNcWUsRUFBTXlSLEdBQ3RCQSxFQUFLelIsS0FBTXl0QyxHQXVCeEN0b0QsSUFBSTZhLEVBQU1xVCxHQUNSLE9BQU8za0IsR0FBSTJrQixHQUFRMXhCLEtBQU1xZSxHQXlCM0I3YSxJQUFJNmEsRUFBTXpWLEVBQU84b0IsR0FDWEEsRUFDRjV2QixHQUFJNHZCLEVBQU1yVCxFQUFNelYsR0FFWDVJLEtBQUtpbUQsR0FBTU0sWUFBZXZtRCxLQUFLaW1ELEdBQU1NLGVBQ3BDdm1ELEtBQUswcEQsMEJBQTBCcnJDLEVBQU16VixHQUFPLElBQzlDNUksS0FBS3VoRCx3QkFxQmIvOUMsS0FBSzZhLEtBQVNxZ0IsR0FDWixJQUFJNU8sRUFBTyxDQUFDelIsS0FBTSxJQUNkd3RDLEVBQTRCOStDLEdBQUkvTSxLQUFNcWUsRUFBTXlSLEdBQzVDMHZCLEVBQU1xTSxFQUFNbHJELE9BQ1p1dUQsRUFBTXJELEVBQU1wbUQsUUFBUWk1QixHQUl4QixPQUhJQSxFQUFNLzlCLFFBQ1JxckQsR0FBYWhzRCxLQUFNNnJELEVBQU8vN0IsRUFBS3pSLEtBQU1taEMsRUFBSzlnQixFQUFNLzlCLE9BQVEsSUFFbkR1dUQsRUFpQlQxckQsSUFBSTZhLEdBQ0YsSUFBSXlSLEVBQU8sQ0FBQ3pSLEtBQU0sSUFDZHd0QyxFQUE2QjkrQyxHQUFJL00sS0FBTXFlLEVBQU15UixHQUM3Q3EvQixFQUFZbC9DLFFBQVE0N0MsRUFBTWxyRCxRQUMxQnV1RCxFQUFNckQsRUFBTXJsRCxNQUloQixPQUhJMm9ELEdBQ0ZuRCxHQUFhaHNELEtBQU02ckQsRUFBTy83QixFQUFLelIsS0FBTXd0QyxFQUFNbHJELE9BQVEsRUFBRyxDQUFDdXVELElBRWxEQSxFQXFCVDFyRCxPQUFPNmEsRUFBTTViLEVBQU8yc0QsS0FBZ0Ixd0IsR0FDbEMsSUFnQkl3d0IsRUFoQkFwL0IsRUFBTyxDQUFDelIsS0FBTyxJQUNmd3RDLEVBQTZCOStDLEdBQUkvTSxLQUFNcWUsRUFBTXlSLEdBa0NqRCxPQWhDSXJ0QixFQUFRLEVBQ1ZBLEVBQVFvcEQsRUFBTWxyRCxPQUFTc0MsS0FBSzRuQixPQUFPcG9CLEdBQzFCQSxJQUNUQSxFQUFRUSxLQUFLNG5CLE1BQU1wb0IsSUFhbkJ5c0QsRUFEdUIsSUFBckJ4dUQsVUFBVUMsT0FDTmtyRCxFQUFNNTlCLE9BQU94ckIsR0FRYm9wRCxFQUFNNTlCLE9BQU94ckIsRUFBTzJzRCxLQUFnQjF3QixJQUt4Q0EsRUFBTS85QixRQUFVdXVELEVBQUl2dUQsU0FDdEJxckQsR0FBYWhzRCxLQUFNNnJELEVBQU8vN0IsRUFBS3pSLEtBQU01YixFQUFPaThCLEVBQU0vOUIsT0FBUXV1RCxHQUVyREEsRUFpQlQxckQsTUFBTTZhLEdBQ0osSUFBSXlSLEVBQU8sQ0FBQ3pSLEtBQU0sSUFDZHd0QyxFQUE2QjkrQyxHQUFJL00sS0FBTXFlLEVBQU15UixHQUM3Q3EvQixFQUFZbC9DLFFBQVE0N0MsRUFBTWxyRCxRQUMxQnV1RCxFQUFNckQsRUFBTXdELFFBSWhCLE9BSElGLEdBQ0ZuRCxHQUFhaHNELEtBQU02ckQsRUFBTy83QixFQUFLelIsS0FBTSxFQUFHLEVBQUcsQ0FBQzZ3QyxJQUV2Q0EsRUFrQlQxckQsUUFBUTZhLEtBQVNxZ0IsR0FDZixJQUFJNU8sRUFBTyxDQUFDelIsS0FBTSxJQUNkd3RDLEVBQTZCOStDLEdBQUkvTSxLQUFNcWUsRUFBTXlSLEdBQzdDby9CLEVBQU1yRCxFQUFNbDBDLFdBQVcrbUIsR0FJM0IsT0FISUEsRUFBTS85QixRQUNScXJELEdBQWFoc0QsS0FBTTZyRCxFQUFPLzdCLEVBQUt6UixLQUFNLEVBQUdxZ0IsRUFBTS85QixPQUFRLElBRWpEdXVELEVBaUJUMXJELFdBQVc2YSxFQUFNelYsR0FFZixJQUFJMG1ELEVBQ0osR0FBd0IsR0FBcEI1dUQsVUFBVUMsT0FBYSxDQUV6QixJQUFJbXZCLEVBQU8sQ0FBQ3pSLEtBQU0sSUFDbEJ6VixFQUFRbUUsR0FBSS9NLEtBQU1xZSxFQUFNeVIsR0FDeEJ3L0IsRUFBV3gvQixFQUFLelIsVUFHaEJpeEMsRUFGUzN2RCxNQUFNbUosUUFBUXVWLEdBRVptZ0MsR0FBVW5nQyxLQUluQnJlLEtBQUswcEQsMEJBQTBCNEYsRUFBVTFtRCxHQUFPLEdBQU0sSUFDeEQ1SSxLQUFLdWhELHdCQWdCVC85Qyx3QkFBd0JrUyxFQUFVNjVDLEdBN2dDdEMsSUFBZXpxRCxFQThnQ1Q5RSxLQUFLK3FELG1CQUFtQnIxQyxFQUFVdXdDLEdBQU1NLFdBQ3BDZ0osSUFDRnZ2RCxLQUFLLFFBaGhDRThFLEVBZ2hDYTRRLEVBL2dDbkI1USxFQUFLLEdBQUdrNkMsY0FBZ0JsNkMsRUFBS2lxQyxVQUFVLEtBK2dDdUIsU0FBU25tQyxHQUN0RTVJLEtBQUsyZ0QsYUFBYWpyQyxFQUFVOU0sS0FtQmxDcEYsd0JBQXdCa1MsRUFBVWl5QyxFQUFRRSxHQUN4QyxJQUFJLzNCLEVBQU8sQ0FBRXBhLFNBQUFBLEVBQVVpeUMsT0FBQUEsRUFBUUUsVUFBVzUzQyxRQUFRNDNDLElBQ2xEN25ELEtBQUsrcUQsbUJBQW1CcjFDLEVBQVV1d0MsR0FBTUssUUFBUyxDQUMvQ3ZvQyxHQUFJMnBDLEdBQW1CNTNCLEtBQUFBLEVBQU13M0IsUUFBUyxDQUFDeGlELEtBQU00USxLQUUzQ215QyxHQUNGN25ELEtBQUsrcUQscUJBQWtEOUUsR0FBTUssUUFBUyxDQUNwRXZvQyxHQUFJMnBDLEdBQW1CNTNCLEtBQUFBLEVBQU13M0IsUUFBUyxDQUFDeGlELEtBQU02aUQsS0FpQm5EbmtELHNCQUFzQjhuRCxFQUFZekQsR0FDaEMsSUFBSThDLEVBQU1VLEdBQVlDLEdBQ3RCLElBQUtYLEVBQ0gsTUFBTSxJQUFJei9DLE1BQU0sa0NBQW9Db2dELEVBQWEsS0FFbkVaLEdBQW1CMXFELEtBQU0ycUQsRUFBSzFFLEdBQU1LLFFBQVNnQyxHQUFpQixLQUFNVCxHQWF0RXJrRCx5QkFBeUJrUyxHQUN2QjFWLEtBQUsrcUQsbUJBQW1CcjFDLEVBQVV1d0MsR0FBTUcsT0FBUSxDQUM5Q3JvQyxHQUFJbXFDLEdBQ0pwNEIsS0FBTSxDQUNKamtCLFVBQVdvekMsR0FBZ0J2cEMsR0FBWSxXQUN2Q0EsU0FBVUEsS0FnQmhCbFMseUJBQXlCa1MsR0FDdkIsSUFBSTlELEVBQU81UixLQUFLQyxZQUFZd2dELHlCQUF5Qi9xQyxHQUNyQyxNQUFaOUQsRUFBSyxHQUNQMUQsUUFBUUMsS0FBSyxZQUFjdUgsRUFBVyxxQ0FDcEM5RCxFQUFPLCtHQUVUNVIsS0FBSytxRCxtQkFBbUJyMUMsRUFBVXV3QyxHQUFNRSxRQUFTLENBQy9DcG9DLEdBQUlvcUMsR0FDSnI0QixLQUFNLENBQ0pzNEIsU0FBVXgyQyxLQW1CbEJwTyx3QkFBd0JrUyxFQUFVNDFDLEVBQVl6RCxHQUM1QyxJQUFJOEMsRUFBTVUsR0FBWUMsR0FDdEIsSUFBS1gsRUFDSCxNQUFNLElBQUl6L0MsTUFBTSxrQ0FBb0NvZ0QsRUFBYSxLQUVuRVosR0FBbUIxcUQsS0FBTTJxRCxFQUFLMUUsR0FBTUMsUUFBU21DLEdBQW1CM3lDLEVBQVVteUMsR0FnQjVFcmtELGFBQWEzQixFQUFNd2MsRUFBTTVMLEdBQ3ZCLE1BQU01TSxFQUFPN0YsS0FBSytnRCxPQUNaejhDLEVBQVMsR0FDZixJQUFLLElBQUk5RCxFQUFFLEVBQUd5SCxFQUFFcEcsRUFBS2xCLE9BQVFILEVBQUV5SCxFQUFHekgsSUFBSyxDQUNyQyxJQUFJc0UsS0FBQ0EsRUFBSTBpRCxXQUFFQSxFQUFVQyxTQUFFQSxFQUFRNytDLE1BQUVBLEVBQUs4L0MsUUFBRUEsR0FBVzdtRCxFQUFLckIsR0FDeEQsSUFBS2tvRCxFQUNILEdBQUlqQixFQUFVLENBQ1osTUFBTXJxQyxFQUFVaWhDLEdBQWF2NUMsRUFBTXVaLEdBQzdCbXhDLEVBQVk3RCxHQUFZOWxELEVBQU00TSxFQUFPMkssRUFBVWlCLEVBQU92WixHQUM1RDhELEVBQVEsQ0FDTnlWLEtBQU1qQixFQUFVaUIsRUFBT3ZaLEVBQ3ZCOEQsTUFBTzRtRCxFQUNQOVUsS0FBTXQ5QixFQUFVclEsR0FBSWxILEVBQU1mLEdBQVEwcUQsUUFHcEM1bUQsRUFBUTQrQyxFQUFhbUUsR0FBWTlsRCxFQUFNNE0sRUFBTzNOLEdBQVFlLEVBQUtmLEdBRy9EUixFQUFPOUQsR0FBS29JLEVBRWQsT0FBT3RFLEVBMENUZCx5QkFBeUJrUyxFQUFVaFEsRUFBTThuRCxHQUN2Q3h0RCxLQUFLRSxVQUFVNnFELG1CQUFtQnIxQyxFQUFVaFEsRUFBTThuRCxHQWNwRGhxRCw4QkFBOEJrUyxFQUFVaXlDLEVBQVFFLEdBQzlDN25ELEtBQUtFLFVBQVV1dkQsd0JBQXdCLzVDLEVBQVVpeUMsRUFBUUUsR0FpQjNEcmtELDRCQUE0QjhuRCxFQUFZekQsR0FDdEM3bkQsS0FBS0UsVUFBVXd2RCxzQkFBc0JwRSxFQUFZekQsR0FZbkRya0QsK0JBQStCa1MsR0FDN0IxVixLQUFLRSxVQUFVeXZELHlCQUF5Qmo2QyxHQW9CMUNsUyw4QkFBOEJrUyxFQUFVNjVDLEdBQ3RDdnZELEtBQUtFLFVBQVUwdkQsd0JBQXdCbDZDLEVBQVU2NUMsR0FZbkQvckQsK0JBQStCa1MsR0FDN0IxVixLQUFLRSxVQUFVMnZELHlCQUF5Qm42QyxHQWtCMUNsUyw4QkFBOEJrUyxFQUFVNDFDLEVBQVl6RCxHQUNsRDduRCxLQUFLRSxVQUFVNHZELHdCQUF3QnA2QyxFQUFVNDFDLEVBQVl6RCxHQWdCL0Rya0Qsb0JBQW9CdUQsR0FDbEIsT0FBTy9HLEtBQUtFLFVBQVU2dkQsY0FBY2hwRCxHQTZCdEN2RCxjQUFjdUQsRUFBVWlwRCxHQUN0QixJQUFJN0wsRUFBZW5rRCxLQUFLQyxZQUFZa2xELGVBQWVwK0MsR0FDL0NrcEQsRUFBY2p3RCxLQUFLb3RELGdCQUFrQmpKLEVBR3pDLElBQUs4TCxFQUNILElBQUssSUFBSW5nRCxLQUFRcTBDLEVBQWE0SyxnQkFDNUIvdUQsS0FBS21nRCx3QkFBd0Jyd0MsR0FHakMsR0FBSWtnRCxJQUdGN0wsRUFBNEMza0QsT0FBT1csT0FBT2drRCxHQUMxREEsRUFBYThMLFlBQWNBLEdBQ3RCQSxHQUFlandELEtBQUtvdEQsZ0JBQWdCLENBQ3ZDLElBQUkxTyxFQUFPMStDLEtBQUtrd0Qsb0JBQXNCbHdELEtBQUtvdEQsZUFHM0MsT0FGQXB0RCxLQUFLa3dELG1CQUFxQnhSLEVBQUtzUSxpQkFBbUI3SyxFQUNsREEsRUFBYWdNLHFCQUF1QnpSLEVBQzdCeUYsRUFHWCxPQUFPbmtELEtBQUtvdEQsZUFBaUJqSixFQWlCL0IzZ0Qsa0NBQWtDMmdELEVBQWNyMEMsRUFBTTA5QyxJQUNwQ3JKLEVBQWFpTSxVQUFZak0sRUFBYWlNLFdBQWEsSUFDekR0Z0QsSUFBUSxFQUNsQixJQUFJNDJDLEVBQVV2QyxFQUFhNEssZ0JBQWtCNUssRUFBYTRLLGlCQUFtQixJQUMzRHJJLEVBQVE1MkMsR0FBUTQyQyxFQUFRNTJDLElBQVMsSUFDdkNySyxLQUFLK25ELEdBdUJuQmhxRCxlQUFldUQsR0FHYnVtRCxHQUFVK0MsYUFBYXJ3RCxNQUN2QixJQUFJd2xELEVBQU1wNkMsTUFBTWtsRCxlQUFldnBELEdBQy9CdW1ELEdBQVVpRCxXQUFXdndELE1BQ3JCLElBQUlta0QsRUFBNENua0QsS0FBSyt2RCxjQUFjaHBELEdBQVUsR0FJN0UsR0FGQW85QyxFQUFhdUIsU0FBV0YsRUFBSUUsVUFFdkJ2QixFQUFhOEwsWUFBYSxDQUM3QixJQUFJOS9CLEVBQVFnMEIsRUFBYXRMLFdBQWEsR0FDdEMsSUFBSyxJQUFJcDRDLEVBQUUra0QsRUFBSS8xQyxXQUFZaFAsRUFBR0EsRUFBRUEsRUFBRWtDLFlBQ2hDd3RCLEVBQU0xcUIsS0FBS2hGLEdBV2YsT0FSQStrRCxFQUFJckIsYUFBZUEsRUFseUR6QixTQUF1QjNILEVBQU0ySCxHQUUzQixJQUFJdUIsU0FBQ0EsRUFBUW5CLGFBQUVBLEdBQWdCSixFQUMvQixHQUFJSSxFQUFhNWpELE9BQ2YsSUFBSyxJQUFJSCxFQUFFLEVBQUdBLEVBQUkrakQsRUFBYTVqRCxPQUFRSCxJQUFLLENBQzFDLElBQUlzdkIsRUFBT3kwQixFQUFhL2pELEdBQ3BCK0QsRUFBT21oRCxFQUFTbGxELEdBQ2hCbW9ELEVBQVc3NEIsRUFBSzY0QixTQUNwQixHQUFJQSxFQUNGLElBQUssSUFBSW5vRCxFQUFFLEVBQUdBLEVBQUVtb0QsRUFBU2hvRCxPQUFRSCxJQUFLLENBQ3BDLElBQUlvb0QsRUFBVUQsRUFBU25vRCxHQUN2QjBwRCxHQUFxQjNsRCxFQUFNcWtELEdBQzNCd0IsR0FBa0I3bEQsRUFBTWk0QyxFQUFNb00sR0FHbENya0QsRUFBS29vRCxXQUFhblEsR0FxeERsQmdVLENBQWN4d0QsS0FBTW1rRCxHQUVoQm5rRCxLQUFLNmdELGFBQ1BnRyxHQUFXN21ELEtBQU1ta0QsRUFBYTRLLGdCQUFpQi91RCxLQUFLK2dELE9BQVEsTUFDMUQsRUFBT29ELEVBQWF1QixVQUVqQkYsRUFhVGhpRCxnQkFBZ0JnaUQsR0FFZCxJQUFJckIsRUFBZXFCLEVBQUlyQixhQUNuQkEsRUFBYWdNLHVCQUNmaE0sRUFBYWdNLHFCQUFxQm5CLGlCQUNoQzdLLEVBQWE2SyxrQkFFYjdLLEVBQWE2SyxtQkFDZjdLLEVBQWE2SyxpQkFBaUJtQixxQkFDNUJoTSxFQUFhZ00sc0JBRWJud0QsS0FBS2t3RCxvQkFBc0IvTCxJQUM3Qm5rRCxLQUFLa3dELG1CQUFxQi9MLEVBQWFnTSxzQkFFekNoTSxFQUFhZ00scUJBQXVCaE0sRUFBYTZLLGlCQUFtQixLQUVwRSxJQUFJNytCLEVBQVFnMEIsRUFBYXRMLFdBQ3pCLElBQUssSUFBSXI0QyxFQUFFLEVBQUdBLEVBQUUydkIsRUFBTXh2QixPQUFRSCxJQUFLLENBQ2pDLElBQUkrRCxFQUFPNHJCLEVBQU0zdkIsR0FDakIrRCxFQUFLeUIsV0FBV3BELFlBQVkyQixJQXFCaENmLDBCQUEwQmUsRUFBTTQvQyxFQUFjUixHQUc1QyxJQUFJZ0IsRUFBUXlILEVBQW9CMUgsbUJBQW1COWpELEtBQ2pEWixLQUFNdUUsRUFBTTQvQyxFQUFjUixHQUM1QixHQUFJcC9DLEVBQUtFLFdBQWEwRixLQUFLNjZDLFVBQVcsQ0FDcEMsSUFBSXJoRCxFQUFRM0QsS0FBS3l3RCxlQUFlbHNELEVBQUswSyxZQUFhazFDLEdBQzlDeGdELElBSUZZLEVBQUswSyxZQUFjbThDLEdBQWlCem5ELElBQVUsSUFDOUM4a0QsR0FBV3pvRCxLQUFNbWtELEVBQWNSLEVBQVUsT0FBUSxjQUFlaGdELEdBQ2hFZ2hELEdBQVEsR0FHWixPQUFPQSxFQXNCVG5oRCxtQ0FBbUNlLEVBQU00L0MsRUFBY1IsRUFBVTcrQyxFQUFNOEQsR0FDckUsSUFBSWpGLEVBQVEzRCxLQUFLeXdELGVBQWU3bkQsRUFBT3U3QyxHQUN2QyxHQUFJeGdELEVBQU8sQ0FFVCxJQUFJK3NELEVBQVc1ckQsRUFDWHNRLEVBQU8sV0FJUG94QyxHQUFzQngyQixLQUFLbHJCLEdBQzdCc1EsRUFBTyxZQUN5QixLQUF2QnRRLEVBQUtBLEVBQUtuRSxPQUFPLEtBQzFCbUUsRUFBT0EsRUFBSzNCLE1BQU0sR0FBSSxHQUN0QmlTLEVBQU8sYUFHVCxJQUFJc3pDLEVBQVUwQyxHQUFpQnpuRCxHQTBCL0IsT0F6Qkkra0QsR0FBbUIsYUFBUnR6QyxJQUdELFNBQVJ0USxHQUFtQlAsRUFBSzZuQixhQUFhLFdBQ3ZDczhCLEdBQVcsSUFBTW5rRCxFQUFLYyxhQUFhUCxJQUVyQ1AsRUFBS2dGLGFBQWF6RSxFQUFNNGpELElBTUgsVUFBbkJua0QsRUFBSytULFdBQXNDLFVBQWJvNEMsR0FDaENuc0QsRUFBS2dGLGFBQWFtbkQsRUFBVSxJQUc5Qm5zRCxFQUFLZSxnQkFBZ0JvckQsR0FLUixhQUFUdDdDLElBQ0Z0USxFQUFPZzZDLEdBQWdCaDZDLElBRXpCMmpELEdBQVd6b0QsS0FBTW1rRCxFQUFjUixFQUFVdnVDLEVBQU10USxFQUFNbkIsRUFBTytrRCxJQUNyRCxFQUlQLE9BQU8wRCxFQUFvQjlHLDRCQUE0QjFrRCxLQUNyRFosS0FBTXVFLEVBQU00L0MsRUFBY1IsRUFBVTcrQyxFQUFNOEQsR0FrQmhEcEYsb0NBQW9DZSxFQUFNNC9DLEVBQWNSLEdBR3RELElBQUlnQixFQUFReUgsRUFBb0J2SCw2QkFBNkJqa0QsS0FDM0RaLEtBQU11RSxFQUFNNC9DLEVBQWNSLEdBRXhCeU0sRUFBWXpNLEVBQVNRLGFBQWFpTSxVQUV0QyxJQUFLLElBQUk1RyxLQUFVNEcsRUFBVyxDQUU1QjNILEdBQVd6b0QsS0FBTW1rRCxFQUFjUixFQUFVLFdBQVksU0FBVzZGLEVBRHBELENBQUMsQ0FBRXh4QyxLQUZOLElBRVl3eEMsT0FBQUEsRUFBUUwsYUFBYyxDQUFDSyxNQUc5QyxPQUFPN0UsRUFnRFRuaEQsc0JBQXNCNkYsRUFBTTg2QyxHQUMxQixJQUVJOWMsRUFGQTFqQyxFQUFRLEdBQ1JzQyxFQUFZLEVBUWhCLEtBQXlDLFFBQWpDb2hDLEVBQUk2akIsR0FBYWptRCxLQUFLb0UsS0FBaUIsQ0FFekNnK0IsRUFBRWxqQyxNQUFROEIsR0FDWnRDLEVBQU04QixLQUFLLENBQUNpakQsUUFBU3IvQyxFQUFLbEcsTUFBTThDLEVBQVdvaEMsRUFBRWxqQyxTQUcvQyxJQUFJNlQsRUFBT3F2QixFQUFFLEdBQUcsR0FDWnloQixFQUFTNzRDLFFBQVFvM0IsRUFBRSxJQUNuQm1pQixFQUFTbmlCLEVBQUUsR0FBR21HLE9BQ2RtakIsR0FBYyxFQUFPQyxFQUFjLEdBQUlDLEdBQVMsRUFDeEMsS0FBUjc0QyxJQUFnQjY0QyxFQUFRckgsRUFBTzFqRCxRQUFRLE9BQVMsSUFDbEQ4cUQsRUFBY3BILEVBQU96YSxVQUFVOGhCLEVBQVEsR0FDdkNySCxFQUFTQSxFQUFPemEsVUFBVSxFQUFHOGhCLEdBQzdCRixHQUFjLEdBRWhCLElBQUlHLEVBQVl6RixHQUFZN0IsR0FDeEJMLEVBQWUsR0FDbkIsR0FBSTJILEVBQVcsQ0FFYixJQUFJanZELEtBQUNBLEVBQUkrakQsV0FBRUEsR0FBY2tMLEVBQ3pCLElBQUssSUFBSXR3RCxFQUFFLEVBQUdBLEVBQUVxQixFQUFLbEIsT0FBUUgsSUFBSyxDQUNoQyxJQUFJc3FELEVBQU1qcEQsRUFBS3JCLEdBQ1ZzcUQsRUFBSXBDLFNBQ1BTLEVBQWExakQsS0FBS3FsRCxHQUd0QixJQUFJaUcsRUFBYTVNLEVBQWE0TSxZQUMxQkEsR0FBY0EsRUFBV25MLElBQWVrTCxFQUFVakcsVUFDcEQxQixFQUFhMWpELEtBQUttZ0QsR0FDbEJrTCxFQUFVakosV0FBWSxRQUl4QnNCLEVBQWExakQsS0FBSytqRCxHQUVwQjdsRCxFQUFNOEIsS0FBSyxDQUNUK2pELE9BQUFBLEVBQVF4eEMsS0FBQUEsRUFBTTh3QyxPQUFBQSxFQUFRNkgsWUFBQUEsRUFBYUcsVUFBQUEsRUFBVzNILGFBQUFBLEVBQzlDejhDLE1BQU9ra0QsSUFFVDNxRCxFQUFZaWxELEdBQWFqbEQsVUFHM0IsR0FBSUEsR0FBYUEsRUFBWW9ELEVBQUsxSSxPQUFRLENBQ3hDLElBQUkrbkQsRUFBVXIvQyxFQUFLMGxDLFVBQVU5b0MsR0FDekJ5aUQsR0FDRi9rRCxFQUFNOEIsS0FBSyxDQUNUaWpELFFBQVNBLElBSWYsT0FBSS9rRCxFQUFNaEQsT0FDRGdELEVBRUEsS0FtQlhILHdCQUF3Qmc1QyxFQUFNNTFDLEVBQU15WCxFQUFNNUwsRUFBTzRqQyxFQUFVeVEsR0FDekQsSUFBSWwrQyxFQWVKLE9BYkVBLEVBREVoQyxFQUFLa3FELFVBQ0N4SSxHQUFnQjlMLEVBQU1uK0IsRUFBTTVMLEVBQU80akMsRUFBVXp2QyxFQUFLa3FELFdBQ2pEenlDLEdBQVF6WCxFQUFLNGlELE9BQ2R6OEMsR0FBSXl2QyxFQUFNNTFDLEVBQUs0aUQsUUFFbkIxQyxHQUFZNUksR0FBTzcvQixHQUNidFIsR0FBSXl2QyxFQUFNbitCLEdBRVZtK0IsRUFBS3VFLE9BQU8xaUMsR0FHcEJ6WCxFQUFLa2lELFNBQ1BsZ0QsR0FBU0EsR0FFSkEsTUFrRWIsTUFBTTBrRCxHQUFZLElBbkNsQixNQUNFOXBELGNBQ0V4RCxLQUFLNkQsTUFBUSxHQU9mTCxhQUFhZzVDLEdBQ1gsR0FBSXg4QyxLQUFLNkQsTUFBTWxELE9BQVEsQ0FDVlgsS0FBSzZELE1BQU03RCxLQUFLNkQsTUFBTWxELE9BQU8sR0FDbkNncEQsZUFBZW5OLElBUXhCaDVDLGFBQWFnNUMsR0FDWHg4QyxLQUFLNkQsTUFBTTRCLEtBQUsrMkMsR0FPbEJoNUMsV0FBV2c1QyxHQUNULElBQUl3VSxFQUFXaHhELEtBQUs2RCxNQUFNbEQsT0FDdEJxd0QsR0FBWWh4RCxLQUFLNkQsTUFBTW10RCxFQUFTLElBQU14VSxHQUN4Q3g4QyxLQUFLNkQsTUFBTTJDOzs7Ozs7Ozs7RUNyeEZWLE1BQU15cUQsR0FBa0I5VixHQUFjK0UsSUFPNUMsTUFBTXhGLEVBQU91RixHQUFrQkMsR0FTL0IsU0FBU2dSLEVBQXFCanhELEdBQzVCLE1BQU11UyxFQUFZaFQsT0FBT3dTLGVBQWUvUixHQU14QyxPQUFRdVMsRUFBVXRTLHFCQUFxQit3RCxJQUNvQixLQVc3RCxTQUFTRSxFQUFjbHhELEdBQ3JCLElBQUtBLEVBQVlKLGVBQWVnUSwwQkFBMEIsa0JBQW1CNVAsSUFBZSxDQUMxRixJQUFJd1MsRUFBUSxLQUVaLEdBQUl4UyxFQUFZSixlQUFlZ1EsMEJBQTBCLGFBQWM1UCxJQUFlLENBQ3BGLE1BQU15UyxFQUFhelMsRUFBWXlTLFdBRTNCQSxJQUNIRDs7Ozs7Ozs7OztBQXhFUixTQUE2QkEsR0FDM0IsTUFBTTIrQyxFQUFTLEdBQ2YsSUFBSyxJQUFJeHhELEtBQUs2UyxFQUFPLENBQ25CLE1BQU16USxFQUFJeVEsRUFBTTdTLEdBQ2hCd3hELEVBQU94eEQsR0FBbUIsbUJBQU5vQyxFQUFvQixDQUFDMEQsS0FBTTFELEdBQUtBLEVBRXRELE9BQU9vdkQsRUFrRU9DLENBQW9CMytDLElBSS9CelMsRUFBWXF4RCxnQkFBa0I3K0MsRUFFaEMsT0FBT3hTLEVBQVlxeEQsZ0JBVXJCLE1BQU1MLFVBQXdCdlcsRUFRNUJqcEMsZ0NBQ0UsSUFBS3pSLEtBQUtILGVBQWVnUSwwQkFBMEIsdUJBQXdCN1AsT0FBUSxDQUN4RUEsS0FBS0UsVUFDZCxNQUFNdVMsRUFBUXpTLEtBQUt1eEQsWUFDbkJ2eEQsS0FBS3d4RCxxQkFBdUIvK0MsRUFBUWpULE9BQU9rcEIsS0FBS2pXLEdBQU95RixJQUFJdFksR0FBS0ksS0FBS3lnRCx5QkFBeUI3Z0QsSUFBTSxHQUV0RyxPQUFPSSxLQUFLd3hELHFCQVdkaHVELGtCQUNFLElBQUt4RCxLQUFLSCxlQUFlZ1EsMEJBQTBCLGNBQWU3UCxPQUFRLENBQ3hFLE1BQU13UyxFQUFZMCtDLFFBQ2QxK0MsR0FDRkEsRUFBVWQsV0FFWjFSLEtBQUt5eEQsYUFBYyxFQUNuQnp4RCxLQUFLMHhELGtCQVlUbHVELHdCQUNFLE1BQU1pUCxFQUFRMCtDLFFBQ1YxK0MsR0FDZSxLQUFPay9DLGlCQUFpQmwvQyxHQWE3QzgrQyx5QkFDRSxJQUFLdnhELEtBQUtILGVBQ1JnUSwwQkFBMEIsZUFBZ0I3UCxPQUFRLENBQ2xELE1BQU13UyxFQUFZMCtDLFFBQ2xCbHhELEtBQUs0eEQsYUFBZXB5RCxPQUFPYSxPQUFPLEdBQ2hDbVMsR0FBYUEsRUFBVSsrQyxZQUN2QkosU0FFSixPQUFPbnhELEtBQUs0eEQsYUFZZHB1RCx1QkFBdUJzQixHQUNyQixNQUFNZ3JCLEVBQU85dkIsS0FBS3V4RCxZQUFZenNELEdBQzlCLE9BQU9nckIsR0FBUUEsRUFBS3BxQixLQVN0QmxDLHdCQUVFeEQsS0FBS0MsWUFBWXlSLFdBQ2pCdEcsTUFBTWcyQyx3QkFXUjU5QyxvQkFDTTRILE1BQU1tTixtQkFDUm5OLE1BQU1tTixvQkFFUnZZLEtBQUtxdUQsb0JBU1A3cUQsdUJBQ000SCxNQUFNK1Ysc0JBQ1IvVixNQUFNK1Ysd0JBTVosT0FBTzh2QyxJQ2xORlksR0FBV3p2RCxPQUFPNEwsVUFBWTVMLE9BQU80TCxTQUFtQixTQXlFakQ4akQsR0FBZTNXLEdBQWNULElBUXhDLE1BQU1xWCxFQUFxQmQsR0FBZ0I5RSxHQUFnQnpSLElBeUczRCxTQUFTc1gsRUFBeUJwOEMsRUFBTzlRLEVBQU1nckIsRUFBTW1pQyxHQUUvQ25pQyxFQUFLb2lDLFdBQ1BwaUMsRUFBS3N3QixVQUFXLEdBT2R0d0IsRUFBS29pQyxXQUNIdDhDLEVBQU11OEMsbUJBQW1CcnRELEdBQzNCb0osUUFBUUMsS0FBSyxzQ0FBc0NySixPQUVuRDhRLEVBQU1rNkMsd0JBQXdCaHJELEVBQU1nckIsRUFBS29pQyxTQUFVRCxJQUduRG5pQyxFQUFLc3dCLFdBQWF4cUMsRUFBTXU4QyxtQkFBbUJydEQsR0FDN0M4USxFQUFNZzZDLHdCQUF3QjlxRCxHQUFPZ3JCLEVBQUtvaUMsV0FDZixJQUFsQnBpQyxFQUFLc3dCLFVBQXNCeHFDLEVBQU11OEMsbUJBQW1CcnRELElBQzdEb0osUUFBUUMsS0FBSyxrQ0FBa0NySixvQkFFN0NnckIsRUFBS3NpQyxxQkFBdUJ4OEMsRUFBTXk4QyxrQkFBa0J2dEQsR0FDdEQ4USxFQUFNaTZDLHlCQUF5Qi9xRCxJQUNNLElBQTVCZ3JCLEVBQUtzaUMsb0JBQWdDeDhDLEVBQU15OEMsa0JBQWtCdnRELElBQ3RFb0osUUFBUUMsS0FBSyxtQ0FBbUNySixxQkFFOUNnckIsRUFBS3dpQyxTQUFXMThDLEVBQU0yOEMsaUJBQWlCenRELEdBQ3pDOFEsRUFBTSs1Qyx5QkFBeUI3cUQsSUFDTixJQUFoQmdyQixFQUFLd2lDLFFBQW9CMThDLEVBQU0yOEMsaUJBQWlCenRELElBQ3pEb0osUUFBUUMsS0FBSyxnQ0FBZ0NySixrQkFHM0NnckIsRUFBSzlTLFVBQ1BwSCxFQUFNNjVDLHdCQUF3QjNxRCxFQUFNZ3JCLEVBQUs5UyxTQUFVaTFDLEVBQVNuaUMsRUFBSzlTLFdBR25FcEgsRUFBTXlxQywyQkFBMkJ2N0MsR0FhbkMsU0FBUzB0RCxFQUFxQkMsRUFBTzFyRCxFQUFVZ3lDLEVBQUltQixHQUNqRCxJQUFLMlgsR0FBVSxDQUNiLE1BQU1hLEVBQWlCM3JELEVBQVM5QyxRQUFRNkssaUJBQWlCLFNBQ25ENmpELEVBQW9CdFYsR0FBbUJ0MkMsR0FFdkM2ckQsRVZsSUwsU0FBaUNoVyxHQUN2QyxJQUFJdlYsRUFBSXNWLEdBQWFDLEdBQ3JCLE9BQU92VixFQUFJK1YsR0FBeUIvVixHQUFLLEdVZ0lmd3JCLENBQXdCOVosR0FDdkMrWixFQUFxQi9yRCxFQUFTOUMsUUFBUTh1RCxrQkFDNUMsSUFBSyxJQUFJLzdDLEVBQU0sRUFBR0EsRUFBTTQ3QyxFQUFhanlELE9BQVFxVyxJQUFPLENBQ2xELElBQUl6VyxFQUFJcXlELEVBQWE1N0MsR0FDckJ6VyxFQUFFME8sWUFBY3dqRCxFQUFNTyxrQkFBa0J6eUQsRUFBRTBPLFlBQWFpckMsR0FDdkRuekMsRUFBUzlDLFFBQVFxQyxhQUFhL0YsRUFBR3V5RCxHQUduQyxJQUFJRyxFQUFxQixFQUV6QixJQUFLLElBQUl6eUQsRUFBSSxFQUFHQSxFQUFJbXlELEVBQWtCaHlELE9BQVFILElBQUssQ0FDakQsSUFBSUQsRUFBSW95RCxFQUFrQm55RCxHQUN0QjB5RCxFQUFnQlIsRUFBZU8sR0FHL0JDLElBQWtCM3lELEdBQ3BCQSxFQUFJQSxFQUFFK0csV0FBVSxHQUNoQjRyRCxFQUFjbHRELFdBQVdNLGFBQWEvRixFQUFHMnlELElBRXpDRCxJQUVGMXlELEVBQUUwTyxZQUFjd2pELEVBQU1PLGtCQUFrQnp5RCxFQUFFME8sWUFBYWlyQyxJQUd2RDkzQyxPQUFPNEwsVUFDVDVMLE9BQU80TCxTQUFTcXJDLGdCQUFnQnR5QyxFQUFVZ3lDLEdBdWdCOUMsT0FwZUEsY0FBNkJnWixFQU8zQm9CLG1DQUNFLE1BdlRpQixRQWtVbkIzdkQsd0JBR0V1dUQsRUFBbUJMLGVBQWU5d0QsS0FBS1osTUFDdkMsTUFBTWtkLElBaE5ZamQsRUFnTmFELE1BL01oQkgsZUFDZmdRLDBCQUEwQixpQkFBa0I1UCxNQUM1Q0EsRUFBWW16RCxlQUNSbnpELEVBQVlKLGVBQ1JnUSwwQkFBMEIsWUFBYTVQLElBQ0YsRUFBY2lkLFVBQ3ZELE1BRUNqZCxFQUFZbXpELGdCQVRyQixJQUFzQm56RCxFQWlOZGlkLEdBQ0ZsZCxLQUFLcXpELGdCQUFnQm4yQyxFQUFXbGQsS0FBS3V4RCxhQUV2Q3Z4RCxLQUFLc3pELG1CQUlQOXZELDBCQUVFLElBQUl1RCxFQUFvRCxLQUFPQSxTQUMzREEsSUFDc0IsaUJBQWJBLEdBQ1RtSCxRQUFRdzVCLE1BQU0sbURBQ2QzZ0MsRUFBVyxNQUVYQSxFQUFXQSxFQUFTTyxXQUFVLElBS2xDdEgsS0FBS0UsVUFBVXF6RCxVQUFZeHNELEVBVzdCdkQsd0JBQXdCaVAsR0FDdEIsSUFBSyxJQUFJN1MsS0FBSzZTLEVBQ1p1L0MsRUFDc0JoeUQsS0FBYyxVQUFHSixFQUFHNlMsRUFBTTdTLEdBQUk2UyxHQWdCeERqUCx1QkFBdUIwWixFQUFXNnpDLEdBQ2hDLE1BQU1uN0MsRUFBUTVWLEtBQUtFLFVBQ25CLElBQUssSUFBSU0sRUFBRSxFQUFHQSxFQUFJMGMsRUFBVXZjLE9BQVFILElBQ2xDb1YsRUFBTTg1QyxzQkFBc0J4eUMsRUFBVTFjLEdBQUl1d0QsR0F5QzlDaHFELHNCQTBCRSxPQVpLL0csS0FBS0gsZUFBZWdRLDBCQUEwQixZQUFhN1AsU0FDOURBLEtBQUt1ekQsVUFHSHZ6RCxLQUFLRSxVQUFVTCxlQUFlZ1EsMEJBQTBCLFlBQWE3UCxLQUFLRSxZQUMxRUYsS0FBS0UsVUFBVXF6RCxVQWhLdkIsU0FBa0N4YSxHQUNoQyxJQUFJaHlDLEVBQVcsS0FZZixPQVRJZ3lDLElBQ0ZoeUMsRUFDSSswQyxHQUFVZSxPQUFPOUQsRUFBSSxhQU9wQmh5QyxFQXFKQXlzRCxDQUFpRSxLQUFPemEsS0FHekV2NUMsT0FBT3dTLGVBQXVELEtBQU85UixXQUFXRCxZQUFZOEcsVUFFekYvRyxLQUFLdXpELFVBU2R4c0Qsb0JBQW9CNkIsR0FDbEI1SSxLQUFLdXpELFVBQVkzcUQsRUF1Qm5CNnFELHdCQUNFLElBQUt6ekQsS0FBS0gsZUFBZWdRLDBCQUEwQixjQUFlN1AsT0FBUSxDQUN4RSxNQUFNMnRDLEVBQU8zdEMsS0FBSzB6RCxXQUNsQixHQUFJL2xCLEVBQ0YzdEMsS0FBSzJ6RCxZQUFjN1ksR0FBWW5OLEVBQUtzTSxTQUMvQixDQUNMLE1BQU13QyxFQUFTWCxHQUFVZSxPQUFnRCxLQUFPOUQsSUFDaEYvNEMsS0FBSzJ6RCxZQUFlbFgsR0FBVUEsRUFBT1AsV0FDbkMxOEMsT0FBT3dTLGVBQXVELEtBQU85UixXQUFXRCxZQUFZd3pELFlBR2xHLE9BQU96ekQsS0FBSzJ6RCxZQUdkbndELGNBQ0U0SCxRQUVBcEwsS0FBS3V6RCxVQUVMdnpELEtBQUsyekQsWUFFTDN6RCxLQUFLKzZDLFNBRUwvNkMsS0FBS3l6RCxXQUVMenpELEtBQUsweEIsS0FFTDF4QixLQUFLMmxELEVBZVBuaUQsd0JBQ0V4RCxLQUFLQyxZQUFZeVIsV0FHakIxUixLQUFLQyxZQUFZMnpELGtCQUE2QyxLQUFPdDdDLFdBQ3JFbE4sTUFBTWcyQyx3QkFFTnBoRCxLQUFLKzZDLFNBQVdBLEdBQ2hCLzZDLEtBQUt5ekQsV0FBYXp6RCxLQUFLQyxZQUFZd3pELFdBRW5DLElBQUlqVyxFQXBiUixTQUEwQnY5QyxHQUN4QixJQUFLQSxFQUFZSixlQUNmZ1EsMEJBQTBCLHFCQUFzQjVQLElBQWUsQ0FDL0RBLEVBQVk0ekQsbUJBQXFCLEtBQ2pDLElBQUlwaEQsRUFBUXhTLEVBQVlzeEQsWUFDeEIsSUFBSyxJQUFJM3hELEtBQUs2UyxFQUFPLENBQ25CLElBQUlxZCxFQUFPcmQsRUFBTTdTLEdBQ2IsVUFBV2t3QixJQUNiN3ZCLEVBQVk0ekQsbUJBQXFCNXpELEVBQVk0ekQsb0JBQXNCLEdBQ25FNXpELEVBQVk0ekQsbUJBQW1CajBELEdBQUtrd0IsSUFJMUMsT0FBTzd2QixFQUFZNHpELG1CQXVhUkMsQ0FBaUI5ekQsS0FBS0MsYUFDL0IsR0FBS3U5QyxFQUdMLElBQUssSUFBSTU5QyxLQUFLNDlDLEVBQUksQ0FDaEIsSUFBSTF0QixFQUFPMHRCLEVBQUc1OUMsR0FJZCxJQUFLSSxLQUFLSCxlQUFlRCxHQUFJLENBQzNCLElBQUlnSixFQUE2QixtQkFBZGtuQixFQUFLbG5CLE1BQ3RCa25CLEVBQUtsbkIsTUFBTWhJLEtBQUtaLE1BQ2hCOHZCLEVBQUtsbkIsTUFHSDVJLEtBQUsrekQsYUFBYW4wRCxHQUNwQkksS0FBS3NoRCxvQkFBb0IxaEQsRUFBR2dKLEdBQU8sR0FFbkM1SSxLQUFLSixHQUFLZ0osSUFlbEJwRix5QkFBeUJnVCxFQUFTMGpDLEdBQ2hDLE9BQU9TLEdBQVdua0MsRUFBUzBqQyxHQWE3QjEyQyx5QkFBeUJ1MUMsR0FFdkIsTUFBTWh5QyxFQUFXL0csS0FBS0UsVUFBVXF6RCxVQUNoQyxHQUFJeHNELElBQWFBLEVBQVNpdEQsbUJBQW9CLENBQzVDanRELEVBQVNpdEQsb0JBQXFCLEVBQzlCLE1BQU1QLEVBQWF6ekQsS0FBS3l6RCxXQUd4QmpCLEVBQXFCeHlELEtBQU0rRyxFQUFVZ3lDLEVBRnJCMGEsRUFBYXpaLEdBQVd5WixHQUFjLElBR3REenpELEtBQUtFLFVBQVU2dkQsY0FBY2hwRCxJQWlCakN2RCxvQkFDTXBCLE9BQU80TCxVQUFZaE8sS0FBS3V6RCxXQUMxQm54RCxPQUFPNEwsU0FBU3dLLG1CQUVsQnBOLE1BQU1tTixvQkFTUi9VLFFBQ014RCxLQUFLdXpELFlBQ1B2ekQsS0FBSzB4QixLQUFPMXhCLEtBQUtzd0QsZUFBZXR3RCxLQUFLdXpELFdBQ3JDdnpELEtBQUsybEQsRUFBSTNsRCxLQUFLMHhCLEtBQUtpMEIsR0FFckJ2NkMsTUFBTXcyQyxRQWFScCtDLGdCQUNNeEQsS0FBS3V6RCxZQUNQdnpELEtBQUsweEIsS0FBTzF4QixLQUFLaTBELFdBQTBDajBELEtBQVMsT0FNdEVvTCxNQUFNK2lELGdCQWdCUjNxRCxXQUFXZ2lELEdBQ1QsTUFBTS9rRCxFQUFJdTlDLEdBQUtoK0MsTUFDZixHQUFJUyxFQUFFc1gsYUFDSixPQUFJeXRDLEdBQ0cva0QsRUFBRTZkLGFBQ0w3ZCxFQUFFc1gsYUFBYSxDQUFDQyxLQUFNLE9BQVFrOEMscUJBQXNCMU8sSUFDcEQva0QsRUFBRTZkLFdBQVd6VSxZQUFZMjdDLElBS3BCL2tELEVBQUU2ZCxZQUVKLEtBRVAsTUFBTSxJQUFJcFQsTUFBTSw2SUE2QnBCMUgsYUFBYWtQLEdBQ1B0USxPQUFPNEwsVUFDVDVMLE9BQU80TCxTQUFTOHFDLGtCQUFnRHBtQyxHQW9CcEVsUCxXQUFXeTJDLEVBQUtTLEdBSWQsT0FIS0EsR0FBUTE2QyxLQUFLeXpELGFBQ2hCL1ksRUFBT1YsR0FBV2g2QyxLQUFLeXpELGFBRWxCelosR0FBV0MsRUFBS1MsR0FnQnpCbDNDLDZCQUE2QnVELEVBQVVvOUMsRUFBY1IsR0FJbkQsT0FIQVEsRUFBYTRNLFdBQWE1TSxFQUFhNE0sWUFBYy93RCxLQUFLdXhELFlBR25EUSxFQUFtQnROLHNCQUFzQjdqRCxLQUM5Q1osS0FBTStHLEVBQVVvOUMsRUFBY1IsR0FlbENuZ0Qsa0NBQWtDMmdELEVBQWNyMEMsRUFBTTA5QyxHQWVwRCxPQUFPdUUsRUFBbUJ6SSwyQkFBMkIxb0QsS0FDbkRaLEtBQU1ta0QsRUFBY3IwQyxFQUFNMDlDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN2eEJsQyxNQUFhMkcsR0FDWDN3RCxjQUNFeEQsS0FBS28wRCxhQUFlLEtBQ3BCcDBELEtBQUtxMEQsVUFBWSxLQUNqQnIwRCxLQUFLczBELE9BQVMsS0FXaEI5d0QsVUFBVSt3RCxFQUFhN2dDLEdBQ3JCMXpCLEtBQUtvMEQsYUFBZUcsRUFDcEJ2MEQsS0FBS3EwRCxVQUFZM2dDLEVBQ2pCMXpCLEtBQUtzMEQsT0FBU3QwRCxLQUFLbzBELGFBQWF2VSxJQUFJLEtBQ2xDNy9DLEtBQUtzMEQsT0FBUyxLQUNkRSxHQUFlcjdDLE9BQU9uWixNQUN0QkEsS0FBS3EwRCxjQVFUN3dELFNBQ014RCxLQUFLeTBELGFBQ1B6MEQsS0FBSzAwRCxlQUtMRixHQUFlcjdDLE9BQU9uWixPQVExQndELGVBQ014RCxLQUFLeTBELGFBQ1B6MEQsS0FBS28wRCxhQUFhTyxPQUE2QjMwRCxLQUFXLFFBQzFEQSxLQUFLczBELE9BQVMsTUFRbEI5d0QsUUFDTXhELEtBQUt5MEQsYUFDUHowRCxLQUFLMjBELFNBQ0wzMEQsS0FBS3EwRCxhQVFUN3dELFdBQ0UsT0FBc0IsTUFBZnhELEtBQUtzMEQsT0FvQ2Q5d0QsZ0JBQWdCb3hELEVBQVdMLEVBQWE3Z0MsR0FTdEMsT0FSSWtoQyxhQUFxQlQsR0FHdkJTLEVBQVVGLGVBRVZFLEVBQVksSUFBSVQsR0FFbEJTLEVBQVVDLFVBQVVOLEVBQWE3Z0MsR0FDMUJraEMsR0FJWCxJQUFJSixHQUFpQixJQUFJaG1ELElBUWxCLE1BQU1zbUQsR0FBbUIsU0FBU0YsR0FDdkNKLEdBQWU3bEQsSUFBSWltRCxJQVFSRyxHQUFrQixXQUM3QixNQUFNQyxFQUFXL2tELFFBQVF1a0QsR0FBZTUvQyxNQVl4QyxPQVRBNC9DLEdBQWU5bUQsUUFBUWtuRCxJQUNyQixJQUNFQSxFQUFVSyxRQUNWLE1BQU1qcEQsR0FDTnNRLFdBQVcsS0FDVCxNQUFNdFEsT0FJTGdwRDs7Ozs7Ozs7OztBQ3BJVCxJQUFJRSxHQUEyRCxpQkFBcENueEQsU0FBUytuQixLQUFLOWMsTUFBTW1tRCxZQUUzQ0MsR0FBYywyQkFDZEMsR0FBZSwrQkFTZkMsR0FBZSxDQUFDLFlBQWEsWUFBYSxVQUFXLFNBRXJEQyxHQUF5QixDQUFDLEVBQUcsRUFBRyxFQUFHLEdBQ25DQyxHQUFvQixXQUN0QixJQUNFLE9BQXdELElBQWpELElBQUlDLFdBQVcsT0FBUSxDQUFDQyxRQUFTLElBQUlBLFFBQzVDLE1BQU8xcEQsR0FDUCxPQUFPLEdBSmEsR0FZeEIsU0FBUzJwRCxHQUFhN3dELEdBQ3BCLE9BQU93d0QsR0FBYXh2RCxRQUFRaEIsSUFBUyxFQUt2QyxJQUFJZ1osSUFBa0IsRUFpQnRCLFNBQVM4M0MsR0FBYy9wRCxHQUNqQjhwRCxHQUFhOXBELElBakJuQixXQUNFLElBQ0UsSUFBSWdxRCxFQUFPcjJELE9BQU9nQyxlQUFlLEdBQUksVUFBVyxDQUFDZ0MsTUFBT3NhLElBQWtCLEtBQzFFMWIsT0FBT3FKLGlCQUFpQixPQUFRLEtBQU1vcUQsR0FDdEN6ekQsT0FBT3NKLG9CQUFvQixPQUFRLEtBQU1tcUQsR0FDekMsTUFBTTdwRCxLQUxWLEdBNEJBLElBQUk4cEQsR0FBZ0JwcUMsVUFBVUMsVUFBVXZsQixNQUFNLDRCQUk5QyxNQUFNMnZELEdBQWdCLEdBR2hCQyxHQUFhLENBQ2pCQyxRQUFVLEVBQ1ZDLE9BQVMsRUFDVEMsUUFBVSxFQUNWQyxPQUFTLEVBQ1RoRixRQUFVLEVBQ1ZpRixVQUFZLEVBQ1pDLFVBQVksRUFDWngzQixRQUFVLEdBS055M0IsR0FBZ0IsQ0FDcEJOLFFBQVUsRUFDVk8sU0FBVyxFQUNYQyxVQUFZLEVBQ1pQLE9BQVMsRUFDVEMsUUFBVSxFQUNWTyxVQUFZLEVBQ1pDLFFBQVUsRUFDVjczQixRQUFVLEVBQ1Z1M0IsVUFBWSxHQWVkLFNBQVNPLEdBQWU3MUIsR0FDdEIsSUFBSTgxQixFQUFTbDNELE1BQU1PLFVBQVVpRCxNQUFNdkMsS0FBb0MsRUFBS2kyRCxRQUFVLElBS3RGLElBQUtBLEVBQU9sMkQsT0FBUSxDQUNsQmsyRCxFQUFTLEdBQ1QsSUFBSW5sQyxFQUFPcVAsRUFBRzdVLGNBRWQsR0FBSTZVLEVBQUdnYixHQUFJLENBQ1QsSUFBSSthLEVBQVdwbEMsRUFBSzVpQixpQkFBaUIsZUFBZWl5QixFQUFHZ2IsT0FDdkQsSUFBSyxJQUFJdjdDLEVBQUksRUFBR0EsRUFBSXMyRCxFQUFTbjJELE9BQVFILElBQ25DcTJELEVBQU9weEQsS0FBc0NxeEQsRUFBU3QyRCxLQUk1RCxPQUFPcTJELEVBUVQsSUFBSUUsR0FBaUIsU0FBUzFzQyxHQUs1QixJQUFJMnNDLEVBQUszc0MsRUFBVzRzQyxtQkF0Q3RCLElBQXVCbDJCLEVBdUNyQixLQUFJaTJCLEdBQU9BLEVBQUdFLG9CQUlkN3NDLEVBQVcrcUMsSUFBZSxDQUFDK0IsTUFBTSxHQUVULFVBQXBCOXNDLEVBQVcza0IsTUFBa0IsQ0FDL0IsSUFBSTB4RCxHQUFpQixFQUNqQi80QyxFQUFPZzVDLEdBQWdCaHRDLEdBQzNCLElBQUssSUFBSTdwQixFQUFJLEVBQUdBLEVBQUk2ZCxFQUFLMWQsT0FBUUgsSUFBSyxDQUNwQyxHQUFJNmQsRUFBSzdkLEdBQUdpRSxXQUFhMEYsS0FBS3FULGFBQzVCLEdBQTBCLFVBQXRCYSxFQUFLN2QsR0FBRzhYLFVBQ1Z5OUMsR0FBY3R3RCxLQUF1QzRZLEVBQUs3ZCxTQUNyRCxHQXBEUXVnQyxFQW9EdUMxaUIsRUFBSzdkLEdBbkQxRHcxRCxHQUFXajFCLEVBQUd6b0IsV0FtRGtELENBQy9ELElBQUlnL0MsRUFDQVYsR0FBNEN2NEMsRUFBSzdkLElBRXJELElBQUssSUFBSSt0QixFQUFJLEVBQUdBLEVBQUkrb0MsRUFBWTMyRCxPQUFRNHRCLElBQ3RDNm9DLEVBQWlCQSxHQUFrQnJCLEdBQWNqd0QsUUFBUXd4RCxFQUFZL29DLEtBQU8sRUFJbEYsR0FBSWxRLEVBQUs3ZCxLQUFPKzJELEdBQWFDLE1BQU14MkQsT0FDakMsT0FLSixHQUFJbzJELEVBQ0YsT0FFRi9zQyxFQUFXK1EsaUJBQ1gvUSxFQUFXMFYsb0JBUWYsU0FBUzAzQixHQUE0QkMsR0FDbkMsSUFBSTFULEVBQVM4UixHQUFnQixDQUFDLFNBQVdSLEdBQ3pDLElBQUssSUFBV3FDLEVBQVBuM0QsRUFBSSxFQUFPQSxFQUFJd2pELEVBQU9yakQsT0FBUUgsSUFDckNtM0QsRUFBSzNULEVBQU94akQsR0FDUmszRCxHQUVGM0IsR0FBY3AxRCxPQUFTLEVBQ3ZCb0QsU0FBUzBILGlCQUFpQmtzRCxFQUFJWixJQUFnQixJQUU5Q2h6RCxTQUFTMkgsb0JBQW9CaXNELEVBQUlaLElBQWdCLEdBNEJ2RCxTQUFTYSxHQUFtQjU0QyxHQUMxQixJQUFJdFosRUFBT3NaLEVBQUd0WixLQUVkLElBQUtpd0QsR0FBYWp3RCxHQUNoQixPQUFPLEVBSVQsR0FBYSxjQUFUQSxFQUFzQixDQUV4QixJQUFJZ3dELE9BQXlCdnpELElBQWY2YyxFQUFHMDJDLFFBQXdCLEVBQUkxMkMsRUFBRzAyQyxRQUtoRCxPQUpLMTJDLGFBQWM1YyxPQUFPcXpELGFBQWdCRCxLQUN4Q0UsRUFBVUgsR0FBdUJ2MkMsRUFBRzY0QyxRQUFVLEdBR3pDNW5ELFFBQWtCLEVBQVZ5bEQsR0FLZixPQUFrQixVQUZTdnpELElBQWQ2YyxFQUFHaTNDLE9BQXVCLEVBQUlqM0MsRUFBR2kzQyxRQThCbEQsSUFBSXNCLEdBQWUsQ0FDakJDLE1BQU8sQ0FDTHgyRCxPQUFRLEtBQ1I4MkQsZUFBZ0IsTUFFbEJDLE1BQU8sQ0FDTDF4QyxFQUFHLEVBQ0hDLEVBQUcsRUFDSHkxQixJQUFLLEVBQ0xpYyxlQUFlLElBaUJuQixTQUFTQyxHQUFjQyxFQUFVQyxFQUFRQyxHQUN2Q0YsRUFBU0MsT0FBU0EsRUFDbEJELEVBQVNFLEtBQU9BLEVBQ2hCcjBELFNBQVMwSCxpQkFBaUIsWUFBYTBzRCxHQUN2Q3AwRCxTQUFTMEgsaUJBQWlCLFVBQVcyc0QsR0FHdkMsU0FBU0MsR0FBZ0JILEdBQ3ZCbjBELFNBQVMySCxvQkFBb0IsWUFBYXdzRCxFQUFTQyxRQUNuRHAwRCxTQUFTMkgsb0JBQW9CLFVBQVd3c0QsRUFBU0UsTUFDakRGLEVBQVNDLE9BQVMsS0FDbEJELEVBQVNFLEtBQU8sS0FNaEJyMEQsU0FBUzBILGlCQUFpQixZQWxINUIsU0FBcUJPLEdBSWR1ckQsR0FBYUMsTUFBTU0sZ0JBQ3RCTCxJQUE0QixHQU85QkYsR0FBYUMsTUFBTXgyRCxPQUFTcTJELEdBQWdCcnJELEdBQUcsR0FDL0N1ckQsR0FBYUMsTUFBTU0sZUFBaUIzRCxHQUFVbUUsU0FDeENmLEdBQWFDLE1BQU1NLGVBQ25CcFksR0FBUUMsTUFuTUksT0EyTE4sV0FDVjhYLEtBQ0FGLEdBQWFDLE1BQU14MkQsT0FBUyxLQUM1QnUyRCxHQUFhQyxNQUFNTSxlQUFpQixZQXdHYWg2QyxJQUFrQixDQUFDeFIsU0FBUyxJQVFqRixNQUFNK3FELEdBQWtCajFELE9BQU82N0MsVUFBWTc3QyxPQUFPNjdDLFNBQVNzYSxRQUN6RG4yRCxPQUFPNjdDLFNBQVNuL0IsYUFDZnBTLEdBQVVBLEVBQU1vUyxjQUFnQnBTLEVBQU1vUyxnQkFBa0IsR0FHOUMwNUMsR0FBVyxHQUdYQyxHQUFjLEdBeUMzQixTQUFTQyxHQUFvQjE1QyxHQUMzQixNQUFNWCxFQUFPZzVDLE1BRWIsT0FBT2g1QyxFQUFLMWQsT0FBUyxFQUFJMGQsRUFBSyxHQUFLVyxFQUFHaGUsT0FReEMsU0FBUzIzRCxHQUFjMzVDLEdBQ3JCLElBQUk0NUMsRUFDQWx6RCxFQUFPc1osRUFBR3RaLEtBRVZtekQsRUFETzc1QyxFQUFHd3JDLGNBQ2Esa0JBQzNCLElBQUtxTyxFQUNILE9BRUYsSUFBSUMsRUFBS0QsRUFBS256RCxHQUNkLEdBQUtvekQsRUFBTCxDQUdBLElBQUs5NUMsRUFBR28yQyxNQUNOcDJDLEVBQUdvMkMsSUFBZSxHQUNPLFVBQXJCMXZELEVBQUt2QyxNQUFNLEVBQUcsSUFBZ0IsQ0FFaEMsSUFBSTdDLEdBREowZSxLQUNXa0wsZUFBZSxHQU8xQixHQU5hLGVBQVR4a0IsR0FFd0IsSUFBdEJzWixFQUFHKzVDLFFBQVFwNEQsU0FDYjQyRCxHQUFhUSxNQUFNaGMsR0FBS3o3QyxFQUFFMDRELFlBRzFCekIsR0FBYVEsTUFBTWhjLEtBQU96N0MsRUFBRTA0RCxXQUM5QixPQUVHOUQsSUFDVSxlQUFUeHZELEdBQWtDLGNBQVRBLEdBbUNyQyxTQUE0QnNaLEdBQzFCLElBQUkxZSxFQUFJMGUsRUFBR2tMLGVBQWUsR0FDdEJ4a0IsRUFBT3NaLEVBQUd0WixLQUNkLEdBQWEsZUFBVEEsRUFDRjZ4RCxHQUFhUSxNQUFNMXhDLEVBQUkvbEIsRUFBRTI0RCxRQUN6QjFCLEdBQWFRLE1BQU16eEMsRUFBSWhtQixFQUFFNDRELFFBQ3pCM0IsR0FBYVEsTUFBTUMsZUFBZ0IsT0FDOUIsR0FBYSxjQUFUdHlELEVBQXNCLENBQy9CLEdBQUk2eEQsR0FBYVEsTUFBTUMsY0FDckIsT0FFRlQsR0FBYVEsTUFBTUMsZUFBZ0IsRUFDbkMsSUFBSW1CLEVBNUtSLFNBQTBCbjZDLEdBQ3hCLElBQUltNkMsRUFBSyxPQUNMOTZDLEVBQU9nNUMsR0FBZ0JyNEMsR0FDM0IsSUFBSyxJQUFXdmUsRUFBUEQsRUFBSSxFQUFNQSxFQUFJNmQsRUFBSzFkLE9BQVFILElBRWxDLEdBREFDLEVBQUk0ZCxFQUFLN2QsR0FDTEMsRUFBRTQwRCxJQUFlLENBQ25COEQsRUFBSzE0RCxFQUFFNDBELElBQ1AsTUFHSixPQUFPOEQsRUFrS0lDLENBQWlCcDZDLEdBQ3RCcTZDLEdBQWdCLEVBQ2hCQyxFQUFLcjJELEtBQUttWixJQUFJbTdDLEdBQWFRLE1BQU0xeEMsRUFBSS9sQixFQUFFMjRELFNBQ3ZDTSxFQUFLdDJELEtBQUttWixJQUFJbTdDLEdBQWFRLE1BQU16eEMsRUFBSWhtQixFQUFFNDRELFNBQ3RDbDZDLEVBQUcyQixhQUVVLFNBQVB3NEMsRUFDVEUsR0FBZ0IsRUFDQSxVQUFQRixFQUNURSxFQUFnQkUsRUFBS0QsRUFDTCxVQUFQSCxJQUNURSxFQUFnQkMsRUFBS0MsSUFFbkJGLEVBQ0ZyNkMsRUFBR29jLGlCQUVIbytCLEdBQVEsVUE5REpDLENBQW1CejZDLEdBTzNCLEdBRkE0NUMsRUFBVTU1QyxFQUFHbzJDLEtBRVR3RCxFQUFRekIsS0FBWixDQUlBLElBQUssSUFBVy8xRCxFQUFQWixFQUFJLEVBQU1BLEVBQUlpNEQsR0FBWTkzRCxPQUFRSCxJQUN6Q1ksRUFBSXEzRCxHQUFZajRELEdBQ1pzNEQsRUFBRzEzRCxFQUFFMEQsUUFBVTh6RCxFQUFReDNELEVBQUUwRCxPQUN2QjFELEVBQUVzNEQsTUFBUXQ0RCxFQUFFczRELEtBQUtqM0QsTUFBTXFELFFBQVFrWixFQUFHdFosT0FBUyxHQUFLdEUsRUFBRXU0RCxPQUNwRHY0RCxFQUFFdTRELFFBS1IsSUFBSyxJQUFXdjRELEVBQVBaLEVBQUksRUFBTUEsRUFBSWk0RCxHQUFZOTNELE9BQVFILElBQ3pDWSxFQUFJcTNELEdBQVlqNEQsR0FDWnM0RCxFQUFHMTNELEVBQUUwRCxRQUFVOHpELEVBQVF4M0QsRUFBRTBELFFBQzNCOHpELEVBQVF4M0QsRUFBRTBELE9BQVEsRUFDbEIxRCxFQUFFc0UsR0FBTXNaLE1BbURkLFNBQWdCNDZDLEdBQVlyMUQsRUFBTXMxRCxFQUFRcDNDLEdBQ3hDLFFBQUkrMUMsR0FBU3FCLEtBaUNmLFNBQWN0MUQsRUFBTXMxRCxFQUFRcDNDLEdBQzFCLElBQUlxM0MsRUFBYXRCLEdBQVNxQixHQUN0QkUsRUFBT0QsRUFBV0MsS0FDbEJqMUQsRUFBT2cxRCxFQUFXaDFELEtBQ2xCK3pELEVBQU90MEQsRUFBZ0Isa0JBQ3RCczBELElBQ0h0MEQsRUFBZ0Isa0JBQUlzMEQsRUFBTyxJQUU3QixJQUFLLElBQVdtQixFQUFLQyxFQUFaejVELEVBQUksRUFBWUEsRUFBSXU1RCxFQUFLcDVELE9BQVFILElBQ3hDdzVELEVBQU1ELEVBQUt2NUQsR0FFUHMxRCxJQUFpQkgsR0FBYXFFLElBQWdCLFVBQVJBLElBRzFDQyxFQUFLcEIsRUFBS21CLEdBQ0xDLElBQ0hwQixFQUFLbUIsR0FBT0MsRUFBSyxDQUFDQyxPQUFRLElBRVYsSUFBZEQsRUFBR0MsUUFDTDMxRCxFQUFLa0gsaUJBQWlCdXVELEVBQUtyQixHQUFlL0MsR0FBY29FLElBRTFEQyxFQUFHbjFELElBQVNtMUQsRUFBR24xRCxJQUFTLEdBQUssRUFDN0JtMUQsRUFBR0MsUUFBVUQsRUFBR0MsUUFBVSxHQUFLLEdBRWpDMzFELEVBQUtrSCxpQkFBaUJvdUQsRUFBUXAzQyxHQUMxQnEzQyxFQUFXM0UsYUFDYmdGLEdBQWU1MUQsRUFBTXUxRCxFQUFXM0UsYUExRGhDaUYsQ0FBSzcxRCxFQUFNczFELEVBQVFwM0MsSUFDWixHQWNYLFNBQWdCNDNDLEdBQWU5MUQsRUFBTXMxRCxFQUFRcDNDLEdBQzNDLFFBQUkrMUMsR0FBU3FCLEtBdURmLFNBQWlCdDFELEVBQU1zMUQsRUFBUXAzQyxHQUM3QixJQUFJcTNDLEVBQWF0QixHQUFTcUIsR0FDdEJFLEVBQU9ELEVBQVdDLEtBQ2xCajFELEVBQU9nMUQsRUFBV2gxRCxLQUNsQit6RCxFQUFPdDBELEVBQWdCLGtCQUMzQixHQUFJczBELEVBQ0YsSUFBSyxJQUFXbUIsRUFBS0MsRUFBWno1RCxFQUFJLEVBQVlBLEVBQUl1NUQsRUFBS3A1RCxPQUFRSCxJQUN4Q3c1RCxFQUFNRCxFQUFLdjVELEdBQ1h5NUQsRUFBS3BCLEVBQUttQixHQUNOQyxHQUFNQSxFQUFHbjFELEtBQ1htMUQsRUFBR24xRCxJQUFTbTFELEVBQUduMUQsSUFBUyxHQUFLLEVBQzdCbTFELEVBQUdDLFFBQVVELEVBQUdDLFFBQVUsR0FBSyxFQUNiLElBQWRELEVBQUdDLFFBQ0wzMUQsRUFBS21ILG9CQUFvQnN1RCxFQUFLckIsR0FBZS9DLEdBQWNvRSxLQUtuRXoxRCxFQUFLbUgsb0JBQW9CbXVELEVBQVFwM0MsR0F4RS9CNjNDLENBQVEvMUQsRUFBTXMxRCxFQUFRcDNDLElBQ2YsR0FpRkosU0FBU3VQLEdBQVN1b0MsR0FDdkI5QixHQUFZaHpELEtBQUs4MEQsR0FDakIsSUFBSyxJQUFJLzVELEVBQUksRUFBR0EsRUFBSSs1RCxFQUFNQyxNQUFNNzVELE9BQVFILElBQ3RDZzRELEdBQVMrQixFQUFNQyxNQUFNaDZELElBQU0rNUQsRUFnQ3hCLFNBQVNKLEdBQWU1MUQsRUFBTXFFLEdBQy9Cc3NELElBQWlCM3dELGFBQWdCME0sYUFLbkM4dUMsR0FBVUYsSUFBSSxLQUNadDdDLEVBQUt5SyxNQUFNbW1ELFlBQWN2c0QsSUFHN0JyRSxFQUFLOHdELElBQWdCenNELEVBWXZCLFNBQVM2eEQsR0FBTXo1RCxFQUFRMEUsRUFBTW02QixHQUMzQixJQUFJN2dCLEVBQUssSUFBSUwsTUFBTWpaLEVBQU0sQ0FBRWtaLFNBQVMsRUFBTStCLFlBQVksRUFBTTlCLFVBQVUsSUFJdEUsR0FIQUcsRUFBRzZnQixPQUFTQSxFQUNabWUsTUFBbUM5K0IsY0FBY0YsR0FFN0NBLEVBQUcwN0MsaUJBQWtCLENBQ3ZCLElBQUlDLEVBQVk5NkIsRUFBTzg2QixXQUFhOTZCLEVBQU8rNkIsWUFDdkNELEdBQWFBLEVBQVV2L0IsZ0JBQ3pCdS9CLEVBQVV2L0Isa0JBV1QsU0FBU28rQixHQUFRcUIsR0FDdEIsSUFBSWYsRUFqRU4sU0FBZ0NlLEdBQzlCLElBQUssSUFBV3o1RCxFQUFQWixFQUFJLEVBQU1BLEVBQUlpNEQsR0FBWTkzRCxPQUFRSCxJQUFLLENBQzlDWSxFQUFJcTNELEdBQVlqNEQsR0FDaEIsSUFBSyxJQUFXQyxFQUFQOHRCLEVBQUksRUFBTUEsRUFBSW50QixFQUFFbzVELE1BQU03NUQsT0FBUTR0QixJQUVyQyxHQURBOXRCLEVBQUlXLEVBQUVvNUQsTUFBTWpzQyxHQUNSOXRCLElBQU1vNkQsRUFDUixPQUFPejVELEVBSWIsT0FBTyxLQXVEVTA1RCxDQUF1QkQsR0FDcENmLEVBQVdocUMsT0FDYmdxQyxFQUFXaHFDLEtBQUswcEMsU0FBVSxHQThGOUIsU0FBU3VCLEdBQVdyMUQsRUFBTTFFLEVBQVEwTCxFQUFPaXVELEdBQ2xDMzVELEdBR0x5NUQsR0FBTXo1RCxFQUFRMEUsRUFBTSxDQUNsQjJnQixFQUFHM1osRUFBTXVzRCxRQUNUM3lDLEVBQUc1WixFQUFNd3NELFFBQ1QwQixZQUFhbHVELEVBQ2JpdUQsVUFBV0EsRUFDWG5CLFFBQVMsU0FBU3h0RCxHQUNoQixPQUFPd3RELEdBQVF4dEQsTUFrSnJCLFNBQVNndkQsR0FBb0JsckMsRUFBTXpKLEVBQUdDLEdBQ3BDLEdBQUl3SixFQUFLMHBDLFFBQ1AsT0FBTyxFQUVULEdBQUkxcEMsRUFBS21yQyxRQUNQLE9BQU8sRUFFVCxJQUFJM0IsRUFBS3IyRCxLQUFLbVosSUFBSTBULEVBQUt6SixFQUFJQSxHQUN2Qmt6QyxFQUFLdDJELEtBQUttWixJQUFJMFQsRUFBS3hKLEVBQUlBLEdBQzNCLE9BQVFnekMsR0E3NEJXLEdBNjRCYUMsR0E3NEJiLEVBczVCckIsU0FBUzJCLEdBQVVwckMsRUFBTTl1QixFQUFRKzJELEdBQy9CLElBQUsvMkQsRUFDSCxPQUVGLElBSUltNkQsRUFKQUMsRUFBYXRyQyxFQUFLdXJDLE1BQU12ckMsRUFBS3VyQyxNQUFNMTZELE9BQVMsR0FDNUMyNkQsRUFBV3hyQyxFQUFLdXJDLE1BQU12ckMsRUFBS3VyQyxNQUFNMTZELE9BQVMsR0FDMUMyNEQsRUFBS2dDLEVBQVNqMUMsRUFBSXlKLEVBQUt6SixFQUN2Qmt6QyxFQUFLK0IsRUFBU2gxQyxFQUFJd0osRUFBS3hKLEVBQ2xCaTFDLEVBQU0sRUFDWEgsSUFDRkQsRUFBTUcsRUFBU2oxQyxFQUFJKzBDLEVBQVcvMEMsRUFDOUJrMUMsRUFBTUQsRUFBU2gxQyxFQUFJODBDLEVBQVc5MEMsR0FFaENtMEMsR0FBTXo1RCxFQUFRLFFBQVMsQ0FDckJ1cEIsTUFBT3VGLEVBQUt2RixNQUNabEUsRUFBRzB4QyxFQUFNa0IsUUFDVDN5QyxFQUFHeXhDLEVBQU1tQixRQUNUSSxHQUFJQSxFQUNKQyxHQUFJQSxFQUNKNEIsSUFBS0EsRUFDTEksSUFBS0EsRUFDTFgsWUFBYTdDLEVBQ2J5RCxNQUFPLFdBQ0wsT0FybUJDLFNBQXdCbjFDLEVBQUdDLEdBQ2hDLElBQUkvaEIsRUFBT1IsU0FBUzAzRCxpQkFBaUJwMUMsRUFBR0MsR0FDcEMwWSxFQUFPejZCLEVBSVgsS0FBT3k2QixHQUFRQSxFQUFLMWdCLGFBQWVsYyxPQUFPNjdDLFVBQVUsQ0FFbEQsSUFBSXlkLEVBQVUxOEIsRUFHZCxHQUZBQSxFQUFPQSxFQUFLMWdCLFdBQVdtOUMsaUJBQWlCcDFDLEVBQUdDLEdBRXZDbzFDLElBQVkxOEIsRUFDZCxNQUVFQSxJQUNGejZCLEVBQU95NkIsR0FHWCxPQUFPejZCLEVBbWxCSW8zRCxDQUFlNUQsRUFBTWtCLFFBQVNsQixFQUFNbUIsWUEwRWpELFNBQVMwQyxHQUFhOXJDLEVBQU05akIsRUFBRzJ1RCxHQUM3QixJQUFJckIsRUFBS3IyRCxLQUFLbVosSUFBSXBRLEVBQUVpdEQsUUFBVW5wQyxFQUFLekosR0FDL0JrekMsRUFBS3QyRCxLQUFLbVosSUFBSXBRLEVBQUVrdEQsUUFBVXBwQyxFQUFLeEosR0FFL0JobUIsRUFBSW80RCxHQUFxQmlDLEdBQWEzdUQsSUFDckMxTCxHQUFNaTJELEdBQXlDLEVBQUlqK0MsWUFBY2hZLEVBQUU4ckIsYUFBYSxjQUlqRnkyQixNQUFNeVcsSUFBT3pXLE1BQU0wVyxJQUFRRCxHQWpnQ2QsSUFpZ0NvQ0MsR0FqZ0NwQyxJQXlPbkIsU0FBMEJ2NkMsR0FDeEIsR0FBZ0IsVUFBWkEsRUFBR3RaLEtBQWtCLENBRXZCLEdBQWtCLElBQWRzWixFQUFHNmdCLE9BQ0wsT0FBTyxFQUtULElBQUl2L0IsRUFBSW80RCxHQUFvQjE1QyxHQUc1QixJQUFLMWUsRUFBRW1FLFVBQWtDLEVBQUlBLFdBQWEwRixLQUFLcVQsYUFDN0QsT0FBTyxFQUVULElBQUlxK0MsRUFBNEIsRUFBSXR2Qyx3QkFFaENsRyxFQUFJckgsRUFBR21MLE1BQU83RCxFQUFJdEgsRUFBR29MLE1BRXpCLFFBQVUvRCxHQUFLdzFDLEVBQUlqM0MsTUFBUXlCLEdBQUt3MUMsRUFBSS8xQyxPQUFXUSxHQUFLdTFDLEVBQUloM0MsS0FBT3lCLEdBQUt1MUMsRUFBSTkxQyxRQUUxRSxPQUFPLEVBbXdCcUUrMUMsQ0FBaUI5dkQsTUFFdEY4akIsRUFBSzBwQyxTQUNSaUIsR0FBTW42RCxFQUFHLE1BQU8sQ0FDZCtsQixFQUFHcmEsRUFBRWl0RCxRQUNMM3lDLEVBQUd0YSxFQUFFa3RELFFBQ0wwQixZQUFhNXVELEVBQ2IydUQsVUFBV0E7Ozs7Ozs7OztFQXhXbkIzb0MsR0FBUyxDQUNQbHRCLEtBQU0sU0FDTmkxRCxLQUFNLENBQUMsWUFBYSxhQUFjLFlBQ2xDTCxLQUFNLENBQ0pqM0QsTUFBTyxDQUFDLFlBQWEsY0FDckJDLElBQUssQ0FBQyxVQUFXLGFBRW5CODNELE1BQU8sQ0FBQyxPQUFRLE1BRWhCMXFDLEtBQU0sQ0FDSnFvQyxPQUFRLEtBQ1JDLEtBQU0sTUFPUnVCLE1BQU8sV0FDTHRCLEdBQWdCcjRELEtBQUs4dkIsT0FRdkJpc0MsVUFBVyxTQUFTL3ZELEdBQ2xCLElBQUs0ckQsR0FBbUI1ckQsR0FDdEIsT0FFRixJQUFJMUwsRUFBSW80RCxHQUFvQjFzRCxHQUN4QnVtQixFQUFPdnlCLEtBYVhpNEQsR0FBY2o0RCxLQUFLOHZCLE1BWk4sU0FBZ0I5akIsR0FDdEI0ckQsR0FBbUI1ckQsS0FDdEIrdUQsR0FBVyxLQUFNejZELEVBQUcwTCxHQUNwQnFzRCxHQUFnQjlsQyxFQUFLekMsVUFHZCxTQUFjOWpCLEdBQ25CNHJELEdBQW1CNXJELElBQ3JCK3VELEdBQVcsS0FBTXo2RCxFQUFHMEwsR0FFdEJxc0QsR0FBZ0I5bEMsRUFBS3pDLFNBR3ZCaXJDLEdBQVcsT0FBUXo2RCxFQUFHMEwsSUFPeEJnd0QsV0FBWSxTQUFTaHdELEdBQ25CK3VELEdBQVcsT0FBUXJDLEdBQW9CMXNELEdBQUlBLEVBQUVrZSxlQUFlLEdBQUlsZSxJQU9sRWl3RCxTQUFVLFNBQVNqd0QsR0FDakIrdUQsR0FBVyxLQUFNckMsR0FBb0Ixc0QsR0FBSUEsRUFBRWtlLGVBQWUsR0FBSWxlLE1BMEJsRWdtQixHQUFTLENBQ1BsdEIsS0FBTSxRQUNOcXdELFlBQWEsT0FDYjRFLEtBQU0sQ0FBQyxZQUFhLGFBQWMsWUFBYSxZQUMvQ0wsS0FBTSxDQUNKajNELE1BQU8sQ0FBQyxZQUFhLGNBQ3JCQyxJQUFLLENBQUMsVUFBVyxhQUVuQjgzRCxNQUFPLENBQUMsU0FFUjFxQyxLQUFNLENBQ0p6SixFQUFHLEVBQ0hDLEVBQUcsRUFDSGlFLE1BQU8sUUFDUDB3QyxTQUFTLEVBQ1RJLE1BQU8sR0FFUGEsUUFBUyxTQUFTQyxHQUNabjhELEtBQUtxN0QsTUFBTTE2RCxPQXZ3QkYsR0F3d0JYWCxLQUFLcTdELE1BQU1oTSxRQUVicnZELEtBQUtxN0QsTUFBTTUxRCxLQUFLMDJELElBRWxCaEUsT0FBUSxLQUNSQyxLQUFNLEtBQ05vQixTQUFTLEdBT1hHLE1BQU8sV0FDTDM1RCxLQUFLOHZCLEtBQUt2RixNQUFRLFFBQ2xCdnFCLEtBQUs4dkIsS0FBS21yQyxTQUFVLEVBQ3BCajdELEtBQUs4dkIsS0FBS3VyQyxNQUFRLEdBQ2xCcjdELEtBQUs4dkIsS0FBS3pKLEVBQUksRUFDZHJtQixLQUFLOHZCLEtBQUt4SixFQUFJLEVBQ2R0bUIsS0FBSzh2QixLQUFLMHBDLFNBQVUsRUFDcEJuQixHQUFnQnI0RCxLQUFLOHZCLE9BUXZCaXNDLFVBQVcsU0FBUy92RCxHQUNsQixJQUFLNHJELEdBQW1CNXJELEdBQ3RCLE9BRUYsSUFBSTFMLEVBQUlvNEQsR0FBb0Ixc0QsR0FDeEJ1bUIsRUFBT3Z5QixLQUNQbTRELEVBQVMsU0FBZ0Juc0QsR0FDM0IsSUFBSXFhLEVBQUlyYSxFQUFFaXRELFFBQVMzeUMsRUFBSXRhLEVBQUVrdEQsUUFDckI4QixHQUFvQnpvQyxFQUFLekMsS0FBTXpKLEVBQUdDLEtBRXBDaU0sRUFBS3pDLEtBQUt2RixNQUFRZ0ksRUFBS3pDLEtBQUttckMsUUFBc0IsWUFBWGp2RCxFQUFFdEcsS0FBcUIsTUFBUSxRQUFXLFFBQ3pELFVBQXBCNnNCLEVBQUt6QyxLQUFLdkYsT0FFWml2QyxHQUFRLE9BRVZqbkMsRUFBS3pDLEtBQUtvc0MsUUFBUSxDQUFDNzFDLEVBQUdBLEVBQUdDLEVBQUdBLElBQ3ZCc3hDLEdBQW1CNXJELEtBRXRCdW1CLEVBQUt6QyxLQUFLdkYsTUFBUSxNQUNsQjh0QyxHQUFnQjlsQyxFQUFLekMsT0FFbkJ4dkIsR0FDRjQ2RCxHQUFVM29DLEVBQUt6QyxLQUFNeHZCLEVBQUcwTCxHQUUxQnVtQixFQUFLekMsS0FBS21yQyxTQUFVLElBWXhCaEQsR0FBY2o0RCxLQUFLOHZCLEtBQU1xb0MsR0FUZCxTQUFjbnNELEdBQ25CdW1CLEVBQUt6QyxLQUFLbXJDLFNBQ1o5QyxFQUFPbnNELEdBSVRxc0QsR0FBZ0I5bEMsRUFBS3pDLFNBSXZCOXZCLEtBQUs4dkIsS0FBS3pKLEVBQUlyYSxFQUFFaXRELFFBQ2hCajVELEtBQUs4dkIsS0FBS3hKLEVBQUl0YSxFQUFFa3RELFNBT2xCOEMsV0FBWSxTQUFTaHdELEdBQ25CLElBQUlvd0QsRUFBS3B3RCxFQUFFa2UsZUFBZSxHQUMxQmxxQixLQUFLOHZCLEtBQUt6SixFQUFJKzFDLEVBQUduRCxRQUNqQmo1RCxLQUFLOHZCLEtBQUt4SixFQUFJODFDLEVBQUdsRCxTQU9uQm1ELFVBQVcsU0FBU3J3RCxHQUNsQixJQUFJMUwsRUFBSW80RCxHQUFvQjFzRCxHQUN4Qm93RCxFQUFLcHdELEVBQUVrZSxlQUFlLEdBQ3RCN0QsRUFBSSsxQyxFQUFHbkQsUUFBUzN5QyxFQUFJODFDLEVBQUdsRCxRQUN2QjhCLEdBQW9CaDdELEtBQUs4dkIsS0FBTXpKLEVBQUdDLEtBQ1osVUFBcEJ0bUIsS0FBSzh2QixLQUFLdkYsT0FFWml2QyxHQUFRLE9BRVZ4NUQsS0FBSzh2QixLQUFLb3NDLFFBQVEsQ0FBQzcxQyxFQUFHQSxFQUFHQyxFQUFHQSxJQUM1QjQwQyxHQUFVbDdELEtBQUs4dkIsS0FBTXh2QixFQUFHODdELEdBQ3hCcDhELEtBQUs4dkIsS0FBS3ZGLE1BQVEsUUFDbEJ2cUIsS0FBSzh2QixLQUFLbXJDLFNBQVUsSUFReEJnQixTQUFVLFNBQVNqd0QsR0FDakIsSUFBSTFMLEVBQUlvNEQsR0FBb0Ixc0QsR0FDeEJvd0QsRUFBS3B3RCxFQUFFa2UsZUFBZSxHQUV0QmxxQixLQUFLOHZCLEtBQUttckMsVUFFWmo3RCxLQUFLOHZCLEtBQUt2RixNQUFRLE1BQ2xCdnFCLEtBQUs4dkIsS0FBS29zQyxRQUFRLENBQUM3MUMsRUFBRysxQyxFQUFHbkQsUUFBUzN5QyxFQUFHODFDLEVBQUdsRCxVQUN4Q2dDLEdBQVVsN0QsS0FBSzh2QixLQUFNeHZCLEVBQUc4N0QsT0F5RDlCcHFDLEdBQVMsQ0FDUGx0QixLQUFNLE1BQ05pMUQsS0FBTSxDQUFDLFlBQWEsUUFBUyxhQUFjLFlBQzNDTCxLQUFNLENBQ0pqM0QsTUFBTyxDQUFDLFlBQWEsY0FDckJDLElBQUssQ0FBQyxRQUFTLGFBRWpCODNELE1BQU8sQ0FBQyxPQUNSMXFDLEtBQU0sQ0FDSnpKLEVBQUdpMkMsSUFDSGgyQyxFQUFHZzJDLElBQ0g5QyxTQUFTLEdBTVhHLE1BQU8sV0FDTDM1RCxLQUFLOHZCLEtBQUt6SixFQUFJaTJDLElBQ2R0OEQsS0FBSzh2QixLQUFLeEosRUFBSWcyQyxJQUNkdDhELEtBQUs4dkIsS0FBSzBwQyxTQUFVLEdBT3RCdUMsVUFBVyxTQUFTL3ZELEdBQ2Q0ckQsR0FBbUI1ckQsS0FDckJoTSxLQUFLOHZCLEtBQUt6SixFQUFJcmEsRUFBRWl0RCxRQUNoQmo1RCxLQUFLOHZCLEtBQUt4SixFQUFJdGEsRUFBRWt0RCxVQVFwQnFELE1BQU8sU0FBU3Z3RCxHQUNWNHJELEdBQW1CNXJELElBQ3JCNHZELEdBQWE1N0QsS0FBSzh2QixLQUFNOWpCLElBUTVCZ3dELFdBQVksU0FBU2h3RCxHQUNuQixNQUFNK3JELEVBQVEvckQsRUFBRWtlLGVBQWUsR0FDL0JscUIsS0FBSzh2QixLQUFLekosRUFBSTB4QyxFQUFNa0IsUUFDcEJqNUQsS0FBSzh2QixLQUFLeEosRUFBSXl4QyxFQUFNbUIsU0FPdEIrQyxTQUFVLFNBQVNqd0QsR0FDakI0dkQsR0FBYTU3RCxLQUFLOHZCLEtBQU05akIsRUFBRWtlLGVBQWUsR0FBSWxlLE1Dbi9CMUMsTUFBTXd3RCxHQUF3QnJoQixHQUFlK0UsR0FNbEQsY0FBb0NBLEVBVWxDMThDLHdCQUF3QmUsRUFBTXNILEVBQVc0VyxHQUNsQ20zQyxHQUFZcjFELEVBQU1zSCxFQUFXNFcsSUFDaENyWCxNQUFNNDZDLHdCQUF3QnpoRCxFQUFNc0gsRUFBVzRXLEdBYW5EamYsNkJBQTZCZSxFQUFNc0gsRUFBVzRXLEdBQ3ZDNDNDLEdBQWU5MUQsRUFBTXNILEVBQVc0VyxJQUNuQ3JYLE1BQU1xeEQsNkJBQTZCbDRELEVBQU1zSCxFQUFXNFcsTUNqRHREaTZDLEdBQVcsOEJBR1hDLEdBQVMsd0NBR1RDLEdBQVksc0JBRVpDLEdBQWM1c0QsUUFBUTdOLE9BQWlCLFVBQUtBLE9BQWlCLFNBQVMsT0FLdEUwNkQsR0FBZ0I7Ozs7Ozs7Ozs7O0dBR3RCLElBQUk5L0MsR0FBVyxLQUVYKy9DLEdBQWMsR0FFbEIsU0FBU0MsS0FDUEQsR0FBY2g1RCxTQUFTc29CLGdCQUFnQmhuQixhQUFhLE9BTXRELFNBQVM0M0QsR0FBT3Z5RCxHQUNkLElBQUtBLEVBQVN3eUQsZ0JBQWlCLEdBRTFCM3pELGFBQWEsTUFBT3d6RCxLQUkzQixTQUFTSSxLQUNQSCxLQUNBRCxHQUFjaDVELFNBQVNzb0IsZ0JBQWdCaG5CLGFBQWEsT0FDcEQsSUFBSyxJQUFJN0UsRUFBSSxFQUFHQSxFQUFJczhELEdBQWNuOEQsT0FBUUgsSUFDeEN5OEQsR0FBT0gsR0FBY3Q4RCxJQW9DbEIsTUFBTTQ4RCxHQUFXamlCLEdBQWVULElBRWhDbWlCLElBQ0U3L0MsS0FDSGdnRCxLQUNBaGdELEdBQVcsSUFBSWtTLGlCQUFpQml1QyxJQUNoQ25nRCxHQUFTdVMsUUFBUXhyQixTQUFTc29CLGdCQUFpQixDQUFDMW5CLFlBQVksRUFBTTA0RCxnQkFBaUIsQ0FBQyxVQVNwRixNQUFNQyxFQUFjL2EsR0FBa0I3SCxHQU90QyxNQUFNNmlCLFVBQVlELEVBU2hCOTVELHlCQUF5QmdULEVBQVMwakMsR0FRaEMsT0FMQTFqQyxFQUFVOG1ELEVBQVl0SyxrQkFBa0JweUQsS0FBS1osS0FBTXdXLEVBQVMwakMsSUFDdkQyaUIsSUFBZUQsR0FBVTVzQyxLQUFLeFosS0FDakNBLEVBQVV4VyxLQUFLdzlELHFCQUFxQmhuRCxHQUNwQ3hXLEtBQUt5OUQsZUFBZ0IsR0FFaEJqbkQsRUFVVGhULDRCQUE0QjZGLEdBQzFCLElBQUlxMEQsRUFBZXIwRCxFQUduQixPQUZBcTBELEVBQWVBLEVBQWF6dUIsUUFBUXl0QixHQTVIZCxxQkE2SHRCZ0IsRUFBZUEsRUFBYXp1QixRQUFRMHRCLEdBMUhoQix3QkEySGJlLEVBR1RsNkQsY0FDRTRILFFBRUFwTCxLQUFLazlELGlCQUFrQixFQVN6QjE1RCxRQUNFNEgsTUFBTXcyQyxRQUNONWhELEtBQUtrOUQsZ0JBQTZDLEtBQU85d0MsYUFBYSxPQVN4RTVvQixvQkFDTTg1RCxFQUFZcDlELFVBQVVxWSxtQkFDeEJuTixNQUFNbU4sb0JBRUp2WSxLQUFLQyxZQUFZdzlELGdCQWxIckJ6Z0QsSUFBWUEsR0FBUzJnRCxjQUFjaDlELFFBQ3JDdzhELEtBbUhJTCxHQUFjcjNELEtBQUt6RixNQUNuQmk5RCxHQUFPajlELE9BVVh3RCx1QkFJRSxHQUhJODVELEVBQVlwOUQsVUFBVWloQixzQkFDeEIvVixNQUFNK1YsdUJBRUpuaEIsS0FBS0MsWUFBWXc5RCxjQUFlLENBQ2xDLE1BQU16bUQsRUFBTThsRCxHQUFjaDNELFFBQVE5RixNQUM5QmdYLEdBQU8sR0FDVDhsRCxHQUFjN3VDLE9BQU9qWCxFQUFLLEtBUWxDLE9BRkF1bUQsRUFBSUUsZUFBZ0IsRUFFYkY7Ozs7Ozs7OztFQzlMVCxTQUFTeHNELEtBQ1BoTixTQUFTa2IsS0FBSzNaLGdCQUFnQjs7Ozs7Ozs7OztBQ0FoQyxTQUFTczRELEdBQVV6NUQsRUFBT3M0QixFQUFTd3ZCLEdBQ2pDLE1BQU8sQ0FDTDluRCxNQUFPQSxFQUNQczRCLFFBQVNBLEVBQ1R3dkIsV0FBWUEsR0REWSxnQkFBeEJsb0QsU0FBU293QixZQUF3RCxhQUF4QnB3QixTQUFTb3dCLFdBQ3BEcGpCLEtBRUEzTyxPQUFPcUosaUJBQWlCLG1CQUFvQnNGLElDZ0o5QyxTQUFTOHNELEdBQVk1dEMsRUFBUzZ0QyxFQUFjQyxFQUN0Qnh0RCxFQUFLeXRELEVBQVVDLEdBQ25DLElBRUlod0MsRUFGQWl3QyxFQUFjLEVBQ2RDLEVBQWMsRUFHZEMsRUFBWW43RCxLQUFLbTZCLElBQUkyZ0MsRUFBYUQsRUFBY0csRUFBU0QsR0FZN0QsR0FYb0IsR0FBaEJGLEdBQWlDLEdBQVpFLElBQ3ZCRSxFQTBFSixTQUFzQmp1QyxFQUFTMWYsRUFBSzh0RCxHQUNsQyxJQUFLLElBQUk3OUQsRUFBSSxFQUFHQSxFQUFJNjlELEVBQWM3OUQsSUFDaEMsSUFBSzg5RCxHQUFPcnVDLEVBQVF6dkIsR0FBSStQLEVBQUkvUCxJQUMxQixPQUFPQSxFQUNYLE9BQU82OUQsRUE5RVNFLENBQWF0dUMsRUFBUzFmLEVBQUs2dEQsSUFFdkNMLEdBQWM5dEMsRUFBUXR2QixRQUFVczlELEdBQVUxdEQsRUFBSTVQLFNBQ2hEdzlELEVBOEVKLFNBQXNCbHVDLEVBQVMxZixFQUFLOHRELEdBQ2xDLElBQUlHLEVBQVN2dUMsRUFBUXR2QixPQUNqQjg5RCxFQUFTbHVELEVBQUk1UCxPQUNiaUUsRUFBUSxFQUNaLEtBQU9BLEVBQVF5NUQsR0FBZ0JDLEdBQU9ydUMsSUFBVXV1QyxHQUFTanVELElBQU1rdUQsS0FDN0Q3NUQsSUFFRixPQUFPQSxFQXJGUzg1RCxDQUFhenVDLEVBQVMxZixFQUFLNnRELEVBQVlGLElBR3ZERixHQUFZRSxFQUVaRCxHQUFVRSxHQURWSixHQUFjSSxJQUZkTCxHQUFnQkksSUFLaUIsR0FBS0QsRUFBU0QsR0FBWSxFQUN6RCxNQUFPLEdBRVQsR0FBSUYsR0FBZ0JDLEVBQVksQ0FFOUIsSUFEQTl2QyxFQUFTMnZDLEdBQVVFLEVBQWMsR0FBSSxHQUM5QkUsRUFBV0MsR0FDaEJod0MsRUFBT3dPLFFBQVFoM0IsS0FBSzhLLEVBQUl5dEQsTUFFMUIsTUFBTyxDQUFFL3ZDLEdBQ0osR0FBSSt2QyxHQUFZQyxFQUNyQixNQUFPLENBQUVMLEdBQVVFLEVBQWMsR0FBSUMsRUFBYUQsSUFFcEQsSUFBSWEsRUF6SE4sU0FBMkNDLEdBQ3pDLElBQUlwK0QsRUFBSW8rRCxFQUFVaitELE9BQVMsRUFDdkI0dEIsRUFBSXF3QyxFQUFVLEdBQUdqK0QsT0FBUyxFQUMxQnN2QixFQUFVMnVDLEVBQVVwK0QsR0FBRyt0QixHQUN2QnN3QyxFQUFRLEdBQ1osS0FBT3IrRCxFQUFJLEdBQUsrdEIsRUFBSSxHQUFHLENBQ3JCLEdBQVMsR0FBTC90QixFQUFRLENBQ1ZxK0QsRUFBTXA1RCxLQXhESyxHQXlEWDhvQixJQUNBLFNBRUYsR0FBUyxHQUFMQSxFQUFRLENBQ1Zzd0MsRUFBTXA1RCxLQTVEUSxHQTZEZGpGLElBQ0EsU0FFRixJQUlJNDhCLEVBSkEwaEMsRUFBWUYsRUFBVXArRCxFQUFJLEdBQUcrdEIsRUFBSSxHQUNqQ3d3QyxFQUFPSCxFQUFVcCtELEVBQUksR0FBRyt0QixHQUN4Qnl3QyxFQUFRSixFQUFVcCtELEdBQUcrdEIsRUFBSSxHQUkzQjZPLEVBREUyaEMsRUFBT0MsRUFDSEQsRUFBT0QsRUFBWUMsRUFBT0QsRUFFMUJFLEVBQVFGLEVBQVlFLEVBQVFGLEVBRWhDMWhDLEdBQU8waEMsR0FDTEEsR0FBYTd1QyxFQUNmNHVDLEVBQU1wNUQsS0EvRUssSUFpRlhvNUQsRUFBTXA1RCxLQWhGTSxHQWlGWndxQixFQUFVNnVDLEdBRVp0K0QsSUFDQSt0QixLQUNTNk8sR0FBTzJoQyxHQUNoQkYsRUFBTXA1RCxLQXBGUSxHQXFGZGpGLElBQ0F5dkIsRUFBVTh1QyxJQUVWRixFQUFNcDVELEtBekZLLEdBMEZYOG9CLElBQ0EwQixFQUFVK3VDLEdBS2QsT0FEQUgsRUFBTUksVUFDQ0osRUEwRUdLLENBNUpaLFNBQTJCanZDLEVBQVM2dEMsRUFBY0MsRUFDdEJ4dEQsRUFBS3l0RCxFQUFVQyxHQUV6QyxJQUFJa0IsRUFBV2xCLEVBQVNELEVBQVcsRUFDL0JvQixFQUFjckIsRUFBYUQsRUFBZSxFQUMxQ2MsRUFBWSxJQUFJai9ELE1BQU13L0QsR0FHMUIsSUFBSyxJQUFJMytELEVBQUksRUFBR0EsRUFBSTIrRCxFQUFVMytELElBQzVCbytELEVBQVVwK0QsR0FBSyxJQUFJYixNQUFNeS9ELEdBQ3pCUixFQUFVcCtELEdBQUcsR0FBS0EsRUFJcEIsSUFBSyxJQUFJK3RCLEVBQUksRUFBR0EsRUFBSTZ3QyxFQUFhN3dDLElBQy9CcXdDLEVBQVUsR0FBR3J3QyxHQUFLQSxFQUVwQixJQUFLLElBQUkvdEIsRUFBSSxFQUFHQSxFQUFJMitELEVBQVUzK0QsSUFDNUIsSUFBSyxJQUFJK3RCLEVBQUksRUFBR0EsRUFBSTZ3QyxFQUFhN3dDLElBQy9CLEdBQUkrdkMsR0FBT3J1QyxFQUFRNnRDLEVBQWV2dkMsRUFBSSxHQUFJaGUsRUFBSXl0RCxFQUFXeDlELEVBQUksSUFDM0RvK0QsRUFBVXArRCxHQUFHK3RCLEdBQUtxd0MsRUFBVXArRCxFQUFJLEdBQUcrdEIsRUFBSSxPQUNwQyxDQUNILElBQUl5d0MsRUFBUUosRUFBVXArRCxFQUFJLEdBQUcrdEIsR0FBSyxFQUM5Qnd3QyxFQUFPSCxFQUFVcCtELEdBQUcrdEIsRUFBSSxHQUFLLEVBQ2pDcXdDLEVBQVVwK0QsR0FBRyt0QixHQUFLeXdDLEVBQVFELEVBQU9DLEVBQVFELEVBSy9DLE9BQU9ILEVBZ0lIUyxDQUFrQnB2QyxFQUFTNnRDLEVBQWNDLEVBQ2xCeHRELEVBQUt5dEQsRUFBVUMsSUFFMUNod0MsT0FBUzlyQixFQUNULElBQUkycEQsRUFBVSxHQUNWM25ELEVBQVEyNUQsRUFDUndCLEVBQVd0QixFQUNmLElBQUssSUFBSXg5RCxFQUFJLEVBQUdBLEVBQUltK0QsRUFBSWgrRCxPQUFRSCxJQUM5QixPQUFPbStELEVBQUluK0QsSUFDVCxLQXRMYSxFQXVMUHl0QixJQUNGNjlCLEVBQVFybUQsS0FBS3dvQixHQUNiQSxPQUFTOXJCLEdBR1hnQyxJQUNBbTdELElBQ0EsTUFDRixLQTlMYyxFQStMUHJ4QyxJQUNIQSxFQUFTMnZDLEdBQVV6NUQsRUFBTyxHQUFJLElBRWhDOHBCLEVBQU9nK0IsYUFDUDluRCxJQUVBOHBCLEVBQU93TyxRQUFRaDNCLEtBQUs4SyxFQUFJK3VELElBQ3hCQSxJQUNBLE1BQ0YsS0F2TVcsRUF3TUpyeEMsSUFDSEEsRUFBUzJ2QyxHQUFVejVELEVBQU8sR0FBSSxJQUVoQzhwQixFQUFPZytCLGFBQ1A5bkQsSUFDQSxNQUNGLEtBN01jLEVBOE1QOHBCLElBQ0hBLEVBQVMydkMsR0FBVXo1RCxFQUFPLEdBQUksSUFFaEM4cEIsRUFBT3dPLFFBQVFoM0IsS0FBSzhLLEVBQUkrdUQsSUFDeEJBLElBUU4sT0FISXJ4QyxHQUNGNjlCLEVBQVFybUQsS0FBS3dvQixHQUVSNjlCLEVBbURGLFNBQVN5VCxHQUFpQnR2QyxFQUFTaWdCLEdBQ3hDLE9BQU8ydEIsR0FBWTV0QyxFQUFTLEVBQUdBLEVBQVF0dkIsT0FBUXV2QyxFQUFVLEVBQ2pDQSxFQUFTdnZDLFFBR25DLFNBQVMyOUQsR0FBT2tCLEVBQWNDLEdBQzVCLE9BQU9ELElBQWlCQzs7Ozs7Ozs7O0VDcFIxQixTQUFTQyxHQUFPbjdELEdBQ2QsTUFBMkIsU0FBbkJBLEVBQUsrVCxVQTZDZixJQUFXcW5ELEdBQXlCLE1BaUJsQ244RCx5QkFBeUJlLEdBQ3ZCLE1BQU1xN0QsRUFBVTVoQixHQUFLejVDLEdBQ3JCLE9BQUltN0QsR0FBT243RCxJQUNUQSxJQUNPcTdELEVBQVE1K0MsY0FBYyxDQUFDQyxTQUFTLEtBRWhDdGhCLE1BQU13UCxLQUFLeXdELEVBQVEvbUIsWUFBWTNnQyxJQUFLM1QsR0FDckNtN0QsR0FBT243RCxHQUVGeTVDLEdBRFB6NUMsS0FDa0J5YyxjQUFjLENBQUNDLFNBQVMsSUFFbkMsQ0FBQzFjLElBRVR1UyxPQUFPLENBQUN1dUMsRUFBRzlsRCxJQUFNOGxELEVBQUV3YSxPQUFPdGdFLEdBQUksSUFVckNpRSxZQUFZeEMsRUFBUTB5QixHQUtsQjF6QixLQUFLOC9ELHVCQUF5QixLQUs5QjkvRCxLQUFLKy9ELHdCQUEwQixLQUMvQi8vRCxLQUFLZ2dFLFlBQWEsRUFLbEJoZ0UsS0FBS2lnRSxRQUFVai9ELEVBQ2ZoQixLQUFLMHpCLFNBQVdBLEVBQ2hCMXpCLEtBQUtrZ0UsZ0JBQWtCLEdBQ3ZCbGdFLEtBQUsrd0IsVUFBWSxLQUNqQi93QixLQUFLbWdFLFlBQWEsRUFLbEJuZ0UsS0FBS29nRSxlQUFpQixLQUNwQnBnRSxLQUFLcWdFLGFBRVByZ0UsS0FBS3NnRSxVQUNMdGdFLEtBQUtxZ0UsWUFVUDc4RCxVQUNNazhELEdBQU8xL0QsS0FBS2lnRSxTQUNkamdFLEtBQUt1Z0UsYUFBYSxDQUFDdmdFLEtBQUtpZ0UsVUFDZmppQixHQUFLaCtDLEtBQUtpZ0UsU0FBU2x4QyxXQUM1Qi91QixLQUFLdWdFLGFBQ2dDdmlCLEdBQUtoK0MsS0FBS2lnRSxTQUFpQixVQUM1RDc5RCxPQUFPNjdDLFNBQ1RqK0MsS0FBSzgvRCx1QkFDSDE5RCxPQUFPNjdDLFNBQVN1aUIsZ0JBQWdCeGdFLEtBQUtpZ0UsUUFBVXh3QyxJQUM3Q3p2QixLQUFLeWdFLGtCQUFrQmh4QyxNQUczQnp2QixLQUFLKy9ELHdCQUNILElBQUk3d0MsaUJBQWtCTyxJQUNwQnp2QixLQUFLeWdFLGtCQUFrQmh4QyxLQUUzQnp2QixLQUFLKy9ELHdCQUF3Qnh3QyxRQUFRdnZCLEtBQUtpZ0UsUUFBUyxDQUFDendDLFdBQVcsTUFHbkV4dkIsS0FBS2dnRSxZQUFhLEVBWXBCeDhELGFBQ01rOEQsR0FBTzEvRCxLQUFLaWdFLFNBQ2RqZ0UsS0FBSzBnRSxlQUFlLENBQUMxZ0UsS0FBS2lnRSxVQUNqQmppQixHQUFLaCtDLEtBQUtpZ0UsU0FBU2x4QyxXQUM1Qi91QixLQUFLMGdFLGVBQ2dDMWlCLEdBQUtoK0MsS0FBS2lnRSxTQUFpQixVQUM1RDc5RCxPQUFPNjdDLFVBQVlqK0MsS0FBSzgvRCx3QkFDMUIxOUQsT0FBTzY3QyxTQUFTMGlCLGtCQUFrQjNnRSxLQUFLOC9ELHdCQUN2QzkvRCxLQUFLOC9ELHVCQUF5QixNQUNyQjkvRCxLQUFLKy9ELDBCQUNkLy9ELEtBQUsrL0Qsd0JBQXdCbnhDLGFBQzdCNXVCLEtBQUsrL0Qsd0JBQTBCLE9BR25DLy9ELEtBQUtnZ0UsWUFBYSxFQU9wQng4RCxZQUNPeEQsS0FBS21nRSxhQUNSbmdFLEtBQUttZ0UsWUFBYSxFQUNsQnBnQixHQUFVRixJQUFJLElBQU03L0MsS0FBS2kxRCxVQVM3Qnp4RCxrQkFBa0Jpc0IsR0FDaEJ6dkIsS0FBSzRnRSxzQkFBc0JueEMsR0FDM0J6dkIsS0FBS2kxRCxRQVFQenhELHNCQUFzQmlzQixHQUNwQixHQUFJQSxFQUNGLElBQUssSUFBSWp2QixFQUFFLEVBQUdBLEVBQUlpdkIsRUFBVTl1QixPQUFRSCxJQUFLLENBQ3ZDLElBQUltdkIsRUFBV0YsRUFBVWp2QixHQUNyQm12QixFQUFTSSxZQUNYL3ZCLEtBQUt1Z0UsYUFBYTV3QyxFQUFTSSxZQUV6QkosRUFBU0UsY0FDWDd2QixLQUFLMGdFLGVBQWUvd0MsRUFBU0UsZUFjckNyc0IsUUFDRSxJQUFLeEQsS0FBS2dnRSxXQUNSLE9BQU8sRUFFTDU5RCxPQUFPNjdDLFVBQ1RBLFNBQVNnWCxRQUVQajFELEtBQUsrL0Qsd0JBQ1AvL0QsS0FBSzRnRSxzQkFBc0I1Z0UsS0FBSysvRCx3QkFBd0JwQyxlQUMvQzM5RCxLQUFLOC9ELHdCQUNkOS9ELEtBQUs0Z0Usc0JBQXNCNWdFLEtBQUs4L0QsdUJBQXVCbkMsZUFFekQzOUQsS0FBS21nRSxZQUFhLEVBQ2xCLElBQUlyd0MsRUFBTyxDQUNUOXVCLE9BQVFoQixLQUFLaWdFLFFBQ2Jsd0MsV0FBWSxHQUNaRixhQUFjLElBRVpneEMsRUFBVzdnRSxLQUFLQyxZQUFZNmdFLGtCQUFrQjlnRSxLQUFLaWdFLFNBQ25EblUsRUFBVXlULEdBQWlCc0IsRUFDN0I3Z0UsS0FBS2tnRSxpQkFFUCxJQUFLLElBQVMzL0QsRUFBTEMsRUFBRSxFQUFPQSxFQUFFc3JELEVBQVFuckQsU0FBWUosRUFBRXVyRCxFQUFRdHJELElBQUtBLElBQ3JELElBQUssSUFBU0MsRUFBTDh0QixFQUFFLEVBQU9BLEVBQUlodUIsRUFBRWs4QixRQUFROTdCLFNBQVlGLEVBQUVGLEVBQUVrOEIsUUFBUWxPLElBQUtBLElBQzNEdUIsRUFBS0QsYUFBYXBxQixLQUFLaEYsR0FJM0IsSUFBSyxJQUFTRixFQUFMQyxFQUFFLEVBQU9BLEVBQUVzckQsRUFBUW5yRCxTQUFZSixFQUFFdXJELEVBQVF0ckQsSUFBS0EsSUFDckQsSUFBSyxJQUFJK3RCLEVBQUVodUIsRUFBRTRELE1BQU9vcUIsRUFBSWh1QixFQUFFNEQsTUFBUTVELEVBQUUwckQsV0FBWTE5QixJQUM5Q3VCLEVBQUtDLFdBQVd0cUIsS0FBS283RCxFQUFTdHlDLElBSWxDdnVCLEtBQUtrZ0UsZ0JBQWtCVyxFQUN2QixJQUFJN0wsR0FBVyxFQUtmLE9BSklsbEMsRUFBS0MsV0FBV3B2QixRQUFVbXZCLEVBQUtELGFBQWFsdkIsVUFDOUNxMEQsR0FBVyxFQUNYaDFELEtBQUswekIsU0FBUzl5QixLQUFLWixLQUFLaWdFLFFBQVNud0MsSUFFNUJrbEMsRUFRVHh4RCxhQUFha2lELEdBQ1gsSUFBSyxJQUFJbGxELEVBQUUsRUFBR0EsRUFBSWtsRCxFQUFTL2tELE9BQVFILElBQUssQ0FDdEMsSUFBSUMsRUFBSWlsRCxFQUFTbGxELEdBQ2JrL0QsR0FBT2ovRCxJQUNUQSxFQUFFZ0wsaUJBQWlCLGFBQWN6TCxLQUFLb2dFLGlCQVU1QzU4RCxlQUFla2lELEdBQ2IsSUFBSyxJQUFJbGxELEVBQUUsRUFBR0EsRUFBSWtsRCxFQUFTL2tELE9BQVFILElBQUssQ0FDdEMsSUFBSUMsRUFBSWlsRCxFQUFTbGxELEdBQ2JrL0QsR0FBT2ovRCxJQUNUQSxFQUFFaUwsb0JBQW9CLGFBQWMxTCxLQUFLb2dFOzs7Ozs7Ozs7RUNoU2pELE1BQWFuTCxHQUFRLFdBQ25CLElBQUk4TCxFQUFVQyxFQUNkLEdBQ0VELEVBQVczK0QsT0FBTzY3QyxVQUFZQSxTQUFTZ1gsUUFDbkM3eUQsT0FBTzRMLFVBQVk1TCxPQUFPNEwsU0FBU29LLGFBQ3JDaFcsT0FBTzRMLFNBQVNvSyxZQUFZNjhDLFFBRTlCK0wsRUFBYWpNLFdBQ05nTSxHQUFZQyxJQ1ZqQnBoRSxHQUFJeXdCLFFBQVFud0IsVUFJWitnRSxHQUE0QnJoRSxHQUFFd2QsU0FBV3hkLEdBQUVzaEUsaUJBQy9DdGhFLEdBQUV1aEUsb0JBQXNCdmhFLEdBQUUwZCxtQkFDMUIxZCxHQUFFd2hFLGtCQUFvQnhoRSxHQUFFeWQsc0JBVWI2akQsR0FBa0IsU0FBUzM4RCxFQUFNd1IsR0FDNUMsT0FBT2tyRCxHQUEwQnJnRSxLQUFLMkQsRUFBTXdSOzs7Ozs7Ozs7RUFTOUMsTUFBTXNyRCxHQUtKNzlELFlBQVllLEdBQ05uQyxPQUFpQixVQUFLQSxPQUFpQixTQUFTLE9BQ2xEQSxPQUFpQixTQUFTLE1BQUVtQyxHQUU5QnZFLEtBQUt1RSxLQUFPQSxFQVlkZixhQUFha3dCLEdBQ1gsT0FBTyxJQUFJaXNDLEdBQ3FCMy9ELEtBQVMsS0FBRzB6QixHQVc5Q2x3QixlQUFlODlELEdBQ2JBLEVBQWUxeUMsYUFPakJwckIsa0JBWUFBLGFBQWFlLEdBQ1gsR0FBSXk1QyxHQUFLaCtDLEtBQUt1RSxNQUFNc1osU0FBU3RaLEdBQzNCLE9BQU8sRUFFVCxJQUFJOUQsRUFBSThELEVBQ0o0WixFQUFNNVosRUFBS2c0QyxjQUVmLEtBQU85N0MsR0FBS0EsSUFBTTBkLEdBQU8xZCxJQUFNVCxLQUFLdUUsTUFFbEM5RCxFQUFJdTlDLEdBQUt2OUMsR0FBR3VGLFlBQWNnNEMsR0FBS3Y5QyxHQUFHb1ksS0FFcEMsT0FBT3BZLElBQU1ULEtBQUt1RSxLQVlwQmYsZUFDRSxPQUFPdzZDLEdBQUtoK0MsS0FBS3VFLE1BQU0ybkIsY0FVekIxb0Isc0JBQ0UsTUFBZ0MsU0FBeEJ4RCxLQUFLdUUsS0FBSytULFVBQ2hCMGxDLEdBQUtoK0MsS0FBS3VFLE1BQU15YyxjQUFjLENBQUNDLFNBQVMsSUFDeEMsR0FTSnpkLGdDQUNFLElBQUkrOUQsRUFBTSxHQUNOOWdFLEVBQUl1OUMsR0FBS2grQyxLQUFLdUUsTUFBTTJyQixhQUN4QixLQUFPenZCLEdBQ0w4Z0UsRUFBSTk3RCxLQUFLaEYsR0FDVEEsRUFBSXU5QyxHQUFLdjlDLEdBQUd5dkIsYUFFZCxPQUFPcXhDLEVBV1QvOUQsV0FBV2UsRUFBTWk5RCxHQUNmLElBQUlyakQsRUFBTW5lLEtBQUt1RSxnQkFBZ0I2UixTQUFXcFcsS0FBS3VFLEtBQzdDdkUsS0FBS3VFLEtBQUtnNEMsY0FDWixPQUFPeUIsR0FBSzcvQixHQUFLNVcsV0FBV2hELEVBQU1pOUQsR0FRcENoK0QseUJBQ0UsT0FBT204RCxHQUF1Qm1CLGtCQUNHOWdFLEtBQVMsTUFXNUN3RCx5QkFBeUJ1UyxHQUN2QixJQUFJMHJELEVBQUt6aEUsS0FBSzBoRSx5QkFDVkMsRUFBTyxHQUNYLElBQUssSUFBc0J4Z0UsRUFBbEJYLEVBQUUsRUFBR3lILEVBQUV3NUQsRUFBRzlnRSxPQUFZSCxFQUFFeUgsSUFBTzlHLEVBQUVzZ0UsRUFBR2poRSxJQUFLQSxJQUMzQ1csRUFBRXNELFdBQWEwRixLQUFLcVQsY0FDckIwakQsR0FBZ0IvL0QsRUFBRzRVLElBQ3JCNHJELEVBQUtsOEQsS0FBS3RFLEdBR2QsT0FBT3dnRSxFQVVUdmpELG9CQUNFLElBQUk3WixFQUFPdkUsS0FBS3VFLEtBQ2hCLFlBQStCcEMsSUFBeEJvQyxFQUFLcTlELGVBQStCcjlELEVBQUtxOUQsZUFBaUJyOUQsRUFBSzZaLGVBZTFFLFNBQVN5akQsR0FBMEJqc0QsRUFBT2xELEdBQ3hDLElBQUssSUFBSWxTLEVBQUUsRUFBR0EsRUFBSWtTLEVBQVcvUixPQUFRSCxJQUFLLENBQ3hDLElBQUlzRSxFQUFPNE4sRUFBV2xTLEdBQ3RCaEIsT0FBT2dDLGVBQWVvVSxFQUFPOVEsRUFBTSxDQUNqQ2lJLElBQUssV0FFSCxZQUFjeEksS0FBS08sSUFFckJ3TixjQUFjLEtBaUNwQixNQUFhd3ZELEdBQ1h0K0QsWUFBWWtKLEdBQ1YxTSxLQUFLME0sTUFBUUEsRUFRZnExRCxpQkFDRSxPQUFPL2hFLEtBQUtxZSxLQUFLLEdBUW5CMmpELGtCQUNFLE9BQU9oaUUsS0FBSzBNLE1BQU0xTCxPQU9wQnFkLFdBQ0UsT0FBT3JlLEtBQUswTSxNQUFNb1MsZ0JBU3RCdWlELEdBQWFuaEUsVUFBVW9ILFVBTXZCKzVELEdBQWFuaEUsVUFBVTJKLFlBT3ZCdzNELEdBQWFuaEUsVUFBVW9HLGFBTXZCKzZELEdBQWFuaEUsVUFBVTBDLFlBT3ZCeStELEdBQWFuaEUsVUFBVXVqRCxhQU92QjRkLEdBQWFuaEUsVUFBVXFKLGFBTXZCODNELEdBQWFuaEUsVUFBVW9GLGdCQU12Qis3RCxHQUFhbmhFLFVBQVV3UCxjQU12QjJ4RCxHQUFhbmhFLFVBQVU0TyxpQkFHdkJ1eUQsR0FBYW5oRSxVQUFVOEYsV0FFdkJxN0QsR0FBYW5oRSxVQUFVdVAsV0FFdkI0eEQsR0FBYW5oRSxVQUFVK2hFLFVBRXZCWixHQUFhbmhFLFVBQVV5QyxZQUV2QjArRCxHQUFhbmhFLFVBQVVxRyxnQkFFdkI4NkQsR0FBYW5oRSxVQUFVNnlELGtCQUV2QnNPLEdBQWFuaEUsVUFBVWdpRSxpQkFFdkJiLEdBQWFuaEUsVUFBVWlpRSxtQkFFdkJkLEdBQWFuaEUsVUFBVWtpRSx1QkFFdkJmLEdBQWFuaEUsVUFBVTI0QyxXQUV2QndvQixHQUFhbmhFLFVBQVU2dUIsU0FFdkJzeUMsR0FBYW5oRSxVQUFVeWQsVUFHdkIwakQsR0FBYW5oRSxVQUFVK08sWUFFdkJveUQsR0FBYW5oRSxVQUFVdUksVUFFdkIsSUFBSTQ1RCxHQUFhaEIsR0FFakIsR0FBSWovRCxPQUFpQixVQUFLQSxPQUFpQixTQUFTLE9BQUtBLE9BQWlCLFNBQVcsU0FBS0EsT0FBaUIsU0FBVyxRQUFHLENBTXZILE1BQU1rZ0UsVUFBZ0JsZ0UsT0FBaUIsU0FBVyxTQUdsRDVDLE9BQU9vVCxvQkFBb0J5dUQsR0FBYW5oRSxXQUFXd04sUUFBU29DLElBQzlDLGlCQUFSQSxJQUNGd3lELEVBQVFwaUUsVUFBVTRQLEdBQVF1eEQsR0FBYW5oRSxVQUFVNFAsTUFNckQreEQsR0FBMEJTLEVBQVFwaUUsVUFBVyxDQUMzQyxjQUdGbWlFLEdBQWFDLEVBRWI5aUUsT0FBTzA0QyxpQkFBaUI0cEIsR0FBUzVoRSxVQUFXLENBSzFDOGhFLFlBQWEsQ0FDWHgrRCxNQUNFLE1BQU15c0IsRUFBVWp3QixLQUFLME0sTUFBTTg5QyxjQUNyQitYLEVBQWN0eUMsR0FBV3UxQixHQUFJdjFCLEdBQVN1eUMsZUFDdENobEIsRUFBS3g5QyxLQUFLcWUsS0FDaEIsSUFBSyxJQUFJN2QsRUFBSSxFQUFHQSxFQUFJZzlDLEVBQUc3OEMsT0FBUUgsSUFBSyxDQUNsQyxNQUFNd0wsRUFBSXd4QyxFQUFHaDlDLEdBQ2IsR0FBSWdsRCxHQUFJeDVDLEdBQUd3MkQsaUJBQW1CRCxFQUM1QixPQUFPdjJELElBSWJzRyxjQUFjLEdBR2hCK0wsS0FBTSxDQUNKN2EsTUFDRSxPQUFPcEIsT0FBaUIsU0FBZ0IsYUFBRXBDLEtBQUswTSxRQUVqRDRGLGNBQWMsVUE3TnBCLFNBQXdCc0QsRUFBTzZzRCxHQUM3QixJQUFLLElBQUlqaUUsRUFBRSxFQUFHQSxFQUFJaWlFLEVBQVE5aEUsT0FBUUgsSUFBSyxDQUNyQyxJQUFJbW5ELEVBQVM4YSxFQUFRamlFLEdBRXJCb1YsRUFBTSt4QyxHQUFzQyxXQUMxQyxPQUFPM25ELEtBQUt1RSxLQUFLb2pELEdBQVE5bUQsTUFBTWIsS0FBS3VFLEtBQU03RCxhQWdPOUNnaUUsQ0FBZXJCLEdBQWFuaEUsVUFBVyxDQUNyQyxZQUFhLGNBQWUsZUFBZ0IsY0FDNUMsZUFBZ0IsZUFBZ0Isa0JBQ2hDLGdCQUFpQixxQkFNbkIyaEUsR0FBMEJSLEdBQWFuaEUsVUFBVyxDQUNoRCxhQUFjLGFBQWMsWUFDNUIsY0FBZSxrQkFBbUIsb0JBQ2xDLG1CQUFvQixxQkFBc0IseUJBQzFDLGFBQWMsV0FBWSxjQTFOOUIsU0FBMkIwVixFQUFPbEQsR0FDaEMsSUFBSyxJQUFJbFMsRUFBRSxFQUFHQSxFQUFJa1MsRUFBVy9SLE9BQVFILElBQUssQ0FDeEMsSUFBSXNFLEVBQU80TixFQUFXbFMsR0FDdEJoQixPQUFPZ0MsZUFBZW9VLEVBQU85USxFQUFNLENBS2pDaUksSUFBSyxXQUNILE9BQU8vTSxLQUFLdUUsS0FBS08sSUFNbkJoRCxJQUFLLFNBQVM4RyxHQUNaNUksS0FBS3VFLEtBQUtPLEdBQVE4RCxHQUVwQjBKLGNBQWMsS0EyTWxCcXdELENBQWtCdEIsR0FBYW5oRSxVQUFXLENBQ3hDLGNBQWUsWUFBYSxjQW9CekIsTUFBTXNsRCxHQUFNLFNBQVM3TCxHQUUxQixJQURBQSxFQUFNQSxHQUFPNTFDLG9CQUNNcytELEdBQ2pCLFNBRUYsR0FBSTFvQixhQUFlbW9CLEdBQ2pCLFNBRUYsSUFBSWMsRUFBU2pwQixFQUFjLFNBUzNCLE9BUktpcEIsSUFFREEsRUFERWpwQixhQUFlaDdCLE1BQ1IsSUFBSW1qRCxHQUFTbm9CLEdBRWIsSUFBSTBvQixNQUVmMW9CLEVBQWMsU0FBSWlwQixHQUViQSxHQ2plSDNrQixHQUFXNzdDLE9BQU82N0MsU0FDbEJqd0MsR0FBVzVMLE9BQU80TDs7Ozs7Ozs7O0VBU3hCLFNBQVM2MEQsR0FBVXQrRCxFQUFNdStELEdBQ3ZCLE9BQU85a0IsR0FBS3o1QyxHQUFNMm5CLGdCQUFrQjQyQzs7Ozs7Ozs7OztBQ0F0QyxJQUFJQyxHQUFpQjNnRSxPQUFPNEwsU0FnQnJCLE1BQU1nMUQsR0FBcUI3bkIsR0FBZVQsSUFTL0MsTUFBTXVvQixFQUFvQjdGLEdBQVNaLEdBQXNCMUssR0FBYXBYLEtBTWhFd29CLEVBQWdCLENBQ3BCNzhDLEVBQUssUUFDTEMsRUFBSyxRQUNMNjhDLEtBQVEsT0FDUjN1QixJQUFPLFFBVVQsTUFBTTR1QixVQUFzQkgsRUFFMUJ6L0QsY0FDRTRILFFBRUFwTCxLQUFLcWpFLFdBRUxyakUsS0FBS3NqRSxpQkFFTHRqRSxLQUFLdWpFLFlBWVA3UCx3QkFDRSxPQUFPMXpELEtBQUtFLFVBQVV3ekQsV0FTeEJsd0QsV0FRQUEsb0JBQ0U0SCxNQUFNbU4sb0JBQ052WSxLQUFLcWpFLFlBQWEsRUFDbEJyakUsS0FBS3dqRSxXQVNQaGdFLFlBUUFBLHVCQUNFNEgsTUFBTStWLHVCQUNObmhCLEtBQUtxakUsWUFBYSxFQUNsQnJqRSxLQUFLeWpFLFdBU1BqZ0UsWUFZQUEseUJBQXlCc0IsRUFBTXlMLEVBQUszSCxFQUFPcXpDLEdBQ3JDMXJDLElBQVEzSCxJQUNWd0MsTUFBTTYyQyx5QkFBeUJuOUMsRUFBTXlMLEVBQUszSCxFQUFPcXpDLEdBQ2pEajhDLEtBQUswakUsaUJBQWlCNStELEVBQU15TCxFQUFLM0gsSUFhckNwRixpQkFBaUJzQixFQUFNeUwsRUFBSzNILElBVzVCcEYsd0JBQ0UsSUFBSW9TLEVBQVFwVyxPQUFPd1MsZUFBZWhTLE1BQzdCNFYsRUFBTS9WLGVBQWVnUSwwQkFBMEIsd0JBQXlCK0YsTUFDM0U1VixLQUFLMmpFLGNBRUwvdEQsRUFBTWd1RCx1QkFBd0IsR0FFaEN4NEQsTUFBTWcyQyx3QkFDTnBoRCxLQUFLMHhCLFVBQ0wxeEIsS0FBSzZqRSxVQUtMN2pFLEtBQUs4akUsa0JBWVB0Z0UsZUFTQUEsUUFDRXhELEtBQUsrakUsb0JBQ0wzNEQsTUFBTXcyQyxRQWVScCtDLHFCQWNBQSxtQkFlQUEsVUFBVW9GLEdBQ1IsT0FBTzVJLEtBQUtxaUQsZ0JBQWdCejVDLEdBaUI5QnBGLFlBQVlvRixFQUFPbEQsR0FDakIsT0FBTzFGLEtBQUtraUQsa0JBQWtCdDVDLEVBQU9sRCxHQWV2Q2xDLDJCQUEyQmtTLEVBQVVqRixFQUFXN0gsR0FDOUM1SSxLQUFLNlUscUJBQXFCYSxFQUFVakYsRUFBVzdILEdBZWpEcEYsMEJBQTBCb0YsRUFBTzZILEVBQVdsTSxHQUMxQ3ZFLEtBQUtvaUQsc0JBQThDNzlDLEdBQVF2RSxLQUFPNEksRUFBTzZILEdBWTNFak4sT0FBT3RELEVBQVc4akUsR0FDaEIsSUFBTTlqRSxJQUFhOGpFLEVBQ2pCLE9BQU85akUsR0FBYThqRSxFQUV0QixJQUFJQyxFQUFLemtFLE9BQU9vVCxvQkFBb0JveEQsR0FDcEMsSUFBSyxJQUFTdmpFLEVBQUxELEVBQUUsRUFBT0EsRUFBRXlqRSxFQUFHdGpFLFNBQVlGLEVBQUV3akUsRUFBR3pqRSxJQUFLQSxJQUFLLENBQ2hELElBQUkwakUsRUFBSzFrRSxPQUFPNkIseUJBQXlCMmlFLEVBQUt2akUsR0FDMUN5akUsR0FDRjFrRSxPQUFPZ0MsZUFBZXRCLEVBQVdPLEVBQUd5akUsR0FHeEMsT0FBT2hrRSxFQWVUc0QsTUFBTXhDLEVBQVF3b0QsR0FDWixJQUFLLElBQUlocEQsS0FBS2dwRCxFQUNaeG9ELEVBQU9SLEdBQUtncEQsRUFBT2hwRCxHQUVyQixPQUFPUSxFQWVUd0MsWUFBWTBvRCxFQUFRaHNELEdBSWxCLE9BSElnc0QsR0FBVWhzRCxHQUFhZ3NELElBQVdoc0QsSUFDcENnc0QsRUFBT3hzRCxVQUFZUSxHQUVkZ3NELEVBZVQxb0QsaUJBQWlCdUQsR0FDZixJQUFJOUMsRUFBVWpFLEtBQUtDLFlBQVlra0Usb0JBQW9CcDlELEdBR25ELE9BREdoRCxTQUFTd0QsV0FBV3RELEdBQVMsR0F1QmxDVCxLQUFLa0MsRUFBTW02QixFQUFRNTRCLEdBQ2pCQSxFQUFVQSxHQUFXLEdBQ3JCNDRCLEVBQVMsTUFBQ0EsRUFBMkMsR0FBS0EsRUFDMUQsSUFBSW56QixFQUFRLElBQUlpUyxNQUFNalosRUFBTSxDQUMxQmtaLGFBQTZCemMsSUFBcEI4RSxFQUFRMlgsU0FBK0IzWCxFQUFRMlgsUUFDeEQrQixXQUFZMVEsUUFBUWhKLEVBQVEwWixZQUM1QjlCLGNBQStCMWMsSUFBckI4RSxFQUFRNFgsVUFBK0I1WCxFQUFRNFgsV0FFM0RuUyxFQUFNbXpCLE9BQVNBLEVBQ2YsSUFBSXQ3QixFQUFPMEMsRUFBUTFDLE1BQVF2RSxLQUUzQixPQURBZytDLEdBQUt6NUMsR0FBTTJhLGNBQWN4UyxHQUNsQkEsRUFhVGxKLE9BQU9lLEVBQU1zSCxFQUFXKzVDLEdBQ3RCcmhELEVBQW9DQSxHQUFRdkUsS0FDNUMsSUFBSW9rRSxFQUFNcGtFLEtBQUtzakUsbUJBQ1p0akUsS0FBS3NqRSxpQkFBbUIsSUFBSTVoRSxTQUMzQjJpRSxFQUFLRCxFQUFJcjNELElBQUl4SSxHQUNaOC9ELElBQ0hBLEVBQUssR0FDTEQsRUFBSXRpRSxJQUFJeUMsRUFBTTgvRCxJQUVoQixJQUFJcGpFLEVBQU00SyxFQUFZKzVDLEVBQ2pCeWUsRUFBR3BqRSxLQUNOb2pFLEVBQUdwakUsR0FBT2pCLEtBQUtpa0QsZ0NBQ2tCcDRDLEVBQVcrNUMsRUFBWTVsRCxPQWU1RHdELFNBQVNlLEVBQU1zSCxFQUFXKzVDLEdBQ3hCcmhELEVBQW9DQSxHQUFRdkUsS0FDNUMsSUFBSXFrRSxFQUFLcmtFLEtBQUtzakUsa0JBQ1Z0akUsS0FBS3NqRSxpQkFBaUJ2MkQsT0FDdEI5TCxFQUFNNEssRUFBWSs1QyxFQUNsQm5qQyxFQUFVNGhELEdBQU1BLEVBQUdwakUsR0FDbkJ3aEIsSUFDRnppQixLQUFLeThELCtCQUM0QjV3RCxFQUFXNFcsR0FDNUM0aEQsRUFBR3BqRSxTQW9CUHVDLG1CQUFtQnNsQyxFQUFXdmtDLEdBQzVCNDFELEdBQzZCNTFELEdBQVF2RSxLQUNqQ2tqRSxFQUFjcDZCLElBQWMsUUFhbEN0bEMsR0FBRzhnRSxHQUVELE9BQU90a0UsS0FBSzB4QixLQUFLaGlCLGNBQWM0MEQsR0FZakNDLGNBQ0UsSUFBSTd5QyxFQUFPc3NCLEdBQUtoK0MsTUFBTWtzQixjQUN0QixPQUFRd0YsYUFBZ0I4eUMsaUJBQThDLEVBQU8zckQsS0FBTzZZLEVBVXRGbHVCLG9CQUNFLE1BQ01paEUsRUFBc0NqZixTQUN4Q3BqRCxPQUFPNjdDLFVBQVl3bUIsRUFBT25tRCxZQUM1QjIvQixTQUFTZ1gsUUFjYnp4RCx5QkFHRSxPQUQ2Q2dpRCxTQUMvQmtjLHlCQWFoQmwrRCx5QkFBeUJ1UyxHQUd2QixPQUQ2Q3l2QyxTQUMvQmtmLHlCQUF5QjN1RCxHQVl6Q3ZTLHVCQUVFLE9BRFd4RCxLQUFLMGhFLHlCQUNKampDLFFBQU8sU0FBOEJoK0IsR0FDL0MsT0FBUUEsRUFBRWdFLFdBQWEwRixLQUFLcVQsZ0JBWWhDaGEsMEJBQ0UsSUFBSW1oRSxFQUFLM2tFLEtBQUswaEUseUJBQ1ZrRCxFQUFLLEdBQ1QsSUFBSyxJQUFTempFLEVBQUxYLEVBQUUsRUFBT1csRUFBSXdqRSxFQUFHbmtFLEdBQUtBLElBQ3hCVyxFQUFFc0QsV0FBYTBGLEtBQUswNkQsY0FDdEJELEVBQUduL0QsS0FBS3RFLEVBQUU4TixhQUdkLE9BQU8yMUQsRUFBR3ozRCxLQUFLLElBV2pCM0osdUJBQXVCdVMsR0FDckIsSUFBSXVuQyxFQUFLdDlDLEtBQUswa0UseUJBQXlCM3VELEdBQ3ZDLE9BQU91bkMsR0FBTUEsRUFBRyxHQVlsQjk1QywwQkFBMEJ1UyxHQUN4QixPQUFPL1YsS0FBSzBrRSx5QkFBeUIzdUQsR0FjdkN2UyxxQkFBcUI4Z0UsR0FFbkIsSUFBSXJnRSxFQUFVakUsS0FBSzB4QixLQUFLaGlCLGNBQWM0MEQsR0FBUyxRQUMvQyxPQUFPcmdFLEVBQzJCdWhELEdBQUl2aEQsR0FBVTR2QixzQkFDNUMsR0FtQk5yd0IsbUJBQW1COGdFLEdBSWpCLE9BSG1EdGtFLEtBQUs4a0UscUJBQXFCUixHQUFPN2xDLFFBQU8sU0FBU2grQixHQUNsRyxPQUFRQSxFQUFFZ0UsV0FBYTBGLEtBQUtxVCxnQkFjaENoYSxrQkFBa0JlLEdBRWhCLGNBQW9CQSxHQUFReTVDLFNBQWVuZ0MsU0FBU3RaLElBQ2xEeTVDLFNBQWU5eEIsZ0JBQWtCOHhCLEdBQUt6NUMsR0FBTTJuQixjQVVoRDFvQixrQkFBa0JlLEdBQ2hCLE9BQU92RSxLQUFLMHhCLE9BQVNzc0IsR0FBS3o1QyxHQUFNMm5CLGNBV2xDMW9CLGFBQWFoQixFQUFXdWlFLEdBQWdCLEdBQ3RDLE9EcnFCTixTQUE2QnZpRSxFQUFXdWlFLEdBQWdCLEdBRXRELElBQUs5bUIsS0FBYWp3QyxHQUNoQixPQUFPLEtBR1QsSUFBS2l3QyxHQUFnQyxzQkFDbkMsT0FBTyxLQUVULE1BQU03bEMsRUFBY3BLLEdBQXNCLFlBRTFDLElBQUtvSyxFQUNILE9BQU8sS0FHVCxNQUFNNHNELEVBQWlCNXNELEVBQTBCLGFBQUU1VixHQUM3Q2t2QixFQUFPc3NCLEdBQUt4N0MsR0FBVzBwQixjQUV2Qis0QyxFQUFXMWdFLElBQ2YsSUFBS3MrRCxHQUFVdCtELEVBQU1tdEIsR0FDbkIsT0FHRixNQUFNcmMsRUFBVzFWLE1BQU13UCxLQUFLOHVDLEdBQXdCLGNBQW9CLGlCQUFFcjlDLEtBQUsyRCxFQUFNLE1BQ3JGOFEsRUFBUzVQLEtBQUtsQixHQUNkLElBQUssSUFBSS9ELEVBQUksRUFBR0EsRUFBSTZVLEVBQVMxVSxPQUFRSCxJQUFLLENBQ3hDLE1BQU11Z0MsRUFBSzFyQixFQUFTN1UsR0FDcEIsSUFBS3FpRSxHQUFVOWhDLEVBQUlyUCxHQUNqQixTQUVGLE1BQU13ekMsRUFBZTlzRCxFQUFpQyxvQkFBRTJvQixHQUNwRG1rQyxJQUFpQkYsSUFDRSxLQUFqQkUsR0FDRjlzRCxFQUF5QixZQUFFMm9CLEVBQUlta0MsR0FFakM5c0QsRUFBdUIsVUFBRTJvQixFQUFJaWtDLE1BUW5DLEdBRkFDLEVBQVF6aUUsR0FFSnVpRSxFQUFlLENBQ2pCLE1BQU05MUMsRUFBSyxJQUFJQyxpQkFBa0JpMkMsSUFDL0IsSUFBSyxJQUFJM2tFLEVBQUksRUFBR0EsRUFBSTJrRSxFQUFLeGtFLE9BQVFILElBQUssQ0FDcEMsTUFBTTRrRSxFQUFNRCxFQUFLM2tFLEdBQ2pCLElBQUssSUFBSSt0QixFQUFJLEVBQUdBLEVBQUk2MkMsRUFBSXIxQyxXQUFXcHZCLE9BQVE0dEIsSUFBSyxDQUM5QyxNQUFNODJDLEVBQVlELEVBQUlyMUMsV0FBV3hCLEdBQzdCODJDLEVBQVU1Z0UsV0FBYTBGLEtBQUtxVCxjQUM5QnluRCxFQUFRSSxPQU1oQixPQURBcDJDLEVBQUdNLFFBQVEvc0IsRUFBVyxDQUFDZ3RCLFdBQVcsRUFBTXlCLFNBQVMsSUFDMUNoQyxFQUVQLE9BQU8sS0MybUJFcTJDLENBQWE5aUUsRUFBV3VpRSxHQVlqQ3ZoRSxzQkFBc0JrUyxHQUNwQixPQUFPcXRELEdBQWVyd0IsMkJBQXFEaDlCLEdBOEI3RWxTLFNBQVMraEUsRUFBUzd4QyxFQUFVOHhDLEdBRTFCLE9BREF4bEUsS0FBS3VqRSxZQUFjdmpFLEtBQUt1akUsYUFBZSxHQUNoQ3ZqRSxLQUFLdWpFLFlBQVlnQyxHQUFXcFIsR0FBVW1FLFNBQ3ZDdDRELEtBQUt1akUsWUFBWWdDLEdBQ2pCQyxFQUFPLEVBQUk5bEIsR0FBUUMsTUFBTTZsQixHQUFRemxCLEdBQ2pDcnNCLEVBQVN2RSxLQUFLbnZCLE9BVXRCd0Qsa0JBQWtCK2hFLEdBQ2hCdmxFLEtBQUt1akUsWUFBY3ZqRSxLQUFLdWpFLGFBQWUsR0FDdkMsSUFBSTNPLEVBQVk1MEQsS0FBS3VqRSxZQUFZZ0MsR0FDakMsU0FBVTNRLElBQWFBLEVBQVVILFlBVW5DanhELGVBQWUraEUsR0FDYnZsRSxLQUFLdWpFLFlBQWN2akUsS0FBS3VqRSxhQUFlLEdBQ3ZDLElBQUkzTyxFQUFZNTBELEtBQUt1akUsWUFBWWdDLEdBQzdCM1EsR0FDRkEsRUFBVUssUUFXZHp4RCxnQkFBZ0IraEUsR0FDZHZsRSxLQUFLdWpFLFlBQWN2akUsS0FBS3VqRSxhQUFlLEdBQ3ZDLElBQUkzTyxFQUFZNTBELEtBQUt1akUsWUFBWWdDLEdBQzdCM1EsR0FDRkEsRUFBVUQsU0FrQmRueEQsTUFBTWt3QixFQUFVK3hDLEdBQ2QsT0FBT0EsRUFBVyxFQUFJL2xCLEdBQVFHLElBQUluc0IsRUFBU3ZFLEtBQUtudkIsTUFBT3lsRSxJQUNsRDFsQixHQUFVRixJQUFJbnNCLEVBQVN2RSxLQUFLbnZCLE9BV25Dd0QsWUFBWXM4QyxHQUNWQSxFQUFTLEVBQUlDLEdBQVU0VSxRQUFRN1UsR0FDM0JKLEdBQVFpVixPQUFPN1UsR0FjckJ0OEMsT0FBT2tpRSxFQUFLanpELEdBQ1YsSUFBSWt6RCxFQUFNNWhFLFNBQVN5RSxjQUFjazlELEdBQ2pDLEdBQUlqekQsRUFDRixHQUFJa3pELEVBQUlDLGNBQ05ELEVBQUlDLGNBQWNuekQsUUFFbEIsSUFBSyxJQUFJaFMsS0FBS2dTLEVBQ1prekQsRUFBSWxsRSxHQUFLZ1MsRUFBTWhTLEdBSXJCLE9BQU9rbEUsRUFZVG5pRSxlQUFldVMsRUFBVXhSLEdBQ3ZCLE9BQU8yOEQsR0FBa0IzOEQsR0FBUXZFLEtBQU8rVixHQVkxQ3ZTLGdCQUFnQnNCLEVBQU0rZ0UsR0FDcEIsSUFBSXRoRSxPQU9KLE9BTnlCLElBQXJCN0QsVUFBVUMsU0FDWjRELEVBQThCN0QsVUFBVSxJQUVsQixHQUFwQkEsVUFBVUMsU0FDWmtsRSxHQUFRdGhFLEVBQUs2bkIsYUFBYXRuQixJQUV4QitnRSxHQUNGN25CLEdBQUt6NUMsR0FBTWdGLGFBQWF6RSxFQUFNLEtBQ3ZCLElBRVBrNUMsR0FBS3o1QyxHQUFNZSxnQkFBZ0JSLElBQ3BCLEdBZVh0QixZQUFZc0IsRUFBTStnRSxFQUFNdGhFLEdBQ3RCQSxFQUErQkEsR0FBUXZFLEtBQ2YsR0FBcEJVLFVBQVVDLFNBQ1prbEUsR0FBUXRoRSxFQUFLb1osVUFBVUUsU0FBUy9ZLElBRTlCK2dFLEVBQ0Z0aEUsRUFBS29aLFVBQVVoUCxJQUFJN0osR0FFbkJQLEVBQUtvWixVQUFVQyxPQUFPOVksR0FhMUJ0QixVQUFVc2lFLEVBQWV2aEUsSUFDdkJBLEVBQStCQSxHQUFRdkUsTUFDbENnUCxNQUFNKzJELGdCQUFrQkQsRUFDN0J2aEUsRUFBS3lLLE1BQU1nM0QsVUFBWUYsRUFlekJ0aUUsWUFBWTZpQixFQUFHQyxFQUFHMi9DLEVBQUcxaEUsR0FDbkJBLEVBQStCQSxHQUFRdkUsS0FDdkNBLEtBQUtnbUUsVUFBVSxlQUFpQjMvQyxFQUFJLElBQU1DLEVBQUksSUFBTTIvQyxFQUFJLElBQUsxaEUsR0FvQi9EZixZQUFZMGlFLEVBQWFwN0QsR0FDdkIsSUFBSTNHLEVBQ0osR0FBSXhFLE1BQU1tSixRQUFRbzlELElBRWhCLEdBREEvaEUsRUFBUStoRSxFQUFZcGdFLFFBQVFnRixHQUN4QjNHLEdBQVMsRUFDWCxPQUFPK2hFLEVBQVlqNEMsT0FBTzlwQixFQUFPLE9BRTlCLENBR0wsR0FEQUEsRUFEVTRJLEdBQUkvTSxLQUFNa21FLEdBQ1JwZ0UsUUFBUWdGLEdBQ2hCM0csR0FBUyxFQUNYLE9BQU9uRSxLQUFLaXVCLE9BQU9pNEMsRUFBYS9oRSxFQUFPLEdBRzNDLE9BQU8sS0FhVFgsUUFBUXV5QyxFQUFPbDBDLEdBS2IsT0FISWxDLE1BQU1tSixRQUFRakgsSUFBeUIsSUFBaEJBLEVBQUtsQixRQUFnQmhCLE1BQU1tSixRQUFRakgsRUFBSyxNQUNqRUEsRUFBT0EsRUFBSyxJQUVQazBDLEdBQ0wsSUFBSyxNQUNMLElBQUssT0FDTCxJQUFLLFFBQ0g3bkMsUUFBUTZuQyxNQUFVbDBDLElBV3hCMkIsUUFBUTNCLEdBQ043QixLQUFLbW1FLFFBQVEsTUFBT3RrRSxHQVV0QjJCLFNBQVMzQixHQUNQN0IsS0FBS21tRSxRQUFRLE9BQVF0a0UsR0FVdkIyQixVQUFVM0IsR0FDUjdCLEtBQUttbUUsUUFBUSxRQUFTdGtFLEdBWXhCMkIsTUFBTW9pRCxLQUFlL2pELEdBQ25CLE1BQU8sQ0FBQyxXQUFZN0IsS0FBSys0QyxHQUFJNk0sS0FBZS9qRCxJQU9oRCxPQUZBdWhFLEVBQWNsakUsVUFBVTY0QyxHQUFLLEdBRXRCcXFCLElDNWhDSGdELEdBQWlCLENBQ3JCNUMsVUFBVSxFQUNWQyxVQUFVLEVBQ1Y3aEIsT0FBTyxFQUNQaWlCLFNBQVMsRUFDVHdDLGdCQUFnQixFQUNoQkMsWUFBWSxFQUNaNUMsa0JBQWtCLEVBQ2xCNkMsV0FBVyxFQUNYQyxnQkFBZ0IsR0FHWkMsR0FBZ0IsQ0FDcEJqRCxVQUFVLEVBQ1ZDLFVBQVUsRUFDVjdoQixPQUFPLEVBQ1BpaUIsU0FBUyxFQUNUd0MsZ0JBQWdCLEVBQ2hCQyxZQUFZLEVBQ1o1QyxrQkFBa0IsRUFDbEJnRCxXQUFXLEVBQ1hDLGNBQWMsR0FHVkMsR0FBcUJwbkUsT0FBT2EsT0FBTyxDQUN2Q2ttRSxXQUFXLEVBQ1hDLGdCQUFnQixFQUNoQjl6RCxZQUFZLEVBQ1p3SyxXQUFXLEdBQ1Z1cEQ7Ozs7Ozs7OztFQStFSCxTQUFTSSxHQUFVanhELEVBQU9rYSxFQUFNZzNDLEVBQVdDLElBN0UzQyxTQUF3QnZkLEVBQVF4b0QsRUFBUStsRSxHQUN0QyxNQUFNQyxFQUFjeGQsRUFBT21kLGFBQ3JCTSxFQUFnQnpuRSxPQUFPb1Qsb0JBQW9CNDJDLEdBQ2pELElBQUssSUFBSWhwRCxFQUFJLEVBQUdBLEVBQUl5bUUsRUFBY3RtRSxPQUFRSCxJQUFLLENBQzdDLElBQUlaLEVBQUlxbkUsRUFBY3ptRSxHQUN0QixLQUFJWixLQUFLbW5FLEdBR1QsR0FBSUMsRUFDRmhtRSxFQUFPcEIsR0FBSzRwRCxFQUFPNXBELE9BQ2QsQ0FDTCxJQUFJc2tFLEVBQUsxa0UsT0FBTzZCLHlCQUF5Qm1vRCxFQUFRNXBELEdBQzdDc2tFLElBR0ZBLEVBQUc1eEQsY0FBZSxFQUNsQjlTLE9BQU9nQyxlQUFlUixFQUFRcEIsRUFBR3NrRSxNQThEdkNnRCxDQUFlcDNDLEVBQU1sYSxFQUFPbXhELEdBQzVCLElBQUssSUFBSW5uRSxLQUFLd21FLEdBQ1J0MkMsRUFBS2x3QixLQUNQa25FLEVBQVVsbkUsR0FBS2tuRSxFQUFVbG5FLElBQU0sR0FDL0JrbkUsRUFBVWxuRSxHQUFHNkYsS0FBS3FxQixFQUFLbHdCLEtBdUM3QixTQUFTdW5FLEdBQWdCbm1FLEVBQVF3b0QsR0FDL0IsSUFBSyxNQUFNNXBELEtBQUs0cEQsRUFBUSxDQUN0QixNQUFNNGQsRUFBYXBtRSxFQUFPcEIsR0FDcEJ5bkUsRUFBYTdkLEVBQU81cEQsR0FFeEJvQixFQUFPcEIsS0FESCxVQUFXeW5FLElBQWVELEdBQWUsVUFBV0EsRUFDNUM1bkUsT0FBT2EsT0FBTyxDQUFDdUksTUFBT3crRCxFQUFXeCtELE9BQVF5K0QsR0FFekNBLEdBbUNsQixTQUFTQyxHQUFzQngzQyxFQUFNeTNDLEVBQU1iLEdBR3pDLElBQUljLEVBQ0osTUFBTVYsRUFBWSxHQUdsQixNQUFNVyxVQUF5QkYsRUFJN0IvakUsd0JBRUUsR0FBS3hELEtBQUtILGVBQWVnUSwwQkFBMEIsZ0JBQWlCN1AsT0FJN0QsQ0FFTCxHQUFJd25FLEVBQ0YsSUFBSyxJQUFTam9FLEVBQUxpQixFQUFFLEVBQU1BLEVBQUlnbkUsRUFBYTdtRSxPQUFRSCxJQUN4Q2pCLEVBQUlpb0UsRUFBYWhuRSxHQUNiakIsRUFBRW1ULFlBQ0oxUyxLQUFLMnhELGlCQUFpQnB5RCxFQUFFbVQsWUFFdEJuVCxFQUFFMmQsV0FDSmxkLEtBQUtxekQsZ0JBQWdCOXpELEVBQUUyZCxVQUFXM2QsRUFBRW1ULFlBSXRDb2QsRUFBS3BkLFlBQ1AxUyxLQUFLMnhELGlCQUFpQjdoQyxFQUFLcGQsWUFFekJvZCxFQUFLNVMsV0FDUGxkLEtBQUtxekQsZ0JBQWdCdmpDLEVBQUs1UyxVQUFXNFMsRUFBS3BkLFlBRzVDMVMsS0FBS3N6RCx3QkFyQkxpVSxFQUFLN1YsZUFBZTl3RCxLQUFLWixNQTBCN0IwUyx3QkFDRSxNQUFNQSxFQUFhLEdBQ25CLEdBQUk4MEQsRUFDRixJQUFLLElBQUlobkUsRUFBRSxFQUFHQSxFQUFJZ25FLEVBQWE3bUUsT0FBUUgsSUFDckMybUUsR0FBZ0J6MEQsRUFBWTgwRCxFQUFhaG5FLEdBQUdrUyxZQUloRCxPQURBeTBELEdBQWdCejBELEVBQVlvZCxFQUFLcGQsWUFDMUJBLEVBSVR3Syx1QkFDRSxJQUFJQSxFQUFZLEdBQ2hCLEdBQUlzcUQsRUFDRixJQUFLLElBQVNqb0UsRUFBTGlCLEVBQUUsRUFBTUEsRUFBSWduRSxFQUFhN21FLE9BQVFILElBQ3hDakIsRUFBSWlvRSxFQUFhaG5FLEdBQ2JqQixFQUFFMmQsWUFDSkEsRUFBWUEsRUFBVTJpRCxPQUFPdGdFLEVBQUUyZCxZQU9yQyxPQUhJNFMsRUFBSzVTLFlBQ1BBLEVBQVlBLEVBQVUyaUQsT0FBTy92QyxFQUFLNVMsWUFFN0JBLEVBTVQxWixVQUNFNEgsTUFBTXk0RCxVQUNOLE1BQU1sQyxFQUFPbUYsRUFBVWpELFFBQ3ZCLEdBQUlsQyxFQUNGLElBQUssSUFBSW5oRSxFQUFFLEVBQUdBLEVBQUltaEUsRUFBS2hoRSxPQUFRSCxJQUM3Qm1oRSxFQUFLbmhFLEdBQUdJLEtBQUtaLE1BUW5Cd0QsY0FTRSxNQUFNa2tFLEVBQWlCRCxFQUFpQnZuRSxVQUN4QyxJQUFLd25FLEVBQWU3bkUsZUFBZWdRLDBCQUEwQix3QkFBeUI2M0QsSUFBa0IsQ0FDdEdBLEVBQWU5RCx1QkFBd0IsRUFFdkN4NEQsTUFBTXU0RCxjQVFOLE1BQU0vdEQsRUFBUXBXLE9BQU93UyxlQUFlaFMsTUFDcEMsSUFBSTJoRSxFQUFPbUYsRUFBVVQsZUFDckIsR0FBSTFFLEVBQ0YsSUFBSyxJQUFJbmhFLEVBQUUsRUFBR0EsRUFBSW1oRSxFQUFLaGhFLE9BQVFILElBQzdCbWhFLEVBQUtuaEUsR0FBR0ksS0FBS2dWLEdBSWpCLEdBREErckQsRUFBT21GLEVBQVVSLFdBQ2IzRSxFQUNGLElBQUssSUFBSW5oRSxFQUFFLEVBQUdBLEVBQUltaEUsRUFBS2hoRSxPQUFRSCxJQUM3Qm1oRSxFQUFLbmhFLEdBQUdJLEtBQUtnVixJQVNyQnBTLGtCQUNFNEgsTUFBTTA0RCxrQkFDTixNQUFNbkMsRUFBT21GLEVBQVVQLFVBQ3ZCLEdBQUk1RSxFQUNGLElBQUssSUFBSW5oRSxFQUFFLEVBQUdBLEVBQUltaEUsRUFBS2hoRSxPQUFRSCxJQUFLLENBQ2xDLE1BQU0rbEUsRUFBWTVFLEVBQUtuaEUsR0FDdkIsR0FBSStsRSxFQUNGLElBQUssSUFBSXQrRCxLQUFLcytELEVBQ1p2bUUsS0FBS2lrRCw4QkFBOEJqa0QsS0FBTWlJLEVBQUdzK0QsRUFBVXQrRCxLQWFoRXpFLG9CQUNFLE1BQU1tK0QsRUFBT21GLEVBQVVOLGVBQ3ZCLEdBQUk3RSxFQUNGLElBQUssSUFBSW5oRSxFQUFFbWhFLEVBQUtoaEUsT0FBTyxFQUFHSCxHQUFLLEVBQUdBLElBQUssQ0FDckMsTUFBTWdtRSxFQUFpQjdFLEVBQUtuaEUsR0FDNUIsSUFBSyxJQUFJNmtELEtBQUttaEIsRUFDVnhtRSxLQUFLMm5FLGlCQUFpQnRpQixFQUFHbWhCLEVBQWVuaEIsSUFJaERqNkMsTUFBTTI0RCxvQkFNUnZnRSxRQUNFNEgsTUFBTXcyQyxRQUNOLElBQUkrZixFQUFPbUYsRUFBVWxsQixNQUNyQixHQUFJK2YsRUFDRixJQUFLLElBQUluaEUsRUFBRSxFQUFHQSxFQUFJbWhFLEVBQUtoaEUsT0FBUUgsSUFDN0JtaEUsRUFBS25oRSxHQUFHSSxLQUFLWixNQVFuQndELFdBQ0U0SCxNQUFNbzRELFdBQ04sSUFBSTdCLEVBQU9tRixFQUFVdEQsU0FDckIsR0FBSTdCLEVBQ0YsSUFBSyxJQUFJbmhFLEVBQUUsRUFBR0EsRUFBSW1oRSxFQUFLaGhFLE9BQVFILElBQzdCbWhFLEVBQUtuaEUsR0FBR0ksS0FBS1osTUFRbkJ3RCxXQUNFNEgsTUFBTXE0RCxXQUNOLElBQUk5QixFQUFPbUYsRUFBVXJELFNBQ3JCLEdBQUk5QixFQUNGLElBQUssSUFBSW5oRSxFQUFFLEVBQUdBLEVBQUltaEUsRUFBS2hoRSxPQUFRSCxJQUM3Qm1oRSxFQUFLbmhFLEdBQUdJLEtBQUtaLE1BY25Cd0QsaUJBQWlCc0IsRUFBTXlMLEVBQUszSCxHQUMxQndDLE1BQU1zNEQsbUJBQ04sSUFBSS9CLEVBQU9tRixFQUFVcEQsaUJBQ3JCLEdBQUkvQixFQUNGLElBQUssSUFBSW5oRSxFQUFFLEVBQUdBLEVBQUltaEUsRUFBS2hoRSxPQUFRSCxJQUM3Qm1oRSxFQUFLbmhFLEdBQUdJLEtBQUtaLEtBQU04RSxFQUFNeUwsRUFBSzNILElBT3RDLEdBQUk4OUQsRUFBVyxDQUlSL21FLE1BQU1tSixRQUFRNDlELEtBQ2pCQSxFQUFZLENBQUNBLElBRWYsSUFBSWtCLEVBQWlCTCxFQUFLcm5FLFVBQVV3bUUsVUFFcENjLEVBM1NKLFNBQVNLLEVBQWlCbkIsRUFBVy9FLEVBQU1tRyxHQUN6Q25HLEVBQU9BLEdBQVEsR0FDZixJQUFLLElBQUluaEUsRUFBRWttRSxFQUFVL2xFLE9BQU8sRUFBR0gsR0FBSyxFQUFHQSxJQUFLLENBQzFDLElBQUlqQixFQUFJbW5FLEVBQVVsbUUsR0FDZGpCLEVBQ0VJLE1BQU1tSixRQUFRdkosR0FDaEJzb0UsRUFBaUJ0b0UsRUFBR29pRSxHQUdoQkEsRUFBSzc3RCxRQUFRdkcsR0FBSyxLQUFPdW9FLEdBQVdBLEVBQVFoaUUsUUFBUXZHLEdBQUssSUFDM0RvaUUsRUFBS2hxRCxRQUFRcFksR0FJakIyTyxRQUFRQyxLQUFLLHFEQUdqQixPQUFPd3pELEVBMFJVa0csQ0FBaUJuQixFQUFXLEtBQU1rQixHQUNqREgsRUFBaUJ2bkUsVUFBVXdtRSxVQUFZa0IsRUFDckNBLEVBQWUvSCxPQUFPNkcsR0FBYWMsRUFpQnZDLE1BZDhCLENBQUM1eEQsSUFDekI0eEQsR0F2VVIsU0FBd0I1eEQsRUFBTzh3RCxFQUFXSSxHQUN4QyxJQUFLLElBQUl0bUUsRUFBRSxFQUFHQSxFQUFFa21FLEVBQVUvbEUsT0FBUUgsSUFDaENxbUUsR0FBVWp4RCxFQUFPOHdELEVBQVVsbUUsR0FBSXNtRSxFQUFXRixJQXNVeENtQixDQUFlbnlELEVBQU80eEQsRUFBY1YsR0FFdENELEdBQVVqeEQsRUFBT2thLEVBQU1nM0MsRUFBV0wsS0FLbEN1QixDQUFzQlAsRUFBaUJ2bkUsV0FHekN1bkUsRUFBaUJRLGNBQWdCbjRDLEVBRTFCMjNDLEVBeUVGLE1DaGZEeHNCLEdBQVUsU0FBU25yQixHQUd2QixJQUFJMmlDLEVBT0osT0FMRUEsRUFEa0IsbUJBQVQzaUMsRUFDREEsRUFFQW1yQixHQUFRaXRCLE1BQU1wNEMsR0FFeEJ6dEIsZUFBZTRTLE9BQU93OUMsRUFBTTFaLE1BQ3JCMFo7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM5QlQsU0FBUzBWLEdBQXNCM3JCLEVBQU05bUMsRUFBVTlNLEVBQU8ySCxFQUFLNjNELEdBQ3pELElBQUlDLEVBQ0FELElBQ0ZDLEVBQTZCLGlCQUFWei9ELEdBQWdDLE9BQVZBLEVBRXJDeS9ELElBQ0Y5M0QsRUFBTWlzQyxFQUFLb1EsV0FBV2wzQyxLQUkxQixJQUFJNHlELEVBQWdCLzNELElBQVEzSCxJQUFVMkgsR0FBUUEsR0FBTzNILEdBQVVBLEdBTS9ELE9BSEl5L0QsR0FBWUMsSUFDZDlyQixFQUFLb1EsV0FBV2wzQyxHQUFZOU0sR0FFdkIwL0QsRURpQlRydEIsR0FBUWl0QixNRG1lYSxTQUFTcDRDLEVBQU1zckIsR0FDN0J0ckIsR0FDSDVoQixRQUFRQyxLQUFLLDBDQUVmLElBQUlza0QsRUFBUXJYLEVBQVFBLEVBQU00bkIsR0FBbUIveEQsY0FDekMreEQsR0FBbUIveEQsYUFJdkIsT0FIQXdoRCxFQUFRNlUsR0FBc0J4M0MsRUFBTTJpQyxFQUFPM2lDLEVBQUs0MkMsV0FFaERqVSxFQUFNMVosR0FBSzBaLEVBQU12eUQsVUFBVTY0QyxHQUFLanBCLEVBQUtpcEIsR0FDOUIwWixHRWhkRixNQUFNOFYsR0FBY3B0QixHQUFjK0UsR0FPdkMsY0FBMEJBLEVBa0J4QjE4QyxzQkFBc0JrUyxFQUFVOU0sRUFBTzJILEdBQ3JDLE9BQU80M0QsR0FBc0Jub0UsS0FBTTBWLEVBQVU5TSxFQUFPMkgsR0FBSyxNQWlEbERpNEQsR0FBc0JydEIsR0FBYytFLEdBTy9DLGNBQWtDQSxFQUdoQ3h0Qyx3QkFDRSxNQUFPLENBTUwwMUQsWUFBYW40RCxTQXNCakJ6TSxzQkFBc0JrUyxFQUFVOU0sRUFBTzJILEdBQ3JDLE9BQU80M0QsR0FBc0Jub0UsS0FBTTBWLEVBQVU5TSxFQUFPMkgsRUFBS3ZRLEtBQUtvb0UsZ0JBU3BFRyxHQUFZRSx1QkFBeUJOOzs7Ozs7Ozs7O0FDM0lyQyxJQUFJTyxHQUFjLEtBT2xCLFNBQVNDLEtBQWlDLE9BQU9ELEdBQ2pEQyxHQUE2QnpvRSxVQUFZVixPQUFPVyxPQUFPb2xELG9CQUFvQnJsRCxVQUFXLENBQ3BGRCxZQUFhLENBQ1gySSxNQUFPKy9ELEdBQ1BDLFVBQVUsS0FVZCxNQUFNQyxHQUFlMWMsR0FBZ0J3YyxJQVEvQkcsR0FBc0JQLEdBQVlNLElBaUJ4QyxNQUFNRSxHQUF1QjVjLFlBVzdCLE1BQU02YyxXQUE2QkQsR0FDakN2bEUsWUFBWWlQLEdBQ1ZySCxRQUNBcEwsS0FBS2lwRSxxQkFBcUJ4MkQsR0FFMUJ6UyxLQUFLMHhCLEtBQU8xeEIsS0FBS3N3RCxlQUFldHdELEtBQUsyc0QsWUFFckMsSUFBSTU5QixFQUFXLEdBRWYvdUIsS0FBSyt1QixXQUVMLElBQUssSUFBSXR1QixFQUFJVCxLQUFLMHhCLEtBQUtqaUIsV0FBWWhQLEVBQUdBLEVBQUVBLEVBQUVrQyxZQUN4Q29zQixFQUFTdHBCLEtBQUtoRixHQUNkQSxFQUFFeW9FLHFCQUF1QmxwRSxLQUV2QkEsS0FBS21wRSxtQkFDUG5wRSxLQUFLbXBFLGtCQUFrQkMsMEJBQ3ZCcHBFLEtBQUtxcEUsbUJBQWtCLEdBSXpCLElBQUlwaUUsRUFBVWpILEtBQUtzcEUscUJBQ2Q3MkQsR0FBU3hMLEVBQVFzaUUsZ0JBQW1CdGlFLEVBQVFzaUUsZ0JBQy9DdnBFLEtBQUtxdUQsb0JBVVQ3cUQscUJBQXFCaVAsR0FFbkIsR0FEY3pTLEtBQUtzcEUsb0JBQ1BFLGdCQUNWLElBQUssSUFBSUMsS0FBU3pwRSxLQUFLMHBFLFlBQ3JCMXBFLEtBQUtzaEQsb0JBQW9CbW9CLEVBQU96cEUsS0FBSzJzRCxXQUFXLFNBQVc4YyxJQUsvRCxJQUFLLElBQUlFLEtBQVNsM0QsRUFDaEJ6UyxLQUFLc2hELG9CQUFvQnFvQixFQUFPbDNELEVBQU1rM0QsSUFjMUNubUUsZ0JBQWdCc00sRUFBTWxILEdBQ2hCNUksS0FBSzBwRCwwQkFBMEI1NUMsRUFBTWxILEdBQU8sR0FBTyxJQUNyRDVJLEtBQUsyc0QsV0FBV2hELGVBQWUzcEQsTUFhbkN3RCx3QkFBd0JlLEVBQU1zSCxFQUFXNFcsR0FDdkMsR0FBSXppQixLQUFLOGxELGFBQWU5bEQsS0FBS3NwRSxvQkFBb0JNLFlBRy9DNXBFLEtBQUs4bEQsWUFBWUUsd0JBQXdCemhELEVBQU1zSCxFQUFZRyxJQUN6REEsRUFBRTgyQyxNQUFROWlELEtBQ1Z5aUIsRUFBUXpXLFNBRUwsQ0FHTCxJQUFJNjlELEVBQWU3cEUsS0FBSzJzRCxXQUFXQSxXQUMvQmtkLEdBQ0ZBLEVBQWE3akIsd0JBQXdCemhELEVBQU1zSCxFQUFXNFcsSUFhNURqZixrQkFBa0JzbUUsR0FDaEIsSUFBSTNvRSxFQUFJbkIsS0FBSyt1QixTQUNiLElBQUssSUFBSXZ1QixFQUFFLEVBQUdBLEVBQUVXLEVBQUVSLE9BQVFILElBQUssQ0FDN0IsSUFBSUMsRUFBSVUsRUFBRVgsR0FFVixHQUFJeVAsUUFBUTY1RCxJQUFTNzVELFFBQVF4UCxFQUFFMm9FLDBCQUM3QixHQUFJM29FLEVBQUVnRSxXQUFhMEYsS0FBSzY2QyxVQUNsQjhrQixHQUNGcnBFLEVBQUVzcEUsdUJBQXlCdHBFLEVBQUV3TyxZQUM3QnhPLEVBQUV3TyxZQUFjLElBRWhCeE8sRUFBRXdPLFlBQWN4TyxFQUFFc3BFLDRCQUdmLEdBQW9CLFNBQWhCdHBFLEVBQUU2WCxVQUNYLEdBQUl3eEQsRUFDRnJwRSxFQUFFdXBFLG9CQUFzQmptRSxTQUFTOEMsY0FBYyxlQUMvQ20zQyxHQUFLQSxHQUFLdjlDLEdBQUd1RixZQUFZeTlDLGFBQWFoakQsRUFBRXVwRSxvQkFBcUJ2cEUsT0FDeEQsQ0FDTCxNQUFNd3VDLEVBQVV4dUMsRUFBRXVwRSxvQkFDZC82QixHQUNGK08sR0FBS0EsR0FBSy9PLEdBQVNqcEMsWUFBWXk5QyxhQUFhaGpELEVBQUd3dUMsUUFLNUN4dUMsRUFBRXVPLFFBQ0w4NkQsR0FDRnJwRSxFQUFFd3BFLG1CQUFxQnhwRSxFQUFFdU8sTUFBTWs3RCxRQUMvQnpwRSxFQUFFdU8sTUFBTWs3RCxRQUFVLFFBRWxCenBFLEVBQUV1TyxNQUFNazdELFFBQVV6cEUsRUFBRXdwRSxvQkFJMUJ4cEUsRUFBRTJvRSx5QkFBMkJVLEVBQ3pCcnBFLEVBQUU0b0UsbUJBQ0o1b0UsRUFBRTRvRSxrQkFBa0JTLElBZ0IxQnRtRSw0QkFBNEJlLEVBQU11TCxFQUFNbEgsR0FDbENyRSxFQUFLNmtFLDBCQUNMN2tFLEVBQUtFLFVBQVkwRixLQUFLNjZDLFdBQXFCLGVBQVJsMUMsRUFDckN2TCxFQUFLd2xFLHVCQUF5Qm5oRSxFQUU5QndDLE1BQU0yK0MsNEJBQTRCeGxELEVBQU11TCxFQUFNbEgsR0FVbERnaEUsa0JBQ0UsSUFBSTltQixFQUFROWlELEtBQUttcUUsY0FDakIsSUFBS3JuQixFQUFPLENBQ1YsSUFBSTc3QyxFQUNKNjdDLEVBQVE5aUQsS0FDUixHQUdFOGlELEVBQVFBLEVBQU02SixXQUFXQSxrQkFDakIxbEQsRUFBVTY3QyxFQUFNd21CLHVCQUF5QnJpRSxFQUFRMmlFLGFBQzNENXBFLEtBQUttcUUsY0FBZ0JybkIsRUFFdkIsT0FBT0EsRUFXUnQvQyxjQUFja0osR0FDWixPQUFPLEdBS1pzOEQsR0FBcUI5b0UsVUFBVXlzRCxXQUUvQnFjLEdBQXFCOW9FLFVBQVVvcEUsb0JBRS9CTixHQUFxQjlvRSxVQUFVNGxELFlBRS9Ca2pCLEdBQXFCOW9FLFVBQVVpcEUsa0JBRS9CSCxHQUFxQjlvRSxVQUFVd3BFLFlBUS9CLE1BQU1VLEdBQThCN0IsT0FtQnBDLFNBQVM4QixHQUF1QnRqRSxFQUFVbzlDLEVBQWNsOUMsR0FLdEQsSUFBSXFqRSxFQUFrQnJqRSxFQUFRbWhFLFlBQzVCZ0MsR0FBOEJwQixHQUc1QnVCLEdBQVdudkIsUUFDYmt2QixFQUFrQkMsR0FBV252QixNQUFNa3ZCLElBUXJDLElBQUk3WCxFQUFRLGNBQWM2WCxJQUsxQixPQUhBN1gsRUFBTXZ5RCxVQUFVb3BFLG9CQUFzQnJpRSxFQUN0Q3dyRCxFQUFNdnlELFVBQVU2dkQsY0FBY2hwRCxHQTJEaEMsU0FBMEIwckQsRUFBTzFyRCxFQUFVbzlDLEVBQWNsOUMsR0FDdkQsSUFBSW1wRCxFQUFZak0sRUFBYWlNLFdBQWEsR0FDMUMsSUFBSyxJQUFJdVosS0FBUzFpRSxFQUFRc2lFLGNBQWUsUUFDaENuWixFQUFVdVosR0FDakIsSUFBSWEsRUFBeUJ2akUsRUFBUXdqRSxtQkFDakNELEdBQ0YvWCxFQUFNdnlELFVBQVU2cUQsbUJBQW1CNGUsRUFDakNsWCxFQUFNdnlELFVBQVVtdEQsc0JBQXNCakgsT0FDdEMsQ0FBQ3JvQyxHQUFJMnNELEdBQStCZixFQUFPYSxLQUdqRCxHQUFJdmpFLEVBQVF1aUUsaUJBQW1CemlFLEVBQVM0bEQsV0FDdEMsSUFBSyxJQUFJOGMsS0FBU3JaLEVBR1hqTSxFQUFhd21CLGVBQ2hCeG1CLEVBQWF3bUIsY0FBZSxHQUU5QmxZLEVBQU12eUQsVUFBVTZxRCxtQkFBbUIwZSxFQUNqQ2hYLEVBQU12eUQsVUFBVW10RCxzQkFBc0JqSCxPQUN0QyxDQUFDcm9DLEdBYUEsU0FBd0J5K0IsRUFBTTFzQyxFQUFNMkMsR0FDekMrcEMsRUFBS21RLFdBQVdqRCwwQkFBMEIsU0FBVzU1QyxFQUFNMkMsRUFBTTNDLElBQU8sR0FBTSxNQTVGaEY4NkQsQ0FBaUJuWSxFQUFPMXJELEVBQVVvOUMsRUFBY2w5QyxHQUN6Q3dyRCxFQVNULFNBQVNvWSxHQUFvQjlqRSxFQUFVbzlDLEVBQWNsOUMsR0FDbkQsSUFBSTZqRSxFQUFzQjdqRSxFQUFRdWlFLGdCQUNsQyxHQUFJc0IsR0FBdUIzbUIsRUFBYXdtQixhQUFjLENBRXBELElBQUlsWSxFQUFRdE8sRUFBYTRtQix3QkFDekIsSUFBS3RZLEVBQU8sQ0FLVixJQUFJdVksRUFBa0IvakUsRUFBUW1oRSxZQUFjVSxHQUFzQkQsR0FFbEVwVyxFQUFRdE8sRUFBYTRtQix3QkFDbkIsY0FBa0NDLElBR3BDLElBQUk1YSxFQUFZak0sRUFBYWlNLFVBQzdCLElBQUssSUFBSXRnRCxLQUFRc2dELEVBQ2ZxQyxFQUFNdnlELFVBQVU2cUQsbUJBQW1CLFNBQVdqN0MsRUFDNUMyaUQsRUFBTXZ5RCxVQUFVbXRELHNCQUFzQmhILFVBQ3RDLENBQUN0b0MsR0FBSWt0RCxHQUE0Qm43RCxFQUFNZzdELEtBQ3pDclksRUFBTXZ5RCxVQUFVeXZELHlCQUF5QixTQUFXNy9DLElBcFQ1RCxTQUF5Qi9JLEVBQVU5RyxHQUNqQ3lvRSxHQUFjM2hFLEVBQ2R2SCxPQUFPQyxlQUFlc0gsRUFBVTlHLEVBQVlDLFdBQzVDLElBQUlELEVBQ0p5b0UsR0FBYyxLQW1UWndDLENBQWdCbmtFLEVBQVUwckQsR0FHdEIxckQsRUFBUzA3QyxhQUdYampELE9BQU9hLE9BQU8wRyxFQUFTZzZDLE9BQVFoNkMsRUFBUzA3QyxhQUcxQzE3QyxFQUFTNmxELFdBQWEsR0FDdEI3bEQsRUFBU2k2QyxjQUFnQixLQUN6Qmo2QyxFQUFTazZDLFVBQVksS0FDckJsNkMsRUFBU3NuRCxxQkFLYixTQUFTNGMsR0FBNEJFLEVBQVVMLEdBQzdDLE9BQU8sU0FBeUIvakUsRUFBVStJLEVBQU0yQyxHQUM5Q3E0RCxFQUFvQmxxRSxLQUFLbUcsRUFBU29pRSxrQkFDaENyNUQsRUFBS2kvQixVQUFVLFNBQVNwdUMsUUFBUzhSLEVBQU0zQyxLQTZCN0MsU0FBUzQ2RCxHQUErQlUsRUFBVVosR0FDaEQsT0FBTyxTQUE0Qmh1QixFQUFNMXNDLEVBQU0yQyxHQUM3QyszRCxFQUF1QjVwRSxLQUFLNDdDLEVBQUsyc0Isa0JBQy9CM3NCLEVBQU0xc0MsRUFBTTJDLEVBQU0zQyxLQXlGeEIsU0FBZ0J5NkQsR0FBV3hqRSxFQUFVcTFDLEVBQU9uMUMsR0FRMUMsR0FEQUEsRUFBNENBLEdBQVcsR0FDbkRGLEVBQVNvaUUsa0JBQ1gsTUFBTSxJQUFJaitELE1BQU0sNkNBRWxCbkUsRUFBU29pRSxrQkFBb0Ivc0IsRUFFN0IsSUFBSStILEdBRFMvSCxFQUFRQSxFQUFNbjhDLFlBQWMrb0UsSUFDakI3akIsZUFBZXArQyxHQU9uQ3NrRSxFQUFZbG5CLEVBQWFtbkIsd0JBQ3hCRCxJQUNIQSxFQUFZaEIsR0FBdUJ0akUsRUFBVW85QyxFQUFjbDlDLEdBQzNEazlDLEVBQWFtbkIsd0JBQTBCRCxHQUd6Q1IsR0FBb0I5akUsRUFBVW85QyxFQUFjbDlDLEdBRzVDLElBQUl3ckQsRUFBUSxjQUErQjRZLElBVTNDLE9BUkE1WSxFQUFNdnlELFVBQVU0bEQsWUFsUGxCLFNBQXdCLytDLEdBTXRCLElBQUk4aUUsRUFBZTlpRSxFQUFTNGxELFdBQzVCLE9BQU9rZCxHQUFnQkEsRUFBYS9qQixhQUFlK2pCLEVBMk9yQjBCLENBQWV4a0UsR0FFN0MwckQsRUFBTXZ5RCxVQUFVeXNELGFBRWhCOEYsRUFBTXZ5RCxVQUFVaXBFLG9CQUVoQjFXLEVBQU12eUQsVUFBVXdwRSxZQUFjdmxCLEVBQWFpTSxVQUMzQ3FDLElBQ09BOzs7Ozs7Ozs7O0FDM2lCVCxNQUFNK1ksR0FDSmhQLEdBQ0VnTSxHQUNFcmMsR0FBZ0JsN0MsZUF5SHRCNU8sZUFBZTRTLE9BQU8sV0FwR2YsY0FBc0J1MkQsR0FFM0IvNUQsZ0NBQWtDLE1BQU8sQ0FBQyxnQkFFMUNqTyxjQUNFNEgsUUFJQXBMLEtBQUsweEIsS0FBTyxLQUNaMXhCLEtBQUsybEQsRUFBSSxLQUNUM2xELEtBQUt5ckUsV0FBYSxLQVlwQmpvRSx5QkFBeUJzQixFQUFNeUwsRUFBSzNILEVBQU9xekMsR0FFekNqOEMsS0FBS29vRSxhQUFjLEVBT3JCNWtFLG9CQUVJeEQsS0FBS2dQLE1BQU1rN0QsUUFBVSxPQUV2QmxxRSxLQUFLMFksU0FPUGxWLHVCQUNFeEQsS0FBSzByRSxtQkFHUGxvRSxtQkFDRXc2QyxHQUFLQSxHQUFLaCtDLE1BQU1nRyxZQUFZTSxhQUFhdEcsS0FBSzB4QixLQUFNMXhCLE1BR3REd0QsbUJBQ0UsR0FBSXhELEtBQUt5ckUsV0FDUCxJQUFLLElBQUlqckUsRUFBRSxFQUFHQSxFQUFFUixLQUFLeXJFLFdBQVc5cUUsT0FBUUgsSUFDdENSLEtBQUsweEIsS0FBSzduQixZQUFZN0osS0FBS3lyRSxXQUFXanJFLElBVTVDZ0QsU0FDRSxJQUFJdUQsRUFDSixJQUFLL0csS0FBS3lyRSxXQUFZLENBRXBCLEdBREExa0UsRUFBK0NBLEdBQVkvRyxLQUFLMFAsY0FBYyxhQUN6RTNJLEVBQVUsQ0FFYixJQUFJaVcsRUFBVyxJQUFJa1MsaUJBQWlCLEtBRWxDLEdBREFub0IsRUFBOEMvRyxLQUFLMFAsY0FBYyxhQUM3RDNJLEVBSUYsTUFBTSxJQUFJbUUsTUFBTSx3Q0FIaEI4UixFQUFTNFIsYUFDVDV1QixLQUFLMFksV0FNVCxZQURBc0UsRUFBU3VTLFFBQVF2dkIsS0FBTSxDQUFDd3ZCLFdBQVcsSUFHckN4dkIsS0FBSzB4QixLQUFPMXhCLEtBQUtzd0Qsa0JBRWpCdHdELEtBQUsybEQsRUFBSTNsRCxLQUFLMHhCLEtBQUtpMEIsRUFDbkIzbEQsS0FBS3lyRSxXQUFhLEdBQ2xCLElBQUssSUFBSWhyRSxFQUFFVCxLQUFLMHhCLEtBQUtqaUIsV0FBWWhQLEVBQUdBLEVBQUVBLEVBQUVrQyxZQUN0QzNDLEtBQUt5ckUsV0FBV3pyRSxLQUFLeXJFLFdBQVc5cUUsUUFBVUYsRUFFNUNULEtBQUtxdUQsb0JBRVBydUQsS0FBSzJyRSxtQkFDTDNyRSxLQUFLa2YsY0FBYyxJQUFJa2hCLFlBQVksYUFBYyxDQUMvQ3hoQixTQUFTLEVBQ1RDLFVBQVU7Ozs7Ozs7Ozs7QUNoSWhCLE1BQU0rc0QsR0FDSnBvRSxZQUFZcW9FLEdBRVY3ckUsS0FBSzRJLE1BQVFpakUsRUFBT3B0QixXQU10Qmo3QyxXQUNFLE9BQU94RCxLQUFLNEksT0FzQmhCLFNBQVNrakUsR0FBVWxqRSxHQUNqQixHQUFJQSxhQUFpQjI4QyxvQkFDbkIsT0FBMkMsRUFBUTk4QyxVQUM5QyxHQUFJRyxhQUFpQmdqRSxHQUMxQixPQWxCSixTQUFzQmhqRSxHQUNwQixHQUFJQSxhQUFpQmdqRSxHQUNuQixPQUFvQyxFQUFRaGpFLE1BRTVDLE1BQU0sSUFBSXNDLE1BQ04sK0RBQStEdEMsS0FhNURtakUsQ0FBYW5qRSxHQUVwQixNQUFNLElBQUlzQyxNQUNOLHlEQUF5RHRDLEtBc0NqRSxNQUFhVixHQUFPLFNBQWM3RCxLQUFZQyxHQUM1QyxNQUFNeUMsRUFBK0NoRCxTQUFTeUUsY0FBYyxZQUc1RSxPQUZBekIsRUFBUzBCLFVBQVluRSxFQUFPd1MsT0FBTyxDQUFDQyxFQUFLek4sRUFBRzBOLElBQ3hDRCxFQUFNKzBELEdBQVV4aUUsR0FBS2pGLEVBQVEyUyxFQUFNLEdBQUkzUyxFQUFRLElBQzVDMEMsR0NuRUlpbEUsR0FBaUJsYSxHQUFhN2dELGFDSnJDZzdELEdBQWdCekQsR0FBb0J3RDs7Ozs7Ozs7O0VBd0duQyxNQUFNRSxXQUFrQkQsR0FJN0JsekIsZ0JBQWtCLE1BQU8sYUFFekJoeUMsc0JBQXdCLE9BQU8sS0FFL0IyTCx3QkFTRSxNQUFPLENBTUxnc0IsTUFBTyxDQUNMaDVCLEtBQU0vRixPQU9Sd3NFLEdBQUksQ0FDRnptRSxLQUFNMUMsT0FDTjRGLE1BQU8sUUFTVHdqRSxRQUFTLENBQ1AxbUUsS0FBTTFDLE9BQ040RixNQUFPLFNBU1R5akUsYUFBYyxDQUNaM21FLEtBQU0xQyxPQUNONEYsTUFBTyxjQVVUK3pCLEtBQU0sQ0FDSmozQixLQUFNNG1FLFNBQ050dkQsU0FBVSxpQkFVWnloQixPQUFRLENBQ04vNEIsS0FBTTRtRSxTQUNOdHZELFNBQVUsbUJBVVp1UyxRQUFTLENBQ1A3cEIsS0FBTTFDLE9BQ05nYSxTQUFVLG9CQVVaNGlDLE1BQU94dkMsT0FRUG04RCxrQkFBbUIsQ0FDakI3bUUsS0FBTTBLLE9BQ05raUQsUUFBUSxFQUNSbFMsVUFBVSxHQVVab3NCLGFBQWMsQ0FDWjltRSxLQUFNMEssT0FDTjRNLFNBQVUsd0JBZVp5dkQsZ0JBQWlCLENBQ2YvbUUsS0FBTTBLLE9BQ054SCxNQUFPLElBR1Q4akUsaUJBQWtCLENBQ2hCaG5FLEtBQU0wSyxPQUNOOGhELFNBQVUsd0NBT2hCaDFDLHVCQUNFLE1BQU8sQ0FBRSwyQkFHWDFaLGNBQ0U0SCxRQUNBcEwsS0FBSzJzRSxZQUFjLEdBQ25CM3NFLEtBQUs0c0UsUUFBVXgxRCxFQUFBQSxFQUNmcFgsS0FBSzZzRSxPQUFTLEdBQ2Q3c0UsS0FBSzhzRSxrQkFBb0IsS0FDekI5c0UsS0FBSytzRSxvQkFBc0IsR0FDM0Ivc0UsS0FBS2d0RSxhQUFlLEtBQ3BCaHRFLEtBQUtpdEUsZ0JBQWtCLEtBQ3ZCanRFLEtBQUtrdEUsU0FBVyxLQUNoQmx0RSxLQUFLbXRFLFdBQWEsS0FDbEJudEUsS0FBS290RSxlQUFpQixLQUV0QnB0RSxLQUFLcXRFLE9BQVMsS0FDZHJ0RSxLQUFLc3RFLGNBQWUsRUFDcEJ0dEUsS0FBSytHLFNBQVcsS0FPbEJ2RCx1QkFDRTRILE1BQU0rVix1QkFDTm5oQixLQUFLc3RFLGNBQWUsRUFDcEIsSUFBSyxJQUFJOXNFLEVBQUUsRUFBR0EsRUFBRVIsS0FBSzJzRSxZQUFZaHNFLE9BQVFILElBQ3ZDUixLQUFLdXRFLGlCQUFpQi9zRSxHQVExQmdELG9CQU1FLEdBTEE0SCxNQUFNbU4sb0JBRUp2WSxLQUFLZ1AsTUFBTWs3RCxRQUFVLE9BR25CbHFFLEtBQUtzdEUsYUFBYyxDQUNyQnR0RSxLQUFLc3RFLGNBQWUsRUFDcEIsSUFBSUUsRUFBZ0J4dkIsR0FBS0EsR0FBS2grQyxNQUFNZ0csWUFDcEMsSUFBSyxJQUFJeEYsRUFBRSxFQUFHQSxFQUFFUixLQUFLMnNFLFlBQVloc0UsT0FBUUgsSUFDdkNSLEtBQUt5dEUsaUJBQWlCanRFLEVBQUdndEUsSUFLL0JocUUsc0JBSUUsSUFBS3hELEtBQUtxdEUsT0FBUSxDQUNoQixJQUFJdG1FLEVBQVcvRyxLQUFLK0csU0FBOEMvRyxLQUFLMFAsY0FBYyxZQUNyRixJQUFLM0ksRUFBVSxDQUViLElBQUlpVyxFQUFXLElBQUlrUyxpQkFBaUIsS0FDbEMsSUFBSWx2QixLQUFLMFAsY0FBYyxZQUlyQixNQUFNLElBQUl4RSxNQUFNLDBDQUhoQjhSLEVBQVM0UixhQUNUNXVCLEtBQUswdEUsYUFNVCxPQURBMXdELEVBQVN1UyxRQUFRdnZCLEtBQU0sQ0FBQ3d2QixXQUFXLEtBQzVCLEVBR1QsSUFBSSs1QyxFQUFnQixHQUNwQkEsRUFBY3ZwRSxLQUFLbXNFLEtBQU0sRUFDekI1QyxFQUFjdnBFLEtBQUtvc0UsVUFBVyxFQUM5QjdDLEVBQWN2cEUsS0FBS3FzRSxlQUFnQixFQUNuQ3JzRSxLQUFLcXRFLE9BQVM5QyxHQUFXeGpFLEVBQVUvRyxLQUFNLENBQ3ZDb29FLFlBQWFwb0UsS0FBS29vRSxZQUNsQndCLGFBQWEsRUFDYkwsY0FBZUEsRUFNZkMsZ0JBQWlCLFNBQVMxNUQsRUFBTWxILEdBQzlCLElBQUkra0UsRUFBSzN0RSxLQUFLMnNFLFlBQ2QsSUFBSyxJQUFTbndCLEVBQUxoOEMsRUFBRSxFQUFVQSxFQUFFbXRFLEVBQUdodEUsU0FBWTY3QyxFQUFLbXhCLEVBQUdudEUsSUFBS0EsSUFDakRnOEMsRUFBS2d0QixnQkFBZ0IxNUQsRUFBTWxILElBUy9CNmhFLG1CQUFvQixTQUFTanVCLEVBQU0xc0MsRUFBTWxILEdBQ3ZDLEkzQnBRYzh4QyxFMkJvUUYxNkMsS0FBS21zRSxPM0JwUUc5dEQsRTJCb1FDdk8sSTNCbFF0QnN1QyxHQUFXMUQsRUFBTXI4QixJQUNqQmdnQyxHQUFhM0QsRUFBTXI4QixHMkJpUVUsQ0FDMUIsSUFBSXJILEVBQU13bEMsRUFBS3g4QyxLQUFLcXNFLGNBQ2hCdjhELEdBQVE5UCxLQUFLbXNFLEtBQ2Zuc0UsS0FBSzArQixNQUFNMW5CLEdBQU9wTyxHQUVwQixJQUFJeVYsRUFBT2lnQyxHQUFVdCtDLEtBQUttc0UsR0FBSSxHQUFHdDhELDBCQUEwQixRQUFTN1AsU0FBU2dYLElBQU9sSCxHQUNwRjlQLEtBQUs4bkQsV0FBV3pwQyxFQUFNelYsRzNCMVEzQixJQUFpQjh4QyxFQUFNcjhCLEsyQitRMUIsT0FBTyxFQUdUN2Esa0JBTUUsT0FBT3hELEtBQUsyc0QsV0FBVzdHLGFBQWU5bEQsS0FBSzJzRCxXQUc3Q25wRCw0QkFBNEJvcUUsR0FDMUIsR0FBb0MsaUJBQXpCQSxFQUFtQyxDQUM1QyxJQUFJaG9CLEVBQWFnb0IsRUFDYmowQixFQUFNMzVDLEtBQUs2dEUsa0JBQ2YsT0FBTyxXQUFhLE9BQU9sMEIsRUFBSWlNLEdBQVkva0QsTUFBTTg0QyxFQUFLajVDLFlBR3hELE9BQU9rdEUsRUFHVHBxRSxjQUFjbTVCLEdBQ1ozOEIsS0FBS2t0RSxTQUFXbHRFLEtBQUs4dEUsNEJBQTRCbnhDLEdBQzdDMzhCLEtBQUswK0IsT0FBUzErQixLQUFLK3RFLGlCQUFpQi90RSxLQUFLMHRFLFVBRy9DbHFFLGdCQUFnQmk3QixHQUNkeitCLEtBQUttdEUsV0FBYW50RSxLQUFLOHRFLDRCQUE0QnJ2QyxHQUMvQ3orQixLQUFLMCtCLE9BQVMxK0IsS0FBSyt0RSxpQkFBaUIvdEUsS0FBSzB0RSxVQUcvQ2xxRSxtQkFBbUJ3cUUsR0FDakIsT0FBTy9xRSxLQUFLZ3JFLEtBQUssSUFBS0QsR0FHeEJ4cUUsdUJBQ014RCxLQUFLd3NFLGVBQ1B4c0UsS0FBSzRzRSxRQUFVNXNFLEtBQUt3c0UsYUFDcEJ4c0UsS0FBS2d0RSxhQUFlaHRFLEtBQUt3c0UsYUFDekJ4c0UsS0FBS2l0RSxnQkFBa0JpQixZQUFZQyxPQUl2QzNxRSxtQkFHTXhELEtBQUswK0IsT0FBUzErQixLQUFLNHNFLFFBQVU1c0UsS0FBSzArQixNQUFNLzlCLFFBQzFDWCxLQUFLK3RFLGlCQUFpQi90RSxLQUFLb3VFLHNCQUkvQjVxRSx1QkFDRTRqQixzQkFBc0IsSUFBSXBuQixLQUFLcXVFLGlCQUdqQzdxRSxnQkFJRSxJQUFJOHFFLEVBQWdCSixZQUFZQyxNQUM1QkksRUFBUXZ1RSxLQUFLMHNFLGtCQUFvQjRCLEVBQWdCdHVFLEtBQUtpdEUsaUJBQzFEanRFLEtBQUtndEUsYUFBZS9wRSxLQUFLOG5CLE1BQU0vcUIsS0FBS2d0RSxhQUFldUIsSUFBVSxFQUM3RHZ1RSxLQUFLNHNFLFNBQVc1c0UsS0FBS2d0RSxhQUNyQmh0RSxLQUFLaXRFLGdCQUFrQnFCLEVBQ3ZCdHVFLEtBQUsrdEUsaUJBQWlCL3RFLEtBQUswdEUsVUFHN0JscUUsbUJBQ0V4RCxLQUFLb3RFLGVBQWlCcHRFLEtBQUt1dkIsU0FDekJ2dkIsS0FBS3V2QixRQUFRMGYsUUFBUSxLQUFNLEtBQUt6cEMsTUFBTSxLQUcxQ2hDLGVBQWVnckUsR0FDVHh1RSxLQUFLMCtCLFFBQVUvK0IsTUFBTW1KLFFBQVE5SSxLQUFLMCtCLFFBQ3BDeHdCLFFBQVFDLEtBQUssK0NBQWdEbk8sS0FBSzArQixPQUkvRDErQixLQUFLeXVFLGlCQUFpQkQsRUFBT253RCxLQUFNbXdELEVBQU81bEUsU0FHN0M1SSxLQUFLMHVFLHVCQUNMMXVFLEtBQUsrdEUsaUJBQWlCL3RFLEtBQUswdEUsV0FJL0JscUUsc0JBQXNCNmEsR0FFcEIsR0FBSXJlLEtBQUtrdEUsVUFBWWx0RSxLQUFLbXRFLFdBQ3hCLEdBQUs5dUQsR0FHRSxHQUFJcmUsS0FBS290RSxlQUFnQixDQUU5QixJQUFJdUIsRUFBUTN1RSxLQUFLb3RFLGVBQ2pCLElBQUssSUFBSTVzRSxFQUFFLEVBQUdBLEVBQUVtdUUsRUFBTWh1RSxPQUFRSCxJQUNHLElBQTNCNmQsRUFBS3ZZLFFBQVE2b0UsRUFBTW51RSxLQUNyQlIsS0FBSyt0RSxpQkFBaUIvdEUsS0FBSzB0RSxTQUFVMXRFLEtBQUs0L0MsYUFOOUM1L0MsS0FBSyt0RSxpQkFBaUIvdEUsS0FBSzB0RSxTQUFVMXRFLEtBQUs0L0MsT0FpQmhEcDhDLGlCQUFpQnVhLEVBQUk2aEMsRUFBUSxHQUMzQjUvQyxLQUFLOHNFLGtCQUFvQjNZLEdBQVVtRSxTQUM3QnQ0RCxLQUFLOHNFLGtCQUNMbHRCLEVBQVEsRUFBSUYsR0FBUUMsTUFBTUMsR0FBU0csR0FDbkNoaUMsRUFBR29SLEtBQUtudkIsT0FDZDgwRCxHQUFpQjkwRCxLQUFLOHNFLG1CQVd4QnRwRSxTQUVFeEQsS0FBSyt0RSxpQkFBaUIvdEUsS0FBSzB0RSxVQUMzQnpZLEtBR0Z6eEQsV0FDT3hELEtBQUs0dUUsd0JBSVY1dUUsS0FBSzZ1RSxxQkFNTDd1RSxLQUFLNnNFLE9BQU9sc0UsT0FBUyxFQUVyQlgsS0FBSzh1RSxzQkFBc0I5dUUsS0FBSzJzRSxZQUFZaHNFLFFBRTVDWCxLQUFLa2YsY0FBYyxJQUFJa2hCLFlBQVksYUFBYyxDQUMvQ3hoQixTQUFTLEVBQ1RDLFVBQVUsS0FHWjdlLEtBQUsrdUUsb0JBR1B2ckUscUJBQ0UsSUFBSWs3QixFQUFRMStCLEtBQUswK0IsT0FBUyxHQUN0QnN3QyxFQUFvQixJQUFJcnZFLE1BQU0rK0IsRUFBTS85QixRQUN4QyxJQUFLLElBQUlILEVBQUUsRUFBR0EsRUFBRWsrQixFQUFNLzlCLE9BQVFILElBQzVCd3VFLEVBQWtCeHVFLEdBQUtBLEVBR3JCUixLQUFLbXRFLGFBQ1A2QixFQUFvQkEsRUFBa0J2d0MsT0FBTyxDQUFDaitCLEVBQUd3VyxFQUFLNjBDLElBQ3BEN3JELEtBQUttdEUsV0FBV3p1QyxFQUFNbCtCLEdBQUl3VyxFQUFLNjBDLEtBRy9CN3JELEtBQUtrdEUsVUFDUDhCLEVBQWtCcnlDLEtBQUssQ0FBQzBvQixFQUFHOWxELElBQU1TLEtBQUtrdEUsU0FBU3h1QyxFQUFNMm1CLEdBQUkzbUIsRUFBTW4vQixLQUdqRSxNQUFNMHZFLEVBQW9CanZFLEtBQUsrc0Usb0JBQXNCLEdBQ3JELElBQUltQyxFQUFVLEVBRWQsTUFBTUMsRUFBUWxzRSxLQUFLbTZCLElBQUk0eEMsRUFBa0JydUUsT0FBUVgsS0FBSzRzRSxTQUN0RCxLQUFPc0MsRUFBUUMsRUFBT0QsSUFBVyxDQUMvQixJQUFJMXlCLEVBQU94OEMsS0FBSzJzRSxZQUFZdUMsR0FDeEJFLEVBQVVKLEVBQWtCRSxHQUM1QnBrRSxFQUFPNHpCLEVBQU0wd0MsR0FDakJILEVBQWtCRyxHQUFXRixFQUN6QjF5QixHQUNGQSxFQUFLOEUsb0JBQW9CdGhELEtBQUttc0UsR0FBSXJoRSxHQUNsQzB4QyxFQUFLOEUsb0JBQW9CdGhELEtBQUtvc0UsUUFBUzhDLEdBQ3ZDMXlCLEVBQUs4RSxvQkFBb0J0aEQsS0FBS3FzRSxhQUFjK0MsR0FDNUM1eUIsRUFBSzZFLG9CQUVMcmhELEtBQUtxdkUsaUJBQWlCdmtFLEVBQU1va0UsRUFBU0UsR0FJekMsSUFBSyxJQUFJNXVFLEVBQUVSLEtBQUsyc0UsWUFBWWhzRSxPQUFPLEVBQUdILEdBQUcwdUUsRUFBUzF1RSxJQUNoRFIsS0FBS3N2RSwwQkFBMEI5dUUsR0FJbkNnRCxpQkFBaUJ3VCxHQUNmLElBQUl3bEMsRUFBT3g4QyxLQUFLMnNFLFlBQVkzMUQsR0FDNUIsTUFBTXU0RCxFQUFjdnhCLEdBQUt4QixFQUFLOXFCLE1BQzlCLElBQUssSUFBSWx4QixFQUFFLEVBQUdBLEVBQUVnOEMsRUFBS3p0QixTQUFTcHVCLE9BQVFILElBQUssQ0FDekMsSUFBSXVnQyxFQUFLeWIsRUFBS3p0QixTQUFTdnVCLEdBQ3ZCK3VFLEVBQVkxbEUsWUFBWWszQixHQUUxQixPQUFPeWIsRUFHVGg1QyxpQkFBaUJ3VCxFQUFLalIsR0FDcEIsSUFBSXkyQyxFQUFPeDhDLEtBQUsyc0UsWUFBWTMxRCxHQUU1QmpSLEVBQU9PLGFBQWFrMkMsRUFBSzlxQixLQUFNMXhCLE1BR2pDd0QsMEJBQTBCd1QsR0FDeEIsSUFBSXdsQyxFQUFPeDhDLEtBQUt1dEUsaUJBQWlCdjJELEdBQzdCd2xDLEdBQ0Z4OEMsS0FBSzZzRSxPQUFPcG5FLEtBQUsrMkMsR0FFbkJ4OEMsS0FBSzJzRSxZQUFZMStDLE9BQU9qWCxFQUFLLEdBRy9CeFQsZ0JBQWdCc0gsRUFBTW9rRSxFQUFTRSxHQUM3QixJQUFJdHNCLEVBQVEsR0FJWixPQUhBQSxFQUFNOWlELEtBQUttc0UsSUFBTXJoRSxFQUNqQmc0QyxFQUFNOWlELEtBQUtvc0UsU0FBVzhDLEVBQ3RCcHNCLEVBQU05aUQsS0FBS3FzRSxjQUFnQitDLEVBQ3BCLElBQUlwdkUsS0FBS3F0RSxPQUFPdnFCLEdBR3pCdC9DLGlCQUFpQnNILEVBQU1va0UsRUFBU0UsR0FDOUIsSUFBSTV5QixFQUFPeDhDLEtBQUs2c0UsT0FBT3JtRSxNQUNuQmcyQyxHQUdGQSxFQUFLOEUsb0JBQW9CdGhELEtBQUttc0UsR0FBSXJoRSxHQUNsQzB4QyxFQUFLOEUsb0JBQW9CdGhELEtBQUtvc0UsUUFBUzhDLEdBQ3ZDMXlCLEVBQUs4RSxvQkFBb0J0aEQsS0FBS3FzRSxhQUFjK0MsR0FDNUM1eUIsRUFBSzZFLG9CQUVMN0UsRUFBT3g4QyxLQUFLd3ZFLGdCQUFnQjFrRSxFQUFNb2tFLEVBQVNFLEdBRTdDLElBQUlLLEVBQVl6dkUsS0FBSzJzRSxZQUFZdUMsRUFBVSxHQUN2Q1EsRUFBYUQsRUFBWUEsRUFBVTFnRCxTQUFTLEdBQUsvdUIsS0FHckQsT0FGQWcrQyxHQUFLQSxHQUFLaCtDLE1BQU1nRyxZQUFZTSxhQUFhazJDLEVBQUs5cUIsS0FBTWcrQyxHQUNwRDF2RSxLQUFLMnNFLFlBQVl1QyxHQUFXMXlCLEVBQ3JCQSxFQWFUaDVDLGtCQUFrQm1zRSxHQUNoQixJQUFLLElBQUludkUsRUFBRSxFQUFHQSxFQUFFUixLQUFLMnNFLFlBQVloc0UsT0FBUUgsSUFDdkNSLEtBQUsyc0UsWUFBWW5zRSxHQUFHNm9FLGtCQUFrQnNHLEdBTTFDbnNFLGlCQUFpQjZhLEVBQU16VixHQUNyQixJQUFJZ25FLEVBQVl2eEQsRUFBS2xiLE1BQU0sR0FDdkIwc0UsRUFBTUQsRUFBVTlwRSxRQUFRLEtBQ3hCZ3FFLEVBQVdELEVBQU0sRUFBSUQsRUFBWUEsRUFBVTdnQyxVQUFVLEVBQUc4Z0MsR0FFNUQsR0FBSUMsR0FBWUMsU0FBU0QsRUFBVSxJQUFLLENBQ3RDLElBQUlFLEVBQWNILEVBQU0sRUFBSSxHQUFLRCxFQUFVN2dDLFVBQVU4Z0MsRUFBSSxHQUV6RDd2RSxLQUFLaXdFLHNCQUFzQkQsR0FLM0IsSUFBSWQsRUFBVWx2RSxLQUFLK3NFLG9CQUFvQitDLEdBQ25DdHpCLEVBQU94OEMsS0FBSzJzRSxZQUFZdUMsR0FDNUIsR0FBSTF5QixFQUFNLENBQ1IsSUFBSTB6QixFQUFXbHdFLEtBQUttc0UsSUFBTTZELEVBQWMsSUFBTUEsRUFBYyxJQUc1RHh6QixFQUFLa04sMEJBQTBCd21CLEVBQVV0bkUsR0FBTyxHQUFPLEdBQ3ZENHpDLEVBQUs2RSxtQkFFUCxPQUFPLEdBZVg3OUMsZUFBZXU5QixHQUNiLElBQUlyMkIsRUFBVzFLLEtBQUttd0UsZ0JBQWdCcHZDLEdBQ3BDLE9BQU9yMkIsR0FBWUEsRUFBUzFLLEtBQUttc0UsSUFZbkMzb0UsZ0JBQWdCdTlCLEdBQ2QsSUFBSXIyQixFQUFXMUssS0FBS213RSxnQkFBZ0JwdkMsR0FDcEMsT0FBT3IyQixHQUFZQSxFQUFTMUssS0FBS29zRSxTQW9CbkM1b0UsZ0JBQWdCdTlCLEdBQ2QsT0o5SEcsU0FBeUJoNkIsRUFBVXhDLEdBQ3hDLElBQUl1K0MsRUFDSixLQUFPditDLEdBSUwsR0FBS3UrQyxFQUFRditDLEVBQUsya0UscUJBQXVCLENBR3ZDLEdBQUlwbUIsRUFBTTZKLFlBQWM1bEQsRUFHdEIsT0FBTys3QyxFQUZQditDLEVBQU91K0MsRUFBTTZKLGdCQU9mcG9ELEVBQU95NUMsR0FBS3o1QyxHQUFNeUIsV0FHdEIsT0FBTzs7Ozs7Ozs7O0VJMEdFbXFFLENBQWdCbndFLEtBQUsrRyxTQUFVZzZCLElBSzFDMStCLGVBQWU0UyxPQUFPaTNELEdBQVVuekIsR0FBSW16Qjs7Ozs7Ozs7OztBQ3ZyQjdCLE1BQU1rRSxXQUFjcEUsR0FJekJqekIsZ0JBQWtCLE1BQU8sU0FFekJoeUMsc0JBQXdCLE9BQU8sS0FFL0IyTCx3QkFFRSxNQUFPLENBYUwyOUQsR0FBSSxDQUNGM3FFLEtBQU11SyxRQUNOK00sU0FBVSxvQkFVWnN6RCxRQUFTLENBQ1A1cUUsS0FBTXVLLFFBQ04rTSxTQUFVLHFCQU9oQnhaLGNBQ0U0SCxRQUNBcEwsS0FBSzhzRSxrQkFBb0IsS0FDekI5c0UsS0FBS3V3RSxlQUFpQixLQUN0QnZ3RSxLQUFLd3dFLFdBQWEsS0FDbEJ4d0UsS0FBS3l3RSxTQUFVLEVBQ2Z6d0UsS0FBS3F0RSxPQUFTLEtBQ2RydEUsS0FBS29wRSwwQkFBMkIsRUFHbEM1bEUsbUJBaUJFeEQsS0FBSzhzRSxrQkFBb0IzWSxHQUFVbUUsU0FDN0J0NEQsS0FBSzhzRSxrQkFDTC9zQixHQUNBLElBQU0vL0MsS0FBSzB0RSxZQUNqQjVZLEdBQWlCOTBELEtBQUs4c0UsbUJBT3hCdHBFLHVCQUNFNEgsTUFBTStWLHVCQUNOLE1BQU1wYixFQUFTaTRDLEdBQUtoK0MsTUFBTWdHLFdBQ3JCRCxJQUFXQSxFQUFPdEIsVUFBWTBGLEtBQUt3bkIsd0JBQ25DcXNCLEdBQUtqNEMsR0FBUThTLE9BQ2hCN1ksS0FBSzB3RSxxQkFRVGx0RSxvQkFDRTRILE1BQU1tTixvQkFFSnZZLEtBQUtnUCxNQUFNazdELFFBQVUsT0FFbkJscUUsS0FBS3F3RSxJQUNQcndFLEtBQUsrdEUsbUJBWVR2cUUsU0FDRXl4RCxLQUdGenhELFdBQ0UsR0FBSXhELEtBQUtxd0UsR0FBSSxDQUNYLElBQUtyd0UsS0FBSzJ3RSxtQkFFUixPQUVGM3dFLEtBQUtxcEUseUJBQ0lycEUsS0FBS3N3RSxTQUNkdHdFLEtBQUswd0Usc0JBRUYxd0UsS0FBS3N3RSxTQUFXdHdFLEtBQUt3d0UsWUFDeEJ4d0UsS0FBS3FwRSxvQkFFSHJwRSxLQUFLcXdFLElBQU1yd0UsS0FBS3l3RSxVQUNsQnp3RSxLQUFLa2YsY0FBYyxJQUFJa2hCLFlBQVksYUFBYyxDQUMvQ3hoQixTQUFTLEVBQ1RDLFVBQVUsS0FFWjdlLEtBQUt5d0UsUUFBVXp3RSxLQUFLcXdFLElBSXhCN3NFLG1CQUNFLElBQUl3QyxFQUFhZzRDLEdBQUtoK0MsTUFBTWdHLFdBRTVCLEdBQUlBLEVBQVksQ0FDZCxJQUFLaEcsS0FBS3F0RSxPQUFRLENBQ2hCLElBQUl0bUUsRUFBOENpM0MsR0FBS2grQyxNQUFNMFAsY0FBYyxZQUMzRSxJQUFLM0ksRUFBVSxDQUViLElBQUlpVyxFQUFXLElBQUlrUyxpQkFBaUIsS0FDbEMsSUFBSTh1QixHQUFLaCtDLE1BQU0wUCxjQUFjLFlBSTNCLE1BQU0sSUFBSXhFLE1BQU0sc0NBSGhCOFIsRUFBUzRSLGFBQ1Q1dUIsS0FBSzB0RSxhQU1ULE9BREExd0QsRUFBU3VTLFFBQVF2dkIsS0FBTSxDQUFDd3ZCLFdBQVcsS0FDNUIsRUFFVHh2QixLQUFLcXRFLE9BQVM5QyxHQUFXeGpFLEVBQVUvRyxLQUFNLENBR3ZDb29FLGFBQWEsRUFNYm9CLGdCQUFpQixTQUFTMTVELEVBQU1sSCxHQUMxQjVJLEtBQUt3d0UsYUFDSHh3RSxLQUFLcXdFLEdBQ1Byd0UsS0FBS3d3RSxXQUFXaEgsZ0JBQWdCMTVELEVBQU1sSCxJQU10QzVJLEtBQUt1d0UsZUFBaUJ2d0UsS0FBS3V3RSxnQkFBa0Ivd0UsT0FBT1csT0FBTyxNQUMzREgsS0FBS3V3RSxlQUFlNytDLEdBQUs1aEIsS0FBUyxPQU01QyxHQUFLOVAsS0FBS3d3RSxXQUdILENBQ0x4d0UsS0FBSzR3RSx1QkFDTCxJQUFJblAsRUFBS3poRSxLQUFLd3dFLFdBQVd6aEQsU0FDekIsR0FBSTB5QyxHQUFNQSxFQUFHOWdFLE9BQVEsQ0FHbkIsR0FEZ0JxOUMsR0FBS2grQyxNQUFNdUcsa0JBQ1RrN0QsRUFBR0EsRUFBRzlnRSxPQUFPLEdBQzdCLElBQUssSUFBU0YsRUFBTEQsRUFBRSxFQUFPQSxFQUFFaWhFLEVBQUc5Z0UsU0FBWUYsRUFBRWdoRSxFQUFHamhFLElBQUtBLElBQzNDdzlDLEdBQUtoNEMsR0FBWU0sYUFBYTdGLEVBQUdULFlBVnZDQSxLQUFLd3dFLFdBQWEsSUFBSXh3RSxLQUFLcXRFLE9BQzNCcnZCLEdBQUtoNEMsR0FBWU0sYUFBYXRHLEtBQUt3d0UsV0FBVzkrQyxLQUFNMXhCLE1BZXhELE9BQU8sRUFHVHdELHVCQUNFLElBQUlpUCxFQUFRelMsS0FBS3V3RSxlQUNqQixHQUFJOTlELEVBQU8sQ0FDVCxJQUFLLElBQUkzQyxLQUFRMkMsRUFDZnpTLEtBQUt3d0UsV0FBV2x2QixvQkFBb0J4eEMsRUFBTTlQLEtBQUsyc0QsV0FBVzc4QyxJQUU1RDlQLEtBQUt1d0UsZUFBaUIsS0FDdEJ2d0UsS0FBS3d3RSxXQUFXbnZCLG9CQUlwQjc5QyxxQkFDRSxHQUFJeEQsS0FBS3d3RSxXQUFZLENBQ25CLElBQUkvTyxFQUFLemhFLEtBQUt3d0UsV0FBV3poRCxTQUN6QixHQUFJMHlDLEdBQU1BLEVBQUc5Z0UsT0FBUSxDQUVuQixJQUFJb0YsRUFBU2k0QyxHQUFLeWpCLEVBQUcsSUFBSXo3RCxXQUd6QixHQUFJRCxFQUFRLENBQ1ZBLEVBQVNpNEMsR0FBS2o0QyxHQUNkLElBQUssSUFBU3RGLEVBQUxELEVBQUUsRUFBT0EsRUFBRWloRSxFQUFHOWdFLFNBQVlGLEVBQUVnaEUsRUFBR2poRSxJQUFLQSxJQUMzQ3VGLEVBQU9uRCxZQUFZbkMsSUFJekJULEtBQUt3d0UsV0FBYSxLQUNsQnh3RSxLQUFLdXdFLGVBQWlCLE1BWTFCL3NFLG9CQUNFLElBQUltc0UsRUFBUzN2RSxLQUFLb3BFLDJCQUE2QnBwRSxLQUFLcXdFLEdBQ2hEcndFLEtBQUt3d0UsWUFDUHh3RSxLQUFLd3dFLFdBQVduSCxrQkFBa0JzRyxJQU14Q3R0RSxlQUFlNFMsT0FBT203RCxHQUFNcjNCLEdBQUlxM0I7Ozs7Ozs7Ozs7QUNoUWhDLElBMlRJUyxHQTNUcUIxMUIsR0FBYytFLElBT3JDLElBQUlvZCxFQUFjeEwsR0FBYTVSLEdBdVMvQixPQS9SQSxjQUFpQ29kLEVBRS9CNXFELHdCQUNFLE1BQU8sQ0FLTGdzQixNQUFPLENBQ0xoNUIsS0FBTS9GLE9BUVJvK0IsTUFBTyxDQUNMcjRCLEtBQU11SyxRQUNOckgsT0FBTyxHQVNUaTJCLFNBQVUsQ0FBQ241QixLQUFNbEcsT0FBUTh5RCxRQUFRLEdBT2pDd2UsYUFBYyxDQUFDcHJFLEtBQU1sRyxPQUFROHlELFFBQVEsR0FNckN6bEIsT0FBUSxDQUFDbm5DLEtBQU11SyxRQUFTckgsT0FBTyxJQUtuQ3NVLHVCQUNFLE1BQU8sQ0FBQyxxQ0FHVjFaLGNBQ0U0SCxRQUNBcEwsS0FBSyt3RSxZQUFjLEtBQ25CL3dFLEtBQUtneEUsWUFBYyxLQUNuQmh4RSxLQUFLaXhFLGNBQWdCLEtBR3ZCenRFLGtCQUFrQnU2QixFQUFPbXpDLEdBQ3ZCLElBQUk3eUQsRUFBTzZ5RCxFQUFVN3lELEtBQ3JCLEdBQUlBLEdBQVF4TywwQkFBMEIsUUFBUzdQLE1BQU8sQ0FHcEQsSUFBSW14RSxFQUFXRCxFQUFVeDJCLE1BQVEsR0FDN0IwMkIsRUFBWXB4RSxLQUFLK3dFLFlBS3JCLEdBSEloekMsSUFEWS85QixLQUFLZ3hFLGFBRW5CaHhFLEtBQUtxeEUsaUJBRUhELEVBQVcsQ0FDYixJQUFJdGxCLEVBQVV5VCxHQUFpQjRSLEVBQVVDLEdBQ3pDcHhFLEtBQUtzeEUsZUFBZXhsQixHQUV0QjlyRCxLQUFLK3dFLFlBQWNJLEVBQ25CbnhFLEtBQUtneEUsWUFBY2p6QyxPQUNkLEdBQUltekMsRUFBVTd5RCxNQUFRLEdBQUd4TywwQkFBMEIsUUFBUzdQLGdCQUdqRUEsS0FBS3N4RSxlQUFlSixFQUFVdG9FLE1BQU1takQsa0JBQy9CLENBR0wsSUFBSW5sRCxFQUFPeVgsRUFBS2xiLE1BQU0sR0FBRzBNLDBCQUEwQixRQUFTN1AsU0FBU1csUUFDakVxVyxFQUFNKzRELFNBQVNucEUsRUFBTSxJQUNwQkEsRUFBS2QsUUFBUSxLQUFPLEdBQU1jLEdBQVFvUSxHQUNyQ2hYLEtBQUt1eEUscUJBQXFCdjZELElBS2hDeFQsZUFBZXNvRCxHQUNiLElBQUlqdEIsRUFBVzcrQixLQUFLaXhFLGNBRXBCLElBQUssSUFBSXp3RSxFQUFFLEVBQUdBLEVBQUVzckQsRUFBUW5yRCxPQUFRSCxJQUFLLENBQ25DLElBQUlELEVBQUl1ckQsRUFBUXRyRCxHQUNoQnErQixFQUFTbnhCLFFBQVEsQ0FBQ3NKLEVBQUtsTSxLQUNqQmtNLEVBQU16VyxFQUFFNEQsUUFFRDZTLEdBQU96VyxFQUFFNEQsTUFBUTVELEVBQUVrOEIsUUFBUTk3QixPQUVwQ2srQixFQUFTLzhCLElBQUlnSixFQUFNa00sRUFBTXpXLEVBQUUwckQsV0FBYTFyRCxFQUFFazhCLFFBQVE5N0IsUUFHbERrK0IsRUFBUy84QixJQUFJZ0osR0FBTyxNQUd4QixJQUFLLElBQUl5akIsRUFBRSxFQUFHQSxFQUFFaHVCLEVBQUUwckQsV0FBWTE5QixJQUFLLENBQ2pDLElBQUl2WCxFQUFNelcsRUFBRTRELE1BQVFvcUIsRUFDaEJzUSxFQUFTNThCLElBQUlqQyxLQUFLMCtCLE1BQU0xbkIsS0FDMUI2bkIsRUFBUy84QixJQUFJOUIsS0FBSzArQixNQUFNMW5CLEdBQU1BLElBS3BDaFgsS0FBS3d4RSxnQkFFTCxJQUFJQyxFQUFPLEVBQ1g1eUMsRUFBU254QixRQUFRLENBQUNzSixFQUFLbE0sS0FDakJrTSxFQUFNLEdBQ0poWCxLQUFLKzlCLE1BQ1AvOUIsS0FBS2l1QixPQUFPcGUsMEJBQTBCLFdBQVk3UCxNQUFPeXhFLEVBQU0sR0FFL0R6eEUsS0FBSzYrQixTQUFXNytCLEtBQUs4d0UsYUFBZSxLQUV0Q2p5QyxFQUFTMWxCLE9BQU9yTyxJQUVoQjJtRSxNQUtOanVFLGdCQUVFLEdBREF4RCxLQUFLeXNELGtCQUFvQixHQUNyQnpzRCxLQUFLKzlCLE1BQU8sQ0FDZCxJQUFJMHpDLEVBQU8sRUFDWHp4RSxLQUFLaXhFLGNBQWN2akUsUUFBUXNKLElBQ3JCQSxHQUFPLEdBQ1RoWCxLQUFLMHhFLFVBQ0QsR0FBRzdoRSwwQkFBMEIsUUFBUzdQLFNBQVNnWCxJQUMvQyxHQUFHbkgsMEJBQTBCLFdBQVk3UCxTQUFTeXhFLGNBSTFEenhFLEtBQUtpeEUsY0FBY3ZqRSxRQUFRc0osSUFDekJoWCxLQUFLMHhFLFVBQ0Q3aEUsMEJBQTBCLFdBQVk3UCxNQUN0QyxHQUFHNlAsMEJBQTBCLFFBQVM3UCxTQUFTZ1gsS0FDbkRoWCxLQUFLMHhFLFVBQ0Q3aEUsMEJBQTBCLGVBQWdCN1AsTUFDMUMsR0FBRzZQLDBCQUEwQixRQUFTN1AsU0FBU2dYLE9BVXpEeFQsaUJBRUV4RCxLQUFLeXNELGtCQUFvQixHQUt6QnpzRCxLQUFLaXhFLGNBQWdCLElBQUkvakUsSUFFekJsTixLQUFLNitCLFNBQVc3K0IsS0FBSys5QixNQUFRLEdBQUssS0FDbEMvOUIsS0FBSzh3RSxhQUFlLEtBVXRCdHRFLFdBQVdzSCxHQUNULE9BQU85SyxLQUFLaXhFLGNBQWNodkUsSUFBSTZJLEdBVWhDdEgsZ0JBQWdCd1QsR0FDZCxPQUFPaFgsS0FBSzJ4RSxXQUFXM3hFLEtBQUswK0IsTUFBTTFuQixJQUdwQ3hULHFCQUFxQndULEdBQ25CLElBQUl5NkQsRUFBT3p4RSxLQUFLNHhFLDRCQUE0QjU2RCxHQUM1QyxHQUFJeTZELEdBQVEsRUFBRyxDQUNiLElBQUlqeEUsRUFBSSxFQUNSUixLQUFLaXhFLGNBQWN2akUsUUFBUSxDQUFDc0osRUFBS2xNLEtBQzNCMm1FLEdBQVFqeEUsS0FDVlIsS0FBSzZ4RSxTQUFTL21FLE1BTXRCdEgsNEJBQTRCd1QsR0FDMUIsSUFBSTZuQixFQUFXNytCLEtBQUt5c0Qsa0JBQWtCLEdBQUc1OEMsMEJBQTBCLFFBQVM3UCxTQUFTZ1gsS0FDckYsR0FBSTZuQixFQUNGLE9BQU9reEMsU0FBU2x4QyxFQUFTMTdCLE1BQU0sR0FBRzBNLDBCQUEwQixXQUFZN1AsU0FBU1csUUFBUyxJQVc5RjZDLFNBQVNzSCxHQUNQLElBQUlrTSxFQUFNaFgsS0FBS2l4RSxjQUFjbGtFLElBQUlqQyxHQUNqQyxHQUFJa00sR0FBTyxFQUFHLENBRVosSUFBSXk2RCxFQURKenhFLEtBQUtpeEUsY0FBYzkzRCxPQUFPck8sR0FFdEI5SyxLQUFLKzlCLFFBQ1AwekMsRUFBT3p4RSxLQUFLNHhFLDRCQUE0QjU2RCxJQUUxQ2hYLEtBQUt3eEUsZ0JBQ0R4eEUsS0FBSys5QixNQUNQLzlCLEtBQUtpdUIsT0FBT3BlLDBCQUEwQixXQUFZN1AsTUFBT3l4RSxFQUFNLEdBRS9EenhFLEtBQUs2K0IsU0FBVzcrQixLQUFLOHdFLGFBQWUsTUFZMUN0dEUsY0FBY3dULEdBQ1poWCxLQUFLNnhFLFNBQVM3eEUsS0FBSzArQixNQUFNMW5CLElBVzNCeFQsT0FBT3NILEdBQ0w5SyxLQUFLOHhFLFlBQVk5eEUsS0FBSzArQixNQUFNNTRCLFFBQVFnRixJQVd0Q3RILFlBQVl3VCxHQUNWLElBQUlsTSxFQUFPOUssS0FBSzArQixNQUFNMW5CLEdBQ2pCaFgsS0FBSzJ4RSxXQUFXN21FLEdBV1Y5SyxLQUFLNnNDLFFBQ2Q3c0MsS0FBSyt4RSxjQUFjLzZELElBWGRoWCxLQUFLKzlCLE9BQ1IvOUIsS0FBS2l4RSxjQUFjM21FLFFBRXJCdEssS0FBS2l4RSxjQUFjbnZFLElBQUlnSixFQUFNa00sR0FDN0JoWCxLQUFLd3hFLGdCQUNEeHhFLEtBQUsrOUIsTUFDUC85QixLQUFLeUYsS0FBS29LLDBCQUEwQixXQUFZN1AsTUFBTzhLLEdBRXZEOUssS0FBSzYrQixTQUFXNytCLEtBQUs4d0UsYUFBZWhtRSxNQXNCdEJrbkUsQ0FBbUJoRyxJQTRFM0MsTUFBTWlHLFdBQXNCcEIsR0FHMUI5M0IsZ0JBQWtCLE1BQU8saUJBQ3pCaHlDLHNCQUF3QixPQUFPLE1BRWpDMUUsZUFBZTRTLE9BQU9nOUQsR0FBY2w1QixHQUFJazVCOzs7Ozs7Ozs7O0FDaGF4QyxNQUFNejVCLEdBQXVCLElBQUlkLEdBRTVCdDFDLE9BQU80TCxXQUNWNUwsT0FBTzRMLFNBQVcsQ0FNaEJ4SyxnQkFBZ0J1RCxFQUFVMnNDLEVBQWErRixLQU12Q2oyQyxtQkFBbUJ1RCxFQUFVMnNDLEtBTzdCbHdDLHNCQUFzQnVELEVBQVUyc0MsRUFBYStGLEtBTTdDajJDLGFBQWFFLEVBQVNnUCxHQUNwQjhsQyxHQUFxQlAsZ0JBQ3JCekYsR0FBdUI5dUMsRUFBU2dQLElBTWxDbFAsYUFBYUUsR0FDWDgwQyxHQUFxQlAsaUJBTXZCejBDLGNBQWNrUCxHQUNaOGxDLEdBQXFCUCxnQkFDckJ6RixHQUF1Qnp1QyxTQUFTa2IsS0FBTXZNLElBUXhDZ2dDLHNCQUFxQixDQUFDaHZDLEVBQVNnUyxJQUN0Qmc5QixHQUFzQmh2QyxFQUFTZ1MsR0FHeENsUyxzQkFDQW1yQyxVQUFXQyxHQUNYai9CLGFBQWNBLEdBQ2Q0K0IsU0FBVUEsR0FDVkcsZUFBZ0JBLEtBSXBCdHNDLE9BQU80TCxTQUFTMHBDLHFCQUF1QmM7Ozs7Ozs7Ozs7QUNwRXZDLE1BRU1kLEdBQXVCdDFDLE9BQU80TCxTQUFTMHBDLHFCQWdEdEMsTUFBTXc2QixXQUFvQmpoRSxZQUMvQnpOLGNBQ0U0SCxRQUNBcEwsS0FBSzI5QyxPQUFTLEtBQ2RqRyxHQUFxQk0sZUFBZWg0QyxNQVV0Q3dELFdBQ0UsR0FBSXhELEtBQUsyOUMsT0FDUCxPQUFPMzlDLEtBQUsyOUMsT0FFZCxNQUFNM3VDLEVBQXdDaFAsS0FBSzBQLGNBQWMsU0FDakUsSUFBS1YsRUFDSCxPQUFPLEtBRVRoUCxLQUFLMjlDLE9BQVMzdUMsRUFDZCxNQUFNdXVDLEVBQVV2dUMsRUFBTTNKLGFBekViLFdBNEZULE9BbEJJazRDLElBQ0Z2dUMsRUFBTTFKLGdCQTNFQyxXQTZFUDBKLEVBQU1DLFlqQ3lGTCxTQUF3Qml1QyxHQUM5QixJQUFJdEIsRUFBVXNCLEVBQVUxUCxPQUFPaG9DLE1BQU0sT0FDakNnUixFQUFVLEdBQ2QsSUFBSyxJQUFJaFcsRUFBRSxFQUFHQSxFQUFJbzdDLEVBQVFqN0MsT0FBUUgsSUFDaENnVyxHQUFXb25DLEdBQWNoQyxFQUFRcDdDLElBRW5DLE9BQU9nVyxFaUMvRmtCMjdELENBQWU1MEIsR0FBV3Z1QyxFQUFNQyxhQVlsRGpQLEtBQUt1OEMsZ0JBQWtCbjZDLE9BQU8yQixVQUNoQzNCLE9BQU8yQixTQUFTK25CLEtBQUtqaUIsWUFBWTdKLE1BRTVCQSxLQUFLMjlDLFFBSWhCdjdDLE9BQU9DLGVBQWU0UyxPQUFPLGVBQWdCaTlEOzs7Ozs7Ozs7O0FDbkZ6QmxQLEdBQW1CL3hELGFBQWEvUTs7Ozs7Ozs7OztFQUFwRCxNQ2lETTZHLEdBQVdtQixFQUFJOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O2lCQWtXckJuQixHQUFTd0MsYUFBYSxRQUFTLGtCQUMvQnhGLFNBQVMrbkIsS0FBS2ppQixZQUFZOUMsR0FBUzlDLFNBRW5DLElBQUkrSyxHQUFRakwsU0FBU3lFLGNBQWMsU0FDbkN3RyxHQUFNQyxZQUFjLHlDQUNwQmxMLFNBQVMrbkIsS0FBS2ppQixZQUFZbUY7Ozs7Ozs7Ozs7QUMxVzFCaXNDLEdBQVEsQ0FDTnNZLFVBQVdyckQsRUFBSTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUE2RGY2d0MsR0FBSSxhQUVKcm1DLFdBQVksQ0FJVjAvRCxJQUFLLENBQUMxc0UsS0FBTTFDLE9BQVE0RixNQUFPLElBSzNCeXBFLElBQUssQ0FBQzNzRSxLQUFNMUMsT0FBUTRGLE1BQU8sTUFNM0IwcEUsWUFBYSxDQUFDNXNFLEtBQU0xQyxPQUFRNEYsTUFBTyxNQU9uQzJwRSxZQUFhLENBQUM3c0UsS0FBTXVLLFFBQVNySCxPQUFPLEdBUXBDNHBFLE9BQVEsQ0FBQzlzRSxLQUFNMUMsT0FBUTRGLE1BQU8sS0FBTXdwRCxvQkFBb0IsR0FNeEQveEMsU0FBVSxDQUFDM2EsS0FBTTFDLE9BQVE0RixNQUFPLFVBTWhDNnBFLFFBQVMsQ0FBQy9zRSxLQUFNdUssUUFBU3JILE9BQU8sR0FPaEMwNkMsWUFBYSxDQUFDNTlDLEtBQU0xQyxPQUFRNEYsTUFBTyxLQUFNb1UsU0FBVSx1QkFNbkQwMUQsS0FBTSxDQUFDaHRFLEtBQU11SyxRQUFTckgsT0FBTyxHQUs3QitwRSxPQUFRLENBQUNyZ0IsUUFBUSxFQUFNbFMsVUFBVSxFQUFNMTZDLEtBQU11SyxRQUFTckgsT0FBTyxHQU03RGdxRSxRQUFTLENBQUN0Z0IsUUFBUSxFQUFNbFMsVUFBVSxFQUFNMTZDLEtBQU11SyxRQUFTckgsT0FBTyxHQUs5RDgrQixNQUFPLENBQUM0cUIsUUFBUSxFQUFNbFMsVUFBVSxFQUFNMTZDLEtBQU11SyxRQUFTckgsT0FBTyxHQU01RDBiLE1BQU8sQ0FBQ3RILFNBQVUsZ0JBQWlCdFgsS0FBTTBLLE9BQVF4SCxNQUFPLE1BVXhEMmIsT0FBUSxDQUFDdkgsU0FBVSxpQkFBa0J0WCxLQUFNMEssT0FBUXhILE1BQU8sT0FHNURzVSxVQUFXLENBQ1Qsc0NBQ0Esd0NBR0YybUQsUUFBUyxXQUNQN2pFLEtBQUs2eUUsYUFBZSxJQUd0QkMsV0FBWSxXQUNOOXlFLEtBQUsybEQsRUFBRW90QixJQUFJWCxNQUFRcHlFLEtBQUtnekUsWUFBWWh6RSxLQUFLb3lFLE9BSTdDcHlFLEtBQUtpekUsYUFBWSxHQUNqQmp6RSxLQUFLa3pFLFlBQVcsR0FDaEJsekUsS0FBS216RSxXQUFVLEtBR2pCQyxZQUFhLFdBQ1BwekUsS0FBSzJsRCxFQUFFb3RCLElBQUlYLE1BQVFweUUsS0FBS2d6RSxZQUFZaHpFLEtBQUtveUUsT0FJN0NweUUsS0FBSzJsRCxFQUFFb3RCLElBQUl6dEUsZ0JBQWdCLE9BQzNCdEYsS0FBSzJsRCxFQUFFMHRCLFlBQVlya0UsTUFBTXNrRSxnQkFBa0IsR0FFM0N0ekUsS0FBS2l6RSxhQUFZLEdBQ2pCanpFLEtBQUtrekUsWUFBVyxHQUNoQmx6RSxLQUFLbXpFLFdBQVUsS0FHakJJLDBCQUEyQixXQUN6QixPQUFRdnpFLEtBQUt5eUUsVUFBYXp5RSxLQUFLMHlFLE9BQVMxeUUsS0FBSzR5RSxTQUFXNXlFLEtBQUsyeUUsUUFHL0RhLDZCQUE4QixXQUM1QixPQUFReHpFLEtBQUt5eUUsU0FBV3p5RSxLQUFLMHlFLE9BQVMxeUUsS0FBSzR5RSxTQUFXNXlFLEtBQUsyeUUsT0FDdkQsWUFDQSxJQUdOYyxxQkFBc0IsV0FDcEIsT0FBUXp6RSxLQUFLd3lFLFFBR2ZrQix5QkFBMEIsV0FDeEIsTUFBb0IsS0FBYjF6RSxLQUFLcXlFLElBQWEsWUFBU2x3RSxHQUdwQ3d4RSx3QkFBeUIsV0FDdkIsT0FBaUIsT0FBYjN6RSxLQUFLcXlFLElBQ0FyeUUsS0FBS3F5RSxJQUtHLEtBQWJyeUUsS0FBS295RSxJQUNBLEdBTU1weUUsS0FBS2d6RSxZQUFZaHpFLEtBQUtveUUsS0FFckJuakMsUUFBUSxXQUFZLElBQUl6cEMsTUFBTSxLQUFLZ0IsT0FHckRvdEUsa0JBQW1CLFdBQ2pCLFFBQVM1ekUsS0FBS3d5RSxRQUdoQnFCLGNBQWUsV0FDYjd6RSxLQUFLZ1AsTUFBTXNWLE1BQVF1K0IsTUFBTTdpRCxLQUFLc2tCLE9BQVN0a0IsS0FBS3NrQixNQUFRdGtCLEtBQUtza0IsTUFBUSxNQUduRXd2RCxlQUFnQixXQUNkOXpFLEtBQUtnUCxNQUFNdVYsT0FBU3MrQixNQUFNN2lELEtBQUt1a0IsUUFBVXZrQixLQUFLdWtCLE9BQVN2a0IsS0FBS3VrQixPQUFTLE1BR3ZFd3ZELG1CQUFvQixTQUFTM0IsRUFBS0csR0FDaEMsSUFBSXlCLEVBQWlCaDBFLEtBQUtnekUsWUFBWVosR0FDbEM0QixJQUFtQmgwRSxLQUFLNnlFLGVBSTVCN3lFLEtBQUs2eUUsYUFBZSxHQUNwQjd5RSxLQUFLMmxELEVBQUVvdEIsSUFBSXp0RSxnQkFBZ0IsT0FDM0J0RixLQUFLMmxELEVBQUUwdEIsWUFBWXJrRSxNQUFNc2tFLGdCQUFrQixHQUUvQixLQUFSbEIsR0FBY0csR0FDaEJ2eUUsS0FBS2l6RSxhQUFZLEdBQ2pCanpFLEtBQUtrekUsWUFBVyxHQUNoQmx6RSxLQUFLbXpFLFdBQVUsS0FFZm56RSxLQUFLNnlFLGFBQWVtQixFQUNwQmgwRSxLQUFLMmxELEVBQUVvdEIsSUFBSVgsSUFBTXB5RSxLQUFLNnlFLGFBQ3RCN3lFLEtBQUsybEQsRUFBRTB0QixZQUFZcmtFLE1BQU1za0UsZ0JBQ3JCLFFBQVV0ekUsS0FBSzZ5RSxhQUFlLEtBRWxDN3lFLEtBQUtpekUsYUFBWSxHQUNqQmp6RSxLQUFLa3pFLFlBQVcsR0FDaEJsekUsS0FBS216RSxXQUFVLE1BSW5CYyxvQkFBcUIsV0FDbkJqMEUsS0FBSzJsRCxFQUFFckMsWUFBWXQwQyxNQUFNc2tFLGdCQUNyQnR6RSxLQUFLc2pELFlBQWMsUUFBVXRqRCxLQUFLc2pELFlBQWMsS0FBTyxJQUc3RDR3QixrQkFBbUIsV0FDakIsSUFBSUMsRUFBbUJuMEUsS0FBSzJsRCxFQUFFMHRCLFlBQVlya0UsTUFDdENvbEUsRUFBbUJwMEUsS0FBSzJsRCxFQUFFckMsWUFBWXQwQyxNQUUxQ21sRSxFQUFpQkUsZUFBaUJELEVBQWlCQyxlQUMvQ3IwRSxLQUFLd3lFLE9BRVQyQixFQUFpQkcsbUJBQXFCRixFQUFpQkUsbUJBQ25EdDBFLEtBQUt3eUUsT0FBU3h5RSxLQUFLcWdCLFNBQVcsR0FFbEM4ekQsRUFBaUJJLGlCQUFtQkgsRUFBaUJHLGlCQUNqRHYwRSxLQUFLd3lFLE9BQVMsWUFBYyxJQUdsQ1EsWUFBYSxTQUFTd0IsR0FDcEIsSUFBSUMsRUFBV3o2QixHQUFXdzZCLEVBQVN4MEUsS0FBSzJsRCxFQUFFK3VCLGNBQWNwNkIsTUFVeEQsT0FOSW02QixFQUFTOXpFLFFBQVUsR0FBcUIsTUFBaEI4ekUsRUFBUyxJQUE4QixNQUFoQkEsRUFBUyxLQUcxREEsR0FBWWw2QixTQUFTeFIsUUFBVXdSLFNBQVNvNkIsU0FBVyxLQUFPcDZCLFNBQVMxaEMsTUFDL0Q0N0QsR0FFQ0E7Ozs7Ozs7Ozs7O0FDN1ZYLE1BQU0xdEUsR0FBV21CLEVBQUk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7aUJBaUVyQm5CLEdBQVN3QyxhQUFhLFFBQVMsa0JBQy9CeEYsU0FBUytuQixLQUFLamlCLFlBQVk5QyxHQUFTOUM7Ozs7Ozs7Ozs7O0FDN0NuQyxNQUFNOEMsR0FBV21CLEVBQUk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O2VBdUZyQm5CLEdBQVN3QyxhQUFhLFFBQVMsa0JBQy9CeEYsU0FBUytuQixLQUFLamlCLFlBQVk5QyxHQUFTOUM7Ozs7Ozs7Ozs7O0FDN0duQyxNQUFNOEMsR0FBV21CLEVBQUk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0VBb1VyQm5CLEdBQVN3QyxhQUFhLFFBQVMsa0JBQy9CeEYsU0FBUytuQixLQUFLamlCLFlBQVk5QyxHQUFTOUM7Ozs7Ozs7Ozs7O0FDbFVuQyxNQUFNOEMsR0FBV21CLEVBQUk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O2lCQXlEckJuQixHQUFTd0MsYUFBYSxRQUFTLGtCQUMvQnhGLFNBQVMrbkIsS0FBS2ppQixZQUFZOUMsR0FBUzlDOzs7Ozs7Ozs7OztBQ1ZuQ2czQyxHQUFRLENBQ05zWSxVQUFXcnJELEVBQUk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUFnR2Y2d0MsR0FBSSxhQUVKcm1DLFdBQVksQ0FJVmtpRSxRQUFTLENBQUNsdkUsS0FBTTFDLE9BQVE0RixNQUFPLEdBQUlvVSxTQUFVLG1CQUs3QzYzRCxNQUFPLENBQUNudkUsS0FBTTFDLE9BQVE0RixNQUFPLElBSzdCeXBFLElBQUssQ0FBQzNzRSxLQUFNMUMsUUFNWjh4RSxhQUFjLENBQUNwdkUsS0FBTXVLLFFBQVNySCxPQUFPLEdBTXJDbXNFLFVBQVcsQ0FBQ3J2RSxLQUFNdUssUUFBU3JILE9BQU8sR0FPbENvc0UsaUJBQWtCLENBQUN0dkUsS0FBTTFDLE9BQVE0RixNQUFPLE1BS3hDcXNFLFVBQVcsQ0FBQ3Z2RSxLQUFNMEssT0FBUXhILE1BQU8sRUFBR3dwRCxvQkFBb0IsR0FNeEQ4aUIsZUFBZ0IsQ0FBQ3h2RSxLQUFNdUssUUFBU3JILE9BQU8sR0FNdkN1c0UsU0FBVSxDQUNSenZFLEtBQU11SyxRQUNObWlELG9CQUFvQixFQUNwQmhTLFVBQVUsRUFDVjhSLFNBQVUscUNBUWRrakIsVUFBVyxTQUFTUCxHQUNsQixPQUFPQSxFQUFRLFFBQVUsUUFHM0JRLGdCQUFpQixTQUFTVCxHQUN4QixJQUFJVSxFQUFpQnQxRSxLQUFLcUYsYUFBYSxXQUNuQ2t3RSxFQUFldjFFLEtBQUtxRixhQUFhLGNBRVQsaUJBQWpCa3dFLEdBQTZCQSxJQUFpQkQsR0FDdkR0MUUsS0FBS3VKLGFBQWEsYUFBY3FyRSxJQUlwQ1kscUJBQXNCLFNBQVNYLEdBQzdCLE9BQU9BLEVBQVEsY0FBZ0IsSUFHakNZLGlCQUFrQixTQUFTUCxHQUN6QixPQUFPQSJ9
